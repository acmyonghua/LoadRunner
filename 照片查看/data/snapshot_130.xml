<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="130">
  <HTTPTask id="212" hostname="180.153.154.42" path="/Framework/Javascript/Other/photoControl/window1.js" url="http://180.153.154.42/Framework/Javascript/Other/photoControl/window1.js" ip="180.153.154.42" port="80" connectionId="26" origin="Primary" frame="1" startTime="95199828" endTime="95199906">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovLzE4MC4xNTMuMTU0LjQyL01vZHVsZS9WaXNpdGluZ0RhdGEvcGhvdG8vVGFza0RhdGFwaG90by5hc3B4P21pZD0zNjQ3MDM0My1kNjVkLTQ4ODMtYTRiNC0zYzdjYjdmMjM2NjgmVmlzaXRpbmdUYXNrSUQ9ZDkzODViZGMtNTMyZC00YTk0LWEzOTgtZGZmOWI1ZjdlZTRmJlZpc2l0aW5nVGFza1N0ZXBJRD1udWxsJlZpc2l0aW5nVGFza05hbWU9JXU1REU1JXU0RjVDJXU0RUZCJXU1MkExJlN0ZXBOYW1lPSV1OEZEQiV1NTFGQSV1NUU5Nw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>emgtQ04=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKGNvbXBhdGlibGU7IE1TSUUgOS4wOyBXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IFRyaWRlbnQvNS4wKQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTgwLjE1My4xNTQuNDI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Q0NDSktMRkFKVUlPUlc9azFNK0w5QlcrZHlBQlROdzF6d0p6UT09OyBDV1JXUUZBSktMVU9JTD0vdERYSmMvWVJ5dGx4N24vR0dnNmdnPT07IEFTUC5ORVRfU2Vzc2lvbklkPWI0aDEyaTBpNXBka211b3oycGJienN1aw==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9GcmFtZXdvcmsvSmF2YXNjcmlwdC9PdGhlci9waG90b0NvbnRyb2wvd2luZG93MS5qcyBIVFRQLzEuMQ0KQWNjZXB0OiBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCAqLyo7cT0wLjgNClJlZmVyZXI6IGh0dHA6Ly8xODAuMTUzLjE1NC40Mi9Nb2R1bGUvVmlzaXRpbmdEYXRhL3Bob3RvL1Rhc2tEYXRhcGhvdG8uYXNweD9taWQ9MzY0NzAzNDMtZDY1ZC00ODgzLWE0YjQtM2M3Y2I3ZjIzNjY4JlZpc2l0aW5nVGFza0lEPWQ5Mzg1YmRjLTUzMmQtNGE5NC1hMzk4LWRmZjliNWY3ZWU0ZiZWaXNpdGluZ1Rhc2tTdGVwSUQ9bnVsbCZWaXNpdGluZ1Rhc2tOYW1lPSV1NURFNSV1NEY1QyV1NEVGQiV1NTJBMSZTdGVwTmFtZT0ldThGREIldTUxRkEldTVFOTcNCkFjY2VwdC1MYW5ndWFnZTogemgtQ04NClVzZXItQWdlbnQ6IE1vemlsbGEvNS4wIChjb21wYXRpYmxlOyBNU0lFIDkuMDsgV2luZG93cyBOVCA2LjE7IFdPVzY0OyBUcmlkZW50LzUuMCkNCkFjY2VwdC1FbmNvZGluZzogZ3ppcCwgZGVmbGF0ZQ0KSG9zdDogMTgwLjE1My4xNTQuNDINCkNvbm5lY3Rpb246IEtlZXAtQWxpdmUNCkNvb2tpZTogQ0NDSktMRkFKVUlPUlc9azFNK0w5QlcrZHlBQlROdzF6d0p6UT09OyBDV1JXUUZBSktMVU9JTD0vdERYSmMvWVJ5dGx4N24vR0dnNmdnPT07IEFTUC5ORVRfU2Vzc2lvbklkPWI0aDEyaTBpNXBka211b3oycGJienN1aw0KDQo=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="CCCJKLFAJUIORW" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>azFNK0w5QlcrZHlBQlROdzF6d0p6UT09</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="CWRWQFAJKLUOIL" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>L3REWEpjL1lSeXRseDduL0dHZzZnZz09</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ASP.NET_SessionId" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>YjRoMTJpMGk1cGRrbXVvejJwYmJ6c3Vr</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Content-Type" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>U2F0LCAyMyBNYXIgMjAxMyAwODoyNDo0NiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ijk4MWFmYmUwOWYyN2NlMTowIg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>VHVlLCAwOSBKdWwgMjAxMyAwOTowNDowOSBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Length" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ODQxOQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL3gtamF2YXNjcmlwdA0KQ29udGVudC1FbmNvZGluZzogZ3ppcA0KTGFzdC1Nb2RpZmllZDogU2F0LCAyMyBNYXIgMjAxMyAwODoyNDo0NiBHTVQNCkFjY2VwdC1SYW5nZXM6IGJ5dGVzDQpFVGFnOiAiOTgxYWZiZTA5ZjI3Y2UxOjAiDQpWYXJ5OiBBY2NlcHQtRW5jb2RpbmcNClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KRGF0ZTogVHVlLCAwOSBKdWwgMjAxMyAwOTowNDowOSBHTVQNCkNvbnRlbnQtTGVuZ3RoOiA4NDE5DQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>dmFyIHN3Zm9iamVjdCA9IGZ1bmN0aW9uKCkgew0KCXZhciBEID0gInVuZGVmaW5lZCIsIHIgPSAib2JqZWN0IiwgUyA9ICJTaG9ja3dhdmUgRmxhc2giLCBXID0gIlNob2Nrd2F2ZUZsYXNoLlNob2Nrd2F2ZUZsYXNoIiwgcSA9ICJhcHBsaWNhdGlvbi94LXNob2Nrd2F2ZS1mbGFzaCIsIFIgPSAiU1dGT2JqZWN0RXhwckluc3QiLCB4ID0gIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIE8gPSB3aW5kb3csIGogPSBkb2N1bWVudCwgdCA9IG5hdmlnYXRvciwgVCA9IGZhbHNlLCBVID0gW2hdLCBvID0gW10sIE4gPSBbXSwgSSA9IFtdLCBsLCBRLCBFLCBCLCBKID0gZmFsc2UsIGEgPSBmYWxzZSwgbiwgRywgbSA9IHRydWUsIE0gPSBmdW5jdGlvbigpIHsNCgkJdmFyIGFhID0gdHlwZW9mIGouZ2V0RWxlbWVudEJ5SWQgIT0gRA0KCQkJCSYmIHR5cGVvZiBqLmdldEVsZW1lbnRzQnlUYWdOYW1lICE9IEQNCgkJCQkmJiB0eXBlb2Ygai5jcmVhdGVFbGVtZW50ICE9IEQsIGFoID0gdC51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSwgWSA9IHQucGxhdGZvcm0NCgkJCQkudG9Mb3dlckNhc2UoKSwgYWUgPSBZID8gL3dpbi8udGVzdChZKSA6IC93aW4vLnRlc3QoYWgpLCBhYyA9IFkNCgkJCQk/IC9tYWMvLnRlc3QoWSkNCgkJCQk6IC9tYWMvLnRlc3QoYWgpLCBhZiA9IC93ZWJraXQvLnRlc3QoYWgpID8gcGFyc2VGbG9hdChhaA0KCQkJCS5yZXBsYWNlKC9eLip3ZWJraXRcLyhcZCsoXC5cZCspPykuKiQvLCAiJDEiKSkgOiBmYWxzZSwgWCA9ICErIlx2MSIsIGFnID0gWw0KCQkJCTAsIDAsIDBdLCBhYiA9IG51bGw7DQoJCWlmICh0eXBlb2YgdC5wbHVnaW5zICE9IEQgJiYgdHlwZW9mIHQucGx1Z2luc1tTXSA9PSByKSB7DQoJCQlhYiA9IHQucGx1Z2luc1tTXS5kZXNjcmlwdGlvbjsNCgkJCWlmIChhYg0KCQkJCQkmJiAhKHR5cGVvZiB0Lm1pbWVUeXBlcyAhPSBEICYmIHQubWltZVR5cGVzW3FdICYmICF0Lm1pbWVUeXBlc1txXS5lbmFibGVkUGx1Z2luKSkgew0KCQkJCVQgPSB0cnVlOw0KCQkJCVggPSBmYWxzZTsNCgkJCQlhYiA9IGFiLnJlcGxhY2UoL14uKlxzKyhcUytccytcUyskKS8sICIkMSIpOw0KCQkJCWFnWzBdID0gcGFyc2VJbnQoYWIucmVwbGFjZSgvXiguKilcLi4qJC8sICIkMSIpLCAxMCk7DQoJCQkJYWdbMV0gPSBwYXJzZUludChhYi5yZXBsYWNlKC9eLipcLiguKilccy4qJC8sICIkMSIpLCAxMCk7DQoJCQkJYWdbMl0gPSAvW2EtekEtWl0vLnRlc3QoYWIpID8gcGFyc2VJbnQoYWIucmVwbGFjZSgNCgkJCQkJCQkJL14uKlthLXpBLVpdKyguKikkLywgIiQxIiksIDEwKSA6IDANCgkJCX0NCgkJfSBlbHNlIHsNCgkJCWlmICh0eXBlb2YgTy5BY3RpdmVYT2JqZWN0ICE9IEQpIHsNCgkJCQl0cnkgew0KCQkJCQl2YXIgYWQgPSBuZXcgQWN0aXZlWE9iamVjdChXKTsNCgkJCQkJaWYgKGFkKSB7DQoJCQkJCQlhYiA9IGFkLkdldFZhcmlhYmxlKCIkdmVyc2lvbiIpOw0KCQkJCQkJaWYgKGFiKSB7DQoJCQkJCQkJWCA9IHRydWU7DQoJCQkJCQkJYWIgPSBhYi5zcGxpdCgiICIpWzFdLnNwbGl0KCIsIik7DQoJCQkJCQkJYWcgPSBbcGFyc2VJbnQoYWJbMF0sIDEwKSwgcGFyc2VJbnQoYWJbMV0sIDEwKSwNCgkJCQkJCQkJCXBhcnNlSW50KGFiWzJdLCAxMCldDQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9IGNhdGNoIChaKSB7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCXJldHVybiB7DQoJCQl3MyA6IGFhLA0KCQkJcHYgOiBhZywNCgkJCXdrIDogYWYsDQoJCQlpZSA6IFgsDQoJCQl3aW4gOiBhZSwNCgkJCW1hYyA6IGFjDQoJCX0NCgl9KCksIGsgPSBmdW5jdGlvbigpIHsNCgkJaWYgKCFNLnczKSB7DQoJCQlyZXR1cm4NCgkJfQ0KCQlpZiAoKHR5cGVvZiBqLnJlYWR5U3RhdGUgIT0gRCAmJiBqLnJlYWR5U3RhdGUgPT0gImNvbXBsZXRlIikNCgkJCQl8fCAodHlwZW9mIGoucmVhZHlTdGF0ZSA9PSBEICYmIChqLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0gfHwgai5ib2R5KSkpIHsNCgkJCWYoKQ0KCQl9DQoJCWlmICghSikgew0KCQkJaWYgKHR5cGVvZiBqLmFkZEV2ZW50TGlzdGVuZXIgIT0gRCkgew0KCQkJCWouYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsIGYsIGZhbHNlKQ0KCQkJfQ0KCQkJaWYgKE0uaWUgJiYgTS53aW4pIHsNCgkJCQlqLmF0dGFjaEV2ZW50KHgsIGZ1bmN0aW9uKCkgew0KCQkJCQkJCWlmIChqLnJlYWR5U3RhdGUgPT0gImNvbXBsZXRlIikgew0KCQkJCQkJCQlqLmRldGFjaEV2ZW50KHgsIGFyZ3VtZW50cy5jYWxsZWUpOw0KCQkJCQkJCQlmKCkNCgkJCQkJCQl9DQoJCQkJCQl9KTsNCgkJCQlpZiAoTyA9PSB0b3ApIHsNCgkJCQkJKGZ1bmN0aW9uKCkgew0KCQkJCQkJaWYgKEopIHsNCgkJCQkJCQlyZXR1cm4NCgkJCQkJCX0NCgkJCQkJCXRyeSB7DQoJCQkJCQkJai5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoImxlZnQiKQ0KCQkJCQkJfSBjYXRjaCAoWCkgew0KCQkJCQkJCXNldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwgMCk7DQoJCQkJCQkJcmV0dXJuDQoJCQkJCQl9DQoJCQkJCQlmKCkNCgkJCQkJfSkoKQ0KCQkJCX0NCgkJCX0NCgkJCWlmIChNLndrKSB7DQoJCQkJKGZ1bmN0aW9uKCkgew0KCQkJCQlpZiAoSikgew0KCQkJCQkJcmV0dXJuDQoJCQkJCX0NCgkJCQkJaWYgKCEvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KGoucmVhZHlTdGF0ZSkpIHsNCgkJCQkJCXNldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwgMCk7DQoJCQkJCQlyZXR1cm4NCgkJCQkJfQ0KCQkJCQlmKCkNCgkJCQl9KSgpDQoJCQl9DQoJCQlzKGYpDQoJCX0NCgl9KCk7DQoJZnVuY3Rpb24gZigpIHsNCgkJaWYgKEopIHsNCgkJCXJldHVybg0KCQl9DQoJCXRyeSB7DQoJCQl2YXIgWiA9IGouZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXS5hcHBlbmRDaGlsZChDKCJzcGFuIikpOw0KCQkJWi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKFopDQoJCX0gY2F0Y2ggKGFhKSB7DQoJCQlyZXR1cm4NCgkJfQ0KCQlKID0gdHJ1ZTsNCgkJdmFyIFggPSBVLmxlbmd0aDsNCgkJZm9yICh2YXIgWSA9IDA7IFkgPCBYOyBZKyspIHsNCgkJCVVbWV0oKQ0KCQl9DQoJfQ0KCWZ1bmN0aW9uIEsoWCkgew0KCQlpZiAoSikgew0KCQkJWCgpDQoJCX0gZWxzZSB7DQoJCQlVW1UubGVuZ3RoXSA9IFgNCgkJfQ0KCX0NCglmdW5jdGlvbiBzKFkpIHsNCgkJaWYgKHR5cGVvZiBPLmFkZEV2ZW50TGlzdGVuZXIgIT0gRCkgew0KCQkJTy5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgWSwgZmFsc2UpDQoJCX0gZWxzZSB7DQoJCQlpZiAodHlwZW9mIGouYWRkRXZlbnRMaXN0ZW5lciAhPSBEKSB7DQoJCQkJai5hZGRFdmVudExpc3RlbmVyKCJsb2FkIiwgWSwgZmFsc2UpDQoJCQl9IGVsc2Ugew0KCQkJCWlmICh0eXBlb2YgTy5hdHRhY2hFdmVudCAhPSBEKSB7DQoJCQkJCWkoTywgIm9ubG9hZCIsIFkpDQoJCQkJfSBlbHNlIHsNCgkJCQkJaWYgKHR5cGVvZiBPLm9ubG9hZCA9PSAiZnVuY3Rpb24iKSB7DQoJCQkJCQl2YXIgWCA9IE8ub25sb2FkOw0KCQkJCQkJTy5vbmxvYWQgPSBmdW5jdGlvbigpIHsNCgkJCQkJCQlYKCk7DQoJCQkJCQkJWSgpDQoJCQkJCQl9DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQlPLm9ubG9hZCA9IFkNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0NCglmdW5jdGlvbiBoKCkgew0KCQlpZiAoVCkgew0KCQkJVigpDQoJCX0gZWxzZSB7DQoJCQlIKCkNCgkJfQ0KCX0NCglmdW5jdGlvbiBWKCkgew0KCQl2YXIgWCA9IGouZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKVswXTsNCgkJdmFyIGFhID0gQyhyKTsNCgkJYWEuc2V0QXR0cmlidXRlKCJ0eXBlIiwgcSk7DQoJCXZhciBaID0gWC5hcHBlbmRDaGlsZChhYSk7DQoJCWlmIChaKSB7DQoJCQl2YXIgWSA9IDA7DQoJCQkoZnVuY3Rpb24oKSB7DQoJCQkJaWYgKHR5cGVvZiBaLkdldFZhcmlhYmxlICE9IEQpIHsNCgkJCQkJdmFyIGFiID0gWi5HZXRWYXJpYWJsZSgiJHZlcnNpb24iKTsNCgkJCQkJaWYgKGFiKSB7DQoJCQkJCQlhYiA9IGFiLnNwbGl0KCIgIilbMV0uc3BsaXQoIiwiKTsNCgkJCQkJCU0ucHYgPSBbcGFyc2VJbnQoYWJbMF0sIDEwKSwgcGFyc2VJbnQoYWJbMV0sIDEwKSwNCgkJCQkJCQkJcGFyc2VJbnQoYWJbMl0sIDEwKV0NCgkJCQkJfQ0KCQkJCX0gZWxzZSB7DQoJCQkJCWlmIChZIDwgMTApIHsNCgkJCQkJCVkrKzsNCgkJCQkJCXNldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwgMTApOw0KCQkJCQkJcmV0dXJuDQoJCQkJCX0NCgkJCQl9DQoJCQkJWC5yZW1vdmVDaGlsZChhYSk7DQoJCQkJWiA9IG51bGw7DQoJCQkJSCgpDQoJCQl9KSgpDQoJCX0gZWxzZSB7DQoJCQlIKCkNCgkJfQ0KCX0NCglmdW5jdGlvbiBIKCkgew0KCQl2YXIgYWcgPSBvLmxlbmd0aDsNCgkJaWYgKGFnID4gMCkgew0KCQkJZm9yICh2YXIgYWYgPSAwOyBhZiA8IGFnOyBhZisrKSB7DQoJCQkJdmFyIFkgPSBvW2FmXS5pZDsNCgkJCQl2YXIgYWIgPSBvW2FmXS5jYWxsYmFja0ZuOw0KCQkJCXZhciBhYSA9IHsNCgkJCQkJc3VjY2VzcyA6IGZhbHNlLA0KCQkJCQlpZCA6IFkNCgkJCQl9Ow0KCQkJCWlmIChNLnB2WzBdID4gMCkgew0KCQkJCQl2YXIgYWUgPSBjKFkpOw0KCQkJCQlpZiAoYWUpIHsNCgkJCQkJCWlmIChGKG9bYWZdLnN3ZlZlcnNpb24pICYmICEoTS53ayAmJiBNLndrIDwgMzEyKSkgew0KCQkJCQkJCXcoWSwgdHJ1ZSk7DQoJCQkJCQkJaWYgKGFiKSB7DQoJCQkJCQkJCWFhLnN1Y2Nlc3MgPSB0cnVlOw0KCQkJCQkJCQlhYS5yZWYgPSB6KFkpOw0KCQkJCQkJCQlhYihhYSkNCgkJCQkJCQl9DQoJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCWlmIChvW2FmXS5leHByZXNzSW5zdGFsbCAmJiBBKCkpIHsNCgkJCQkJCQkJdmFyIGFpID0ge307DQoJCQkJCQkJCWFpLmRhdGEgPSBvW2FmXS5leHByZXNzSW5zdGFsbDsNCgkJCQkJCQkJYWkud2lkdGggPSBhZS5nZXRBdHRyaWJ1dGUoIndpZHRoIikgfHwgIjAiOw0KCQkJCQkJCQlhaS5oZWlnaHQgPSBhZS5nZXRBdHRyaWJ1dGUoImhlaWdodCIpIHx8ICIwIjsNCgkJCQkJCQkJaWYgKGFlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKSkgew0KCQkJCQkJCQkJYWkuc3R5bGVjbGFzcyA9IGFlLmdldEF0dHJpYnV0ZSgiY2xhc3MiKQ0KCQkJCQkJCQl9DQoJCQkJCQkJCWlmIChhZS5nZXRBdHRyaWJ1dGUoImFsaWduIikpIHsNCgkJCQkJCQkJCWFpLmFsaWduID0gYWUuZ2V0QXR0cmlidXRlKCJhbGlnbiIpDQoJCQkJCQkJCX0NCgkJCQkJCQkJdmFyIGFoID0ge307DQoJCQkJCQkJCXZhciBYID0gYWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInBhcmFtIik7DQoJCQkJCQkJCXZhciBhYyA9IFgubGVuZ3RoOw0KCQkJCQkJCQlmb3IgKHZhciBhZCA9IDA7IGFkIDwgYWM7IGFkKyspIHsNCgkJCQkJCQkJCWlmIChYW2FkXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKQ0KCQkJCQkJCQkJCQkudG9Mb3dlckNhc2UoKSAhPSAibW92aWUiKSB7DQoJCQkJCQkJCQkJYWhbWFthZF0uZ2V0QXR0cmlidXRlKCJuYW1lIildID0gWFthZF0NCgkJCQkJCQkJCQkJCS5nZXRBdHRyaWJ1dGUoInZhbHVlIikNCgkJCQkJCQkJCX0NCgkJCQkJCQkJfQ0KCQkJCQkJCQlQKGFpLCBhaCwgWSwgYWIpDQoJCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQkJcChhZSk7DQoJCQkJCQkJCWlmIChhYikgew0KCQkJCQkJCQkJYWIoYWEpDQoJCQkJCQkJCX0NCgkJCQkJCQl9DQoJCQkJCQl9DQoJCQkJCX0NCgkJCQl9IGVsc2Ugew0KCQkJCQl3KFksIHRydWUpOw0KCQkJCQlpZiAoYWIpIHsNCgkJCQkJCXZhciBaID0geihZKTsNCgkJCQkJCWlmIChaICYmIHR5cGVvZiBaLlNldFZhcmlhYmxlICE9IEQpIHsNCgkJCQkJCQlhYS5zdWNjZXNzID0gdHJ1ZTsNCgkJCQkJCQlhYS5yZWYgPSBaDQoJCQkJCQl9DQoJCQkJCQlhYihhYSkNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJfQ0KCX0NCglmdW5jdGlvbiB6KGFhKSB7DQoJCXZhciBYID0gbnVsbDsNCgkJdmFyIFkgPSBjKGFhKTsNCgkJaWYgKFkgJiYgWS5ub2RlTmFtZSA9PSAiT0JKRUNUIikgew0KCQkJaWYgKHR5cGVvZiBZLlNldFZhcmlhYmxlICE9IEQpIHsNCgkJCQlYID0gWQ0KCQkJfSBlbHNlIHsNCgkJCQl2YXIgWiA9IFkuZ2V0RWxlbWVudHNCeVRhZ05hbWUocilbMF07DQoJCQkJaWYgKFopIHsNCgkJCQkJWCA9IFoNCgkJCQl9DQoJCQl9DQoJCX0NCgkJcmV0dXJuIFgNCgl9DQoJZnVuY3Rpb24gQSgpIHsNCgkJcmV0dXJuICFhICYmIEYoIjYuMC42NSIpICYmIChNLndpbiB8fCBNLm1hYykgJiYgIShNLndrICYmIE0ud2sgPCAzMTIpDQoJfQ0KCWZ1bmN0aW9uIFAoYWEsIGFiLCBYLCBaKSB7DQoJCWEgPSB0cnVlOw0KCQlFID0gWiB8fCBudWxsOw0KCQlCID0gew0KCQkJc3VjY2VzcyA6IGZhbHNlLA0KCQkJaWQgOiBYDQoJCX07DQoJCXZhciBhZSA9IGMoWCk7DQoJCWlmIChhZSkgew0KCQkJaWYgKGFlLm5vZGVOYW1lID09ICJPQkpFQ1QiKSB7DQoJCQkJbCA9IGcoYWUpOw0KCQkJCVEgPSBudWxsDQoJCQl9IGVsc2Ugew0KCQkJCWwgPSBhZTsNCgkJCQlRID0gWA0KCQkJfQ0KCQkJYWEuaWQgPSBSOw0KCQkJaWYgKHR5cGVvZiBhYS53aWR0aCA9PSBEDQoJCQkJCXx8ICghLyUkLy50ZXN0KGFhLndpZHRoKSAmJiBwYXJzZUludChhYS53aWR0aCwgMTApIDwgMzEwKSkgew0KCQkJCWFhLndpZHRoID0gIjMxMCINCgkJCX0NCgkJCWlmICh0eXBlb2YgYWEuaGVpZ2h0ID09IEQNCgkJCQkJfHwgKCEvJSQvLnRlc3QoYWEuaGVpZ2h0KSAmJiBwYXJzZUludChhYS5oZWlnaHQsIDEwKSA8IDEzNykpIHsNCgkJCQlhYS5oZWlnaHQgPSAiMTM3Ig0KCQkJfQ0KCQkJai50aXRsZSA9IGoudGl0bGUuc2xpY2UoMCwgNDcpICsgIiAtIEZsYXNoIFBsYXllciBJbnN0YWxsYXRpb24iOw0KCQkJdmFyIGFkID0gTS5pZSAmJiBNLndpbiA/ICJBY3RpdmVYIiA6ICJQbHVnSW4iLCBhYyA9ICJNTXJlZGlyZWN0VVJMPSINCgkJCQkJKyBPLmxvY2F0aW9uLnRvU3RyaW5nKCkucmVwbGFjZSgvJi9nLCAiJTI2IikNCgkJCQkJKyAiJk1NcGxheWVyVHlwZT0iICsgYWQgKyAiJk1NZG9jdGl0bGU9IiArIGoudGl0bGU7DQoJCQlpZiAodHlwZW9mIGFiLmZsYXNodmFycyAhPSBEKSB7DQoJCQkJYWIuZmxhc2h2YXJzICs9ICImIiArIGFjDQoJCQl9IGVsc2Ugew0KCQkJCWFiLmZsYXNodmFycyA9IGFjDQoJCQl9DQoJCQlpZiAoTS5pZSAmJiBNLndpbiAmJiBhZS5yZWFkeVN0YXRlICE9IDQpIHsNCgkJCQl2YXIgWSA9IEMoImRpdiIpOw0KCQkJCVggKz0gIlNXRk9iamVjdE5ldyI7DQoJCQkJWS5zZXRBdHRyaWJ1dGUoImlkIiwgWCk7DQoJCQkJYWUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoWSwgYWUpOw0KCQkJCWFlLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCQkJKGZ1bmN0aW9uKCkgew0KCQkJCQlpZiAoYWUucmVhZHlTdGF0ZSA9PSA0KSB7DQoJCQkJCQlhZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGFlKQ0KCQkJCQl9IGVsc2Ugew0KCQkJCQkJc2V0VGltZW91dChhcmd1bWVudHMuY2FsbGVlLCAxMCkNCgkJCQkJfQ0KCQkJCX0pKCkNCgkJCX0NCgkJCXUoYWEsIGFiLCBYKQ0KCQl9DQoJfQ0KCWZ1bmN0aW9uIHAoWSkgew0KCQlpZiAoTS5pZSAmJiBNLndpbiAmJiBZLnJlYWR5U3RhdGUgIT0gNCkgew0KCQkJdmFyIFggPSBDKCJkaXYiKTsNCgkJCVkucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoWCwgWSk7DQoJCQlYLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGcoWSksIFgpOw0KCQkJWS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOw0KCQkJKGZ1bmN0aW9uKCkgew0KCQkJCWlmIChZLnJlYWR5U3RhdGUgPT0gNCkgew0KCQkJCQlZLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoWSkNCgkJCQl9IGVsc2Ugew0KCQkJCQlzZXRUaW1lb3V0KGFyZ3VtZW50cy5jYWxsZWUsIDEwKQ0KCQkJCX0NCgkJCX0pKCkNCgkJfSBlbHNlIHsNCgkJCVkucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoZyhZKSwgWSkNCgkJfQ0KCX0NCglmdW5jdGlvbiBnKGFiKSB7DQoJCXZhciBhYSA9IEMoImRpdiIpOw0KCQlpZiAoTS53aW4gJiYgTS5pZSkgew0KCQkJYWEuaW5uZXJIVE1MID0gYWIuaW5uZXJIVE1MDQoJCX0gZWxzZSB7DQoJCQl2YXIgWSA9IGFiLmdldEVsZW1lbnRzQnlUYWdOYW1lKHIpWzBdOw0KCQkJaWYgKFkpIHsNCgkJCQl2YXIgYWQgPSBZLmNoaWxkTm9kZXM7DQoJCQkJaWYgKGFkKSB7DQoJCQkJCXZhciBYID0gYWQubGVuZ3RoOw0KCQkJCQlmb3IgKHZhciBaID0gMDsgWiA8IFg7IForKykgew0KCQkJCQkJaWYgKCEoYWRbWl0ubm9kZVR5cGUgPT0gMSAmJiBhZFtaXS5ub2RlTmFtZSA9PSAiUEFSQU0iKQ0KCQkJCQkJCQkmJiAhKGFkW1pdLm5vZGVUeXBlID09IDgpKSB7DQoJCQkJCQkJYWEuYXBwZW5kQ2hpbGQoYWRbWl0uY2xvbmVOb2RlKHRydWUpKQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCXJldHVybiBhYQ0KCX0NCglmdW5jdGlvbiB1KGFpLCBhZywgWSkgew0KCQl2YXIgWCwgYWEgPSBjKFkpOw0KCQlpZiAoTS53ayAmJiBNLndrIDwgMzEyKSB7DQoJCQlyZXR1cm4gWA0KCQl9DQoJCWlmIChhYSkgew0KCQkJaWYgKHR5cGVvZiBhaS5pZCA9PSBEKSB7DQoJCQkJYWkuaWQgPSBZDQoJCQl9DQoJCQlpZiAoTS5pZSAmJiBNLndpbikgew0KCQkJCXZhciBhaCA9ICIiOw0KCQkJCWZvciAodmFyIGFlIGluIGFpKSB7DQoJCQkJCWlmIChhaVthZV0gIT0gT2JqZWN0LnByb3RvdHlwZVthZV0pIHsNCgkJCQkJCWlmIChhZS50b0xvd2VyQ2FzZSgpID09ICJkYXRhIikgew0KCQkJCQkJCWFnLm1vdmllID0gYWlbYWVdDQoJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCWlmIChhZS50b0xvd2VyQ2FzZSgpID09ICJzdHlsZWNsYXNzIikgew0KCQkJCQkJCQlhaCArPSAnIGNsYXNzPSInICsgYWlbYWVdICsgJyInDQoJCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQkJaWYgKGFlLnRvTG93ZXJDYXNlKCkgIT0gImNsYXNzaWQiKSB7DQoJCQkJCQkJCQlhaCArPSAiICIgKyBhZSArICc9IicgKyBhaVthZV0gKyAnIicNCgkJCQkJCQkJfQ0KCQkJCQkJCX0NCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCQl2YXIgYWYgPSAiIjsNCgkJCQlmb3IgKHZhciBhZCBpbiBhZykgew0KCQkJCQlpZiAoYWdbYWRdICE9IE9iamVjdC5wcm90b3R5cGVbYWRdKSB7DQoJCQkJCQlhZiArPSAnPHBhcmFtIG5hbWU9IicgKyBhZCArICciIHZhbHVlPSInICsgYWdbYWRdDQoJCQkJCQkJCSsgJyIgLz4nDQoJCQkJCX0NCgkJCQl9DQoJCQkJYWEub3V0ZXJIVE1MID0gJzxvYmplY3QgY2xhc3NpZD0iY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIicNCgkJCQkJCSsgYWggKyAiPiIgKyBhZiArICI8L29iamVjdD4iOw0KCQkJCU5bTi5sZW5ndGhdID0gYWkuaWQ7DQoJCQkJWCA9IGMoYWkuaWQpDQoJCQl9IGVsc2Ugew0KCQkJCXZhciBaID0gQyhyKTsNCgkJCQlaLnNldEF0dHJpYnV0ZSgidHlwZSIsIHEpOw0KCQkJCWZvciAodmFyIGFjIGluIGFpKSB7DQoJCQkJCWlmIChhaVthY10gIT0gT2JqZWN0LnByb3RvdHlwZVthY10pIHsNCgkJCQkJCWlmIChhYy50b0xvd2VyQ2FzZSgpID09ICJzdHlsZWNsYXNzIikgew0KCQkJCQkJCVouc2V0QXR0cmlidXRlKCJjbGFzcyIsIGFpW2FjXSkNCgkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJaWYgKGFjLnRvTG93ZXJDYXNlKCkgIT0gImNsYXNzaWQiKSB7DQoJCQkJCQkJCVouc2V0QXR0cmlidXRlKGFjLCBhaVthY10pDQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJCWZvciAodmFyIGFiIGluIGFnKSB7DQoJCQkJCWlmIChhZ1thYl0gIT0gT2JqZWN0LnByb3RvdHlwZVthYl0NCgkJCQkJCQkmJiBhYi50b0xvd2VyQ2FzZSgpICE9ICJtb3ZpZSIpIHsNCgkJCQkJCWUoWiwgYWIsIGFnW2FiXSkNCgkJCQkJfQ0KCQkJCX0NCgkJCQlhYS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChaLCBhYSk7DQoJCQkJWCA9IFoNCgkJCX0NCgkJfQ0KCQlyZXR1cm4gWA0KCX0NCglmdW5jdGlvbiBlKFosIFgsIFkpIHsNCgkJdmFyIGFhID0gQygicGFyYW0iKTsNCgkJYWEuc2V0QXR0cmlidXRlKCJuYW1lIiwgWCk7DQoJCWFhLnNldEF0dHJpYnV0ZSgidmFsdWUiLCBZKTsNCgkJWi5hcHBlbmRDaGlsZChhYSkNCgl9DQoJZnVuY3Rpb24geShZKSB7DQoJCXZhciBYID0gYyhZKTsNCgkJaWYgKFggJiYgWC5ub2RlTmFtZSA9PSAiT0JKRUNUIikgew0KCQkJaWYgKE0uaWUgJiYgTS53aW4pIHsNCgkJCQlYLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQoJCQkJKGZ1bmN0aW9uKCkgew0KCQkJCQlpZiAoWC5yZWFkeVN0YXRlID09IDQpIHsNCgkJCQkJCWIoWSkNCgkJCQkJfSBlbHNlIHsNCgkJCQkJCXNldFRpbWVvdXQoYXJndW1lbnRzLmNhbGxlZSwgMTApDQoJCQkJCX0NCgkJCQl9KSgpDQoJCQl9IGVsc2Ugew0KCQkJCVgucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChYKQ0KCQkJfQ0KCQl9DQoJfQ0KCWZ1bmN0aW9uIGIoWikgew0KCQl2YXIgWSA9IGMoWik7DQoJCWlmIChZKSB7DQoJCQlmb3IgKHZhciBYIGluIFkpIHsNCgkJCQlpZiAodHlwZW9mIFlbWF0gPT0gImZ1bmN0aW9uIikgew0KCQkJCQlZW1hdID0gbnVsbA0KCQkJCX0NCgkJCX0NCgkJCVkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChZKQ0KCQl9DQoJfQ0KCWZ1bmN0aW9uIGMoWikgew0KCQl2YXIgWCA9IG51bGw7DQoJCXRyeSB7DQoJCQlYID0gai5nZXRFbGVtZW50QnlJZChaKQ0KCQl9IGNhdGNoIChZKSB7DQoJCX0NCgkJcmV0dXJuIFgNCgl9DQoJZnVuY3Rpb24gQyhYKSB7DQoJCXJldHVybiBqLmNyZWF0ZUVsZW1lbnQoWCkNCgl9DQoJZnVuY3Rpb24gaShaLCBYLCBZKSB7DQoJCVouYXR0YWNoRXZlbnQoWCwgWSk7DQoJCUlbSS5sZW5ndGhdID0gW1osIFgsIFldDQoJfQ0KCWZ1bmN0aW9uIEYoWikgew0KCQl2YXIgWSA9IE0ucHYsIFggPSBaLnNwbGl0KCIuIik7DQoJCVhbMF0gPSBwYXJzZUludChYWzBdLCAxMCk7DQoJCVhbMV0gPSBwYXJzZUludChYWzFdLCAxMCkgfHwgMDsNCgkJWFsyXSA9IHBhcnNlSW50KFhbMl0sIDEwKSB8fCAwOw0KCQlyZXR1cm4gKFlbMF0gPiBYWzBdIHx8IChZWzBdID09IFhbMF0gJiYgWVsxXSA+IFhbMV0pIHx8IChZWzBdID09IFhbMF0NCgkJCQkmJiBZWzFdID09IFhbMV0gJiYgWVsyXSA+PSBYWzJdKSkgPyB0cnVlIDogZmFsc2UNCgl9DQoJZnVuY3Rpb24gdihhYywgWSwgYWQsIGFiKSB7DQoJCWlmIChNLmllICYmIE0ubWFjKSB7DQoJCQlyZXR1cm4NCgkJfQ0KCQl2YXIgYWEgPSBqLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF07DQoJCWlmICghYWEpIHsNCgkJCXJldHVybg0KCQl9DQoJCXZhciBYID0gKGFkICYmIHR5cGVvZiBhZCA9PSAic3RyaW5nIikgPyBhZCA6ICJzY3JlZW4iOw0KCQlpZiAoYWIpIHsNCgkJCW4gPSBudWxsOw0KCQkJRyA9IG51bGwNCgkJfQ0KCQlpZiAoIW4gfHwgRyAhPSBYKSB7DQoJCQl2YXIgWiA9IEMoInN0eWxlIik7DQoJCQlaLnNldEF0dHJpYnV0ZSgidHlwZSIsICJ0ZXh0L2NzcyIpOw0KCQkJWi5zZXRBdHRyaWJ1dGUoIm1lZGlhIiwgWCk7DQoJCQluID0gYWEuYXBwZW5kQ2hpbGQoWik7DQoJCQlpZiAoTS5pZSAmJiBNLndpbiAmJiB0eXBlb2Ygai5zdHlsZVNoZWV0cyAhPSBEDQoJCQkJCSYmIGouc3R5bGVTaGVldHMubGVuZ3RoID4gMCkgew0KCQkJCW4gPSBqLnN0eWxlU2hlZXRzW2ouc3R5bGVTaGVldHMubGVuZ3RoIC0gMV0NCgkJCX0NCgkJCUcgPSBYDQoJCX0NCgkJaWYgKE0uaWUgJiYgTS53aW4pIHsNCgkJCWlmIChuICYmIHR5cGVvZiBuLmFkZFJ1bGUgPT0gcikgew0KCQkJCW4uYWRkUnVsZShhYywgWSkNCgkJCX0NCgkJfSBlbHNlIHsNCgkJCWlmIChuICYmIHR5cGVvZiBqLmNyZWF0ZVRleHROb2RlICE9IEQpIHsNCgkJCQluLmFwcGVuZENoaWxkKGouY3JlYXRlVGV4dE5vZGUoYWMgKyAiIHsiICsgWSArICJ9IikpDQoJCQl9DQoJCX0NCgl9DQoJZnVuY3Rpb24gdyhaLCBYKSB7DQoJCWlmICghbSkgew0KCQkJcmV0dXJuDQoJCX0NCgkJdmFyIFkgPSBYID8gInZpc2libGUiIDogImhpZGRlbiI7DQoJCWlmIChKICYmIGMoWikpIHsNCgkJCWMoWikuc3R5bGUudmlzaWJpbGl0eSA9IFkNCgkJfSBlbHNlIHsNCgkJCXYoIiMiICsgWiwgInZpc2liaWxpdHk6IiArIFkpDQoJCX0NCgl9DQoJZnVuY3Rpb24gTChZKSB7DQoJCXZhciBaID0gL1tcXFwiPD5cLjtdLzsNCgkJdmFyIFggPSBaLmV4ZWMoWSkgIT0gbnVsbDsNCgkJcmV0dXJuIFggJiYgdHlwZW9mIGVuY29kZVVSSUNvbXBvbmVudCAhPSBEID8gZW5jb2RlVVJJQ29tcG9uZW50KFkpIDogWQ0KCX0NCgl2YXIgZCA9IGZ1bmN0aW9uKCkgew0KCQlpZiAoTS5pZSAmJiBNLndpbikgew0KCQkJd2luZG93LmF0dGFjaEV2ZW50KCJvbnVubG9hZCIsIGZ1bmN0aW9uKCkgew0KCQkJCQkJdmFyIGFjID0gSS5sZW5ndGg7DQoJCQkJCQlmb3IgKHZhciBhYiA9IDA7IGFiIDwgYWM7IGFiKyspIHsNCgkJCQkJCQlJW2FiXVswXS5kZXRhY2hFdmVudChJW2FiXVsxXSwgSVthYl1bMl0pDQoJCQkJCQl9DQoJCQkJCQl2YXIgWiA9IE4ubGVuZ3RoOw0KCQkJCQkJZm9yICh2YXIgYWEgPSAwOyBhYSA8IFo7IGFhKyspIHsNCgkJCQkJCQl5KE5bYWFdKQ0KCQkJCQkJfQ0KCQkJCQkJZm9yICh2YXIgWSBpbiBNKSB7DQoJCQkJCQkJTVtZXSA9IG51bGwNCgkJCQkJCX0NCgkJCQkJCU0gPSBudWxsOw0KCQkJCQkJZm9yICh2YXIgWCBpbiBzd2ZvYmplY3QpIHsNCgkJCQkJCQlzd2ZvYmplY3RbWF0gPSBudWxsDQoJCQkJCQl9DQoJCQkJCQlzd2ZvYmplY3QgPSBudWxsDQoJCQkJCX0pDQoJCX0NCgl9KCk7DQoJcmV0dXJuIHsNCgkJcmVnaXN0ZXJPYmplY3QgOiBmdW5jdGlvbihhYiwgWCwgYWEsIFopIHsNCgkJCWlmIChNLnczICYmIGFiICYmIFgpIHsNCgkJCQl2YXIgWSA9IHt9Ow0KCQkJCVkuaWQgPSBhYjsNCgkJCQlZLnN3ZlZlcnNpb24gPSBYOw0KCQkJCVkuZXhwcmVzc0luc3RhbGwgPSBhYTsNCgkJCQlZLmNhbGxiYWNrRm4gPSBaOw0KCQkJCW9bby5sZW5ndGhdID0gWTsNCgkJCQl3KGFiLCBmYWxzZSkNCgkJCX0gZWxzZSB7DQoJCQkJaWYgKFopIHsNCgkJCQkJWih7DQoJCQkJCQkJCXN1Y2Nlc3MgOiBmYWxzZSwNCgkJCQkJCQkJaWQgOiBhYg0KCQkJCQkJCX0pDQoJCQkJfQ0KCQkJfQ0KCQl9LA0KCQlnZXRPYmplY3RCeUlkIDogZnVuY3Rpb24oWCkgew0KCQkJaWYgKE0udzMpIHsNCgkJCQlyZXR1cm4geihYKQ0KCQkJfQ0KCQl9LA0KCQllbWJlZFNXRiA6IGZ1bmN0aW9uKGFiLCBhaCwgYWUsIGFnLCBZLCBhYSwgWiwgYWQsIGFmLCBhYykgew0KCQkJdmFyIFggPSB7DQoJCQkJc3VjY2VzcyA6IGZhbHNlLA0KCQkJCWlkIDogYWgNCgkJCX07DQoJCQlpZiAoTS53MyAmJiAhKE0ud2sgJiYgTS53ayA8IDMxMikgJiYgYWIgJiYgYWggJiYgYWUgJiYgYWcgJiYgWSkgew0KCQkJCXcoYWgsIGZhbHNlKTsNCgkJCQlLKGZ1bmN0aW9uKCkgew0KCQkJCQkJCWFlICs9ICIiOw0KCQkJCQkJCWFnICs9ICIiOw0KCQkJCQkJCXZhciBhaiA9IHt9Ow0KCQkJCQkJCWlmIChhZiAmJiB0eXBlb2YgYWYgPT09IHIpIHsNCgkJCQkJCQkJZm9yICh2YXIgYWwgaW4gYWYpIHsNCgkJCQkJCQkJCWFqW2FsXSA9IGFmW2FsXQ0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJCWFqLmRhdGEgPSBhYjsNCgkJCQkJCQlhai53aWR0aCA9IGFlOw0KCQkJCQkJCWFqLmhlaWdodCA9IGFnOw0KCQkJCQkJCXZhciBhbSA9IHt9Ow0KCQkJCQkJCWlmIChhZCAmJiB0eXBlb2YgYWQgPT09IHIpIHsNCgkJCQkJCQkJZm9yICh2YXIgYWsgaW4gYWQpIHsNCgkJCQkJCQkJCWFtW2FrXSA9IGFkW2FrXQ0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJCWlmIChaICYmIHR5cGVvZiBaID09PSByKSB7DQoJCQkJCQkJCWZvciAodmFyIGFpIGluIFopIHsNCgkJCQkJCQkJCWlmICh0eXBlb2YgYW0uZmxhc2h2YXJzICE9IEQpIHsNCgkJCQkJCQkJCQlhbS5mbGFzaHZhcnMgKz0gIiYiICsgYWkgKyAiPSIgKyBaW2FpXQ0KCQkJCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQkJCQlhbS5mbGFzaHZhcnMgPSBhaSArICI9IiArIFpbYWldDQoJCQkJCQkJCQl9DQoJCQkJCQkJCX0NCgkJCQkJCQl9DQoJCQkJCQkJaWYgKEYoWSkpIHsNCgkJCQkJCQkJdmFyIGFuID0gdShhaiwgYW0sIGFoKTsNCgkJCQkJCQkJaWYgKGFqLmlkID09IGFoKSB7DQoJCQkJCQkJCQl3KGFoLCB0cnVlKQ0KCQkJCQkJCQl9DQoJCQkJCQkJCVguc3VjY2VzcyA9IHRydWU7DQoJCQkJCQkJCVgucmVmID0gYW4NCgkJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCQlpZiAoYWEgJiYgQSgpKSB7DQoJCQkJCQkJCQlhai5kYXRhID0gYWE7DQoJCQkJCQkJCQlQKGFqLCBhbSwgYWgsIGFjKTsNCgkJCQkJCQkJCXJldHVybg0KCQkJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCQkJdyhhaCwgdHJ1ZSkNCgkJCQkJCQkJfQ0KCQkJCQkJCX0NCgkJCQkJCQlpZiAoYWMpIHsNCgkJCQkJCQkJYWMoWCkNCgkJCQkJCQl9DQoJCQkJCQl9KQ0KCQkJfSBlbHNlIHsNCgkJCQlpZiAoYWMpIHsNCgkJCQkJYWMoWCkNCgkJCQl9DQoJCQl9DQoJCX0sDQoJCXN3aXRjaE9mZkF1dG9IaWRlU2hvdyA6IGZ1bmN0aW9uKCkgew0KCQkJbSA9IGZhbHNlDQoJCX0sDQoJCXVhIDogTSwNCgkJZ2V0Rmxhc2hQbGF5ZXJWZXJzaW9uIDogZnVuY3Rpb24oKSB7DQoJCQlyZXR1cm4gew0KCQkJCW1ham9yIDogTS5wdlswXSwNCgkJCQltaW5vciA6IE0ucHZbMV0sDQoJCQkJcmVsZWFzZSA6IE0ucHZbMl0NCgkJCX0NCgkJfSwNCgkJaGFzRmxhc2hQbGF5ZXJWZXJzaW9uIDogRiwNCgkJY3JlYXRlU1dGIDogZnVuY3Rpb24oWiwgWSwgWCkgew0KCQkJaWYgKE0udzMpIHsNCgkJCQlyZXR1cm4gdShaLCBZLCBYKQ0KCQkJfSBlbHNlIHsNCgkJCQlyZXR1cm4gdW5kZWZpbmVkDQoJCQl9DQoJCX0sDQoJCXNob3dFeHByZXNzSW5zdGFsbCA6IGZ1bmN0aW9uKFosIGFhLCBYLCBZKSB7DQoJCQlpZiAoTS53MyAmJiBBKCkpIHsNCgkJCQlQKFosIGFhLCBYLCBZKQ0KCQkJfQ0KCQl9LA0KCQlyZW1vdmVTV0YgOiBmdW5jdGlvbihYKSB7DQoJCQlpZiAoTS53Mykgew0KCQkJCXkoWCkNCgkJCX0NCgkJfSwNCgkJY3JlYXRlQ1NTIDogZnVuY3Rpb24oYWEsIFosIFksIFgpIHsNCgkJCWlmIChNLnczKSB7DQoJCQkJdihhYSwgWiwgWSwgWCkNCgkJCX0NCgkJfSwNCgkJYWRkRG9tTG9hZEV2ZW50IDogSywNCgkJYWRkTG9hZEV2ZW50IDogcywNCgkJZ2V0UXVlcnlQYXJhbVZhbHVlIDogZnVuY3Rpb24oYWEpIHsNCgkJCXZhciBaID0gai5sb2NhdGlvbi5zZWFyY2ggfHwgai5sb2NhdGlvbi5oYXNoOw0KCQkJaWYgKFopIHsNCgkJCQlpZiAoL1w/Ly50ZXN0KFopKSB7DQoJCQkJCVogPSBaLnNwbGl0KCI/IilbMV0NCgkJCQl9DQoJCQkJaWYgKGFhID09IG51bGwpIHsNCgkJCQkJcmV0dXJuIEwoWikNCgkJCQl9DQoJCQkJdmFyIFkgPSBaLnNwbGl0KCImIik7DQoJCQkJZm9yICh2YXIgWCA9IDA7IFggPCBZLmxlbmd0aDsgWCsrKSB7DQoJCQkJCWlmIChZW1hdLnN1YnN0cmluZygwLCBZW1hdLmluZGV4T2YoIj0iKSkgPT0gYWEpIHsNCgkJCQkJCXJldHVybiBMKFlbWF0uc3Vic3RyaW5nKChZW1hdLmluZGV4T2YoIj0iKSArIDEpKSkNCgkJCQkJfQ0KCQkJCX0NCgkJCX0NCgkJCXJldHVybiAiIg0KCQl9LA0KCQlleHByZXNzSW5zdGFsbENhbGxiYWNrIDogZnVuY3Rpb24oKSB7DQoJCQlpZiAoYSkgew0KCQkJCXZhciBYID0gYyhSKTsNCgkJCQlpZiAoWCAmJiBsKSB7DQoJCQkJCVgucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobCwgWCk7DQoJCQkJCWlmIChRKSB7DQoJCQkJCQl3KFEsIHRydWUpOw0KCQkJCQkJaWYgKE0uaWUgJiYgTS53aW4pIHsNCgkJCQkJCQlsLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siDQoJCQkJCQl9DQoJCQkJCX0NCgkJCQkJaWYgKEUpIHsNCgkJCQkJCUUoQikNCgkJCQkJfQ0KCQkJCX0NCgkJCQlhID0gZmFsc2UNCgkJCX0NCgkJfQ0KCX0NCn0oKTsNCg0KRXh0LmRlZmluZSgnRXh0LndpbmRvdy5DdXN0b21lcldpbmRvdycsIHsNCiAgICBleHRlbmQ6ICdFeHQud2luZG93LldpbmRvdycsDQogICAgYWxpYXM6ICd3aWRnZXQubXl3aW5kb3cnLA0KICAgIHBhZ2V1cmw6ICcnLA0KICAgIGhpZGVCb3JkZXJzOiB0cnVlLA0KICAgIGZsYXNoOiBmYWxzZSwNCiAgICBnZXREYXRhczogRXh0LmVtcHR5Rm4sDQogICAgZGF0YXM6IFtdLA0KICAgIGJ1dHRvbkFsaWduOiAnY2VudGVyJywNCiAgICBmbGFzaDogZmFsc2UsDQogICAgdHVybkJhcjogZmFsc2UsDQogICAgaW1hZ2VJZDogJycsDQogICAgZXJySW1hZ2VVcmw6ICcvRnJhbWV3b3JrL0phdmFzY3JpcHQvT3RoZXIvcGhvdG9Db250cm9sL3Bob3RvSW1nL25vX3BpY3R1cmUuanBnJywNCiAgICBkZWdyZWU6IFswLCA5MCwgMTgwLCAyNzBdLA0KICAgIGRlZ3JlZUluZGV4OiAwLA0KICAgIGRhdGFJbmRleDogMCwNCiAgICBhdXRvQ2hhbmdlOiBmYWxzZSwNCiAgICBsZWZ0QWN0aW9uOiBmdW5jdGlvbiAoKSB7DQogICAgICAgIHZhciBpbmRleCA9IHRoaXMuZGF0YUluZGV4Ow0KICAgICAgICBpZiAoaW5kZXggPT0gMCkgew0KICAgICAgICAgICAgaW5kZXggPSB0aGlzLmRhdGFzLmxlbmd0aCAtIDE7DQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICBpbmRleCA9IGluZGV4IC0gMTsNCiAgICAgICAgfQ0KICAgICAgICB0aGlzLmRhdGFJbmRleCA9IGluZGV4Ow0KICAgICAgICB0aGlzLnBpY29iaiA9IHRoaXMuZGF0YXNbaW5kZXhdOw0KICAgICAgICB0aGlzLmh0bWwgPSBpbmRleCArIDEgKyAiLyIgKyB0aGlzLmRhdGFzLmxlbmd0aDsNCg0KICAgICAgICBFeHQuZ2V0KCdudW1iZXJwaWN0dXJlJykuZG9tLmlubmVySFRNTCA9IHRoaXMuaHRtbDsNCiAgICAgICAgdGhpcy5jaGFuZ2UodGhpcy5waWNvYmopOw0KICAgIH0sDQogICAgcmlnaHRBY3Rpb246IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5kYXRhSW5kZXg7DQogICAgICAgIGlmIChpbmRleCA9PSAodGhpcy5kYXRhcy5sZW5ndGggLSAxKSkgew0KICAgICAgICAgICAgaW5kZXggPSAwOw0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgaW5kZXggPSBpbmRleCArIDE7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5kYXRhSW5kZXggPSBpbmRleDsNCiAgICAgICAgdGhpcy5waWNvYmogPSB0aGlzLmRhdGFzW2luZGV4XTsNCg0KICAgICAgICB2YXIgZGF0YXMgPSB0aGlzLmRhdGFzOw0KICAgICAgICB0aGlzLmh0bWwgPSBpbmRleCArIDEgKyAiLyIgKyB0aGlzLmRhdGFzLmxlbmd0aDsNCg0KICAgICAgICBFeHQuZ2V0KCdudW1iZXJwaWN0dXJlJykuZG9tLmlubmVySFRNTCA9IHRoaXMuaHRtbDsNCiAgICAgICAgdGhpcy5jaGFuZ2UodGhpcy5waWNvYmopOw0KICAgIH0sDQogICAgbG9hZEltZzogZnVuY3Rpb24gKG9iaikgew0KDQogICAgfSwNCiAgICBsb2FkQWN0aW9uOiBmdW5jdGlvbiAob2JqKSB7DQogICAgICAgIHRoaXMucHAucmVtb3ZlQWxsKHRydWUpOw0KICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmRhdGFJbmRleDsNCiAgICAgICAgdmFyIG9iaiA9IHRoaXMucGljb2JqOw0KICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5oaWRkZW5GaWVsZC5kb20uaGVpZ2h0Ow0KICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmhpZGRlbkZpZWxkLmRvbS53aWR0aDsNCiAgICAgICAgaWYgKEV4dC5pc0lFKSB7DQogICAgICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7DQogICAgICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodCArIDEwMDsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsNCiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0ICsgNTA7DQogICAgICAgIH0NCiAgICAgICAgdmFyIHNpemUgPSBFeHQuZ2V0Qm9keSgpLmdldFZpZXdTaXplKCk7DQogICAgICAgIGlmICh0aGlzLndpZHRoID4gc2l6ZS53aWR0aCkgew0KICAgICAgICAgICAgdGhpcy53aWR0aCA9IHNpemUud2lkdGg7DQogICAgICAgIH0NCiAgICAgICAgaWYgKHRoaXMuaGVpZ2h0ID4gc2l6ZS5oZWlnaHQpIHsNCiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0Ow0KICAgICAgICB9DQogICAgICAgIHZhciBtYWlucCA9IEV4dC5jcmVhdGUoJ0V4dC5kcmF3LkNvbXBvbmVudCcsIHsNCiAgICAgICAgICAgIHZpZXdCb3g6IHRydWUsDQogICAgICAgICAgICBmcmFtZTogZmFsc2UsDQogICAgICAgICAgICByZWdpb246ICdjZW50ZXInLA0KICAgICAgICAgICAgYXV0b1NpemU6IHRydWUsDQogICAgICAgICAgICBpZDogJ3NuYXBweScsDQogICAgICAgICAgICBpdGVtczogW3sNCiAgICAgICAgICAgICAgICB0eXBlOiAnaW1hZ2UnLA0KICAgICAgICAgICAgICAgIHNyYzogb2JqLnVybCwNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCwNCiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsDQogICAgICAgICAgICAgICAgcm90YXRlOiB7DQogICAgICAgICAgICAgICAgICAgIGRlZ3JlZXM6IDM2MA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH1dDQogICAgICAgIH0pOw0KICAgICAgICB0aGlzLnBwLmFkZChtYWlucCk7DQogICAgICAgIHRoaXMuc2V0V2lkdGgodGhpcy53aWR0aCk7DQogICAgICAgIHRoaXMuc2V0SGVpZ2h0KHRoaXMuaGVpZ2h0KTsNCiAgICAgICAgdGhpcy5zZXRUaXRsZShvYmoubmFtZSk7DQogICAgICAgIHRoaXMuY2VudGVyKCk7DQogICAgfSwNCiAgICBjaGFuZ2U6IGZ1bmN0aW9uIChvYmopIHsNCiAgICAgICAgdGhpcy5oaWRkZW5GaWVsZC5kb20uc3JjID0gb2JqLnVybDsNCiAgICB9LA0KICAgIHBpY3R1cmU6IGZhbHNlLA0KICAgIHNldFBhZ2U6IGZ1bmN0aW9uICh1cmwsIHRpdGxlKSB7DQogICAgICAgIHRoaXMucmVtb3ZlQWxsKCk7DQogICAgICAgIHRoaXMuYWRkKEV4dC5jcmVhdGUoJ0V4dC5wYW5lbC5QYW5lbCcsIHsNCiAgICAgICAgICAgIGJvcmRlcjogZmFsc2UsDQogICAgICAgICAgICBmcmFtZTogdHJ1ZSwNCiAgICAgICAgICAgIGh0bWw6ICc8aWZyYW1lIGZyYW1lQm9yZGVyPTAgbmFtZT0iX19mcm1EYXRhUG9wV2luZG93IiAgd2lkdGg9JyArIHRoaXMud2lkdGgudG9TdHJpbmcoKSArICdweCBoZWlnaHQ9JyArIHRoaXMuaGVpZ2h0LnRvU3RyaW5nKCkgKyAncHggc3JjPScNCgkJCQkJCSsgdXJsICsgJz48L2lmcmFtZT4nDQogICAgICAgIH0pKTsNCiAgICAgICAgdGhpcy5zZXRUaXRsZSh0aXRsZSk7DQogICAgfSwNCiAgICBzZXREYXRhczogZnVuY3Rpb24gKHBEYXRhcykgew0KICAgICAgICB0aGlzLmRhdGFzID0gcERhdGFzOw0KICAgICAgICB2YXIgZCA9IG5ldyBBcnJheSgpOw0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBEYXRhcy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgZC5wdXNoKHBEYXRhc1tpXSk7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy53ZXN0Lml0ZW1zLml0ZW1zWzBdLnN0b3JlLmxvYWREYXRhKGQsIGZhbHNlKTsNCiAgICB9LA0KICAgIGluaXRDb21wb25lbnQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgdmFyIG1lID0gdGhpczsNCiAgICAgICAgaWYgKG1lLnBhZ2V1cmwpIHsNCiAgICAgICAgICAgIHZhciB1cmwgPSBtZS5wYWdldXJsOw0KICAgICAgICAgICAgbWUubGF5b3V0ID0gJ2ZpdCc7DQogICAgICAgICAgICBtZS5pdGVtcyA9IFt7DQogICAgICAgICAgICAgICAgYm9yZGVyOiBmYWxzZSwNCiAgICAgICAgICAgICAgICBmcmFtZTogdHJ1ZSwNCiAgICAgICAgICAgICAgICB0eXBlOiAncGFuZWwnLA0KICAgICAgICAgICAgICAgIGh0bWw6ICc8aWZyYW1lIG5hbWU9Il9fZnJtRGF0YVBvcFdpbmRvdyIgZnJhbWVCb3JkZXI9MCB3aWR0aD0nICsgdGhpcy53aWR0aC50b1N0cmluZygpICsgJ3B4IGhlaWdodD0nICsgdGhpcy5oZWlnaHQudG9TdHJpbmcoKSArICdweCBzcmM9Jw0KCQkJCQkJCQkJKyB1cmwgKyAnPjwvaWZyYW1lPicNCiAgICAgICAgICAgIH1dOw0KICAgICAgICAgICAgdGhpcy5vbignaGlkZScsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICB2YXIgY29udHJvbF9wb3BXaW5kb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5TmFtZSgnX19mcm1EYXRhUG9wV2luZG93Jyk7DQogICAgICAgICAgICAgICAgY29udHJvbF9wb3BXaW5kb3cuaXRlbSgpLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7DQogICAgICAgICAgICB9LCB0aGlzKTsNCg0KICAgICAgICB9DQogICAgICAgIGlmIChtZS5waWN0dXJlKSB7DQogICAgICAgICAgICB2YXIgb2JqID0gdGhpcy5kYXRhc1swXTsNCiAgICAgICAgICAgIHRoaXMudGl0bGUgPSBvYmoubmFtZTsNCiAgICAgICAgICAgIG1lLmxheW91dCA9ICdmaXQnOw0KICAgICAgICAgICAgdGhpcy5oaWRkZW5GaWVsZCA9IEV4dC5nZXQodGhpcy5pbWFnZUlkKTsNCg0KICAgICAgICAgICAgdGhpcy5oaWRkZW5GaWVsZC5vbignbG9hZCcsIHRoaXMubG9hZEFjdGlvbiwgdGhpcyk7DQogICAgICAgICAgICB0aGlzLm9uKCdzaG93JywgZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgIHRoaXMuaHRtbCA9IHRoaXMuZGF0YUluZGV4ICsgMSArICIvIg0KCQkJCQkJCQkJKyB0aGlzLmRhdGFzLmxlbmd0aDsNCiAgICAgICAgICAgICAgICBFeHQuZ2V0KCdudW1iZXJwaWN0dXJlJykuZG9tLmlubmVySFRNTCA9IHRoaXMuaHRtbDsNCiAgICAgICAgICAgICAgICB0aGlzLnBpY29iaiA9IHRoaXMuZGF0YXNbdGhpcy5kYXRhSW5kZXhdOw0KICAgICAgICAgICAgICAgIHRoaXMuaGlkZGVuRmllbGQuZG9tLnNyYyA9IHRoaXMuZGF0YXNbdGhpcy5kYXRhSW5kZXhdLnVybDsNCiAgICAgICAgICAgIH0sIHRoaXMpOw0KDQogICAgICAgICAgICB0aGlzLmhpZGRlbkZpZWxkLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmh0bWwgPSB0aGlzLmRhdGFJbmRleCArIDEgKyAiLyINCgkJCQkJCQkJKyB0aGlzLmRhdGFzLmxlbmd0aDsNCiAgICAgICAgICAgICAgICBFeHQuZ2V0KCdudW1iZXJwaWN0dXJlJykuZG9tLmlubmVySFRNTCA9IHRoaXMuaHRtbDsNCiAgICAgICAgICAgICAgICB0aGlzLnBpY29iai51cmwgPSB0aGlzLmVyckltYWdlVXJsOw0KICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlKHRoaXMucGljb2JqKTsNCiAgICAgICAgICAgIH0sIHRoaXMpOw0KDQogICAgICAgICAgICB0aGlzLnBwID0gRXh0LmNyZWF0ZSgnRXh0LnBhbmVsLlBhbmVsJywgew0KICAgICAgICAgICAgICAgIGJvcmRlcjogZmFsc2UsDQogICAgICAgICAgICAgICAgbGF5b3V0OiAnZml0JywNCiAgICAgICAgICAgICAgICBpdGVtczogW10sDQogICAgICAgICAgICAgICAgcmVnaW9uOiAnY2VudGVyJw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHZhciBzdG9yZSA9IEV4dC5jcmVhdGUoJ0V4dC5kYXRhLlN0b3JlJywgew0KICAgICAgICAgICAgICAgIGZpZWxkczogW3sgbmFtZTogJ25hbWUnLCB0eXBlOiAnc3RyaW5nJyB9LCB7IG5hbWU6ICd1cmwnLCB0eXBlOiAnc3RyaW5nJ31dDQoJCQkJCQksIGF1dG9Mb2FkOiB0cnVlDQoJCQkJCQksIGRhdGE6IHRoaXMuZGF0YXMNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgbWUud2VzdCA9IEV4dC5jcmVhdGUoJ0V4dC5wYW5lbC5QYW5lbCcsIHsNCiAgICAgICAgICAgICAgICBib3JkZXI6IGZhbHNlLA0KICAgICAgICAgICAgICAgIHJlZ2lvbjogJ25vcnRoJywNCiAgICAgICAgICAgICAgICBoZWlnaHQ6IDUwLCAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpdGVtczogWw0KCQkJCQkJCXsNCgkJCQkJCQkgICAgeHR5cGU6ICdpbWFnZXZpZXcnDQoJCQkJCQkJCSwgc3RvcmU6IHN0b3JlDQoJCQkJCQkJfQ0KCQkJCQkJXQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBtZS53ZXN0Lml0ZW1zLml0ZW1zWzBdLm9uKCdpdGVtY2xpY2snLCBmdW5jdGlvbiAodmlldywgcmVjb3JkLCBpdGVtLCBpbmRleCwgZSwgb3B0aW9ucykgew0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIG1lLmRhdGFJbmRleCA9IGluZGV4Ow0KICAgICAgICAgICAgICAgIG1lLmh0bWwgPSBtZS5kYXRhSW5kZXggKyAxICsgIi8iDQoJCQkJCQkJCQkrIG1lLmRhdGFzLmxlbmd0aDsNCiAgICAgICAgICAgICAgICBFeHQuZ2V0KCdudW1iZXJwaWN0dXJlJykuZG9tLmlubmVySFRNTCA9IG1lLmh0bWw7DQogICAgICAgICAgICAgICAgbWUucGljb2JqLnVybCA9IHJlY29yZC5kYXRhLnVybDsNCiAgICAgICAgICAgICAgICBtZS5jaGFuZ2UobWUucGljb2JqKTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICB2YXIgaHRtbCA9ICc8ZGl2IGFsaWduPSJjZW50ZXIiIGlkPSJudW1iZXJwaWN0dXJlIj4nICsgMSArICIvIg0KCQkJCQkrIHRoaXMuZGF0YXMubGVuZ3RoICsgJzwvZGl2Pic7DQogICAgICAgICAgICBtZS5lYXN0ID0gRXh0LmNyZWF0ZSgnRXh0LnBhbmVsLlBhbmVsJywgew0KICAgICAgICAgICAgICAgIGJvcmRlcjogZmFsc2UsDQogICAgICAgICAgICAgICAgaHRtbDogaHRtbCwNCiAgICAgICAgICAgICAgICByZWdpb246ICdzb3V0aCcsDQogICAgICAgICAgICAgICAgaGVpZ2h0OiAyMA0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIG1lLml0ZW1zID0gW3sNCiAgICAgICAgICAgICAgICB4dHlwZTogJ3BhbmVsJywNCiAgICAgICAgICAgICAgICBsYXlvdXQ6ICdib3JkZXInLA0KICAgICAgICAgICAgICAgIGJvcmRlcjogZmFsc2UsDQogICAgICAgICAgICAgICAgaXRlbXM6IFt0aGlzLnBwLCBtZS53ZXN0LCBtZS5lYXN0XSwNCiAgICAgICAgICAgICAgICByZWdpb246ICdjZW50ZXInDQogICAgICAgICAgICB9XTsNCiAgICAgICAgICAgIGlmICh0aGlzLnR1cm5CYXIpIHsNCiAgICAgICAgICAgICAgICBpZiAodGhpcy50dXJuQmFyID09ICdib29sYmFyJykgew0KICAgICAgICAgICAgICAgICAgICBtZS5yYiA9IEV4dC5jcmVhdGUoJ0V4dC5zbGlkZXIuU2luZ2xlJywgew0KICAgICAgICAgICAgICAgICAgICAgICAgaGlkZUxhYmVsOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoIC0gMTUsDQogICAgICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZTogMCwNCiAgICAgICAgICAgICAgICAgICAgICAgIG1heFZhbHVlOiAzNjAsDQogICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogMzE1LA0KICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXJzOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlOiBmdW5jdGlvbiAoc2xpZGVyLCB2YWx1ZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3ByaXRlID0gRXh0LmdldENtcCgnc25hcHB5Jykuc3VyZmFjZS5pdGVtcw0KCQkJCQkJCQkJCQkJLmZpcnN0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZS5zZXRBdHRyaWJ1dGVzKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0aW9uOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVncmVlczogdmFsdWUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgbWUuYmJhciA9IFttZS5yYl07DQogICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnR1cm5CYXIgPT0gJ2J1dHRvbicpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aCAvIDIgLSAxMA0KICAgICAgICAgICAgICAgICAgICBtZS5iYmFyID0gW3sNCiAgICAgICAgICAgICAgICAgICAgICAgIHh0eXBlOiAnYnV0dG9uJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6ICfkuIrkuIDlvKAnLA0KICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6IHRoaXMsDQogICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnL0ZyYW1ld29yay9KYXZhc2NyaXB0L090aGVyL3Bob3RvQ29udHJvbC9waG90b0ltZy9hcnJvd19sZWZ0LnBuZycsDQogICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiB0aGlzLmxlZnRBY3Rpb24sDQogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIH0sICctJywgJy0+JywgJy0nLCB7DQogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn5peL6L2sJywNCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICcvRnJhbWV3b3JrL0phdmFzY3JpcHQvT3RoZXIvcGhvdG9Db250cm9sL3Bob3RvSW1nL2Y1LnBuZycsDQogICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwcml0ZSA9IEV4dC5nZXRDbXAoJ3NuYXBweScpLnN1cmZhY2UuaXRlbXMNCgkJCQkJCQkJCQkJLmZpcnN0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVncmVlSW5kZXggPCB0aGlzLmRlZ3JlZS5sZW5ndGgNCgkJCQkJCQkJCQkJLSAxKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVncmVlSW5kZXggPSB0aGlzLmRlZ3JlZUluZGV4ICsgMTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZ3JlZUluZGV4ID0gMDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlZ3JlZSA9IHRoaXMuZGVncmVlW3RoaXMuZGVncmVlSW5kZXhdOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ByaXRlLnNldEF0dHJpYnV0ZXMoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGlvbjogew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVncmVlczogZGVncmVlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCB0cnVlKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiB0aGlzDQogICAgICAgICAgICAgICAgICAgIH0sICctJywgJy0+JywgJy0nLCB7DQogICAgICAgICAgICAgICAgICAgICAgICB4dHlwZTogJ2J1dHRvbicsDQogICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiAn5LiL5LiA5bygJywNCiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICcvRnJhbWV3b3JrL0phdmFzY3JpcHQvT3RoZXIvcGhvdG9Db250cm9sL3Bob3RvSW1nL2Fycm93X3JpZ2h0LnBuZycsDQogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICAgICAgc2NvcGU6IHRoaXMsDQogICAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVyOiB0aGlzLnJpZ2h0QWN0aW9uDQogICAgICAgICAgICAgICAgICAgIH1dDQoNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICBpZiAodGhpcy5hdXRvQ2hhbmdlKSB7DQoNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy5mbGFzaCkgew0KICAgICAgICAgICAgdGhpcy5sYXlvdXQgPSAnZml0JzsNCiAgICAgICAgICAgIHZhciB1cmwgPSB0aGlzLmZsYXNoVXJsOw0KICAgICAgICAgICAgdGhpcy5pdGVtcyA9IFt7DQogICAgICAgICAgICAgICAgeHR5cGU6ICdwYW5lbCcsDQogICAgICAgICAgICAgICAgaXRlbXM6IFt7DQogICAgICAgICAgICAgICAgICAgIGl0ZW1zOiB7DQogICAgICAgICAgICAgICAgICAgICAgICB4dHlwZTogJ2ZsYXNoJywNCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLA0KICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCAtIDUwLA0KICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH1dDQogICAgICAgICAgICB9XTsNCiAgICAgICAgfQ0KICAgICAgICBtZS5jYWxsUGFyZW50KCk7DQogICAgfQ0KfSk7DQo=</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>