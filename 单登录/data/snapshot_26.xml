<?xml version="1.0" encoding="utf-8"?>
<HTTPSnapshot xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" id="26">
  <HTTPTask id="48" hostname="180.153.154.42" path="/Lib/Javascript/Ext4.1.0/ext-all.js" url="http://180.153.154.42/Lib/Javascript/Ext4.1.0/ext-all.js" ip="180.153.154.42" port="80" connectionId="1" origin="Primary" frame="1" startTime="168378821" endTime="168378899">
    <HTTPRequest method="GET">
      <HTTPHeaders>
        <HTTPHeaderEntity name="Accept" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24vamF2YXNjcmlwdCwgKi8qO3E9MC44</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Referer" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>aHR0cDovLzE4MC4xNTMuMTU0LjQyL2RlZmF1bHQuYXNweA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Language" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>emgtQ04=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="User-Agent" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TW96aWxsYS81LjAgKGNvbXBhdGlibGU7IE1TSUUgOS4wOyBXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IFRyaWRlbnQvNS4wKQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Encoding" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcCwgZGVmbGF0ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Host" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>MTgwLjE1My4xNTQuNDI=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Connection" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>S2VlcC1BbGl2ZQ==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Cookie" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Q0NDSktMRkFKVUlPUlc9azFNK0w5QlcrZHlBQlROdzF6d0p6UT09OyBDV1JXUUZBSktMVU9JTD0vdERYSmMvWVJ5dGx4N24vR0dnNmdnPT07IEFTUC5ORVRfU2Vzc2lvbklkPW92b3dzYjR2a2JhbXR5ZHlwbmIyMWdjcg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>R0VUIC9MaWIvSmF2YXNjcmlwdC9FeHQ0LjEuMC9leHQtYWxsLmpzIEhUVFAvMS4xDQpBY2NlcHQ6IGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsICovKjtxPTAuOA0KUmVmZXJlcjogaHR0cDovLzE4MC4xNTMuMTU0LjQyL2RlZmF1bHQuYXNweA0KQWNjZXB0LUxhbmd1YWdlOiB6aC1DTg0KVXNlci1BZ2VudDogTW96aWxsYS81LjAgKGNvbXBhdGlibGU7IE1TSUUgOS4wOyBXaW5kb3dzIE5UIDYuMTsgV09XNjQ7IFRyaWRlbnQvNS4wKQ0KQWNjZXB0LUVuY29kaW5nOiBnemlwLCBkZWZsYXRlDQpIb3N0OiAxODAuMTUzLjE1NC40Mg0KQ29ubmVjdGlvbjogS2VlcC1BbGl2ZQ0KQ29va2llOiBDQ0NKS0xGQUpVSU9SVz1rMU0rTDlCVytkeUFCVE53MXp3SnpRPT07IENXUldRRkFKS0xVT0lMPS90RFhKYy9ZUnl0bHg3bi9HR2c2Z2c9PTsgQVNQLk5FVF9TZXNzaW9uSWQ9b3Zvd3NiNHZrYmFtdHlkeXBuYjIxZ2NyDQoNCg==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
        <HTTPCookies>
          <HTTPHeaderEntity name="CCCJKLFAJUIORW" index="0">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>azFNK0w5QlcrZHlBQlROdzF6d0p6UT09</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="CWRWQFAJKLUOIL" index="1">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>L3REWEpjL1lSeXRseDduL0dHZzZnZz09</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
          <HTTPHeaderEntity name="ASP.NET_SessionId" index="2">
            <HTTPDataSet>
              <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
                <ActualData>b3Zvd3NiNHZrYmFtdHlkeXBuYjIxZ2Ny</ActualData>
              </HTTPData>
            </HTTPDataSet>
            <IsExternalData>false</IsExternalData>
          </HTTPHeaderEntity>
        </HTTPCookies>
      </HTTPHeaders>
    </HTTPRequest>
    <HTTPResponse>
      <HTTPHeaders>
        <HTTPHeaderEntity name="Transfer-Encoding" index="0">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Y2h1bmtlZA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Type" index="1">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>YXBwbGljYXRpb24veC1qYXZhc2NyaXB0</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Content-Encoding" index="2">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Z3ppcA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Last-Modified" index="3">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAyMCBGZWIgMjAxMyAwMjozNTozNCBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Accept-Ranges" index="4">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>Ynl0ZXM=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="ETag" index="5">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>ImU4OGI2MGY1MTJmY2UxOjAi</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Vary" index="6">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QWNjZXB0LUVuY29kaW5n</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Server" index="7">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>TWljcm9zb2Z0LUlJUy83LjU=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="X-Powered-By" index="8">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>QVNQLk5FVA==</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPHeaderEntity name="Date" index="9">
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>V2VkLCAxMCBKdWwgMjAxMyAwNToyMzo0NiBHTVQ=</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPHeaderEntity>
        <HTTPAllHeaders>
          <HTTPDataSet>
            <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
              <ActualData>SFRUUC8xLjEgMjAwIE9LDQpUcmFuc2Zlci1FbmNvZGluZzogY2h1bmtlZA0KQ29udGVudC1UeXBlOiBhcHBsaWNhdGlvbi94LWphdmFzY3JpcHQNCkNvbnRlbnQtRW5jb2Rpbmc6IGd6aXANCkxhc3QtTW9kaWZpZWQ6IFdlZCwgMjAgRmViIDIwMTMgMDI6MzU6MzQgR01UDQpBY2NlcHQtUmFuZ2VzOiBieXRlcw0KRVRhZzogImU4OGI2MGY1MTJmY2UxOjAiDQpWYXJ5OiBBY2NlcHQtRW5jb2RpbmcNClNlcnZlcjogTWljcm9zb2Z0LUlJUy83LjUNClgtUG93ZXJlZC1CeTogQVNQLk5FVA0KRGF0ZTogV2VkLCAxMCBKdWwgMjAxMyAwNToyMzo0NiBHTVQNCg0K</ActualData>
            </HTTPData>
          </HTTPDataSet>
          <IsExternalData>false</IsExternalData>
        </HTTPAllHeaders>
      </HTTPHeaders>
      <HTTPBody>
        <HTTPDataSet>
          <HTTPData dataFilePath="" dfeDataType="Raw" sectionDataType="1">
            <ActualData>LyoKVGhpcyBmaWxlIGlzIHBhcnQgb2YgRXh0IEpTIDQuMQoKQ29weXJpZ2h0IChjKSAyMDExLTIwMTIgU2VuY2hhIEluYwoKQ29udGFjdDogIGh0dHA6Ly93d3cuc2VuY2hhLmNvbS9jb250YWN0CgpDb21tZXJjaWFsIFVzYWdlCkxpY2Vuc2VlcyBob2xkaW5nIHZhbGlkIGNvbW1lcmNpYWwgbGljZW5zZXMgbWF5IHVzZSB0aGlzIGZpbGUgaW4gYWNjb3JkYW5jZSB3aXRoIHRoZSBDb21tZXJjaWFsClNvZnR3YXJlIExpY2Vuc2UgQWdyZWVtZW50IHByb3ZpZGVkIHdpdGggdGhlIFNvZnR3YXJlIG9yLCBhbHRlcm5hdGl2ZWx5LCBpbiBhY2NvcmRhbmNlIHdpdGggdGhlCnRlcm1zIGNvbnRhaW5lZCBpbiBhIHdyaXR0ZW4gYWdyZWVtZW50IGJldHdlZW4geW91IGFuZCBTZW5jaGEuCgpJZiB5b3UgYXJlIHVuc3VyZSB3aGljaCBsaWNlbnNlIGlzIGFwcHJvcHJpYXRlIGZvciB5b3VyIHVzZSwgcGxlYXNlIGNvbnRhY3QgdGhlIHNhbGVzIGRlcGFydG1lbnQKYXQgaHR0cDovL3d3dy5zZW5jaGEuY29tL2NvbnRhY3QuCgpCdWlsZCBkYXRlOiAyMDEyLTA0LTIwIDE0OjEwOjQ3ICgxOWY1NWFiOTMyMTQ1YTM0NDNiMjI4MDQ1ZmE4MDk1MGRmZWFmOWNjKQoqLwp2YXIgRXh0PUV4dHx8e307RXh0Ll9zdGFydFRpbWU9bmV3IERhdGUoKS5nZXRUaW1lKCk7KGZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxhPU9iamVjdC5wcm90b3R5cGUsaj1hLnRvU3RyaW5nLGI9dHJ1ZSxnPXt0b1N0cmluZzoxfSxlPWZ1bmN0aW9uKCl7fSxkPWZ1bmN0aW9uKCl7dmFyIGk9ZC5jYWxsZXIuY2FsbGVyO3JldHVybiBpLiRvd25lci5wcm90b3R5cGVbaS4kbmFtZV0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjO0V4dC5nbG9iYWw9aDtmb3IoYyBpbiBnKXtiPW51bGx9aWYoYil7Yj1bImhhc093blByb3BlcnR5IiwidmFsdWVPZiIsImlzUHJvdG90eXBlT2YiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInRvTG9jYWxlU3RyaW5nIiwidG9TdHJpbmciLCJjb25zdHJ1Y3RvciJdfUV4dC5lbnVtZXJhYmxlcz1iO0V4dC5hcHBseT1mdW5jdGlvbihvLG4scSl7aWYocSl7RXh0LmFwcGx5KG8scSl9aWYobyYmbiYmdHlwZW9mIG49PT0ib2JqZWN0Iil7dmFyIHAsbSxsO2ZvcihwIGluIG4pe29bcF09bltwXX1pZihiKXtmb3IobT1iLmxlbmd0aDttLS07KXtsPWJbbV07aWYobi5oYXNPd25Qcm9wZXJ0eShsKSl7b1tsXT1uW2xdfX19fXJldHVybiBvfTtFeHQuYnVpbGRTZXR0aW5ncz1FeHQuYXBwbHkoe2Jhc2VDU1NQcmVmaXg6IngtIixzY29wZVJlc2V0Q1NTOmZhbHNlfSxFeHQuYnVpbGRTZXR0aW5nc3x8e30pO0V4dC5hcHBseShFeHQse25hbWU6RXh0LnNhbmRib3hOYW1lfHwiRXh0IixlbXB0eUZuOmUsZW1wdHlTdHJpbmc6bmV3IFN0cmluZygpLGJhc2VDU1NQcmVmaXg6RXh0LmJ1aWxkU2V0dGluZ3MuYmFzZUNTU1ByZWZpeCxhcHBseUlmOmZ1bmN0aW9uKGssaSl7dmFyIGw7aWYoayl7Zm9yKGwgaW4gaSl7aWYoa1tsXT09PXVuZGVmaW5lZCl7a1tsXT1pW2xdfX19cmV0dXJuIGt9LGl0ZXJhdGU6ZnVuY3Rpb24oaSxsLGspe2lmKEV4dC5pc0VtcHR5KGkpKXtyZXR1cm59aWYoaz09PXVuZGVmaW5lZCl7az1pfWlmKEV4dC5pc0l0ZXJhYmxlKGkpKXtFeHQuQXJyYXkuZWFjaC5jYWxsKEV4dC5BcnJheSxpLGwsayl9ZWxzZXtFeHQuT2JqZWN0LmVhY2guY2FsbChFeHQuT2JqZWN0LGksbCxrKX19fSk7RXh0LmFwcGx5KEV4dCx7ZXh0ZW5kOihmdW5jdGlvbigpe3ZhciBpPWEuY29uc3RydWN0b3Isaz1mdW5jdGlvbihuKXtmb3IodmFyIGwgaW4gbil7aWYoIW4uaGFzT3duUHJvcGVydHkobCkpe2NvbnRpbnVlfXRoaXNbbF09bltsXX19O3JldHVybiBmdW5jdGlvbihsLHEsbyl7aWYoRXh0LmlzT2JqZWN0KHEpKXtvPXE7cT1sO2w9by5jb25zdHJ1Y3RvciE9PWk/by5jb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3EuYXBwbHkodGhpcyxhcmd1bWVudHMpfX12YXIgbj1mdW5jdGlvbigpe30sbSxwPXEucHJvdG90eXBlO24ucHJvdG90eXBlPXA7bT1sLnByb3RvdHlwZT1uZXcgbigpO20uY29uc3RydWN0b3I9bDtsLnN1cGVyY2xhc3M9cDtpZihwLmNvbnN0cnVjdG9yPT09aSl7cC5jb25zdHJ1Y3Rvcj1xfWwub3ZlcnJpZGU9ZnVuY3Rpb24ocil7RXh0Lm92ZXJyaWRlKGwscil9O20ub3ZlcnJpZGU9azttLnByb3RvPW07bC5vdmVycmlkZShvKTtsLmV4dGVuZD1mdW5jdGlvbihyKXtyZXR1cm4gRXh0LmV4dGVuZChsLHIpfTtyZXR1cm4gbH19KCkpLG92ZXJyaWRlOmZ1bmN0aW9uKG0sbil7aWYobS4kaXNDbGFzcyl7bS5vdmVycmlkZShuKX1lbHNle2lmKHR5cGVvZiBtPT0iZnVuY3Rpb24iKXtFeHQuYXBwbHkobS5wcm90b3R5cGUsbil9ZWxzZXt2YXIgaT1tLnNlbGYsayxsO2lmKGkmJmkuJGlzQ2xhc3Mpe2ZvcihrIGluIG4pe2lmKG4uaGFzT3duUHJvcGVydHkoaykpe2w9bltrXTtpZih0eXBlb2YgbD09ImZ1bmN0aW9uIil7bC4kbmFtZT1rO2wuJG93bmVyPWk7bC4kcHJldmlvdXM9bS5oYXNPd25Qcm9wZXJ0eShrKT9tW2tdOmR9bVtrXT1sfX19ZWxzZXtFeHQuYXBwbHkobSxuKX19fXJldHVybiBtfX0pO0V4dC5hcHBseShFeHQse3ZhbHVlRnJvbTpmdW5jdGlvbihsLGksayl7cmV0dXJuIEV4dC5pc0VtcHR5KGwsayk/aTpsfSx0eXBlT2Y6ZnVuY3Rpb24oayl7dmFyIGksbDtpZihrPT09bnVsbCl7cmV0dXJuIm51bGwifWk9dHlwZW9mIGs7aWYoaT09PSJ1bmRlZmluZWQifHxpPT09InN0cmluZyJ8fGk9PT0ibnVtYmVyInx8aT09PSJib29sZWFuIil7cmV0dXJuIGl9bD1qLmNhbGwoayk7c3dpdGNoKGwpe2Nhc2UiW29iamVjdCBBcnJheV0iOnJldHVybiJhcnJheSI7Y2FzZSJbb2JqZWN0IERhdGVdIjpyZXR1cm4iZGF0ZSI7Y2FzZSJbb2JqZWN0IEJvb2xlYW5dIjpyZXR1cm4iYm9vbGVhbiI7Y2FzZSJbb2JqZWN0IE51bWJlcl0iOnJldHVybiJudW1iZXIiO2Nhc2UiW29iamVjdCBSZWdFeHBdIjpyZXR1cm4icmVnZXhwIn1pZihpPT09ImZ1bmN0aW9uIil7cmV0dXJuImZ1bmN0aW9uIn1pZihpPT09Im9iamVjdCIpe2lmKGsubm9kZVR5cGUhPT11bmRlZmluZWQpe2lmKGsubm9kZVR5cGU9PT0zKXtyZXR1cm4oL1xTLykudGVzdChrLm5vZGVWYWx1ZSk/InRleHRub2RlIjoid2hpdGVzcGFjZSJ9ZWxzZXtyZXR1cm4iZWxlbWVudCJ9fXJldHVybiJvYmplY3QifX0saXNFbXB0eTpmdW5jdGlvbihpLGspe3JldHVybihpPT09bnVsbCl8fChpPT09dW5kZWZpbmVkKXx8KCFrP2k9PT0iIjpmYWxzZSl8fChFeHQuaXNBcnJheShpKSYmaS5sZW5ndGg9PT0wKX0saXNBcnJheTooImlzQXJyYXkiIGluIEFycmF5KT9BcnJheS5pc0FycmF5OmZ1bmN0aW9uKGkpe3JldHVybiBqLmNhbGwoaSk9PT0iW29iamVjdCBBcnJheV0ifSxpc0RhdGU6ZnVuY3Rpb24oaSl7cmV0dXJuIGouY2FsbChpKT09PSJbb2JqZWN0IERhdGVdIn0saXNPYmplY3Q6KGouY2FsbChudWxsKT09PSJbb2JqZWN0IE9iamVjdF0iKT9mdW5jdGlvbihpKXtyZXR1cm4gaSE9PW51bGwmJmkhPT11bmRlZmluZWQmJmouY2FsbChpKT09PSJbb2JqZWN0IE9iamVjdF0iJiZpLm93bmVyRG9jdW1lbnQ9PT11bmRlZmluZWR9OmZ1bmN0aW9uKGkpe3JldHVybiBqLmNhbGwoaSk9PT0iW29iamVjdCBPYmplY3RdIn0saXNTaW1wbGVPYmplY3Q6ZnVuY3Rpb24oaSl7cmV0dXJuIGkgaW5zdGFuY2VvZiBPYmplY3QmJmkuY29uc3RydWN0b3I9PT1PYmplY3R9LGlzUHJpbWl0aXZlOmZ1bmN0aW9uKGspe3ZhciBpPXR5cGVvZiBrO3JldHVybiBpPT09InN0cmluZyJ8fGk9PT0ibnVtYmVyInx8aT09PSJib29sZWFuIn0saXNGdW5jdGlvbjoodHlwZW9mIGRvY3VtZW50IT09InVuZGVmaW5lZCImJnR5cGVvZiBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpPT09ImZ1bmN0aW9uIik/ZnVuY3Rpb24oaSl7cmV0dXJuIGouY2FsbChpKT09PSJbb2JqZWN0IEZ1bmN0aW9uXSJ9OmZ1bmN0aW9uKGkpe3JldHVybiB0eXBlb2YgaT09PSJmdW5jdGlvbiJ9LGlzTnVtYmVyOmZ1bmN0aW9uKGkpe3JldHVybiB0eXBlb2YgaT09PSJudW1iZXIiJiZpc0Zpbml0ZShpKX0saXNOdW1lcmljOmZ1bmN0aW9uKGkpe3JldHVybiAhaXNOYU4ocGFyc2VGbG9hdChpKSkmJmlzRmluaXRlKGkpfSxpc1N0cmluZzpmdW5jdGlvbihpKXtyZXR1cm4gdHlwZW9mIGk9PT0ic3RyaW5nIn0saXNCb29sZWFuOmZ1bmN0aW9uKGkpe3JldHVybiB0eXBlb2YgaT09PSJib29sZWFuIn0saXNFbGVtZW50OmZ1bmN0aW9uKGkpe3JldHVybiBpP2kubm9kZVR5cGU9PT0xOmZhbHNlfSxpc1RleHROb2RlOmZ1bmN0aW9uKGkpe3JldHVybiBpP2kubm9kZU5hbWU9PT0iI3RleHQiOmZhbHNlfSxpc0RlZmluZWQ6ZnVuY3Rpb24oaSl7cmV0dXJuIHR5cGVvZiBpIT09InVuZGVmaW5lZCJ9LGlzSXRlcmFibGU6ZnVuY3Rpb24oayl7dmFyIGk9dHlwZW9mIGssbD1mYWxzZTtpZihrJiZpIT0ic3RyaW5nIil7aWYoaT09ImZ1bmN0aW9uIil7aWYoRXh0LmlzU2FmYXJpKXtsPWsgaW5zdGFuY2VvZiBOb2RlTGlzdHx8ayBpbnN0YW5jZW9mIEhUTUxDb2xsZWN0aW9ufX1lbHNle2w9dHJ1ZX19cmV0dXJuIGw/ay5sZW5ndGghPT11bmRlZmluZWQ6ZmFsc2V9fSk7RXh0LmFwcGx5KEV4dCx7Y2xvbmU6ZnVuY3Rpb24ocSl7dmFyIHAsbyxtLGwscixuO2lmKHE9PT1udWxsfHxxPT09dW5kZWZpbmVkKXtyZXR1cm4gcX1pZihxLm5vZGVUeXBlJiZxLmNsb25lTm9kZSl7cmV0dXJuIHEuY2xvbmVOb2RlKHRydWUpfXA9ai5jYWxsKHEpO2lmKHA9PT0iW29iamVjdCBEYXRlXSIpe3JldHVybiBuZXcgRGF0ZShxLmdldFRpbWUoKSl9aWYocD09PSJbb2JqZWN0IEFycmF5XSIpe289cS5sZW5ndGg7cj1bXTt3aGlsZShvLS0pe3Jbb109RXh0LmNsb25lKHFbb10pfX1lbHNle2lmKHA9PT0iW29iamVjdCBPYmplY3RdIiYmcS5jb25zdHJ1Y3Rvcj09PU9iamVjdCl7cj17fTtmb3IobiBpbiBxKXtyW25dPUV4dC5jbG9uZShxW25dKX1pZihiKXtmb3IobT1iLmxlbmd0aDttLS07KXtsPWJbbV07cltsXT1xW2xdfX19fXJldHVybiByfHxxfSxnZXRVbmlxdWVHbG9iYWxOYW1lc3BhY2U6ZnVuY3Rpb24oKXt2YXIgbD10aGlzLnVuaXF1ZUdsb2JhbE5hbWVzcGFjZSxrO2lmKGw9PT11bmRlZmluZWQpe2s9MDtkb3tsPSJFeHRCb3giKygrK2spfXdoaWxlKEV4dC5nbG9iYWxbbF0hPT11bmRlZmluZWQpO0V4dC5nbG9iYWxbbF09RXh0O3RoaXMudW5pcXVlR2xvYmFsTmFtZXNwYWNlPWx9cmV0dXJuIGx9LGZ1bmN0aW9uRmFjdG9yeUNhY2hlOnt9LGNhY2hlYWJsZUZ1bmN0aW9uRmFjdG9yeTpmdW5jdGlvbigpe3ZhciBvPXRoaXMsbD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpLGs9by5mdW5jdGlvbkZhY3RvcnlDYWNoZSxpLG0sbjtpZihFeHQuaXNTYW5kYm94ZWQpe249bC5sZW5ndGg7aWYobj4wKXtuLS07bFtuXT0idmFyIEV4dD13aW5kb3cuIitFeHQubmFtZSsiOyIrbFtuXX19aT1sLmpvaW4oIiIpO209a1tpXTtpZighbSl7bT1GdW5jdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IuYXBwbHkoRnVuY3Rpb24ucHJvdG90eXBlLGwpO2tbaV09bX1yZXR1cm4gbX0sZnVuY3Rpb25GYWN0b3J5OmZ1bmN0aW9uKCl7dmFyIGw9dGhpcyxpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksaztpZihFeHQuaXNTYW5kYm94ZWQpe2s9aS5sZW5ndGg7aWYoaz4wKXtrLS07aVtrXT0idmFyIEV4dD13aW5kb3cuIitFeHQubmFtZSsiOyIraVtrXX19cmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5hcHBseShGdW5jdGlvbi5wcm90b3R5cGUsaSl9LExvZ2dlcjp7dmVyYm9zZTplLGxvZzplLGluZm86ZSx3YXJuOmUsZXJyb3I6ZnVuY3Rpb24oaSl7dGhyb3cgbmV3IEVycm9yKGkpfSxkZXByZWNhdGU6ZX19KTtFeHQudHlwZT1FeHQudHlwZU9mfSgpKTtFeHQuZ2xvYmFsRXZhbD1FeHQuZ2xvYmFsLmV4ZWNTY3JpcHQ/ZnVuY3Rpb24oYSl7ZXhlY1NjcmlwdChhKX06ZnVuY3Rpb24oJCRjb2RlKXsoZnVuY3Rpb24oKXtldmFsKCQkY29kZSl9KCkpfTsoZnVuY3Rpb24oKXt2YXIgYT0iNC4xLjAiLGI7RXh0LlZlcnNpb249Yj1FeHQuZXh0ZW5kKE9iamVjdCx7Y29uc3RydWN0b3I6ZnVuY3Rpb24oYyl7dmFyIGUsZDtpZihjIGluc3RhbmNlb2YgYil7cmV0dXJuIGN9dGhpcy52ZXJzaW9uPXRoaXMuc2hvcnRWZXJzaW9uPVN0cmluZyhjKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywiLiIpLnJlcGxhY2UoL1tcLStdL2csIiIpO2Q9dGhpcy52ZXJzaW9uLnNlYXJjaCgvKFteXGRcLl0pLyk7aWYoZCE9PS0xKXt0aGlzLnJlbGVhc2U9dGhpcy52ZXJzaW9uLnN1YnN0cihkLGMubGVuZ3RoKTt0aGlzLnNob3J0VmVyc2lvbj10aGlzLnZlcnNpb24uc3Vic3RyKDAsZCl9dGhpcy5zaG9ydFZlcnNpb249dGhpcy5zaG9ydFZlcnNpb24ucmVwbGFjZSgvW15cZF0vZywiIik7ZT10aGlzLnZlcnNpb24uc3BsaXQoIi4iKTt0aGlzLm1ham9yPXBhcnNlSW50KGUuc2hpZnQoKXx8MCwxMCk7dGhpcy5taW5vcj1wYXJzZUludChlLnNoaWZ0KCl8fDAsMTApO3RoaXMucGF0Y2g9cGFyc2VJbnQoZS5zaGlmdCgpfHwwLDEwKTt0aGlzLmJ1aWxkPXBhcnNlSW50KGUuc2hpZnQoKXx8MCwxMCk7cmV0dXJuIHRoaXN9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmVyc2lvbn0sdmFsdWVPZjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZlcnNpb259LGdldE1ham9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFqb3J8fDB9LGdldE1pbm9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWlub3J8fDB9LGdldFBhdGNoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF0Y2h8fDB9LGdldEJ1aWxkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYnVpbGR8fDB9LGdldFJlbGVhc2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWxlYXNlfHwiIn0saXNHcmVhdGVyVGhhbjpmdW5jdGlvbihjKXtyZXR1cm4gYi5jb21wYXJlKHRoaXMudmVyc2lvbixjKT09PTF9LGlzR3JlYXRlclRoYW5PckVxdWFsOmZ1bmN0aW9uKGMpe3JldHVybiBiLmNvbXBhcmUodGhpcy52ZXJzaW9uLGMpPj0wfSxpc0xlc3NUaGFuOmZ1bmN0aW9uKGMpe3JldHVybiBiLmNvbXBhcmUodGhpcy52ZXJzaW9uLGMpPT09LTF9LGlzTGVzc1RoYW5PckVxdWFsOmZ1bmN0aW9uKGMpe3JldHVybiBiLmNvbXBhcmUodGhpcy52ZXJzaW9uLGMpPD0wfSxlcXVhbHM6ZnVuY3Rpb24oYyl7cmV0dXJuIGIuY29tcGFyZSh0aGlzLnZlcnNpb24sYyk9PT0wfSxtYXRjaDpmdW5jdGlvbihjKXtjPVN0cmluZyhjKTtyZXR1cm4gdGhpcy52ZXJzaW9uLnN1YnN0cigwLGMubGVuZ3RoKT09PWN9LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy5nZXRNYWpvcigpLHRoaXMuZ2V0TWlub3IoKSx0aGlzLmdldFBhdGNoKCksdGhpcy5nZXRCdWlsZCgpLHRoaXMuZ2V0UmVsZWFzZSgpXX0sZ2V0U2hvcnRWZXJzaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2hvcnRWZXJzaW9ufSxndDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzR3JlYXRlclRoYW4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxsdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzTGVzc1RoYW4uYXBwbHkodGhpcyxhcmd1bWVudHMpfSxndEVxOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNHcmVhdGVyVGhhbk9yRXF1YWwuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxsdEVxOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXNMZXNzVGhhbk9yRXF1YWwuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pO0V4dC5hcHBseShiLHtyZWxlYXNlVmFsdWVNYXA6e2RldjotNixhbHBoYTotNSxhOi01LGJldGE6LTQsYjotNCxyYzotMywiIyI6LTIscDotMSxwbDotMX0sZ2V0Q29tcG9uZW50VmFsdWU6ZnVuY3Rpb24oYyl7cmV0dXJuICFjPzA6KGlzTmFOKGMpP3RoaXMucmVsZWFzZVZhbHVlTWFwW2NdfHxjOnBhcnNlSW50KGMsMTApKX0sY29tcGFyZTpmdW5jdGlvbihoLGcpe3ZhciBkLGUsYztoPW5ldyBiKGgpLnRvQXJyYXkoKTtnPW5ldyBiKGcpLnRvQXJyYXkoKTtmb3IoYz0wO2M8TWF0aC5tYXgoaC5sZW5ndGgsZy5sZW5ndGgpO2MrKyl7ZD10aGlzLmdldENvbXBvbmVudFZhbHVlKGhbY10pO2U9dGhpcy5nZXRDb21wb25lbnRWYWx1ZShnW2NdKTtpZihkPGUpe3JldHVybiAtMX1lbHNle2lmKGQ+ZSl7cmV0dXJuIDF9fX1yZXR1cm4gMH19KTtFeHQuYXBwbHkoRXh0LHt2ZXJzaW9uczp7fSxsYXN0UmVnaXN0ZXJlZFZlcnNpb246bnVsbCxzZXRWZXJzaW9uOmZ1bmN0aW9uKGQsYyl7RXh0LnZlcnNpb25zW2RdPW5ldyBiKGMpO0V4dC5sYXN0UmVnaXN0ZXJlZFZlcnNpb249RXh0LnZlcnNpb25zW2RdO3JldHVybiB0aGlzfSxnZXRWZXJzaW9uOmZ1bmN0aW9uKGMpe2lmKGM9PT11bmRlZmluZWQpe3JldHVybiBFeHQubGFzdFJlZ2lzdGVyZWRWZXJzaW9ufXJldHVybiBFeHQudmVyc2lvbnNbY119LGRlcHJlY2F0ZTpmdW5jdGlvbihjLGUsZyxkKXtpZihiLmNvbXBhcmUoRXh0LmdldFZlcnNpb24oYyksZSk8MSl7Zy5jYWxsKGQpfX19KTtFeHQuc2V0VmVyc2lvbigiY29yZSIsYSl9KCkpO0V4dC5TdHJpbmc9KGZ1bmN0aW9uKCl7dmFyIGk9L15bXHgwOVx4MGFceDBiXHgwY1x4MGRceDIwXHhhMFx1MTY4MFx1MTgwZVx1MjAwMFx1MjAwMVx1MjAwMlx1MjAwM1x1MjAwNFx1MjAwNVx1MjAwNlx1MjAwN1x1MjAwOFx1MjAwOVx1MjAwYVx1MjAyOFx1MjAyOVx1MjAyZlx1MjA1Zlx1MzAwMF0rfFtceDA5XHgwYVx4MGJceDBjXHgwZFx4MjBceGEwXHUxNjgwXHUxODBlXHUyMDAwXHUyMDAxXHUyMDAyXHUyMDAzXHUyMDA0XHUyMDA1XHUyMDA2XHUyMDA3XHUyMDA4XHUyMDA5XHUyMDBhXHUyMDI4XHUyMDI5XHUyMDJmXHUyMDVmXHUzMDAwXSskL2csbT0vKCd8XFwpL2csaD0vXHsoXGQrKVx9L2csYj0vKFstLiorP1xeJHt9KCl8XFtcXVwvXFxdKS9nLG49L15ccyt8XHMrJC9nLGo9L1xzKy8sbD0vKF5bXmEtel0qfFteXHddKS9naSxkLGEsZyxjLGU9ZnVuY3Rpb24ocCxvKXtyZXR1cm4gZFtvXX0saz1mdW5jdGlvbihwLG8pe3JldHVybihvIGluIGEpP2Fbb106U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChvLnN1YnN0cigyKSwxMCkpfTtyZXR1cm57Y3JlYXRlVmFyTmFtZTpmdW5jdGlvbihvKXtyZXR1cm4gby5yZXBsYWNlKGwsIiIpfSxodG1sRW5jb2RlOmZ1bmN0aW9uKG8pe3JldHVybighbyk/bzpTdHJpbmcobykucmVwbGFjZShnLGUpfSxodG1sRGVjb2RlOmZ1bmN0aW9uKG8pe3JldHVybighbyk/bzpTdHJpbmcobykucmVwbGFjZShjLGspfSxhZGRDaGFyYWN0ZXJFbnRpdGllczpmdW5jdGlvbihwKXt2YXIgbz1bXSxzPVtdLHEscjtmb3IocSBpbiBwKXtyPXBbcV07YVtxXT1yO2Rbcl09cTtvLnB1c2gocik7cy5wdXNoKHEpfWc9bmV3IFJlZ0V4cCgiKCIrby5qb2luKCJ8IikrIikiLCJnIik7Yz1uZXcgUmVnRXhwKCIoIitzLmpvaW4oInwiKSsifCYjWzAtOV17MSw1fTspIiwiZyIpfSxyZXNldENoYXJhY3RlckVudGl0aWVzOmZ1bmN0aW9uKCl7ZD17fTthPXt9O3RoaXMuYWRkQ2hhcmFjdGVyRW50aXRpZXMoeyImYW1wOyI6IiYiLCImZ3Q7IjoiPiIsIiZsdDsiOiI8IiwiJnF1b3Q7IjonIicsIiYjMzk7IjoiJyJ9KX0sdXJsQXBwZW5kOmZ1bmN0aW9uKHAsbyl7aWYoIUV4dC5pc0VtcHR5KG8pKXtyZXR1cm4gcCsocC5pbmRleE9mKCI/Iik9PT0tMT8iPyI6IiYiKStvfXJldHVybiBwfSx0cmltOmZ1bmN0aW9uKG8pe3JldHVybiBvLnJlcGxhY2UoaSwiIil9LGNhcGl0YWxpemU6ZnVuY3Rpb24obyl7cmV0dXJuIG8uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrby5zdWJzdHIoMSl9LHVuY2FwaXRhbGl6ZTpmdW5jdGlvbihvKXtyZXR1cm4gby5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKStvLnN1YnN0cigxKX0sZWxsaXBzaXM6ZnVuY3Rpb24ocSxvLHIpe2lmKHEmJnEubGVuZ3RoPm8pe2lmKHIpe3ZhciBzPXEuc3Vic3RyKDAsby0yKSxwPU1hdGgubWF4KHMubGFzdEluZGV4T2YoIiAiKSxzLmxhc3RJbmRleE9mKCIuIikscy5sYXN0SW5kZXhPZigiISIpLHMubGFzdEluZGV4T2YoIj8iKSk7aWYocCE9PS0xJiZwPj0oby0xNSkpe3JldHVybiBzLnN1YnN0cigwLHApKyIuLi4ifX1yZXR1cm4gcS5zdWJzdHIoMCxvLTMpKyIuLi4ifXJldHVybiBxfSxlc2NhcGVSZWdleDpmdW5jdGlvbihvKXtyZXR1cm4gby5yZXBsYWNlKGIsIlxcJDEiKX0sZXNjYXBlOmZ1bmN0aW9uKG8pe3JldHVybiBvLnJlcGxhY2UobSwiXFwkMSIpfSx0b2dnbGU6ZnVuY3Rpb24ocCxxLG8pe3JldHVybiBwPT09cT9vOnF9LGxlZnRQYWQ6ZnVuY3Rpb24ocCxxLHIpe3ZhciBvPVN0cmluZyhwKTtyPXJ8fCIgIjt3aGlsZShvLmxlbmd0aDxxKXtvPXIrb31yZXR1cm4gb30sZm9ybWF0OmZ1bmN0aW9uKHApe3ZhciBvPUV4dC5BcnJheS50b0FycmF5KGFyZ3VtZW50cywxKTtyZXR1cm4gcC5yZXBsYWNlKGgsZnVuY3Rpb24ocSxyKXtyZXR1cm4gb1tyXX0pfSxyZXBlYXQ6ZnVuY3Rpb24ocyxyLHApe2Zvcih2YXIgbz1bXSxxPXI7cS0tOyl7by5wdXNoKHMpfXJldHVybiBvLmpvaW4ocHx8IiIpfSxzcGxpdFdvcmRzOmZ1bmN0aW9uKG8pe2lmKG8mJnR5cGVvZiBvPT0ic3RyaW5nIil7cmV0dXJuIG8ucmVwbGFjZShuLCIiKS5zcGxpdChqKX1yZXR1cm4gb3x8W119fX0oKSk7RXh0LlN0cmluZy5yZXNldENoYXJhY3RlckVudGl0aWVzKCk7RXh0Lmh0bWxFbmNvZGU9RXh0LlN0cmluZy5odG1sRW5jb2RlO0V4dC5odG1sRGVjb2RlPUV4dC5TdHJpbmcuaHRtbERlY29kZTtFeHQudXJsQXBwZW5kPUV4dC5TdHJpbmcudXJsQXBwZW5kO0V4dC5OdW1iZXI9bmV3IGZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPSgwLjkpLnRvRml4ZWQoKSE9PSIxIixhPU1hdGg7RXh0LmFwcGx5KHRoaXMse2NvbnN0cmFpbjpmdW5jdGlvbihoLGcsZSl7dmFyIGQ9cGFyc2VGbG9hdChoKTtyZXR1cm4oZDxnKT9nOigoZD5lKT9lOmQpfSxzbmFwOmZ1bmN0aW9uKGgsZSxnLGkpe3ZhciBkO2lmKGg9PT11bmRlZmluZWR8fGg8Zyl7cmV0dXJuIGd8fDB9aWYoZSl7ZD1oJWU7aWYoZCE9PTApe2gtPWQ7aWYoZCoyPj1lKXtoKz1lfWVsc2V7aWYoZCoyPC1lKXtoLT1lfX19fXJldHVybiBiLmNvbnN0cmFpbihoLGcsaSl9LHNuYXBJblJhbmdlOmZ1bmN0aW9uKGgsZCxnLGkpe3ZhciBlO2c9KGd8fDApO2lmKGg9PT11bmRlZmluZWR8fGg8Zyl7cmV0dXJuIGd9aWYoZCYmKGU9KChoLWcpJWQpKSl7aC09ZTtlKj0yO2lmKGU+PWQpe2grPWR9fWlmKGkhPT11bmRlZmluZWQpe2lmKGg+KGk9Yi5zbmFwSW5SYW5nZShpLGQsZykpKXtoPWl9fXJldHVybiBofSx0b0ZpeGVkOmM/ZnVuY3Rpb24oZyxkKXtkPWR8fDA7dmFyIGU9YS5wb3coMTAsZCk7cmV0dXJuKGEucm91bmQoZyplKS9lKS50b0ZpeGVkKGQpfTpmdW5jdGlvbihlLGQpe3JldHVybiBlLnRvRml4ZWQoZCl9LGZyb206ZnVuY3Rpb24oZSxkKXtpZihpc0Zpbml0ZShlKSl7ZT1wYXJzZUZsb2F0KGUpfXJldHVybiAhaXNOYU4oZSk/ZTpkfSxyYW5kb21JbnQ6ZnVuY3Rpb24oZSxkKXtyZXR1cm4gYS5mbG9vcihhLnJhbmRvbSgpKihkLWUrMSkrZSl9fSk7RXh0Lm51bT1mdW5jdGlvbigpe3JldHVybiBiLmZyb20uYXBwbHkodGhpcyxhcmd1bWVudHMpfX07KGZ1bmN0aW9uKCl7dmFyIGc9QXJyYXkucHJvdG90eXBlLG89Zy5zbGljZSxxPShmdW5jdGlvbigpe3ZhciBBPVtdLGUsej0yMDtpZighQS5zcGxpY2Upe3JldHVybiBmYWxzZX13aGlsZSh6LS0pe0EucHVzaCgiQSIpfUEuc3BsaWNlKDE1LDAsIkYiLCJGIiwiRiIsIkYiLCJGIiwiRiIsIkYiLCJGIiwiRiIsIkYiLCJGIiwiRiIsIkYiLCJGIiwiRiIsIkYiLCJGIiwiRiIsIkYiLCJGIiwiRiIpO2U9QS5sZW5ndGg7QS5zcGxpY2UoMTMsMCwiWFhYIik7aWYoZSsxIT1BLmxlbmd0aCl7cmV0dXJuIGZhbHNlfXJldHVybiB0cnVlfSgpKSxqPSJmb3JFYWNoIiBpbiBnLHU9Im1hcCIgaW4gZyxwPSJpbmRleE9mIiBpbiBnLHk9ImV2ZXJ5IiBpbiBnLGM9InNvbWUiIGluIGcsZD0iZmlsdGVyIiBpbiBnLG49KGZ1bmN0aW9uKCl7dmFyIGU9WzEsMiwzLDQsNV0uc29ydChmdW5jdGlvbigpe3JldHVybiAwfSk7cmV0dXJuIGVbMF09PT0xJiZlWzFdPT09MiYmZVsyXT09PTMmJmVbM109PT00JiZlWzRdPT09NX0oKSksaz10cnVlLGEsdyx0LHY7dHJ5e2lmKHR5cGVvZiBkb2N1bWVudCE9PSJ1bmRlZmluZWQiKXtvLmNhbGwoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJvZHkiKSl9fWNhdGNoKHMpe2s9ZmFsc2V9ZnVuY3Rpb24gbSh6LGUpe3JldHVybihlPDApP01hdGgubWF4KDAsei5sZW5ndGgrZSk6TWF0aC5taW4oei5sZW5ndGgsZSl9ZnVuY3Rpb24geChHLEYseixKKXt2YXIgSz1KP0oubGVuZ3RoOjAsQj1HLmxlbmd0aCxIPW0oRyxGKSxFLEksQSxlLEMsRDtpZihIPT09Qil7aWYoSyl7Ry5wdXNoLmFwcGx5KEcsSil9fWVsc2V7RT1NYXRoLm1pbih6LEItSCk7ST1IK0U7QT1JK0stRTtlPUItSTtDPUItRTtpZihBPEkpe2ZvcihEPTA7RDxlOysrRCl7R1tBK0RdPUdbSStEXX19ZWxzZXtpZihBPkkpe2ZvcihEPWU7RC0tOyl7R1tBK0RdPUdbSStEXX19fWlmKEsmJkg9PT1DKXtHLmxlbmd0aD1DO0cucHVzaC5hcHBseShHLEopfWVsc2V7Ry5sZW5ndGg9QytLO2ZvcihEPTA7RDxLOysrRCl7R1tIK0RdPUpbRF19fX1yZXR1cm4gR31mdW5jdGlvbiBpKEIsZSxBLHope2lmKHomJnoubGVuZ3RoKXtpZihlPEIubGVuZ3RoKXtCLnNwbGljZS5hcHBseShCLFtlLEFdLmNvbmNhdCh6KSl9ZWxzZXtCLnB1c2guYXBwbHkoQix6KX19ZWxzZXtCLnNwbGljZShlLEEpfXJldHVybiBCfWZ1bmN0aW9uIGIoQSxlLHope3JldHVybiB4KEEsZSx6KX1mdW5jdGlvbiByKEEsZSx6KXtBLnNwbGljZShlLHopO3JldHVybiBBfWZ1bmN0aW9uIGwoQyxlLEEpe3ZhciBCPW0oQyxlKSx6PUMuc2xpY2UoZSxtKEMsQitBKSk7aWYoYXJndW1lbnRzLmxlbmd0aDw0KXt4KEMsQixBKX1lbHNle3goQyxCLEEsby5jYWxsKGFyZ3VtZW50cywzKSl9cmV0dXJuIHp9ZnVuY3Rpb24gaChlKXtyZXR1cm4gZS5zcGxpY2UuYXBwbHkoZSxvLmNhbGwoYXJndW1lbnRzLDEpKX13PXE/cjpiO3Q9cT9pOng7dj1xP2g6bDthPUV4dC5BcnJheT17ZWFjaDpmdW5jdGlvbihELEIsQSxlKXtEPWEuZnJvbShEKTt2YXIgeixDPUQubGVuZ3RoO2lmKGUhPT10cnVlKXtmb3Ioej0wO3o8Qzt6Kyspe2lmKEIuY2FsbChBfHxEW3pdLERbel0seixEKT09PWZhbHNlKXtyZXR1cm4gen19fWVsc2V7Zm9yKHo9Qy0xO3o+LTE7ei0tKXtpZihCLmNhbGwoQXx8RFt6XSxEW3pdLHosRCk9PT1mYWxzZSl7cmV0dXJuIHp9fX1yZXR1cm4gdHJ1ZX0sZm9yRWFjaDpqP2Z1bmN0aW9uKEEseixlKXtyZXR1cm4gQS5mb3JFYWNoKHosZSl9OmZ1bmN0aW9uKEMsQSx6KXt2YXIgZT0wLEI9Qy5sZW5ndGg7Zm9yKDtlPEI7ZSsrKXtBLmNhbGwoeixDW2VdLGUsQyl9fSxpbmRleE9mOnA/ZnVuY3Rpb24oQSxlLHope3JldHVybiBBLmluZGV4T2YoZSx6KX06ZnVuY3Rpb24oQyxBLEIpe3ZhciBlLHo9Qy5sZW5ndGg7Zm9yKGU9KEI8MCk/TWF0aC5tYXgoMCx6K0IpOkJ8fDA7ZTx6O2UrKyl7aWYoQ1tlXT09PUEpe3JldHVybiBlfX1yZXR1cm4gLTF9LGNvbnRhaW5zOnA/ZnVuY3Rpb24oeixlKXtyZXR1cm4gei5pbmRleE9mKGUpIT09LTF9OmZ1bmN0aW9uKEIsQSl7dmFyIGUsejtmb3IoZT0wLHo9Qi5sZW5ndGg7ZTx6O2UrKyl7aWYoQltlXT09PUEpe3JldHVybiB0cnVlfX1yZXR1cm4gZmFsc2V9LHRvQXJyYXk6ZnVuY3Rpb24oQSxDLGUpe2lmKCFBfHwhQS5sZW5ndGgpe3JldHVybltdfWlmKHR5cGVvZiBBPT09InN0cmluZyIpe0E9QS5zcGxpdCgiIil9aWYoayl7cmV0dXJuIG8uY2FsbChBLEN8fDAsZXx8QS5sZW5ndGgpfXZhciBCPVtdLHo7Qz1DfHwwO2U9ZT8oKGU8MCk/QS5sZW5ndGgrZTplKTpBLmxlbmd0aDtmb3Ioej1DO3o8ZTt6Kyspe0IucHVzaChBW3pdKX1yZXR1cm4gQn0scGx1Y2s6ZnVuY3Rpb24oRCxlKXt2YXIgej1bXSxBLEMsQjtmb3IoQT0wLEM9RC5sZW5ndGg7QTxDO0ErKyl7Qj1EW0FdO3oucHVzaChCW2VdKX1yZXR1cm4gen0sbWFwOnU/ZnVuY3Rpb24oQSx6LGUpe3JldHVybiBBLm1hcCh6LGUpfTpmdW5jdGlvbihELEMsQil7dmFyIEE9W10sej0wLGU9RC5sZW5ndGg7Zm9yKDt6PGU7eisrKXtBW3pdPUMuY2FsbChCLERbel0seixEKX1yZXR1cm4gQX0sZXZlcnk6eT9mdW5jdGlvbihBLHosZSl7cmV0dXJuIEEuZXZlcnkoeixlKX06ZnVuY3Rpb24oQyxBLHope3ZhciBlPTAsQj1DLmxlbmd0aDtmb3IoO2U8QjsrK2Upe2lmKCFBLmNhbGwoeixDW2VdLGUsQykpe3JldHVybiBmYWxzZX19cmV0dXJuIHRydWV9LHNvbWU6Yz9mdW5jdGlvbihBLHosZSl7cmV0dXJuIEEuc29tZSh6LGUpfTpmdW5jdGlvbihDLEEseil7dmFyIGU9MCxCPUMubGVuZ3RoO2Zvcig7ZTxCOysrZSl7aWYoQS5jYWxsKHosQ1tlXSxlLEMpKXtyZXR1cm4gdHJ1ZX19cmV0dXJuIGZhbHNlfSxjbGVhbjpmdW5jdGlvbihDKXt2YXIgej1bXSxlPTAsQj1DLmxlbmd0aCxBO2Zvcig7ZTxCO2UrKyl7QT1DW2VdO2lmKCFFeHQuaXNFbXB0eShBKSl7ei5wdXNoKEEpfX1yZXR1cm4gen0sdW5pcXVlOmZ1bmN0aW9uKEMpe3ZhciBCPVtdLGU9MCxBPUMubGVuZ3RoLHo7Zm9yKDtlPEE7ZSsrKXt6PUNbZV07aWYoYS5pbmRleE9mKEIseik9PT0tMSl7Qi5wdXNoKHopfX1yZXR1cm4gQn0sZmlsdGVyOmQ/ZnVuY3Rpb24oQSx6LGUpe3JldHVybiBBLmZpbHRlcih6LGUpfTpmdW5jdGlvbihELEIsQSl7dmFyIHo9W10sZT0wLEM9RC5sZW5ndGg7Zm9yKDtlPEM7ZSsrKXtpZihCLmNhbGwoQSxEW2VdLGUsRCkpe3oucHVzaChEW2VdKX19cmV0dXJuIHp9LGZyb206ZnVuY3Rpb24oQSx6KXtpZihBPT09dW5kZWZpbmVkfHxBPT09bnVsbCl7cmV0dXJuW119aWYoRXh0LmlzQXJyYXkoQSkpe3JldHVybih6KT9vLmNhbGwoQSk6QX12YXIgZT10eXBlb2YgQTtpZihBJiZBLmxlbmd0aCE9PXVuZGVmaW5lZCYmZSE9PSJzdHJpbmciJiYoZSE9PSJmdW5jdGlvbiJ8fCFBLmFwcGx5KSl7cmV0dXJuIGEudG9BcnJheShBKX1yZXR1cm5bQV19LHJlbW92ZTpmdW5jdGlvbihBLHope3ZhciBlPWEuaW5kZXhPZihBLHopO2lmKGUhPT0tMSl7dyhBLGUsMSl9cmV0dXJuIEF9LGluY2x1ZGU6ZnVuY3Rpb24oeixlKXtpZighYS5jb250YWlucyh6LGUpKXt6LnB1c2goZSl9fSxjbG9uZTpmdW5jdGlvbihlKXtyZXR1cm4gby5jYWxsKGUpfSxtZXJnZTpmdW5jdGlvbigpe3ZhciBlPW8uY2FsbChhcmd1bWVudHMpLEI9W10seixBO2Zvcih6PTAsQT1lLmxlbmd0aDt6PEE7eisrKXtCPUIuY29uY2F0KGVbel0pfXJldHVybiBhLnVuaXF1ZShCKX0saW50ZXJzZWN0OmZ1bmN0aW9uKCl7dmFyIGU9W10sQT1vLmNhbGwoYXJndW1lbnRzKSxMLEosRixJLE0sQix6LEgsSyxDLEcsRSxEO2lmKCFBLmxlbmd0aCl7cmV0dXJuIGV9TD1BLmxlbmd0aDtmb3IoRz1NPTA7RzxMO0crKyl7Qj1BW0ddO2lmKCFJfHxCLmxlbmd0aDxJLmxlbmd0aCl7ST1CO009R319ST1hLnVuaXF1ZShJKTt3KEEsTSwxKTt6PUkubGVuZ3RoO0w9QS5sZW5ndGg7Zm9yKEc9MDtHPHo7RysrKXtIPUlbR107Qz0wO2ZvcihFPTA7RTxMO0UrKyl7Sj1BW0VdO0Y9Si5sZW5ndGg7Zm9yKEQ9MDtEPEY7RCsrKXtLPUpbRF07aWYoSD09PUspe0MrKzticmVha319fWlmKEM9PT1MKXtlLnB1c2goSCl9fXJldHVybiBlfSxkaWZmZXJlbmNlOmZ1bmN0aW9uKHosZSl7dmFyIEU9by5jYWxsKHopLEM9RS5sZW5ndGgsQixBLEQ7Zm9yKEI9MCxEPWUubGVuZ3RoO0I8RDtCKyspe2ZvcihBPTA7QTxDO0ErKyl7aWYoRVtBXT09PWVbQl0pe3coRSxBLDEpO0EtLTtDLS19fX1yZXR1cm4gRX0sc2xpY2U6KFsxLDJdLnNsaWNlKDEsdW5kZWZpbmVkKS5sZW5ndGg/ZnVuY3Rpb24oQSx6LGUpe3JldHVybiBvLmNhbGwoQSx6LGUpfTpmdW5jdGlvbihBLHosZSl7aWYodHlwZW9mIHo9PT0idW5kZWZpbmVkIil7cmV0dXJuIG8uY2FsbChBKX1pZih0eXBlb2YgZT09PSJ1bmRlZmluZWQiKXtyZXR1cm4gby5jYWxsKEEseil9cmV0dXJuIG8uY2FsbChBLHosZSl9KSxzb3J0Om4/ZnVuY3Rpb24oeixlKXtpZihlKXtyZXR1cm4gei5zb3J0KGUpfWVsc2V7cmV0dXJuIHouc29ydCgpfX06ZnVuY3Rpb24oRixFKXt2YXIgQz1GLmxlbmd0aCxCPTAsRCxlLEEsejtmb3IoO0I8QztCKyspe0E9Qjtmb3IoZT1CKzE7ZTxDO2UrKyl7aWYoRSl7RD1FKEZbZV0sRltBXSk7aWYoRDwwKXtBPWV9fWVsc2V7aWYoRltlXTxGW0FdKXtBPWV9fX1pZihBIT09Qil7ej1GW0JdO0ZbQl09RltBXTtGW0FdPXp9fXJldHVybiBGfSxmbGF0dGVuOmZ1bmN0aW9uKEEpe3ZhciB6PVtdO2Z1bmN0aW9uIGUoQil7dmFyIEQsRSxDO2ZvcihEPTAsRT1CLmxlbmd0aDtEPEU7RCsrKXtDPUJbRF07aWYoRXh0LmlzQXJyYXkoQykpe2UoQyl9ZWxzZXt6LnB1c2goQyl9fXJldHVybiB6fXJldHVybiBlKEEpfSxtaW46ZnVuY3Rpb24oRCxDKXt2YXIgej1EWzBdLGUsQixBO2ZvcihlPTAsQj1ELmxlbmd0aDtlPEI7ZSsrKXtBPURbZV07aWYoQyl7aWYoQyh6LEEpPT09MSl7ej1BfX1lbHNle2lmKEE8eil7ej1BfX19cmV0dXJuIHp9LG1heDpmdW5jdGlvbihELEMpe3ZhciBlPURbMF0seixCLEE7Zm9yKHo9MCxCPUQubGVuZ3RoO3o8Qjt6Kyspe0E9RFt6XTtpZihDKXtpZihDKGUsQSk9PT0tMSl7ZT1BfX1lbHNle2lmKEE+ZSl7ZT1BfX19cmV0dXJuIGV9LG1lYW46ZnVuY3Rpb24oZSl7cmV0dXJuIGUubGVuZ3RoPjA/YS5zdW0oZSkvZS5sZW5ndGg6dW5kZWZpbmVkfSxzdW06ZnVuY3Rpb24oQyl7dmFyIHo9MCxlLEIsQTtmb3IoZT0wLEI9Qy5sZW5ndGg7ZTxCO2UrKyl7QT1DW2VdO3orPUF9cmV0dXJuIHp9LHRvTWFwOmZ1bmN0aW9uKEMsZSxBKXt2YXIgQj17fSx6PUMubGVuZ3RoO2lmKCFlKXt3aGlsZSh6LS0pe0JbQ1t6XV09eisxfX1lbHNle2lmKHR5cGVvZiBlPT0ic3RyaW5nIil7d2hpbGUoei0tKXtCW0Nbel1bZV1dPXorMX19ZWxzZXt3aGlsZSh6LS0pe0JbZS5jYWxsKEEsQ1t6XSldPXorMX19fXJldHVybiBCfSxlcmFzZTp3LGluc2VydDpmdW5jdGlvbihBLHosZSl7cmV0dXJuIHQoQSx6LDAsZSl9LHJlcGxhY2U6dCxzcGxpY2U6dixwdXNoOmZ1bmN0aW9uKEIpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGgsQT0xLHo7aWYoQj09PXVuZGVmaW5lZCl7Qj1bXX1lbHNle2lmKCFFeHQuaXNBcnJheShCKSl7Qj1bQl19fWZvcig7QTxlO0ErKyl7ej1hcmd1bWVudHNbQV07QXJyYXkucHJvdG90eXBlLnB1c2hbRXh0LmlzQXJyYXkoeik/ImFwcGx5IjoiY2FsbCJdKEIseil9cmV0dXJuIEJ9fTtFeHQuZWFjaD1hLmVhY2g7YS51bmlvbj1hLm1lcmdlO0V4dC5taW49YS5taW47RXh0Lm1heD1hLm1heDtFeHQuc3VtPWEuc3VtO0V4dC5tZWFuPWEubWVhbjtFeHQuZmxhdHRlbj1hLmZsYXR0ZW47RXh0LmNsZWFuPWEuY2xlYW47RXh0LnVuaXF1ZT1hLnVuaXF1ZTtFeHQucGx1Y2s9YS5wbHVjaztFeHQudG9BcnJheT1mdW5jdGlvbigpe3JldHVybiBhLnRvQXJyYXkuYXBwbHkoYSxhcmd1bWVudHMpfX0oKSk7RXh0LkZ1bmN0aW9uPXtmbGV4U2V0dGVyOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihkLGMpe3ZhciBlLGc7aWYoZD09PW51bGwpe3JldHVybiB0aGlzfWlmKHR5cGVvZiBkIT09InN0cmluZyIpe2ZvcihlIGluIGQpe2lmKGQuaGFzT3duUHJvcGVydHkoZSkpe2EuY2FsbCh0aGlzLGUsZFtlXSl9fWlmKEV4dC5lbnVtZXJhYmxlcyl7Zm9yKGc9RXh0LmVudW1lcmFibGVzLmxlbmd0aDtnLS07KXtlPUV4dC5lbnVtZXJhYmxlc1tnXTtpZihkLmhhc093blByb3BlcnR5KGUpKXthLmNhbGwodGhpcyxlLGRbZV0pfX19fWVsc2V7YS5jYWxsKHRoaXMsZCxjKX1yZXR1cm4gdGhpc319LGJpbmQ6ZnVuY3Rpb24oZCxjLGIsYSl7aWYoYXJndW1lbnRzLmxlbmd0aD09PTIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBkLmFwcGx5KGMsYXJndW1lbnRzKX19dmFyIGc9ZCxlPUFycmF5LnByb3RvdHlwZS5zbGljZTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaD1ifHxhcmd1bWVudHM7aWYoYT09PXRydWUpe2g9ZS5jYWxsKGFyZ3VtZW50cywwKTtoPWguY29uY2F0KGIpfWVsc2V7aWYodHlwZW9mIGE9PSJudW1iZXIiKXtoPWUuY2FsbChhcmd1bWVudHMsMCk7RXh0LkFycmF5Lmluc2VydChoLGEsYil9fXJldHVybiBnLmFwcGx5KGN8fEV4dC5nbG9iYWwsaCl9fSxwYXNzOmZ1bmN0aW9uKGMsYSxiKXtpZighRXh0LmlzQXJyYXkoYSkpe2lmKEV4dC5pc0l0ZXJhYmxlKGEpKXthPUV4dC5BcnJheS5jbG9uZShhKX1lbHNle2E9YSE9PXVuZGVmaW5lZD9bYV06W119fXJldHVybiBmdW5jdGlvbigpe3ZhciBkPVtdLmNvbmNhdChhKTtkLnB1c2guYXBwbHkoZCxhcmd1bWVudHMpO3JldHVybiBjLmFwcGx5KGJ8fHRoaXMsZCl9fSxhbGlhczpmdW5jdGlvbihiLGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBiW2FdLmFwcGx5KGIsYXJndW1lbnRzKX19LGNsb25lOmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LGNyZWF0ZUludGVyY2VwdG9yOmZ1bmN0aW9uKGQsYyxiLGEpe3ZhciBlPWQ7aWYoIUV4dC5pc0Z1bmN0aW9uKGMpKXtyZXR1cm4gZH1lbHNle3JldHVybiBmdW5jdGlvbigpe3ZhciBoPXRoaXMsZz1hcmd1bWVudHM7Yy50YXJnZXQ9aDtjLm1ldGhvZD1kO3JldHVybihjLmFwcGx5KGJ8fGh8fEV4dC5nbG9iYWwsZykhPT1mYWxzZSk/ZC5hcHBseShofHxFeHQuZ2xvYmFsLGcpOmF8fG51bGx9fX0sY3JlYXRlRGVsYXllZDpmdW5jdGlvbihlLGMsZCxiLGEpe2lmKGR8fGIpe2U9RXh0LkZ1bmN0aW9uLmJpbmQoZSxkLGIsYSl9cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxnPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7c2V0VGltZW91dChmdW5jdGlvbigpe2UuYXBwbHkoaCxnKX0sYyl9fSxkZWZlcjpmdW5jdGlvbihlLGMsZCxiLGEpe2U9RXh0LkZ1bmN0aW9uLmJpbmQoZSxkLGIsYSk7aWYoYz4wKXtyZXR1cm4gc2V0VGltZW91dChFeHQuc3VwcG9ydHMuVGltZW91dEFjdHVhbExhdGVuZXNzP2Z1bmN0aW9uKCl7ZSgpfTplLGMpfWUoKTtyZXR1cm4gMH0sY3JlYXRlU2VxdWVuY2U6ZnVuY3Rpb24oYixjLGEpe2lmKCFjKXtyZXR1cm4gYn1lbHNle3JldHVybiBmdW5jdGlvbigpe3ZhciBkPWIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2MuYXBwbHkoYXx8dGhpcyxhcmd1bWVudHMpO3JldHVybiBkfX19LGNyZWF0ZUJ1ZmZlcmVkOmZ1bmN0aW9uKGUsYixkLGMpe3ZhciBhO3JldHVybiBmdW5jdGlvbigpe3ZhciBoPWN8fEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSxnPWR8fHRoaXM7aWYoYSl7Y2xlYXJUaW1lb3V0KGEpfWE9c2V0VGltZW91dChmdW5jdGlvbigpe2UuYXBwbHkoZyxoKX0sYil9fSxjcmVhdGVUaHJvdHRsZWQ6ZnVuY3Rpb24oZSxiLGQpe3ZhciBnLGEsYyxpLGg9ZnVuY3Rpb24oKXtlLmFwcGx5KGR8fHRoaXMsYyk7Zz1uZXcgRGF0ZSgpLmdldFRpbWUoKX07cmV0dXJuIGZ1bmN0aW9uKCl7YT1uZXcgRGF0ZSgpLmdldFRpbWUoKS1nO2M9YXJndW1lbnRzO2NsZWFyVGltZW91dChpKTtpZighZ3x8KGE+PWIpKXtoKCl9ZWxzZXtpPXNldFRpbWVvdXQoaCxiLWEpfX19LGludGVyY2VwdEJlZm9yZTpmdW5jdGlvbihiLGEsZCxjKXt2YXIgZT1iW2FdfHxFeHQuZW1wdHlGbjtyZXR1cm4oYlthXT1mdW5jdGlvbigpe3ZhciBnPWQuYXBwbHkoY3x8dGhpcyxhcmd1bWVudHMpO2UuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBnfSl9LGludGVyY2VwdEFmdGVyOmZ1bmN0aW9uKGIsYSxkLGMpe3ZhciBlPWJbYV18fEV4dC5lbXB0eUZuO3JldHVybihiW2FdPWZ1bmN0aW9uKCl7ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGQuYXBwbHkoY3x8dGhpcyxhcmd1bWVudHMpfSl9fTtFeHQuZGVmZXI9RXh0LkZ1bmN0aW9uLmFsaWFzKEV4dC5GdW5jdGlvbiwiZGVmZXIiKTtFeHQucGFzcz1FeHQuRnVuY3Rpb24uYWxpYXMoRXh0LkZ1bmN0aW9uLCJwYXNzIik7RXh0LmJpbmQ9RXh0LkZ1bmN0aW9uLmFsaWFzKEV4dC5GdW5jdGlvbiwiYmluZCIpOyhmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKCl7fSxiPUV4dC5PYmplY3Q9e2NoYWluOmZ1bmN0aW9uKGQpe2EucHJvdG90eXBlPWQ7dmFyIGM9bmV3IGEoKTthLnByb3RvdHlwZT1udWxsO3JldHVybiBjfSx0b1F1ZXJ5T2JqZWN0czpmdW5jdGlvbihlLGssZCl7dmFyIGM9Yi50b1F1ZXJ5T2JqZWN0cyxqPVtdLGcsaDtpZihFeHQuaXNBcnJheShrKSl7Zm9yKGc9MCxoPWsubGVuZ3RoO2c8aDtnKyspe2lmKGQpe2o9ai5jb25jYXQoYyhlKyJbIitnKyJdIixrW2ddLHRydWUpKX1lbHNle2oucHVzaCh7bmFtZTplLHZhbHVlOmtbZ119KX19fWVsc2V7aWYoRXh0LmlzT2JqZWN0KGspKXtmb3IoZyBpbiBrKXtpZihrLmhhc093blByb3BlcnR5KGcpKXtpZihkKXtqPWouY29uY2F0KGMoZSsiWyIrZysiXSIsa1tnXSx0cnVlKSl9ZWxzZXtqLnB1c2goe25hbWU6ZSx2YWx1ZTprW2ddfSl9fX19ZWxzZXtqLnB1c2goe25hbWU6ZSx2YWx1ZTprfSl9fXJldHVybiBqfSx0b1F1ZXJ5U3RyaW5nOmZ1bmN0aW9uKGcsZCl7dmFyIGg9W10sZT1bXSxsLGssbSxjLG47Zm9yKGwgaW4gZyl7aWYoZy5oYXNPd25Qcm9wZXJ0eShsKSl7aD1oLmNvbmNhdChiLnRvUXVlcnlPYmplY3RzKGwsZ1tsXSxkKSl9fWZvcihrPTAsbT1oLmxlbmd0aDtrPG07aysrKXtjPWhba107bj1jLnZhbHVlO2lmKEV4dC5pc0VtcHR5KG4pKXtuPSIifWVsc2V7aWYoRXh0LmlzRGF0ZShuKSl7bj1FeHQuRGF0ZS50b1N0cmluZyhuKX19ZS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChjLm5hbWUpKyI9IitlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKG4pKSl9cmV0dXJuIGUuam9pbigiJiIpfSxmcm9tUXVlcnlTdHJpbmc6ZnVuY3Rpb24oZCxyKXt2YXIgbT1kLnJlcGxhY2UoL15cPy8sIiIpLnNwbGl0KCImIiksdT17fSxzLGssdyxuLHEsZyxvLHAsYyxoLHQsbCx2LGU7Zm9yKHE9MCxnPW0ubGVuZ3RoO3E8ZztxKyspe289bVtxXTtpZihvLmxlbmd0aD4wKXtrPW8uc3BsaXQoIj0iKTt3PWRlY29kZVVSSUNvbXBvbmVudChrWzBdKTtuPShrWzFdIT09dW5kZWZpbmVkKT9kZWNvZGVVUklDb21wb25lbnQoa1sxXSk6IiI7aWYoIXIpe2lmKHUuaGFzT3duUHJvcGVydHkodykpe2lmKCFFeHQuaXNBcnJheSh1W3ddKSl7dVt3XT1bdVt3XV19dVt3XS5wdXNoKG4pfWVsc2V7dVt3XT1ufX1lbHNle2g9dy5tYXRjaCgvKFxbKTo/KFteXF1dKilcXS9nKTt0PXcubWF0Y2goL14oW15cW10rKS8pO3c9dFswXTtsPVtdO2lmKGg9PT1udWxsKXt1W3ddPW47Y29udGludWV9Zm9yKHA9MCxjPWgubGVuZ3RoO3A8YztwKyspe3Y9aFtwXTt2PSh2Lmxlbmd0aD09PTIpPyIiOnYuc3Vic3RyaW5nKDEsdi5sZW5ndGgtMSk7bC5wdXNoKHYpfWwudW5zaGlmdCh3KTtzPXU7Zm9yKHA9MCxjPWwubGVuZ3RoO3A8YztwKyspe3Y9bFtwXTtpZihwPT09Yy0xKXtpZihFeHQuaXNBcnJheShzKSYmdj09PSIiKXtzLnB1c2gobil9ZWxzZXtzW3ZdPW59fWVsc2V7aWYoc1t2XT09PXVuZGVmaW5lZHx8dHlwZW9mIHNbdl09PT0ic3RyaW5nIil7ZT1sW3ArMV07c1t2XT0oRXh0LmlzTnVtZXJpYyhlKXx8ZT09PSIiKT9bXTp7fX1zPXNbdl19fX19fXJldHVybiB1fSxlYWNoOmZ1bmN0aW9uKGMsZSxkKXtmb3IodmFyIGcgaW4gYyl7aWYoYy5oYXNPd25Qcm9wZXJ0eShnKSl7aWYoZS5jYWxsKGR8fGMsZyxjW2ddLGMpPT09ZmFsc2Upe3JldHVybn19fX0sbWVyZ2U6ZnVuY3Rpb24oayl7dmFyIGg9MSxqPWFyZ3VtZW50cy5sZW5ndGgsYz1iLm1lcmdlLGU9RXh0LmNsb25lLGcsbSxsLGQ7Zm9yKDtoPGo7aCsrKXtnPWFyZ3VtZW50c1toXTtmb3IobSBpbiBnKXtsPWdbbV07aWYobCYmbC5jb25zdHJ1Y3Rvcj09PU9iamVjdCl7ZD1rW21dO2lmKGQmJmQuY29uc3RydWN0b3I9PT1PYmplY3Qpe2MoZCxsKX1lbHNle2tbbV09ZShsKX19ZWxzZXtrW21dPWx9fX1yZXR1cm4ga30sbWVyZ2VJZjpmdW5jdGlvbihjKXt2YXIgaD0xLGo9YXJndW1lbnRzLmxlbmd0aCxlPUV4dC5jbG9uZSxkLGcsaztmb3IoO2g8ajtoKyspe2Q9YXJndW1lbnRzW2hdO2ZvcihnIGluIGQpe2lmKCEoZyBpbiBjKSl7az1kW2ddO2lmKGsmJmsuY29uc3RydWN0b3I9PT1PYmplY3Qpe2NbZ109ZShrKX1lbHNle2NbZ109a319fX1yZXR1cm4gY30sZ2V0S2V5OmZ1bmN0aW9uKGMsZSl7Zm9yKHZhciBkIGluIGMpe2lmKGMuaGFzT3duUHJvcGVydHkoZCkmJmNbZF09PT1lKXtyZXR1cm4gZH19cmV0dXJuIG51bGx9LGdldFZhbHVlczpmdW5jdGlvbihkKXt2YXIgYz1bXSxlO2ZvcihlIGluIGQpe2lmKGQuaGFzT3duUHJvcGVydHkoZSkpe2MucHVzaChkW2VdKX19cmV0dXJuIGN9LGdldEtleXM6KHR5cGVvZiBPYmplY3Qua2V5cz09ImZ1bmN0aW9uIik/ZnVuY3Rpb24oYyl7aWYoIWMpe3JldHVybltdfXJldHVybiBPYmplY3Qua2V5cyhjKX06ZnVuY3Rpb24oYyl7dmFyIGQ9W10sZTtmb3IoZSBpbiBjKXtpZihjLmhhc093blByb3BlcnR5KGUpKXtkLnB1c2goZSl9fXJldHVybiBkfSxnZXRTaXplOmZ1bmN0aW9uKGMpe3ZhciBkPTAsZTtmb3IoZSBpbiBjKXtpZihjLmhhc093blByb3BlcnR5KGUpKXtkKyt9fXJldHVybiBkfSxjbGFzc2lmeTpmdW5jdGlvbihnKXt2YXIgZT1nLGk9W10sZD17fSxjPWZ1bmN0aW9uKCl7dmFyIGs9MCxsPWkubGVuZ3RoLG07Zm9yKDtrPGw7aysrKXttPWlba107dGhpc1ttXT1uZXcgZFttXSgpfX0saCxqO2ZvcihoIGluIGcpe2lmKGcuaGFzT3duUHJvcGVydHkoaCkpe2o9Z1toXTtpZihqJiZqLmNvbnN0cnVjdG9yPT09T2JqZWN0KXtpLnB1c2goaCk7ZFtoXT1iLmNsYXNzaWZ5KGopfX19Yy5wcm90b3R5cGU9ZTtyZXR1cm4gY319O0V4dC5tZXJnZT1FeHQuT2JqZWN0Lm1lcmdlO0V4dC5tZXJnZUlmPUV4dC5PYmplY3QubWVyZ2VJZjtFeHQudXJsRW5jb2RlPWZ1bmN0aW9uKCl7dmFyIGM9RXh0LkFycmF5LmZyb20oYXJndW1lbnRzKSxkPSIiO2lmKCh0eXBlb2YgY1sxXT09PSJzdHJpbmciKSl7ZD1jWzFdKyImIjtjWzFdPWZhbHNlfXJldHVybiBkK2IudG9RdWVyeVN0cmluZy5hcHBseShiLGMpfTtFeHQudXJsRGVjb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIGIuZnJvbVF1ZXJ5U3RyaW5nLmFwcGx5KGIsYXJndW1lbnRzKX19KCkpOyhmdW5jdGlvbigpe2Z1bmN0aW9uIGIoZCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBkLnJlcGxhY2UoL1x7KFxkKylcfS9nLGZ1bmN0aW9uKGUsZyl7cmV0dXJuIGNbZ119KX1FeHQuRGF0ZT17bm93OkRhdGUubm93fHxmdW5jdGlvbigpe3JldHVybiArbmV3IERhdGUoKX0sdG9TdHJpbmc6ZnVuY3Rpb24oYyl7dmFyIGQ9RXh0LlN0cmluZy5sZWZ0UGFkO3JldHVybiBjLmdldEZ1bGxZZWFyKCkrIi0iK2QoYy5nZXRNb250aCgpKzEsMiwiMCIpKyItIitkKGMuZ2V0RGF0ZSgpLDIsIjAiKSsiVCIrZChjLmdldEhvdXJzKCksMiwiMCIpKyI6IitkKGMuZ2V0TWludXRlcygpLDIsIjAiKSsiOiIrZChjLmdldFNlY29uZHMoKSwyLCIwIil9LGdldEVsYXBzZWQ6ZnVuY3Rpb24oZCxjKXtyZXR1cm4gTWF0aC5hYnMoZC0oY3x8bmV3IERhdGUoKSkpfSx1c2VTdHJpY3Q6ZmFsc2UsZm9ybWF0Q29kZVRvUmVnZXg6ZnVuY3Rpb24oZCxjKXt2YXIgZT1hLnBhcnNlQ29kZXNbZF07aWYoZSl7ZT10eXBlb2YgZT09ImZ1bmN0aW9uIj9lKCk6ZTthLnBhcnNlQ29kZXNbZF09ZX1yZXR1cm4gZT9FeHQuYXBwbHlJZih7YzplLmM/YihlLmMsY3x8InswfSIpOmUuY30sZSk6e2c6MCxjOm51bGwsczpFeHQuU3RyaW5nLmVzY2FwZVJlZ2V4KGQpfX0scGFyc2VGdW5jdGlvbnM6e01TOmZ1bmN0aW9uKGQsYyl7dmFyIGU9bmV3IFJlZ0V4cCgiXFwvRGF0ZVxcKChbLStdKT8oXFxkKykoPzpbKy1dXFxkezR9KT9cXClcXC8iKSxnPShkfHwiIikubWF0Y2goZSk7cmV0dXJuIGc/bmV3IERhdGUoKChnWzFdfHwiIikrZ1syXSkqMSk6bnVsbH19LHBhcnNlUmVnZXhlczpbXSxmb3JtYXRGdW5jdGlvbnM6e01TOmZ1bmN0aW9uKCl7cmV0dXJuIlxcL0RhdGUoIit0aGlzLmdldFRpbWUoKSsiKVxcLyJ9fSx5MmtZZWFyOjUwLE1JTExJOiJtcyIsU0VDT05EOiJzIixNSU5VVEU6Im1pIixIT1VSOiJoIixEQVk6ImQiLE1PTlRIOiJtbyIsWUVBUjoieSIsZGVmYXVsdHM6e30sZGF5TmFtZXM6WyJTdW5kYXkiLCJNb25kYXkiLCJUdWVzZGF5IiwiV2VkbmVzZGF5IiwiVGh1cnNkYXkiLCJGcmlkYXkiLCJTYXR1cmRheSJdLG1vbnRoTmFtZXM6WyJKYW51YXJ5IiwiRmVicnVhcnkiLCJNYXJjaCIsIkFwcmlsIiwiTWF5IiwiSnVuZSIsIkp1bHkiLCJBdWd1c3QiLCJTZXB0ZW1iZXIiLCJPY3RvYmVyIiwiTm92ZW1iZXIiLCJEZWNlbWJlciJdLG1vbnRoTnVtYmVyczp7SmFudWFyeTowLEphbjowLEZlYnJ1YXJ5OjEsRmViOjEsTWFyY2g6MixNYXI6MixBcHJpbDozLEFwcjozLE1heTo0LEp1bmU6NSxKdW46NSxKdWx5OjYsSnVsOjYsQXVndXN0OjcsQXVnOjcsU2VwdGVtYmVyOjgsU2VwOjgsT2N0b2Jlcjo5LE9jdDo5LE5vdmVtYmVyOjEwLE5vdjoxMCxEZWNlbWJlcjoxMSxEZWM6MTF9LGRlZmF1bHRGb3JtYXQ6Im0vZC9ZIixnZXRTaG9ydE1vbnRoTmFtZTpmdW5jdGlvbihjKXtyZXR1cm4gRXh0LkRhdGUubW9udGhOYW1lc1tjXS5zdWJzdHJpbmcoMCwzKX0sZ2V0U2hvcnREYXlOYW1lOmZ1bmN0aW9uKGMpe3JldHVybiBFeHQuRGF0ZS5kYXlOYW1lc1tjXS5zdWJzdHJpbmcoMCwzKX0sZ2V0TW9udGhOdW1iZXI6ZnVuY3Rpb24oYyl7cmV0dXJuIEV4dC5EYXRlLm1vbnRoTnVtYmVyc1tjLnN1YnN0cmluZygwLDEpLnRvVXBwZXJDYXNlKCkrYy5zdWJzdHJpbmcoMSwzKS50b0xvd2VyQ2FzZSgpXX0sZm9ybWF0Q29udGFpbnNIb3VySW5mbzooZnVuY3Rpb24oKXt2YXIgZD0vKFxcLikvZyxjPS8oW2dHaEhpc3VjVU9QWl18TVMpLztyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGMudGVzdChlLnJlcGxhY2UoZCwiIikpfX0oKSksZm9ybWF0Q29udGFpbnNEYXRlSW5mbzooZnVuY3Rpb24oKXt2YXIgZD0vKFxcLikvZyxjPS8oW2Rqem1uWXljVV18TVMpLztyZXR1cm4gZnVuY3Rpb24oZSl7cmV0dXJuIGMudGVzdChlLnJlcGxhY2UoZCwiIikpfX0oKSksdW5lc2NhcGVGb3JtYXQ6KGZ1bmN0aW9uKCl7dmFyIGM9L1xcL2dpO3JldHVybiBmdW5jdGlvbihkKXtyZXR1cm4gZC5yZXBsYWNlKGMsIiIpfX0oKSksZm9ybWF0Q29kZXM6e2Q6IkV4dC5TdHJpbmcubGVmdFBhZCh0aGlzLmdldERhdGUoKSwgMiwgJzAnKSIsRDoiRXh0LkRhdGUuZ2V0U2hvcnREYXlOYW1lKHRoaXMuZ2V0RGF5KCkpIixqOiJ0aGlzLmdldERhdGUoKSIsbDoiRXh0LkRhdGUuZGF5TmFtZXNbdGhpcy5nZXREYXkoKV0iLE46Iih0aGlzLmdldERheSgpID8gdGhpcy5nZXREYXkoKSA6IDcpIixTOiJFeHQuRGF0ZS5nZXRTdWZmaXgodGhpcykiLHc6InRoaXMuZ2V0RGF5KCkiLHo6IkV4dC5EYXRlLmdldERheU9mWWVhcih0aGlzKSIsVzoiRXh0LlN0cmluZy5sZWZ0UGFkKEV4dC5EYXRlLmdldFdlZWtPZlllYXIodGhpcyksIDIsICcwJykiLEY6IkV4dC5EYXRlLm1vbnRoTmFtZXNbdGhpcy5nZXRNb250aCgpXSIsbToiRXh0LlN0cmluZy5sZWZ0UGFkKHRoaXMuZ2V0TW9udGgoKSArIDEsIDIsICcwJykiLE06IkV4dC5EYXRlLmdldFNob3J0TW9udGhOYW1lKHRoaXMuZ2V0TW9udGgoKSkiLG46Iih0aGlzLmdldE1vbnRoKCkgKyAxKSIsdDoiRXh0LkRhdGUuZ2V0RGF5c0luTW9udGgodGhpcykiLEw6IihFeHQuRGF0ZS5pc0xlYXBZZWFyKHRoaXMpID8gMSA6IDApIixvOiIodGhpcy5nZXRGdWxsWWVhcigpICsgKEV4dC5EYXRlLmdldFdlZWtPZlllYXIodGhpcykgPT0gMSAmJiB0aGlzLmdldE1vbnRoKCkgPiAwID8gKzEgOiAoRXh0LkRhdGUuZ2V0V2Vla09mWWVhcih0aGlzKSA+PSA1MiAmJiB0aGlzLmdldE1vbnRoKCkgPCAxMSA/IC0xIDogMCkpKSIsWToiRXh0LlN0cmluZy5sZWZ0UGFkKHRoaXMuZ2V0RnVsbFllYXIoKSwgNCwgJzAnKSIseToiKCcnICsgdGhpcy5nZXRGdWxsWWVhcigpKS5zdWJzdHJpbmcoMiwgNCkiLGE6Iih0aGlzLmdldEhvdXJzKCkgPCAxMiA/ICdhbScgOiAncG0nKSIsQToiKHRoaXMuZ2V0SG91cnMoKSA8IDEyID8gJ0FNJyA6ICdQTScpIixnOiIoKHRoaXMuZ2V0SG91cnMoKSAlIDEyKSA/IHRoaXMuZ2V0SG91cnMoKSAlIDEyIDogMTIpIixHOiJ0aGlzLmdldEhvdXJzKCkiLGg6IkV4dC5TdHJpbmcubGVmdFBhZCgodGhpcy5nZXRIb3VycygpICUgMTIpID8gdGhpcy5nZXRIb3VycygpICUgMTIgOiAxMiwgMiwgJzAnKSIsSDoiRXh0LlN0cmluZy5sZWZ0UGFkKHRoaXMuZ2V0SG91cnMoKSwgMiwgJzAnKSIsaToiRXh0LlN0cmluZy5sZWZ0UGFkKHRoaXMuZ2V0TWludXRlcygpLCAyLCAnMCcpIixzOiJFeHQuU3RyaW5nLmxlZnRQYWQodGhpcy5nZXRTZWNvbmRzKCksIDIsICcwJykiLHU6IkV4dC5TdHJpbmcubGVmdFBhZCh0aGlzLmdldE1pbGxpc2Vjb25kcygpLCAzLCAnMCcpIixPOiJFeHQuRGF0ZS5nZXRHTVRPZmZzZXQodGhpcykiLFA6IkV4dC5EYXRlLmdldEdNVE9mZnNldCh0aGlzLCB0cnVlKSIsVDoiRXh0LkRhdGUuZ2V0VGltZXpvbmUodGhpcykiLFo6Iih0aGlzLmdldFRpbWV6b25lT2Zmc2V0KCkgKiAtNjApIixjOmZ1bmN0aW9uKCl7dmFyIGssaCxnLGQsajtmb3Ioaz0iWS1tLWRUSDppOnNQIixoPVtdLGc9MCxkPWsubGVuZ3RoO2c8ZDsrK2cpe2o9ay5jaGFyQXQoZyk7aC5wdXNoKGo9PSJUIj8iJ1QnIjphLmdldEZvcm1hdENvZGUoaikpfXJldHVybiBoLmpvaW4oIiArICIpfSxVOiJNYXRoLnJvdW5kKHRoaXMuZ2V0VGltZSgpIC8gMTAwMCkifSxpc1ZhbGlkOmZ1bmN0aW9uKG8sYyxuLGssZyxqLGUpe2s9a3x8MDtnPWd8fDA7aj1qfHwwO2U9ZXx8MDt2YXIgbD1hLmFkZChuZXcgRGF0ZShvPDEwMD8xMDA6byxjLTEsbixrLGcsaixlKSxhLllFQVIsbzwxMDA/by0xMDA6MCk7cmV0dXJuIG89PWwuZ2V0RnVsbFllYXIoKSYmYz09bC5nZXRNb250aCgpKzEmJm49PWwuZ2V0RGF0ZSgpJiZrPT1sLmdldEhvdXJzKCkmJmc9PWwuZ2V0TWludXRlcygpJiZqPT1sLmdldFNlY29uZHMoKSYmZT09bC5nZXRNaWxsaXNlY29uZHMoKX0scGFyc2U6ZnVuY3Rpb24oZCxnLGMpe3ZhciBlPWEucGFyc2VGdW5jdGlvbnM7aWYoZVtnXT09bnVsbCl7YS5jcmVhdGVQYXJzZXIoZyl9cmV0dXJuIGVbZ10oZCxFeHQuaXNEZWZpbmVkKGMpP2M6YS51c2VTdHJpY3QpfSxwYXJzZURhdGU6ZnVuY3Rpb24oZCxlLGMpe3JldHVybiBhLnBhcnNlKGQsZSxjKX0sZ2V0Rm9ybWF0Q29kZTpmdW5jdGlvbihkKXt2YXIgYz1hLmZvcm1hdENvZGVzW2RdO2lmKGMpe2M9dHlwZW9mIGM9PSJmdW5jdGlvbiI/YygpOmM7YS5mb3JtYXRDb2Rlc1tkXT1jfXJldHVybiBjfHwoIiciK0V4dC5TdHJpbmcuZXNjYXBlKGQpKyInIil9LGNyZWF0ZUZvcm1hdDpmdW5jdGlvbihoKXt2YXIgZz1bXSxjPWZhbHNlLGU9IiIsZDtmb3IoZD0wO2Q8aC5sZW5ndGg7KytkKXtlPWguY2hhckF0KGQpO2lmKCFjJiZlPT0iXFwiKXtjPXRydWV9ZWxzZXtpZihjKXtjPWZhbHNlO2cucHVzaCgiJyIrRXh0LlN0cmluZy5lc2NhcGUoZSkrIiciKX1lbHNle2cucHVzaChhLmdldEZvcm1hdENvZGUoZSkpfX19YS5mb3JtYXRGdW5jdGlvbnNbaF09RXh0LmZ1bmN0aW9uRmFjdG9yeSgicmV0dXJuICIrZy5qb2luKCIrIikpfSxjcmVhdGVQYXJzZXI6KGZ1bmN0aW9uKCl7dmFyIGM9WyJ2YXIgZHQsIHksIG0sIGQsIGgsIGksIHMsIG1zLCBvLCB6LCB6eiwgdSwgdiwiLCJkZWYgPSBFeHQuRGF0ZS5kZWZhdWx0cywiLCJyZXN1bHRzID0gU3RyaW5nKGlucHV0KS5tYXRjaChFeHQuRGF0ZS5wYXJzZVJlZ2V4ZXNbezB9XSk7IiwiaWYocmVzdWx0cyl7IiwiezF9IiwiaWYodSAhPSBudWxsKXsiLCJ2ID0gbmV3IERhdGUodSAqIDEwMDApOyIsIn1lbHNleyIsImR0ID0gRXh0LkRhdGUuY2xlYXJUaW1lKG5ldyBEYXRlKTsiLCJ5ID0gRXh0Lk51bWJlci5mcm9tKHksIEV4dC5OdW1iZXIuZnJvbShkZWYueSwgZHQuZ2V0RnVsbFllYXIoKSkpOyIsIm0gPSBFeHQuTnVtYmVyLmZyb20obSwgRXh0Lk51bWJlci5mcm9tKGRlZi5tIC0gMSwgZHQuZ2V0TW9udGgoKSkpOyIsImQgPSBFeHQuTnVtYmVyLmZyb20oZCwgRXh0Lk51bWJlci5mcm9tKGRlZi5kLCBkdC5nZXREYXRlKCkpKTsiLCJoICA9IEV4dC5OdW1iZXIuZnJvbShoLCBFeHQuTnVtYmVyLmZyb20oZGVmLmgsIGR0LmdldEhvdXJzKCkpKTsiLCJpICA9IEV4dC5OdW1iZXIuZnJvbShpLCBFeHQuTnVtYmVyLmZyb20oZGVmLmksIGR0LmdldE1pbnV0ZXMoKSkpOyIsInMgID0gRXh0Lk51bWJlci5mcm9tKHMsIEV4dC5OdW1iZXIuZnJvbShkZWYucywgZHQuZ2V0U2Vjb25kcygpKSk7IiwibXMgPSBFeHQuTnVtYmVyLmZyb20obXMsIEV4dC5OdW1iZXIuZnJvbShkZWYubXMsIGR0LmdldE1pbGxpc2Vjb25kcygpKSk7IiwiaWYoeiA+PSAwICYmIHkgPj0gMCl7IiwidiA9IEV4dC5EYXRlLmFkZChuZXcgRGF0ZSh5IDwgMTAwID8gMTAwIDogeSwgMCwgMSwgaCwgaSwgcywgbXMpLCBFeHQuRGF0ZS5ZRUFSLCB5IDwgMTAwID8geSAtIDEwMCA6IDApOyIsInYgPSAhc3RyaWN0PyB2IDogKHN0cmljdCA9PT0gdHJ1ZSAmJiAoeiA8PSAzNjQgfHwgKEV4dC5EYXRlLmlzTGVhcFllYXIodikgJiYgeiA8PSAzNjUpKT8gRXh0LkRhdGUuYWRkKHYsIEV4dC5EYXRlLkRBWSwgeikgOiBudWxsKTsiLCJ9ZWxzZSBpZihzdHJpY3QgPT09IHRydWUgJiYgIUV4dC5EYXRlLmlzVmFsaWQoeSwgbSArIDEsIGQsIGgsIGksIHMsIG1zKSl7IiwidiA9IG51bGw7IiwifWVsc2V7IiwidiA9IEV4dC5EYXRlLmFkZChuZXcgRGF0ZSh5IDwgMTAwID8gMTAwIDogeSwgbSwgZCwgaCwgaSwgcywgbXMpLCBFeHQuRGF0ZS5ZRUFSLCB5IDwgMTAwID8geSAtIDEwMCA6IDApOyIsIn0iLCJ9IiwifSIsImlmKHYpeyIsImlmKHp6ICE9IG51bGwpeyIsInYgPSBFeHQuRGF0ZS5hZGQodiwgRXh0LkRhdGUuU0VDT05ELCAtdi5nZXRUaW1lem9uZU9mZnNldCgpICogNjAgLSB6eik7IiwifWVsc2UgaWYobyl7IiwidiA9IEV4dC5EYXRlLmFkZCh2LCBFeHQuRGF0ZS5NSU5VVEUsIC12LmdldFRpbWV6b25lT2Zmc2V0KCkgKyAoc24gPT0gJysnPyAtMSA6IDEpICogKGhyICogNjAgKyBtbikpOyIsIn0iLCJ9IiwicmV0dXJuIHY7Il0uam9pbigiXG4iKTtyZXR1cm4gZnVuY3Rpb24obyl7dmFyIGU9YS5wYXJzZVJlZ2V4ZXMubGVuZ3RoLHA9MSxnPVtdLG49W10sbD1mYWxzZSxkPSIiLGo9MCxrPW8ubGVuZ3RoLG09W10saDtmb3IoO2o8azsrK2ope2Q9by5jaGFyQXQoaik7aWYoIWwmJmQ9PSJcXCIpe2w9dHJ1ZX1lbHNle2lmKGwpe2w9ZmFsc2U7bi5wdXNoKEV4dC5TdHJpbmcuZXNjYXBlKGQpKX1lbHNle2g9YS5mb3JtYXRDb2RlVG9SZWdleChkLHApO3ArPWguZztuLnB1c2goaC5zKTtpZihoLmcmJmguYyl7aWYoaC5jYWxjQXRFbmQpe20ucHVzaChoLmMpfWVsc2V7Zy5wdXNoKGguYyl9fX19fWc9Zy5jb25jYXQobSk7YS5wYXJzZVJlZ2V4ZXNbZV09bmV3IFJlZ0V4cCgiXiIrbi5qb2luKCIiKSsiJCIsImkiKTthLnBhcnNlRnVuY3Rpb25zW29dPUV4dC5mdW5jdGlvbkZhY3RvcnkoImlucHV0Iiwic3RyaWN0IixiKGMsZSxnLmpvaW4oIiIpKSl9fSgpKSxwYXJzZUNvZGVzOntkOntnOjEsYzoiZCA9IHBhcnNlSW50KHJlc3VsdHNbezB9XSwgMTApO1xuIixzOiIoM1swLTFdfFsxLTJdWzAtOV18MFsxLTldKSJ9LGo6e2c6MSxjOiJkID0gcGFyc2VJbnQocmVzdWx0c1t7MH1dLCAxMCk7XG4iLHM6IigzWzAtMV18WzEtMl1bMC05XXxbMS05XSkifSxEOmZ1bmN0aW9uKCl7Zm9yKHZhciBjPVtdLGQ9MDtkPDc7Yy5wdXNoKGEuZ2V0U2hvcnREYXlOYW1lKGQpKSwrK2Qpe31yZXR1cm57ZzowLGM6bnVsbCxzOiIoPzoiK2Muam9pbigifCIpKyIpIn19LGw6ZnVuY3Rpb24oKXtyZXR1cm57ZzowLGM6bnVsbCxzOiIoPzoiK2EuZGF5TmFtZXMuam9pbigifCIpKyIpIn19LE46e2c6MCxjOm51bGwsczoiWzEtN10ifSxTOntnOjAsYzpudWxsLHM6Iig/OnN0fG5kfHJkfHRoKSJ9LHc6e2c6MCxjOm51bGwsczoiWzAtNl0ifSx6OntnOjEsYzoieiA9IHBhcnNlSW50KHJlc3VsdHNbezB9XSwgMTApO1xuIixzOiIoXFxkezEsM30pIn0sVzp7ZzowLGM6bnVsbCxzOiIoPzpcXGR7Mn0pIn0sRjpmdW5jdGlvbigpe3JldHVybntnOjEsYzoibSA9IHBhcnNlSW50KEV4dC5EYXRlLmdldE1vbnRoTnVtYmVyKHJlc3VsdHNbezB9XSksIDEwKTtcbiIsczoiKCIrYS5tb250aE5hbWVzLmpvaW4oInwiKSsiKSJ9fSxNOmZ1bmN0aW9uKCl7Zm9yKHZhciBjPVtdLGQ9MDtkPDEyO2MucHVzaChhLmdldFNob3J0TW9udGhOYW1lKGQpKSwrK2Qpe31yZXR1cm4gRXh0LmFwcGx5SWYoe3M6IigiK2Muam9pbigifCIpKyIpIn0sYS5mb3JtYXRDb2RlVG9SZWdleCgiRiIpKX0sbTp7ZzoxLGM6Im0gPSBwYXJzZUludChyZXN1bHRzW3swfV0sIDEwKSAtIDE7XG4iLHM6IigxWzAtMl18MFsxLTldKSJ9LG46e2c6MSxjOiJtID0gcGFyc2VJbnQocmVzdWx0c1t7MH1dLCAxMCkgLSAxO1xuIixzOiIoMVswLTJdfFsxLTldKSJ9LHQ6e2c6MCxjOm51bGwsczoiKD86XFxkezJ9KSJ9LEw6e2c6MCxjOm51bGwsczoiKD86MXwwKSJ9LG86ZnVuY3Rpb24oKXtyZXR1cm4gYS5mb3JtYXRDb2RlVG9SZWdleCgiWSIpfSxZOntnOjEsYzoieSA9IHBhcnNlSW50KHJlc3VsdHNbezB9XSwgMTApO1xuIixzOiIoXFxkezR9KSJ9LHk6e2c6MSxjOiJ2YXIgdHkgPSBwYXJzZUludChyZXN1bHRzW3swfV0sIDEwKTtcbnkgPSB0eSA+IEV4dC5EYXRlLnkya1llYXIgPyAxOTAwICsgdHkgOiAyMDAwICsgdHk7XG4iLHM6IihcXGR7MSwyfSkifSxhOntnOjEsYzoiaWYgKC8oYW0pL2kudGVzdChyZXN1bHRzW3swfV0pKSB7XG5pZiAoIWggfHwgaCA9PSAxMikgeyBoID0gMDsgfVxufSBlbHNlIHsgaWYgKCFoIHx8IGggPCAxMikgeyBoID0gKGggfHwgMCkgKyAxMjsgfX0iLHM6IihhbXxwbXxBTXxQTSkiLGNhbGNBdEVuZDp0cnVlfSxBOntnOjEsYzoiaWYgKC8oYW0pL2kudGVzdChyZXN1bHRzW3swfV0pKSB7XG5pZiAoIWggfHwgaCA9PSAxMikgeyBoID0gMDsgfVxufSBlbHNlIHsgaWYgKCFoIHx8IGggPCAxMikgeyBoID0gKGggfHwgMCkgKyAxMjsgfX0iLHM6IihBTXxQTXxhbXxwbSkiLGNhbGNBdEVuZDp0cnVlfSxnOntnOjEsYzoiaCA9IHBhcnNlSW50KHJlc3VsdHNbezB9XSwgMTApO1xuIixzOiIoMVswLTJdfFswLTldKSJ9LEc6e2c6MSxjOiJoID0gcGFyc2VJbnQocmVzdWx0c1t7MH1dLCAxMCk7XG4iLHM6IigyWzAtM118MVswLTldfFswLTldKSJ9LGg6e2c6MSxjOiJoID0gcGFyc2VJbnQocmVzdWx0c1t7MH1dLCAxMCk7XG4iLHM6IigxWzAtMl18MFsxLTldKSJ9LEg6e2c6MSxjOiJoID0gcGFyc2VJbnQocmVzdWx0c1t7MH1dLCAxMCk7XG4iLHM6IigyWzAtM118WzAtMV1bMC05XSkifSxpOntnOjEsYzoiaSA9IHBhcnNlSW50KHJlc3VsdHNbezB9XSwgMTApO1xuIixzOiIoWzAtNV1bMC05XSkifSxzOntnOjEsYzoicyA9IHBhcnNlSW50KHJlc3VsdHNbezB9XSwgMTApO1xuIixzOiIoWzAtNV1bMC05XSkifSx1OntnOjEsYzoibXMgPSByZXN1bHRzW3swfV07IG1zID0gcGFyc2VJbnQobXMsIDEwKS9NYXRoLnBvdygxMCwgbXMubGVuZ3RoIC0gMyk7XG4iLHM6IihcXGQrKSJ9LE86e2c6MSxjOlsibyA9IHJlc3VsdHNbezB9XTsiLCJ2YXIgc24gPSBvLnN1YnN0cmluZygwLDEpLCIsImhyID0gby5zdWJzdHJpbmcoMSwzKSoxICsgTWF0aC5mbG9vcihvLnN1YnN0cmluZygzLDUpIC8gNjApLCIsIm1uID0gby5zdWJzdHJpbmcoMyw1KSAlIDYwOyIsIm8gPSAoKC0xMiA8PSAoaHIqNjAgKyBtbikvNjApICYmICgoaHIqNjAgKyBtbikvNjAgPD0gMTQpKT8gKHNuICsgRXh0LlN0cmluZy5sZWZ0UGFkKGhyLCAyLCAnMCcpICsgRXh0LlN0cmluZy5sZWZ0UGFkKG1uLCAyLCAnMCcpKSA6IG51bGw7XG4iXS5qb2luKCJcbiIpLHM6IihbKy1dXFxkezR9KSJ9LFA6e2c6MSxjOlsibyA9IHJlc3VsdHNbezB9XTsiLCJ2YXIgc24gPSBvLnN1YnN0cmluZygwLDEpLCIsImhyID0gby5zdWJzdHJpbmcoMSwzKSoxICsgTWF0aC5mbG9vcihvLnN1YnN0cmluZyg0LDYpIC8gNjApLCIsIm1uID0gby5zdWJzdHJpbmcoNCw2KSAlIDYwOyIsIm8gPSAoKC0xMiA8PSAoaHIqNjAgKyBtbikvNjApICYmICgoaHIqNjAgKyBtbikvNjAgPD0gMTQpKT8gKHNuICsgRXh0LlN0cmluZy5sZWZ0UGFkKGhyLCAyLCAnMCcpICsgRXh0LlN0cmluZy5sZWZ0UGFkKG1uLCAyLCAnMCcpKSA6IG51bGw7XG4iXS5qb2luKCJcbiIpLHM6IihbKy1dXFxkezJ9OlxcZHsyfSkifSxUOntnOjAsYzpudWxsLHM6IltBLVpdezEsNH0ifSxaOntnOjEsYzoienogPSByZXN1bHRzW3swfV0gKiAxO1xuenogPSAoLTQzMjAwIDw9IHp6ICYmIHp6IDw9IDUwNDAwKT8genogOiBudWxsO1xuIixzOiIoWystXT9cXGR7MSw1fSkifSxjOmZ1bmN0aW9uKCl7dmFyIGU9W10sYz1bYS5mb3JtYXRDb2RlVG9SZWdleCgiWSIsMSksYS5mb3JtYXRDb2RlVG9SZWdleCgibSIsMiksYS5mb3JtYXRDb2RlVG9SZWdleCgiZCIsMyksYS5mb3JtYXRDb2RlVG9SZWdleCgiSCIsNCksYS5mb3JtYXRDb2RlVG9SZWdleCgiaSIsNSksYS5mb3JtYXRDb2RlVG9SZWdleCgicyIsNikse2M6Im1zID0gcmVzdWx0c1s3XSB8fCAnMCc7IG1zID0gcGFyc2VJbnQobXMsIDEwKS9NYXRoLnBvdygxMCwgbXMubGVuZ3RoIC0gMyk7XG4ifSx7YzpbImlmKHJlc3VsdHNbOF0pIHsiLCJpZihyZXN1bHRzWzhdID09ICdaJyl7IiwienogPSAwOyIsIn1lbHNlIGlmIChyZXN1bHRzWzhdLmluZGV4T2YoJzonKSA+IC0xKXsiLGEuZm9ybWF0Q29kZVRvUmVnZXgoIlAiLDgpLmMsIn1lbHNleyIsYS5mb3JtYXRDb2RlVG9SZWdleCgiTyIsOCkuYywifSIsIn0iXS5qb2luKCJcbiIpfV0sZyxkO2ZvcihnPTAsZD1jLmxlbmd0aDtnPGQ7KytnKXtlLnB1c2goY1tnXS5jKX1yZXR1cm57ZzoxLGM6ZS5qb2luKCIiKSxzOltjWzBdLnMsIig/OiIsIi0iLGNbMV0ucywiKD86IiwiLSIsY1syXS5zLCIoPzoiLCIoPzpUfCApPyIsY1szXS5zLCI6IixjWzRdLnMsIig/OjoiLGNbNV0ucywiKT8iLCIoPzooPzpcXC58LCkoXFxkKykpPyIsIihafCg/OlstK11cXGR7Mn0oPzo6KT9cXGR7Mn0pKT8iLCIpPyIsIik/IiwiKT8iXS5qb2luKCIiKX19LFU6e2c6MSxjOiJ1ID0gcGFyc2VJbnQocmVzdWx0c1t7MH1dLCAxMCk7XG4iLHM6IigtP1xcZCspIn19LGRhdGVGb3JtYXQ6ZnVuY3Rpb24oYyxkKXtyZXR1cm4gYS5mb3JtYXQoYyxkKX0saXNFcXVhbDpmdW5jdGlvbihkLGMpe2lmKGQmJmMpe3JldHVybihkLmdldFRpbWUoKT09PWMuZ2V0VGltZSgpKX1yZXR1cm4gIShkfHxjKX0sZm9ybWF0OmZ1bmN0aW9uKGQsZSl7dmFyIGM9YS5mb3JtYXRGdW5jdGlvbnM7aWYoIUV4dC5pc0RhdGUoZCkpe3JldHVybiIifWlmKGNbZV09PW51bGwpe2EuY3JlYXRlRm9ybWF0KGUpfXJldHVybiBjW2VdLmNhbGwoZCkrIiJ9LGdldFRpbWV6b25lOmZ1bmN0aW9uKGMpe3JldHVybiBjLnRvU3RyaW5nKCkucmVwbGFjZSgvXi4qICg/OlwoKC4qKVwpfChbQS1aXXsxLDR9KSg/OltcLStdWzAtOV17NH0pPyg/OiAtP1xkKyk/KSQvLCIkMSQyIikucmVwbGFjZSgvW15BLVpdL2csIiIpfSxnZXRHTVRPZmZzZXQ6ZnVuY3Rpb24oYyxkKXt2YXIgZT1jLmdldFRpbWV6b25lT2Zmc2V0KCk7cmV0dXJuKGU+MD8iLSI6IisiKStFeHQuU3RyaW5nLmxlZnRQYWQoTWF0aC5mbG9vcihNYXRoLmFicyhlKS82MCksMiwiMCIpKyhkPyI6IjoiIikrRXh0LlN0cmluZy5sZWZ0UGFkKE1hdGguYWJzKGUlNjApLDIsIjAiKX0sZ2V0RGF5T2ZZZWFyOmZ1bmN0aW9uKGcpe3ZhciBlPTAsaj1FeHQuRGF0ZS5jbG9uZShnKSxjPWcuZ2V0TW9udGgoKSxoO2ZvcihoPTAsai5zZXREYXRlKDEpLGouc2V0TW9udGgoMCk7aDxjO2ouc2V0TW9udGgoKytoKSl7ZSs9YS5nZXREYXlzSW5Nb250aChqKX1yZXR1cm4gZStnLmdldERhdGUoKS0xfSxnZXRXZWVrT2ZZZWFyOihmdW5jdGlvbigpe3ZhciBjPTg2NDAwMDAwLGQ9NypjO3JldHVybiBmdW5jdGlvbihnKXt2YXIgaD1EYXRlLlVUQyhnLmdldEZ1bGxZZWFyKCksZy5nZXRNb250aCgpLGcuZ2V0RGF0ZSgpKzMpL2MsZT1NYXRoLmZsb29yKGgvNyksaT1uZXcgRGF0ZShlKmQpLmdldFVUQ0Z1bGxZZWFyKCk7cmV0dXJuIGUtTWF0aC5mbG9vcihEYXRlLlVUQyhpLDAsNykvZCkrMX19KCkpLGlzTGVhcFllYXI6ZnVuY3Rpb24oYyl7dmFyIGQ9Yy5nZXRGdWxsWWVhcigpO3JldHVybiAhISgoZCYzKT09MCYmKGQlMTAwfHwoZCU0MDA9PTAmJmQpKSl9LGdldEZpcnN0RGF5T2ZNb250aDpmdW5jdGlvbihkKXt2YXIgYz0oZC5nZXREYXkoKS0oZC5nZXREYXRlKCktMSkpJTc7cmV0dXJuKGM8MCk/KGMrNyk6Y30sZ2V0TGFzdERheU9mTW9udGg6ZnVuY3Rpb24oYyl7cmV0dXJuIGEuZ2V0TGFzdERhdGVPZk1vbnRoKGMpLmdldERheSgpfSxnZXRGaXJzdERhdGVPZk1vbnRoOmZ1bmN0aW9uKGMpe3JldHVybiBuZXcgRGF0ZShjLmdldEZ1bGxZZWFyKCksYy5nZXRNb250aCgpLDEpfSxnZXRMYXN0RGF0ZU9mTW9udGg6ZnVuY3Rpb24oYyl7cmV0dXJuIG5ldyBEYXRlKGMuZ2V0RnVsbFllYXIoKSxjLmdldE1vbnRoKCksYS5nZXREYXlzSW5Nb250aChjKSl9LGdldERheXNJbk1vbnRoOihmdW5jdGlvbigpe3ZhciBjPVszMSwyOCwzMSwzMCwzMSwzMCwzMSwzMSwzMCwzMSwzMCwzMV07cmV0dXJuIGZ1bmN0aW9uKGUpe3ZhciBkPWUuZ2V0TW9udGgoKTtyZXR1cm4gZD09MSYmYS5pc0xlYXBZZWFyKGUpPzI5OmNbZF19fSgpKSxnZXRTdWZmaXg6ZnVuY3Rpb24oYyl7c3dpdGNoKGMuZ2V0RGF0ZSgpKXtjYXNlIDE6Y2FzZSAyMTpjYXNlIDMxOnJldHVybiJzdCI7Y2FzZSAyOmNhc2UgMjI6cmV0dXJuIm5kIjtjYXNlIDM6Y2FzZSAyMzpyZXR1cm4icmQiO2RlZmF1bHQ6cmV0dXJuInRoIn19LGNsb25lOmZ1bmN0aW9uKGMpe3JldHVybiBuZXcgRGF0ZShjLmdldFRpbWUoKSl9LGlzRFNUOmZ1bmN0aW9uKGMpe3JldHVybiBuZXcgRGF0ZShjLmdldEZ1bGxZZWFyKCksMCwxKS5nZXRUaW1lem9uZU9mZnNldCgpIT1jLmdldFRpbWV6b25lT2Zmc2V0KCl9LGNsZWFyVGltZTpmdW5jdGlvbihlLGope2lmKGope3JldHVybiBFeHQuRGF0ZS5jbGVhclRpbWUoRXh0LkRhdGUuY2xvbmUoZSkpfXZhciBoPWUuZ2V0RGF0ZSgpLGcsaTtlLnNldEhvdXJzKDApO2Uuc2V0TWludXRlcygwKTtlLnNldFNlY29uZHMoMCk7ZS5zZXRNaWxsaXNlY29uZHMoMCk7aWYoZS5nZXREYXRlKCkhPWgpe2ZvcihnPTEsaT1hLmFkZChlLEV4dC5EYXRlLkhPVVIsZyk7aS5nZXREYXRlKCkhPWg7ZysrLGk9YS5hZGQoZSxFeHQuRGF0ZS5IT1VSLGcpKXt9ZS5zZXREYXRlKGgpO2Uuc2V0SG91cnMoaS5nZXRIb3VycygpKX1yZXR1cm4gZX0sYWRkOmZ1bmN0aW9uKGgsZyxpKXt2YXIgaj1FeHQuRGF0ZS5jbG9uZShoKSxjPUV4dC5EYXRlLGU7aWYoIWd8fGk9PT0wKXtyZXR1cm4gan1zd2l0Y2goZy50b0xvd2VyQ2FzZSgpKXtjYXNlIEV4dC5EYXRlLk1JTExJOmouc2V0TWlsbGlzZWNvbmRzKGouZ2V0TWlsbGlzZWNvbmRzKCkraSk7YnJlYWs7Y2FzZSBFeHQuRGF0ZS5TRUNPTkQ6ai5zZXRTZWNvbmRzKGouZ2V0U2Vjb25kcygpK2kpO2JyZWFrO2Nhc2UgRXh0LkRhdGUuTUlOVVRFOmouc2V0TWludXRlcyhqLmdldE1pbnV0ZXMoKStpKTticmVhaztjYXNlIEV4dC5EYXRlLkhPVVI6ai5zZXRIb3VycyhqLmdldEhvdXJzKCkraSk7YnJlYWs7Y2FzZSBFeHQuRGF0ZS5EQVk6ai5zZXREYXRlKGouZ2V0RGF0ZSgpK2kpO2JyZWFrO2Nhc2UgRXh0LkRhdGUuTU9OVEg6ZT1oLmdldERhdGUoKTtpZihlPjI4KXtlPU1hdGgubWluKGUsRXh0LkRhdGUuZ2V0TGFzdERhdGVPZk1vbnRoKEV4dC5EYXRlLmFkZChFeHQuRGF0ZS5nZXRGaXJzdERhdGVPZk1vbnRoKGgpLEV4dC5EYXRlLk1PTlRILGkpKS5nZXREYXRlKCkpfWouc2V0RGF0ZShlKTtqLnNldE1vbnRoKGguZ2V0TW9udGgoKStpKTticmVhaztjYXNlIEV4dC5EYXRlLllFQVI6ZT1oLmdldERhdGUoKTtpZihlPjI4KXtlPU1hdGgubWluKGUsRXh0LkRhdGUuZ2V0TGFzdERhdGVPZk1vbnRoKEV4dC5EYXRlLmFkZChFeHQuRGF0ZS5nZXRGaXJzdERhdGVPZk1vbnRoKGgpLEV4dC5EYXRlLllFQVIsaSkpLmdldERhdGUoKSl9ai5zZXREYXRlKGUpO2ouc2V0RnVsbFllYXIoaC5nZXRGdWxsWWVhcigpK2kpO2JyZWFrfXJldHVybiBqfSxiZXR3ZWVuOmZ1bmN0aW9uKGQsZyxjKXt2YXIgZT1kLmdldFRpbWUoKTtyZXR1cm4gZy5nZXRUaW1lKCk8PWUmJmU8PWMuZ2V0VGltZSgpfSxjb21wYXQ6ZnVuY3Rpb24oKXt2YXIgZD13aW5kb3cuRGF0ZSxjLGwsaj1bInVzZVN0cmljdCIsImZvcm1hdENvZGVUb1JlZ2V4IiwicGFyc2VGdW5jdGlvbnMiLCJwYXJzZVJlZ2V4ZXMiLCJmb3JtYXRGdW5jdGlvbnMiLCJ5MmtZZWFyIiwiTUlMTEkiLCJTRUNPTkQiLCJNSU5VVEUiLCJIT1VSIiwiREFZIiwiTU9OVEgiLCJZRUFSIiwiZGVmYXVsdHMiLCJkYXlOYW1lcyIsIm1vbnRoTmFtZXMiLCJtb250aE51bWJlcnMiLCJnZXRTaG9ydE1vbnRoTmFtZSIsImdldFNob3J0RGF5TmFtZSIsImdldE1vbnRoTnVtYmVyIiwiZm9ybWF0Q29kZXMiLCJpc1ZhbGlkIiwicGFyc2VEYXRlIiwiZ2V0Rm9ybWF0Q29kZSIsImNyZWF0ZUZvcm1hdCIsImNyZWF0ZVBhcnNlciIsInBhcnNlQ29kZXMiXSxoPVsiZGF0ZUZvcm1hdCIsImZvcm1hdCIsImdldFRpbWV6b25lIiwiZ2V0R01UT2Zmc2V0IiwiZ2V0RGF5T2ZZZWFyIiwiZ2V0V2Vla09mWWVhciIsImlzTGVhcFllYXIiLCJnZXRGaXJzdERheU9mTW9udGgiLCJnZXRMYXN0RGF5T2ZNb250aCIsImdldERheXNJbk1vbnRoIiwiZ2V0U3VmZml4IiwiY2xvbmUiLCJpc0RTVCIsImNsZWFyVGltZSIsImFkZCIsImJldHdlZW4iXSxpPWoubGVuZ3RoLGU9aC5sZW5ndGgsZyxrLG07Zm9yKG09MDttPGk7bSsrKXtnPWpbbV07ZFtnXT1hW2ddfWZvcihjPTA7YzxlO2MrKyl7az1oW2NdO2QucHJvdG90eXBlW2tdPWZ1bmN0aW9uKCl7dmFyIG49QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtuLnVuc2hpZnQodGhpcyk7cmV0dXJuIGFba10uYXBwbHkoYSxuKX19fX07dmFyIGE9RXh0LkRhdGV9KCkpOyhmdW5jdGlvbihhKXt2YXIgYz1bXSxiPWZ1bmN0aW9uKCl7fTtFeHQuYXBwbHkoYix7JGNsYXNzTmFtZToiRXh0LkJhc2UiLCRpc0NsYXNzOnRydWUsY3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIEV4dC5jcmVhdGUuYXBwbHkoRXh0LFt0aGlzXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApKSl9LGV4dGVuZDpmdW5jdGlvbihqKXt2YXIgZD1qLnByb3RvdHlwZSxtLGcsaCxrLGUsbDtnPXRoaXMucHJvdG90eXBlPUV4dC5PYmplY3QuY2hhaW4oZCk7Zy5zZWxmPXRoaXM7dGhpcy5zdXBlcmNsYXNzPWcuc3VwZXJjbGFzcz1kO2lmKCFqLiRpc0NsYXNzKXttPUV4dC5CYXNlLnByb3RvdHlwZTtmb3IoaCBpbiBtKXtpZihoIGluIGcpe2dbaF09bVtoXX19fWw9ZC4kaW5oZXJpdGFibGVTdGF0aWNzO2lmKGwpe2ZvcihoPTAsaz1sLmxlbmd0aDtoPGs7aCsrKXtlPWxbaF07aWYoIXRoaXMuaGFzT3duUHJvcGVydHkoZSkpe3RoaXNbZV09altlXX19fWlmKGouJG9uRXh0ZW5kZWQpe3RoaXMuJG9uRXh0ZW5kZWQ9ai4kb25FeHRlbmRlZC5zbGljZSgpfWcuY29uZmlnPW5ldyBnLmNvbmZpZ0NsYXNzKCk7Zy5pbml0Q29uZmlnTGlzdD1nLmluaXRDb25maWdMaXN0LnNsaWNlKCk7Zy5pbml0Q29uZmlnTWFwPUV4dC5jbG9uZShnLmluaXRDb25maWdNYXApO2cuY29uZmlnTWFwPUV4dC5PYmplY3QuY2hhaW4oZy5jb25maWdNYXApfSwkb25FeHRlbmRlZDpbXSx0cmlnZ2VyRXh0ZW5kZWQ6ZnVuY3Rpb24oKXt2YXIgZz10aGlzLiRvbkV4dGVuZGVkLGU9Zy5sZW5ndGgsZCxoO2lmKGU+MCl7Zm9yKGQ9MDtkPGU7ZCsrKXtoPWdbZF07aC5mbi5hcHBseShoLnNjb3BlfHx0aGlzLGFyZ3VtZW50cyl9fX0sb25FeHRlbmRlZDpmdW5jdGlvbihlLGQpe3RoaXMuJG9uRXh0ZW5kZWQucHVzaCh7Zm46ZSxzY29wZTpkfSk7cmV0dXJuIHRoaXN9LGFkZENvbmZpZzpmdW5jdGlvbihoLGwpe3ZhciBuPXRoaXMucHJvdG90eXBlLG09RXh0LkNsYXNzLmNvbmZpZ05hbWVDYWNoZSxpPW4uY29uZmlnTWFwLGo9bi5pbml0Q29uZmlnTGlzdCxnPW4uaW5pdENvbmZpZ01hcCxrPW4uY29uZmlnLGQsZSxvO2ZvcihlIGluIGgpe2lmKGguaGFzT3duUHJvcGVydHkoZSkpe2lmKCFpW2VdKXtpW2VdPXRydWV9bz1oW2VdO2Q9bVtlXS5pbml0aWFsaXplZDtpZighZ1tlXSYmbyE9PW51bGwmJiFuW2RdKXtnW2VdPXRydWU7ai5wdXNoKGUpfX19aWYobCl7RXh0Lm1lcmdlKGssaCl9ZWxzZXtFeHQubWVyZ2VJZihrLGgpfW4uY29uZmlnQ2xhc3M9RXh0Lk9iamVjdC5jbGFzc2lmeShrKX0sYWRkU3RhdGljczpmdW5jdGlvbihkKXt2YXIgZyxlO2ZvcihlIGluIGQpe2lmKGQuaGFzT3duUHJvcGVydHkoZSkpe2c9ZFtlXTt0aGlzW2VdPWd9fXJldHVybiB0aGlzfSxhZGRJbmhlcml0YWJsZVN0YXRpY3M6ZnVuY3Rpb24oZSl7dmFyIGksZCxoPXRoaXMucHJvdG90eXBlLGcsajtpPWguJGluaGVyaXRhYmxlU3RhdGljcztkPWguJGhhc0luaGVyaXRhYmxlU3RhdGljcztpZighaSl7aT1oLiRpbmhlcml0YWJsZVN0YXRpY3M9W107ZD1oLiRoYXNJbmhlcml0YWJsZVN0YXRpY3M9e319Zm9yKGcgaW4gZSl7aWYoZS5oYXNPd25Qcm9wZXJ0eShnKSl7aj1lW2ddO3RoaXNbZ109ajtpZighZFtnXSl7ZFtnXT10cnVlO2kucHVzaChnKX19fXJldHVybiB0aGlzfSxhZGRNZW1iZXJzOmZ1bmN0aW9uKGUpe3ZhciBoPXRoaXMucHJvdG90eXBlLGQ9RXh0LmVudW1lcmFibGVzLGw9W10saixrLGcsbTtmb3IoZyBpbiBlKXtsLnB1c2goZyl9aWYoZCl7bC5wdXNoLmFwcGx5KGwsZCl9Zm9yKGo9MCxrPWwubGVuZ3RoO2o8aztqKyspe2c9bFtqXTtpZihlLmhhc093blByb3BlcnR5KGcpKXttPWVbZ107aWYodHlwZW9mIG09PSJmdW5jdGlvbiImJiFtLiRpc0NsYXNzJiZtIT09RXh0LmVtcHR5Rm4pe20uJG93bmVyPXRoaXM7bS4kbmFtZT1nfWhbZ109bX19cmV0dXJuIHRoaXN9LGFkZE1lbWJlcjpmdW5jdGlvbihkLGUpe2lmKHR5cGVvZiBlPT0iZnVuY3Rpb24iJiYhZS4kaXNDbGFzcyYmZSE9PUV4dC5lbXB0eUZuKXtlLiRvd25lcj10aGlzO2UuJG5hbWU9ZH10aGlzLnByb3RvdHlwZVtkXT1lO3JldHVybiB0aGlzfSxpbXBsZW1lbnQ6ZnVuY3Rpb24oKXt0aGlzLmFkZE1lbWJlcnMuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxib3Jyb3c6ZnVuY3Rpb24oaixnKXt2YXIgbj10aGlzLnByb3RvdHlwZSxtPWoucHJvdG90eXBlLGgsayxlLGwsZDtnPUV4dC5BcnJheS5mcm9tKGcpO2ZvcihoPTAsaz1nLmxlbmd0aDtoPGs7aCsrKXtlPWdbaF07ZD1tW2VdO2lmKHR5cGVvZiBkPT0iZnVuY3Rpb24iKXtsPUV4dC5GdW5jdGlvbi5jbG9uZShkKTtsLiRvd25lcj10aGlzO2wuJG5hbWU9ZTtuW2VdPWx9ZWxzZXtuW2VdPWR9fXJldHVybiB0aGlzfSxvdmVycmlkZTpmdW5jdGlvbihlKXt2YXIgbT10aGlzLG89RXh0LmVudW1lcmFibGVzLGs9bS5wcm90b3R5cGUsaD1FeHQuRnVuY3Rpb24uY2xvbmUsZCxqLGcsbixsLGk7aWYoYXJndW1lbnRzLmxlbmd0aD09PTIpe2Q9ZTtlPXt9O2VbZF09YXJndW1lbnRzWzFdO289bnVsbH1kb3tsPVtdO249bnVsbDtmb3IoZCBpbiBlKXtpZihkPT0ic3RhdGljcyIpe249ZVtkXX1lbHNle2lmKGQ9PSJjb25maWciKXttLmFkZENvbmZpZyhlW2RdLHRydWUpfWVsc2V7bC5wdXNoKGQpfX19aWYobyl7bC5wdXNoLmFwcGx5KGwsbyl9Zm9yKGo9bC5sZW5ndGg7ai0tOyl7ZD1sW2pdO2lmKGUuaGFzT3duUHJvcGVydHkoZCkpe2c9ZVtkXTtpZih0eXBlb2YgZz09ImZ1bmN0aW9uIiYmIWcuJGNsYXNzTmFtZSYmZyE9PUV4dC5lbXB0eUZuKXtpZih0eXBlb2YgZy4kb3duZXIhPSJ1bmRlZmluZWQiKXtnPWgoZyl9Zy4kb3duZXI9bTtnLiRuYW1lPWQ7aT1rW2RdO2lmKGkpe2cuJHByZXZpb3VzPWl9fWtbZF09Z319az1tO2U9bn13aGlsZShlKTtyZXR1cm4gdGhpc30sY2FsbFBhcmVudDpmdW5jdGlvbihkKXt2YXIgZTtyZXR1cm4oZT10aGlzLmNhbGxQYXJlbnQuY2FsbGVyKSYmKGUuJHByZXZpb3VzfHwoKGU9ZS4kb3duZXI/ZTplLmNhbGxlcikmJmUuJG93bmVyLnN1cGVyY2xhc3MuJGNsYXNzW2UuJG5hbWVdKSkuYXBwbHkodGhpcyxkfHxjKX0sbWl4aW46ZnVuY3Rpb24oZyxpKXt2YXIgZD1pLnByb3RvdHlwZSxlPXRoaXMucHJvdG90eXBlLGg7aWYodHlwZW9mIGQub25DbGFzc01peGVkSW4hPSJ1bmRlZmluZWQiKXtkLm9uQ2xhc3NNaXhlZEluLmNhbGwoaSx0aGlzKX1pZighZS5oYXNPd25Qcm9wZXJ0eSgibWl4aW5zIikpe2lmKCJtaXhpbnMiIGluIGUpe2UubWl4aW5zPUV4dC5PYmplY3QuY2hhaW4oZS5taXhpbnMpfWVsc2V7ZS5taXhpbnM9e319fWZvcihoIGluIGQpe2lmKGg9PT0ibWl4aW5zIil7RXh0Lm1lcmdlKGUubWl4aW5zLGRbaF0pfWVsc2V7aWYodHlwZW9mIGVbaF09PSJ1bmRlZmluZWQiJiZoIT0ibWl4aW5JZCImJmghPSJjb25maWciKXtlW2hdPWRbaF19fX1pZigiY29uZmlnIiBpbiBkKXt0aGlzLmFkZENvbmZpZyhkLmNvbmZpZyxmYWxzZSl9ZS5taXhpbnNbZ109ZH0sZ2V0TmFtZTpmdW5jdGlvbigpe3JldHVybiBFeHQuZ2V0Q2xhc3NOYW1lKHRoaXMpfSxjcmVhdGVBbGlhczphKGZ1bmN0aW9uKGUsZCl7dGhpcy5vdmVycmlkZShlLGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbZF0uYXBwbHkodGhpcyxhcmd1bWVudHMpfSl9KSxhZGRYdHlwZTpmdW5jdGlvbihpKXt2YXIgZT10aGlzLnByb3RvdHlwZSxoPWUueHR5cGVzTWFwLGc9ZS54dHlwZXMsZD1lLnh0eXBlc0NoYWluO2lmKCFlLmhhc093blByb3BlcnR5KCJ4dHlwZXNNYXAiKSl7aD1lLnh0eXBlc01hcD1FeHQubWVyZ2Uoe30sZS54dHlwZXNNYXB8fHt9KTtnPWUueHR5cGVzPWUueHR5cGVzP1tdLmNvbmNhdChlLnh0eXBlcyk6W107ZD1lLnh0eXBlc0NoYWluPWUueHR5cGVzQ2hhaW4/W10uY29uY2F0KGUueHR5cGVzQ2hhaW4pOltdO2UueHR5cGU9aX1pZighaFtpXSl7aFtpXT10cnVlO2cucHVzaChpKTtkLnB1c2goaSk7RXh0LkNsYXNzTWFuYWdlci5zZXRBbGlhcyh0aGlzLCJ3aWRnZXQuIitpKX1yZXR1cm4gdGhpc319KTtiLmltcGxlbWVudCh7aXNJbnN0YW5jZTp0cnVlLCRjbGFzc05hbWU6IkV4dC5CYXNlIixjb25maWdDbGFzczpFeHQuZW1wdHlGbixpbml0Q29uZmlnTGlzdDpbXSxjb25maWdNYXA6e30saW5pdENvbmZpZ01hcDp7fSxzdGF0aWNzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zdGF0aWNzLmNhbGxlcixkPXRoaXMuc2VsZjtpZighZSl7cmV0dXJuIGR9cmV0dXJuIGUuJG93bmVyfSxjYWxsUGFyZW50OmZ1bmN0aW9uKGUpe3ZhciBnLGQ9KGc9dGhpcy5jYWxsUGFyZW50LmNhbGxlcikmJihnLiRwcmV2aW91c3x8KChnPWcuJG93bmVyP2c6Zy5jYWxsZXIpJiZnLiRvd25lci5zdXBlcmNsYXNzW2cuJG5hbWVdKSk7cmV0dXJuIGQuYXBwbHkodGhpcyxlfHxjKX0sc2VsZjpiLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGluaXRDb25maWc6ZnVuY3Rpb24oZyl7dmFyIG09ZyxsPUV4dC5DbGFzcy5jb25maWdOYW1lQ2FjaGUsaj1uZXcgdGhpcy5jb25maWdDbGFzcygpLHA9dGhpcy5pbml0Q29uZmlnTGlzdCxoPXRoaXMuY29uZmlnTWFwLG8sayxuLGUsZDt0aGlzLmluaXRDb25maWc9RXh0LmVtcHR5Rm47dGhpcy5pbml0aWFsQ29uZmlnPW18fHt9O3RoaXMuY29uZmlnPWc9KG0pP0V4dC5tZXJnZShqLGcpOmo7aWYobSl7cD1wLnNsaWNlKCk7Zm9yKGUgaW4gbSl7aWYoaFtlXSl7aWYobVtlXSE9PW51bGwpe3AucHVzaChlKTt0aGlzW2xbZV0uaW5pdGlhbGl6ZWRdPWZhbHNlfX19fWZvcihrPTAsbj1wLmxlbmd0aDtrPG47aysrKXtlPXBba107bz1sW2VdO2Q9by5pbml0aWFsaXplZDtpZighdGhpc1tkXSl7dGhpc1tkXT10cnVlO3RoaXNbby5zZXRdLmNhbGwodGhpcyxnW2VdKX19cmV0dXJuIHRoaXN9LGhhc0NvbmZpZzpmdW5jdGlvbihkKXtyZXR1cm4gQm9vbGVhbih0aGlzLmNvbmZpZ01hcFtkXSl9LHNldENvbmZpZzpmdW5jdGlvbihoLGwpe2lmKCFoKXtyZXR1cm4gdGhpc312YXIgZz1FeHQuQ2xhc3MuY29uZmlnTmFtZUNhY2hlLGQ9dGhpcy5jb25maWcsaz10aGlzLmNvbmZpZ01hcCxqPXRoaXMuaW5pdGlhbENvbmZpZyxlLGk7bD1Cb29sZWFuKGwpO2ZvcihlIGluIGgpe2lmKGwmJmouaGFzT3duUHJvcGVydHkoZSkpe2NvbnRpbnVlfWk9aFtlXTtkW2VdPWk7aWYoa1tlXSl7dGhpc1tnW2VdLnNldF0oaSl9fXJldHVybiB0aGlzfSxnZXRDb25maWc6ZnVuY3Rpb24oZSl7dmFyIGQ9RXh0LkNsYXNzLmNvbmZpZ05hbWVDYWNoZTtyZXR1cm4gdGhpc1tkW2VdLmdldF0oKX0sZ2V0SW5pdGlhbENvbmZpZzpmdW5jdGlvbihlKXt2YXIgZD10aGlzLmNvbmZpZztpZighZSl7cmV0dXJuIGR9ZWxzZXtyZXR1cm4gZFtlXX19LG9uQ29uZmlnVXBkYXRlOmZ1bmN0aW9uKGssbSxuKXt2YXIgbz10aGlzLnNlbGYsZyxqLGQsaCxsLGU7az1FeHQuQXJyYXkuZnJvbShrKTtuPW58fHRoaXM7Zm9yKGc9MCxqPWsubGVuZ3RoO2c8ajtnKyspe2Q9a1tnXTtoPSJ1cGRhdGUiK0V4dC5TdHJpbmcuY2FwaXRhbGl6ZShkKTtsPXRoaXNbaF18fEV4dC5lbXB0eUZuO2U9ZnVuY3Rpb24oKXtsLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtuW21dLmFwcGx5KG4sYXJndW1lbnRzKX07ZS4kbmFtZT1oO2UuJG93bmVyPW87dGhpc1toXT1lfX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZGVzdHJveT1FeHQuZW1wdHlGbn19KTtiLnByb3RvdHlwZS5jYWxsT3ZlcnJpZGRlbj1iLnByb3RvdHlwZS5jYWxsUGFyZW50O0V4dC5CYXNlPWJ9KEV4dC5GdW5jdGlvbi5mbGV4U2V0dGVyKSk7KGZ1bmN0aW9uKCl7dmFyIGMsYj1FeHQuQmFzZSxnPVtdLGUsZDtmb3IoZSBpbiBiKXtpZihiLmhhc093blByb3BlcnR5KGUpKXtnLnB1c2goZSl9fWQ9Zy5sZW5ndGg7ZnVuY3Rpb24gYShpKXtmdW5jdGlvbiBoKCl7cmV0dXJuIHRoaXMuY29uc3RydWN0b3IuYXBwbHkodGhpcyxhcmd1bWVudHMpfHxudWxsfXJldHVybiBofUV4dC5DbGFzcz1jPWZ1bmN0aW9uKGksaixoKXtpZih0eXBlb2YgaSE9ImZ1bmN0aW9uIil7aD1qO2o9aTtpPW51bGx9aWYoIWope2o9e319aT1jLmNyZWF0ZShpLGopO2MucHJvY2VzcyhpLGosaCk7cmV0dXJuIGl9O0V4dC5hcHBseShjLHtvbkJlZm9yZUNyZWF0ZWQ6ZnVuY3Rpb24oaSxqLGgpe2kuYWRkTWVtYmVycyhqKTtoLm9uQ3JlYXRlZC5jYWxsKGksaSl9LGNyZWF0ZTpmdW5jdGlvbihoLGwpe3ZhciBqLGs7aWYoIWgpe2g9YSgpfWZvcihrPTA7azxkO2srKyl7aj1nW2tdO2hbal09YltqXX1yZXR1cm4gaH0scHJvY2VzczpmdW5jdGlvbihoLHEsbSl7dmFyIGw9cS5wcmVwcm9jZXNzb3JzfHxjLmRlZmF1bHRQcmVwcm9jZXNzb3JzLHQ9dGhpcy5wcmVwcm9jZXNzb3JzLHc9e29uQmVmb3JlQ3JlYXRlZDp0aGlzLm9uQmVmb3JlQ3JlYXRlZH0sdj1bXSx4LHAsbyx1LG4scyxyLGs7ZGVsZXRlIHEucHJlcHJvY2Vzc29ycztmb3Iobz0wLHU9bC5sZW5ndGg7bzx1O28rKyl7eD1sW29dO2lmKHR5cGVvZiB4PT0ic3RyaW5nIil7eD10W3hdO3A9eC5wcm9wZXJ0aWVzO2lmKHA9PT10cnVlKXt2LnB1c2goeC5mbil9ZWxzZXtpZihwKXtmb3Iobj0wLHM9cC5sZW5ndGg7bjxzO24rKyl7cj1wW25dO2lmKHEuaGFzT3duUHJvcGVydHkocikpe3YucHVzaCh4LmZuKTticmVha319fX19ZWxzZXt2LnB1c2goeCl9fXcub25DcmVhdGVkPW0/bTpFeHQuZW1wdHlGbjt3LnByZXByb2Nlc3NvcnM9djt0aGlzLmRvUHJvY2VzcyhoLHEsdyl9LGRvUHJvY2VzczpmdW5jdGlvbihpLGwsaCl7dmFyIGs9dGhpcyxqPWgucHJlcHJvY2Vzc29ycy5zaGlmdCgpO2lmKCFqKXtoLm9uQmVmb3JlQ3JlYXRlZC5hcHBseShrLGFyZ3VtZW50cyk7cmV0dXJufWlmKGouY2FsbChrLGksbCxoLGsuZG9Qcm9jZXNzKSE9PWZhbHNlKXtrLmRvUHJvY2VzcyhpLGwsaCl9fSxwcmVwcm9jZXNzb3JzOnt9LHJlZ2lzdGVyUHJlcHJvY2Vzc29yOmZ1bmN0aW9uKGksbCxqLGgsayl7aWYoIWgpe2g9Imxhc3QifWlmKCFqKXtqPVtpXX10aGlzLnByZXByb2Nlc3NvcnNbaV09e25hbWU6aSxwcm9wZXJ0aWVzOmp8fGZhbHNlLGZuOmx9O3RoaXMuc2V0RGVmYXVsdFByZXByb2Nlc3NvclBvc2l0aW9uKGksaCxrKTtyZXR1cm4gdGhpc30sZ2V0UHJlcHJvY2Vzc29yOmZ1bmN0aW9uKGgpe3JldHVybiB0aGlzLnByZXByb2Nlc3NvcnNbaF19LGdldFByZXByb2Nlc3NvcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmVwcm9jZXNzb3JzfSxkZWZhdWx0UHJlcHJvY2Vzc29yczpbXSxnZXREZWZhdWx0UHJlcHJvY2Vzc29yczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRlZmF1bHRQcmVwcm9jZXNzb3JzfSxzZXREZWZhdWx0UHJlcHJvY2Vzc29yczpmdW5jdGlvbihoKXt0aGlzLmRlZmF1bHRQcmVwcm9jZXNzb3JzPUV4dC5BcnJheS5mcm9tKGgpO3JldHVybiB0aGlzfSxzZXREZWZhdWx0UHJlcHJvY2Vzc29yUG9zaXRpb246ZnVuY3Rpb24oaixsLGspe3ZhciBoPXRoaXMuZGVmYXVsdFByZXByb2Nlc3NvcnMsaTtpZih0eXBlb2YgbD09InN0cmluZyIpe2lmKGw9PT0iZmlyc3QiKXtoLnVuc2hpZnQoaik7cmV0dXJuIHRoaXN9ZWxzZXtpZihsPT09Imxhc3QiKXtoLnB1c2goaik7cmV0dXJuIHRoaXN9fWw9KGw9PT0iYWZ0ZXIiKT8xOi0xfWk9RXh0LkFycmF5LmluZGV4T2YoaCxrKTtpZihpIT09LTEpe0V4dC5BcnJheS5zcGxpY2UoaCxNYXRoLm1heCgwLGkrbCksMCxqKX1yZXR1cm4gdGhpc30sY29uZmlnTmFtZUNhY2hlOnt9LGdldENvbmZpZ05hbWVNYXA6ZnVuY3Rpb24oail7dmFyIGk9dGhpcy5jb25maWdOYW1lQ2FjaGUsaz1pW2pdLGg7aWYoIWspe2g9ai5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStqLnN1YnN0cigxKTtrPWlbal09e2ludGVybmFsOmosaW5pdGlhbGl6ZWQ6Il9pcyIraCsiSW5pdGlhbGl6ZWQiLGFwcGx5OiJhcHBseSIraCx1cGRhdGU6InVwZGF0ZSIraCxzZXQ6InNldCIraCxnZXQ6ImdldCIraCxkb1NldDoiZG9TZXQiK2gsY2hhbmdlRXZlbnQ6ai50b0xvd2VyQ2FzZSgpKyJjaGFuZ2UifX1yZXR1cm4ga319KTtjLnJlZ2lzdGVyUHJlcHJvY2Vzc29yKCJleHRlbmQiLGZ1bmN0aW9uKGosbil7dmFyIG09RXh0LkJhc2Usbz1tLnByb3RvdHlwZSxwPW4uZXh0ZW5kLGwsaCxrO2RlbGV0ZSBuLmV4dGVuZDtpZihwJiZwIT09T2JqZWN0KXtsPXB9ZWxzZXtsPW19aD1sLnByb3RvdHlwZTtpZighbC4kaXNDbGFzcyl7Zm9yKGsgaW4gbyl7aWYoIWhba10pe2hba109b1trXX19fWouZXh0ZW5kKGwpO2oudHJpZ2dlckV4dGVuZGVkLmFwcGx5KGosYXJndW1lbnRzKTtpZihuLm9uQ2xhc3NFeHRlbmRlZCl7ai5vbkV4dGVuZGVkKG4ub25DbGFzc0V4dGVuZGVkLGopO2RlbGV0ZSBuLm9uQ2xhc3NFeHRlbmRlZH19LHRydWUpO2MucmVnaXN0ZXJQcmVwcm9jZXNzb3IoInN0YXRpY3MiLGZ1bmN0aW9uKGgsaSl7aC5hZGRTdGF0aWNzKGkuc3RhdGljcyk7ZGVsZXRlIGkuc3RhdGljc30pO2MucmVnaXN0ZXJQcmVwcm9jZXNzb3IoImluaGVyaXRhYmxlU3RhdGljcyIsZnVuY3Rpb24oaCxpKXtoLmFkZEluaGVyaXRhYmxlU3RhdGljcyhpLmluaGVyaXRhYmxlU3RhdGljcyk7ZGVsZXRlIGkuaW5oZXJpdGFibGVTdGF0aWNzfSk7Yy5yZWdpc3RlclByZXByb2Nlc3NvcigiY29uZmlnIixmdW5jdGlvbihoLGspe3ZhciBqPWsuY29uZmlnLGk9aC5wcm90b3R5cGU7ZGVsZXRlIGsuY29uZmlnO0V4dC5PYmplY3QuZWFjaChqLGZ1bmN0aW9uKG4sdyl7dmFyIHU9Yy5nZXRDb25maWdOYW1lTWFwKG4pLHE9dS5pbnRlcm5hbCxsPXUuaW5pdGlhbGl6ZWQsdj11LmFwcGx5LG89dS51cGRhdGUsdD11LnNldCxtPXUuZ2V0LHk9KHQgaW4gaSl8fGsuaGFzT3duUHJvcGVydHkodCkscD0odiBpbiBpKXx8ay5oYXNPd25Qcm9wZXJ0eSh2KSxyPShvIGluIGkpfHxrLmhhc093blByb3BlcnR5KG8pLHgscztpZih3PT09bnVsbHx8KCF5JiYhcCYmIXIpKXtpW3FdPXc7aVtsXT10cnVlfWVsc2V7aVtsXT1mYWxzZX1pZigheSl7a1t0XT1mdW5jdGlvbihCKXt2YXIgQT10aGlzW3FdLHo9dGhpc1t2XSxDPXRoaXNbb107aWYoIXRoaXNbbF0pe3RoaXNbbF09dHJ1ZX1pZih6KXtCPXouY2FsbCh0aGlzLEIsQSl9aWYodHlwZW9mIEIhPSJ1bmRlZmluZWQiKXt0aGlzW3FdPUI7aWYoQyYmQiE9PUEpe0MuY2FsbCh0aGlzLEIsQSl9fXJldHVybiB0aGlzfX1pZighKG0gaW4gaSl8fGsuaGFzT3duUHJvcGVydHkobSkpe3M9a1ttXXx8ZmFsc2U7aWYocyl7eD1mdW5jdGlvbigpe3JldHVybiBzLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZWxzZXt4PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbcV19fWtbbV09ZnVuY3Rpb24oKXt2YXIgejtpZighdGhpc1tsXSl7dGhpc1tsXT10cnVlO3RoaXNbdF0odGhpcy5jb25maWdbbl0pfXo9dGhpc1ttXTtpZigiJHByZXZpb3VzIiBpbiB6KXt6LiRwcmV2aW91cz14fWVsc2V7dGhpc1ttXT14fXJldHVybiB4LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSk7aC5hZGRDb25maWcoaix0cnVlKX0pO2MucmVnaXN0ZXJQcmVwcm9jZXNzb3IoIm1peGlucyIsZnVuY3Rpb24obCxwLGgpe3ZhciBqPXAubWl4aW5zLG0sayxuLG87ZGVsZXRlIHAubWl4aW5zO0V4dC5GdW5jdGlvbi5pbnRlcmNlcHRCZWZvcmUoaCwib25DcmVhdGVkIixmdW5jdGlvbigpe2lmKGogaW5zdGFuY2VvZiBBcnJheSl7Zm9yKG49MCxvPWoubGVuZ3RoO248bztuKyspe2s9altuXTttPWsucHJvdG90eXBlLm1peGluSWR8fGsuJGNsYXNzTmFtZTtsLm1peGluKG0sayl9fWVsc2V7Zm9yKHZhciBpIGluIGope2lmKGouaGFzT3duUHJvcGVydHkoaSkpe2wubWl4aW4oaSxqW2ldKX19fX0pfSk7RXh0LmV4dGVuZD1mdW5jdGlvbihqLGssaSl7aWYoYXJndW1lbnRzLmxlbmd0aD09PTImJkV4dC5pc09iamVjdChrKSl7aT1rO2s9ajtqPW51bGx9dmFyIGg7aWYoIWspe3Rocm93IG5ldyBFcnJvcigiW0V4dC5leHRlbmRdIEF0dGVtcHRpbmcgdG8gZXh0ZW5kIGZyb20gYSBjbGFzcyB3aGljaCBoYXMgbm90IGJlZW4gbG9hZGVkIG9uIHRoZSBwYWdlLiIpfWkuZXh0ZW5kPWs7aS5wcmVwcm9jZXNzb3JzPVsiZXh0ZW5kIiwic3RhdGljcyIsImluaGVyaXRhYmxlU3RhdGljcyIsIm1peGlucyIsImNvbmZpZyJdO2lmKGope2g9bmV3IGMoaixpKX1lbHNle2g9bmV3IGMoaSl9aC5wcm90b3R5cGUub3ZlcnJpZGU9ZnVuY3Rpb24obil7Zm9yKHZhciBsIGluIG4pe2lmKG4uaGFzT3duUHJvcGVydHkobCkpe3RoaXNbbF09bltsXX19fTtyZXR1cm4gaH19KCkpOyhmdW5jdGlvbihiLGQsZyxjLGUpe3ZhciBhPUV4dC5DbGFzc01hbmFnZXI9e2NsYXNzZXM6e30sZXhpc3RDYWNoZTp7fSxuYW1lc3BhY2VSZXdyaXRlczpbe2Zyb206IkV4dC4iLHRvOkV4dH1dLG1hcHM6e2FsdGVybmF0ZVRvTmFtZTp7fSxhbGlhc1RvTmFtZTp7fSxuYW1lVG9BbGlhc2VzOnt9LG5hbWVUb0FsdGVybmF0ZXM6e319LGVuYWJsZU5hbWVzcGFjZVBhcnNlQ2FjaGU6dHJ1ZSxuYW1lc3BhY2VQYXJzZUNhY2hlOnt9LGluc3RhbnRpYXRvcnM6W10saXNDcmVhdGVkOmZ1bmN0aW9uKG0pe3ZhciBsPXRoaXMuZXhpc3RDYWNoZSxrLG4saixoLG87aWYodGhpcy5jbGFzc2VzW21dfHxsW21dKXtyZXR1cm4gdHJ1ZX1oPWU7bz10aGlzLnBhcnNlTmFtZXNwYWNlKG0pO2ZvcihrPTAsbj1vLmxlbmd0aDtrPG47aysrKXtqPW9ba107aWYodHlwZW9mIGohPSJzdHJpbmciKXtoPWp9ZWxzZXtpZighaHx8IWhbal0pe3JldHVybiBmYWxzZX1oPWhbal19fWxbbV09dHJ1ZTt0aGlzLnRyaWdnZXJDcmVhdGVkKG0pO3JldHVybiB0cnVlfSxjcmVhdGVkTGlzdGVuZXJzOltdLG5hbWVDcmVhdGVkTGlzdGVuZXJzOnt9LHRyaWdnZXJDcmVhdGVkOmZ1bmN0aW9uKHIpe3ZhciB0PXRoaXMuY3JlYXRlZExpc3RlbmVycyxsPXRoaXMubmFtZUNyZWF0ZWRMaXN0ZW5lcnMsbT10aGlzLm1hcHMubmFtZVRvQWx0ZXJuYXRlc1tyXSxzPVtyXSxvLHEsbixwLGssaDtmb3Iobz0wLHE9dC5sZW5ndGg7bzxxO28rKyl7az10W29dO2suZm4uY2FsbChrLnNjb3BlLHIpfWlmKG0pe3MucHVzaC5hcHBseShzLG0pfWZvcihvPTAscT1zLmxlbmd0aDtvPHE7bysrKXtoPXNbb107dD1sW2hdO2lmKHQpe2ZvcihuPTAscD10Lmxlbmd0aDtuPHA7bisrKXtrPXRbbl07ay5mbi5jYWxsKGsuc2NvcGUsaCl9ZGVsZXRlIGxbaF19fX0sb25DcmVhdGVkOmZ1bmN0aW9uKGwsayxqKXt2YXIgaT10aGlzLmNyZWF0ZWRMaXN0ZW5lcnMsaD10aGlzLm5hbWVDcmVhdGVkTGlzdGVuZXJzLG09e2ZuOmwsc2NvcGU6a307aWYoail7aWYodGhpcy5pc0NyZWF0ZWQoaikpe2wuY2FsbChrLGopO3JldHVybn1pZighaFtqXSl7aFtqXT1bXX1oW2pdLnB1c2gobSl9ZWxzZXtpLnB1c2gobSl9fSxwYXJzZU5hbWVzcGFjZTpmdW5jdGlvbihrKXt2YXIgaD10aGlzLm5hbWVzcGFjZVBhcnNlQ2FjaGUsbCxuLHAsaixzLHIscSxtLG87aWYodGhpcy5lbmFibGVOYW1lc3BhY2VQYXJzZUNhY2hlKXtpZihoLmhhc093blByb3BlcnR5KGspKXtyZXR1cm4gaFtrXX19bD1bXTtuPXRoaXMubmFtZXNwYWNlUmV3cml0ZXM7cD1lO2o9aztmb3IobT0wLG89bi5sZW5ndGg7bTxvO20rKyl7cz1uW21dO3I9cy5mcm9tO3E9cy50bztpZihqPT09cnx8ai5zdWJzdHJpbmcoMCxyLmxlbmd0aCk9PT1yKXtqPWouc3Vic3RyaW5nKHIubGVuZ3RoKTtpZih0eXBlb2YgcSE9InN0cmluZyIpe3A9cX1lbHNle2w9bC5jb25jYXQocS5zcGxpdCgiLiIpKX1icmVha319bC5wdXNoKHApO2w9bC5jb25jYXQoai5zcGxpdCgiLiIpKTtpZih0aGlzLmVuYWJsZU5hbWVzcGFjZVBhcnNlQ2FjaGUpe2hba109bH1yZXR1cm4gbH0sc2V0TmFtZXNwYWNlOmZ1bmN0aW9uKGwsbyl7dmFyIGo9ZSxwPXRoaXMucGFyc2VOYW1lc3BhY2UobCksbj1wLmxlbmd0aC0xLGg9cFtuXSxtLGs7Zm9yKG09MDttPG47bSsrKXtrPXBbbV07aWYodHlwZW9mIGshPSJzdHJpbmciKXtqPWt9ZWxzZXtpZighaltrXSl7altrXT17fX1qPWpba119fWpbaF09bztyZXR1cm4galtoXX0sY3JlYXRlTmFtZXNwYWNlczpmdW5jdGlvbigpe3ZhciBoPWUsbyxsLG0sayxuLHA7Zm9yKG09MCxuPWFyZ3VtZW50cy5sZW5ndGg7bTxuO20rKyl7bz10aGlzLnBhcnNlTmFtZXNwYWNlKGFyZ3VtZW50c1ttXSk7Zm9yKGs9MCxwPW8ubGVuZ3RoO2s8cDtrKyspe2w9b1trXTtpZih0eXBlb2YgbCE9InN0cmluZyIpe2g9bH1lbHNle2lmKCFoW2xdKXtoW2xdPXt9fWg9aFtsXX19fXJldHVybiBofSxzZXQ6ZnVuY3Rpb24oaCxsKXt2YXIgaz10aGlzLG49ay5tYXBzLG09bi5uYW1lVG9BbHRlcm5hdGVzLGo9ay5nZXROYW1lKGwpLGk7ay5jbGFzc2VzW2hdPWsuc2V0TmFtZXNwYWNlKGgsbCk7aWYoaiYmaiE9PWgpe24uYWx0ZXJuYXRlVG9OYW1lW2hdPWo7aT1tW2pdfHwobVtqXT1bXSk7aS5wdXNoKGgpfXJldHVybiB0aGlzfSxnZXQ6ZnVuY3Rpb24oayl7dmFyIG09dGhpcy5jbGFzc2VzLGgsbyxqLGwsbjtpZihtW2tdKXtyZXR1cm4gbVtrXX1oPWU7bz10aGlzLnBhcnNlTmFtZXNwYWNlKGspO2ZvcihsPTAsbj1vLmxlbmd0aDtsPG47bCsrKXtqPW9bbF07aWYodHlwZW9mIGohPSJzdHJpbmciKXtoPWp9ZWxzZXtpZighaHx8IWhbal0pe3JldHVybiBudWxsfWg9aFtqXX19cmV0dXJuIGh9LHNldEFsaWFzOmZ1bmN0aW9uKGgsaSl7dmFyIGs9dGhpcy5tYXBzLmFsaWFzVG9OYW1lLGw9dGhpcy5tYXBzLm5hbWVUb0FsaWFzZXMsajtpZih0eXBlb2YgaD09InN0cmluZyIpe2o9aH1lbHNle2o9dGhpcy5nZXROYW1lKGgpfWlmKGkmJmtbaV0hPT1qKXtrW2ldPWp9aWYoIWxbal0pe2xbal09W119aWYoaSl7RXh0LkFycmF5LmluY2x1ZGUobFtqXSxpKX1yZXR1cm4gdGhpc30sZ2V0QnlBbGlhczpmdW5jdGlvbihoKXtyZXR1cm4gdGhpcy5nZXQodGhpcy5nZXROYW1lQnlBbGlhcyhoKSl9LGdldE5hbWVCeUFsaWFzOmZ1bmN0aW9uKGgpe3JldHVybiB0aGlzLm1hcHMuYWxpYXNUb05hbWVbaF18fCIifSxnZXROYW1lQnlBbHRlcm5hdGU6ZnVuY3Rpb24oaCl7cmV0dXJuIHRoaXMubWFwcy5hbHRlcm5hdGVUb05hbWVbaF18fCIifSxnZXRBbGlhc2VzQnlOYW1lOmZ1bmN0aW9uKGgpe3JldHVybiB0aGlzLm1hcHMubmFtZVRvQWxpYXNlc1toXXx8W119LGdldE5hbWU6ZnVuY3Rpb24oaCl7cmV0dXJuIGgmJmguJGNsYXNzTmFtZXx8IiJ9LGdldENsYXNzOmZ1bmN0aW9uKGgpe3JldHVybiBoJiZoLnNlbGZ8fG51bGx9LGNyZWF0ZTpmdW5jdGlvbihpLGosaCl7ai4kY2xhc3NOYW1lPWk7cmV0dXJuIG5ldyBiKGosZnVuY3Rpb24oKXt2YXIgaz1qLnBvc3Rwcm9jZXNzb3JzfHxhLmRlZmF1bHRQb3N0cHJvY2Vzc29ycyxyPWEucG9zdHByb2Nlc3NvcnMscz1bXSxxLG0scCxsLG8sbix0O2RlbGV0ZSBqLnBvc3Rwcm9jZXNzb3JzO2ZvcihtPTAscD1rLmxlbmd0aDttPHA7bSsrKXtxPWtbbV07aWYodHlwZW9mIHE9PSJzdHJpbmciKXtxPXJbcV07bj1xLnByb3BlcnRpZXM7aWYobj09PXRydWUpe3MucHVzaChxLmZuKX1lbHNle2lmKG4pe2ZvcihsPTAsbz1uLmxlbmd0aDtsPG87bCsrKXt0PW5bbF07aWYoai5oYXNPd25Qcm9wZXJ0eSh0KSl7cy5wdXNoKHEuZm4pO2JyZWFrfX19fX1lbHNle3MucHVzaChxKX19ai5wb3N0cHJvY2Vzc29ycz1zO2ouY3JlYXRlZEZuPWg7YS5wcm9jZXNzQ3JlYXRlKGksdGhpcyxqKX0pfSxwcm9jZXNzQ3JlYXRlOmZ1bmN0aW9uKGssaSxtKXt2YXIgbD10aGlzLGg9bS5wb3N0cHJvY2Vzc29ycy5zaGlmdCgpLGo9bS5jcmVhdGVkRm47aWYoIWgpe2wuc2V0KGssaSk7aWYoail7ai5jYWxsKGksaSl9bC50cmlnZ2VyQ3JlYXRlZChrKTtyZXR1cm59aWYoaC5jYWxsKGwsayxpLG0sbC5wcm9jZXNzQ3JlYXRlKSE9PWZhbHNlKXtsLnByb2Nlc3NDcmVhdGUoayxpLG0pfX0sY3JlYXRlT3ZlcnJpZGU6ZnVuY3Rpb24oayxvLGkpe3ZhciBuPXRoaXMsbT1vLm92ZXJyaWRlLGo9by5yZXF1aXJlcyxoPW8udXNlcyxsPWZ1bmN0aW9uKCl7dmFyIHAscTtpZihqKXtxPWo7aj1udWxsO0V4dC5Mb2FkZXIucmVxdWlyZShxLGwpfWVsc2V7cD1uLmdldChtKTtkZWxldGUgby5vdmVycmlkZTtkZWxldGUgby5yZXF1aXJlcztkZWxldGUgby51c2VzO0V4dC5vdmVycmlkZShwLG8pO24udHJpZ2dlckNyZWF0ZWQoayk7aWYoaCl7RXh0LkxvYWRlci5hZGRVc2VkQ2xhc3NlcyhoKX1pZihpKXtpLmNhbGwocCl9fX07bi5leGlzdENhY2hlW2tdPXRydWU7bi5vbkNyZWF0ZWQobCxuLG0pO3JldHVybiBufSxpbnN0YW50aWF0ZUJ5QWxpYXM6ZnVuY3Rpb24oKXt2YXIgaT1hcmd1bWVudHNbMF0saD1nLmNhbGwoYXJndW1lbnRzKSxqPXRoaXMuZ2V0TmFtZUJ5QWxpYXMoaSk7aWYoIWope2o9dGhpcy5tYXBzLmFsaWFzVG9OYW1lW2ldO0V4dC5zeW5jUmVxdWlyZShqKX1oWzBdPWo7cmV0dXJuIHRoaXMuaW5zdGFudGlhdGUuYXBwbHkodGhpcyxoKX0saW5zdGFudGlhdGU6ZnVuY3Rpb24oKXt2YXIgaj1hcmd1bWVudHNbMF0sbD10eXBlb2YgaixpPWcuY2FsbChhcmd1bWVudHMsMSksaz1qLG0saDtpZihsIT0iZnVuY3Rpb24iKXtpZihsIT0ic3RyaW5nIiYmaS5sZW5ndGg9PT0wKXtpPVtqXTtqPWoueGNsYXNzfWg9dGhpcy5nZXQoail9ZWxzZXtoPWp9aWYoIWgpe209dGhpcy5nZXROYW1lQnlBbGlhcyhqKTtpZihtKXtqPW07aD10aGlzLmdldChqKX19aWYoIWgpe209dGhpcy5nZXROYW1lQnlBbHRlcm5hdGUoaik7aWYobSl7aj1tO2g9dGhpcy5nZXQoail9fWlmKCFoKXtFeHQuc3luY1JlcXVpcmUoaik7aD10aGlzLmdldChqKX1yZXR1cm4gdGhpcy5nZXRJbnN0YW50aWF0b3IoaS5sZW5ndGgpKGgsaSl9LGR5bkluc3RhbnRpYXRlOmZ1bmN0aW9uKGksaCl7aD1jKGgsdHJ1ZSk7aC51bnNoaWZ0KGkpO3JldHVybiB0aGlzLmluc3RhbnRpYXRlLmFwcGx5KHRoaXMsaCl9LGdldEluc3RhbnRpYXRvcjpmdW5jdGlvbihsKXt2YXIgaz10aGlzLmluc3RhbnRpYXRvcnMsbSxqLGg7bT1rW2xdO2lmKCFtKXtqPWw7aD1bXTtmb3Ioaj0wO2o8bDtqKyspe2gucHVzaCgiYVsiK2orIl0iKX1tPWtbbF09bmV3IEZ1bmN0aW9uKCJjIiwiYSIsInJldHVybiBuZXcgYygiK2guam9pbigiLCIpKyIpIil9cmV0dXJuIG19LHBvc3Rwcm9jZXNzb3JzOnt9LGRlZmF1bHRQb3N0cHJvY2Vzc29yczpbXSxyZWdpc3RlclBvc3Rwcm9jZXNzb3I6ZnVuY3Rpb24oaSxsLGosaCxrKXtpZighaCl7aD0ibGFzdCJ9aWYoIWope2o9W2ldfXRoaXMucG9zdHByb2Nlc3NvcnNbaV09e25hbWU6aSxwcm9wZXJ0aWVzOmp8fGZhbHNlLGZuOmx9O3RoaXMuc2V0RGVmYXVsdFBvc3Rwcm9jZXNzb3JQb3NpdGlvbihpLGgsayk7cmV0dXJuIHRoaXN9LHNldERlZmF1bHRQb3N0cHJvY2Vzc29yczpmdW5jdGlvbihoKXt0aGlzLmRlZmF1bHRQb3N0cHJvY2Vzc29ycz1jKGgpO3JldHVybiB0aGlzfSxzZXREZWZhdWx0UG9zdHByb2Nlc3NvclBvc2l0aW9uOmZ1bmN0aW9uKGksbCxrKXt2YXIgaj10aGlzLmRlZmF1bHRQb3N0cHJvY2Vzc29ycyxoO2lmKHR5cGVvZiBsPT0ic3RyaW5nIil7aWYobD09PSJmaXJzdCIpe2oudW5zaGlmdChpKTtyZXR1cm4gdGhpc31lbHNle2lmKGw9PT0ibGFzdCIpe2oucHVzaChpKTtyZXR1cm4gdGhpc319bD0obD09PSJhZnRlciIpPzE6LTF9aD1FeHQuQXJyYXkuaW5kZXhPZihqLGspO2lmKGghPT0tMSl7RXh0LkFycmF5LnNwbGljZShqLE1hdGgubWF4KDAsaCtsKSwwLGkpfXJldHVybiB0aGlzfSxnZXROYW1lc0J5RXhwcmVzc2lvbjpmdW5jdGlvbihwKXt2YXIgbj10aGlzLm1hcHMubmFtZVRvQWxpYXNlcyxxPVtdLGgsbSxrLGoscixsLG87aWYocC5pbmRleE9mKCIqIikhPT0tMSl7cD1wLnJlcGxhY2UoL1wqL2csIiguKj8pIik7cj1uZXcgUmVnRXhwKCJeIitwKyIkIik7Zm9yKGggaW4gbil7aWYobi5oYXNPd25Qcm9wZXJ0eShoKSl7az1uW2hdO2lmKGguc2VhcmNoKHIpIT09LTEpe3EucHVzaChoKX1lbHNle2ZvcihsPTAsbz1rLmxlbmd0aDtsPG87bCsrKXttPWtbbF07aWYobS5zZWFyY2gocikhPT0tMSl7cS5wdXNoKGgpO2JyZWFrfX19fX19ZWxzZXtqPXRoaXMuZ2V0TmFtZUJ5QWxpYXMocCk7aWYoail7cS5wdXNoKGopfWVsc2V7aj10aGlzLmdldE5hbWVCeUFsdGVybmF0ZShwKTtpZihqKXtxLnB1c2goail9ZWxzZXtxLnB1c2gocCl9fX1yZXR1cm4gcX19O2EucmVnaXN0ZXJQb3N0cHJvY2Vzc29yKCJhbGlhcyIsZnVuY3Rpb24oayxqLG4pe3ZhciBoPW4uYWxpYXMsbCxtO2ZvcihsPTAsbT1oLmxlbmd0aDtsPG07bCsrKXtkPWhbbF07dGhpcy5zZXRBbGlhcyhqLGQpfX0sWyJ4dHlwZSIsImFsaWFzIl0pO2EucmVnaXN0ZXJQb3N0cHJvY2Vzc29yKCJzaW5nbGV0b24iLGZ1bmN0aW9uKGksaCxrLGope2ouY2FsbCh0aGlzLGksbmV3IGgoKSxrKTtyZXR1cm4gZmFsc2V9KTthLnJlZ2lzdGVyUG9zdHByb2Nlc3NvcigiYWx0ZXJuYXRlQ2xhc3NOYW1lIixmdW5jdGlvbihqLGgsbil7dmFyIGw9bi5hbHRlcm5hdGVDbGFzc05hbWUsayxtLG87aWYoIShsIGluc3RhbmNlb2YgQXJyYXkpKXtsPVtsXX1mb3Ioaz0wLG09bC5sZW5ndGg7azxtO2srKyl7bz1sW2tdO3RoaXMuc2V0KG8saCl9fSk7RXh0LmFwcGx5KEV4dCx7Y3JlYXRlOmQoYSwiaW5zdGFudGlhdGUiKSx3aWRnZXQ6ZnVuY3Rpb24oaixpKXt2YXIgbj1qLGssbCxoLG07aWYodHlwZW9mIG4hPSJzdHJpbmciKXtpPWo7bj1pLnh0eXBlfWVsc2V7aT1pfHx7fX1pZihpLmlzQ29tcG9uZW50KXtyZXR1cm4gaX1rPSJ3aWRnZXQuIituO2w9YS5nZXROYW1lQnlBbGlhcyhrKTtpZighbCl7bT10cnVlfWg9YS5nZXQobCk7aWYobXx8IWgpe3JldHVybiBhLmluc3RhbnRpYXRlQnlBbGlhcyhrLGkpfXJldHVybiBuZXcgaChpKX0sY3JlYXRlQnlBbGlhczpkKGEsImluc3RhbnRpYXRlQnlBbGlhcyIpLGRlZmluZTpmdW5jdGlvbihpLGosaCl7aWYoai5vdmVycmlkZSl7cmV0dXJuIGEuY3JlYXRlT3ZlcnJpZGUuYXBwbHkoYSxhcmd1bWVudHMpfXJldHVybiBhLmNyZWF0ZS5hcHBseShhLGFyZ3VtZW50cyl9LGdldENsYXNzTmFtZTpkKGEsImdldE5hbWUiKSxnZXREaXNwbGF5TmFtZTpmdW5jdGlvbihoKXtpZihoKXtpZihoLmRpc3BsYXlOYW1lKXtyZXR1cm4gaC5kaXNwbGF5TmFtZX1pZihoLiRuYW1lJiZoLiRjbGFzcyl7cmV0dXJuIEV4dC5nZXRDbGFzc05hbWUoaC4kY2xhc3MpKyIjIitoLiRuYW1lfWlmKGguJGNsYXNzTmFtZSl7cmV0dXJuIGguJGNsYXNzTmFtZX19cmV0dXJuIkFub255bW91cyJ9LGdldENsYXNzOmQoYSwiZ2V0Q2xhc3MiKSxuYW1lc3BhY2U6ZChhLCJjcmVhdGVOYW1lc3BhY2VzIil9KTtFeHQuY3JlYXRlV2lkZ2V0PUV4dC53aWRnZXQ7RXh0Lm5zPUV4dC5uYW1lc3BhY2U7Yi5yZWdpc3RlclByZXByb2Nlc3NvcigiY2xhc3NOYW1lIixmdW5jdGlvbihoLGkpe2lmKGkuJGNsYXNzTmFtZSl7aC4kY2xhc3NOYW1lPWkuJGNsYXNzTmFtZX19LHRydWUsImZpcnN0Iik7Yi5yZWdpc3RlclByZXByb2Nlc3NvcigiYWxpYXMiLGZ1bmN0aW9uKHQsbil7dmFyIHI9dC5wcm90b3R5cGUsaz1jKG4ueHR5cGUpLGg9YyhuLmFsaWFzKSx1PSJ3aWRnZXQuIixzPXUubGVuZ3RoLG89QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoci54dHlwZXNDaGFpbnx8W10pLGw9RXh0Lm1lcmdlKHt9LHIueHR5cGVzTWFwfHx7fSksbSxxLHAsajtmb3IobT0wLHE9aC5sZW5ndGg7bTxxO20rKyl7cD1oW21dO2lmKHAuc3Vic3RyaW5nKDAscyk9PT11KXtqPXAuc3Vic3RyaW5nKHMpO0V4dC5BcnJheS5pbmNsdWRlKGssail9fXQueHR5cGU9bi54dHlwZT1rWzBdO24ueHR5cGVzPWs7Zm9yKG09MCxxPWsubGVuZ3RoO208cTttKyspe2o9a1ttXTtpZighbFtqXSl7bFtqXT10cnVlO28ucHVzaChqKX19bi54dHlwZXNDaGFpbj1vO24ueHR5cGVzTWFwPWw7RXh0LkZ1bmN0aW9uLmludGVyY2VwdEFmdGVyKG4sIm9uQ2xhc3NDcmVhdGVkIixmdW5jdGlvbigpe3ZhciBpPXIubWl4aW5zLHcsdjtmb3IodyBpbiBpKXtpZihpLmhhc093blByb3BlcnR5KHcpKXt2PWlbd107az12Lnh0eXBlcztpZihrKXtmb3IobT0wLHE9ay5sZW5ndGg7bTxxO20rKyl7aj1rW21dO2lmKCFsW2pdKXtsW2pdPXRydWU7by5wdXNoKGopfX19fX19KTtmb3IobT0wLHE9ay5sZW5ndGg7bTxxO20rKyl7aj1rW21dO0V4dC5BcnJheS5pbmNsdWRlKGgsdStqKX1uLmFsaWFzPWh9LFsieHR5cGUiLCJhbGlhcyJdKX0oRXh0LkNsYXNzLEV4dC5GdW5jdGlvbi5hbGlhcyxBcnJheS5wcm90b3R5cGUuc2xpY2UsRXh0LkFycmF5LmZyb20sRXh0Lmdsb2JhbCkpO0V4dC5Mb2FkZXI9bmV3IGZ1bmN0aW9uKCl7dmFyIGo9dGhpcyxiPUV4dC5DbGFzc01hbmFnZXIscj1FeHQuQ2xhc3MsZT1FeHQuRnVuY3Rpb24uZmxleFNldHRlcixtPUV4dC5GdW5jdGlvbi5hbGlhcyxhPUV4dC5GdW5jdGlvbi5wYXNzLGQ9RXh0LkZ1bmN0aW9uLmRlZmVyLGg9RXh0LkFycmF5LmVyYXNlLGw9WyJleHRlbmQiLCJtaXhpbnMiLCJyZXF1aXJlcyJdLHQ9e30saz1bXSxjPS9cL1wuXC8vZyxnPS9cLi9nO0V4dC5hcHBseShqLHtpc0luSGlzdG9yeTp0LGhpc3Rvcnk6ayxjb25maWc6e2VuYWJsZWQ6ZmFsc2Usc2NyaXB0Q2hhaW5EZWxheTpmYWxzZSxkaXNhYmxlQ2FjaGluZzp0cnVlLGRpc2FibGVDYWNoaW5nUGFyYW06Il9kYyIsZ2FyYmFnZUNvbGxlY3Q6ZmFsc2UscGF0aHM6e0V4dDoiLiJ9LHByZXNlcnZlU2NyaXB0czp0cnVlLHNjcmlwdENoYXJzZXQ6dW5kZWZpbmVkfSxzZXRDb25maWc6ZnVuY3Rpb24odyx4KXtpZihFeHQuaXNPYmplY3QodykmJmFyZ3VtZW50cy5sZW5ndGg9PT0xKXtFeHQubWVyZ2Uoai5jb25maWcsdyl9ZWxzZXtqLmNvbmZpZ1t3XT0oRXh0LmlzT2JqZWN0KHgpKT9FeHQubWVyZ2Uoai5jb25maWdbd10seCk6eH1yZXR1cm4gan0sZ2V0Q29uZmlnOmZ1bmN0aW9uKHcpe2lmKHcpe3JldHVybiBqLmNvbmZpZ1t3XX1yZXR1cm4gai5jb25maWd9LHNldFBhdGg6ZShmdW5jdGlvbih3LHgpe2ouY29uZmlnLnBhdGhzW3ddPXg7cmV0dXJuIGp9KSxnZXRQYXRoOmZ1bmN0aW9uKHcpe3ZhciB5PSIiLHo9ai5jb25maWcucGF0aHMseD1qLmdldFByZWZpeCh3KTtpZih4Lmxlbmd0aD4wKXtpZih4PT09dyl7cmV0dXJuIHpbeF19eT16W3hdO3c9dy5zdWJzdHJpbmcoeC5sZW5ndGgrMSl9aWYoeS5sZW5ndGg+MCl7eSs9Ii8ifXJldHVybiB5LnJlcGxhY2UoYywiLyIpK3cucmVwbGFjZShnLCIvIikrIi5qcyJ9LGdldFByZWZpeDpmdW5jdGlvbih4KXt2YXIgej1qLmNvbmZpZy5wYXRocyx5LHc9IiI7aWYoei5oYXNPd25Qcm9wZXJ0eSh4KSl7cmV0dXJuIHh9Zm9yKHkgaW4geil7aWYoei5oYXNPd25Qcm9wZXJ0eSh5KSYmeSsiLiI9PT14LnN1YnN0cmluZygwLHkubGVuZ3RoKzEpKXtpZih5Lmxlbmd0aD53Lmxlbmd0aCl7dz15fX19cmV0dXJuIHd9LGlzQUNsYXNzTmFtZVdpdGhBS25vd25QcmVmaXg6ZnVuY3Rpb24odyl7dmFyIHg9ai5nZXRQcmVmaXgodyk7cmV0dXJuIHghPT0iIiYmeCE9PXd9LHJlcXVpcmU6ZnVuY3Rpb24oeSx4LHcseil7aWYoeCl7eC5jYWxsKHcpfX0sc3luY1JlcXVpcmU6ZnVuY3Rpb24oKXt9LGV4Y2x1ZGU6ZnVuY3Rpb24odyl7cmV0dXJue3JlcXVpcmU6ZnVuY3Rpb24oeix5LHgpe3JldHVybiBqLnJlcXVpcmUoeix5LHgsdyl9LHN5bmNSZXF1aXJlOmZ1bmN0aW9uKHoseSx4KXtyZXR1cm4gai5zeW5jUmVxdWlyZSh6LHkseCx3KX19fSxvblJlYWR5OmZ1bmN0aW9uKHoseSxBLHcpe3ZhciB4O2lmKEEhPT1mYWxzZSYmRXh0Lm9uRG9jdW1lbnRSZWFkeSl7eD16O3o9ZnVuY3Rpb24oKXtFeHQub25Eb2N1bWVudFJlYWR5KHgseSx3KX19ei5jYWxsKHkpfX0pO3ZhciBvPVtdLHA9e30scz17fSxxPXt9LG49e30sdT1bXSx2PVtdLGk9e307RXh0LmFwcGx5KGose2RvY3VtZW50SGVhZDp0eXBlb2YgZG9jdW1lbnQhPSJ1bmRlZmluZWQiJiYoZG9jdW1lbnQuaGVhZHx8ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXSksaXNMb2FkaW5nOmZhbHNlLHF1ZXVlOm8saXNDbGFzc0ZpbGVMb2FkZWQ6cCxpc0ZpbGVMb2FkZWQ6cyxyZWFkeUxpc3RlbmVyczp1LG9wdGlvbmFsUmVxdWlyZXM6dixyZXF1aXJlc01hcDppLG51bVBlbmRpbmdGaWxlczowLG51bUxvYWRlZEZpbGVzOjAsaGFzRmlsZUxvYWRFcnJvcjpmYWxzZSxjbGFzc05hbWVUb0ZpbGVQYXRoTWFwOnEsc2NyaXB0c0xvYWRpbmc6MCxzeW5jTW9kZUVuYWJsZWQ6ZmFsc2Usc2NyaXB0RWxlbWVudHM6bixyZWZyZXNoUXVldWU6ZnVuY3Rpb24oKXt2YXIgQT1vLmxlbmd0aCx4LHosdyx5O2lmKCFBJiYhai5zY3JpcHRzTG9hZGluZyl7cmV0dXJuIGoudHJpZ2dlclJlYWR5KCl9Zm9yKHg9MDt4PEE7eCsrKXt6PW9beF07aWYoeil7eT16LnJlcXVpcmVzO2lmKHkubGVuZ3RoPmoubnVtTG9hZGVkRmlsZXMpe2NvbnRpbnVlfWZvcih3PTA7dzx5Lmxlbmd0aDspe2lmKGIuaXNDcmVhdGVkKHlbd10pKXtoKHksdywxKX1lbHNle3crK319aWYoei5yZXF1aXJlcy5sZW5ndGg9PT0wKXtoKG8seCwxKTt6LmNhbGxiYWNrLmNhbGwoei5zY29wZSk7ai5yZWZyZXNoUXVldWUoKTticmVha319fXJldHVybiBqfSxpbmplY3RTY3JpcHRFbGVtZW50OmZ1bmN0aW9uKHcsRCxBLEYseSl7dmFyIEU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksQj1mYWxzZSx4PWouY29uZmlnLEM9ZnVuY3Rpb24oKXtpZighQil7Qj10cnVlO0Uub25sb2FkPUUub25yZWFkeXN0YXRlY2hhbmdlPUUub25lcnJvcj1udWxsO2lmKHR5cGVvZiB4LnNjcmlwdENoYWluRGVsYXk9PSJudW1iZXIiKXtkKEQseC5zY3JpcHRDaGFpbkRlbGF5LEYpfWVsc2V7RC5jYWxsKEYpfWouY2xlYW51cFNjcmlwdEVsZW1lbnQoRSx4LnByZXNlcnZlU2NyaXB0cz09PWZhbHNlLHguZ2FyYmFnZUNvbGxlY3QpfX0sej1mdW5jdGlvbihHKXtkKEEsMSxGKTtqLmNsZWFudXBTY3JpcHRFbGVtZW50KEUseC5wcmVzZXJ2ZVNjcmlwdHM9PT1mYWxzZSx4LmdhcmJhZ2VDb2xsZWN0KX07RS50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiO0Uub25lcnJvcj16O3k9eXx8eC5zY3JpcHRDaGFyc2V0O2lmKHkpe0UuY2hhcnNldD15fWlmKCJhZGRFdmVudExpc3RlbmVyIiBpbiBFKXtFLm9ubG9hZD1DfWVsc2V7aWYoInJlYWR5U3RhdGUiIGluIEUpe0Uub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYodGhpcy5yZWFkeVN0YXRlPT0ibG9hZGVkInx8dGhpcy5yZWFkeVN0YXRlPT0iY29tcGxldGUiKXtDKCl9fX1lbHNle0Uub25sb2FkPUN9fUUuc3JjPXc7KGouZG9jdW1lbnRIZWFkfHxkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdKS5hcHBlbmRDaGlsZChFKTtyZXR1cm4gRX0scmVtb3ZlU2NyaXB0RWxlbWVudDpmdW5jdGlvbih3KXtpZihuW3ddKXtqLmNsZWFudXBTY3JpcHRFbGVtZW50KG5bd10sdHJ1ZSwhIWouZ2V0Q29uZmlnKCJnYXJiYWdlQ29sbGVjdCIpKTtkZWxldGUgblt3XX1yZXR1cm4gan0sY2xlYW51cFNjcmlwdEVsZW1lbnQ6ZnVuY3Rpb24oeSx4LHope3ZhciBBO3kub25sb2FkPXkub25yZWFkeXN0YXRlY2hhbmdlPXkub25lcnJvcj1udWxsO2lmKHgpe0V4dC5yZW1vdmVOb2RlKHkpO2lmKHope2ZvcihBIGluIHkpe3RyeXt5W0FdPW51bGw7ZGVsZXRlIHlbQV19Y2F0Y2godyl7fX19fXJldHVybiBqfSxsb2FkU2NyaXB0OmZ1bmN0aW9uKEYpe3ZhciB6PWouZ2V0Q29uZmlnKCkseT10eXBlb2YgRj09InN0cmluZyIseD15P0Y6Ri51cmwsQj0heSYmRi5vbkVycm9yLEM9IXkmJkYub25Mb2FkLEU9IXkmJkYuc2NvcGUsRD1mdW5jdGlvbigpe2oubnVtUGVuZGluZ0ZpbGVzLS07ai5zY3JpcHRzTG9hZGluZy0tO2lmKEIpe0IuY2FsbChFLCJGYWlsZWQgbG9hZGluZyAnIit4KyInLCBwbGVhc2UgdmVyaWZ5IHRoYXQgdGhlIGZpbGUgZXhpc3RzIil9aWYoai5udW1QZW5kaW5nRmlsZXMrai5zY3JpcHRzTG9hZGluZz09PTApe2oucmVmcmVzaFF1ZXVlKCl9fSxBPWZ1bmN0aW9uKCl7ai5udW1QZW5kaW5nRmlsZXMtLTtqLnNjcmlwdHNMb2FkaW5nLS07aWYoQyl7Qy5jYWxsKEUpfWlmKGoubnVtUGVuZGluZ0ZpbGVzK2ouc2NyaXB0c0xvYWRpbmc9PT0wKXtqLnJlZnJlc2hRdWV1ZSgpfX0sdztqLmlzTG9hZGluZz10cnVlO2oubnVtUGVuZGluZ0ZpbGVzKys7ai5zY3JpcHRzTG9hZGluZysrO3c9ei5kaXNhYmxlQ2FjaGluZz8oeCsiPyIrei5kaXNhYmxlQ2FjaGluZ1BhcmFtKyI9IitFeHQuRGF0ZS5ub3coKSk6eDtuW3hdPWouaW5qZWN0U2NyaXB0RWxlbWVudCh3LEEsRCl9LGxvYWRTY3JpcHRGaWxlOmZ1bmN0aW9uKHgsRCxCLEcsdyl7aWYoc1t4XSl7cmV0dXJuIGp9dmFyIHo9ai5nZXRDb25maWcoKSxIPXgrKHouZGlzYWJsZUNhY2hpbmc/KCI/Iit6LmRpc2FibGVDYWNoaW5nUGFyYW0rIj0iK0V4dC5EYXRlLm5vdygpKToiIikseT1mYWxzZSxGLEEsRTtHPUd8fGo7ai5pc0xvYWRpbmc9dHJ1ZTtpZighdyl7RT1mdW5jdGlvbigpe307blt4XT1qLmluamVjdFNjcmlwdEVsZW1lbnQoSCxELEUsRyl9ZWxzZXtpZih0eXBlb2YgWE1MSHR0cFJlcXVlc3QhPSJ1bmRlZmluZWQiKXtGPW5ldyBYTUxIdHRwUmVxdWVzdCgpfWVsc2V7Rj1uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX10cnl7Ri5vcGVuKCJHRVQiLEgsZmFsc2UpO0Yuc2VuZChudWxsKX1jYXRjaChDKXt5PXRydWV9QT0oRi5zdGF0dXM9PT0xMjIzKT8yMDQ6KEYuc3RhdHVzPT09MCYmKHNlbGYubG9jYXRpb258fHt9KS5wcm90b2NvbD09ImZpbGU6Iik/MjAwOkYuc3RhdHVzO3k9eXx8KEE9PT0wKTtpZih5KXt9ZWxzZXtpZigoQT49MjAwJiZBPDMwMCl8fChBPT09MzA0KSl7RXh0Lmdsb2JhbEV2YWwoRi5yZXNwb25zZVRleHQrIlxuLy9AIHNvdXJjZVVSTD0iK3gpO0QuY2FsbChHKX1lbHNle319Rj1udWxsfX0sc3luY1JlcXVpcmU6ZnVuY3Rpb24oKXt2YXIgdz1qLnN5bmNNb2RlRW5hYmxlZDtpZighdyl7ai5zeW5jTW9kZUVuYWJsZWQ9dHJ1ZX1qLnJlcXVpcmUuYXBwbHkoaixhcmd1bWVudHMpO2lmKCF3KXtqLnN5bmNNb2RlRW5hYmxlZD1mYWxzZX1qLnJlZnJlc2hRdWV1ZSgpfSxyZXF1aXJlOmZ1bmN0aW9uKE8sRix6LEIpe3ZhciBIPXt9LHk9e30sRT1bXSxRPVtdLE49W10seD1bXSxELFAsSixJLHcsQyxNLEwsSyxHLEE7aWYoQil7Qj0odHlwZW9mIEI9PT0ic3RyaW5nIik/W0JdOkI7Zm9yKEw9MCxHPUIubGVuZ3RoO0w8RztMKyspe3c9QltMXTtpZih0eXBlb2Ygdz09InN0cmluZyImJncubGVuZ3RoPjApe0U9Yi5nZXROYW1lc0J5RXhwcmVzc2lvbih3KTtmb3IoSz0wLEE9RS5sZW5ndGg7SzxBO0srKyl7SFtFW0tdXT10cnVlfX19fU89KHR5cGVvZiBPPT09InN0cmluZyIpP1tPXTooTz9POltdKTtpZihGKXtpZihGLmxlbmd0aD4wKXtEPWZ1bmN0aW9uKCl7dmFyIFM9W10sUixUO2ZvcihSPTAsVD14Lmxlbmd0aDtSPFQ7UisrKXtTLnB1c2goYi5nZXQoeFtSXSkpfXJldHVybiBGLmFwcGx5KHRoaXMsUyl9fWVsc2V7RD1GfX1lbHNle0Q9RXh0LmVtcHR5Rm59ej16fHxFeHQuZ2xvYmFsO2ZvcihMPTAsRz1PLmxlbmd0aDtMPEc7TCsrKXtJPU9bTF07aWYodHlwZW9mIEk9PSJzdHJpbmciJiZJLmxlbmd0aD4wKXtRPWIuZ2V0TmFtZXNCeUV4cHJlc3Npb24oSSk7QT1RLmxlbmd0aDtmb3IoSz0wO0s8QTtLKyspe009UVtLXTtpZihIW01dIT09dHJ1ZSl7eC5wdXNoKE0pO2lmKCFiLmlzQ3JlYXRlZChNKSYmIXlbTV0pe3lbTV09dHJ1ZTtOLnB1c2goTSl9fX19fWlmKE4ubGVuZ3RoPjApe2lmKCFqLmNvbmZpZy5lbmFibGVkKXt0aHJvdyBuZXcgRXJyb3IoIkV4dC5Mb2FkZXIgaXMgbm90IGVuYWJsZWQsIHNvIGRlcGVuZGVuY2llcyBjYW5ub3QgYmUgcmVzb2x2ZWQgZHluYW1pY2FsbHkuIE1pc3NpbmcgcmVxdWlyZWQgY2xhc3MiKygoTi5sZW5ndGg+MSk/ImVzIjoiIikrIjogIitOLmpvaW4oIiwgIikpfX1lbHNle0QuY2FsbCh6KTtyZXR1cm4gan1QPWouc3luY01vZGVFbmFibGVkO2lmKCFQKXtvLnB1c2goe3JlcXVpcmVzOk4uc2xpY2UoKSxjYWxsYmFjazpELHNjb3BlOnp9KX1HPU4ubGVuZ3RoO2ZvcihMPTA7TDxHO0wrKyl7Qz1OW0xdO0o9ai5nZXRQYXRoKEMpO2lmKFAmJnAuaGFzT3duUHJvcGVydHkoQykpe2oubnVtUGVuZGluZ0ZpbGVzLS07ai5yZW1vdmVTY3JpcHRFbGVtZW50KEopO2RlbGV0ZSBwW0NdfWlmKCFwLmhhc093blByb3BlcnR5KEMpKXtwW0NdPWZhbHNlO3FbQ109SjtqLm51bVBlbmRpbmdGaWxlcysrO2oubG9hZFNjcmlwdEZpbGUoSixhKGoub25GaWxlTG9hZGVkLFtDLEpdLGopLGEoai5vbkZpbGVMb2FkRXJyb3IsW0MsSl0saiksaixQKX19aWYoUCl7RC5jYWxsKHopO2lmKEc9PT0xKXtyZXR1cm4gYi5nZXQoQyl9fXJldHVybiBqfSxvbkZpbGVMb2FkZWQ6ZnVuY3Rpb24oeCx3KXtqLm51bUxvYWRlZEZpbGVzKys7cFt4XT10cnVlO3Nbd109dHJ1ZTtqLm51bVBlbmRpbmdGaWxlcy0tO2lmKGoubnVtUGVuZGluZ0ZpbGVzPT09MCl7ai5yZWZyZXNoUXVldWUoKX19LG9uRmlsZUxvYWRFcnJvcjpmdW5jdGlvbih5LHgsdyx6KXtqLm51bVBlbmRpbmdGaWxlcy0tO2ouaGFzRmlsZUxvYWRFcnJvcj10cnVlfSxhZGRVc2VkQ2xhc3NlczpmdW5jdGlvbih5KXt2YXIgdyx4LHo7aWYoeSl7eT0odHlwZW9mIHk9PSJzdHJpbmciKT9beV06eTtmb3IoeD0wLHo9eS5sZW5ndGg7eDx6O3grKyl7dz15W3hdO2lmKHR5cGVvZiB3PT0ic3RyaW5nIiYmIUV4dC5BcnJheS5jb250YWlucyh2LHcpKXt2LnB1c2godyl9fX1yZXR1cm4gan0sdHJpZ2dlclJlYWR5OmZ1bmN0aW9uKCl7dmFyIHgsdyx5PXY7aWYoai5pc0xvYWRpbmcpe2ouaXNMb2FkaW5nPWZhbHNlO2lmKHkubGVuZ3RoIT09MCl7eT15LnNsaWNlKCk7di5sZW5ndGg9MDtqLnJlcXVpcmUoeSxqLnRyaWdnZXJSZWFkeSxqKTtyZXR1cm4gan19d2hpbGUodS5sZW5ndGgmJiFqLmlzTG9hZGluZyl7eD11LnNoaWZ0KCk7eC5mbi5jYWxsKHguc2NvcGUpfXJldHVybiBqfSxvblJlYWR5OmZ1bmN0aW9uKHoseSxBLHcpe3ZhciB4O2lmKEEhPT1mYWxzZSYmRXh0Lm9uRG9jdW1lbnRSZWFkeSl7eD16O3o9ZnVuY3Rpb24oKXtFeHQub25Eb2N1bWVudFJlYWR5KHgseSx3KX19aWYoIWouaXNMb2FkaW5nKXt6LmNhbGwoeSl9ZWxzZXt1LnB1c2goe2ZuOnosc2NvcGU6eX0pfX0saGlzdG9yeVB1c2g6ZnVuY3Rpb24odyl7aWYodyYmcC5oYXNPd25Qcm9wZXJ0eSh3KSYmIXRbd10pe3Rbd109dHJ1ZTtrLnB1c2godyl9cmV0dXJuIGp9fSk7RXh0LmRpc2FibGVDYWNoZUJ1c3Rlcj1mdW5jdGlvbih4LHkpe3ZhciB3PW5ldyBEYXRlKCk7dy5zZXRUaW1lKHcuZ2V0VGltZSgpKyh4PzEwKjM2NTotMSkqMjQqNjAqNjAqMTAwMCk7dz13LnRvR01UU3RyaW5nKCk7ZG9jdW1lbnQuY29va2llPSJleHQtY2FjaGU9MTsgZXhwaXJlcz0iK3crIjsgcGF0aD0iKyh5fHwiLyIpfTtFeHQucmVxdWlyZT1tKGosInJlcXVpcmUiKTtFeHQuc3luY1JlcXVpcmU9bShqLCJzeW5jUmVxdWlyZSIpO0V4dC5leGNsdWRlPW0oaiwiZXhjbHVkZSIpO0V4dC5vblJlYWR5PWZ1bmN0aW9uKHkseCx3KXtqLm9uUmVhZHkoeSx4LHRydWUsdyl9O3IucmVnaXN0ZXJQcmVwcm9jZXNzb3IoImxvYWRlciIsZnVuY3Rpb24oTSxBLEwsSyl7dmFyIEg9dGhpcyxGPVtdLHcsRz1iLmdldE5hbWUoTSkseix5LEUsRCxKLEMseCxJLEI7Zm9yKHo9MCxFPWwubGVuZ3RoO3o8RTt6Kyspe0M9bFt6XTtpZihBLmhhc093blByb3BlcnR5KEMpKXt4PUFbQ107aWYodHlwZW9mIHg9PSJzdHJpbmciKXtGLnB1c2goeCl9ZWxzZXtpZih4IGluc3RhbmNlb2YgQXJyYXkpe2Zvcih5PTAsRD14Lmxlbmd0aDt5PEQ7eSsrKXtKPXhbeV07aWYodHlwZW9mIEo9PSJzdHJpbmciKXtGLnB1c2goSil9fX1lbHNle2lmKHR5cGVvZiB4IT0iZnVuY3Rpb24iKXtmb3IoeSBpbiB4KXtpZih4Lmhhc093blByb3BlcnR5KHkpKXtKPXhbeV07aWYodHlwZW9mIEo9PSJzdHJpbmciKXtGLnB1c2goSil9fX19fX19fWlmKEYubGVuZ3RoPT09MCl7cmV0dXJufWoucmVxdWlyZShGLGZ1bmN0aW9uKCl7Zm9yKHo9MCxFPWwubGVuZ3RoO3o8RTt6Kyspe0M9bFt6XTtpZihBLmhhc093blByb3BlcnR5KEMpKXt4PUFbQ107aWYodHlwZW9mIHg9PSJzdHJpbmciKXtBW0NdPWIuZ2V0KHgpfWVsc2V7aWYoeCBpbnN0YW5jZW9mIEFycmF5KXtmb3IoeT0wLEQ9eC5sZW5ndGg7eTxEO3krKyl7Sj14W3ldO2lmKHR5cGVvZiBKPT0ic3RyaW5nIil7QVtDXVt5XT1iLmdldChKKX19fWVsc2V7aWYodHlwZW9mIHghPSJmdW5jdGlvbiIpe2Zvcih2YXIgTiBpbiB4KXtpZih4Lmhhc093blByb3BlcnR5KE4pKXtKPXhbTl07aWYodHlwZW9mIEo9PSJzdHJpbmciKXtBW0NdW05dPWIuZ2V0KEopfX19fX19fX1LLmNhbGwoSCxNLEEsTCl9KTtyZXR1cm4gZmFsc2V9LHRydWUsImFmdGVyIiwiY2xhc3NOYW1lIik7Yi5yZWdpc3RlclBvc3Rwcm9jZXNzb3IoInVzZXMiLGZ1bmN0aW9uKHkseCx6KXt2YXIgdz16LnVzZXM7aWYodyl7ai5hZGRVc2VkQ2xhc3Nlcyh3KX19KTtiLm9uQ3JlYXRlZChqLmhpc3RvcnlQdXNoKX07RXh0LkVycm9yPUV4dC5leHRlbmQoRXJyb3Ise3N0YXRpY3M6e2lnbm9yZTpmYWxzZSxyYWlzZTpmdW5jdGlvbihhKXthPWF8fHt9O2lmKEV4dC5pc1N0cmluZyhhKSl7YT17bXNnOmF9fXZhciBjPXRoaXMucmFpc2UuY2FsbGVyLGI7aWYoYyl7aWYoYy4kbmFtZSl7YS5zb3VyY2VNZXRob2Q9Yy4kbmFtZX1pZihjLiRvd25lcil7YS5zb3VyY2VDbGFzcz1jLiRvd25lci4kY2xhc3NOYW1lfX1pZihFeHQuRXJyb3IuaGFuZGxlKGEpIT09dHJ1ZSl7Yj1FeHQuRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSk7RXh0LmxvZyh7bXNnOmIsbGV2ZWw6ImVycm9yIixkdW1wOmEsc3RhY2s6dHJ1ZX0pO3Rocm93IG5ldyBFeHQuRXJyb3IoYSl9fSxoYW5kbGU6ZnVuY3Rpb24oKXtyZXR1cm4gRXh0LkVycm9yLmlnbm9yZX19LG5hbWU6IkV4dC5FcnJvciIsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7aWYoRXh0LmlzU3RyaW5nKGEpKXthPXttc2c6YX19dmFyIGI9dGhpcztFeHQuYXBwbHkoYixhKTtiLm1lc3NhZ2U9Yi5tZXNzYWdlfHxiLm1zZ30sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9Yy5zb3VyY2VDbGFzcz9jLnNvdXJjZUNsYXNzOiIiLGE9Yy5zb3VyY2VNZXRob2Q/Ii4iK2Muc291cmNlTWV0aG9kKyIoKTogIjoiIixkPWMubXNnfHwiKE5vIGRlc2NyaXB0aW9uIHByb3ZpZGVkKSI7cmV0dXJuIGIrYStkfX0pO0V4dC5kZXByZWNhdGVkPWZ1bmN0aW9uKGEpe3JldHVybiBFeHQuZW1wdHlGbn07RXh0LkpTT049KG5ldyAoZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyxlbmNvZGluZ0Z1bmN0aW9uLGRlY29kaW5nRnVuY3Rpb24sdXNlTmF0aXZlPW51bGwsdXNlSGFzT3duPSEhe30uaGFzT3duUHJvcGVydHksaXNOYXRpdmU9ZnVuY3Rpb24oKXtpZih1c2VOYXRpdmU9PT1udWxsKXt1c2VOYXRpdmU9RXh0LlVTRV9OQVRJVkVfSlNPTiYmd2luZG93LkpTT04mJkpTT04udG9TdHJpbmcoKT09IltvYmplY3QgSlNPTl0ifXJldHVybiB1c2VOYXRpdmV9LHBhZD1mdW5jdGlvbihuKXtyZXR1cm4gbjwxMD8iMCIrbjpufSxkb0RlY29kZT1mdW5jdGlvbihqc29uKXtyZXR1cm4gZXZhbCgiKCIranNvbisiKSIpfSxkb0VuY29kZT1mdW5jdGlvbihvLG5ld2xpbmUpe2lmKG89PT1udWxsfHxvPT09dW5kZWZpbmVkKXtyZXR1cm4ibnVsbCJ9ZWxzZXtpZihFeHQuaXNEYXRlKG8pKXtyZXR1cm4gRXh0LkpTT04uZW5jb2RlRGF0ZShvKX1lbHNle2lmKEV4dC5pc1N0cmluZyhvKSl7cmV0dXJuIGVuY29kZVN0cmluZyhvKX1lbHNle2lmKHR5cGVvZiBvPT0ibnVtYmVyIil7cmV0dXJuIGlzRmluaXRlKG8pP1N0cmluZyhvKToibnVsbCJ9ZWxzZXtpZihFeHQuaXNCb29sZWFuKG8pKXtyZXR1cm4gU3RyaW5nKG8pfWVsc2V7aWYoby50b0pTT04pe3JldHVybiBvLnRvSlNPTigpfWVsc2V7aWYoRXh0LmlzQXJyYXkobykpe3JldHVybiBlbmNvZGVBcnJheShvLG5ld2xpbmUpfWVsc2V7aWYoRXh0LmlzT2JqZWN0KG8pKXtyZXR1cm4gZW5jb2RlT2JqZWN0KG8sbmV3bGluZSl9ZWxzZXtpZih0eXBlb2Ygbz09PSJmdW5jdGlvbiIpe3JldHVybiJudWxsIn19fX19fX19fXJldHVybiJ1bmRlZmluZWQifSxtPXsiXGIiOiJcXGIiLCJcdCI6IlxcdCIsIlxuIjoiXFxuIiwiXGYiOiJcXGYiLCJcciI6IlxcciIsJyInOidcXCInLCJcXCI6IlxcXFwiLCJceDBiIjoiXFx1MDAwYiJ9LGNoYXJUb1JlcGxhY2U9L1tcXFwiXHgwMC1ceDFmXHg3Zi1cdWZmZmZdL2csZW5jb2RlU3RyaW5nPWZ1bmN0aW9uKHMpe3JldHVybiciJytzLnJlcGxhY2UoY2hhclRvUmVwbGFjZSxmdW5jdGlvbihhKXt2YXIgYz1tW2FdO3JldHVybiB0eXBlb2YgYz09PSJzdHJpbmciP2M6IlxcdSIrKCIwMDAwIithLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpKS5zbGljZSgtNCl9KSsnIid9LGVuY29kZUFycmF5PWZ1bmN0aW9uKG8sbmV3bGluZSl7dmFyIGE9WyJbIiwiIl0sbGVuPW8ubGVuZ3RoLGk7Zm9yKGk9MDtpPGxlbjtpKz0xKXthLnB1c2goZG9FbmNvZGUob1tpXSksIiwiKX1hW2EubGVuZ3RoLTFdPSJdIjtyZXR1cm4gYS5qb2luKCIiKX0sZW5jb2RlT2JqZWN0PWZ1bmN0aW9uKG8sbmV3bGluZSl7dmFyIGE9WyJ7IiwiIl0saTtmb3IoaSBpbiBvKXtpZighdXNlSGFzT3dufHxvLmhhc093blByb3BlcnR5KGkpKXthLnB1c2goZG9FbmNvZGUoaSksIjoiLGRvRW5jb2RlKG9baV0pLCIsIil9fWFbYS5sZW5ndGgtMV09In0iO3JldHVybiBhLmpvaW4oIiIpfTttZS5lbmNvZGVWYWx1ZT1kb0VuY29kZTttZS5lbmNvZGVEYXRlPWZ1bmN0aW9uKG8pe3JldHVybiciJytvLmdldEZ1bGxZZWFyKCkrIi0iK3BhZChvLmdldE1vbnRoKCkrMSkrIi0iK3BhZChvLmdldERhdGUoKSkrIlQiK3BhZChvLmdldEhvdXJzKCkpKyI6IitwYWQoby5nZXRNaW51dGVzKCkpKyI6IitwYWQoby5nZXRTZWNvbmRzKCkpKyciJ307bWUuZW5jb2RlPWZ1bmN0aW9uKG8pe2lmKCFlbmNvZGluZ0Z1bmN0aW9uKXtlbmNvZGluZ0Z1bmN0aW9uPWlzTmF0aXZlKCk/SlNPTi5zdHJpbmdpZnk6bWUuZW5jb2RlVmFsdWV9cmV0dXJuIGVuY29kaW5nRnVuY3Rpb24obyl9O21lLmRlY29kZT1mdW5jdGlvbihqc29uLHNhZmUpe2lmKCFkZWNvZGluZ0Z1bmN0aW9uKXtkZWNvZGluZ0Z1bmN0aW9uPWlzTmF0aXZlKCk/SlNPTi5wYXJzZTpkb0RlY29kZX10cnl7cmV0dXJuIGRlY29kaW5nRnVuY3Rpb24oanNvbil9Y2F0Y2goZSl7aWYoc2FmZT09PXRydWUpe3JldHVybiBudWxsfUV4dC5FcnJvci5yYWlzZSh7c291cmNlQ2xhc3M6IkV4dC5KU09OIixzb3VyY2VNZXRob2Q6ImRlY29kZSIsbXNnOiJZb3UncmUgdHJ5aW5nIHRvIGRlY29kZSBhbiBpbnZhbGlkIEpTT04gU3RyaW5nOiAiK2pzb259KX19fSkoKSk7RXh0LmVuY29kZT1FeHQuSlNPTi5lbmNvZGU7RXh0LmRlY29kZT1FeHQuSlNPTi5kZWNvZGU7RXh0LmFwcGx5KEV4dCx7dXNlckFnZW50Om5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSxjYWNoZTp7fSxpZFNlZWQ6MTAwMCx3aW5kb3dJZDoiZXh0LXdpbmRvdyIsZG9jdW1lbnRJZDoiZXh0LWRvY3VtZW50Iixpc1JlYWR5OmZhbHNlLGVuYWJsZUdhcmJhZ2VDb2xsZWN0b3I6dHJ1ZSxlbmFibGVMaXN0ZW5lckNvbGxlY3Rpb246dHJ1ZSxhZGRDYWNoZUVudHJ5OmZ1bmN0aW9uKGUsYixkKXtkPWR8fGIuZG9tO3ZhciBhPWV8fChiJiZiLmlkKXx8ZC5pZCxjPUV4dC5jYWNoZVthXXx8KEV4dC5jYWNoZVthXT17ZGF0YTp7fSxldmVudHM6e30sZG9tOmQsc2tpcEdhcmJhZ2VDb2xsZWN0aW9uOiEhKGQuZ2V0RWxlbWVudEJ5SWR8fGQubmF2aWdhdG9yKX0pO2lmKGIpe2IuJGNhY2hlPWM7Yy5lbD1ifXJldHVybiBjfSxpZDpmdW5jdGlvbihhLGMpe3ZhciBiPXRoaXMsZD0iIjthPUV4dC5nZXREb20oYSx0cnVlKXx8e307aWYoYT09PWRvY3VtZW50KXthLmlkPWIuZG9jdW1lbnRJZH1lbHNle2lmKGE9PT13aW5kb3cpe2EuaWQ9Yi53aW5kb3dJZH19aWYoIWEuaWQpe2lmKGIuaXNTYW5kYm94ZWQpe2Q9RXh0LnNhbmRib3hOYW1lLnRvTG93ZXJDYXNlKCkrIi0ifWEuaWQ9ZCsoY3x8ImV4dC1nZW4iKSsoKytFeHQuaWRTZWVkKX1yZXR1cm4gYS5pZH0sZXNjYXBlSWQ6KGZ1bmN0aW9uKCl7dmFyIGM9L15bYS16QS1aX11bYS16QS1aMC05X1wtXSokL2ksZD0vKFtcV117MX0pL2csYj0vXihcZCkvZyxhPWZ1bmN0aW9uKGgsZyl7cmV0dXJuIlxcIitnfSxlPWZ1bmN0aW9uKGgsZyl7cmV0dXJuIlxcMDAiK2cuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikrIiAifTtyZXR1cm4gZnVuY3Rpb24oZyl7cmV0dXJuIGMudGVzdChnKT9nOmcucmVwbGFjZShkLGEpLnJlcGxhY2UoYixlKX19KCkpLGdldEJvZHk6KGZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGF8fChhPUV4dC5nZXQoZG9jdW1lbnQuYm9keSkpfX0oKSksZ2V0SGVhZDooZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYXx8KGE9RXh0LmdldChkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdKSl9fSgpKSxnZXREb2M6KGZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGF8fChhPUV4dC5nZXQoZG9jdW1lbnQpKX19KCkpLGdldENtcDpmdW5jdGlvbihhKXtyZXR1cm4gRXh0LkNvbXBvbmVudE1hbmFnZXIuZ2V0KGEpfSxnZXRPcmllbnRhdGlvbjpmdW5jdGlvbigpe3JldHVybiB3aW5kb3cuaW5uZXJIZWlnaHQ+d2luZG93LmlubmVyV2lkdGg/InBvcnRyYWl0IjoibGFuZHNjYXBlIn0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBjPWFyZ3VtZW50cy5sZW5ndGgsYixhO2ZvcihiPTA7YjxjO2IrKyl7YT1hcmd1bWVudHNbYl07aWYoYSl7aWYoRXh0LmlzQXJyYXkoYSkpe3RoaXMuZGVzdHJveS5hcHBseSh0aGlzLGEpfWVsc2V7aWYoRXh0LmlzRnVuY3Rpb24oYS5kZXN0cm95KSl7YS5kZXN0cm95KCl9ZWxzZXtpZihhLmRvbSl7YS5yZW1vdmUoKX19fX19fSxjYWxsYmFjazpmdW5jdGlvbihkLGMsYixhKXtpZihFeHQuaXNGdW5jdGlvbihkKSl7Yj1ifHxbXTtjPWN8fHdpbmRvdztpZihhKXtFeHQuZGVmZXIoZCxhLGMsYil9ZWxzZXtkLmFwcGx5KGMsYil9fX0saHRtbEVuY29kZTpmdW5jdGlvbihhKXtyZXR1cm4gRXh0LlN0cmluZy5odG1sRW5jb2RlKGEpfSxodG1sRGVjb2RlOmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuU3RyaW5nLmh0bWxEZWNvZGUoYSl9LHVybEFwcGVuZDpmdW5jdGlvbihhLGIpe3JldHVybiBFeHQuU3RyaW5nLnVybEFwcGVuZChhLGIpfX0pO0V4dC5ucz1FeHQubmFtZXNwYWNlO3dpbmRvdy51bmRlZmluZWQ9d2luZG93LnVuZGVmaW5lZDsoZnVuY3Rpb24oKXt2YXIgbz1mdW5jdGlvbihlKXtyZXR1cm4gZS50ZXN0KEV4dC51c2VyQWdlbnQpfSx0PWRvY3VtZW50LmNvbXBhdE1vZGU9PSJDU1MxQ29tcGF0IixGPWZ1bmN0aW9uKFIsUSl7dmFyIGU7cmV0dXJuKFImJihlPVEuZXhlYyhFeHQudXNlckFnZW50KSkpP3BhcnNlRmxvYXQoZVsxXSk6MH0scD1kb2N1bWVudC5kb2N1bWVudE1vZGUsYT1vKC9vcGVyYS8pLHY9YSYmbygvdmVyc2lvblwvMTBcLjUvKSxLPW8oL1xiY2hyb21lXGIvKSx6PW8oL3dlYmtpdC8pLGM9IUsmJm8oL3NhZmFyaS8pLEk9YyYmbygvYXBwbGV3ZWJraXRcLzQvKSxHPWMmJm8oL3ZlcnNpb25cLzMvKSxEPWMmJm8oL3ZlcnNpb25cLzQvKSxqPWMmJm8oL3ZlcnNpb25cLzVcLjAvKSxDPWMmJm8oL3ZlcnNpb25cLzUvKSxpPSFhJiZvKC9tc2llLyksSj1pJiYoKG8oL21zaWUgNy8pJiZwIT04JiZwIT05KXx8cD09NyksSD1pJiYoKG8oL21zaWUgOC8pJiZwIT03JiZwIT05KXx8cD09OCksRT1pJiYoKG8oL21zaWUgOS8pJiZwIT03JiZwIT04KXx8cD09OSksTT1pJiZvKC9tc2llIDYvKSxiPSF6JiZvKC9nZWNrby8pLFA9YiYmbygvcnY6MVwuOS8pLE89YiYmbygvcnY6MlwuMC8pLE49YiYmbygvcnY6NVwuLykscj1iJiZvKC9ydjoxMFwuLykseT1QJiZvKC9ydjoxXC45XC4wLyksdz1QJiZvKC9ydjoxXC45XC4xLyksdT1QJiZvKC9ydjoxXC45XC4yLyksZz1vKC93aW5kb3dzfHdpbjMyLyksQj1vKC9tYWNpbnRvc2h8bWFjIG9zIHgvKSx4PW8oL2xpbnV4LyksbD1udWxsLG09Rih0cnVlLC9cYmNocm9tZVwvKFxkK1wuXGQrKS8pLGg9Rih0cnVlLC9cYmZpcmVmb3hcLyhcZCtcLlxkKykvKSxuPUYoaSwvbXNpZSAoXGQrXC5cZCspLykscz1GKGEsL3ZlcnNpb25cLyhcZCtcLlxkKykvKSxkPUYoYywvdmVyc2lvblwvKFxkK1wuXGQrKS8pLEE9Rih6LC93ZWJraXRcLyhcZCtcLlxkKykvKSxxPS9eaHR0cHMvaS50ZXN0KHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCksazt0cnl7ZG9jdW1lbnQuZXhlY0NvbW1hbmQoIkJhY2tncm91bmRJbWFnZUNhY2hlIixmYWxzZSx0cnVlKX1jYXRjaChMKXt9az1mdW5jdGlvbigpe307ay5pbmZvPWsud2Fybj1rLmVycm9yPUV4dC5lbXB0eUZuO0V4dC5zZXRWZXJzaW9uKCJleHRqcyIsIjQuMS4wIik7RXh0LmFwcGx5KEV4dCx7U1NMX1NFQ1VSRV9VUkw6cSYmaT8iamF2YXNjcmlwdDonJyI6ImFib3V0OmJsYW5rIixzY29wZVJlc2V0Q1NTOkV4dC5idWlsZFNldHRpbmdzLnNjb3BlUmVzZXRDU1MscmVzZXRDbHM6RXh0LmJ1aWxkU2V0dGluZ3MuYmFzZUNTU1ByZWZpeCsicmVzZXQiLGVuYWJsZU5lc3RlZExpc3RlbmVyUmVtb3ZhbDpmYWxzZSxVU0VfTkFUSVZFX0pTT046ZmFsc2UsZ2V0RG9tOmZ1bmN0aW9uKFIsUSl7aWYoIVJ8fCFkb2N1bWVudCl7cmV0dXJuIG51bGx9aWYoUi5kb20pe3JldHVybiBSLmRvbX1lbHNle2lmKHR5cGVvZiBSPT0ic3RyaW5nIil7dmFyIFM9RXh0LmdldEVsZW1lbnRCeUlkKFIpO2lmKFMmJmkmJlEpe2lmKFI9PVMuZ2V0QXR0cmlidXRlKCJpZCIpKXtyZXR1cm4gU31lbHNle3JldHVybiBudWxsfX1yZXR1cm4gU31lbHNle3JldHVybiBSfX19LHJlbW92ZU5vZGU6TXx8Snx8SD8oZnVuY3Rpb24oKXt2YXIgZTtyZXR1cm4gZnVuY3Rpb24oUyl7aWYoUyYmUy50YWdOYW1lLnRvVXBwZXJDYXNlKCkhPSJCT0RZIil7KEV4dC5lbmFibGVOZXN0ZWRMaXN0ZW5lclJlbW92YWwpP0V4dC5FdmVudE1hbmFnZXIucHVyZ2VFbGVtZW50KFMpOkV4dC5FdmVudE1hbmFnZXIucmVtb3ZlQWxsKFMpO3ZhciBRPUV4dC5jYWNoZSxSPVMuaWQ7aWYoUVtSXSl7ZGVsZXRlIFFbUl0uZG9tO2RlbGV0ZSBRW1JdfWlmKFMudGFnTmFtZS50b1VwcGVyQ2FzZSgpIT0iSUZSQU1FIil7aWYoSCYmUy5wYXJlbnROb2RlKXtTLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoUyl9ZT1lfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtlLmFwcGVuZENoaWxkKFMpO2UuaW5uZXJIVE1MPSIifX19fSgpKTpmdW5jdGlvbihSKXtpZihSJiZSLnBhcmVudE5vZGUmJlIudGFnTmFtZS50b1VwcGVyQ2FzZSgpIT0iQk9EWSIpeyhFeHQuZW5hYmxlTmVzdGVkTGlzdGVuZXJSZW1vdmFsKT9FeHQuRXZlbnRNYW5hZ2VyLnB1cmdlRWxlbWVudChSKTpFeHQuRXZlbnRNYW5hZ2VyLnJlbW92ZUFsbChSKTt2YXIgZT1FeHQuY2FjaGUsUT1SLmlkO2lmKGVbUV0pe2RlbGV0ZSBlW1FdLmRvbTtkZWxldGUgZVtRXX1SLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoUil9fSxpc1N0cmljdDp0LGlzSUVRdWlya3M6aSYmIXQsaXNPcGVyYTphLGlzT3BlcmExMF81OnYsaXNXZWJLaXQ6eixpc0Nocm9tZTpLLGlzU2FmYXJpOmMsaXNTYWZhcmkzOkcsaXNTYWZhcmk0OkQsaXNTYWZhcmk1OkMsaXNTYWZhcmk1XzA6aixpc1NhZmFyaTI6SSxpc0lFOmksaXNJRTY6TSxpc0lFNzpKLGlzSUU4OkgsaXNJRTk6RSxpc0dlY2tvOmIsaXNHZWNrbzM6UCxpc0dlY2tvNDpPLGlzR2Vja281Ok4saXNHZWNrbzEwOnIsaXNGRjNfMDp5LGlzRkYzXzU6dyxpc0ZGM182OnUsaXNGRjQ6NDw9aCYmaDw1LGlzRkY1OjU8PWgmJmg8Nixpc0ZGMTA6MTA8PWgmJmg8MTEsaXNMaW51eDp4LGlzV2luZG93czpnLGlzTWFjOkIsY2hyb21lVmVyc2lvbjptLGZpcmVmb3hWZXJzaW9uOmgsaWVWZXJzaW9uOm4sb3BlcmFWZXJzaW9uOnMsc2FmYXJpVmVyc2lvbjpkLHdlYktpdFZlcnNpb246QSxpc1NlY3VyZTpxLEJMQU5LX0lNQUdFX1VSTDooTXx8Sik/Ii8vd3d3LnNlbmNoYS5jb20vcy5naWYiOiJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUlEL0FNREF3QUFBQUNINUJBRUFBQUFBTEFBQUFBQUJBQUVBQUFJQ1JBRUFPdz09Iix2YWx1ZTpmdW5jdGlvbihSLGUsUSl7cmV0dXJuIEV4dC5pc0VtcHR5KFIsUSk/ZTpSfSxlc2NhcGVSZTpmdW5jdGlvbihlKXtyZXR1cm4gZS5yZXBsYWNlKC8oWy0uKis/XF4ke30oKXxcW1xdXC9cXF0pL2csIlxcJDEiKX0sYWRkQmVoYXZpb3JzOmZ1bmN0aW9uKFQpe2lmKCFFeHQuaXNSZWFkeSl7RXh0Lm9uUmVhZHkoZnVuY3Rpb24oKXtFeHQuYWRkQmVoYXZpb3JzKFQpfSl9ZWxzZXt2YXIgUT17fSxTLGUsUjtmb3IoZSBpbiBUKXtpZigoUz1lLnNwbGl0KCJAIikpWzFdKXtSPVNbMF07aWYoIVFbUl0pe1FbUl09RXh0LnNlbGVjdChSKX1RW1JdLm9uKFNbMV0sVFtlXSl9fVE9bnVsbH19LGdldFNjcm9sbGJhclNpemU6ZnVuY3Rpb24oUSl7aWYoIUV4dC5pc1JlYWR5KXtyZXR1cm57fX1pZihRfHwhbCl7dmFyIGU9ZG9jdW1lbnQuYm9keSxSPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO1Iuc3R5bGUud2lkdGg9Ui5zdHlsZS5oZWlnaHQ9IjEwMHB4IjtSLnN0eWxlLm92ZXJmbG93PSJzY3JvbGwiO1Iuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtlLmFwcGVuZENoaWxkKFIpO2w9e3dpZHRoOlIub2Zmc2V0V2lkdGgtUi5jbGllbnRXaWR0aCxoZWlnaHQ6Ui5vZmZzZXRIZWlnaHQtUi5jbGllbnRIZWlnaHR9O2UucmVtb3ZlQ2hpbGQoUil9cmV0dXJuIGx9LGdldFNjcm9sbEJhcldpZHRoOmZ1bmN0aW9uKFEpe3ZhciBlPUV4dC5nZXRTY3JvbGxiYXJTaXplKFEpO3JldHVybiBlLndpZHRoKzJ9LGNvcHlUbzpmdW5jdGlvbihRLFMsVSxUKXtpZih0eXBlb2YgVT09InN0cmluZyIpe1U9VS5zcGxpdCgvWyw7XHNdLyl9dmFyIFYsUj1VLmxlbmd0aCxlO2ZvcihWPTA7VjxSO1YrKyl7ZT1VW1ZdO2lmKFR8fFMuaGFzT3duUHJvcGVydHkoZSkpe1FbZV09U1tlXX19cmV0dXJuIFF9LGRlc3Ryb3lNZW1iZXJzOmZ1bmN0aW9uKFMpe2Zvcih2YXIgUj0xLFE9YXJndW1lbnRzLGU9US5sZW5ndGg7UjxlO1IrKyl7RXh0LmRlc3Ryb3koU1tRW1JdXSk7ZGVsZXRlIFNbUVtSXV19fSxsb2c6ayxwYXJ0aXRpb246ZnVuY3Rpb24oZSxUKXt2YXIgVT1bW10sW11dLFEsUyxSPWUubGVuZ3RoO2ZvcihRPTA7UTxSO1ErKyl7Uz1lW1FdO1VbKFQmJlQoUyxRLGUpKXx8KCFUJiZTKT8wOjFdLnB1c2goUyl9cmV0dXJuIFV9LGludm9rZTpmdW5jdGlvbihlLFQpe3ZhciBWPVtdLFU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpLFEsUyxSPWUubGVuZ3RoO2ZvcihRPTA7UTxSO1ErKyl7Uz1lW1FdO2lmKFMmJnR5cGVvZiBTW1RdPT0iZnVuY3Rpb24iKXtWLnB1c2goU1tUXS5hcHBseShTLFUpKX1lbHNle1YucHVzaCh1bmRlZmluZWQpfX1yZXR1cm4gVn0semlwOmZ1bmN0aW9uKCl7dmFyIFc9RXh0LnBhcnRpdGlvbihhcmd1bWVudHMsZnVuY3Rpb24oWCl7cmV0dXJuIHR5cGVvZiBYIT0iZnVuY3Rpb24ifSksVD1XWzBdLFY9V1sxXVswXSxlPUV4dC5tYXgoRXh0LnBsdWNrKFQsImxlbmd0aCIpKSxTPVtdLFUsUixRO2ZvcihVPTA7VTxlO1UrKyl7U1tVXT1bXTtpZihWKXtTW1VdPVYuYXBwbHkoVixFeHQucGx1Y2soVCxVKSl9ZWxzZXtmb3IoUj0wLFE9VC5sZW5ndGg7UjxRO1IrKyl7U1tVXS5wdXNoKFRbUl1bVV0pfX19cmV0dXJuIFN9LHRvU2VudGVuY2U6ZnVuY3Rpb24oUSxlKXt2YXIgVD1RLmxlbmd0aCxTLFI7aWYoVDw9MSl7cmV0dXJuIFFbMF19ZWxzZXtTPVEuc2xpY2UoMCxULTEpO1I9UVtULTFdO3JldHVybiBFeHQudXRpbC5Gb3JtYXQuZm9ybWF0KCJ7MH0gezF9IHsyfSIsUy5qb2luKCIsICIpLGV8fCJhbmQiLFIpfX0sdXNlU2hpbXM6TX0pfSgpKTtFeHQuYXBwbGljYXRpb249ZnVuY3Rpb24oYSl7RXh0LnJlcXVpcmUoIkV4dC5hcHAuQXBwbGljYXRpb24iKTtFeHQub25SZWFkeShmdW5jdGlvbigpe25ldyBFeHQuYXBwLkFwcGxpY2F0aW9uKGEpfSl9OyhmdW5jdGlvbigpe0V4dC5ucygiRXh0LnV0aWwiKTtFeHQudXRpbC5Gb3JtYXQ9e307dmFyIGc9RXh0LnV0aWwuRm9ybWF0LGU9LzxcLz9bXj5dKz4vZ2ksYz0vKD86PHNjcmlwdC4qPz4pKChcbnxccnwuKSo/KSg/OjxcL3NjcmlwdD4pL2lnLGI9L1xyP1xuL2csZD0vW15cZFwuXS9nLGE7RXh0LmFwcGx5KGcse3Rob3VzYW5kU2VwYXJhdG9yOiIsIixkZWNpbWFsU2VwYXJhdG9yOiIuIixjdXJyZW5jeVByZWNpc2lvbjoyLGN1cnJlbmN5U2lnbjoiJCIsY3VycmVuY3lBdEVuZDpmYWxzZSx1bmRlZjpmdW5jdGlvbihoKXtyZXR1cm4gaCE9PXVuZGVmaW5lZD9oOiIifSxkZWZhdWx0VmFsdWU6ZnVuY3Rpb24oaSxoKXtyZXR1cm4gaSE9PXVuZGVmaW5lZCYmaSE9PSIiP2k6aH0sc3Vic3RyOiJhYiIuc3Vic3RyKC0xKSE9ImIiP2Z1bmN0aW9uKGksayxoKXt2YXIgaj1TdHJpbmcoaSk7cmV0dXJuKGs8MCk/ai5zdWJzdHIoTWF0aC5tYXgoai5sZW5ndGgraywwKSxoKTpqLnN1YnN0cihrLGgpfTpmdW5jdGlvbihpLGosaCl7cmV0dXJuIFN0cmluZyhpKS5zdWJzdHIoaixoKX0sbG93ZXJjYXNlOmZ1bmN0aW9uKGgpe3JldHVybiBTdHJpbmcoaCkudG9Mb3dlckNhc2UoKX0sdXBwZXJjYXNlOmZ1bmN0aW9uKGgpe3JldHVybiBTdHJpbmcoaCkudG9VcHBlckNhc2UoKX0sdXNNb25leTpmdW5jdGlvbihoKXtyZXR1cm4gZy5jdXJyZW5jeShoLCIkIiwyKX0sY3VycmVuY3k6ZnVuY3Rpb24oayxtLGosaCl7dmFyIG89IiIsbj0iLDAiLGw9MDtrPWstMDtpZihrPDApe2s9LWs7bz0iLSJ9aj1FeHQuaXNEZWZpbmVkKGopP2o6Zy5jdXJyZW5jeVByZWNpc2lvbjtuKz1uKyhqPjA/Ii4iOiIiKTtmb3IoO2w8ajtsKyspe24rPSIwIn1rPWcubnVtYmVyKGssbik7aWYoKGh8fGcuY3VycmVuY3lBdEVuZCk9PT10cnVlKXtyZXR1cm4gRXh0LlN0cmluZy5mb3JtYXQoInswfXsxfXsyfSIsbyxrLG18fGcuY3VycmVuY3lTaWduKX1lbHNle3JldHVybiBFeHQuU3RyaW5nLmZvcm1hdCgiezB9ezF9ezJ9IixvLG18fGcuY3VycmVuY3lTaWduLGspfX0sZGF0ZTpmdW5jdGlvbihoLGkpe2lmKCFoKXtyZXR1cm4iIn1pZighRXh0LmlzRGF0ZShoKSl7aD1uZXcgRGF0ZShEYXRlLnBhcnNlKGgpKX1yZXR1cm4gRXh0LkRhdGUuZGF0ZUZvcm1hdChoLGl8fEV4dC5EYXRlLmRlZmF1bHRGb3JtYXQpfSxkYXRlUmVuZGVyZXI6ZnVuY3Rpb24oaCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBnLmRhdGUoaSxoKX19LHN0cmlwVGFnczpmdW5jdGlvbihoKXtyZXR1cm4gIWg/aDpTdHJpbmcoaCkucmVwbGFjZShlLCIiKX0sc3RyaXBTY3JpcHRzOmZ1bmN0aW9uKGgpe3JldHVybiAhaD9oOlN0cmluZyhoKS5yZXBsYWNlKGMsIiIpfSxmaWxlU2l6ZTpmdW5jdGlvbihoKXtpZihoPDEwMjQpe3JldHVybiBoKyIgYnl0ZXMifWVsc2V7aWYoaDwxMDQ4NTc2KXtyZXR1cm4oTWF0aC5yb3VuZCgoKGgqMTApLzEwMjQpKS8xMCkrIiBLQiJ9ZWxzZXtyZXR1cm4oTWF0aC5yb3VuZCgoKGgqMTApLzEwNDg1NzYpKS8xMCkrIiBNQiJ9fX0sbWF0aDooZnVuY3Rpb24oKXt2YXIgaD17fTtyZXR1cm4gZnVuY3Rpb24oaixpKXtpZighaFtpXSl7aFtpXT1FeHQuZnVuY3Rpb25GYWN0b3J5KCJ2IiwicmV0dXJuIHYgIitpKyI7Iil9cmV0dXJuIGhbaV0oail9fSgpKSxyb3VuZDpmdW5jdGlvbihqLGkpe3ZhciBoPU51bWJlcihqKTtpZih0eXBlb2YgaT09Im51bWJlciIpe2k9TWF0aC5wb3coMTAsaSk7aD1NYXRoLnJvdW5kKGoqaSkvaX1yZXR1cm4gaH0sbnVtYmVyOmZ1bmN0aW9uKHkscyl7aWYoIXMpe3JldHVybiB5fXk9RXh0Lk51bWJlci5mcm9tKHksTmFOKTtpZihpc05hTih5KSl7cmV0dXJuIiJ9dmFyIEE9Zy50aG91c2FuZFNlcGFyYXRvcixxPWcuZGVjaW1hbFNlcGFyYXRvcix6PWZhbHNlLHI9eTwwLGssaCx4LHcscCx0LG8sbCx1O3k9TWF0aC5hYnMoeSk7aWYocy5zdWJzdHIocy5sZW5ndGgtMik9PSIvaSIpe2lmKCFhKXthPW5ldyBSZWdFeHAoIlteXFxkXFwiK2cuZGVjaW1hbFNlcGFyYXRvcisiXSIsImciKX1zPXMuc3Vic3RyKDAscy5sZW5ndGgtMik7ej10cnVlO2s9cy5pbmRleE9mKEEpIT0tMTtoPXMucmVwbGFjZShhLCIiKS5zcGxpdChxKX1lbHNle2s9cy5pbmRleE9mKCIsIikhPS0xO2g9cy5yZXBsYWNlKGQsIiIpLnNwbGl0KCIuIil9aWYoaC5sZW5ndGg+Mil7fWVsc2V7aWYoaC5sZW5ndGg+MSl7eT1FeHQuTnVtYmVyLnRvRml4ZWQoeSxoWzFdLmxlbmd0aCl9ZWxzZXt5PUV4dC5OdW1iZXIudG9GaXhlZCh5LDApfX14PXkudG9TdHJpbmcoKTtoPXguc3BsaXQoIi4iKTtpZihrKXt3PWhbMF07cD1bXTt0PXcubGVuZ3RoO289TWF0aC5mbG9vcih0LzMpO2w9dy5sZW5ndGglM3x8Mztmb3IodT0wO3U8dDt1Kz1sKXtpZih1IT09MCl7bD0zfXBbcC5sZW5ndGhdPXcuc3Vic3RyKHUsbCk7by09MX14PXAuam9pbihBKTtpZihoWzFdKXt4Kz1xK2hbMV19fWVsc2V7aWYoaFsxXSl7eD1oWzBdK3EraFsxXX19aWYocil7cj14LnJlcGxhY2UoL1teMS05XS9nLCIiKSE9PSIifXJldHVybihyPyItIjoiIikrcy5yZXBsYWNlKC9bXGQsP1wuP10rLyx4KX0sbnVtYmVyUmVuZGVyZXI6ZnVuY3Rpb24oaCl7cmV0dXJuIGZ1bmN0aW9uKGkpe3JldHVybiBnLm51bWJlcihpLGgpfX0scGx1cmFsOmZ1bmN0aW9uKGgsaSxqKXtyZXR1cm4gaCsiICIrKGg9PTE/aTooaj9qOmkrInMiKSl9LG5sMmJyOmZ1bmN0aW9uKGgpe3JldHVybiBFeHQuaXNFbXB0eShoKT8iIjpoLnJlcGxhY2UoYiwiPGJyLz4iKX0sY2FwaXRhbGl6ZTpFeHQuU3RyaW5nLmNhcGl0YWxpemUsZWxsaXBzaXM6RXh0LlN0cmluZy5lbGxpcHNpcyxmb3JtYXQ6RXh0LlN0cmluZy5mb3JtYXQsaHRtbERlY29kZTpFeHQuU3RyaW5nLmh0bWxEZWNvZGUsaHRtbEVuY29kZTpFeHQuU3RyaW5nLmh0bWxFbmNvZGUsbGVmdFBhZDpFeHQuU3RyaW5nLmxlZnRQYWQsdHJpbTpFeHQuU3RyaW5nLnRyaW0scGFyc2VCb3g6ZnVuY3Rpb24oaSl7aT1FeHQuaXNFbXB0eShpKT8iIjppO2lmKEV4dC5pc051bWJlcihpKSl7aT1pLnRvU3RyaW5nKCl9dmFyIGo9aS5zcGxpdCgiICIpLGg9ai5sZW5ndGg7aWYoaD09MSl7alsxXT1qWzJdPWpbM109alswXX1lbHNle2lmKGg9PTIpe2pbMl09alswXTtqWzNdPWpbMV19ZWxzZXtpZihoPT0zKXtqWzNdPWpbMV19fX1yZXR1cm57dG9wOnBhcnNlSW50KGpbMF0sMTApfHwwLHJpZ2h0OnBhcnNlSW50KGpbMV0sMTApfHwwLGJvdHRvbTpwYXJzZUludChqWzJdLDEwKXx8MCxsZWZ0OnBhcnNlSW50KGpbM10sMTApfHwwfX0sZXNjYXBlUmVnZXg6ZnVuY3Rpb24oaCl7cmV0dXJuIGgucmVwbGFjZSgvKFtcLS4qKz9cXiR7fSgpfFxbXF1cL1xcXSkvZywiXFwkMSIpfX0pfSgpKTtFeHQuZGVmaW5lKCJFeHQudXRpbC5UYXNrUnVubmVyIix7aW50ZXJ2YWw6MTAsdGltZXJJZDpudWxsLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYodHlwZW9mIGE9PSJudW1iZXIiKXtiLmludGVydmFsPWF9ZWxzZXtpZihhKXtFeHQuYXBwbHkoYixhKX19Yi50YXNrcz1bXTtiLnRpbWVyRm49RXh0LkZ1bmN0aW9uLmJpbmQoYi5vblRpY2ssYil9LG5ld1Rhc2s6ZnVuY3Rpb24oYil7dmFyIGE9bmV3IEV4dC51dGlsLlRhc2tSdW5uZXIuVGFzayhiKTthLm1hbmFnZXI9dGhpcztyZXR1cm4gYX0sc3RhcnQ6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcyxiPW5ldyBEYXRlKCkuZ2V0VGltZSgpO2lmKCFhLnBlbmRpbmcpe2MudGFza3MucHVzaChhKTthLnBlbmRpbmc9dHJ1ZX1hLnN0b3BwZWQ9ZmFsc2U7YS50YXNrU3RhcnRUaW1lPWI7YS50YXNrUnVuVGltZT1hLmZpcmVPblN0YXJ0IT09ZmFsc2U/MDphLnRhc2tTdGFydFRpbWU7YS50YXNrUnVuQ291bnQ9MDtpZighYy5maXJpbmcpe2lmKGEuZmlyZU9uU3RhcnQhPT1mYWxzZSl7Yy5zdGFydFRpbWVyKDAsYil9ZWxzZXtjLnN0YXJ0VGltZXIoYS5pbnRlcnZhbCxiKX19cmV0dXJuIGF9LHN0b3A6ZnVuY3Rpb24oYSl7aWYoIWEuc3RvcHBlZCl7YS5zdG9wcGVkPXRydWU7aWYoYS5vblN0b3Ape2Eub25TdG9wLmNhbGwoYS5zY29wZXx8YSxhKX19cmV0dXJuIGF9LHN0b3BBbGw6ZnVuY3Rpb24oKXtFeHQuZWFjaCh0aGlzLnRhc2tzLHRoaXMuc3RvcCx0aGlzKX0sZmlyaW5nOmZhbHNlLG5leHRFeHBpcmVzOjFlKzk5LG9uVGljazpmdW5jdGlvbigpe3ZhciBtPXRoaXMsZT1tLnRhc2tzLGE9bmV3IERhdGUoKS5nZXRUaW1lKCksbj0xZSs5OSxrPWUubGVuZ3RoLGMsbyxoLGIsZCxnO20udGltZXJJZD1udWxsO20uZmlyaW5nPXRydWU7Zm9yKGg9MDtoPGt8fGg8KGs9ZS5sZW5ndGgpOysraCl7Yj1lW2hdO2lmKCEoZz1iLnN0b3BwZWQpKXtjPWIudGFza1J1blRpbWUrYi5pbnRlcnZhbDtpZihjPD1hKXtkPTE7dHJ5e2Q9Yi5ydW4uYXBwbHkoYi5zY29wZXx8YixiLmFyZ3N8fFsrK2IudGFza1J1bkNvdW50XSl9Y2F0Y2goail7dHJ5e2lmKGIub25FcnJvcil7ZD1iLm9uRXJyb3IuY2FsbChiLnNjb3BlfHxiLGIsail9fWNhdGNoKGwpe319Yi50YXNrUnVuVGltZT1hO2lmKGQ9PT1mYWxzZXx8Yi50YXNrUnVuQ291bnQ9PT1iLnJlcGVhdCl7bS5zdG9wKGIpO2c9dHJ1ZX1lbHNle2c9Yi5zdG9wcGVkO2M9YStiLmludGVydmFsfX1pZighZyYmYi5kdXJhdGlvbiYmYi5kdXJhdGlvbjw9KGEtYi50YXNrU3RhcnRUaW1lKSl7bS5zdG9wKGIpO2c9dHJ1ZX19aWYoZyl7Yi5wZW5kaW5nPWZhbHNlO2lmKCFvKXtvPWUuc2xpY2UoMCxoKX19ZWxzZXtpZihvKXtvLnB1c2goYil9aWYobj5jKXtuPWN9fX1pZihvKXttLnRhc2tzPW99bS5maXJpbmc9ZmFsc2U7aWYobS50YXNrcy5sZW5ndGgpe20uc3RhcnRUaW1lcihuLWEsbmV3IERhdGUoKS5nZXRUaW1lKCkpfX0sc3RhcnRUaW1lcjpmdW5jdGlvbihlLGMpe3ZhciBkPXRoaXMsYj1jK2UsYT1kLnRpbWVySWQ7aWYoYSYmZC5uZXh0RXhwaXJlcy1iPmQuaW50ZXJ2YWwpe2NsZWFyVGltZW91dChhKTthPW51bGx9aWYoIWEpe2lmKGU8ZC5pbnRlcnZhbCl7ZT1kLmludGVydmFsfWQudGltZXJJZD1zZXRUaW1lb3V0KGQudGltZXJGbixlKTtkLm5leHRFeHBpcmVzPWJ9fX0sZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5wcm90b3R5cGU7YS5kZXN0cm95PWEuc3RvcEFsbDtFeHQudXRpbC5UYXNrTWFuYWdlcj1FeHQuVGFza01hbmFnZXI9bmV3IGIoKTtiLlRhc2s9bmV3IEV4dC5DbGFzcyh7aXNUYXNrOnRydWUsc3RvcHBlZDp0cnVlLGZpcmVPblN0YXJ0OmZhbHNlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGMpe0V4dC5hcHBseSh0aGlzLGMpfSxyZXN0YXJ0OmZ1bmN0aW9uKGMpe2lmKGMhPT11bmRlZmluZWQpe3RoaXMuaW50ZXJ2YWw9Y310aGlzLm1hbmFnZXIuc3RhcnQodGhpcyl9LHN0YXJ0OmZ1bmN0aW9uKGMpe2lmKHRoaXMuc3RvcHBlZCl7dGhpcy5yZXN0YXJ0KGMpfX0sc3RvcDpmdW5jdGlvbigpe3RoaXMubWFuYWdlci5zdG9wKHRoaXMpfX0pO2E9Yi5UYXNrLnByb3RvdHlwZTthLmRlc3Ryb3k9YS5zdG9wfSk7RXh0LmRlZmluZSgiRXh0LnBlcmYuQWNjdW11bGF0b3IiLChmdW5jdGlvbigpe3ZhciBjPW51bGwsaD1FeHQuZ2xvYmFsLmNocm9tZSxkLGI9ZnVuY3Rpb24oKXtiPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRlKCkuZ2V0VGltZSgpfTt2YXIgbCxtO2lmKEV4dC5pc0Nocm9tZSYmaCYmaC5JbnRlcnZhbCl7bD1uZXcgaC5JbnRlcnZhbCgpO2wuc3RhcnQoKTtiPWZ1bmN0aW9uKCl7cmV0dXJuIGwubWljcm9zZWNvbmRzKCkvMTAwMH19ZWxzZXtpZih3aW5kb3cuQWN0aXZlWE9iamVjdCl7dHJ5e209bmV3IEFjdGl2ZVhPYmplY3QoIlNlbmNoYVRvb2xib3guVG9vbGJveCIpO0V4dC5zZW5jaGFUb29sYm94PW07Yj1mdW5jdGlvbigpe3JldHVybiBtLm1pbGxpc2Vjb25kc319Y2F0Y2gobil7fX1lbHNle2lmKERhdGUubm93KXtiPURhdGUubm93fX19RXh0LnBlcmYuZ2V0VGltZXN0YW1wPUV4dC5wZXJmLkFjY3VtdWxhdG9yLmdldFRpbWVzdGFtcD1iO3JldHVybiBiKCl9O2Z1bmN0aW9uIGkobSxsKXttLnN1bSs9bDttLm1pbj1NYXRoLm1pbihtLm1pbixsKTttLm1heD1NYXRoLm1heChtLm1heCxsKX1mdW5jdGlvbiBlKG8pe3ZhciBtPW8/bzooYigpLXRoaXMudGltZSksbj10aGlzLGw9bi5hY2N1bTsrK2wuY291bnQ7aWYoIS0tbC5kZXB0aCl7aShsLnRvdGFsLG0pfWkobC5wdXJlLG0tbi5jaGlsZFRpbWUpO2M9bi5wYXJlbnQ7aWYoYyl7KytjLmFjY3VtLmNoaWxkQ291bnQ7Yy5jaGlsZFRpbWUrPW19fWZ1bmN0aW9uIGEoKXtyZXR1cm57bWluOk51bWJlci5NQVhfVkFMVUUsbWF4OjAsc3VtOjB9fWZ1bmN0aW9uIGoobSxsKXtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbz1tLmVudGVyKCksbj1sLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtvLmxlYXZlKCk7cmV0dXJuIG59fWZ1bmN0aW9uIGsobCl7cmV0dXJuIE1hdGgucm91bmQobCoxMDApLzEwMH1mdW5jdGlvbiBnKG4sbSxsLHApe3ZhciBvPXthdmc6MCxtaW46cC5taW4sbWF4OnAubWF4LHN1bTowfTtpZihuKXtsPWx8fDA7by5zdW09cC5zdW0tbSpsO28uYXZnPW8uc3VtL259cmV0dXJuIG99cmV0dXJue2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGwpe3ZhciBtPXRoaXM7bS5jb3VudD1tLmNoaWxkQ291bnQ9bS5kZXB0aD1tLm1heERlcHRoPTA7bS5wdXJlPWEoKTttLnRvdGFsPWEoKTttLm5hbWU9bH0sc3RhdGljczp7Z2V0VGltZXN0YW1wOmJ9LGZvcm1hdDpmdW5jdGlvbihsKXtpZighZCl7ZD1uZXcgRXh0LlhUZW1wbGF0ZShbIntuYW1lfSAtIHtjb3VudH0gY2FsbChzKSIsJzx0cGwgaWY9ImNvdW50Ij4nLCc8dHBsIGlmPSJjaGlsZENvdW50Ij4nLCIgKHtjaGlsZENvdW50fSBjaGlsZHJlbikiLCI8L3RwbD4iLCc8dHBsIGlmPSJkZXB0aCAtIDEiPicsIiAoe2RlcHRofSBkZWVwKSIsIjwvdHBsPiIsJzx0cGwgZm9yPSJ0aW1lcyI+JywiLCB7dHlwZX06IHtbdGhpcy50aW1lKHZhbHVlcy5zdW0pXX0gbXNlYyAoIiwiYXZnPXtbdGhpcy50aW1lKHZhbHVlcy5zdW0gLyBwYXJlbnQuY291bnQpXX0iLCIpIiwiPC90cGw+IiwiPC90cGw+Il0uam9pbigiIikse3RpbWU6ZnVuY3Rpb24obil7cmV0dXJuIE1hdGgucm91bmQobioxMDApLzEwMH19KX12YXIgbT10aGlzLmdldERhdGEobCk7bS5uYW1lPXRoaXMubmFtZTttLnB1cmUudHlwZT0iUHVyZSI7bS50b3RhbC50eXBlPSJUb3RhbCI7bS50aW1lcz1bbS5wdXJlLG0udG90YWxdO3JldHVybiBkLmFwcGx5KG0pfSxnZXREYXRhOmZ1bmN0aW9uKGwpe3ZhciBtPXRoaXM7cmV0dXJue2NvdW50Om0uY291bnQsY2hpbGRDb3VudDptLmNoaWxkQ291bnQsZGVwdGg6bS5tYXhEZXB0aCxwdXJlOmcobS5jb3VudCxtLmNoaWxkQ291bnQsbCxtLnB1cmUpLHRvdGFsOmcobS5jb3VudCxtLmNoaWxkQ291bnQsbCxtLnRvdGFsKX19LGVudGVyOmZ1bmN0aW9uKCl7dmFyIGw9dGhpcyxtPXthY2N1bTpsLGxlYXZlOmUsY2hpbGRUaW1lOjAscGFyZW50OmN9OysrbC5kZXB0aDtpZihsLm1heERlcHRoPGwuZGVwdGgpe2wubWF4RGVwdGg9bC5kZXB0aH1jPW07bS50aW1lPWIoKTtyZXR1cm4gbX0sbW9uaXRvcjpmdW5jdGlvbihuLG0sbCl7dmFyIG89dGhpcy5lbnRlcigpO2lmKGwpe24uYXBwbHkobSxsKX1lbHNle24uY2FsbChtKX1vLmxlYXZlKCl9LHJlcG9ydDpmdW5jdGlvbigpe0V4dC5sb2codGhpcy5mb3JtYXQoKSl9LHRhcDpmdW5jdGlvbih0LHYpe3ZhciB1PXRoaXMsbz10eXBlb2Ygdj09InN0cmluZyI/W3ZdOnYscyx3LHEscCxuLG0sbCxyO3I9ZnVuY3Rpb24oKXtpZih0eXBlb2YgdD09InN0cmluZyIpe3M9RXh0Lmdsb2JhbDtwPXQuc3BsaXQoIi4iKTtmb3IocT0wLG49cC5sZW5ndGg7cTxuOysrcSl7cz1zW3BbcV1dfX1lbHNle3M9dH1mb3IocT0wLG49by5sZW5ndGg7cTxuOysrcSl7bT1vW3FdO3c9bS5jaGFyQXQoMCk9PSIhIjtpZih3KXttPW0uc3Vic3RyaW5nKDEpfWVsc2V7dz0hKG0gaW4gcy5wcm90b3R5cGUpfWw9dz9zOnMucHJvdG90eXBlO2xbbV09aih1LGxbbV0pfX07RXh0LkNsYXNzTWFuYWdlci5vbkNyZWF0ZWQocix1LHQpO3JldHVybiB1fX19KCkpLGZ1bmN0aW9uKCl7RXh0LnBlcmYuZ2V0VGltZXN0YW1wPXRoaXMuZ2V0VGltZXN0YW1wfSk7RXh0LmRlZmluZSgiRXh0LnBlcmYuTW9uaXRvciIse3NpbmdsZXRvbjp0cnVlLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LlBlcmYiLHJlcXVpcmVzOlsiRXh0LnBlcmYuQWNjdW11bGF0b3IiXSxjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3RoaXMuYWNjdW11bGF0b3JzPVtdO3RoaXMuYWNjdW11bGF0b3JzQnlOYW1lPXt9fSxjYWxpYnJhdGU6ZnVuY3Rpb24oKXt2YXIgYj1uZXcgRXh0LnBlcmYuQWNjdW11bGF0b3IoIiQiKSxnPWIudG90YWwsYz1FeHQucGVyZi5BY2N1bXVsYXRvci5nZXRUaW1lc3RhbXAsZT0wLGgsYSxkO2Q9YygpO2Rve2g9Yi5lbnRlcigpO2gubGVhdmUoKTsrK2V9d2hpbGUoZy5zdW08MTAwKTthPWMoKTtyZXR1cm4oYS1kKS9lfSxnZXQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxhPWMuYWNjdW11bGF0b3JzQnlOYW1lW2JdO2lmKCFhKXtjLmFjY3VtdWxhdG9yc0J5TmFtZVtiXT1hPW5ldyBFeHQucGVyZi5BY2N1bXVsYXRvcihiKTtjLmFjY3VtdWxhdG9ycy5wdXNoKGEpfXJldHVybiBhfSxlbnRlcjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXQoYSkuZW50ZXIoKX0sbW9uaXRvcjpmdW5jdGlvbihhLGMsYil7dGhpcy5nZXQoYSkubW9uaXRvcihjLGIpfSxyZXBvcnQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9Yy5hY2N1bXVsYXRvcnMsYT1jLmNhbGlicmF0ZSgpO2Iuc29ydChmdW5jdGlvbihlLGQpe3JldHVybihlLm5hbWU8ZC5uYW1lKT8tMTooKGQubmFtZTxlLm5hbWUpPzE6MCl9KTtjLnVwZGF0ZUdDKCk7RXh0LmxvZygiQ2FsaWJyYXRpb246ICIrTWF0aC5yb3VuZChhKjEwMCkvMTAwKyIgbXNlYy9zYW1wbGUiKTtFeHQuZWFjaChiLGZ1bmN0aW9uKGQpe0V4dC5sb2coZC5mb3JtYXQoYSkpfSl9LGdldERhdGE6ZnVuY3Rpb24oYyl7dmFyIGI9e30sYT10aGlzLmFjY3VtdWxhdG9ycztFeHQuZWFjaChhLGZ1bmN0aW9uKGQpe2lmKGN8fGQuY291bnQpe2JbZC5uYW1lXT1kLmdldERhdGEoKX19KTtyZXR1cm4gYn0sdXBkYXRlR0M6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmFjY3VtdWxhdG9yc0J5TmFtZS5HQyxiPUV4dC5zZW5jaGFUb29sYm94LGM7aWYoYSl7YS5jb3VudD1iLmdhcmJhZ2VDb2xsZWN0aW9uQ291bnRlcnx8MDtpZihhLmNvdW50KXtjPWEucHVyZTthLnRvdGFsLnN1bT1jLnN1bT1iLmdhcmJhZ2VDb2xsZWN0aW9uTWlsbGlzZWNvbmRzO2MubWluPWMubWF4PWMuc3VtL2EuY291bnQ7Yz1hLnRvdGFsO2MubWluPWMubWF4PWMuc3VtL2EuY291bnR9fX0sd2F0Y2hHQzpmdW5jdGlvbigpe0V4dC5wZXJmLmdldFRpbWVzdGFtcCgpO3ZhciBhPUV4dC5zZW5jaGFUb29sYm94O2lmKGEpe3RoaXMuZ2V0KCJHQyIpO2Eud2F0Y2hHYXJiYWdlQ29sbGVjdG9yKGZhbHNlKX19LHNldHVwOmZ1bmN0aW9uKGMpe2lmKCFjKXtjPXtyZW5kZXI6eyJFeHQuQWJzdHJhY3RDb21wb25lbnQiOiJyZW5kZXIifSxsYXlvdXQ6eyJFeHQubGF5b3V0LkNvbnRleHQiOiJydW4ifX19dGhpcy5jdXJyZW50Q29uZmlnPWM7dmFyIGQsZyxiLGUsYTtmb3IoZCBpbiBjKXtpZihjLmhhc093blByb3BlcnR5KGQpKXtnPWNbZF07Yj1FeHQuUGVyZi5nZXQoZCk7Zm9yKGUgaW4gZyl7aWYoZy5oYXNPd25Qcm9wZXJ0eShlKSl7YT1nW2VdO2IudGFwKGUsYSl9fX19dGhpcy53YXRjaEdDKCl9fSk7RXh0LmlzPXtpbml0OmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMucGxhdGZvcm1zLGU9Yy5sZW5ndGgsZCxhO2I9Ynx8d2luZG93Lm5hdmlnYXRvcjtmb3IoZD0wO2Q8ZTtkKyspe2E9Y1tkXTt0aGlzW2EuaWRlbnRpdHldPWEucmVnZXgudGVzdChiW2EucHJvcGVydHldKX10aGlzLkRlc2t0b3A9dGhpcy5NYWN8fHRoaXMuV2luZG93c3x8KHRoaXMuTGludXgmJiF0aGlzLkFuZHJvaWQpO3RoaXMuVGFibGV0PXRoaXMuaVBhZDt0aGlzLlBob25lPSF0aGlzLkRlc2t0b3AmJiF0aGlzLlRhYmxldDt0aGlzLmlPUz10aGlzLmlQaG9uZXx8dGhpcy5pUGFkfHx0aGlzLmlQb2Q7dGhpcy5TdGFuZGFsb25lPSEhd2luZG93Lm5hdmlnYXRvci5zdGFuZGFsb25lfSxwbGF0Zm9ybXM6W3twcm9wZXJ0eToicGxhdGZvcm0iLHJlZ2V4Oi9pUGhvbmUvaSxpZGVudGl0eToiaVBob25lIn0se3Byb3BlcnR5OiJwbGF0Zm9ybSIscmVnZXg6L2lQb2QvaSxpZGVudGl0eToiaVBvZCJ9LHtwcm9wZXJ0eToidXNlckFnZW50IixyZWdleDovaVBhZC9pLGlkZW50aXR5OiJpUGFkIn0se3Byb3BlcnR5OiJ1c2VyQWdlbnQiLHJlZ2V4Oi9CbGFja2JlcnJ5L2ksaWRlbnRpdHk6IkJsYWNrYmVycnkifSx7cHJvcGVydHk6InVzZXJBZ2VudCIscmVnZXg6L0FuZHJvaWQvaSxpZGVudGl0eToiQW5kcm9pZCJ9LHtwcm9wZXJ0eToicGxhdGZvcm0iLHJlZ2V4Oi9NYWMvaSxpZGVudGl0eToiTWFjIn0se3Byb3BlcnR5OiJwbGF0Zm9ybSIscmVnZXg6L1dpbi9pLGlkZW50aXR5OiJXaW5kb3dzIn0se3Byb3BlcnR5OiJwbGF0Zm9ybSIscmVnZXg6L0xpbnV4L2ksaWRlbnRpdHk6IkxpbnV4In1dfTtFeHQuaXMuaW5pdCgpOyhmdW5jdGlvbigpe3ZhciBhPWZ1bmN0aW9uKGQsYyl7dmFyIGI9ZC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LGU9KGI/Yi5nZXRDb21wdXRlZFN0eWxlKGQsbnVsbCk6ZC5jdXJyZW50U3R5bGUpfHxkLnN0eWxlO3JldHVybiBlW2NdfTtFeHQuc3VwcG9ydHM9e2luaXQ6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGU9ZG9jdW1lbnQsYz1kLnRlc3RzLGk9Yy5sZW5ndGgsaD1pJiZFeHQuaXNSZWFkeSYmZS5jcmVhdGVFbGVtZW50KCJkaXYiKSxnLGI9W107aWYoaCl7aC5pbm5lckhUTUw9Wyc8ZGl2IHN0eWxlPSJoZWlnaHQ6MzBweDt3aWR0aDo1MHB4OyI+JywnPGRpdiBzdHlsZT0iaGVpZ2h0OjIwcHg7d2lkdGg6MjBweDsiPjwvZGl2PicsIjwvZGl2PiIsJzxkaXYgc3R5bGU9IndpZHRoOiAyMDBweDsgaGVpZ2h0OiAyMDBweDsgcG9zaXRpb246IHJlbGF0aXZlOyBwYWRkaW5nOiA1cHg7Ij4nLCc8ZGl2IHN0eWxlPSJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsiPjwvZGl2PicsIjwvZGl2PiIsJzxkaXYgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMTAlOyB0b3A6IDEwJTsiPjwvZGl2PicsJzxkaXYgc3R5bGU9ImZsb2F0OmxlZnQ7IGJhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7Ij48L2Rpdj4nXS5qb2luKCIiKTtlLmJvZHkuYXBwZW5kQ2hpbGQoaCl9d2hpbGUoaS0tKXtnPWNbaV07aWYoaHx8Zy5lYXJseSl7ZFtnLmlkZW50aXR5XT1nLmZuLmNhbGwoZCxlLGgpfWVsc2V7Yi5wdXNoKGcpfX1pZihoKXtlLmJvZHkucmVtb3ZlQ2hpbGQoaCl9ZC50ZXN0cz1ifSxQb2ludGVyRXZlbnRzOiJwb2ludGVyRXZlbnRzIiBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUsQ1NTM0JveFNoYWRvdzoiYm94U2hhZG93IiBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGV8fCJXZWJraXRCb3hTaGFkb3ciIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZXx8Ik1vekJveFNoYWRvdyIgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLENsYXNzTGlzdDohIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QsT3JpZW50YXRpb25DaGFuZ2U6KCh0eXBlb2Ygd2luZG93Lm9yaWVudGF0aW9uIT0idW5kZWZpbmVkIikmJigib25vcmllbnRhdGlvbmNoYW5nZSIgaW4gd2luZG93KSksRGV2aWNlTW90aW9uOigib25kZXZpY2Vtb3Rpb24iIGluIHdpbmRvdyksVG91Y2g6KCJvbnRvdWNoc3RhcnQiIGluIHdpbmRvdykmJighRXh0LmlzLkRlc2t0b3ApLFRpbWVvdXRBY3R1YWxMYXRlbmVzczooZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7RXh0LnN1cHBvcnRzLlRpbWVvdXRBY3R1YWxMYXRlbmVzcz1hcmd1bWVudHMubGVuZ3RoIT09MH0sMCl9KCkpLHRlc3RzOlt7aWRlbnRpdHk6IlRyYW5zaXRpb25zIixmbjpmdW5jdGlvbihoLGspe3ZhciBnPVsid2Via2l0IiwiTW96IiwibyIsIm1zIiwia2h0bWwiXSxqPSJUcmFuc2l0aW9uRW5kIixiPVtnWzBdK2osInRyYW5zaXRpb25lbmQiLGdbMl0raixnWzNdK2osZ1s0XStqXSxlPWcubGVuZ3RoLGQ9MCxjPWZhbHNlO2Zvcig7ZDxlO2QrKyl7aWYoYShrLGdbZF0rIlRyYW5zaXRpb25Qcm9wZXJ0eSIpKXtFeHQuc3VwcG9ydHMuQ1NTM1ByZWZpeD1nW2RdO0V4dC5zdXBwb3J0cy5DU1MzVHJhbnNpdGlvbkVuZD1iW2RdO2M9dHJ1ZTticmVha319cmV0dXJuIGN9fSx7aWRlbnRpdHk6IlJpZ2h0TWFyZ2luIixmbjpmdW5jdGlvbihjLGQpe3ZhciBiPWMuZGVmYXVsdFZpZXc7cmV0dXJuICEoYiYmYi5nZXRDb21wdXRlZFN0eWxlKGQuZmlyc3RDaGlsZC5maXJzdENoaWxkLG51bGwpLm1hcmdpblJpZ2h0IT0iMHB4Iil9fSx7aWRlbnRpdHk6IkRpc3BsYXlDaGFuZ2VJbnB1dFNlbGVjdGlvbkJ1ZyIsZWFybHk6dHJ1ZSxmbjpmdW5jdGlvbigpe3ZhciBiPUV4dC53ZWJLaXRWZXJzaW9uO3JldHVybiAwPGImJmI8NTMzfX0se2lkZW50aXR5OiJEaXNwbGF5Q2hhbmdlVGV4dEFyZWFTZWxlY3Rpb25CdWciLGVhcmx5OnRydWUsZm46ZnVuY3Rpb24oKXt2YXIgYj1FeHQud2ViS2l0VmVyc2lvbjtyZXR1cm4gMDxiJiZiPDUzNC4yNH19LHtpZGVudGl0eToiVHJhbnNwYXJlbnRDb2xvciIsZm46ZnVuY3Rpb24oYyxkLGIpe2I9Yy5kZWZhdWx0VmlldztyZXR1cm4gIShiJiZiLmdldENvbXB1dGVkU3R5bGUoZC5sYXN0Q2hpbGQsbnVsbCkuYmFja2dyb3VuZENvbG9yIT0idHJhbnNwYXJlbnQiKX19LHtpZGVudGl0eToiQ29tcHV0ZWRTdHlsZSIsZm46ZnVuY3Rpb24oYyxkLGIpe2I9Yy5kZWZhdWx0VmlldztyZXR1cm4gYiYmYi5nZXRDb21wdXRlZFN0eWxlfX0se2lkZW50aXR5OiJTdmciLGZuOmZ1bmN0aW9uKGIpe3JldHVybiAhIWIuY3JlYXRlRWxlbWVudE5TJiYhIWIuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInN2ZyIpLmNyZWF0ZVNWR1JlY3R9fSx7aWRlbnRpdHk6IkNhbnZhcyIsZm46ZnVuY3Rpb24oYil7cmV0dXJuICEhYi5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0fX0se2lkZW50aXR5OiJWbWwiLGZuOmZ1bmN0aW9uKGIpe3ZhciBjPWIuY3JlYXRlRWxlbWVudCgiZGl2Iik7Yy5pbm5lckhUTUw9IjwhLS1baWYgdm1sXT48YnIvPjxici8+PCFbZW5kaWZdLS0+IjtyZXR1cm4oYy5jaGlsZE5vZGVzLmxlbmd0aD09Mil9fSx7aWRlbnRpdHk6IkZsb2F0IixmbjpmdW5jdGlvbihiLGMpe3JldHVybiAhIWMubGFzdENoaWxkLnN0eWxlLmNzc0Zsb2F0fX0se2lkZW50aXR5OiJBdWRpb1RhZyIsZm46ZnVuY3Rpb24oYil7cmV0dXJuICEhYi5jcmVhdGVFbGVtZW50KCJhdWRpbyIpLmNhblBsYXlUeXBlfX0se2lkZW50aXR5OiJIaXN0b3J5IixmbjpmdW5jdGlvbigpe3ZhciBiPXdpbmRvdy5oaXN0b3J5O3JldHVybiAhIShiJiZiLnB1c2hTdGF0ZSl9fSx7aWRlbnRpdHk6IkNTUzNEVHJhbnNmb3JtIixmbjpmdW5jdGlvbigpe3JldHVybih0eXBlb2YgV2ViS2l0Q1NTTWF0cml4IT0idW5kZWZpbmVkIiYmbmV3IFdlYktpdENTU01hdHJpeCgpLmhhc093blByb3BlcnR5KCJtNDEiKSl9fSx7aWRlbnRpdHk6IkNTUzNMaW5lYXJHcmFkaWVudCIsZm46ZnVuY3Rpb24oaCxqKXt2YXIgZz0iYmFja2dyb3VuZC1pbWFnZToiLGQ9Ii13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgcmlnaHQgYm90dG9tLCBmcm9tKGJsYWNrKSwgdG8od2hpdGUpKSIsaT0ibGluZWFyLWdyYWRpZW50KGxlZnQgdG9wLCBibGFjaywgd2hpdGUpIixlPSItbW96LSIraSxiPSItby0iK2ksYz1bZytkLGcraSxnK2UsZytiXTtqLnN0eWxlLmNzc1RleHQ9Yy5qb2luKCI7Iik7cmV0dXJuKCIiK2ouc3R5bGUuYmFja2dyb3VuZEltYWdlKS5pbmRleE9mKCJncmFkaWVudCIpIT09LTF9fSx7aWRlbnRpdHk6IkNTUzNCb3JkZXJSYWRpdXMiLGZuOmZ1bmN0aW9uKGUsZyl7dmFyIGM9WyJib3JkZXJSYWRpdXMiLCJCb3JkZXJSYWRpdXMiLCJNb3pCb3JkZXJSYWRpdXMiLCJXZWJraXRCb3JkZXJSYWRpdXMiLCJPQm9yZGVyUmFkaXVzIiwiS2h0bWxCb3JkZXJSYWRpdXMiXSxkPWZhbHNlLGI7Zm9yKGI9MDtiPGMubGVuZ3RoO2IrKyl7aWYoZG9jdW1lbnQuYm9keS5zdHlsZVtjW2JdXSE9PXVuZGVmaW5lZCl7cmV0dXJuIHRydWV9fXJldHVybiBkfX0se2lkZW50aXR5OiJHZW9Mb2NhdGlvbiIsZm46ZnVuY3Rpb24oKXtyZXR1cm4odHlwZW9mIG5hdmlnYXRvciE9InVuZGVmaW5lZCImJnR5cGVvZiBuYXZpZ2F0b3IuZ2VvbG9jYXRpb24hPSJ1bmRlZmluZWQiKXx8KHR5cGVvZiBnb29nbGUhPSJ1bmRlZmluZWQiJiZ0eXBlb2YgZ29vZ2xlLmdlYXJzIT0idW5kZWZpbmVkIil9fSx7aWRlbnRpdHk6Ik1vdXNlRW50ZXJMZWF2ZSIsZm46ZnVuY3Rpb24oYixjKXtyZXR1cm4oIm9ubW91c2VlbnRlciIgaW4gYyYmIm9ubW91c2VsZWF2ZSIgaW4gYyl9fSx7aWRlbnRpdHk6Ik1vdXNlV2hlZWwiLGZuOmZ1bmN0aW9uKGIsYyl7cmV0dXJuKCJvbm1vdXNld2hlZWwiIGluIGMpfX0se2lkZW50aXR5OiJPcGFjaXR5IixmbjpmdW5jdGlvbihiLGMpe2lmKEV4dC5pc0lFNnx8RXh0LmlzSUU3fHxFeHQuaXNJRTgpe3JldHVybiBmYWxzZX1jLmZpcnN0Q2hpbGQuc3R5bGUuY3NzVGV4dD0ib3BhY2l0eTowLjczIjtyZXR1cm4gYy5maXJzdENoaWxkLnN0eWxlLm9wYWNpdHk9PSIwLjczIn19LHtpZGVudGl0eToiUGxhY2Vob2xkZXIiLGZuOmZ1bmN0aW9uKGIpe3JldHVybiJwbGFjZWhvbGRlciIgaW4gYi5jcmVhdGVFbGVtZW50KCJpbnB1dCIpfX0se2lkZW50aXR5OiJEaXJlY3QyREJ1ZyIsZm46ZnVuY3Rpb24oKXtyZXR1cm4gRXh0LmlzU3RyaW5nKGRvY3VtZW50LmJvZHkuc3R5bGUubXNUcmFuc2Zvcm1PcmlnaW4pfX0se2lkZW50aXR5OiJCb3VuZGluZ0NsaWVudFJlY3QiLGZuOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIEV4dC5pc0Z1bmN0aW9uKGMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KX19LHtpZGVudGl0eToiSW5jbHVkZVBhZGRpbmdJbldpZHRoQ2FsY3VsYXRpb24iLGZuOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGMuY2hpbGROb2Rlc1sxXS5maXJzdENoaWxkLm9mZnNldFdpZHRoPT0yMTB9fSx7aWRlbnRpdHk6IkluY2x1ZGVQYWRkaW5nSW5IZWlnaHRDYWxjdWxhdGlvbiIsZm46ZnVuY3Rpb24oYixjKXtyZXR1cm4gYy5jaGlsZE5vZGVzWzFdLmZpcnN0Q2hpbGQub2Zmc2V0SGVpZ2h0PT0yMTB9fSx7aWRlbnRpdHk6IkFycmF5U29ydCIsZm46ZnVuY3Rpb24oKXt2YXIgYj1bMSwyLDMsNCw1XS5zb3J0KGZ1bmN0aW9uKCl7cmV0dXJuIDB9KTtyZXR1cm4gYlswXT09PTEmJmJbMV09PT0yJiZiWzJdPT09MyYmYlszXT09PTQmJmJbNF09PT01fX0se2lkZW50aXR5OiJSYW5nZSIsZm46ZnVuY3Rpb24oKXtyZXR1cm4gISFkb2N1bWVudC5jcmVhdGVSYW5nZX19LHtpZGVudGl0eToiQ3JlYXRlQ29udGV4dHVhbEZyYWdtZW50IixmbjpmdW5jdGlvbigpe3ZhciBiPUV4dC5zdXBwb3J0cy5SYW5nZT9kb2N1bWVudC5jcmVhdGVSYW5nZSgpOmZhbHNlO3JldHVybiBiJiYhIWIuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50fX0se2lkZW50aXR5OiJXaW5kb3dPbkVycm9yIixmbjpmdW5jdGlvbigpe3JldHVybiBFeHQuaXNJRXx8RXh0LmlzR2Vja298fEV4dC53ZWJLaXRWZXJzaW9uPj01MzQuMTZ9fSx7aWRlbnRpdHk6IlRleHRBcmVhTWF4TGVuZ3RoIixmbjpmdW5jdGlvbigpe3ZhciBiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRleHRhcmVhIik7cmV0dXJuKCJtYXhsZW5ndGgiIGluIGIpfX0se2lkZW50aXR5OiJHZXRQb3NpdGlvblBlcmNlbnRhZ2UiLGZuOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEoYy5jaGlsZE5vZGVzWzJdLCJsZWZ0Iik9PSIxMCUifX1dfX0oKSk7RXh0LnN1cHBvcnRzLmluaXQoKTtFeHQudXRpbC5EZWxheWVkVGFzaz1mdW5jdGlvbihkLGMsYSl7dmFyIGU9dGhpcyxnLGI9ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKGcpO2c9bnVsbDtkLmFwcGx5KGMsYXx8W10pfTt0aGlzLmRlbGF5PWZ1bmN0aW9uKGksayxqLGgpe2UuY2FuY2VsKCk7ZD1rfHxkO2M9anx8YzthPWh8fGE7Zz1zZXRJbnRlcnZhbChiLGkpfTt0aGlzLmNhbmNlbD1mdW5jdGlvbigpe2lmKGcpe2NsZWFySW50ZXJ2YWwoZyk7Zz1udWxsfX19O0V4dC5yZXF1aXJlKCJFeHQudXRpbC5EZWxheWVkVGFzayIsZnVuY3Rpb24oKXtFeHQudXRpbC5FdmVudD1FeHQuZXh0ZW5kKE9iamVjdCwoZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGcsaCxpLGUpe3JldHVybiBmdW5jdGlvbigpe2lmKGkudGFyZ2V0PT09YXJndW1lbnRzWzBdKXtnLmFwcGx5KGUsYXJndW1lbnRzKX19fWZ1bmN0aW9uIGIoZyxoLGksZSl7aC50YXNrPW5ldyBFeHQudXRpbC5EZWxheWVkVGFzaygpO3JldHVybiBmdW5jdGlvbigpe2gudGFzay5kZWxheShpLmJ1ZmZlcixnLGUsRXh0LkFycmF5LnRvQXJyYXkoYXJndW1lbnRzKSl9fWZ1bmN0aW9uIGEoZyxoLGksZSl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGo9bmV3IEV4dC51dGlsLkRlbGF5ZWRUYXNrKCk7aWYoIWgudGFza3Mpe2gudGFza3M9W119aC50YXNrcy5wdXNoKGopO2ouZGVsYXkoaS5kZWxheXx8MTAsZyxlLEV4dC5BcnJheS50b0FycmF5KGFyZ3VtZW50cykpfX1mdW5jdGlvbiBkKGcsaCxpLGUpe3JldHVybiBmdW5jdGlvbigpe3ZhciBqPWguZXY7aWYoai5yZW1vdmVMaXN0ZW5lcihoLmZuLGUpJiZqLm9ic2VydmFibGUpe2oub2JzZXJ2YWJsZS5oYXNMaXN0ZW5lcnNbai5uYW1lXS0tfXJldHVybiBnLmFwcGx5KGUsYXJndW1lbnRzKX19cmV0dXJue2lzRXZlbnQ6dHJ1ZSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihnLGUpe3RoaXMubmFtZT1lO3RoaXMub2JzZXJ2YWJsZT1nO3RoaXMubGlzdGVuZXJzPVtdfSxhZGRMaXN0ZW5lcjpmdW5jdGlvbihoLGcsZSl7dmFyIGk9dGhpcyxqO2c9Z3x8aS5vYnNlcnZhYmxlO2lmKCFpLmlzTGlzdGVuaW5nKGgsZykpe2o9aS5jcmVhdGVMaXN0ZW5lcihoLGcsZSk7aWYoaS5maXJpbmcpe2kubGlzdGVuZXJzPWkubGlzdGVuZXJzLnNsaWNlKDApfWkubGlzdGVuZXJzLnB1c2goail9fSxjcmVhdGVMaXN0ZW5lcjpmdW5jdGlvbihoLGcsail7aj1qfHx7fTtnPWd8fHRoaXMub2JzZXJ2YWJsZTt2YXIgaT17Zm46aCxzY29wZTpnLG86aixldjp0aGlzfSxlPWg7aWYoai5zaW5nbGUpe2U9ZChlLGksaixnKX1pZihqLnRhcmdldCl7ZT1jKGUsaSxqLGcpfWlmKGouZGVsYXkpe2U9YShlLGksaixnKX1pZihqLmJ1ZmZlcil7ZT1iKGUsaSxqLGcpfWkuZmlyZUZuPWU7cmV0dXJuIGl9LGZpbmRMaXN0ZW5lcjpmdW5jdGlvbihrLGope3ZhciBoPXRoaXMubGlzdGVuZXJzLGU9aC5sZW5ndGgsbCxnO3doaWxlKGUtLSl7bD1oW2VdO2lmKGwpe2c9bC5zY29wZTtpZihsLmZuPT1rJiYoZz09anx8Zz09dGhpcy5vYnNlcnZhYmxlKSl7cmV0dXJuIGV9fX1yZXR1cm4gLTF9LGlzTGlzdGVuaW5nOmZ1bmN0aW9uKGcsZSl7cmV0dXJuIHRoaXMuZmluZExpc3RlbmVyKGcsZSkhPT0tMX0scmVtb3ZlTGlzdGVuZXI6ZnVuY3Rpb24oaSxoKXt2YXIgaj10aGlzLGcsbCxlO2c9ai5maW5kTGlzdGVuZXIoaSxoKTtpZihnIT0tMSl7bD1qLmxpc3RlbmVyc1tnXTtpZihqLmZpcmluZyl7ai5saXN0ZW5lcnM9ai5saXN0ZW5lcnMuc2xpY2UoMCl9aWYobC50YXNrKXtsLnRhc2suY2FuY2VsKCk7ZGVsZXRlIGwudGFza31lPWwudGFza3MmJmwudGFza3MubGVuZ3RoO2lmKGUpe3doaWxlKGUtLSl7bC50YXNrc1tlXS5jYW5jZWwoKX1kZWxldGUgbC50YXNrc31FeHQuQXJyYXkuZXJhc2Uoai5saXN0ZW5lcnMsZywxKTtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9LGNsZWFyTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGc9dGhpcy5saXN0ZW5lcnMsZT1nLmxlbmd0aDt3aGlsZShlLS0pe3RoaXMucmVtb3ZlTGlzdGVuZXIoZ1tlXS5mbixnW2VdLnNjb3BlKX19LGZpcmU6ZnVuY3Rpb24oKXt2YXIgaz10aGlzLGg9ay5saXN0ZW5lcnMsaj1oLmxlbmd0aCxnLGUsbDtpZihqPjApe2suZmlyaW5nPXRydWU7Zm9yKGc9MDtnPGo7ZysrKXtsPWhbZ107ZT1hcmd1bWVudHMubGVuZ3RoP0FycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKTpbXTtpZihsLm8pe2UucHVzaChsLm8pfWlmKGwmJmwuZmlyZUZuLmFwcGx5KGwuc2NvcGV8fGsub2JzZXJ2YWJsZSxlKT09PWZhbHNlKXtyZXR1cm4oay5maXJpbmc9ZmFsc2UpfX19ay5maXJpbmc9ZmFsc2U7cmV0dXJuIHRydWV9fX0oKSkpfSk7RXh0LkV2ZW50TWFuYWdlcj1uZXcgZnVuY3Rpb24oKXt2YXIgYT10aGlzLGQ9ZG9jdW1lbnQsYz13aW5kb3csYj1mdW5jdGlvbigpe3ZhciBqPWQuYm9keXx8ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYm9keSIpWzBdLGk9RXh0LmJhc2VDU1NQcmVmaXgsZz1baSsiYm9keSJdLGU9W10saDtpZighail7cmV0dXJuIGZhbHNlfWg9ai5wYXJlbnROb2RlO2Z1bmN0aW9uIGsobCl7Zy5wdXNoKGkrbCl9aWYoRXh0LmlzSUUpe2soImllIik7aWYoRXh0LmlzSUU2KXtrKCJpZTYiKX1lbHNle2soImllN3AiKTtpZihFeHQuaXNJRTcpe2soImllNyIpfWVsc2V7aygiaWU4cCIpO2lmKEV4dC5pc0lFOCl7aygiaWU4Iil9ZWxzZXtrKCJpZTlwIik7aWYoRXh0LmlzSUU5KXtrKCJpZTkiKX19fX1pZihFeHQuaXNJRTZ8fEV4dC5pc0lFNyl7aygiaWU3bSIpfWlmKEV4dC5pc0lFNnx8RXh0LmlzSUU3fHxFeHQuaXNJRTgpe2soImllOG0iKX1pZihFeHQuaXNJRTd8fEV4dC5pc0lFOCl7aygiaWU3OCIpfX1pZihFeHQuaXNHZWNrbyl7aygiZ2Vja28iKTtpZihFeHQuaXNHZWNrbzMpe2soImdlY2tvMyIpfWlmKEV4dC5pc0dlY2tvNCl7aygiZ2Vja280Iil9aWYoRXh0LmlzR2Vja281KXtrKCJnZWNrbzUiKX19aWYoRXh0LmlzT3BlcmEpe2soIm9wZXJhIil9aWYoRXh0LmlzV2ViS2l0KXtrKCJ3ZWJraXQiKX1pZihFeHQuaXNTYWZhcmkpe2soInNhZmFyaSIpO2lmKEV4dC5pc1NhZmFyaTIpe2soInNhZmFyaTIiKX1pZihFeHQuaXNTYWZhcmkzKXtrKCJzYWZhcmkzIil9aWYoRXh0LmlzU2FmYXJpNCl7aygic2FmYXJpNCIpfWlmKEV4dC5pc1NhZmFyaTUpe2soInNhZmFyaTUiKX1pZihFeHQuaXNTYWZhcmk1XzApe2soInNhZmFyaTVfMCIpfX1pZihFeHQuaXNDaHJvbWUpe2soImNocm9tZSIpfWlmKEV4dC5pc01hYyl7aygibWFjIil9aWYoRXh0LmlzTGludXgpe2soImxpbnV4Iil9aWYoIUV4dC5zdXBwb3J0cy5DU1MzQm9yZGVyUmFkaXVzKXtrKCJuYnIiKX1pZighRXh0LnN1cHBvcnRzLkNTUzNMaW5lYXJHcmFkaWVudCl7aygibmxnIil9aWYoIUV4dC5zY29wZVJlc2V0Q1NTKXtrKCJyZXNldCIpfWlmKGgpe2lmKEV4dC5pc1N0cmljdCYmKEV4dC5pc0lFNnx8RXh0LmlzSUU3KSl7RXh0LmlzQm9yZGVyQm94PWZhbHNlfWVsc2V7RXh0LmlzQm9yZGVyQm94PXRydWV9aWYoRXh0LmlzQm9yZGVyQm94KXtlLnB1c2goaSsiYm9yZGVyLWJveCIpfWlmKEV4dC5pc1N0cmljdCl7ZS5wdXNoKGkrInN0cmljdCIpfWVsc2V7ZS5wdXNoKGkrInF1aXJrcyIpfUV4dC5mbHkoaCwiX2ludGVybmFsIikuYWRkQ2xzKGUpfUV4dC5mbHkoaiwiX2ludGVybmFsIikuYWRkQ2xzKGcpO3JldHVybiB0cnVlfTtFeHQuYXBwbHkoYSx7aGFzQm91bmRPblJlYWR5OmZhbHNlLGhhc0ZpcmVkUmVhZHk6ZmFsc2UsZGVmZXJSZWFkeUV2ZW50OjEsb25SZWFkeUNoYWluOltdLHJlYWR5RXZlbnQ6KGZ1bmN0aW9uKCl7dmFyIGU9bmV3IEV4dC51dGlsLkV2ZW50KCk7ZS5maXJlPWZ1bmN0aW9uKCl7RXh0Ll9iZWZvcmVSZWFkeVRpbWU9RXh0Ll9iZWZvcmVSZWFkeVRpbWV8fG5ldyBEYXRlKCkuZ2V0VGltZSgpO2Uuc2VsZi5wcm90b3R5cGUuZmlyZS5hcHBseShlLGFyZ3VtZW50cyk7RXh0Ll9hZnRlclJlYWR5dGltZT1uZXcgRGF0ZSgpLmdldFRpbWUoKX07cmV0dXJuIGV9KCkpLGlkbGVFdmVudDpuZXcgRXh0LnV0aWwuRXZlbnQoKSxpc1JlYWR5UGF1c2VkOmZ1bmN0aW9uKCl7cmV0dXJuKC9bPyZdZXh0LXBhdXNlUmVhZHlGaXJlXGIvaS50ZXN0KGxvY2F0aW9uLnNlYXJjaCkmJiFFeHQuX2NvbnRpbnVlRmlyZVJlYWR5KX0sYmluZFJlYWR5RXZlbnQ6ZnVuY3Rpb24oKXtpZihhLmhhc0JvdW5kT25SZWFkeSl7cmV0dXJufWlmKGQucmVhZHlTdGF0ZT09ImNvbXBsZXRlIil7YS5vblJlYWR5RXZlbnQoe3R5cGU6ZC5yZWFkeVN0YXRlfHwiYm9keSJ9KX1lbHNle2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGEub25SZWFkeUV2ZW50LGZhbHNlKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsYS5vblJlYWR5RXZlbnQsZmFsc2UpO2EuaGFzQm91bmRPblJlYWR5PXRydWV9fSxvblJlYWR5RXZlbnQ6ZnVuY3Rpb24oZyl7aWYoZyYmZy50eXBlKXthLm9uUmVhZHlDaGFpbi5wdXNoKGcudHlwZSl9aWYoYS5oYXNCb3VuZE9uUmVhZHkpe2RvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoIkRPTUNvbnRlbnRMb2FkZWQiLGEub25SZWFkeUV2ZW50LGZhbHNlKTt3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigibG9hZCIsYS5vblJlYWR5RXZlbnQsZmFsc2UpfWlmKCFFeHQuaXNSZWFkeSl7YS5maXJlRG9jUmVhZHkoKX19LGZpcmVEb2NSZWFkeTpmdW5jdGlvbigpe2lmKCFFeHQuaXNSZWFkeSl7RXh0Ll9yZWFkeVRpbWU9bmV3IERhdGUoKS5nZXRUaW1lKCk7RXh0LmlzUmVhZHk9dHJ1ZTtFeHQuc3VwcG9ydHMuaW5pdCgpO2Eub25XaW5kb3dVbmxvYWQoKTthLnJlYWR5RXZlbnQub25SZWFkeUNoYWluPWEub25SZWFkeUNoYWluO2lmKEV4dC5pc051bWJlcihhLmRlZmVyUmVhZHlFdmVudCkpe0V4dC5GdW5jdGlvbi5kZWZlcihhLmZpcmVSZWFkeUV2ZW50LGEuZGVmZXJSZWFkeUV2ZW50KTthLmhhc0RvY1JlYWR5VGltZXI9dHJ1ZX1lbHNle2EuZmlyZVJlYWR5RXZlbnQoKX19fSxmaXJlUmVhZHlFdmVudDpmdW5jdGlvbigpe3ZhciBlPWEucmVhZHlFdmVudDthLmhhc0RvY1JlYWR5VGltZXI9ZmFsc2U7YS5pc0ZpcmluZz10cnVlO3doaWxlKGUubGlzdGVuZXJzLmxlbmd0aCYmIWEuaXNSZWFkeVBhdXNlZCgpKXtlLmZpcmUoKX1hLmlzRmlyaW5nPWZhbHNlO2EuaGFzRmlyZWRSZWFkeT10cnVlfSxvbkRvY3VtZW50UmVhZHk6ZnVuY3Rpb24oaCxnLGUpe2U9ZXx8e307ZS5zaW5nbGU9dHJ1ZTthLnJlYWR5RXZlbnQuYWRkTGlzdGVuZXIoaCxnLGUpO2lmKCEoYS5pc0ZpcmluZ3x8YS5oYXNEb2NSZWFkeVRpbWVyKSl7aWYoRXh0LmlzUmVhZHkpe2EuZmlyZVJlYWR5RXZlbnQoKX1lbHNle2EuYmluZFJlYWR5RXZlbnQoKX19fSxzdG9wcGVkTW91c2VEb3duRXZlbnQ6bmV3IEV4dC51dGlsLkV2ZW50KCkscHJvcFJlOi9eKD86c2NvcGV8ZGVsYXl8YnVmZmVyfHNpbmdsZXxzdG9wRXZlbnR8cHJldmVudERlZmF1bHR8c3RvcFByb3BhZ2F0aW9ufG5vcm1hbGl6ZWR8YXJnc3xkZWxlZ2F0ZXxmcmVlemVFdmVudCkkLyxnZXRJZDpmdW5jdGlvbihlKXt2YXIgZztlPUV4dC5nZXREb20oZSk7aWYoZT09PWR8fGU9PT1jKXtnPWU9PT1kP0V4dC5kb2N1bWVudElkOkV4dC53aW5kb3dJZH1lbHNle2c9RXh0LmlkKGUpfWlmKCFFeHQuY2FjaGVbZ10pe0V4dC5hZGRDYWNoZUVudHJ5KGcsbnVsbCxlKX1yZXR1cm4gZ30scHJlcGFyZUxpc3RlbmVyQ29uZmlnOmZ1bmN0aW9uKGksZyxrKXt2YXIgbD1hLnByb3BSZSxoLGosZTtmb3IoaCBpbiBnKXtpZihnLmhhc093blByb3BlcnR5KGgpKXtpZighbC50ZXN0KGgpKXtqPWdbaF07aWYodHlwZW9mIGo9PSJmdW5jdGlvbiIpe2U9W2ksaCxqLGcuc2NvcGUsZ119ZWxzZXtlPVtpLGgsai5mbixqLnNjb3BlLGpdfWlmKGspe2EucmVtb3ZlTGlzdGVuZXIuYXBwbHkoYSxlKX1lbHNle2EuYWRkTGlzdGVuZXIuYXBwbHkoYSxlKX19fX19LG1vdXNlRW50ZXJMZWF2ZVJlOi9tb3VzZWVudGVyfG1vdXNlbGVhdmUvLG5vcm1hbGl6ZUV2ZW50OmZ1bmN0aW9uKGUsZyl7aWYoYS5tb3VzZUVudGVyTGVhdmVSZS50ZXN0KGUpJiYhRXh0LnN1cHBvcnRzLk1vdXNlRW50ZXJMZWF2ZSl7aWYoZyl7Zz1FeHQuRnVuY3Rpb24uY3JlYXRlSW50ZXJjZXB0b3IoZyxhLmNvbnRhaW5zKX1lPWU9PSJtb3VzZWVudGVyIj8ibW91c2VvdmVyIjoibW91c2VvdXQifWVsc2V7aWYoZT09Im1vdXNld2hlZWwiJiYhRXh0LnN1cHBvcnRzLk1vdXNlV2hlZWwmJiFFeHQuaXNPcGVyYSl7ZT0iRE9NTW91c2VTY3JvbGwifX1yZXR1cm57ZXZlbnROYW1lOmUsZm46Z319LGNvbnRhaW5zOmZ1bmN0aW9uKGcpe3ZhciBlPWcuYnJvd3NlckV2ZW50LmN1cnJlbnRUYXJnZXQsaD1hLmdldFJlbGF0ZWRUYXJnZXQoZyk7aWYoZSYmZS5maXJzdENoaWxkKXt3aGlsZShoKXtpZihoPT09ZSl7cmV0dXJuIGZhbHNlfWg9aC5wYXJlbnROb2RlO2lmKGgmJihoLm5vZGVUeXBlIT0xKSl7aD1udWxsfX19cmV0dXJuIHRydWV9LGFkZExpc3RlbmVyOmZ1bmN0aW9uKGgsZSxrLGosZyl7aWYodHlwZW9mIGUhPT0ic3RyaW5nIil7YS5wcmVwYXJlTGlzdGVuZXJDb25maWcoaCxlKTtyZXR1cm59dmFyIGw9aC5kb218fEV4dC5nZXREb20oaCksbSxpO2c9Z3x8e307bT1hLm5vcm1hbGl6ZUV2ZW50KGUsayk7aT1hLmNyZWF0ZUxpc3RlbmVyV3JhcChsLGUsbS5mbixqLGcpO2lmKGwuYXR0YWNoRXZlbnQpe2wuYXR0YWNoRXZlbnQoIm9uIittLmV2ZW50TmFtZSxpKX1lbHNle2wuYWRkRXZlbnRMaXN0ZW5lcihtLmV2ZW50TmFtZSxpLGcuY2FwdHVyZXx8ZmFsc2UpfWlmKGw9PWQmJmU9PSJtb3VzZWRvd24iKXthLnN0b3BwZWRNb3VzZURvd25FdmVudC5hZGRMaXN0ZW5lcihpKX1hLmdldEV2ZW50TGlzdGVuZXJDYWNoZShoLmRvbT9oOmwsZSkucHVzaCh7Zm46ayx3cmFwOmksc2NvcGU6an0pfSxyZW1vdmVMaXN0ZW5lcjpmdW5jdGlvbihwLHEscix0KXtpZih0eXBlb2YgcSE9PSJzdHJpbmciKXthLnByZXBhcmVMaXN0ZW5lckNvbmZpZyhwLHEsdHJ1ZSk7cmV0dXJufXZhciBuPUV4dC5nZXREb20ocCksaD1wLmRvbT9wOkV4dC5nZXQobiksZT1hLmdldEV2ZW50TGlzdGVuZXJDYWNoZShoLHEpLHM9YS5ub3JtYWxpemVFdmVudChxKS5ldmVudE5hbWUsbz1lLmxlbmd0aCxtLGssZyxsO3doaWxlKG8tLSl7az1lW29dO2lmKGsmJighcnx8ay5mbj09cikmJighdHx8ay5zY29wZT09PXQpKXtnPWsud3JhcDtpZihnLnRhc2spe2NsZWFyVGltZW91dChnLnRhc2spO2RlbGV0ZSBnLnRhc2t9bT1nLnRhc2tzJiZnLnRhc2tzLmxlbmd0aDtpZihtKXt3aGlsZShtLS0pe2NsZWFyVGltZW91dChnLnRhc2tzW21dKX1kZWxldGUgZy50YXNrc31pZihuLmRldGFjaEV2ZW50KXtuLmRldGFjaEV2ZW50KCJvbiIrcyxnKX1lbHNle24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihzLGcsZmFsc2UpfWlmKGcmJm49PWQmJnE9PSJtb3VzZWRvd24iKXthLnN0b3BwZWRNb3VzZURvd25FdmVudC5yZW1vdmVMaXN0ZW5lcihnKX1FeHQuQXJyYXkuZXJhc2UoZSxvLDEpfX19LHJlbW92ZUFsbDpmdW5jdGlvbihpKXt2YXIgaj1pLmRvbT9pOkV4dC5nZXQoaSksZyxoLGU7aWYoIWope3JldHVybn1nPShqLiRjYWNoZXx8ai5nZXRDYWNoZSgpKTtoPWcuZXZlbnRzO2ZvcihlIGluIGgpe2lmKGguaGFzT3duUHJvcGVydHkoZSkpe2EucmVtb3ZlTGlzdGVuZXIoaixlKX19Zy5ldmVudHM9e319LHB1cmdlRWxlbWVudDpmdW5jdGlvbihqLGcpe3ZhciBrPUV4dC5nZXREb20oaiksaD0wLGU7aWYoZyl7YS5yZW1vdmVMaXN0ZW5lcihqLGcpfWVsc2V7YS5yZW1vdmVBbGwoail9aWYoayYmay5jaGlsZE5vZGVzKXtmb3IoZT1qLmNoaWxkTm9kZXMubGVuZ3RoO2g8ZTtoKyspe2EucHVyZ2VFbGVtZW50KGouY2hpbGROb2Rlc1toXSxnKX19fSxjcmVhdGVMaXN0ZW5lcldyYXA6ZnVuY3Rpb24oaSxoLGwsbSxuKXtuPW58fHt9O3ZhciBrLGosZT0vXFwvZyxnPWZ1bmN0aW9uKHAsbyl7aWYoIWope2s9WyJpZighIitFeHQubmFtZSsiKSB7cmV0dXJuO30iXTtpZihuLmJ1ZmZlcnx8bi5kZWxheXx8bi5mcmVlemVFdmVudCl7ay5wdXNoKCJlID0gbmV3IFguRXZlbnRPYmplY3RJbXBsKGUsICIrKG4uZnJlZXplRXZlbnQ/InRydWUiOiJmYWxzZSIpKyIpOyIpfWVsc2V7ay5wdXNoKCJlID0gWC5FdmVudE9iamVjdC5zZXRFdmVudChlKTsiKX1pZihuLmRlbGVnYXRlKXtrLnB1c2goJ3ZhciB0ID0gZS5nZXRUYXJnZXQoIicrKG4uZGVsZWdhdGUrIiIpLnJlcGxhY2UoZSwiXFxcXCIpKyciLCB0aGlzKTsnKTtrLnB1c2goImlmKCF0KSB7cmV0dXJuO30iKX1lbHNle2sucHVzaCgidmFyIHQgPSBlLnRhcmdldDsiKX1pZihuLnRhcmdldCl7ay5wdXNoKCJpZihlLnRhcmdldCAhPT0gb3B0aW9ucy50YXJnZXQpIHtyZXR1cm47fSIpfWlmKG4uc3RvcEV2ZW50KXtrLnB1c2goImUuc3RvcEV2ZW50KCk7Iil9ZWxzZXtpZihuLnByZXZlbnREZWZhdWx0KXtrLnB1c2goImUucHJldmVudERlZmF1bHQoKTsiKX1pZihuLnN0b3BQcm9wYWdhdGlvbil7ay5wdXNoKCJlLnN0b3BQcm9wYWdhdGlvbigpOyIpfX1pZihuLm5vcm1hbGl6ZWQ9PT1mYWxzZSl7ay5wdXNoKCJlID0gZS5icm93c2VyRXZlbnQ7Iil9aWYobi5idWZmZXIpe2sucHVzaCgiKHdyYXAudGFzayAmJiBjbGVhclRpbWVvdXQod3JhcC50YXNrKSk7Iik7ay5wdXNoKCJ3cmFwLnRhc2sgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyIpfWlmKG4uZGVsYXkpe2sucHVzaCgid3JhcC50YXNrcyA9IHdyYXAudGFza3MgfHwgW107Iik7ay5wdXNoKCJ3cmFwLnRhc2tzLnB1c2goc2V0VGltZW91dChmdW5jdGlvbigpIHsiKX1rLnB1c2goImZuLmNhbGwoc2NvcGUgfHwgZG9tLCBlLCB0LCBvcHRpb25zKTsiKTtpZihuLnNpbmdsZSl7ay5wdXNoKCJldnRNZ3IucmVtb3ZlTGlzdGVuZXIoZG9tLCBlbmFtZSwgZm4sIHNjb3BlKTsiKX1pZihoIT09Im1vdXNlbW92ZSIpe2sucHVzaCgiaWYgKGV2dE1nci5pZGxlRXZlbnQubGlzdGVuZXJzLmxlbmd0aCkgeyIpO2sucHVzaCgiZXZ0TWdyLmlkbGVFdmVudC5maXJlKCk7Iik7ay5wdXNoKCJ9Iil9aWYobi5kZWxheSl7ay5wdXNoKCJ9LCAiK24uZGVsYXkrIikpOyIpfWlmKG4uYnVmZmVyKXtrLnB1c2goIn0sICIrbi5idWZmZXIrIik7Iil9aj1FeHQuY2FjaGVhYmxlRnVuY3Rpb25GYWN0b3J5KCJlIiwib3B0aW9ucyIsImZuIiwic2NvcGUiLCJlbmFtZSIsImRvbSIsIndyYXAiLCJhcmdzIiwiWCIsImV2dE1nciIsay5qb2luKCJcbiIpKX1qLmNhbGwoaSxwLG4sbCxtLGgsaSxnLG8sRXh0LGEpfTtyZXR1cm4gZ30sZ2V0RXZlbnRMaXN0ZW5lckNhY2hlOmZ1bmN0aW9uKGksZSl7dmFyIGgsZztpZighaSl7cmV0dXJuW119aWYoaS4kY2FjaGUpe2g9aS4kY2FjaGV9ZWxzZXtoPUV4dC5jYWNoZVthLmdldElkKGkpXX1nPWguZXZlbnRzfHwoaC5ldmVudHM9e30pO3JldHVybiBnW2VdfHwoZ1tlXT1bXSl9LG1vdXNlTGVhdmVSZTovKG1vdXNlb3V0fG1vdXNlbGVhdmUpLyxtb3VzZUVudGVyUmU6Lyhtb3VzZW92ZXJ8bW91c2VlbnRlcikvLHN0b3BFdmVudDpmdW5jdGlvbihlKXthLnN0b3BQcm9wYWdhdGlvbihlKTthLnByZXZlbnREZWZhdWx0KGUpfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oZSl7ZT1lLmJyb3dzZXJFdmVudHx8ZTtpZihlLnN0b3BQcm9wYWdhdGlvbil7ZS5zdG9wUHJvcGFnYXRpb24oKX1lbHNle2UuY2FuY2VsQnViYmxlPXRydWV9fSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbihnKXtnPWcuYnJvd3NlckV2ZW50fHxnO2lmKGcucHJldmVudERlZmF1bHQpe2cucHJldmVudERlZmF1bHQoKX1lbHNle2cucmV0dXJuVmFsdWU9ZmFsc2U7dHJ5e2lmKGcuY3RybEtleXx8Zy5rZXlDb2RlPjExMSYmZy5rZXlDb2RlPDEyNCl7Zy5rZXlDb2RlPS0xfX1jYXRjaChoKXt9fX0sZ2V0UmVsYXRlZFRhcmdldDpmdW5jdGlvbihlKXtlPWUuYnJvd3NlckV2ZW50fHxlO3ZhciBnPWUucmVsYXRlZFRhcmdldDtpZighZyl7aWYoYS5tb3VzZUxlYXZlUmUudGVzdChlLnR5cGUpKXtnPWUudG9FbGVtZW50fWVsc2V7aWYoYS5tb3VzZUVudGVyUmUudGVzdChlLnR5cGUpKXtnPWUuZnJvbUVsZW1lbnR9fX1yZXR1cm4gYS5yZXNvbHZlVGV4dE5vZGUoZyl9LGdldFBhZ2VYOmZ1bmN0aW9uKGUpe3JldHVybiBhLmdldFBhZ2VYWShlKVswXX0sZ2V0UGFnZVk6ZnVuY3Rpb24oZSl7cmV0dXJuIGEuZ2V0UGFnZVhZKGUpWzFdfSxnZXRQYWdlWFk6ZnVuY3Rpb24oaCl7aD1oLmJyb3dzZXJFdmVudHx8aDt2YXIgZz1oLnBhZ2VYLGo9aC5wYWdlWSxpPWQuZG9jdW1lbnRFbGVtZW50LGU9ZC5ib2R5O2lmKCFnJiZnIT09MCl7Zz1oLmNsaWVudFgrKGkmJmkuc2Nyb2xsTGVmdHx8ZSYmZS5zY3JvbGxMZWZ0fHwwKS0oaSYmaS5jbGllbnRMZWZ0fHxlJiZlLmNsaWVudExlZnR8fDApO2o9aC5jbGllbnRZKyhpJiZpLnNjcm9sbFRvcHx8ZSYmZS5zY3JvbGxUb3B8fDApLShpJiZpLmNsaWVudFRvcHx8ZSYmZS5jbGllbnRUb3B8fDApfXJldHVybltnLGpdfSxnZXRUYXJnZXQ6ZnVuY3Rpb24oZSl7ZT1lLmJyb3dzZXJFdmVudHx8ZTtyZXR1cm4gYS5yZXNvbHZlVGV4dE5vZGUoZS50YXJnZXR8fGUuc3JjRWxlbWVudCl9LHJlc29sdmVUZXh0Tm9kZTpFeHQuaXNHZWNrbz9mdW5jdGlvbihnKXtpZighZyl7cmV0dXJufXZhciBlPUhUTUxFbGVtZW50LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGcpO2lmKGU9PSJbeHBjb25uZWN0IHdyYXBwZWQgbmF0aXZlIHByb3RvdHlwZV0ifHxlPT0iW29iamVjdCBYVUxFbGVtZW50XSIpe3JldHVybn1yZXR1cm4gZy5ub2RlVHlwZT09Mz9nLnBhcmVudE5vZGU6Z306ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUubm9kZVR5cGU9PTM/ZS5wYXJlbnROb2RlOmV9LGN1cldpZHRoOjAsY3VySGVpZ2h0OjAsb25XaW5kb3dSZXNpemU6ZnVuY3Rpb24oaSxoLGcpe3ZhciBlPWEucmVzaXplRXZlbnQ7aWYoIWUpe2EucmVzaXplRXZlbnQ9ZT1uZXcgRXh0LnV0aWwuRXZlbnQoKTthLm9uKGMsInJlc2l6ZSIsYS5maXJlUmVzaXplLG51bGwse2J1ZmZlcjoxMDB9KX1lLmFkZExpc3RlbmVyKGksaCxnKX0sZmlyZVJlc2l6ZTpmdW5jdGlvbigpe3ZhciBlPUV4dC5FbGVtZW50LmdldFZpZXdXaWR0aCgpLGc9RXh0LkVsZW1lbnQuZ2V0Vmlld0hlaWdodCgpO2lmKGEuY3VySGVpZ2h0IT1nfHxhLmN1cldpZHRoIT1lKXthLmN1ckhlaWdodD1nO2EuY3VyV2lkdGg9ZTthLnJlc2l6ZUV2ZW50LmZpcmUoZSxnKX19LHJlbW92ZVJlc2l6ZUxpc3RlbmVyOmZ1bmN0aW9uKGgsZyl7dmFyIGU9YS5yZXNpemVFdmVudDtpZihlKXtlLnJlbW92ZUxpc3RlbmVyKGgsZyl9fSxvbldpbmRvd1VubG9hZDpmdW5jdGlvbihpLGgsZyl7dmFyIGU9YS51bmxvYWRFdmVudDtpZighZSl7YS51bmxvYWRFdmVudD1lPW5ldyBFeHQudXRpbC5FdmVudCgpO2EuYWRkTGlzdGVuZXIoYywidW5sb2FkIixhLmZpcmVVbmxvYWQpfWlmKGkpe2UuYWRkTGlzdGVuZXIoaSxoLGcpfX0sZmlyZVVubG9hZDpmdW5jdGlvbigpe3RyeXtkPWM9dW5kZWZpbmVkO3ZhciBtLGgsayxqLGc7YS51bmxvYWRFdmVudC5maXJlKCk7aWYoRXh0LmlzR2Vja28zKXttPUV4dC5Db21wb25lbnRRdWVyeS5xdWVyeSgiZ3JpZHZpZXciKTtoPTA7az1tLmxlbmd0aDtmb3IoO2g8aztoKyspe21baF0uc2Nyb2xsVG9Ub3AoKX19Zz1FeHQuY2FjaGU7Zm9yKGogaW4gZyl7aWYoZy5oYXNPd25Qcm9wZXJ0eShqKSl7YS5yZW1vdmVBbGwoail9fX1jYXRjaChsKXt9fSxyZW1vdmVVbmxvYWRMaXN0ZW5lcjpmdW5jdGlvbihoLGcpe3ZhciBlPWEudW5sb2FkRXZlbnQ7aWYoZSl7ZS5yZW1vdmVMaXN0ZW5lcihoLGcpfX0sdXNlS2V5RG93bjpFeHQuaXNXZWJLaXQ/cGFyc2VJbnQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQXBwbGVXZWJLaXRcLyhcZCspLylbMV0sMTApPj01MjU6ISgoRXh0LmlzR2Vja28mJiFFeHQuaXNXaW5kb3dzKXx8RXh0LmlzT3BlcmEpLGdldEtleUV2ZW50OmZ1bmN0aW9uKCl7cmV0dXJuIGEudXNlS2V5RG93bj8ia2V5ZG93biI6ImtleXByZXNzIn19KTtpZighKCJhZGRFdmVudExpc3RlbmVyIiBpbiBkb2N1bWVudCkmJmRvY3VtZW50LmF0dGFjaEV2ZW50KXtFeHQuYXBwbHkoYSx7cG9sbFNjcm9sbDpmdW5jdGlvbigpe3ZhciBnPXRydWU7dHJ5e2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCgibGVmdCIpfWNhdGNoKGgpe2c9ZmFsc2V9aWYoZyl7YS5vblJlYWR5RXZlbnQoe3R5cGU6ImRvU2Nyb2xsIn0pfWVsc2V7YS5zY3JvbGxUaW1lb3V0PXNldFRpbWVvdXQoYS5wb2xsU2Nyb2xsLDIwKX1yZXR1cm4gZ30sc2Nyb2xsVGltZW91dDpudWxsLHJlYWR5U3RhdGVzUmU6L2NvbXBsZXRlL2ksY2hlY2tSZWFkeVN0YXRlOmZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQucmVhZHlTdGF0ZTtpZihhLnJlYWR5U3RhdGVzUmUudGVzdChlKSl7YS5vblJlYWR5RXZlbnQoe3R5cGU6ZX0pfX0sYmluZFJlYWR5RXZlbnQ6ZnVuY3Rpb24oKXt2YXIgZz10cnVlO2lmKGEuaGFzQm91bmRPblJlYWR5KXtyZXR1cm59dHJ5e2c9IXdpbmRvdy5mcmFtZUVsZW1lbnR9Y2F0Y2goaCl7fWlmKCFnfHwhZC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwpe2EucG9sbFNjcm9sbD1FeHQuZW1wdHlGbn1pZihhLnBvbGxTY3JvbGwoKT09PXRydWUpe3JldHVybn1pZihkLnJlYWR5U3RhdGU9PSJjb21wbGV0ZSIpe2Eub25SZWFkeUV2ZW50KHt0eXBlOiJhbHJlYWR5ICIrKGQucmVhZHlTdGF0ZXx8ImJvZHkiKX0pfWVsc2V7ZC5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixhLmNoZWNrUmVhZHlTdGF0ZSk7d2luZG93LmF0dGFjaEV2ZW50KCJvbmxvYWQiLGEub25SZWFkeUV2ZW50KTthLmhhc0JvdW5kT25SZWFkeT10cnVlfX0sb25SZWFkeUV2ZW50OmZ1bmN0aW9uKGcpe2lmKGcmJmcudHlwZSl7YS5vblJlYWR5Q2hhaW4ucHVzaChnLnR5cGUpfWlmKGEuaGFzQm91bmRPblJlYWR5KXtkb2N1bWVudC5kZXRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixhLmNoZWNrUmVhZHlTdGF0ZSk7d2luZG93LmRldGFjaEV2ZW50KCJvbmxvYWQiLGEub25SZWFkeUV2ZW50KX1pZihFeHQuaXNOdW1iZXIoYS5zY3JvbGxUaW1lb3V0KSl7Y2xlYXJUaW1lb3V0KGEuc2Nyb2xsVGltZW91dCk7ZGVsZXRlIGEuc2Nyb2xsVGltZW91dH1pZighRXh0LmlzUmVhZHkpe2EuZmlyZURvY1JlYWR5KCl9fSxvblJlYWR5Q2hhaW46W119KX1FeHQub25SZWFkeT1mdW5jdGlvbihoLGcsZSl7RXh0LkxvYWRlci5vblJlYWR5KGgsZyx0cnVlLGUpfTtFeHQub25Eb2N1bWVudFJlYWR5PWEub25Eb2N1bWVudFJlYWR5O2Eub249YS5hZGRMaXN0ZW5lcjthLnVuPWEucmVtb3ZlTGlzdGVuZXI7RXh0Lm9uUmVhZHkoYil9O0V4dC5kZWZpbmUoIkV4dC5FdmVudE9iamVjdEltcGwiLHt1c2VzOlsiRXh0LnV0aWwuUG9pbnQiXSxCQUNLU1BBQ0U6OCxUQUI6OSxOVU1fQ0VOVEVSOjEyLEVOVEVSOjEzLFJFVFVSTjoxMyxTSElGVDoxNixDVFJMOjE3LEFMVDoxOCxQQVVTRToxOSxDQVBTX0xPQ0s6MjAsRVNDOjI3LFNQQUNFOjMyLFBBR0VfVVA6MzMsUEFHRV9ET1dOOjM0LEVORDozNSxIT01FOjM2LExFRlQ6MzcsVVA6MzgsUklHSFQ6MzksRE9XTjo0MCxQUklOVF9TQ1JFRU46NDQsSU5TRVJUOjQ1LERFTEVURTo0NixaRVJPOjQ4LE9ORTo0OSxUV086NTAsVEhSRUU6NTEsRk9VUjo1MixGSVZFOjUzLFNJWDo1NCxTRVZFTjo1NSxFSUdIVDo1NixOSU5FOjU3LEE6NjUsQjo2NixDOjY3LEQ6NjgsRTo2OSxGOjcwLEc6NzEsSDo3MixJOjczLEo6NzQsSzo3NSxMOjc2LE06NzcsTjo3OCxPOjc5LFA6ODAsUTo4MSxSOjgyLFM6ODMsVDo4NCxVOjg1LFY6ODYsVzo4NyxYOjg4LFk6ODksWjo5MCxDT05URVhUX01FTlU6OTMsTlVNX1pFUk86OTYsTlVNX09ORTo5NyxOVU1fVFdPOjk4LE5VTV9USFJFRTo5OSxOVU1fRk9VUjoxMDAsTlVNX0ZJVkU6MTAxLE5VTV9TSVg6MTAyLE5VTV9TRVZFTjoxMDMsTlVNX0VJR0hUOjEwNCxOVU1fTklORToxMDUsTlVNX01VTFRJUExZOjEwNixOVU1fUExVUzoxMDcsTlVNX01JTlVTOjEwOSxOVU1fUEVSSU9EOjExMCxOVU1fRElWSVNJT046MTExLEYxOjExMixGMjoxMTMsRjM6MTE0LEY0OjExNSxGNToxMTYsRjY6MTE3LEY3OjExOCxGODoxMTksRjk6MTIwLEYxMDoxMjEsRjExOjEyMixGMTI6MTIzLFdIRUVMX1NDQUxFOihmdW5jdGlvbigpe3ZhciBhO2lmKEV4dC5pc0dlY2tvKXthPTN9ZWxzZXtpZihFeHQuaXNNYWMpe2lmKEV4dC5pc1NhZmFyaSYmRXh0LndlYktpdFZlcnNpb24+PTUzMil7YT0xMjB9ZWxzZXthPTEyfWEqPTN9ZWxzZXthPTEyMH19cmV0dXJuIGF9KCkpLGNsaWNrUmU6LyhkYmwpP2NsaWNrLyxzYWZhcmlLZXlzOnszOjEzLDYzMjM0OjM3LDYzMjM1OjM5LDYzMjMyOjM4LDYzMjMzOjQwLDYzMjc2OjMzLDYzMjc3OjM0LDYzMjcyOjQ2LDYzMjczOjM2LDYzMjc1OjM1fSxidG5NYXA6RXh0LmlzSUU/ezE6MCw0OjEsMjoyfTp7MDowLDE6MSwyOjJ9LGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEsYil7aWYoYSl7dGhpcy5zZXRFdmVudChhLmJyb3dzZXJFdmVudHx8YSxiKX19LHNldEV2ZW50OmZ1bmN0aW9uKGQsZSl7dmFyIGM9dGhpcyxiLGE7aWYoZD09Y3x8KGQmJmQuYnJvd3NlckV2ZW50KSl7cmV0dXJuIGR9Yy5icm93c2VyRXZlbnQ9ZDtpZihkKXtiPWQuYnV0dG9uP2MuYnRuTWFwW2QuYnV0dG9uXTooZC53aGljaD9kLndoaWNoLTE6LTEpO2lmKGMuY2xpY2tSZS50ZXN0KGQudHlwZSkmJmI9PS0xKXtiPTB9YT17dHlwZTpkLnR5cGUsYnV0dG9uOmIsc2hpZnRLZXk6ZC5zaGlmdEtleSxjdHJsS2V5OmQuY3RybEtleXx8ZC5tZXRhS2V5fHxmYWxzZSxhbHRLZXk6ZC5hbHRLZXksa2V5Q29kZTpkLmtleUNvZGUsY2hhckNvZGU6ZC5jaGFyQ29kZSx0YXJnZXQ6RXh0LkV2ZW50TWFuYWdlci5nZXRUYXJnZXQoZCkscmVsYXRlZFRhcmdldDpFeHQuRXZlbnRNYW5hZ2VyLmdldFJlbGF0ZWRUYXJnZXQoZCksY3VycmVudFRhcmdldDpkLmN1cnJlbnRUYXJnZXQseHk6KGU/Yy5nZXRYWSgpOm51bGwpfX1lbHNle2E9e2J1dHRvbjotMSxzaGlmdEtleTpmYWxzZSxjdHJsS2V5OmZhbHNlLGFsdEtleTpmYWxzZSxrZXlDb2RlOjAsY2hhckNvZGU6MCx0YXJnZXQ6bnVsbCx4eTpbMCwwXX19RXh0LmFwcGx5KGMsYSk7cmV0dXJuIGN9LHN0b3BFdmVudDpmdW5jdGlvbigpe3RoaXMuc3RvcFByb3BhZ2F0aW9uKCk7dGhpcy5wcmV2ZW50RGVmYXVsdCgpfSxwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe2lmKHRoaXMuYnJvd3NlckV2ZW50KXtFeHQuRXZlbnRNYW5hZ2VyLnByZXZlbnREZWZhdWx0KHRoaXMuYnJvd3NlckV2ZW50KX19LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuYnJvd3NlckV2ZW50O2lmKGEpe2lmKGEudHlwZT09Im1vdXNlZG93biIpe0V4dC5FdmVudE1hbmFnZXIuc3RvcHBlZE1vdXNlRG93bkV2ZW50LmZpcmUodGhpcyl9RXh0LkV2ZW50TWFuYWdlci5zdG9wUHJvcGFnYXRpb24oYSl9fSxnZXRDaGFyQ29kZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNoYXJDb2RlfHx0aGlzLmtleUNvZGV9LGdldEtleTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm5vcm1hbGl6ZUtleSh0aGlzLmtleUNvZGV8fHRoaXMuY2hhckNvZGUpfSxub3JtYWxpemVLZXk6ZnVuY3Rpb24oYSl7cmV0dXJuIEV4dC5pc1dlYktpdD8odGhpcy5zYWZhcmlLZXlzW2FdfHxhKTphfSxnZXRQYWdlWDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFgoKX0sZ2V0UGFnZVk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRZKCl9LGdldFg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRYWSgpWzBdfSxnZXRZOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0WFkoKVsxXX0sZ2V0WFk6ZnVuY3Rpb24oKXtpZighdGhpcy54eSl7dGhpcy54eT1FeHQuRXZlbnRNYW5hZ2VyLmdldFBhZ2VYWSh0aGlzLmJyb3dzZXJFdmVudCl9cmV0dXJuIHRoaXMueHl9LGdldFRhcmdldDpmdW5jdGlvbihiLGMsYSl7aWYoYil7cmV0dXJuIEV4dC5mbHkodGhpcy50YXJnZXQpLmZpbmRQYXJlbnQoYixjLGEpfXJldHVybiBhP0V4dC5nZXQodGhpcy50YXJnZXQpOnRoaXMudGFyZ2V0fSxnZXRSZWxhdGVkVGFyZ2V0OmZ1bmN0aW9uKGIsYyxhKXtpZihiKXtyZXR1cm4gRXh0LmZseSh0aGlzLnJlbGF0ZWRUYXJnZXQpLmZpbmRQYXJlbnQoYixjLGEpfXJldHVybiBhP0V4dC5nZXQodGhpcy5yZWxhdGVkVGFyZ2V0KTp0aGlzLnJlbGF0ZWRUYXJnZXR9LGNvcnJlY3RXaGVlbERlbHRhOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMuV0hFRUxfU0NBTEUsYT1NYXRoLnJvdW5kKGMvYik7aWYoIWEmJmMpe2E9KGM8MCk/LTE6MX1yZXR1cm4gYX0sZ2V0V2hlZWxEZWx0YXM6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGM9ZC5icm93c2VyRXZlbnQsYj0wLGE9MDtpZihFeHQuaXNEZWZpbmVkKGMud2hlZWxEZWx0YVgpKXtiPWMud2hlZWxEZWx0YVg7YT1jLndoZWVsRGVsdGFZfWVsc2V7aWYoYy53aGVlbERlbHRhKXthPWMud2hlZWxEZWx0YX1lbHNle2lmKGMuZGV0YWlsKXthPS1jLmRldGFpbDtpZihhPjEwMCl7YT0zfWVsc2V7aWYoYTwtMTAwKXthPS0zfX1pZihFeHQuaXNEZWZpbmVkKGMuYXhpcykmJmMuYXhpcz09PWMuSE9SSVpPTlRBTF9BWElTKXtiPWE7YT0wfX19fXJldHVybnt4OmQuY29ycmVjdFdoZWVsRGVsdGEoYikseTpkLmNvcnJlY3RXaGVlbERlbHRhKGEpfX0sZ2V0V2hlZWxEZWx0YTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0V2hlZWxEZWx0YXMoKTtyZXR1cm4gYS55fSx3aXRoaW46ZnVuY3Rpb24oZCxlLGIpe2lmKGQpe3ZhciBjPWU/dGhpcy5nZXRSZWxhdGVkVGFyZ2V0KCk6dGhpcy5nZXRUYXJnZXQoKSxhO2lmKGMpe2E9RXh0LmZseShkKS5jb250YWlucyhjKTtpZighYSYmYil7YT1jPT1FeHQuZ2V0RG9tKGQpfXJldHVybiBhfX1yZXR1cm4gZmFsc2V9LGlzTmF2S2V5UHJlc3M6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9dGhpcy5ub3JtYWxpemVLZXkoYi5rZXlDb2RlKTtyZXR1cm4oYT49MzMmJmE8PTQwKXx8YT09Yi5SRVRVUk58fGE9PWIuVEFCfHxhPT1iLkVTQ30saXNTcGVjaWFsS2V5OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5ub3JtYWxpemVLZXkodGhpcy5rZXlDb2RlKTtyZXR1cm4odGhpcy50eXBlPT0ia2V5cHJlc3MiJiZ0aGlzLmN0cmxLZXkpfHx0aGlzLmlzTmF2S2V5UHJlc3MoKXx8KGE9PXRoaXMuQkFDS1NQQUNFKXx8KGE+PTE2JiZhPD0yMCl8fChhPj00NCYmYTw9NDYpfSxnZXRQb2ludDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0WFkoKTtyZXR1cm4gbmV3IEV4dC51dGlsLlBvaW50KGFbMF0sYVsxXSl9LGhhc01vZGlmaWVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY3RybEtleXx8dGhpcy5hbHRLZXl8fHRoaXMuc2hpZnRLZXl8fHRoaXMubWV0YUtleX0saW5qZWN0RXZlbnQ6KGZ1bmN0aW9uKCl7dmFyIGQsZT17fSxjO2lmKCFFeHQuaXNJRSYmZG9jdW1lbnQuY3JlYXRlRXZlbnQpe2Q9e2NyZWF0ZUh0bWxFdmVudDpmdW5jdGlvbihrLGksaCxnKXt2YXIgaj1rLmNyZWF0ZUV2ZW50KCJIVE1MRXZlbnRzIik7ai5pbml0RXZlbnQoaSxoLGcpO3JldHVybiBqfSxjcmVhdGVNb3VzZUV2ZW50OmZ1bmN0aW9uKHUscyxtLGwsbyxrLGksaixnLHIscSxuLHApe3ZhciBoPXUuY3JlYXRlRXZlbnQoIk1vdXNlRXZlbnRzIiksdD11LmRlZmF1bHRWaWV3fHx3aW5kb3c7aWYoaC5pbml0TW91c2VFdmVudCl7aC5pbml0TW91c2VFdmVudChzLG0sbCx0LG8sayxpLGssaSxqLGcscixxLG4scCl9ZWxzZXtoPXUuY3JlYXRlRXZlbnQoIlVJRXZlbnRzIik7aC5pbml0RXZlbnQocyxtLGwpO2gudmlldz10O2guZGV0YWlsPW87aC5zY3JlZW5YPWs7aC5zY3JlZW5ZPWk7aC5jbGllbnRYPWs7aC5jbGllbnRZPWk7aC5jdHJsS2V5PWo7aC5hbHRLZXk9ZztoLm1ldGFLZXk9cTtoLnNoaWZ0S2V5PXI7aC5idXR0b249bjtoLnJlbGF0ZWRUYXJnZXQ9cH1yZXR1cm4gaH0sY3JlYXRlVUlFdmVudDpmdW5jdGlvbihtLGssaSxoLGope3ZhciBsPW0uY3JlYXRlRXZlbnQoIlVJRXZlbnRzIiksZz1tLmRlZmF1bHRWaWV3fHx3aW5kb3c7bC5pbml0VUlFdmVudChrLGksaCxnLGopO3JldHVybiBsfSxmaXJlRXZlbnQ6ZnVuY3Rpb24oaSxnLGgpe2kuZGlzcGF0Y2hFdmVudChoKX0sZml4VGFyZ2V0OmZ1bmN0aW9uKGcpe2lmKGc9PXdpbmRvdyYmIWcuZGlzcGF0Y2hFdmVudCl7cmV0dXJuIGRvY3VtZW50fXJldHVybiBnfX19ZWxzZXtpZihkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCl7Yz17MDoxLDE6NCwyOjJ9O2Q9e2NyZWF0ZUh0bWxFdmVudDpmdW5jdGlvbihrLGksaCxnKXt2YXIgaj1rLmNyZWF0ZUV2ZW50T2JqZWN0KCk7ai5idWJibGVzPWg7ai5jYW5jZWxhYmxlPWc7cmV0dXJuIGp9LGNyZWF0ZU1vdXNlRXZlbnQ6ZnVuY3Rpb24odCxzLG0sbCxvLGssaSxqLGcscixxLG4scCl7dmFyIGg9dC5jcmVhdGVFdmVudE9iamVjdCgpO2guYnViYmxlcz1tO2guY2FuY2VsYWJsZT1sO2guZGV0YWlsPW87aC5zY3JlZW5YPWs7aC5zY3JlZW5ZPWk7aC5jbGllbnRYPWs7aC5jbGllbnRZPWk7aC5jdHJsS2V5PWo7aC5hbHRLZXk9ZztoLnNoaWZ0S2V5PXI7aC5tZXRhS2V5PXE7aC5idXR0b249Y1tuXXx8bjtoLnJlbGF0ZWRUYXJnZXQ9cDtyZXR1cm4gaH0sY3JlYXRlVUlFdmVudDpmdW5jdGlvbihsLGosaCxnLGkpe3ZhciBrPWwuY3JlYXRlRXZlbnRPYmplY3QoKTtrLmJ1YmJsZXM9aDtrLmNhbmNlbGFibGU9ZztyZXR1cm4ga30sZmlyZUV2ZW50OmZ1bmN0aW9uKGksZyxoKXtpLmZpcmVFdmVudCgib24iK2csaCl9LGZpeFRhcmdldDpmdW5jdGlvbihnKXtpZihnPT1kb2N1bWVudCl7cmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudH1yZXR1cm4gZ319fX1FeHQuT2JqZWN0LmVhY2goe2xvYWQ6W2ZhbHNlLGZhbHNlXSx1bmxvYWQ6W2ZhbHNlLGZhbHNlXSxzZWxlY3Q6W3RydWUsZmFsc2VdLGNoYW5nZTpbdHJ1ZSxmYWxzZV0sc3VibWl0Olt0cnVlLHRydWVdLHJlc2V0Olt0cnVlLGZhbHNlXSxyZXNpemU6W3RydWUsZmFsc2VdLHNjcm9sbDpbdHJ1ZSxmYWxzZV19LGZ1bmN0aW9uKGksail7dmFyIGg9alswXSxnPWpbMV07ZVtpXT1mdW5jdGlvbihtLGspe3ZhciBsPWQuY3JlYXRlSHRtbEV2ZW50KGksaCxnKTtkLmZpcmVFdmVudChtLGksbCl9fSk7ZnVuY3Rpb24gYihpLGgpe3ZhciBnPShpIT0ibW91c2Vtb3ZlIik7cmV0dXJuIGZ1bmN0aW9uKG0sail7dmFyIGw9ai5nZXRYWSgpLGs9ZC5jcmVhdGVNb3VzZUV2ZW50KG0ub3duZXJEb2N1bWVudCxpLHRydWUsZyxoLGxbMF0sbFsxXSxqLmN0cmxLZXksai5hbHRLZXksai5zaGlmdEtleSxqLm1ldGFLZXksai5idXR0b24sai5yZWxhdGVkVGFyZ2V0KTtkLmZpcmVFdmVudChtLGksayl9fUV4dC5lYWNoKFsiY2xpY2siLCJkYmxjbGljayIsIm1vdXNlZG93biIsIm1vdXNldXAiLCJtb3VzZW92ZXIiLCJtb3VzZW1vdmUiLCJtb3VzZW91dCJdLGZ1bmN0aW9uKGcpe2VbZ109YihnLDEpfSk7RXh0Lk9iamVjdC5lYWNoKHtmb2N1c2luOlt0cnVlLGZhbHNlXSxmb2N1c291dDpbdHJ1ZSxmYWxzZV0sYWN0aXZhdGU6W3RydWUsdHJ1ZV0sZm9jdXM6W2ZhbHNlLGZhbHNlXSxibHVyOltmYWxzZSxmYWxzZV19LGZ1bmN0aW9uKGksail7dmFyIGg9alswXSxnPWpbMV07ZVtpXT1mdW5jdGlvbihtLGspe3ZhciBsPWQuY3JlYXRlVUlFdmVudChtLm93bmVyRG9jdW1lbnQsaSxoLGcsMSk7ZC5maXJlRXZlbnQobSxpLGwpfX0pO2lmKCFkKXtlPXt9O2Q9e2ZpeFRhcmdldDpmdW5jdGlvbihnKXtyZXR1cm4gZ319fWZ1bmN0aW9uIGEoaCxnKXt9cmV0dXJuIGZ1bmN0aW9uKGope3ZhciBpPXRoaXMsaD1lW2kudHlwZV18fGEsZz1qPyhqLmRvbXx8aik6aS5nZXRUYXJnZXQoKTtnPWQuZml4VGFyZ2V0KGcpO2goZyxpKX19KCkpfSxmdW5jdGlvbigpe0V4dC5FdmVudE9iamVjdD1uZXcgRXh0LkV2ZW50T2JqZWN0SW1wbCgpfSk7RXh0LmRlZmluZSgiRXh0LmRvbS5BYnN0cmFjdFF1ZXJ5Iix7c2VsZWN0OmZ1bmN0aW9uKGssYil7dmFyIGg9W10sZCxnLGUsYyxhO2I9Ynx8ZG9jdW1lbnQ7aWYodHlwZW9mIGI9PSJzdHJpbmciKXtiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGIpfWs9ay5zcGxpdCgiLCIpO2ZvcihnPTAsYz1rLmxlbmd0aDtnPGM7ZysrKXtpZih0eXBlb2Yga1tnXT09InN0cmluZyIpe2lmKHR5cGVvZiBrW2ddWzBdPT0iQCIpe2Q9Yi5nZXRBdHRyaWJ1dGVOb2RlKGtbZ10uc3Vic3RyaW5nKDEpKTtoLnB1c2goZCl9ZWxzZXtkPWIucXVlcnlTZWxlY3RvckFsbChrW2ddKTtmb3IoZT0wLGE9ZC5sZW5ndGg7ZTxhO2UrKyl7aC5wdXNoKGRbZV0pfX19fXJldHVybiBofSxzZWxlY3ROb2RlOmZ1bmN0aW9uKGIsYSl7cmV0dXJuIHRoaXMuc2VsZWN0KGIsYSlbMF19LGlzOmZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGE9PSJzdHJpbmciKXthPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpfXJldHVybiB0aGlzLnNlbGVjdChiKS5pbmRleE9mKGEpIT09LTF9fSk7RXh0LmRlZmluZSgiRXh0LmRvbS5BYnN0cmFjdEhlbHBlciIse2VtcHR5VGFnczovXig/OmJyfGZyYW1lfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cmFuZ2V8c3BhY2VyfHdicnxhcmVhfHBhcmFtfGNvbCkkL2ksY29uZlJlOi90YWd8Y2hpbGRyZW58Y258aHRtbHx0cGx8dHBsRGF0YSQvaSxlbmRSZTovZW5kL2ksYXR0cmliWGxhdDp7Y2xzOiJjbGFzcyIsaHRtbEZvcjoiZm9yIn0sY2xvc2VUYWdzOnt9LGRlY2FtZWxpemVOYW1lOihmdW5jdGlvbigpe3ZhciBjPS8oW2Etel0pKFtBLVpdKS9nLGI9e307ZnVuY3Rpb24gYShkLGcsZSl7cmV0dXJuIGcrIi0iK2UudG9Mb3dlckNhc2UoKX1yZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGJbZF18fChiW2RdPWQucmVwbGFjZShjLGEpKX19KCkpLGdlbmVyYXRlTWFya3VwOmZ1bmN0aW9uKGQsYyl7dmFyIGg9dGhpcyxiLGosYSxlLGc7aWYodHlwZW9mIGQ9PSJzdHJpbmciKXtjLnB1c2goZCl9ZWxzZXtpZihFeHQuaXNBcnJheShkKSl7Zm9yKGU9MDtlPGQubGVuZ3RoO2UrKyl7aWYoZFtlXSl7aC5nZW5lcmF0ZU1hcmt1cChkW2VdLGMpfX19ZWxzZXthPWQudGFnfHwiZGl2IjtjLnB1c2goIjwiLGEpO2ZvcihiIGluIGQpe2lmKGQuaGFzT3duUHJvcGVydHkoYikpe2o9ZFtiXTtpZighaC5jb25mUmUudGVzdChiKSl7aWYodHlwZW9mIGo9PSJvYmplY3QiKXtjLnB1c2goIiAiLGIsJz0iJyk7aC5nZW5lcmF0ZVN0eWxlcyhqLGMpLnB1c2goJyInKX1lbHNle2MucHVzaCgiICIsaC5hdHRyaWJYbGF0W2JdfHxiLCc9IicsaiwnIicpfX19fWlmKGguZW1wdHlUYWdzLnRlc3QoYSkpe2MucHVzaCgiLz4iKX1lbHNle2MucHVzaCgiPiIpO2lmKChqPWQudHBsKSl7ai5hcHBseU91dChkLnRwbERhdGEsYyl9aWYoKGo9ZC5odG1sKSl7Yy5wdXNoKGopfWlmKChqPWQuY258fGQuY2hpbGRyZW4pKXtoLmdlbmVyYXRlTWFya3VwKGosYyl9Zz1oLmNsb3NlVGFncztjLnB1c2goZ1thXXx8KGdbYV09IjwvIithKyI+IikpfX19cmV0dXJuIGN9LGdlbmVyYXRlU3R5bGVzOmZ1bmN0aW9uKGUsYyl7dmFyIGI9Y3x8W10sZDtmb3IoZCBpbiBlKXtpZihlLmhhc093blByb3BlcnR5KGQpKXtiLnB1c2godGhpcy5kZWNhbWVsaXplTmFtZShkKSwiOiIsZVtkXSwiOyIpfX1yZXR1cm4gY3x8Yi5qb2luKCIiKX0sbWFya3VwOmZ1bmN0aW9uKGEpe2lmKHR5cGVvZiBhPT0ic3RyaW5nIil7cmV0dXJuIGF9dmFyIGI9dGhpcy5nZW5lcmF0ZU1hcmt1cChhLFtdKTtyZXR1cm4gYi5qb2luKCIiKX0sYXBwbHlTdHlsZXM6ZnVuY3Rpb24oZCxlKXtpZihlKXt2YXIgYj0wLGEsYztkPUV4dC5mbHkoZCk7aWYodHlwZW9mIGU9PSJmdW5jdGlvbiIpe2U9ZS5jYWxsKCl9aWYodHlwZW9mIGU9PSJzdHJpbmciKXtlPUV4dC51dGlsLkZvcm1hdC50cmltKGUpLnNwbGl0KC9ccyooPzo6fDspXHMqLyk7Zm9yKGE9ZS5sZW5ndGg7YjxhOyl7ZC5zZXRTdHlsZShlW2IrK10sZVtiKytdKX19ZWxzZXtpZihFeHQuaXNPYmplY3QoZSkpe2Quc2V0U3R5bGUoZSl9fX19LGluc2VydEh0bWw6ZnVuY3Rpb24oZyxhLGgpe3ZhciBlPXt9LGMsaixpLGssZCxiO2c9Zy50b0xvd2VyQ2FzZSgpO2UuYmVmb3JlYmVnaW49WyJCZWZvcmVCZWdpbiIsInByZXZpb3VzU2libGluZyJdO2UuYWZ0ZXJlbmQ9WyJBZnRlckVuZCIsIm5leHRTaWJsaW5nIl07aT1hLm93bmVyRG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtqPSJzZXRTdGFydCIrKHRoaXMuZW5kUmUudGVzdChnKT8iQWZ0ZXIiOiJCZWZvcmUiKTtpZihlW2ddKXtpW2pdKGEpO2s9aS5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQoaCk7YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShrLGc9PSJiZWZvcmViZWdpbiI/YTphLm5leHRTaWJsaW5nKTtyZXR1cm4gYVsoZz09ImJlZm9yZWJlZ2luIj8icHJldmlvdXMiOiJuZXh0IikrIlNpYmxpbmciXX1lbHNle2Q9KGc9PSJhZnRlcmJlZ2luIj8iZmlyc3QiOiJsYXN0IikrIkNoaWxkIjtpZihhLmZpcnN0Q2hpbGQpe2lbal0oYVtkXSk7az1pLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudChoKTtpZihnPT0iYWZ0ZXJiZWdpbiIpe2EuaW5zZXJ0QmVmb3JlKGssYS5maXJzdENoaWxkKX1lbHNle2EuYXBwZW5kQ2hpbGQoayl9fWVsc2V7YS5pbm5lckhUTUw9aH1yZXR1cm4gYVtkXX10aHJvdydJbGxlZ2FsIGluc2VydGlvbiBwb2ludCAtPiAiJytnKyciJ30saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGEsYyxiKXtyZXR1cm4gdGhpcy5kb0luc2VydChhLGMsYiwiYmVmb3JlYmVnaW4iKX0saW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24oYSxjLGIpe3JldHVybiB0aGlzLmRvSW5zZXJ0KGEsYyxiLCJhZnRlcmVuZCIsIm5leHRTaWJsaW5nIil9LGluc2VydEZpcnN0OmZ1bmN0aW9uKGEsYyxiKXtyZXR1cm4gdGhpcy5kb0luc2VydChhLGMsYiwiYWZ0ZXJiZWdpbiIsImZpcnN0Q2hpbGQiKX0sYXBwZW5kOmZ1bmN0aW9uKGEsYyxiKXtyZXR1cm4gdGhpcy5kb0luc2VydChhLGMsYiwiYmVmb3JlZW5kIiwiIix0cnVlKX0sb3ZlcndyaXRlOmZ1bmN0aW9uKGEsYyxiKXthPUV4dC5nZXREb20oYSk7YS5pbm5lckhUTUw9dGhpcy5tYXJrdXAoYyk7cmV0dXJuIGI/RXh0LmdldChhLmZpcnN0Q2hpbGQpOmEuZmlyc3RDaGlsZH0sZG9JbnNlcnQ6ZnVuY3Rpb24oZCxnLGUsaCxjLGEpe3ZhciBiPXRoaXMuaW5zZXJ0SHRtbChoLEV4dC5nZXREb20oZCksdGhpcy5tYXJrdXAoZykpO3JldHVybiBlP0V4dC5nZXQoYix0cnVlKTpifX0pOyhmdW5jdGlvbigpe3ZhciBhPXdpbmRvdy5kb2N1bWVudCxiPS9eXHMrfFxzKyQvZyxjPS9ccy87aWYoIUV4dC5jYWNoZSl7RXh0LmNhY2hlPXt9fUV4dC5kZWZpbmUoIkV4dC5kb20uQWJzdHJhY3RFbGVtZW50Iix7aW5oZXJpdGFibGVTdGF0aWNzOntnZXQ6ZnVuY3Rpb24oZSl7dmFyIGc9dGhpcyxoPUV4dC5kb20uRWxlbWVudCxkLGosaSxrO2lmKCFlKXtyZXR1cm4gbnVsbH1pZih0eXBlb2YgZT09InN0cmluZyIpe2lmKGU9PUV4dC53aW5kb3dJZCl7cmV0dXJuIGguZ2V0KHdpbmRvdyl9ZWxzZXtpZihlPT1FeHQuZG9jdW1lbnRJZCl7cmV0dXJuIGguZ2V0KGEpfX1kPUV4dC5jYWNoZVtlXTtpZihkJiZkLnNraXBHYXJiYWdlQ29sbGVjdGlvbil7aj1kLmVsO3JldHVybiBqfWlmKCEoaT1hLmdldEVsZW1lbnRCeUlkKGUpKSl7cmV0dXJuIG51bGx9aWYoZCYmZC5lbCl7aj1kLmVsO2ouZG9tPWl9ZWxzZXtqPW5ldyBoKGksISFkKX1yZXR1cm4gan1lbHNle2lmKGUudGFnTmFtZSl7aWYoIShrPWUuaWQpKXtrPUV4dC5pZChlKX1kPUV4dC5jYWNoZVtrXTtpZihkJiZkLmVsKXtqPUV4dC5jYWNoZVtrXS5lbDtqLmRvbT1lfWVsc2V7aj1uZXcgaChlLCEhZCl9cmV0dXJuIGp9ZWxzZXtpZihlIGluc3RhbmNlb2YgZyl7aWYoZSE9Zy5kb2NFbCYmZSE9Zy53aW5FbCl7ZS5kb209YS5nZXRFbGVtZW50QnlJZChlLmlkKXx8ZS5kb219cmV0dXJuIGV9ZWxzZXtpZihlLmlzQ29tcG9zaXRlKXtyZXR1cm4gZX1lbHNle2lmKEV4dC5pc0FycmF5KGUpKXtyZXR1cm4gZy5zZWxlY3QoZSl9ZWxzZXtpZihlPT09YSl7aWYoIWcuZG9jRWwpe2cuZG9jRWw9RXh0Lk9iamVjdC5jaGFpbihoLnByb3RvdHlwZSk7Zy5kb2NFbC5kb209YTtnLmRvY0VsLmlkPUV4dC5pZChhKTtnLmFkZFRvQ2FjaGUoZy5kb2NFbCl9cmV0dXJuIGcuZG9jRWx9ZWxzZXtpZihlPT09d2luZG93KXtpZighZy53aW5FbCl7Zy53aW5FbD1FeHQuT2JqZWN0LmNoYWluKGgucHJvdG90eXBlKTtnLndpbkVsLmRvbT13aW5kb3c7Zy53aW5FbC5pZD1FeHQuaWQod2luZG93KTtnLmFkZFRvQ2FjaGUoZy53aW5FbCl9cmV0dXJuIGcud2luRWx9fX19fX19cmV0dXJuIG51bGx9LGFkZFRvQ2FjaGU6ZnVuY3Rpb24oZCxlKXtpZihkKXtFeHQuYWRkQ2FjaGVFbnRyeShlLGQpfXJldHVybiBkfSxhZGRNZXRob2RzOmZ1bmN0aW9uKCl7dGhpcy5vdmVycmlkZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LG1lcmdlQ2xzTGlzdDpmdW5jdGlvbigpe3ZhciBuLG09e30sayxkLGcsbCxlLG89W10saD1mYWxzZTtmb3Ioaz0wLGQ9YXJndW1lbnRzLmxlbmd0aDtrPGQ7aysrKXtuPWFyZ3VtZW50c1trXTtpZihFeHQuaXNTdHJpbmcobikpe249bi5yZXBsYWNlKGIsIiIpLnNwbGl0KGMpfWlmKG4pe2ZvcihnPTAsbD1uLmxlbmd0aDtnPGw7ZysrKXtlPW5bZ107aWYoIW1bZV0pe2lmKGspe2g9dHJ1ZX1tW2VdPXRydWV9fX19Zm9yKGUgaW4gbSl7by5wdXNoKGUpfW8uY2hhbmdlZD1oO3JldHVybiBvfSxyZW1vdmVDbHM6ZnVuY3Rpb24oZyxsKXt2YXIgZT17fSxoLGssaixkPVtdLG09ZmFsc2U7aWYoZyl7aWYoRXh0LmlzU3RyaW5nKGcpKXtnPWcucmVwbGFjZShiLCIiKS5zcGxpdChjKX1mb3IoaD0wLGs9Zy5sZW5ndGg7aDxrO2grKyl7ZVtnW2hdXT10cnVlfX1pZihsKXtpZihFeHQuaXNTdHJpbmcobCkpe2w9bC5zcGxpdChjKX1mb3IoaD0wLGs9bC5sZW5ndGg7aDxrO2grKyl7aj1sW2hdO2lmKGVbal0pe209dHJ1ZTtkZWxldGUgZVtqXX19fWZvcihqIGluIGUpe2QucHVzaChqKX1kLmNoYW5nZWQ9bTtyZXR1cm4gZH0sVklTSUJJTElUWToxLERJU1BMQVk6MixPRkZTRVRTOjMsQVNDTEFTUzo0fSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihkLGUpe3ZhciBnPXRoaXMsaD10eXBlb2YgZD09InN0cmluZyI/YS5nZXRFbGVtZW50QnlJZChkKTpkLGk7aWYoIWgpe3JldHVybiBudWxsfWk9aC5pZDtpZighZSYmaSYmRXh0LmNhY2hlW2ldKXtyZXR1cm4gRXh0LmNhY2hlW2ldLmVsfWcuZG9tPWg7Zy5pZD1pfHxFeHQuaWQoaCk7Zy5zZWxmLmFkZFRvQ2FjaGUoZyl9LHNldDpmdW5jdGlvbihpLGUpe3ZhciBnPXRoaXMuZG9tLGQsaDtmb3IoZCBpbiBpKXtpZihpLmhhc093blByb3BlcnR5KGQpKXtoPWlbZF07aWYoZD09InN0eWxlIil7dGhpcy5hcHBseVN0eWxlcyhoKX1lbHNle2lmKGQ9PSJjbHMiKXtnLmNsYXNzTmFtZT1ofWVsc2V7aWYoZSE9PWZhbHNlKXtpZihoPT09dW5kZWZpbmVkKXtnLnJlbW92ZUF0dHJpYnV0ZShkKX1lbHNle2cuc2V0QXR0cmlidXRlKGQsaCl9fWVsc2V7Z1tkXT1ofX19fX1yZXR1cm4gdGhpc30sZGVmYXVsdFVuaXQ6InB4IixpczpmdW5jdGlvbihkKXtyZXR1cm4gRXh0LkRvbVF1ZXJ5LmlzKHRoaXMuZG9tLGQpfSxnZXRWYWx1ZTpmdW5jdGlvbihkKXt2YXIgZT10aGlzLmRvbS52YWx1ZTtyZXR1cm4gZD9wYXJzZUludChlLDEwKTplfSxyZW1vdmU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGU9ZC5kb207aWYoZSl7RXh0LnJlbW92ZU5vZGUoZSk7ZGVsZXRlIGQuZG9tfX0sY29udGFpbnM6ZnVuY3Rpb24oZCl7aWYoIWQpe3JldHVybiBmYWxzZX12YXIgZT10aGlzLGc9ZC5kb218fGQ7cmV0dXJuKGc9PT1lLmRvbSl8fEV4dC5kb20uQWJzdHJhY3RFbGVtZW50LmlzQW5jZXN0b3IoZS5kb20sZyl9LGdldEF0dHJpYnV0ZTpmdW5jdGlvbihkLGUpe3ZhciBnPXRoaXMuZG9tO3JldHVybiBnLmdldEF0dHJpYnV0ZU5TKGUsZCl8fGcuZ2V0QXR0cmlidXRlKGUrIjoiK2QpfHxnLmdldEF0dHJpYnV0ZShkKXx8Z1tkXX0sdXBkYXRlOmZ1bmN0aW9uKGQpe2lmKHRoaXMuZG9tKXt0aGlzLmRvbS5pbm5lckhUTUw9ZH1yZXR1cm4gdGhpc30sc2V0SFRNTDpmdW5jdGlvbihkKXtpZih0aGlzLmRvbSl7dGhpcy5kb20uaW5uZXJIVE1MPWR9cmV0dXJuIHRoaXN9LGdldEhUTUw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb20/dGhpcy5kb20uaW5uZXJIVE1MOiIifSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5zZXRWaXNpYmxlKGZhbHNlKTtyZXR1cm4gdGhpc30sc2hvdzpmdW5jdGlvbigpe3RoaXMuc2V0VmlzaWJsZSh0cnVlKTtyZXR1cm4gdGhpc30sc2V0VmlzaWJsZTpmdW5jdGlvbihqLGQpe3ZhciBlPXRoaXMsaT1lLnNlbGYsaD1lLmdldFZpc2liaWxpdHlNb2RlKCksZz1FeHQuYmFzZUNTU1ByZWZpeDtzd2l0Y2goaCl7Y2FzZSBpLlZJU0lCSUxJVFk6ZS5yZW1vdmVDbHMoW2crImhpZGRlbi1kaXNwbGF5IixnKyJoaWRkZW4tb2Zmc2V0cyJdKTtlW2o/InJlbW92ZUNscyI6ImFkZENscyJdKGcrImhpZGRlbi12aXNpYmlsaXR5Iik7YnJlYWs7Y2FzZSBpLkRJU1BMQVk6ZS5yZW1vdmVDbHMoW2crImhpZGRlbi12aXNpYmlsaXR5IixnKyJoaWRkZW4tb2Zmc2V0cyJdKTtlW2o/InJlbW92ZUNscyI6ImFkZENscyJdKGcrImhpZGRlbi1kaXNwbGF5Iik7YnJlYWs7Y2FzZSBpLk9GRlNFVFM6ZS5yZW1vdmVDbHMoW2crImhpZGRlbi12aXNpYmlsaXR5IixnKyJoaWRkZW4tZGlzcGxheSJdKTtlW2o/InJlbW92ZUNscyI6ImFkZENscyJdKGcrImhpZGRlbi1vZmZzZXRzIik7YnJlYWt9cmV0dXJuIGV9LGdldFZpc2liaWxpdHlNb2RlOmZ1bmN0aW9uKCl7dmFyIGU9KHRoaXMuJGNhY2hlfHx0aGlzLmdldENhY2hlKCkpLmRhdGEsZD1lLnZpc2liaWxpdHlNb2RlO2lmKGQ9PT11bmRlZmluZWQpe2UudmlzaWJpbGl0eU1vZGU9ZD10aGlzLnNlbGYuRElTUExBWX1yZXR1cm4gZH0sc2V0VmlzaWJpbGl0eU1vZGU6ZnVuY3Rpb24oZCl7KHRoaXMuJGNhY2hlfHx0aGlzLmdldENhY2hlKCkpLmRhdGEudmlzaWJpbGl0eU1vZGU9ZDtyZXR1cm4gdGhpc30sZ2V0Q2FjaGU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGU9ZC5kb20uaWR8fEV4dC5pZChkLmRvbSk7ZC4kY2FjaGU9RXh0LmNhY2hlW2VdfHxFeHQuYWRkQ2FjaGVFbnRyeShlLG51bGwsZC5kb20pO3JldHVybiBkLiRjYWNoZX19LGZ1bmN0aW9uKCl7dmFyIGQ9dGhpcztFeHQuZ2V0RGV0YWNoZWRCb2R5PWZ1bmN0aW9uKCl7dmFyIGU9ZC5kZXRhY2hlZEJvZHlFbDtpZighZSl7ZT1hLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2QuZGV0YWNoZWRCb2R5RWw9ZT1uZXcgZC5GbHkoZSk7ZS5pc0RldGFjaGVkQm9keT10cnVlfXJldHVybiBlfTtFeHQuZ2V0RWxlbWVudEJ5SWQ9ZnVuY3Rpb24oaCl7dmFyIGc9YS5nZXRFbGVtZW50QnlJZChoKSxlO2lmKCFnJiYoZT1kLmRldGFjaGVkQm9keUVsKSl7Zz1lLmRvbS5xdWVyeVNlbGVjdG9yKCIjIitFeHQuZXNjYXBlSWQoaCkpfXJldHVybiBnfTtFeHQuZ2V0PWZ1bmN0aW9uKGUpe3JldHVybiBFeHQuZG9tLkVsZW1lbnQuZ2V0KGUpfTt0aGlzLmFkZFN0YXRpY3Moe0ZseTpuZXcgRXh0LkNsYXNzKHtleHRlbmQ6ZCxpc0ZseTp0cnVlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGUpe3RoaXMuZG9tPWV9LGF0dGFjaDpmdW5jdGlvbihlKXt0aGlzLmRvbT1lO3RoaXMuJGNhY2hlPWUuaWQ/RXh0LmNhY2hlW2UuaWRdOm51bGw7cmV0dXJuIHRoaXN9fSksX2ZseXdlaWdodHM6e30sZmx5OmZ1bmN0aW9uKGksZyl7dmFyIGg9bnVsbCxlPWQuX2ZseXdlaWdodHM7Zz1nfHwiX2dsb2JhbCI7aT1FeHQuZ2V0RG9tKGkpO2lmKGkpe2g9ZVtnXXx8KGVbZ109bmV3IGQuRmx5KCkpO2guZG9tPWk7aC4kY2FjaGU9aS5pZD9FeHQuY2FjaGVbaS5pZF06bnVsbH1yZXR1cm4gaH19KTtFeHQuZmx5PWZ1bmN0aW9uKCl7cmV0dXJuIGQuZmx5LmFwcGx5KGQsYXJndW1lbnRzKX07KGZ1bmN0aW9uKGUpe2UuZGVzdHJveT1lLnJlbW92ZTtpZihhLnF1ZXJ5U2VsZWN0b3Ipe2UuZ2V0QnlJZD1mdW5jdGlvbihpLGcpe3ZhciBoPWEuZ2V0RWxlbWVudEJ5SWQoaSl8fHRoaXMuZG9tLnF1ZXJ5U2VsZWN0b3IoIiMiK0V4dC5lc2NhcGVJZChpKSk7cmV0dXJuIGc/aDooaD9FeHQuZ2V0KGgpOm51bGwpfX1lbHNle2UuZ2V0QnlJZD1mdW5jdGlvbihpLGcpe3ZhciBoPWEuZ2V0RWxlbWVudEJ5SWQoaSk7cmV0dXJuIGc/aDooaD9FeHQuZ2V0KGgpOm51bGwpfX19KHRoaXMucHJvdG90eXBlKSl9KX0oKSk7RXh0LmRvbS5BYnN0cmFjdEVsZW1lbnQuYWRkSW5oZXJpdGFibGVTdGF0aWNzKHt1bml0UmU6L1xkKyhweHxlbXwlfGVufGV4fHB0fGlufGNtfG1tfHBjKSQvaSxjYW1lbFJlOi8oLVthLXpdKS9naSxjc3NSZTovKFthLXowLTlcLV0rKVxzKjpccyooW147XHNdKyg/OlxzKlteO1xzXSspKik7Py9naSxvcGFjaXR5UmU6L2FscGhhXChvcGFjaXR5PSguKilcKS9pLHByb3BlcnR5Q2FjaGU6e30sZGVmYXVsdFVuaXQ6InB4Iixib3JkZXJzOntsOiJib3JkZXItbGVmdC13aWR0aCIscjoiYm9yZGVyLXJpZ2h0LXdpZHRoIix0OiJib3JkZXItdG9wLXdpZHRoIixiOiJib3JkZXItYm90dG9tLXdpZHRoIn0scGFkZGluZ3M6e2w6InBhZGRpbmctbGVmdCIscjoicGFkZGluZy1yaWdodCIsdDoicGFkZGluZy10b3AiLGI6InBhZGRpbmctYm90dG9tIn0sbWFyZ2luczp7bDoibWFyZ2luLWxlZnQiLHI6Im1hcmdpbi1yaWdodCIsdDoibWFyZ2luLXRvcCIsYjoibWFyZ2luLWJvdHRvbSJ9LGFkZFVuaXRzOmZ1bmN0aW9uKGIsYSl7aWYodHlwZW9mIGI9PSJudW1iZXIiKXtyZXR1cm4gYisoYXx8dGhpcy5kZWZhdWx0VW5pdHx8InB4Iil9aWYoYj09PSIifHxiPT0iYXV0byJ8fGI9PT11bmRlZmluZWR8fGI9PT1udWxsKXtyZXR1cm4gYnx8IiJ9aWYoIXRoaXMudW5pdFJlLnRlc3QoYikpe3JldHVybiBifHwiIn1yZXR1cm4gYn0saXNBbmNlc3RvcjpmdW5jdGlvbihiLGQpe3ZhciBhPWZhbHNlO2I9RXh0LmdldERvbShiKTtkPUV4dC5nZXREb20oZCk7aWYoYiYmZCl7aWYoYi5jb250YWlucyl7cmV0dXJuIGIuY29udGFpbnMoZCl9ZWxzZXtpZihiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXtyZXR1cm4gISEoYi5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihkKSYxNil9ZWxzZXt3aGlsZSgoZD1kLnBhcmVudE5vZGUpKXthPWQ9PWJ8fGF9fX19cmV0dXJuIGF9LHBhcnNlQm94OmZ1bmN0aW9uKGIpe2lmKHR5cGVvZiBiIT0ic3RyaW5nIil7Yj1iLnRvU3RyaW5nKCl9dmFyIGM9Yi5zcGxpdCgiICIpLGE9Yy5sZW5ndGg7aWYoYT09MSl7Y1sxXT1jWzJdPWNbM109Y1swXX1lbHNle2lmKGE9PTIpe2NbMl09Y1swXTtjWzNdPWNbMV19ZWxzZXtpZihhPT0zKXtjWzNdPWNbMV19fX1yZXR1cm57dG9wOnBhcnNlRmxvYXQoY1swXSl8fDAscmlnaHQ6cGFyc2VGbG9hdChjWzFdKXx8MCxib3R0b206cGFyc2VGbG9hdChjWzJdKXx8MCxsZWZ0OnBhcnNlRmxvYXQoY1szXSl8fDB9fSx1bml0aXplQm94OmZ1bmN0aW9uKGcsZSl7dmFyIGQ9dGhpcy5hZGRVbml0cyxjPXRoaXMucGFyc2VCb3goZyk7cmV0dXJuIGQoYy50b3AsZSkrIiAiK2QoYy5yaWdodCxlKSsiICIrZChjLmJvdHRvbSxlKSsiICIrZChjLmxlZnQsZSl9LGNhbWVsUmVwbGFjZUZuOmZ1bmN0aW9uKGIsYyl7cmV0dXJuIGMuY2hhckF0KDEpLnRvVXBwZXJDYXNlKCl9LG5vcm1hbGl6ZTpmdW5jdGlvbihhKXtpZihhPT0iZmxvYXQiKXthPUV4dC5zdXBwb3J0cy5GbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In1yZXR1cm4gdGhpcy5wcm9wZXJ0eUNhY2hlW2FdfHwodGhpcy5wcm9wZXJ0eUNhY2hlW2FdPWEucmVwbGFjZSh0aGlzLmNhbWVsUmUsdGhpcy5jYW1lbFJlcGxhY2VGbikpfSxnZXREb2N1bWVudEhlaWdodDpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1heCghRXh0LmlzU3RyaWN0P2RvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0OmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQsdGhpcy5nZXRWaWV3cG9ydEhlaWdodCgpKX0sZ2V0RG9jdW1lbnRXaWR0aDpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1heCghRXh0LmlzU3RyaWN0P2RvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGg6ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFdpZHRoLHRoaXMuZ2V0Vmlld3BvcnRXaWR0aCgpKX0sZ2V0Vmlld3BvcnRIZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmlubmVySGVpZ2h0fSxnZXRWaWV3cG9ydFdpZHRoOmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5pbm5lcldpZHRofSxnZXRWaWV3U2l6ZTpmdW5jdGlvbigpe3JldHVybnt3aWR0aDp3aW5kb3cuaW5uZXJXaWR0aCxoZWlnaHQ6d2luZG93LmlubmVySGVpZ2h0fX0sZ2V0T3JpZW50YXRpb246ZnVuY3Rpb24oKXtpZihFeHQuc3VwcG9ydHMuT3JpZW50YXRpb25DaGFuZ2Upe3JldHVybih3aW5kb3cub3JpZW50YXRpb249PTApPyJwb3J0cmFpdCI6ImxhbmRzY2FwZSJ9cmV0dXJuKHdpbmRvdy5pbm5lckhlaWdodD53aW5kb3cuaW5uZXJXaWR0aCk/InBvcnRyYWl0IjoibGFuZHNjYXBlIn0sZnJvbVBvaW50OmZ1bmN0aW9uKGEsYil7cmV0dXJuIEV4dC5nZXQoZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludChhLGIpKX0scGFyc2VTdHlsZXM6ZnVuY3Rpb24oYyl7dmFyIGE9e30sYj10aGlzLmNzc1JlLGQ7aWYoYyl7Yi5sYXN0SW5kZXg9MDt3aGlsZSgoZD1iLmV4ZWMoYykpKXthW2RbMV1dPWRbMl19fXJldHVybiBhfX0pOyhmdW5jdGlvbigpe3ZhciBnPWRvY3VtZW50LGE9RXh0LmRvbS5BYnN0cmFjdEVsZW1lbnQsZT1udWxsLGQ9Zy5jb21wYXRNb2RlPT0iQ1NTMUNvbXBhdCIsYyxiPWZ1bmN0aW9uKGkpe2lmKCFjKXtjPW5ldyBhLkZseSgpfWMuYXR0YWNoKGkpO3JldHVybiBjfTtpZighKCJhY3RpdmVFbGVtZW50IiBpbiBnKSYmZy5hZGRFdmVudExpc3RlbmVyKXtnLmFkZEV2ZW50TGlzdGVuZXIoImZvY3VzIixmdW5jdGlvbihpKXtpZihpJiZpLnRhcmdldCl7ZT0oaS50YXJnZXQ9PWcpP251bGw6aS50YXJnZXR9fSx0cnVlKX1mdW5jdGlvbiBoKGosayxpKXtyZXR1cm4gZnVuY3Rpb24oKXtqLnNlbGVjdGlvblN0YXJ0PWs7ai5zZWxlY3Rpb25FbmQ9aX19YS5hZGRJbmhlcml0YWJsZVN0YXRpY3Moe2dldEFjdGl2ZUVsZW1lbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gZy5hY3RpdmVFbGVtZW50fHxlfSxnZXRSaWdodE1hcmdpbkZpeENsZWFuZXI6ZnVuY3Rpb24obil7dmFyIGs9RXh0LnN1cHBvcnRzLGw9ay5EaXNwbGF5Q2hhbmdlSW5wdXRTZWxlY3Rpb25CdWcsbT1rLkRpc3BsYXlDaGFuZ2VUZXh0QXJlYVNlbGVjdGlvbkJ1ZyxvLGkscCxqO2lmKGx8fG0pe289Zy5hY3RpdmVFbGVtZW50fHxlO2k9byYmby50YWdOYW1lO2lmKChtJiZpPT0iVEVYVEFSRUEiKXx8KGwmJmk9PSJJTlBVVCImJm8udHlwZT09InRleHQiKSl7aWYoRXh0LmRvbS5FbGVtZW50LmlzQW5jZXN0b3IobixvKSl7cD1vLnNlbGVjdGlvblN0YXJ0O2o9by5zZWxlY3Rpb25FbmQ7aWYoRXh0LmlzTnVtYmVyKHApJiZFeHQuaXNOdW1iZXIoaikpe3JldHVybiBoKG8scCxqKX19fX1yZXR1cm4gRXh0LmVtcHR5Rm59LGdldFZpZXdXaWR0aDpmdW5jdGlvbihpKXtyZXR1cm4gaT9FeHQuZG9tLkVsZW1lbnQuZ2V0RG9jdW1lbnRXaWR0aCgpOkV4dC5kb20uRWxlbWVudC5nZXRWaWV3cG9ydFdpZHRoKCl9LGdldFZpZXdIZWlnaHQ6ZnVuY3Rpb24oaSl7cmV0dXJuIGk/RXh0LmRvbS5FbGVtZW50LmdldERvY3VtZW50SGVpZ2h0KCk6RXh0LmRvbS5FbGVtZW50LmdldFZpZXdwb3J0SGVpZ2h0KCl9LGdldERvY3VtZW50SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgubWF4KCFkP2cuYm9keS5zY3JvbGxIZWlnaHQ6Zy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0LEV4dC5kb20uRWxlbWVudC5nZXRWaWV3cG9ydEhlaWdodCgpKX0sZ2V0RG9jdW1lbnRXaWR0aDpmdW5jdGlvbigpe3JldHVybiBNYXRoLm1heCghZD9nLmJvZHkuc2Nyb2xsV2lkdGg6Zy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsV2lkdGgsRXh0LmRvbS5FbGVtZW50LmdldFZpZXdwb3J0V2lkdGgoKSl9LGdldFZpZXdwb3J0SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIEV4dC5pc0lFPyhFeHQuaXNTdHJpY3Q/Zy5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0OmcuYm9keS5jbGllbnRIZWlnaHQpOnNlbGYuaW5uZXJIZWlnaHR9LGdldFZpZXdwb3J0V2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4oIUV4dC5pc1N0cmljdCYmIUV4dC5pc09wZXJhKT9nLmJvZHkuY2xpZW50V2lkdGg6RXh0LmlzSUU/Zy5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGg6c2VsZi5pbm5lcldpZHRofSxnZXRZOmZ1bmN0aW9uKGkpe3JldHVybiBFeHQuZG9tLkVsZW1lbnQuZ2V0WFkoaSlbMV19LGdldFg6ZnVuY3Rpb24oaSl7cmV0dXJuIEV4dC5kb20uRWxlbWVudC5nZXRYWShpKVswXX0sZ2V0WFk6ZnVuY3Rpb24oayl7dmFyIG49Zy5ib2R5LGo9Zy5kb2N1bWVudEVsZW1lbnQsaT0wLGw9MCxvPVswLDBdLHI9TWF0aC5yb3VuZCxtLHE7az1FeHQuZ2V0RG9tKGspO2lmKGshPWcmJmshPW4pe2lmKEV4dC5pc0lFKXt0cnl7bT1rLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2w9ai5jbGllbnRUb3B8fG4uY2xpZW50VG9wO2k9ai5jbGllbnRMZWZ0fHxuLmNsaWVudExlZnR9Y2F0Y2gocCl7bT17bGVmdDowLHRvcDowfX19ZWxzZXttPWsuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9cT1iKGRvY3VtZW50KS5nZXRTY3JvbGwoKTtvPVtyKG0ubGVmdCtxLmxlZnQtaSkscihtLnRvcCtxLnRvcC1sKV19cmV0dXJuIG99LHNldFhZOmZ1bmN0aW9uKGosayl7KGo9RXh0LmZseShqLCJfc2V0WFkiKSkucG9zaXRpb24oKTt2YXIgbD1qLnRyYW5zbGF0ZVBvaW50cyhrKSxpPWouZG9tLnN0eWxlLG07Zm9yKG0gaW4gbCl7aWYoIWlzTmFOKGxbbV0pKXtpW21dPWxbbV0rInB4In19fSxzZXRYOmZ1bmN0aW9uKGosaSl7RXh0LmRvbS5FbGVtZW50LnNldFhZKGosW2ksZmFsc2VdKX0sc2V0WTpmdW5jdGlvbihpLGope0V4dC5kb20uRWxlbWVudC5zZXRYWShpLFtmYWxzZSxqXSl9LHNlcmlhbGl6ZUZvcm06ZnVuY3Rpb24oayl7dmFyIGw9ay5lbGVtZW50c3x8KGRvY3VtZW50LmZvcm1zW2tdfHxFeHQuZ2V0RG9tKGspKS5lbGVtZW50cyx2PWZhbHNlLHU9ZW5jb2RlVVJJQ29tcG9uZW50LHA9IiIsbj1sLmxlbmd0aCxxLGksdCx4LHcscixtLHMsajtmb3Iocj0wO3I8bjtyKyspe3E9bFtyXTtpPXEubmFtZTt0PXEudHlwZTt4PXEub3B0aW9ucztpZighcS5kaXNhYmxlZCYmaSl7aWYoL3NlbGVjdC0ob25lfG11bHRpcGxlKS9pLnRlc3QodCkpe3M9eC5sZW5ndGg7Zm9yKG09MDttPHM7bSsrKXtqPXhbbV07aWYoai5zZWxlY3RlZCl7dz1qLmhhc0F0dHJpYnV0ZT9qLmhhc0F0dHJpYnV0ZSgidmFsdWUiKTpqLmdldEF0dHJpYnV0ZU5vZGUoInZhbHVlIikuc3BlY2lmaWVkO3ArPUV4dC5TdHJpbmcuZm9ybWF0KCJ7MH09ezF9JiIsdShpKSx1KHc/ai52YWx1ZTpqLnRleHQpKX19fWVsc2V7aWYoISgvZmlsZXx1bmRlZmluZWR8cmVzZXR8YnV0dG9uL2kudGVzdCh0KSkpe2lmKCEoL3JhZGlvfGNoZWNrYm94L2kudGVzdCh0KSYmIXEuY2hlY2tlZCkmJiEodD09InN1Ym1pdCImJnYpKXtwKz11KGkpKyI9Iit1KHEudmFsdWUpKyImIjt2PS9zdWJtaXQvaS50ZXN0KHQpfX19fX1yZXR1cm4gcC5zdWJzdHIoMCxwLmxlbmd0aC0xKX19KX0oKSk7RXh0LmRvbS5BYnN0cmFjdEVsZW1lbnQub3ZlcnJpZGUoe2dldEFuY2hvclhZOmZ1bmN0aW9uKGcsayxuKXtnPShnfHwidGwiKS50b0xvd2VyQ2FzZSgpO249bnx8e307dmFyIGo9dGhpcyxhPWouZG9tPT1kb2N1bWVudC5ib2R5fHxqLmRvbT09ZG9jdW1lbnQsYj1uLndpZHRofHxhP3dpbmRvdy5pbm5lcldpZHRoOmouZ2V0V2lkdGgoKSxsPW4uaGVpZ2h0fHxhP3dpbmRvdy5pbm5lckhlaWdodDpqLmdldEhlaWdodCgpLG0sYz1NYXRoLnJvdW5kLGQ9ai5nZXRYWSgpLGk9YT8wOiFrP2RbMF06MCxoPWE/MDohaz9kWzFdOjAsZT17YzpbYyhiKjAuNSksYyhsKjAuNSldLHQ6W2MoYiowLjUpLDBdLGw6WzAsYyhsKjAuNSldLHI6W2IsYyhsKjAuNSldLGI6W2MoYiowLjUpLGxdLHRsOlswLDBdLGJsOlswLGxdLGJyOltiLGxdLHRyOltiLDBdfTttPWVbZ107cmV0dXJuW21bMF0raSxtWzFdK2hdfSxhbGlnblRvUmU6L14oW2Etel0rKS0oW2Etel0rKShcPyk/JC8sZ2V0QWxpZ25Ub1hZOmZ1bmN0aW9uKGUseixpLHMpe3M9ISFzO2U9RXh0LmdldChlKTtpPWl8fFswLDBdO2lmKCF6fHx6PT0iPyIpe3o9InRsLWJsPyJ9ZWxzZXtpZighKC8tLykudGVzdCh6KSYmeiE9PSIiKXt6PSJ0bC0iK3p9fXo9ei50b0xvd2VyQ2FzZSgpO3ZhciB2PXRoaXMsZD16Lm1hdGNoKHRoaXMuYWxpZ25Ub1JlKSxuPXdpbmRvdy5pbm5lcldpZHRoLHU9d2luZG93LmlubmVySGVpZ2h0LGM9IiIsYj0iIixBLHcsbSxsLHEsbyxnLGEsayxqLHIscCxoLHQ7aWYoIWQpe3Rocm93IkVsZW1lbnQuYWxpZ25UbyB3aXRoIGFuIGludmFsaWQgYWxpZ25tZW50ICIren1jPWRbMV07Yj1kWzJdO3Q9ISFkWzNdO0E9di5nZXRBbmNob3JYWShjLHRydWUpO3c9ZS5nZXRBbmNob3JYWShiLHMpO209d1swXS1BWzBdK2lbMF07bD13WzFdLUFbMV0raVsxXTtpZih0KXtyPXYuZ2V0V2lkdGgoKTtwPXYuZ2V0SGVpZ2h0KCk7aD1lLmdldFBhZ2VCb3goKTthPWMuY2hhckF0KDApO2c9Yy5jaGFyQXQoYy5sZW5ndGgtMSk7aj1iLmNoYXJBdCgwKTtrPWIuY2hhckF0KGIubGVuZ3RoLTEpO289KChhPT0idCImJmo9PSJiIil8fChhPT0iYiImJmo9PSJ0IikpO3E9KChnPT0iciImJms9PSJsIil8fChnPT0ibCImJms9PSJyIikpO2lmKG0rcj5uKXttPXE/aC5sZWZ0LXI6bi1yfWlmKG08MCl7bT1xP2gucmlnaHQ6MH1pZihsK3A+dSl7bD1vP2gudG9wLXA6dS1wfWlmKGw8MCl7bD1vP2guYm90dG9tOjB9fXJldHVyblttLGxdfSxnZXRBbmNob3I6ZnVuY3Rpb24oKXt2YXIgYj0odGhpcy4kY2FjaGV8fHRoaXMuZ2V0Q2FjaGUoKSkuZGF0YSxhO2lmKCF0aGlzLmRvbSl7cmV0dXJufWE9Yi5fYW5jaG9yO2lmKCFhKXthPWIuX2FuY2hvcj17fX1yZXR1cm4gYX0sYWRqdXN0Rm9yQ29uc3RyYWludHM6ZnVuY3Rpb24oYyxiKXt2YXIgYT10aGlzLmdldENvbnN0cmFpblZlY3RvcihiLGMpO2lmKGEpe2NbMF0rPWFbMF07Y1sxXSs9YVsxXX1yZXR1cm4gY319KTtFeHQuZG9tLkFic3RyYWN0RWxlbWVudC5hZGRNZXRob2RzKHthcHBlbmRDaGlsZDpmdW5jdGlvbihhKXtyZXR1cm4gRXh0LmdldChhKS5hcHBlbmRUbyh0aGlzKX0sYXBwZW5kVG86ZnVuY3Rpb24oYSl7RXh0LmdldERvbShhKS5hcHBlbmRDaGlsZCh0aGlzLmRvbSk7cmV0dXJuIHRoaXN9LGluc2VydEJlZm9yZTpmdW5jdGlvbihhKXthPUV4dC5nZXREb20oYSk7YS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLmRvbSxhKTtyZXR1cm4gdGhpc30saW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24oYSl7YT1FeHQuZ2V0RG9tKGEpO2EucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5kb20sYS5uZXh0U2libGluZyk7cmV0dXJuIHRoaXN9LGluc2VydEZpcnN0OmZ1bmN0aW9uKGIsYSl7Yj1ifHx7fTtpZihiLm5vZGVUeXBlfHxiLmRvbXx8dHlwZW9mIGI9PSJzdHJpbmciKXtiPUV4dC5nZXREb20oYik7dGhpcy5kb20uaW5zZXJ0QmVmb3JlKGIsdGhpcy5kb20uZmlyc3RDaGlsZCk7cmV0dXJuICFhP0V4dC5nZXQoYik6Yn1lbHNle3JldHVybiB0aGlzLmNyZWF0ZUNoaWxkKGIsdGhpcy5kb20uZmlyc3RDaGlsZCxhKX19LGluc2VydFNpYmxpbmc6ZnVuY3Rpb24oYixnLGope3ZhciBpPXRoaXMsaz0oZ3x8ImJlZm9yZSIpLnRvTG93ZXJDYXNlKCk9PSJhZnRlciIsZCxhLGMsaDtpZihFeHQuaXNBcnJheShiKSl7YT1pO2M9Yi5sZW5ndGg7Zm9yKGg9MDtoPGM7aCsrKXtkPUV4dC5mbHkoYSwiX2ludGVybmFsIikuaW5zZXJ0U2libGluZyhiW2hdLGcsaik7aWYoayl7YT1kfX1yZXR1cm4gZH1iPWJ8fHt9O2lmKGIubm9kZVR5cGV8fGIuZG9tKXtkPWkuZG9tLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKEV4dC5nZXREb20oYiksaz9pLmRvbS5uZXh0U2libGluZzppLmRvbSk7aWYoIWope2Q9RXh0LmdldChkKX19ZWxzZXtpZihrJiYhaS5kb20ubmV4dFNpYmxpbmcpe2Q9RXh0LmNvcmUuRG9tSGVscGVyLmFwcGVuZChpLmRvbS5wYXJlbnROb2RlLGIsIWopfWVsc2V7ZD1FeHQuY29yZS5Eb21IZWxwZXJbaz8iaW5zZXJ0QWZ0ZXIiOiJpbnNlcnRCZWZvcmUiXShpLmRvbSxiLCFqKX19cmV0dXJuIGR9LHJlcGxhY2U6ZnVuY3Rpb24oYSl7YT1FeHQuZ2V0KGEpO3RoaXMuaW5zZXJ0QmVmb3JlKGEpO2EucmVtb3ZlKCk7cmV0dXJuIHRoaXN9LHJlcGxhY2VXaXRoOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoYS5ub2RlVHlwZXx8YS5kb218fHR5cGVvZiBhPT0ic3RyaW5nIil7YT1FeHQuZ2V0KGEpO2IuZG9tLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsYi5kb20pfWVsc2V7YT1FeHQuY29yZS5Eb21IZWxwZXIuaW5zZXJ0QmVmb3JlKGIuZG9tLGEpfWRlbGV0ZSBFeHQuY2FjaGVbYi5pZF07RXh0LnJlbW92ZU5vZGUoYi5kb20pO2IuaWQ9RXh0LmlkKGIuZG9tPWEpO0V4dC5kb20uQWJzdHJhY3RFbGVtZW50LmFkZFRvQ2FjaGUoYi5pc0ZseXdlaWdodD9uZXcgRXh0LmRvbS5BYnN0cmFjdEVsZW1lbnQoYi5kb20pOmIpO3JldHVybiBifSxjcmVhdGVDaGlsZDpmdW5jdGlvbihiLGEsYyl7Yj1ifHx7dGFnOiJkaXYifTtpZihhKXtyZXR1cm4gRXh0LmNvcmUuRG9tSGVscGVyLmluc2VydEJlZm9yZShhLGIsYyE9PXRydWUpfWVsc2V7cmV0dXJuIEV4dC5jb3JlLkRvbUhlbHBlclshdGhpcy5kb20uZmlyc3RDaGlsZD8iaW5zZXJ0Rmlyc3QiOiJhcHBlbmQiXSh0aGlzLmRvbSxiLGMhPT10cnVlKX19LHdyYXA6ZnVuY3Rpb24oYSxiKXt2YXIgZT1FeHQuY29yZS5Eb21IZWxwZXIuaW5zZXJ0QmVmb3JlKHRoaXMuZG9tLGF8fHt0YWc6ImRpdiJ9LCFiKSxjPWUuZG9tfHxlO2MuYXBwZW5kQ2hpbGQodGhpcy5kb20pO3JldHVybiBlfSxpbnNlcnRIdG1sOmZ1bmN0aW9uKGIsYyxhKXt2YXIgZD1FeHQuY29yZS5Eb21IZWxwZXIuaW5zZXJ0SHRtbChiLHRoaXMuZG9tLGMpO3JldHVybiBhP0V4dC5nZXQoZCk6ZH19KTsoZnVuY3Rpb24oKXt2YXIgYT1FeHQuZG9tLkFic3RyYWN0RWxlbWVudDthLm92ZXJyaWRlKHtnZXRYOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLmdldFhZKGIpWzBdfSxnZXRZOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLmdldFhZKGIpWzFdfSxnZXRYWTpmdW5jdGlvbigpe3ZhciBiPXdpbmRvdy53ZWJraXRDb252ZXJ0UG9pbnRGcm9tTm9kZVRvUGFnZSh0aGlzLmRvbSxuZXcgV2ViS2l0UG9pbnQoMCwwKSk7cmV0dXJuW2IueCxiLnldfSxnZXRPZmZzZXRzVG86ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy5nZXRYWSgpLGM9RXh0LmZseShiLCJfaW50ZXJuYWwiKS5nZXRYWSgpO3JldHVybltkWzBdLWNbMF0sZFsxXS1jWzFdXX0sc2V0WDpmdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5zZXRYWShbYix0aGlzLmdldFkoKV0pfSxzZXRZOmZ1bmN0aW9uKGIpe3JldHVybiB0aGlzLnNldFhZKFt0aGlzLmdldFgoKSxiXSl9LHNldExlZnQ6ZnVuY3Rpb24oYil7dGhpcy5zZXRTdHlsZSgibGVmdCIsYS5hZGRVbml0cyhiKSk7cmV0dXJuIHRoaXN9LHNldFRvcDpmdW5jdGlvbihiKXt0aGlzLnNldFN0eWxlKCJ0b3AiLGEuYWRkVW5pdHMoYikpO3JldHVybiB0aGlzfSxzZXRSaWdodDpmdW5jdGlvbihiKXt0aGlzLnNldFN0eWxlKCJyaWdodCIsYS5hZGRVbml0cyhiKSk7cmV0dXJuIHRoaXN9LHNldEJvdHRvbTpmdW5jdGlvbihiKXt0aGlzLnNldFN0eWxlKCJib3R0b20iLGEuYWRkVW5pdHMoYikpO3JldHVybiB0aGlzfSxzZXRYWTpmdW5jdGlvbihnKXt2YXIgYz10aGlzLGUsYixkO2lmKGFyZ3VtZW50cy5sZW5ndGg+MSl7Zz1bZyxhcmd1bWVudHNbMV1dfWU9Yy50cmFuc2xhdGVQb2ludHMoZyk7Yj1jLmRvbS5zdHlsZTtmb3IoZCBpbiBlKXtpZighZS5oYXNPd25Qcm9wZXJ0eShkKSl7Y29udGludWV9aWYoIWlzTmFOKGVbZF0pKXtiW2RdPWVbZF0rInB4In19cmV0dXJuIGN9LGdldExlZnQ6ZnVuY3Rpb24oYil7cmV0dXJuIHBhcnNlSW50KHRoaXMuZ2V0U3R5bGUoImxlZnQiKSwxMCl8fDB9LGdldFJpZ2h0OmZ1bmN0aW9uKGIpe3JldHVybiBwYXJzZUludCh0aGlzLmdldFN0eWxlKCJyaWdodCIpLDEwKXx8MH0sZ2V0VG9wOmZ1bmN0aW9uKGIpe3JldHVybiBwYXJzZUludCh0aGlzLmdldFN0eWxlKCJ0b3AiKSwxMCl8fDB9LGdldEJvdHRvbTpmdW5jdGlvbihiKXtyZXR1cm4gcGFyc2VJbnQodGhpcy5nZXRTdHlsZSgiYm90dG9tIiksMTApfHwwfSx0cmFuc2xhdGVQb2ludHM6ZnVuY3Rpb24oYixpKXtpPWlzTmFOKGJbMV0pP2k6YlsxXTtiPWlzTmFOKGJbMF0pP2I6YlswXTt2YXIgZT10aGlzLGc9ZS5pc1N0eWxlKCJwb3NpdGlvbiIsInJlbGF0aXZlIiksaD1lLmdldFhZKCksYz1wYXJzZUludChlLmdldFN0eWxlKCJsZWZ0IiksMTApLGQ9cGFyc2VJbnQoZS5nZXRTdHlsZSgidG9wIiksMTApO2M9IWlzTmFOKGMpP2M6KGc/MDplLmRvbS5vZmZzZXRMZWZ0KTtkPSFpc05hTihkKT9kOihnPzA6ZS5kb20ub2Zmc2V0VG9wKTtyZXR1cm57bGVmdDooYi1oWzBdK2MpLHRvcDooaS1oWzFdK2QpfX0sc2V0Qm94OmZ1bmN0aW9uKGUpe3ZhciBkPXRoaXMsYz1lLndpZHRoLGI9ZS5oZWlnaHQsaD1lLnRvcCxnPWUubGVmdDtpZihnIT09dW5kZWZpbmVkKXtkLnNldExlZnQoZyl9aWYoaCE9PXVuZGVmaW5lZCl7ZC5zZXRUb3AoaCl9aWYoYyE9PXVuZGVmaW5lZCl7ZC5zZXRXaWR0aChjKX1pZihiIT09dW5kZWZpbmVkKXtkLnNldEhlaWdodChiKX1yZXR1cm4gdGhpc30sZ2V0Qm94OmZ1bmN0aW9uKGksbSl7dmFyIGo9dGhpcyxnPWouZG9tLGQ9Zy5vZmZzZXRXaWR0aCxuPWcub2Zmc2V0SGVpZ2h0LHAsaCxlLGMsbyxrO2lmKCFtKXtwPWouZ2V0WFkoKX1lbHNle2lmKGkpe3A9WzAsMF19ZWxzZXtwPVtwYXJzZUludChqLmdldFN0eWxlKCJsZWZ0IiksMTApfHwwLHBhcnNlSW50KGouZ2V0U3R5bGUoInRvcCIpLDEwKXx8MF19fWlmKCFpKXtoPXt4OnBbMF0seTpwWzFdLDA6cFswXSwxOnBbMV0sd2lkdGg6ZCxoZWlnaHQ6bn19ZWxzZXtlPWouZ2V0Qm9yZGVyV2lkdGguY2FsbChqLCJsIikrai5nZXRQYWRkaW5nLmNhbGwoaiwibCIpO2M9ai5nZXRCb3JkZXJXaWR0aC5jYWxsKGosInIiKStqLmdldFBhZGRpbmcuY2FsbChqLCJyIik7bz1qLmdldEJvcmRlcldpZHRoLmNhbGwoaiwidCIpK2ouZ2V0UGFkZGluZy5jYWxsKGosInQiKTtrPWouZ2V0Qm9yZGVyV2lkdGguY2FsbChqLCJiIikrai5nZXRQYWRkaW5nLmNhbGwoaiwiYiIpO2g9e3g6cFswXStlLHk6cFsxXStvLDA6cFswXStlLDE6cFsxXStvLHdpZHRoOmQtKGUrYyksaGVpZ2h0Om4tKG8rayl9fWgubGVmdD1oLng7aC50b3A9aC55O2gucmlnaHQ9aC54K2gud2lkdGg7aC5ib3R0b209aC55K2guaGVpZ2h0O3JldHVybiBofSxnZXRQYWdlQm94OmZ1bmN0aW9uKGcpe3ZhciBqPXRoaXMsZD1qLmRvbSxtPWQub2Zmc2V0V2lkdGgsaT1kLm9mZnNldEhlaWdodCxvPWouZ2V0WFkoKSxuPW9bMV0sYz1vWzBdK20saz1vWzFdK2ksZT1vWzBdO2lmKCFkKXtyZXR1cm4gbmV3IEV4dC51dGlsLlJlZ2lvbigpfWlmKGcpe3JldHVybiBuZXcgRXh0LnV0aWwuUmVnaW9uKG4sYyxrLGUpfWVsc2V7cmV0dXJue2xlZnQ6ZSx0b3A6bix3aWR0aDptLGhlaWdodDppLHJpZ2h0OmMsYm90dG9tOmt9fX19KX0oKSk7KGZ1bmN0aW9uKCl7dmFyIHE9RXh0LmRvbS5BYnN0cmFjdEVsZW1lbnQsbz1kb2N1bWVudC5kZWZhdWx0VmlldyxuPUV4dC5BcnJheSxtPS9eXHMrfFxzKyQvZyxiPS9cdy9nLHA9L1xzKy8sdD0vXig/OnRyYW5zcGFyZW50fCg/OnJnYmFbKF0oPzpccypcZCtccypbLF0pezN9XHMqMFxzKlspXSkpJC9pLGg9RXh0LnN1cHBvcnRzLkNsYXNzTGlzdCxlPSJwYWRkaW5nIixkPSJtYXJnaW4iLHM9ImJvcmRlciIsaz0iLWxlZnQiLHI9Ii1yaWdodCIsbD0iLXRvcCIsYz0iLWJvdHRvbSIsaT0iLXdpZHRoIixqPXtsOnMraytpLHI6cytyK2ksdDpzK2wraSxiOnMrYytpfSxnPXtsOmUrayxyOmUrcix0OmUrbCxiOmUrY30sYT17bDpkK2sscjpkK3IsdDpkK2wsYjpkK2N9O3Eub3ZlcnJpZGUoe3N0eWxlSG9va3M6e30sYWRkU3R5bGVzOmZ1bmN0aW9uKEIsQSl7dmFyIHc9MCx6PShCfHwiIikubWF0Y2goYikseSx1PXoubGVuZ3RoLHgsdj1bXTtpZih1PT0xKXt3PU1hdGguYWJzKHBhcnNlRmxvYXQodGhpcy5nZXRTdHlsZShBW3pbMF1dKSl8fDApfWVsc2V7aWYodSl7Zm9yKHk9MDt5PHU7eSsrKXt4PXpbeV07di5wdXNoKEFbeF0pfXY9dGhpcy5nZXRTdHlsZSh2KTtmb3IoeT0wO3k8dTt5Kyspe3g9elt5XTt3Kz1NYXRoLmFicyhwYXJzZUZsb2F0KHZbQVt4XV0pfHwwKX19fXJldHVybiB3fSxhZGRDbHM6aD9mdW5jdGlvbih4KXt2YXIgej10aGlzLEI9ei5kb20sQSx5LHcsdSx2O2lmKHR5cGVvZih4KT09InN0cmluZyIpe3g9eC5yZXBsYWNlKG0sIiIpLnNwbGl0KHApfWlmKEImJngmJiEhKHU9eC5sZW5ndGgpKXtpZighQi5jbGFzc05hbWUpe0IuY2xhc3NOYW1lPXguam9pbigiICIpfWVsc2V7QT1CLmNsYXNzTGlzdDtmb3Iodz0wO3c8dTsrK3cpe3Y9eFt3XTtpZih2KXtpZighQS5jb250YWlucyh2KSl7aWYoeSl7eS5wdXNoKHYpfWVsc2V7eT1CLmNsYXNzTmFtZS5yZXBsYWNlKG0sIiIpO3k9eT9beSx2XTpbdl19fX19aWYoeSl7Qi5jbGFzc05hbWU9eS5qb2luKCIgIil9fX1yZXR1cm4gen06ZnVuY3Rpb24odil7dmFyIHc9dGhpcyx5PXcuZG9tLHgsdTtpZih5JiZ2JiZ2Lmxlbmd0aCl7dT1FeHQuRWxlbWVudC5tZXJnZUNsc0xpc3QoeS5jbGFzc05hbWUsdik7aWYodS5jaGFuZ2VkKXt5LmNsYXNzTmFtZT11LmpvaW4oIiAiKX19cmV0dXJuIHd9LHJlbW92ZUNsczpmdW5jdGlvbih3KXt2YXIgeD10aGlzLHk9eC5kb20sdSx2O2lmKHR5cGVvZih3KT09InN0cmluZyIpe3c9dy5yZXBsYWNlKG0sIiIpLnNwbGl0KHApfWlmKHkmJnkuY2xhc3NOYW1lJiZ3JiYhISh1PXcubGVuZ3RoKSl7aWYodT09MSYmaCl7aWYod1swXSl7eS5jbGFzc0xpc3QucmVtb3ZlKHdbMF0pfX1lbHNle3Y9RXh0LkVsZW1lbnQucmVtb3ZlQ2xzKHkuY2xhc3NOYW1lLHcpO2lmKHYuY2hhbmdlZCl7eS5jbGFzc05hbWU9di5qb2luKCIgIil9fX1yZXR1cm4geH0scmFkaW9DbHM6ZnVuY3Rpb24oeSl7dmFyIHo9dGhpcy5kb20ucGFyZW50Tm9kZS5jaGlsZE5vZGVzLHcseCx1O3k9RXh0LmlzQXJyYXkoeSk/eTpbeV07Zm9yKHg9MCx1PXoubGVuZ3RoO3g8dTt4Kyspe3c9elt4XTtpZih3JiZ3Lm5vZGVUeXBlPT0xKXtFeHQuZmx5KHcsIl9pbnRlcm5hbCIpLnJlbW92ZUNscyh5KX19cmV0dXJuIHRoaXMuYWRkQ2xzKHkpfSx0b2dnbGVDbHM6aD9mdW5jdGlvbih1KXt2YXIgdj10aGlzLHc9di5kb207aWYodyl7dT11LnJlcGxhY2UobSwiIik7aWYodSl7dy5jbGFzc0xpc3QudG9nZ2xlKHUpfX1yZXR1cm4gdn06ZnVuY3Rpb24odSl7dmFyIHY9dGhpcztyZXR1cm4gdi5oYXNDbHModSk/di5yZW1vdmVDbHModSk6di5hZGRDbHModSl9LGhhc0NsczpoP2Z1bmN0aW9uKHUpe3ZhciB2PXRoaXMuZG9tO3JldHVybih2JiZ1KT92LmNsYXNzTGlzdC5jb250YWlucyh1KTpmYWxzZX06ZnVuY3Rpb24odSl7dmFyIHY9dGhpcy5kb207cmV0dXJuIHY/dSYmKCIgIit2LmNsYXNzTmFtZSsiICIpLmluZGV4T2YoIiAiK3UrIiAiKSE9LTE6ZmFsc2V9LHJlcGxhY2VDbHM6ZnVuY3Rpb24odix1KXtyZXR1cm4gdGhpcy5yZW1vdmVDbHModikuYWRkQ2xzKHUpfSxpc1N0eWxlOmZ1bmN0aW9uKHUsdil7cmV0dXJuIHRoaXMuZ2V0U3R5bGUodSk9PXZ9LGdldFN0eWxlOmZ1bmN0aW9uKEcsQil7dmFyIEM9dGhpcyx4PUMuZG9tLEo9dHlwZW9mIEchPSJzdHJpbmciLEg9Qy5zdHlsZUhvb2tzLHY9RyxEPXYsQT0xLHosSSxGLEUsdyx1LHk7aWYoSil7Rj17fTt2PURbMF07eT0wO2lmKCEoQT1ELmxlbmd0aCkpe3JldHVybiBGfX1pZigheHx8eC5kb2N1bWVudEVsZW1lbnQpe3JldHVybiBGfHwiIn16PXguc3R5bGU7aWYoQil7dT16fWVsc2V7dT14Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSh4LG51bGwpO2lmKCF1KXtCPXRydWU7dT16fX1kb3tFPUhbdl07aWYoIUUpe0hbdl09RT17bmFtZTpxLm5vcm1hbGl6ZSh2KX19aWYoRS5nZXQpe3c9RS5nZXQoeCxDLEIsdSl9ZWxzZXtJPUUubmFtZTt3PXVbSV19aWYoIUope3JldHVybiB3fUZbdl09dzt2PURbKyt5XX13aGlsZSh5PEEpO3JldHVybiBGfSxnZXRTdHlsZXM6ZnVuY3Rpb24oKXt2YXIgdj1FeHQuQXJyYXkuc2xpY2UoYXJndW1lbnRzKSx1PXYubGVuZ3RoLHc7aWYodSYmdHlwZW9mIHZbdS0xXT09ImJvb2xlYW4iKXt3PXYucG9wKCl9cmV0dXJuIHRoaXMuZ2V0U3R5bGUodix3KX0saXNUcmFuc3BhcmVudDpmdW5jdGlvbih2KXt2YXIgdT10aGlzLmdldFN0eWxlKHYpO3JldHVybiB1P3QudGVzdCh1KTpmYWxzZX0sc2V0U3R5bGU6ZnVuY3Rpb24oQix6KXt2YXIgeD10aGlzLEE9eC5kb20sdT14LnN0eWxlSG9va3Msdz1BLnN0eWxlLHY9Qix5O2lmKHR5cGVvZiB2PT0ic3RyaW5nIil7eT11W3ZdO2lmKCF5KXt1W3ZdPXk9e25hbWU6cS5ub3JtYWxpemUodil9fXo9KHo9PW51bGwpPyIiOno7aWYoeS5zZXQpe3kuc2V0KEEseix4KX1lbHNle3dbeS5uYW1lXT16fWlmKHkuYWZ0ZXJTZXQpe3kuYWZ0ZXJTZXQoQSx6LHgpfX1lbHNle2Zvcih2IGluIEIpe2lmKEIuaGFzT3duUHJvcGVydHkodikpe3k9dVt2XTtpZigheSl7dVt2XT15PXtuYW1lOnEubm9ybWFsaXplKHYpfX16PUJbdl07ej0oej09bnVsbCk/IiI6ejtpZih5LnNldCl7eS5zZXQoQSx6LHgpfWVsc2V7d1t5Lm5hbWVdPXp9aWYoeS5hZnRlclNldCl7eS5hZnRlclNldChBLHoseCl9fX19cmV0dXJuIHh9LGdldEhlaWdodDpmdW5jdGlvbih2KXt2YXIgdz10aGlzLmRvbSx1PXY/KHcuY2xpZW50SGVpZ2h0LXRoaXMuZ2V0UGFkZGluZygidGIiKSk6dy5vZmZzZXRIZWlnaHQ7cmV0dXJuIHU+MD91OjB9LGdldFdpZHRoOmZ1bmN0aW9uKHUpe3ZhciB3PXRoaXMuZG9tLHY9dT8ody5jbGllbnRXaWR0aC10aGlzLmdldFBhZGRpbmcoImxyIikpOncub2Zmc2V0V2lkdGg7cmV0dXJuIHY+MD92OjB9LHNldFdpZHRoOmZ1bmN0aW9uKHUpe3ZhciB2PXRoaXM7di5kb20uc3R5bGUud2lkdGg9cS5hZGRVbml0cyh1KTtyZXR1cm4gdn0sc2V0SGVpZ2h0OmZ1bmN0aW9uKHUpe3ZhciB2PXRoaXM7di5kb20uc3R5bGUuaGVpZ2h0PXEuYWRkVW5pdHModSk7cmV0dXJuIHZ9LGdldEJvcmRlcldpZHRoOmZ1bmN0aW9uKHUpe3JldHVybiB0aGlzLmFkZFN0eWxlcyh1LGopfSxnZXRQYWRkaW5nOmZ1bmN0aW9uKHUpe3JldHVybiB0aGlzLmFkZFN0eWxlcyh1LGcpfSxtYXJnaW5zOmEsYXBwbHlTdHlsZXM6ZnVuY3Rpb24odyl7aWYodyl7dmFyIHYsdSx4PXRoaXMuZG9tO2lmKHR5cGVvZiB3PT0iZnVuY3Rpb24iKXt3PXcuY2FsbCgpfWlmKHR5cGVvZiB3PT0ic3RyaW5nIil7dz1FeHQudXRpbC5Gb3JtYXQudHJpbSh3KS5zcGxpdCgvXHMqKD86Onw7KVxzKi8pO2Zvcih2PTAsdT13Lmxlbmd0aDt2PHU7KXt4LnN0eWxlW3Eubm9ybWFsaXplKHdbdisrXSldPXdbdisrXX19ZWxzZXtpZih0eXBlb2Ygdz09Im9iamVjdCIpe3RoaXMuc2V0U3R5bGUodyl9fX19LHNldFNpemU6ZnVuY3Rpb24odyx1KXt2YXIgeD10aGlzLHY9eC5kb20uc3R5bGU7aWYoRXh0LmlzT2JqZWN0KHcpKXt1PXcuaGVpZ2h0O3c9dy53aWR0aH12LndpZHRoPXEuYWRkVW5pdHModyk7di5oZWlnaHQ9cS5hZGRVbml0cyh1KTtyZXR1cm4geH0sZ2V0Vmlld1NpemU6ZnVuY3Rpb24oKXt2YXIgdT1kb2N1bWVudCx2PXRoaXMuZG9tO2lmKHY9PXV8fHY9PXUuYm9keSl7cmV0dXJue3dpZHRoOnEuZ2V0Vmlld3BvcnRXaWR0aCgpLGhlaWdodDpxLmdldFZpZXdwb3J0SGVpZ2h0KCl9fWVsc2V7cmV0dXJue3dpZHRoOnYuY2xpZW50V2lkdGgsaGVpZ2h0OnYuY2xpZW50SGVpZ2h0fX19LGdldFNpemU6ZnVuY3Rpb24odil7dmFyIHU9dGhpcy5kb207cmV0dXJue3dpZHRoOk1hdGgubWF4KDAsdj8odS5jbGllbnRXaWR0aC10aGlzLmdldFBhZGRpbmcoImxyIikpOnUub2Zmc2V0V2lkdGgpLGhlaWdodDpNYXRoLm1heCgwLHY/KHUuY2xpZW50SGVpZ2h0LXRoaXMuZ2V0UGFkZGluZygidGIiKSk6dS5vZmZzZXRIZWlnaHQpfX0scmVwYWludDpmdW5jdGlvbigpe3ZhciB1PXRoaXMuZG9tO3RoaXMuYWRkQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJyZXBhaW50Iik7c2V0VGltZW91dChmdW5jdGlvbigpe0V4dC5mbHkodSkucmVtb3ZlQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJyZXBhaW50Iil9LDEpO3JldHVybiB0aGlzfSxnZXRNYXJnaW46ZnVuY3Rpb24odil7dmFyIHc9dGhpcyx5PXt0OiJ0b3AiLGw6ImxlZnQiLHI6InJpZ2h0IixiOiJib3R0b20ifSx1LHoseDtpZighdil7eD1bXTtmb3IodSBpbiB3Lm1hcmdpbnMpe2lmKHcubWFyZ2lucy5oYXNPd25Qcm9wZXJ0eSh1KSl7eC5wdXNoKHcubWFyZ2luc1t1XSl9fXo9dy5nZXRTdHlsZSh4KTtpZih6JiZ0eXBlb2Ygej09Im9iamVjdCIpe2Zvcih1IGluIHcubWFyZ2lucyl7aWYody5tYXJnaW5zLmhhc093blByb3BlcnR5KHUpKXt6W3lbdV1dPXBhcnNlRmxvYXQoelt3Lm1hcmdpbnNbdV1dKXx8MH19fXJldHVybiB6fWVsc2V7cmV0dXJuIHcuYWRkU3R5bGVzLmNhbGwodyx2LHcubWFyZ2lucyl9fSxtYXNrOmZ1bmN0aW9uKHYseixEKXt2YXIgQT10aGlzLHc9QS5kb20seD0oQS4kY2FjaGV8fEEuZ2V0Q2FjaGUoKSkuZGF0YSx1PXgubWFzayxFLEMsQj0iIix5PUV4dC5iYXNlQ1NTUHJlZml4O0EuYWRkQ2xzKHkrIm1hc2tlZCIpO2lmKEEuZ2V0U3R5bGUoInBvc2l0aW9uIik9PSJzdGF0aWMiKXtBLmFkZENscyh5KyJtYXNrZWQtcmVsYXRpdmUiKX1pZih1KXt1LnJlbW92ZSgpfWlmKHomJnR5cGVvZiB6PT0ic3RyaW5nIil7Qj0iICIren1lbHNle0I9IiAiK3krIm1hc2stZ3JheSJ9RT1BLmNyZWF0ZUNoaWxkKHtjbHM6eSsibWFzayIrKChEIT09ZmFsc2UpPyIiOigiICIreSsibWFzay1ncmF5IikpLGh0bWw6dj8oJzxkaXYgY2xhc3M9IicrKHp8fCh5KyJtYXNrLW1lc3NhZ2UiKSkrJyI+Jyt2KyI8L2Rpdj4iKToiIn0pO0M9QS5nZXRTaXplKCk7eC5tYXNrPUU7aWYodz09PWRvY3VtZW50LmJvZHkpe0MuaGVpZ2h0PXdpbmRvdy5pbm5lckhlaWdodDtpZihBLm9yaWVudGF0aW9uSGFuZGxlcil7RXh0LkV2ZW50TWFuYWdlci51bk9yaWVudGF0aW9uQ2hhbmdlKEEub3JpZW50YXRpb25IYW5kbGVyLEEpfUEub3JpZW50YXRpb25IYW5kbGVyPWZ1bmN0aW9uKCl7Qz1BLmdldFNpemUoKTtDLmhlaWdodD13aW5kb3cuaW5uZXJIZWlnaHQ7RS5zZXRTaXplKEMpfTtFeHQuRXZlbnRNYW5hZ2VyLm9uT3JpZW50YXRpb25DaGFuZ2UoQS5vcmllbnRhdGlvbkhhbmRsZXIsQSl9RS5zZXRTaXplKEMpO2lmKEV4dC5pcy5pUGFkKXtFeHQucmVwYWludCgpfX0sdW5tYXNrOmZ1bmN0aW9uKCl7dmFyIHY9dGhpcyx4PSh2LiRjYWNoZXx8di5nZXRDYWNoZSgpKS5kYXRhLHU9eC5tYXNrLHc9RXh0LmJhc2VDU1NQcmVmaXg7aWYodSl7dS5yZW1vdmUoKTtkZWxldGUgeC5tYXNrfXYucmVtb3ZlQ2xzKFt3KyJtYXNrZWQiLHcrIm1hc2tlZC1yZWxhdGl2ZSJdKTtpZih2LmRvbT09PWRvY3VtZW50LmJvZHkpe0V4dC5FdmVudE1hbmFnZXIudW5PcmllbnRhdGlvbkNoYW5nZSh2Lm9yaWVudGF0aW9uSGFuZGxlcix2KTtkZWxldGUgdi5vcmllbnRhdGlvbkhhbmRsZXJ9fX0pO3EucG9wdWxhdGVTdHlsZU1hcD1mdW5jdGlvbihCLHUpe3ZhciBBPVsibWFyZ2luLSIsInBhZGRpbmctIiwiYm9yZGVyLXdpZHRoLSJdLHo9WyJiZWZvcmUiLCJhZnRlciJdLHcseSx2LHg7Zm9yKHc9QS5sZW5ndGg7dy0tOyl7Zm9yKHg9Mjt4LS07KXt5PUFbd10relt4XTtCW3Eubm9ybWFsaXplKHkpXT1CW3ldPXtuYW1lOnEubm9ybWFsaXplKEFbd10rdVt4XSl9fX19O0V4dC5vblJlYWR5KGZ1bmN0aW9uKCl7dmFyIEM9RXh0LnN1cHBvcnRzLHUsQSx5LHYsQjtmdW5jdGlvbiB6KEgsRSxHLEQpe3ZhciBGPURbdGhpcy5uYW1lXXx8IiI7cmV0dXJuIHQudGVzdChGKT8idHJhbnNwYXJlbnQiOkZ9ZnVuY3Rpb24geChKLEcsSSxGKXt2YXIgRD1GLm1hcmdpblJpZ2h0LEUsSDtpZihEIT0iMHB4Iil7RT1KLnN0eWxlO0g9RS5kaXNwbGF5O0UuZGlzcGxheT0iaW5saW5lLWJsb2NrIjtEPShJP0Y6Si5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoSixudWxsKSkubWFyZ2luUmlnaHQ7RS5kaXNwbGF5PUh9cmV0dXJuIER9ZnVuY3Rpb24gdyhLLEgsSixHKXt2YXIgRD1HLm1hcmdpblJpZ2h0LEYsRSxJO2lmKEQhPSIwcHgiKXtGPUsuc3R5bGU7RT1xLmdldFJpZ2h0TWFyZ2luRml4Q2xlYW5lcihLKTtJPUYuZGlzcGxheTtGLmRpc3BsYXk9ImlubGluZS1ibG9jayI7RD0oSj9HOksub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKEssIiIpKS5tYXJnaW5SaWdodDtGLmRpc3BsYXk9STtFKCl9cmV0dXJuIER9dT1xLnByb3RvdHlwZS5zdHlsZUhvb2tzO3EucG9wdWxhdGVTdHlsZU1hcCh1LFsibGVmdCIsInJpZ2h0Il0pO2lmKEMuaW5pdCl7Qy5pbml0KCl9aWYoIUMuUmlnaHRNYXJnaW4pe3UubWFyZ2luUmlnaHQ9dVsibWFyZ2luLXJpZ2h0Il09e25hbWU6Im1hcmdpblJpZ2h0IixnZXQ6KEMuRGlzcGxheUNoYW5nZUlucHV0U2VsZWN0aW9uQnVnfHxDLkRpc3BsYXlDaGFuZ2VUZXh0QXJlYVNlbGVjdGlvbkJ1Zyk/dzp4fX1pZighQy5UcmFuc3BhcmVudENvbG9yKXtBPVsiYmFja2dyb3VuZC1jb2xvciIsImJvcmRlci1jb2xvciIsImNvbG9yIiwib3V0bGluZS1jb2xvciJdO2Zvcih5PUEubGVuZ3RoO3ktLTspe3Y9QVt5XTtCPXEubm9ybWFsaXplKHYpO3Vbdl09dVtCXT17bmFtZTpCLGdldDp6fX19fSl9KCkpO0V4dC5kb20uQWJzdHJhY3RFbGVtZW50Lm92ZXJyaWRlKHtmaW5kUGFyZW50OmZ1bmN0aW9uKGgsYixhKXt2YXIgZT10aGlzLmRvbSxjPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxnPTAsZDtiPWJ8fDUwO2lmKGlzTmFOKGIpKXtkPUV4dC5nZXREb20oYik7Yj1OdW1iZXIuTUFYX1ZBTFVFfXdoaWxlKGUmJmUubm9kZVR5cGU9PTEmJmc8YiYmZSE9YyYmZSE9ZCl7aWYoRXh0LkRvbVF1ZXJ5LmlzKGUsaCkpe3JldHVybiBhP0V4dC5nZXQoZSk6ZX1nKys7ZT1lLnBhcmVudE5vZGV9cmV0dXJuIG51bGx9LGZpbmRQYXJlbnROb2RlOmZ1bmN0aW9uKGQsYixhKXt2YXIgYz1FeHQuZmx5KHRoaXMuZG9tLnBhcmVudE5vZGUsIl9pbnRlcm5hbCIpO3JldHVybiBjP2MuZmluZFBhcmVudChkLGIsYSk6bnVsbH0sdXA6ZnVuY3Rpb24oYixhKXtyZXR1cm4gdGhpcy5maW5kUGFyZW50Tm9kZShiLGEsdHJ1ZSl9LHNlbGVjdDpmdW5jdGlvbihhLGIpe3JldHVybiBFeHQuZG9tLkVsZW1lbnQuc2VsZWN0KGEsdGhpcy5kb20sYil9LHF1ZXJ5OmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuRG9tUXVlcnkuc2VsZWN0KGEsdGhpcy5kb20pfSxkb3duOmZ1bmN0aW9uKGEsYil7dmFyIGM9RXh0LkRvbVF1ZXJ5LnNlbGVjdE5vZGUoYSx0aGlzLmRvbSk7cmV0dXJuIGI/YzpFeHQuZ2V0KGMpfSxjaGlsZDpmdW5jdGlvbihhLGIpe3ZhciBkLGM9dGhpcyxlO2U9RXh0LmlkKGMuZG9tKTtlPWUucmVwbGFjZSgvW1wuOl0vZywiXFwkMCIpO2Q9RXh0LkRvbVF1ZXJ5LnNlbGVjdE5vZGUoIiMiK2UrIiA+ICIrYSxjLmRvbSk7cmV0dXJuIGI/ZDpFeHQuZ2V0KGQpfSxwYXJlbnQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tYXRjaE5vZGUoInBhcmVudE5vZGUiLCJwYXJlbnROb2RlIixhLGIpfSxuZXh0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubWF0Y2hOb2RlKCJuZXh0U2libGluZyIsIm5leHRTaWJsaW5nIixhLGIpfSxwcmV2OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubWF0Y2hOb2RlKCJwcmV2aW91c1NpYmxpbmciLCJwcmV2aW91c1NpYmxpbmciLGEsYil9LGZpcnN0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMubWF0Y2hOb2RlKCJuZXh0U2libGluZyIsImZpcnN0Q2hpbGQiLGEsYil9LGxhc3Q6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tYXRjaE5vZGUoInByZXZpb3VzU2libGluZyIsImxhc3RDaGlsZCIsYSxiKX0sbWF0Y2hOb2RlOmZ1bmN0aW9uKGIsZSxhLGMpe2lmKCF0aGlzLmRvbSl7cmV0dXJuIG51bGx9dmFyIGQ9dGhpcy5kb21bZV07d2hpbGUoZCl7aWYoZC5ub2RlVHlwZT09MSYmKCFhfHxFeHQuRG9tUXVlcnkuaXMoZCxhKSkpe3JldHVybiAhYz9FeHQuZ2V0KGQpOmR9ZD1kW2JdfXJldHVybiBudWxsfSxpc0FuY2VzdG9yOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNlbGYuaXNBbmNlc3Rvci5jYWxsKHRoaXMuc2VsZix0aGlzLmRvbSxhKX19KTsoZnVuY3Rpb24oKXt2YXIgYj0iYWZ0ZXJiZWdpbiIsaT0iYWZ0ZXJlbmQiLGE9ImJlZm9yZWJlZ2luIixvPSJiZWZvcmVlbmQiLGw9Ijx0YWJsZT4iLGg9IjwvdGFibGU+IixjPWwrIjx0Ym9keT4iLG49IjwvdGJvZHk+IitoLGs9YysiPHRyPiIsZT0iPC90cj4iK24scD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxtPVsiQmVmb3JlQmVnaW4iLCJwcmV2aW91c1NpYmxpbmciXSxqPVsiQWZ0ZXJFbmQiLCJuZXh0U2libGluZyJdLGQ9e2JlZm9yZWJlZ2luOm0sYWZ0ZXJlbmQ6an0sZz17YmVmb3JlYmVnaW46bSxhZnRlcmVuZDpqLGFmdGVyYmVnaW46WyJBZnRlckJlZ2luIiwiZmlyc3RDaGlsZCJdLGJlZm9yZWVuZDpbIkJlZm9yZUVuZCIsImxhc3RDaGlsZCJdfTtFeHQuZGVmaW5lKCJFeHQuZG9tLkhlbHBlciIse2V4dGVuZDoiRXh0LmRvbS5BYnN0cmFjdEhlbHBlciIsdGFibGVSZTovXnRhYmxlfHRib2R5fHRyfHRkJC9pLHRhYmxlRWxSZTovdGR8dHJ8dGJvZHkvaSx1c2VEb206ZmFsc2UsY3JlYXRlRG9tOmZ1bmN0aW9uKHEsdyl7dmFyIHIsej1kb2N1bWVudCx1LHgscyx5LHYsdDtpZihFeHQuaXNBcnJheShxKSl7cj16LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtmb3Iodj0wLHQ9cS5sZW5ndGg7djx0O3YrKyl7dGhpcy5jcmVhdGVEb20ocVt2XSxyKX19ZWxzZXtpZih0eXBlb2YgcT09InN0cmluZyIpe3I9ei5jcmVhdGVUZXh0Tm9kZShxKX1lbHNle3I9ei5jcmVhdGVFbGVtZW50KHEudGFnfHwiZGl2Iik7dT0hIXIuc2V0QXR0cmlidXRlO2Zvcih4IGluIHEpe2lmKCF0aGlzLmNvbmZSZS50ZXN0KHgpKXtzPXFbeF07aWYoeD09ImNscyIpe3IuY2xhc3NOYW1lPXN9ZWxzZXtpZih1KXtyLnNldEF0dHJpYnV0ZSh4LHMpfWVsc2V7clt4XT1zfX19fUV4dC5Eb21IZWxwZXIuYXBwbHlTdHlsZXMocixxLnN0eWxlKTtpZigoeT1xLmNoaWxkcmVufHxxLmNuKSl7dGhpcy5jcmVhdGVEb20oeSxyKX1lbHNle2lmKHEuaHRtbCl7ci5pbm5lckhUTUw9cS5odG1sfX19fWlmKHcpe3cuYXBwZW5kQ2hpbGQocil9cmV0dXJuIHJ9LGllVGFibGU6ZnVuY3Rpb24odixxLHcsdSl7cC5pbm5lckhUTUw9W3Esdyx1XS5qb2luKCIiKTt2YXIgcj0tMSx0PXAsczt3aGlsZSgrK3I8dil7dD10LmZpcnN0Q2hpbGR9cz10Lm5leHRTaWJsaW5nO2lmKHMpe3Q9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO3doaWxlKHMpe3QuYXBwZW5kQ2hpbGQocyk7cz1zLm5leHRTaWJsaW5nfX1yZXR1cm4gdH0saW5zZXJ0SW50b1RhYmxlOmZ1bmN0aW9uKHoscyxyLHQpe3ZhciBxLHcsdj1zPT1hLHk9cz09Yix1PXM9PW8seD1zPT1pO2lmKHo9PSJ0ZCImJih5fHx1KXx8IXRoaXMudGFibGVFbFJlLnRlc3QoeikmJih2fHx4KSl7cmV0dXJuIG51bGx9dz12P3I6eD9yLm5leHRTaWJsaW5nOnk/ci5maXJzdENoaWxkOm51bGw7aWYodnx8eCl7cj1yLnBhcmVudE5vZGV9aWYoej09InRkInx8KHo9PSJ0ciImJih1fHx5KSkpe3E9dGhpcy5pZVRhYmxlKDQsayx0LGUpfWVsc2V7aWYoKHo9PSJ0Ym9keSImJih1fHx5KSl8fCh6PT0idHIiJiYodnx8eCkpKXtxPXRoaXMuaWVUYWJsZSgzLGMsdCxuKX1lbHNle3E9dGhpcy5pZVRhYmxlKDIsbCx0LGgpfX1yLmluc2VydEJlZm9yZShxLHcpO3JldHVybiBxfSxjcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQ6ZnVuY3Rpb24ocil7dmFyIHE9ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLHMsdDtwLmlubmVySFRNTD1yO3Q9cC5jaGlsZE5vZGVzO3M9dC5sZW5ndGg7d2hpbGUocy0tKXtxLmFwcGVuZENoaWxkKHRbMF0pfXJldHVybiBxfSxhcHBseVN0eWxlczpmdW5jdGlvbihxLHIpe2lmKHIpe3E9RXh0LmZseShxKTtpZih0eXBlb2Ygcj09ImZ1bmN0aW9uIil7cj1yLmNhbGwoKX1pZih0eXBlb2Ygcj09InN0cmluZyIpe3I9RXh0LmRvbS5FbGVtZW50LnBhcnNlU3R5bGVzKHIpfWlmKHR5cGVvZiByPT0ib2JqZWN0Iil7cS5zZXRTdHlsZShyKX19fSxjcmVhdGVIdG1sOmZ1bmN0aW9uKHEpe3JldHVybiB0aGlzLm1hcmt1cChxKX0sZG9JbnNlcnQ6ZnVuY3Rpb24odCx2LHUsdyxzLHEpe3Q9dC5kb218fEV4dC5nZXREb20odCk7dmFyIHI7aWYodGhpcy51c2VEb20pe3I9dGhpcy5jcmVhdGVEb20odixudWxsKTtpZihxKXt0LmFwcGVuZENoaWxkKHIpfWVsc2V7KHM9PSJmaXJzdENoaWxkIj90OnQucGFyZW50Tm9kZSkuaW5zZXJ0QmVmb3JlKHIsdFtzXXx8dCl9fWVsc2V7cj10aGlzLmluc2VydEh0bWwodyx0LHRoaXMubWFya3VwKHYpKX1yZXR1cm4gdT9FeHQuZ2V0KHIsdHJ1ZSk6cn0sb3ZlcndyaXRlOmZ1bmN0aW9uKHMscix0KXt2YXIgcTtzPUV4dC5nZXREb20ocyk7cj10aGlzLm1hcmt1cChyKTtpZihFeHQuaXNJRSYmdGhpcy50YWJsZVJlLnRlc3Qocy50YWdOYW1lKSl7d2hpbGUocy5maXJzdENoaWxkKXtzLnJlbW92ZUNoaWxkKHMuZmlyc3RDaGlsZCl9aWYocil7cT10aGlzLmluc2VydEh0bWwoImFmdGVyYmVnaW4iLHMscik7cmV0dXJuIHQ/RXh0LmdldChxKTpxfXJldHVybiBudWxsfXMuaW5uZXJIVE1MPXI7cmV0dXJuIHQ/RXh0LmdldChzLmZpcnN0Q2hpbGQpOnMuZmlyc3RDaGlsZH0saW5zZXJ0SHRtbDpmdW5jdGlvbihzLHYsdCl7dmFyIHgscix1LHEsdztzPXMudG9Mb3dlckNhc2UoKTtpZih2Lmluc2VydEFkamFjZW50SFRNTCl7aWYoRXh0LmlzSUUmJnRoaXMudGFibGVSZS50ZXN0KHYudGFnTmFtZSkmJih3PXRoaXMuaW5zZXJ0SW50b1RhYmxlKHYudGFnTmFtZS50b0xvd2VyQ2FzZSgpLHMsdix0KSkpe3JldHVybiB3fWlmKCh4PWdbc10pKXt2Lmluc2VydEFkamFjZW50SFRNTCh4WzBdLHQpO3JldHVybiB2W3hbMV1dfX1lbHNle2lmKHYubm9kZVR5cGU9PT0zKXtzPXM9PT0iYWZ0ZXJiZWdpbiI/ImJlZm9yZWJlZ2luIjpzO3M9cz09PSJiZWZvcmVlbmQiPyJhZnRlcmVuZCI6c31yPUV4dC5zdXBwb3J0cy5DcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQ/di5vd25lckRvY3VtZW50LmNyZWF0ZVJhbmdlKCk6dW5kZWZpbmVkO3E9InNldFN0YXJ0IisodGhpcy5lbmRSZS50ZXN0KHMpPyJBZnRlciI6IkJlZm9yZSIpO2lmKGRbc10pe2lmKHIpe3JbcV0odik7dz1yLmNyZWF0ZUNvbnRleHR1YWxGcmFnbWVudCh0KX1lbHNle3c9dGhpcy5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQodCl9di5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh3LHM9PWE/djp2Lm5leHRTaWJsaW5nKTtyZXR1cm4gdlsocz09YT8icHJldmlvdXMiOiJuZXh0IikrIlNpYmxpbmciXX1lbHNle3U9KHM9PWI/ImZpcnN0IjoibGFzdCIpKyJDaGlsZCI7aWYodi5maXJzdENoaWxkKXtpZihyKXtyW3FdKHZbdV0pO3c9ci5jcmVhdGVDb250ZXh0dWFsRnJhZ21lbnQodCl9ZWxzZXt3PXRoaXMuY3JlYXRlQ29udGV4dHVhbEZyYWdtZW50KHQpfWlmKHM9PWIpe3YuaW5zZXJ0QmVmb3JlKHcsdi5maXJzdENoaWxkKX1lbHNle3YuYXBwZW5kQ2hpbGQodyl9fWVsc2V7di5pbm5lckhUTUw9dH1yZXR1cm4gdlt1XX19fSxjcmVhdGVUZW1wbGF0ZTpmdW5jdGlvbihyKXt2YXIgcT10aGlzLm1hcmt1cChyKTtyZXR1cm4gbmV3IEV4dC5UZW1wbGF0ZShxKX19LGZ1bmN0aW9uKCl7RXh0Lm5zKCJFeHQuY29yZSIpO0V4dC5Eb21IZWxwZXI9RXh0LmNvcmUuRG9tSGVscGVyPW5ldyB0aGlzfSl9KCkpO0V4dC5ucygiRXh0LmNvcmUiKTtFeHQuZG9tLlF1ZXJ5PUV4dC5jb3JlLkRvbVF1ZXJ5PUV4dC5Eb21RdWVyeT0oZnVuY3Rpb24oKXt2YXIgY2FjaGU9e30sc2ltcGxlQ2FjaGU9e30sdmFsdWVDYWNoZT17fSxub25TcGFjZT0vXFMvLHRyaW1SZT0vXlxzK3xccyskL2csdHBsUmU9L1x7KFxkKylcfS9nLG1vZGVSZT0vXihccz9bXC8+K35dXHM/fFxzfCQpLyx0YWdUb2tlblJlPS9eKCMpPyhbXHdcLVwqXFxdKykvLG50aFJlPS8oXGQqKW5cKz8oXGQqKS8sbnRoUmUyPS9cRC8sc3RhcnRJZFJlPS9eXHMqXCMvLGlzSUU9d2luZG93LkFjdGl2ZVhPYmplY3Q/dHJ1ZTpmYWxzZSxrZXk9MzA4MDMsbG9uZ0hleD0vXFwoWzAtOWEtZkEtRl17Nn0pL2csc2hvcnRIZXg9L1xcKFswLTlhLWZBLUZdezEsNn0pXHN7MCwxfS9nLG5vbkhleD0vXFwoW14wLTlhLWZBLUZdezF9KS9nLGVzY2FwZXM9L1xcL2csbnVtLGhhc0VzY2FwZXMsbG9uZ0hleFRvQ2hhcj1mdW5jdGlvbigkMCwkMSl7cmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoJDEsMTYpKX0sc2hvcnRUb0xvbmdIZXg9ZnVuY3Rpb24oJDAsJDEpe3doaWxlKCQxLmxlbmd0aDw2KXskMT0iMCIrJDF9cmV0dXJuIlxcIiskMX0sY2hhclRvTG9uZ0hleD1mdW5jdGlvbigkMCwkMSl7bnVtPSQxLmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpO2lmKG51bS5sZW5ndGg9PT0xKXtudW09IjAiK251bX1yZXR1cm4iXFwwMDAwIitudW19LHVuZXNjYXBlQ3NzU2VsZWN0b3I9ZnVuY3Rpb24oc2VsZWN0b3Ipe3JldHVybihoYXNFc2NhcGVzKT9zZWxlY3Rvci5yZXBsYWNlKGxvbmdIZXgsbG9uZ0hleFRvQ2hhcik6c2VsZWN0b3J9O2V2YWwoInZhciBiYXRjaCA9IDMwODAzOyIpO2Z1bmN0aW9uIGNoaWxkKHBhcmVudCxpbmRleCl7dmFyIGk9MCxuPXBhcmVudC5maXJzdENoaWxkO3doaWxlKG4pe2lmKG4ubm9kZVR5cGU9PTEpe2lmKCsraT09aW5kZXgpe3JldHVybiBufX1uPW4ubmV4dFNpYmxpbmd9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbmV4dChuKXt3aGlsZSgobj1uLm5leHRTaWJsaW5nKSYmbi5ub2RlVHlwZSE9MSl7fXJldHVybiBufWZ1bmN0aW9uIHByZXYobil7d2hpbGUoKG49bi5wcmV2aW91c1NpYmxpbmcpJiZuLm5vZGVUeXBlIT0xKXt9cmV0dXJuIG59ZnVuY3Rpb24gY2hpbGRyZW4ocGFyZW50KXt2YXIgbj1wYXJlbnQuZmlyc3RDaGlsZCxub2RlSW5kZXg9LTEsbmV4dE5vZGU7d2hpbGUobil7bmV4dE5vZGU9bi5uZXh0U2libGluZztpZihuLm5vZGVUeXBlPT0zJiYhbm9uU3BhY2UudGVzdChuLm5vZGVWYWx1ZSkpe3BhcmVudC5yZW1vdmVDaGlsZChuKX1lbHNle24ubm9kZUluZGV4PSsrbm9kZUluZGV4fW49bmV4dE5vZGV9cmV0dXJuIHRoaXN9ZnVuY3Rpb24gYnlDbGFzc05hbWUobm9kZVNldCxjbHMpe2Nscz11bmVzY2FwZUNzc1NlbGVjdG9yKGNscyk7aWYoIWNscyl7cmV0dXJuIG5vZGVTZXR9dmFyIHJlc3VsdD1bXSxyaT0tMSxpLGNpO2ZvcihpPTAsY2k7Y2k9bm9kZVNldFtpXTtpKyspe2lmKCgiICIrY2kuY2xhc3NOYW1lKyIgIikuaW5kZXhPZihjbHMpIT0tMSl7cmVzdWx0WysrcmldPWNpfX1yZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGF0dHJWYWx1ZShuLGF0dHIpe2lmKCFuLnRhZ05hbWUmJnR5cGVvZiBuLmxlbmd0aCE9InVuZGVmaW5lZCIpe249blswXX1pZighbil7cmV0dXJuIG51bGx9aWYoYXR0cj09ImZvciIpe3JldHVybiBuLmh0bWxGb3J9aWYoYXR0cj09ImNsYXNzInx8YXR0cj09ImNsYXNzTmFtZSIpe3JldHVybiBuLmNsYXNzTmFtZX1yZXR1cm4gbi5nZXRBdHRyaWJ1dGUoYXR0cil8fG5bYXR0cl19ZnVuY3Rpb24gZ2V0Tm9kZXMobnMsbW9kZSx0YWdOYW1lKXt2YXIgcmVzdWx0PVtdLHJpPS0xLGNzLGksbmksaixjaSxjbix1dGFnLG4sY2o7aWYoIW5zKXtyZXR1cm4gcmVzdWx0fXRhZ05hbWU9dGFnTmFtZXx8IioiO2lmKHR5cGVvZiBucy5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCIpe25zPVtuc119aWYoIW1vZGUpe2ZvcihpPTAsbmk7bmk9bnNbaV07aSsrKXtjcz1uaS5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKTtmb3Ioaj0wLGNpO2NpPWNzW2pdO2orKyl7cmVzdWx0WysrcmldPWNpfX19ZWxzZXtpZihtb2RlPT0iLyJ8fG1vZGU9PSI+Iil7dXRhZz10YWdOYW1lLnRvVXBwZXJDYXNlKCk7Zm9yKGk9MCxuaSxjbjtuaT1uc1tpXTtpKyspe2NuPW5pLmNoaWxkTm9kZXM7Zm9yKGo9MCxjajtjaj1jbltqXTtqKyspe2lmKGNqLm5vZGVOYW1lPT11dGFnfHxjai5ub2RlTmFtZT09dGFnTmFtZXx8dGFnTmFtZT09IioiKXtyZXN1bHRbKytyaV09Y2p9fX19ZWxzZXtpZihtb2RlPT0iKyIpe3V0YWc9dGFnTmFtZS50b1VwcGVyQ2FzZSgpO2ZvcihpPTAsbjtuPW5zW2ldO2krKyl7d2hpbGUoKG49bi5uZXh0U2libGluZykmJm4ubm9kZVR5cGUhPTEpe31pZihuJiYobi5ub2RlTmFtZT09dXRhZ3x8bi5ub2RlTmFtZT09dGFnTmFtZXx8dGFnTmFtZT09IioiKSl7cmVzdWx0WysrcmldPW59fX1lbHNle2lmKG1vZGU9PSJ+Iil7dXRhZz10YWdOYW1lLnRvVXBwZXJDYXNlKCk7Zm9yKGk9MCxuO249bnNbaV07aSsrKXt3aGlsZSgobj1uLm5leHRTaWJsaW5nKSl7aWYobi5ub2RlTmFtZT09dXRhZ3x8bi5ub2RlTmFtZT09dGFnTmFtZXx8dGFnTmFtZT09IioiKXtyZXN1bHRbKytyaV09bn19fX19fX1yZXR1cm4gcmVzdWx0fWZ1bmN0aW9uIGNvbmNhdChhLGIpe2lmKGIuc2xpY2Upe3JldHVybiBhLmNvbmNhdChiKX1mb3IodmFyIGk9MCxsPWIubGVuZ3RoO2k8bDtpKyspe2FbYS5sZW5ndGhdPWJbaV19cmV0dXJuIGF9ZnVuY3Rpb24gYnlUYWcoY3MsdGFnTmFtZSl7aWYoY3MudGFnTmFtZXx8Y3M9PWRvY3VtZW50KXtjcz1bY3NdfWlmKCF0YWdOYW1lKXtyZXR1cm4gY3N9dmFyIHJlc3VsdD1bXSxyaT0tMSxpLGNpO3RhZ05hbWU9dGFnTmFtZS50b0xvd2VyQ2FzZSgpO2ZvcihpPTAsY2k7Y2k9Y3NbaV07aSsrKXtpZihjaS5ub2RlVHlwZT09MSYmY2kudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT10YWdOYW1lKXtyZXN1bHRbKytyaV09Y2l9fXJldHVybiByZXN1bHR9ZnVuY3Rpb24gYnlJZChjcyxpZCl7aWQ9dW5lc2NhcGVDc3NTZWxlY3RvcihpZCk7aWYoY3MudGFnTmFtZXx8Y3M9PWRvY3VtZW50KXtjcz1bY3NdfWlmKCFpZCl7cmV0dXJuIGNzfXZhciByZXN1bHQ9W10scmk9LTEsaSxjaTtmb3IoaT0wLGNpO2NpPWNzW2ldO2krKyl7aWYoY2kmJmNpLmlkPT1pZCl7cmVzdWx0WysrcmldPWNpO3JldHVybiByZXN1bHR9fXJldHVybiByZXN1bHR9ZnVuY3Rpb24gYnlBdHRyaWJ1dGUoY3MsYXR0cix2YWx1ZSxvcCxjdXN0b20pe3ZhciByZXN1bHQ9W10scmk9LTEsdXNlR2V0U3R5bGU9Y3VzdG9tPT0ieyIsZm49RXh0LkRvbVF1ZXJ5Lm9wZXJhdG9yc1tvcF0sYSx4bWwsaGFzWG1sLGksY2k7dmFsdWU9dW5lc2NhcGVDc3NTZWxlY3Rvcih2YWx1ZSk7Zm9yKGk9MCxjaTtjaT1jc1tpXTtpKyspe2lmKGNpLm5vZGVUeXBlIT0xKXtjb250aW51ZX1pZighaGFzWG1sKXt4bWw9RXh0LkRvbVF1ZXJ5LmlzWG1sKGNpKTtoYXNYbWw9dHJ1ZX1pZigheG1sKXtpZih1c2VHZXRTdHlsZSl7YT1FeHQuRG9tUXVlcnkuZ2V0U3R5bGUoY2ksYXR0cil9ZWxzZXtpZihhdHRyPT0iY2xhc3MifHxhdHRyPT0iY2xhc3NOYW1lIil7YT1jaS5jbGFzc05hbWV9ZWxzZXtpZihhdHRyPT0iZm9yIil7YT1jaS5odG1sRm9yfWVsc2V7aWYoYXR0cj09ImhyZWYiKXthPWNpLmdldEF0dHJpYnV0ZSgiaHJlZiIsMil9ZWxzZXthPWNpLmdldEF0dHJpYnV0ZShhdHRyKX19fX19ZWxzZXthPWNpLmdldEF0dHJpYnV0ZShhdHRyKX1pZigoZm4mJmZuKGEsdmFsdWUpKXx8KCFmbiYmYSkpe3Jlc3VsdFsrK3JpXT1jaX19cmV0dXJuIHJlc3VsdH1mdW5jdGlvbiBieVBzZXVkbyhjcyxuYW1lLHZhbHVlKXt2YWx1ZT11bmVzY2FwZUNzc1NlbGVjdG9yKHZhbHVlKTtyZXR1cm4gRXh0LkRvbVF1ZXJ5LnBzZXVkb3NbbmFtZV0oY3MsdmFsdWUpfWZ1bmN0aW9uIG5vZHVwSUVYbWwoY3Mpe3ZhciBkPSsra2V5LHIsaSxsZW4sYztjc1swXS5zZXRBdHRyaWJ1dGUoIl9ub2R1cCIsZCk7cj1bY3NbMF1dO2ZvcihpPTEsbGVuPWNzLmxlbmd0aDtpPGxlbjtpKyspe2M9Y3NbaV07aWYoIWMuZ2V0QXR0cmlidXRlKCJfbm9kdXAiKSE9ZCl7Yy5zZXRBdHRyaWJ1dGUoIl9ub2R1cCIsZCk7cltyLmxlbmd0aF09Y319Zm9yKGk9MCxsZW49Y3MubGVuZ3RoO2k8bGVuO2krKyl7Y3NbaV0ucmVtb3ZlQXR0cmlidXRlKCJfbm9kdXAiKX1yZXR1cm4gcn1mdW5jdGlvbiBub2R1cChjcyl7aWYoIWNzKXtyZXR1cm5bXX12YXIgbGVuPWNzLmxlbmd0aCxjLGkscj1jcyxjaixyaT0tMSxkLGo7aWYoIWxlbnx8dHlwZW9mIGNzLm5vZGVUeXBlIT0idW5kZWZpbmVkInx8bGVuPT0xKXtyZXR1cm4gY3N9aWYoaXNJRSYmdHlwZW9mIGNzWzBdLnNlbGVjdFNpbmdsZU5vZGUhPSJ1bmRlZmluZWQiKXtyZXR1cm4gbm9kdXBJRVhtbChjcyl9ZD0rK2tleTtjc1swXS5fbm9kdXA9ZDtmb3IoaT0xO2M9Y3NbaV07aSsrKXtpZihjLl9ub2R1cCE9ZCl7Yy5fbm9kdXA9ZH1lbHNle3I9W107Zm9yKGo9MDtqPGk7aisrKXtyWysrcmldPWNzW2pdfWZvcihqPWkrMTtjaj1jc1tqXTtqKyspe2lmKGNqLl9ub2R1cCE9ZCl7Y2ouX25vZHVwPWQ7clsrK3JpXT1jan19cmV0dXJuIHJ9fXJldHVybiByfWZ1bmN0aW9uIHF1aWNrRGlmZklFWG1sKGMxLGMyKXt2YXIgZD0rK2tleSxyPVtdLGksbGVuO2ZvcihpPTAsbGVuPWMxLmxlbmd0aDtpPGxlbjtpKyspe2MxW2ldLnNldEF0dHJpYnV0ZSgiX3FkaWZmIixkKX1mb3IoaT0wLGxlbj1jMi5sZW5ndGg7aTxsZW47aSsrKXtpZihjMltpXS5nZXRBdHRyaWJ1dGUoIl9xZGlmZiIpIT1kKXtyW3IubGVuZ3RoXT1jMltpXX19Zm9yKGk9MCxsZW49YzEubGVuZ3RoO2k8bGVuO2krKyl7YzFbaV0ucmVtb3ZlQXR0cmlidXRlKCJfcWRpZmYiKX1yZXR1cm4gcn1mdW5jdGlvbiBxdWlja0RpZmYoYzEsYzIpe3ZhciBsZW4xPWMxLmxlbmd0aCxkPSsra2V5LHI9W10saSxsZW47aWYoIWxlbjEpe3JldHVybiBjMn1pZihpc0lFJiZ0eXBlb2YgYzFbMF0uc2VsZWN0U2luZ2xlTm9kZSE9InVuZGVmaW5lZCIpe3JldHVybiBxdWlja0RpZmZJRVhtbChjMSxjMil9Zm9yKGk9MDtpPGxlbjE7aSsrKXtjMVtpXS5fcWRpZmY9ZH1mb3IoaT0wLGxlbj1jMi5sZW5ndGg7aTxsZW47aSsrKXtpZihjMltpXS5fcWRpZmYhPWQpe3Jbci5sZW5ndGhdPWMyW2ldfX1yZXR1cm4gcn1mdW5jdGlvbiBxdWlja0lkKG5zLG1vZGUscm9vdCxpZCl7aWYobnM9PXJvb3Qpe2lkPXVuZXNjYXBlQ3NzU2VsZWN0b3IoaWQpO3ZhciBkPXJvb3Qub3duZXJEb2N1bWVudHx8cm9vdDtyZXR1cm4gZC5nZXRFbGVtZW50QnlJZChpZCl9bnM9Z2V0Tm9kZXMobnMsbW9kZSwiKiIpO3JldHVybiBieUlkKG5zLGlkKX1yZXR1cm57Z2V0U3R5bGU6ZnVuY3Rpb24oZWwsbmFtZSl7cmV0dXJuIEV4dC5mbHkoZWwpLmdldFN0eWxlKG5hbWUpfSxjb21waWxlOmZ1bmN0aW9uKHBhdGgsdHlwZSl7dHlwZT10eXBlfHwic2VsZWN0Ijt2YXIgZm49WyJ2YXIgZiA9IGZ1bmN0aW9uKHJvb3Qpe1xuIHZhciBtb2RlOyArK2JhdGNoOyB2YXIgbiA9IHJvb3QgfHwgZG9jdW1lbnQ7XG4iXSxtb2RlLGxhc3RQYXRoLG1hdGNoZXJzPUV4dC5Eb21RdWVyeS5tYXRjaGVycyxtYXRjaGVyc0xuPW1hdGNoZXJzLmxlbmd0aCxtb2RlTWF0Y2gsbG1vZGU9cGF0aC5tYXRjaChtb2RlUmUpLHRva2VuTWF0Y2gsbWF0Y2hlZCxqLHQsbTtoYXNFc2NhcGVzPShwYXRoLmluZGV4T2YoIlxcIik+LTEpO2lmKGhhc0VzY2FwZXMpe3BhdGg9cGF0aC5yZXBsYWNlKHNob3J0SGV4LHNob3J0VG9Mb25nSGV4KS5yZXBsYWNlKG5vbkhleCxjaGFyVG9Mb25nSGV4KS5yZXBsYWNlKGVzY2FwZXMsIlxcXFwiKX1pZihsbW9kZSYmbG1vZGVbMV0pe2ZuW2ZuLmxlbmd0aF09J21vZGU9IicrbG1vZGVbMV0ucmVwbGFjZSh0cmltUmUsIiIpKyciOyc7cGF0aD1wYXRoLnJlcGxhY2UobG1vZGVbMV0sIiIpfXdoaWxlKHBhdGguc3Vic3RyKDAsMSk9PSIvIil7cGF0aD1wYXRoLnN1YnN0cigxKX13aGlsZShwYXRoJiZsYXN0UGF0aCE9cGF0aCl7bGFzdFBhdGg9cGF0aDt0b2tlbk1hdGNoPXBhdGgubWF0Y2godGFnVG9rZW5SZSk7aWYodHlwZT09InNlbGVjdCIpe2lmKHRva2VuTWF0Y2gpe2lmKHRva2VuTWF0Y2hbMV09PSIjIil7Zm5bZm4ubGVuZ3RoXT0nbiA9IHF1aWNrSWQobiwgbW9kZSwgcm9vdCwgIicrdG9rZW5NYXRjaFsyXSsnIik7J31lbHNle2ZuW2ZuLmxlbmd0aF09J24gPSBnZXROb2RlcyhuLCBtb2RlLCAiJyt0b2tlbk1hdGNoWzJdKyciKTsnfXBhdGg9cGF0aC5yZXBsYWNlKHRva2VuTWF0Y2hbMF0sIiIpfWVsc2V7aWYocGF0aC5zdWJzdHIoMCwxKSE9IkAiKXtmbltmbi5sZW5ndGhdPSduID0gZ2V0Tm9kZXMobiwgbW9kZSwgIioiKTsnfX19ZWxzZXtpZih0b2tlbk1hdGNoKXtpZih0b2tlbk1hdGNoWzFdPT0iIyIpe2ZuW2ZuLmxlbmd0aF09J24gPSBieUlkKG4sICInK3Rva2VuTWF0Y2hbMl0rJyIpOyd9ZWxzZXtmbltmbi5sZW5ndGhdPSduID0gYnlUYWcobiwgIicrdG9rZW5NYXRjaFsyXSsnIik7J31wYXRoPXBhdGgucmVwbGFjZSh0b2tlbk1hdGNoWzBdLCIiKX19d2hpbGUoIShtb2RlTWF0Y2g9cGF0aC5tYXRjaChtb2RlUmUpKSl7bWF0Y2hlZD1mYWxzZTtmb3Ioaj0wO2o8bWF0Y2hlcnNMbjtqKyspe3Q9bWF0Y2hlcnNbal07bT1wYXRoLm1hdGNoKHQucmUpO2lmKG0pe2ZuW2ZuLmxlbmd0aF09dC5zZWxlY3QucmVwbGFjZSh0cGxSZSxmdW5jdGlvbih4LGkpe3JldHVybiBtW2ldfSk7cGF0aD1wYXRoLnJlcGxhY2UobVswXSwiIik7bWF0Y2hlZD10cnVlO2JyZWFrfX1pZighbWF0Y2hlZCl7RXh0LkVycm9yLnJhaXNlKHtzb3VyY2VDbGFzczoiRXh0LkRvbVF1ZXJ5Iixzb3VyY2VNZXRob2Q6ImNvbXBpbGUiLG1zZzonRXJyb3IgcGFyc2luZyBzZWxlY3Rvci4gUGFyc2luZyBmYWlsZWQgYXQgIicrcGF0aCsnIid9KX19aWYobW9kZU1hdGNoWzFdKXtmbltmbi5sZW5ndGhdPSdtb2RlPSInK21vZGVNYXRjaFsxXS5yZXBsYWNlKHRyaW1SZSwiIikrJyI7JztwYXRoPXBhdGgucmVwbGFjZShtb2RlTWF0Y2hbMV0sIiIpfX1mbltmbi5sZW5ndGhdPSJyZXR1cm4gbm9kdXAobik7XG59IjtldmFsKGZuLmpvaW4oIiIpKTtyZXR1cm4gZn0sanNTZWxlY3Q6ZnVuY3Rpb24ocGF0aCxyb290LHR5cGUpe3Jvb3Q9cm9vdHx8ZG9jdW1lbnQ7aWYodHlwZW9mIHJvb3Q9PSJzdHJpbmciKXtyb290PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHJvb3QpfXZhciBwYXRocz1wYXRoLnNwbGl0KCIsIikscmVzdWx0cz1bXSxpLGxlbixzdWJQYXRoLHJlc3VsdDtmb3IoaT0wLGxlbj1wYXRocy5sZW5ndGg7aTxsZW47aSsrKXtzdWJQYXRoPXBhdGhzW2ldLnJlcGxhY2UodHJpbVJlLCIiKTtpZighY2FjaGVbc3ViUGF0aF0pe2NhY2hlW3N1YlBhdGhdPUV4dC5Eb21RdWVyeS5jb21waWxlKHN1YlBhdGgsdHlwZSk7aWYoIWNhY2hlW3N1YlBhdGhdKXtFeHQuRXJyb3IucmFpc2Uoe3NvdXJjZUNsYXNzOiJFeHQuRG9tUXVlcnkiLHNvdXJjZU1ldGhvZDoianNTZWxlY3QiLG1zZzpzdWJQYXRoKyIgaXMgbm90IGEgdmFsaWQgc2VsZWN0b3IifSl9fXJlc3VsdD1jYWNoZVtzdWJQYXRoXShyb290KTtpZihyZXN1bHQmJnJlc3VsdCE9ZG9jdW1lbnQpe3Jlc3VsdHM9cmVzdWx0cy5jb25jYXQocmVzdWx0KX19aWYocGF0aHMubGVuZ3RoPjEpe3JldHVybiBub2R1cChyZXN1bHRzKX1yZXR1cm4gcmVzdWx0c30saXNYbWw6ZnVuY3Rpb24oZWwpe3ZhciBkb2NFbD0oZWw/ZWwub3duZXJEb2N1bWVudHx8ZWw6MCkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBkb2NFbD9kb2NFbC5ub2RlTmFtZSE9PSJIVE1MIjpmYWxzZX0sc2VsZWN0OmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw/ZnVuY3Rpb24ocGF0aCxyb290LHR5cGUpe3Jvb3Q9cm9vdHx8ZG9jdW1lbnQ7aWYoIUV4dC5Eb21RdWVyeS5pc1htbChyb290KSl7dHJ5e2lmKHJvb3QucGFyZW50Tm9kZSYmKHJvb3Qubm9kZVR5cGUhPT05KSYmcGF0aC5pbmRleE9mKCIsIik9PT0tMSYmIXN0YXJ0SWRSZS50ZXN0KHBhdGgpKXtwYXRoPSIjIitFeHQuZXNjYXBlSWQoRXh0LmlkKHJvb3QpKSsiICIrcGF0aDtyb290PXJvb3QucGFyZW50Tm9kZX1yZXR1cm4gRXh0LkFycmF5LnRvQXJyYXkocm9vdC5xdWVyeVNlbGVjdG9yQWxsKHBhdGgpKX1jYXRjaChlKXt9fXJldHVybiBFeHQuRG9tUXVlcnkuanNTZWxlY3QuY2FsbCh0aGlzLHBhdGgscm9vdCx0eXBlKX06ZnVuY3Rpb24ocGF0aCxyb290LHR5cGUpe3JldHVybiBFeHQuRG9tUXVlcnkuanNTZWxlY3QuY2FsbCh0aGlzLHBhdGgscm9vdCx0eXBlKX0sc2VsZWN0Tm9kZTpmdW5jdGlvbihwYXRoLHJvb3Qpe3JldHVybiBFeHQuRG9tUXVlcnkuc2VsZWN0KHBhdGgscm9vdClbMF19LHNlbGVjdFZhbHVlOmZ1bmN0aW9uKHBhdGgscm9vdCxkZWZhdWx0VmFsdWUpe3BhdGg9cGF0aC5yZXBsYWNlKHRyaW1SZSwiIik7aWYoIXZhbHVlQ2FjaGVbcGF0aF0pe3ZhbHVlQ2FjaGVbcGF0aF09RXh0LkRvbVF1ZXJ5LmNvbXBpbGUocGF0aCwic2VsZWN0Iil9dmFyIG49dmFsdWVDYWNoZVtwYXRoXShyb290KSx2O249blswXT9uWzBdOm47aWYodHlwZW9mIG4ubm9ybWFsaXplPT0iZnVuY3Rpb24iKXtuLm5vcm1hbGl6ZSgpfXY9KG4mJm4uZmlyc3RDaGlsZD9uLmZpcnN0Q2hpbGQubm9kZVZhbHVlOm51bGwpO3JldHVybigodj09PW51bGx8fHY9PT11bmRlZmluZWR8fHY9PT0iIik/ZGVmYXVsdFZhbHVlOnYpfSxzZWxlY3ROdW1iZXI6ZnVuY3Rpb24ocGF0aCxyb290LGRlZmF1bHRWYWx1ZSl7dmFyIHY9RXh0LkRvbVF1ZXJ5LnNlbGVjdFZhbHVlKHBhdGgscm9vdCxkZWZhdWx0VmFsdWV8fDApO3JldHVybiBwYXJzZUZsb2F0KHYpfSxpczpmdW5jdGlvbihlbCxzcyl7aWYodHlwZW9mIGVsPT0ic3RyaW5nIil7ZWw9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWwpfXZhciBpc0FycmF5PUV4dC5pc0FycmF5KGVsKSxyZXN1bHQ9RXh0LkRvbVF1ZXJ5LmZpbHRlcihpc0FycmF5P2VsOltlbF0sc3MpO3JldHVybiBpc0FycmF5PyhyZXN1bHQubGVuZ3RoPT1lbC5sZW5ndGgpOihyZXN1bHQubGVuZ3RoPjApfSxmaWx0ZXI6ZnVuY3Rpb24oZWxzLHNzLG5vbk1hdGNoZXMpe3NzPXNzLnJlcGxhY2UodHJpbVJlLCIiKTtpZighc2ltcGxlQ2FjaGVbc3NdKXtzaW1wbGVDYWNoZVtzc109RXh0LkRvbVF1ZXJ5LmNvbXBpbGUoc3MsInNpbXBsZSIpfXZhciByZXN1bHQ9c2ltcGxlQ2FjaGVbc3NdKGVscyk7cmV0dXJuIG5vbk1hdGNoZXM/cXVpY2tEaWZmKHJlc3VsdCxlbHMpOnJlc3VsdH0sbWF0Y2hlcnM6W3tyZTovXlwuKFtcd1wtXFxdKykvLHNlbGVjdDonbiA9IGJ5Q2xhc3NOYW1lKG4sICIgezF9ICIpOyd9LHtyZTovXlw6KFtcd1wtXSspKD86XCgoKD86W15ccz5cL10qfC4qPykpXCkpPy8sc2VsZWN0OiduID0gYnlQc2V1ZG8obiwgInsxfSIsICJ7Mn0iKTsnfSx7cmU6L14oPzooW1xbXHtdKSg/OkApPyhbXHdcLV0rKVxzPyg/Oig9fC49KVxzP1snIl0/KC4qPylbIiddPyk/W1xdXH1dKS8sc2VsZWN0OiduID0gYnlBdHRyaWJ1dGUobiwgInsyfSIsICJ7NH0iLCAiezN9IiwgInsxfSIpOyd9LHtyZTovXiMoW1x3XC1cXF0rKS8sc2VsZWN0OiduID0gYnlJZChuLCAiezF9Iik7J30se3JlOi9eQChbXHdcLV0rKS8sc2VsZWN0OidyZXR1cm4ge2ZpcnN0Q2hpbGQ6e25vZGVWYWx1ZTphdHRyVmFsdWUobiwgInsxfSIpfX07J31dLG9wZXJhdG9yczp7Ij0iOmZ1bmN0aW9uKGEsdil7cmV0dXJuIGE9PXZ9LCIhPSI6ZnVuY3Rpb24oYSx2KXtyZXR1cm4gYSE9dn0sIl49IjpmdW5jdGlvbihhLHYpe3JldHVybiBhJiZhLnN1YnN0cigwLHYubGVuZ3RoKT09dn0sIiQ9IjpmdW5jdGlvbihhLHYpe3JldHVybiBhJiZhLnN1YnN0cihhLmxlbmd0aC12Lmxlbmd0aCk9PXZ9LCIqPSI6ZnVuY3Rpb24oYSx2KXtyZXR1cm4gYSYmYS5pbmRleE9mKHYpIT09LTF9LCIlPSI6ZnVuY3Rpb24oYSx2KXtyZXR1cm4oYSV2KT09MH0sInw9IjpmdW5jdGlvbihhLHYpe3JldHVybiBhJiYoYT09dnx8YS5zdWJzdHIoMCx2Lmxlbmd0aCsxKT09disiLSIpfSwifj0iOmZ1bmN0aW9uKGEsdil7cmV0dXJuIGEmJigiICIrYSsiICIpLmluZGV4T2YoIiAiK3YrIiAiKSE9LTF9fSxwc2V1ZG9zOnsiZmlyc3QtY2hpbGQiOmZ1bmN0aW9uKGMpe3ZhciByPVtdLHJpPS0xLG4saSxjaTtmb3IoaT0wOyhjaT1uPWNbaV0pO2krKyl7d2hpbGUoKG49bi5wcmV2aW91c1NpYmxpbmcpJiZuLm5vZGVUeXBlIT0xKXt9aWYoIW4pe3JbKytyaV09Y2l9fXJldHVybiByfSwibGFzdC1jaGlsZCI6ZnVuY3Rpb24oYyl7dmFyIHI9W10scmk9LTEsbixpLGNpO2ZvcihpPTA7KGNpPW49Y1tpXSk7aSsrKXt3aGlsZSgobj1uLm5leHRTaWJsaW5nKSYmbi5ub2RlVHlwZSE9MSl7fWlmKCFuKXtyWysrcmldPWNpfX1yZXR1cm4gcn0sIm50aC1jaGlsZCI6ZnVuY3Rpb24oYyxhKXt2YXIgcj1bXSxyaT0tMSxtPW50aFJlLmV4ZWMoYT09ImV2ZW4iJiYiMm4ifHxhPT0ib2RkIiYmIjJuKzEifHwhbnRoUmUyLnRlc3QoYSkmJiJuKyIrYXx8YSksZj0obVsxXXx8MSktMCxsPW1bMl0tMCxpLG4saixjbixwbjtmb3IoaT0wO249Y1tpXTtpKyspe3BuPW4ucGFyZW50Tm9kZTtpZihiYXRjaCE9cG4uX2JhdGNoKXtqPTA7Zm9yKGNuPXBuLmZpcnN0Q2hpbGQ7Y247Y249Y24ubmV4dFNpYmxpbmcpe2lmKGNuLm5vZGVUeXBlPT0xKXtjbi5ub2RlSW5kZXg9KytqfX1wbi5fYmF0Y2g9YmF0Y2h9aWYoZj09MSl7aWYobD09MHx8bi5ub2RlSW5kZXg9PWwpe3JbKytyaV09bn19ZWxzZXtpZigobi5ub2RlSW5kZXgrbCklZj09MCl7clsrK3JpXT1ufX19cmV0dXJuIHJ9LCJvbmx5LWNoaWxkIjpmdW5jdGlvbihjKXt2YXIgcj1bXSxyaT0tMSxpLGNpO2ZvcihpPTA7Y2k9Y1tpXTtpKyspe2lmKCFwcmV2KGNpKSYmIW5leHQoY2kpKXtyWysrcmldPWNpfX1yZXR1cm4gcn0sZW1wdHk6ZnVuY3Rpb24oYyl7dmFyIHI9W10scmk9LTEsaSxjaSxjbnMsaixjbixlbXB0eTtmb3IoaT0wLGNpO2NpPWNbaV07aSsrKXtjbnM9Y2kuY2hpbGROb2RlcztqPTA7ZW1wdHk9dHJ1ZTt3aGlsZShjbj1jbnNbal0peysrajtpZihjbi5ub2RlVHlwZT09MXx8Y24ubm9kZVR5cGU9PTMpe2VtcHR5PWZhbHNlO2JyZWFrfX1pZihlbXB0eSl7clsrK3JpXT1jaX19cmV0dXJuIHJ9LGNvbnRhaW5zOmZ1bmN0aW9uKGMsdil7dmFyIHI9W10scmk9LTEsaSxjaTtmb3IoaT0wO2NpPWNbaV07aSsrKXtpZigoY2kudGV4dENvbnRlbnR8fGNpLmlubmVyVGV4dHx8Y2kudGV4dHx8IiIpLmluZGV4T2YodikhPS0xKXtyWysrcmldPWNpfX1yZXR1cm4gcn0sbm9kZVZhbHVlOmZ1bmN0aW9uKGMsdil7dmFyIHI9W10scmk9LTEsaSxjaTtmb3IoaT0wO2NpPWNbaV07aSsrKXtpZihjaS5maXJzdENoaWxkJiZjaS5maXJzdENoaWxkLm5vZGVWYWx1ZT09dil7clsrK3JpXT1jaX19cmV0dXJuIHJ9LGNoZWNrZWQ6ZnVuY3Rpb24oYyl7dmFyIHI9W10scmk9LTEsaSxjaTtmb3IoaT0wO2NpPWNbaV07aSsrKXtpZihjaS5jaGVja2VkPT10cnVlKXtyWysrcmldPWNpfX1yZXR1cm4gcn0sbm90OmZ1bmN0aW9uKGMsc3Mpe3JldHVybiBFeHQuRG9tUXVlcnkuZmlsdGVyKGMsc3MsdHJ1ZSl9LGFueTpmdW5jdGlvbihjLHNlbGVjdG9ycyl7dmFyIHNzPXNlbGVjdG9ycy5zcGxpdCgifCIpLHI9W10scmk9LTEscyxpLGNpLGo7Zm9yKGk9MDtjaT1jW2ldO2krKyl7Zm9yKGo9MDtzPXNzW2pdO2orKyl7aWYoRXh0LkRvbVF1ZXJ5LmlzKGNpLHMpKXtyWysrcmldPWNpO2JyZWFrfX19cmV0dXJuIHJ9LG9kZDpmdW5jdGlvbihjKXtyZXR1cm4gdGhpc1sibnRoLWNoaWxkIl0oYywib2RkIil9LGV2ZW46ZnVuY3Rpb24oYyl7cmV0dXJuIHRoaXNbIm50aC1jaGlsZCJdKGMsImV2ZW4iKX0sbnRoOmZ1bmN0aW9uKGMsYSl7cmV0dXJuIGNbYS0xXXx8W119LGZpcnN0OmZ1bmN0aW9uKGMpe3JldHVybiBjWzBdfHxbXX0sbGFzdDpmdW5jdGlvbihjKXtyZXR1cm4gY1tjLmxlbmd0aC0xXXx8W119LGhhczpmdW5jdGlvbihjLHNzKXt2YXIgcz1FeHQuRG9tUXVlcnkuc2VsZWN0LHI9W10scmk9LTEsaSxjaTtmb3IoaT0wO2NpPWNbaV07aSsrKXtpZihzKHNzLGNpKS5sZW5ndGg+MCl7clsrK3JpXT1jaX19cmV0dXJuIHJ9LG5leHQ6ZnVuY3Rpb24oYyxzcyl7dmFyIGlzPUV4dC5Eb21RdWVyeS5pcyxyPVtdLHJpPS0xLGksY2ksbjtmb3IoaT0wO2NpPWNbaV07aSsrKXtuPW5leHQoY2kpO2lmKG4mJmlzKG4sc3MpKXtyWysrcmldPWNpfX1yZXR1cm4gcn0scHJldjpmdW5jdGlvbihjLHNzKXt2YXIgaXM9RXh0LkRvbVF1ZXJ5LmlzLHI9W10scmk9LTEsaSxjaSxuO2ZvcihpPTA7Y2k9Y1tpXTtpKyspe249cHJldihjaSk7aWYobiYmaXMobixzcykpe3JbKytyaV09Y2l9fXJldHVybiByfX19fSgpKTtFeHQucXVlcnk9RXh0LkRvbVF1ZXJ5LnNlbGVjdDsoZnVuY3Rpb24oKXt2YXIgSElEREVOPSJoaWRkZW4iLERPQz1kb2N1bWVudCxWSVNJQklMSVRZPSJ2aXNpYmlsaXR5IixESVNQTEFZPSJkaXNwbGF5IixOT05FPSJub25lIixYTUFTS0VEPUV4dC5iYXNlQ1NTUHJlZml4KyJtYXNrZWQiLFhNQVNLRURSRUxBVElWRT1FeHQuYmFzZUNTU1ByZWZpeCsibWFza2VkLXJlbGF0aXZlIixFWFRFTE1BU0tNU0c9RXh0LmJhc2VDU1NQcmVmaXgrIm1hc2stbXNnIixib2R5UmU9L15ib2R5L2ksdmlzRmx5LG5vQm94QWRqdXN0PUV4dC5pc1N0cmljdD97c2VsZWN0OjF9OntpbnB1dDoxLHNlbGVjdDoxLHRleHRhcmVhOjF9LGlzU2Nyb2xsZWQ9ZnVuY3Rpb24oYyl7dmFyIHI9W10scmk9LTEsaSxjaTtmb3IoaT0wO2NpPWNbaV07aSsrKXtpZihjaS5zY3JvbGxUb3A+MHx8Y2kuc2Nyb2xsTGVmdD4wKXtyWysrcmldPWNpfX1yZXR1cm4gcn0sRWxlbWVudD1FeHQuZGVmaW5lKCJFeHQuZG9tLkVsZW1lbnQiLHtleHRlbmQ6IkV4dC5kb20uQWJzdHJhY3RFbGVtZW50IixhbHRlcm5hdGVDbGFzc05hbWU6WyJFeHQuRWxlbWVudCIsIkV4dC5jb3JlLkVsZW1lbnQiXSxhZGRVbml0czpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGYuYWRkVW5pdHMuYXBwbHkodGhpcy5zZWxmLGFyZ3VtZW50cyl9LGZvY3VzOmZ1bmN0aW9uKGRlZmVyLGRvbSl7dmFyIG1lPXRoaXMsc2Nyb2xsVG9wLGJvZHk7ZG9tPWRvbXx8bWUuZG9tO2JvZHk9KGRvbS5vd25lckRvY3VtZW50fHxET0MpLmJvZHl8fERPQy5ib2R5O3RyeXtpZihOdW1iZXIoZGVmZXIpKXtFeHQuZGVmZXIobWUuZm9jdXMsZGVmZXIsbWUsW251bGwsZG9tXSl9ZWxzZXtpZihkb20ub2Zmc2V0SGVpZ2h0PkVsZW1lbnQuZ2V0Vmlld0hlaWdodCgpKXtzY3JvbGxUb3A9Ym9keS5zY3JvbGxUb3B9ZG9tLmZvY3VzKCk7aWYoc2Nyb2xsVG9wIT09dW5kZWZpbmVkKXtib2R5LnNjcm9sbFRvcD1zY3JvbGxUb3B9fX1jYXRjaChlKXt9cmV0dXJuIG1lfSxibHVyOmZ1bmN0aW9uKCl7dHJ5e3RoaXMuZG9tLmJsdXIoKX1jYXRjaChlKXt9cmV0dXJuIHRoaXN9LGlzQm9yZGVyQm94OmZ1bmN0aW9uKCl7dmFyIGJveD1FeHQuaXNCb3JkZXJCb3g7aWYoYm94KXtib3g9ISgodGhpcy5kb20udGFnTmFtZXx8IiIpLnRvTG93ZXJDYXNlKCkgaW4gbm9Cb3hBZGp1c3QpfXJldHVybiBib3h9LGhvdmVyOmZ1bmN0aW9uKG92ZXJGbixvdXRGbixzY29wZSxvcHRpb25zKXt2YXIgbWU9dGhpczttZS5vbigibW91c2VlbnRlciIsb3ZlckZuLHNjb3BlfHxtZS5kb20sb3B0aW9ucyk7bWUub24oIm1vdXNlbGVhdmUiLG91dEZuLHNjb3BlfHxtZS5kb20sb3B0aW9ucyk7cmV0dXJuIG1lfSxnZXRBdHRyaWJ1dGVOUzpmdW5jdGlvbihucyxuYW1lKXtyZXR1cm4gdGhpcy5nZXRBdHRyaWJ1dGUobmFtZSxucyl9LGdldEF0dHJpYnV0ZTooRXh0LmlzSUUmJiEoRXh0LmlzSUU5JiZET0MuZG9jdW1lbnRNb2RlPT09OSkpP2Z1bmN0aW9uKG5hbWUsbnMpe3ZhciBkPXRoaXMuZG9tLHR5cGU7aWYobnMpe3R5cGU9dHlwZW9mIGRbbnMrIjoiK25hbWVdO2lmKHR5cGUhPSJ1bmRlZmluZWQiJiZ0eXBlIT0idW5rbm93biIpe3JldHVybiBkW25zKyI6IituYW1lXXx8bnVsbH1yZXR1cm4gbnVsbH1pZihuYW1lPT09ImZvciIpe25hbWU9Imh0bWxGb3IifXJldHVybiBkW25hbWVdfHxudWxsfTpmdW5jdGlvbihuYW1lLG5zKXt2YXIgZD10aGlzLmRvbTtpZihucyl7cmV0dXJuIGQuZ2V0QXR0cmlidXRlTlMobnMsbmFtZSl8fGQuZ2V0QXR0cmlidXRlKG5zKyI6IituYW1lKX1yZXR1cm4gZC5nZXRBdHRyaWJ1dGUobmFtZSl8fGRbbmFtZV18fG51bGx9LGNhY2hlU2Nyb2xsVmFsdWVzOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMsc2Nyb2xsZWREZXNjZW5kYW50cyxlbCxpLHNjcm9sbFZhbHVlcz1bXSxyZXN1bHQ9ZnVuY3Rpb24oKXtmb3IoaT0wO2k8c2Nyb2xsZWREZXNjZW5kYW50cy5sZW5ndGg7aSsrKXtlbD1zY3JvbGxlZERlc2NlbmRhbnRzW2ldO2VsLnNjcm9sbExlZnQ9c2Nyb2xsVmFsdWVzW2ldWzBdO2VsLnNjcm9sbFRvcD1zY3JvbGxWYWx1ZXNbaV1bMV19fTtpZighRXh0LkRvbVF1ZXJ5LnBzZXVkb3MuaXNTY3JvbGxlZCl7RXh0LkRvbVF1ZXJ5LnBzZXVkb3MuaXNTY3JvbGxlZD1pc1Njcm9sbGVkfXNjcm9sbGVkRGVzY2VuZGFudHM9bWUucXVlcnkoIjppc1Njcm9sbGVkIik7Zm9yKGk9MDtpPHNjcm9sbGVkRGVzY2VuZGFudHMubGVuZ3RoO2krKyl7ZWw9c2Nyb2xsZWREZXNjZW5kYW50c1tpXTtzY3JvbGxWYWx1ZXNbaV09W2VsLnNjcm9sbExlZnQsZWwuc2Nyb2xsVG9wXX1yZXR1cm4gcmVzdWx0fSxhdXRvQm94QWRqdXN0OnRydWUsaXNWaXNpYmxlOmZ1bmN0aW9uKGRlZXApe3ZhciBtZT10aGlzLGRvbT1tZS5kb20sc3RvcE5vZGU9ZG9tLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O2lmKCF2aXNGbHkpe3Zpc0ZseT1uZXcgRWxlbWVudC5GbHkoKX13aGlsZShkb20hPT1zdG9wTm9kZSl7aWYoIWRvbXx8ZG9tLm5vZGVUeXBlPT09MTF8fCh2aXNGbHkuYXR0YWNoKGRvbSkpLmlzU3R5bGUoVklTSUJJTElUWSxISURERU4pfHx2aXNGbHkuaXNTdHlsZShESVNQTEFZLE5PTkUpKXtyZXR1cm4gZmFsc2V9aWYoIWRlZXApe2JyZWFrfWRvbT1kb20ucGFyZW50Tm9kZX1yZXR1cm4gdHJ1ZX0saXNEaXNwbGF5ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gIXRoaXMuaXNTdHlsZShESVNQTEFZLE5PTkUpfSxlbmFibGVEaXNwbGF5TW9kZTpmdW5jdGlvbihkaXNwbGF5KXt2YXIgbWU9dGhpczttZS5zZXRWaXNpYmlsaXR5TW9kZShFbGVtZW50LkRJU1BMQVkpO2lmKCFFeHQuaXNFbXB0eShkaXNwbGF5KSl7KG1lLiRjYWNoZXx8bWUuZ2V0Q2FjaGUoKSkuZGF0YS5vcmlnaW5hbERpc3BsYXk9ZGlzcGxheX1yZXR1cm4gbWV9LG1hc2s6ZnVuY3Rpb24obXNnLG1zZ0NscyxlbEhlaWdodCl7dmFyIG1lPXRoaXMsZG9tPW1lLmRvbSxzZXRFeHByZXNzaW9uPWRvbS5zdHlsZS5zZXRFeHByZXNzaW9uLGRhdGE9KG1lLiRjYWNoZXx8bWUuZ2V0Q2FjaGUoKSkuZGF0YSxtYXNrRWw9ZGF0YS5tYXNrRWwsbWFza01zZz1kYXRhLm1hc2tNc2c7aWYoIShib2R5UmUudGVzdChkb20udGFnTmFtZSkmJm1lLmdldFN0eWxlKCJwb3NpdGlvbiIpPT0ic3RhdGljIikpe21lLmFkZENscyhYTUFTS0VEUkVMQVRJVkUpfWlmKG1hc2tFbCl7bWFza0VsLnJlbW92ZSgpfWlmKG1hc2tNc2cpe21hc2tNc2cucmVtb3ZlKCl9RXh0LkRvbUhlbHBlci5hcHBlbmQoZG9tLFt7Y2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJtYXNrIn0se2Nsczptc2dDbHM/RVhURUxNQVNLTVNHKyIgIittc2dDbHM6RVhURUxNQVNLTVNHLGNuOnt0YWc6ImRpdiIsaHRtbDptc2d8fCIifX1dKTttYXNrTXNnPUV4dC5nZXQoZG9tLmxhc3RDaGlsZCk7bWFza0VsPUV4dC5nZXQobWFza01zZy5kb20ucHJldmlvdXNTaWJsaW5nKTtkYXRhLm1hc2tNc2c9bWFza01zZztkYXRhLm1hc2tFbD1tYXNrRWw7bWUuYWRkQ2xzKFhNQVNLRUQpO21hc2tFbC5zZXREaXNwbGF5ZWQodHJ1ZSk7aWYodHlwZW9mIG1zZz09InN0cmluZyIpe21hc2tNc2cuc2V0RGlzcGxheWVkKHRydWUpO21hc2tNc2cuY2VudGVyKG1lKX1lbHNle21hc2tNc2cuc2V0RGlzcGxheWVkKGZhbHNlKX1pZighRXh0LnN1cHBvcnRzLkluY2x1ZGVQYWRkaW5nSW5XaWR0aENhbGN1bGF0aW9uJiZzZXRFeHByZXNzaW9uKXttYXNrRWwuZG9tLnN0eWxlLnNldEV4cHJlc3Npb24oIndpZHRoIiwndGhpcy5wYXJlbnROb2RlLmNsaWVudFdpZHRoICsgInB4IicpfWlmKCFFeHQuc3VwcG9ydHMuSW5jbHVkZVBhZGRpbmdJbkhlaWdodENhbGN1bGF0aW9uJiZzZXRFeHByZXNzaW9uKXttYXNrRWwuZG9tLnN0eWxlLnNldEV4cHJlc3Npb24oImhlaWdodCIsInRoaXMucGFyZW50Tm9kZS4iKyhkb209PURPQy5ib2R5PyJzY3JvbGxIZWlnaHQiOiJvZmZzZXRIZWlnaHQiKSsnICsgInB4IicpfWVsc2V7aWYoRXh0LmlzSUUmJiEoRXh0LmlzSUU3JiZFeHQuaXNTdHJpY3QpJiZtZS5nZXRTdHlsZSgiaGVpZ2h0Iik9PSJhdXRvIil7bWFza0VsLnNldFNpemUodW5kZWZpbmVkLGVsSGVpZ2h0fHxtZS5nZXRIZWlnaHQoKSl9fXJldHVybiBtYXNrRWx9LHVubWFzazpmdW5jdGlvbigpe3ZhciBtZT10aGlzLGRhdGE9KG1lLiRjYWNoZXx8bWUuZ2V0Q2FjaGUoKSkuZGF0YSxtYXNrRWw9ZGF0YS5tYXNrRWwsbWFza01zZz1kYXRhLm1hc2tNc2csc3R5bGU7aWYobWFza0VsKXtzdHlsZT1tYXNrRWwuZG9tLnN0eWxlO2lmKHN0eWxlLmNsZWFyRXhwcmVzc2lvbil7c3R5bGUuY2xlYXJFeHByZXNzaW9uKCJ3aWR0aCIpO3N0eWxlLmNsZWFyRXhwcmVzc2lvbigiaGVpZ2h0Iil9aWYobWFza0VsKXttYXNrRWwucmVtb3ZlKCk7ZGVsZXRlIGRhdGEubWFza0VsfWlmKG1hc2tNc2cpe21hc2tNc2cucmVtb3ZlKCk7ZGVsZXRlIGRhdGEubWFza01zZ31tZS5yZW1vdmVDbHMoW1hNQVNLRUQsWE1BU0tFRFJFTEFUSVZFXSl9fSxpc01hc2tlZDpmdW5jdGlvbigpe3ZhciBtZT10aGlzLGRhdGE9KG1lLiRjYWNoZXx8bWUuZ2V0Q2FjaGUoKSkuZGF0YSxtYXNrRWw9ZGF0YS5tYXNrRWwsbWFza01zZz1kYXRhLm1hc2tNc2csaGFzTWFzaz1mYWxzZTtpZihtYXNrRWwmJm1hc2tFbC5pc1Zpc2libGUoKSl7aWYobWFza01zZyl7bWFza01zZy5jZW50ZXIobWUpfWhhc01hc2s9dHJ1ZX1yZXR1cm4gaGFzTWFza30sY3JlYXRlU2hpbTpmdW5jdGlvbigpe3ZhciBlbD1ET0MuY3JlYXRlRWxlbWVudCgiaWZyYW1lIiksc2hpbTtlbC5mcmFtZUJvcmRlcj0iMCI7ZWwuY2xhc3NOYW1lPUV4dC5iYXNlQ1NTUHJlZml4KyJzaGltIjtlbC5zcmM9RXh0LlNTTF9TRUNVUkVfVVJMO3NoaW09RXh0LmdldCh0aGlzLmRvbS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlbCx0aGlzLmRvbSkpO3NoaW0uYXV0b0JveEFkanVzdD1mYWxzZTtyZXR1cm4gc2hpbX0sYWRkS2V5TGlzdGVuZXI6ZnVuY3Rpb24oa2V5LGZuLHNjb3BlKXt2YXIgY29uZmlnO2lmKHR5cGVvZiBrZXkhPSJvYmplY3QifHxFeHQuaXNBcnJheShrZXkpKXtjb25maWc9e3RhcmdldDp0aGlzLGtleTprZXksZm46Zm4sc2NvcGU6c2NvcGV9fWVsc2V7Y29uZmlnPXt0YXJnZXQ6dGhpcyxrZXk6a2V5LmtleSxzaGlmdDprZXkuc2hpZnQsY3RybDprZXkuY3RybCxhbHQ6a2V5LmFsdCxmbjpmbixzY29wZTpzY29wZX19cmV0dXJuIG5ldyBFeHQudXRpbC5LZXlNYXAoY29uZmlnKX0sYWRkS2V5TWFwOmZ1bmN0aW9uKGNvbmZpZyl7cmV0dXJuIG5ldyBFeHQudXRpbC5LZXlNYXAoRXh0LmFwcGx5KHt0YXJnZXQ6dGhpc30sY29uZmlnKSl9LG9uOmZ1bmN0aW9uKGV2ZW50TmFtZSxmbixzY29wZSxvcHRpb25zKXtFeHQuRXZlbnRNYW5hZ2VyLm9uKHRoaXMsZXZlbnROYW1lLGZuLHNjb3BlfHx0aGlzLG9wdGlvbnMpO3JldHVybiB0aGlzfSx1bjpmdW5jdGlvbihldmVudE5hbWUsZm4sc2NvcGUpe0V4dC5FdmVudE1hbmFnZXIudW4odGhpcyxldmVudE5hbWUsZm4sc2NvcGV8fHRoaXMpO3JldHVybiB0aGlzfSxyZW1vdmVBbGxMaXN0ZW5lcnM6ZnVuY3Rpb24oKXtFeHQuRXZlbnRNYW5hZ2VyLnJlbW92ZUFsbCh0aGlzKTtyZXR1cm4gdGhpc30scHVyZ2VBbGxMaXN0ZW5lcnM6ZnVuY3Rpb24oKXtFeHQuRXZlbnRNYW5hZ2VyLnB1cmdlRWxlbWVudCh0aGlzKTtyZXR1cm4gdGhpc319LGZ1bmN0aW9uKCl7dmFyIEVDPUV4dC5jYWNoZSxFbD10aGlzLEFic3RyYWN0RWxlbWVudD1FeHQuZG9tLkFic3RyYWN0RWxlbWVudCxmb2N1c1JlPS9hfGJ1dHRvbnxlbWJlZHxpZnJhbWV8aW1nfGlucHV0fG9iamVjdHxzZWxlY3R8dGV4dGFyZWEvaSxub25TcGFjZVJlPS9cUy8sc2NyaXB0VGFnUmU9Lyg/OjxzY3JpcHQoW14+XSopPz4pKChcbnxccnwuKSo/KSg/OjxcL3NjcmlwdD4pL2lnLHJlcGxhY2VTY3JpcHRUYWdSZT0vKD86PHNjcmlwdC4qPz4pKChcbnxccnwuKSo/KSg/OjxcL3NjcmlwdD4pL2lnLHNyY1JlPS9cc3NyYz0oW1wnXCJdKSguKj8pXDEvaSx0eXBlUmU9L1xzdHlwZT0oW1wnXCJdKSguKj8pXDEvaSx1c2VEb2NGb3JJZD0hKEV4dC5pc0lFNnx8RXh0LmlzSUU3fHxFeHQuaXNJRTgpO0VsLmJveE1hcmt1cD0nPGRpdiBjbGFzcz0iezB9LXRsIj48ZGl2IGNsYXNzPSJ7MH0tdHIiPjxkaXYgY2xhc3M9InswfS10YyI+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iezB9LW1sIj48ZGl2IGNsYXNzPSJ7MH0tbXIiPjxkaXYgY2xhc3M9InswfS1tYyI+PC9kaXY+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iezB9LWJsIj48ZGl2IGNsYXNzPSJ7MH0tYnIiPjxkaXYgY2xhc3M9InswfS1iYyI+PC9kaXY+PC9kaXY+PC9kaXY+JztmdW5jdGlvbiBnYXJiYWdlQ29sbGVjdCgpe2lmKCFFeHQuZW5hYmxlR2FyYmFnZUNvbGxlY3Rvcil7Y2xlYXJJbnRlcnZhbChFbC5jb2xsZWN0b3JUaHJlYWRJZCl9ZWxzZXt2YXIgZWlkLGQsbyx0O2ZvcihlaWQgaW4gRUMpe2lmKCFFQy5oYXNPd25Qcm9wZXJ0eShlaWQpKXtjb250aW51ZX1vPUVDW2VpZF07aWYoby5za2lwR2FyYmFnZUNvbGxlY3Rpb24pe2NvbnRpbnVlfWQ9by5kb207aWYoIWQucGFyZW50Tm9kZXx8KCFkLm9mZnNldFBhcmVudCYmIUV4dC5nZXRFbGVtZW50QnlJZChlaWQpKSl7aWYoZCYmRXh0LmVuYWJsZUxpc3RlbmVyQ29sbGVjdGlvbil7RXh0LkV2ZW50TWFuYWdlci5yZW1vdmVBbGwoZCl9ZGVsZXRlIEVDW2VpZF19fWlmKEV4dC5pc0lFKXt0PXt9O2ZvcihlaWQgaW4gRUMpe2lmKCFFQy5oYXNPd25Qcm9wZXJ0eShlaWQpKXtjb250aW51ZX10W2VpZF09RUNbZWlkXX1FQz1FeHQuY2FjaGU9dH19fUVsLmNvbGxlY3RvclRocmVhZElkPXNldEludGVydmFsKGdhcmJhZ2VDb2xsZWN0LDMwMDAwKTtFbC5hZGRNZXRob2RzKHttb25pdG9yTW91c2VMZWF2ZTpmdW5jdGlvbihkZWxheSxoYW5kbGVyLHNjb3BlKXt2YXIgbWU9dGhpcyx0aW1lcixsaXN0ZW5lcnM9e21vdXNlbGVhdmU6ZnVuY3Rpb24oZSl7dGltZXI9c2V0VGltZW91dChFeHQuRnVuY3Rpb24uYmluZChoYW5kbGVyLHNjb3BlfHxtZSxbZV0pLGRlbGF5KX0sbW91c2VlbnRlcjpmdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aW1lcil9LGZyZWV6ZUV2ZW50OnRydWV9O21lLm9uKGxpc3RlbmVycyk7cmV0dXJuIGxpc3RlbmVyc30sc3dhbGxvd0V2ZW50OmZ1bmN0aW9uKGV2ZW50TmFtZSxwcmV2ZW50RGVmYXVsdCl7dmFyIG1lPXRoaXMsZSxlTGVuO2Z1bmN0aW9uIGZuKGUpe2Uuc3RvcFByb3BhZ2F0aW9uKCk7aWYocHJldmVudERlZmF1bHQpe2UucHJldmVudERlZmF1bHQoKX19aWYoRXh0LmlzQXJyYXkoZXZlbnROYW1lKSl7ZUxlbj1ldmVudE5hbWUubGVuZ3RoO2ZvcihlPTA7ZTxlTGVuO2UrKyl7bWUub24oZXZlbnROYW1lW2VdLGZuKX1yZXR1cm4gbWV9bWUub24oZXZlbnROYW1lLGZuKTtyZXR1cm4gbWV9LHJlbGF5RXZlbnQ6ZnVuY3Rpb24oZXZlbnROYW1lLG9ic2VydmFibGUpe3RoaXMub24oZXZlbnROYW1lLGZ1bmN0aW9uKGUpe29ic2VydmFibGUuZmlyZUV2ZW50KGV2ZW50TmFtZSxlKX0pfSxjbGVhbjpmdW5jdGlvbihmb3JjZVJlY2xlYW4pe3ZhciBtZT10aGlzLGRvbT1tZS5kb20sZGF0YT0obWUuJGNhY2hlfHxtZS5nZXRDYWNoZSgpKS5kYXRhLG49ZG9tLmZpcnN0Q2hpbGQsbmk9LTEsbng7aWYoZGF0YS5pc0NsZWFuZWQmJmZvcmNlUmVjbGVhbiE9PXRydWUpe3JldHVybiBtZX13aGlsZShuKXtueD1uLm5leHRTaWJsaW5nO2lmKG4ubm9kZVR5cGU9PTMpe2lmKCEobm9uU3BhY2VSZS50ZXN0KG4ubm9kZVZhbHVlKSkpe2RvbS5yZW1vdmVDaGlsZChuKX1lbHNle2lmKG54JiZueC5ub2RlVHlwZT09Myl7bi5hcHBlbmREYXRhKEV4dC5TdHJpbmcudHJpbShueC5kYXRhKSk7ZG9tLnJlbW92ZUNoaWxkKG54KTtueD1uLm5leHRTaWJsaW5nO24ubm9kZUluZGV4PSsrbml9fX1lbHNle0V4dC5mbHkobikuY2xlYW4oKTtuLm5vZGVJbmRleD0rK25pfW49bnh9ZGF0YS5pc0NsZWFuZWQ9dHJ1ZTtyZXR1cm4gbWV9LGxvYWQ6ZnVuY3Rpb24ob3B0aW9ucyl7dGhpcy5nZXRMb2FkZXIoKS5sb2FkKG9wdGlvbnMpO3JldHVybiB0aGlzfSxnZXRMb2FkZXI6ZnVuY3Rpb24oKXt2YXIgbWU9dGhpcyxkYXRhPShtZS4kY2FjaGV8fG1lLmdldENhY2hlKCkpLmRhdGEsbG9hZGVyPWRhdGEubG9hZGVyO2lmKCFsb2FkZXIpe2RhdGEubG9hZGVyPWxvYWRlcj1uZXcgRXh0LkVsZW1lbnRMb2FkZXIoe3RhcmdldDptZX0pfXJldHVybiBsb2FkZXJ9LHVwZGF0ZTpmdW5jdGlvbihodG1sLGxvYWRTY3JpcHRzLGNhbGxiYWNrKXt2YXIgbWU9dGhpcyxpZCxkb20saW50ZXJ2YWw7aWYoIW1lLmRvbSl7cmV0dXJuIG1lfWh0bWw9aHRtbHx8IiI7ZG9tPW1lLmRvbTtpZihsb2FkU2NyaXB0cyE9PXRydWUpe2RvbS5pbm5lckhUTUw9aHRtbDtFeHQuY2FsbGJhY2soY2FsbGJhY2ssbWUpO3JldHVybiBtZX1pZD1FeHQuaWQoKTtodG1sKz0nPHNwYW4gaWQ9IicraWQrJyI+PC9zcGFuPic7aW50ZXJ2YWw9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXt2YXIgaGQsbWF0Y2gsYXR0cnMsc3JjTWF0Y2gsdHlwZU1hdGNoLGVsLHM7aWYoIShlbD1ET0MuZ2V0RWxlbWVudEJ5SWQoaWQpKSl7cmV0dXJuIGZhbHNlfWNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO0V4dC5yZW1vdmVOb2RlKGVsKTtoZD1FeHQuZ2V0SGVhZCgpLmRvbTt3aGlsZSgobWF0Y2g9c2NyaXB0VGFnUmUuZXhlYyhodG1sKSkpe2F0dHJzPW1hdGNoWzFdO3NyY01hdGNoPWF0dHJzP2F0dHJzLm1hdGNoKHNyY1JlKTpmYWxzZTtpZihzcmNNYXRjaCYmc3JjTWF0Y2hbMl0pe3M9RE9DLmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpO3Muc3JjPXNyY01hdGNoWzJdO3R5cGVNYXRjaD1hdHRycy5tYXRjaCh0eXBlUmUpO2lmKHR5cGVNYXRjaCYmdHlwZU1hdGNoWzJdKXtzLnR5cGU9dHlwZU1hdGNoWzJdfWhkLmFwcGVuZENoaWxkKHMpfWVsc2V7aWYobWF0Y2hbMl0mJm1hdGNoWzJdLmxlbmd0aD4wKXtpZih3aW5kb3cuZXhlY1NjcmlwdCl7d2luZG93LmV4ZWNTY3JpcHQobWF0Y2hbMl0pfWVsc2V7d2luZG93LmV2YWwobWF0Y2hbMl0pfX19fUV4dC5jYWxsYmFjayhjYWxsYmFjayxtZSl9LDIwKTtkb20uaW5uZXJIVE1MPWh0bWwucmVwbGFjZShyZXBsYWNlU2NyaXB0VGFnUmUsIiIpO3JldHVybiBtZX0scmVtb3ZlQWxsTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dGhpcy5yZW1vdmVBbmNob3IoKTtFeHQuRXZlbnRNYW5hZ2VyLnJlbW92ZUFsbCh0aGlzLmRvbSk7cmV0dXJuIHRoaXN9LGNyZWF0ZVByb3h5OmZ1bmN0aW9uKGNvbmZpZyxyZW5kZXJUbyxtYXRjaEJveCl7Y29uZmlnPSh0eXBlb2YgY29uZmlnPT0ib2JqZWN0Iik/Y29uZmlnOnt0YWc6ImRpdiIsY2xzOmNvbmZpZ307dmFyIG1lPXRoaXMscHJveHk9cmVuZGVyVG8/RXh0LkRvbUhlbHBlci5hcHBlbmQocmVuZGVyVG8sY29uZmlnLHRydWUpOkV4dC5Eb21IZWxwZXIuaW5zZXJ0QmVmb3JlKG1lLmRvbSxjb25maWcsdHJ1ZSk7cHJveHkuc2V0VmlzaWJpbGl0eU1vZGUoRWxlbWVudC5ESVNQTEFZKTtwcm94eS5oaWRlKCk7aWYobWF0Y2hCb3gmJm1lLnNldEJveCYmbWUuZ2V0Qm94KXtwcm94eS5zZXRCb3gobWUuZ2V0Qm94KCkpfXJldHVybiBwcm94eX0sZ2V0U2NvcGVQYXJlbnQ6ZnVuY3Rpb24oKXt2YXIgcGFyZW50PXRoaXMuZG9tLnBhcmVudE5vZGU7cmV0dXJuIEV4dC5zY29wZVJlc2V0Q1NTP3BhcmVudC5wYXJlbnROb2RlOnBhcmVudH0sbmVlZHNUYWJJbmRleDpmdW5jdGlvbigpe2lmKHRoaXMuZG9tKXtpZigodGhpcy5kb20ubm9kZU5hbWU9PT0iYSIpJiYoIXRoaXMuZG9tLmhyZWYpKXtyZXR1cm4gdHJ1ZX1yZXR1cm4gIWZvY3VzUmUudGVzdCh0aGlzLmRvbS5ub2RlTmFtZSl9fSxmb2N1c2FibGU6ZnVuY3Rpb24oKXt2YXIgZG9tPXRoaXMuZG9tLG5vZGVOYW1lPWRvbS5ub2RlTmFtZSxjYW5Gb2N1cz1mYWxzZTtpZighZG9tLmRpc2FibGVkKXtpZihmb2N1c1JlLnRlc3Qobm9kZU5hbWUpKXtpZigobm9kZU5hbWUhPT0iYSIpfHxkb20uaHJlZil7Y2FuRm9jdXM9dHJ1ZX19ZWxzZXtjYW5Gb2N1cz0haXNOYU4oZG9tLnRhYkluZGV4KX19cmV0dXJuIGNhbkZvY3VzJiZ0aGlzLmlzVmlzaWJsZSh0cnVlKX19KTtpZihFeHQuaXNJRSl7RWwucHJvdG90eXBlLmdldEJ5SWQ9ZnVuY3Rpb24oaWQsYXNEb20pe3ZhciBkb209dGhpcy5kb20sY2FjaGVkLGVsLHJldDtpZihkb20pe2VsPSh1c2VEb2NGb3JJZCYmRE9DLmdldEVsZW1lbnRCeUlkKGlkKSl8fGRvbS5hbGxbaWRdO2lmKGVsKXtpZihhc0RvbSl7cmV0PWVsfWVsc2V7Y2FjaGVkPUVDW2lkXTtpZihjYWNoZWQmJmNhY2hlZC5lbCl7cmV0PWNhY2hlZC5lbDtyZXQuZG9tPWVsfWVsc2V7cmV0PW5ldyBFbGVtZW50KGVsKX19cmV0dXJuIHJldH19cmV0dXJuIGFzRG9tP0V4dC5nZXREb20oaWQpOkVsLmdldChpZCl9fUVsLmNyZWF0ZUFsaWFzKHthZGRMaXN0ZW5lcjoib24iLHJlbW92ZUxpc3RlbmVyOiJ1biIsY2xlYXJMaXN0ZW5lcnM6InJlbW92ZUFsbExpc3RlbmVycyJ9KTtFbC5GbHk9QWJzdHJhY3RFbGVtZW50LkZseT1uZXcgRXh0LkNsYXNzKHtleHRlbmQ6RWwsY29uc3RydWN0b3I6ZnVuY3Rpb24oZG9tKXt0aGlzLmRvbT1kb219LGF0dGFjaDpBYnN0cmFjdEVsZW1lbnQuRmx5LnByb3RvdHlwZS5hdHRhY2h9KTtpZihFeHQuaXNJRSl7RXh0LmdldEVsZW1lbnRCeUlkPWZ1bmN0aW9uKGlkKXt2YXIgZWw9RE9DLmdldEVsZW1lbnRCeUlkKGlkKSxkZXRhY2hlZEJvZHlFbDtpZighZWwmJihkZXRhY2hlZEJvZHlFbD1BYnN0cmFjdEVsZW1lbnQuZGV0YWNoZWRCb2R5RWwpKXtlbD1kZXRhY2hlZEJvZHlFbC5kb20uYWxsW2lkXX1yZXR1cm4gZWx9fWVsc2V7aWYoIURPQy5xdWVyeVNlbGVjdG9yKXtFeHQuZ2V0RGV0YWNoZWRCb2R5PUV4dC5nZXRCb2R5O0V4dC5nZXRFbGVtZW50QnlJZD1mdW5jdGlvbihpZCl7cmV0dXJuIERPQy5nZXRFbGVtZW50QnlJZChpZCl9fX19KX0oKSk7RXh0LmRvbS5FbGVtZW50Lm92ZXJyaWRlKChmdW5jdGlvbigpe3ZhciBkPWRvY3VtZW50LGM9d2luZG93LGE9L14oW2Etel0rKS0oW2Etel0rKShcPyk/JC8sYj1NYXRoLnJvdW5kO3JldHVybntnZXRBbmNob3JYWTpmdW5jdGlvbihqLG8saCl7aj0oanx8InRsIikudG9Mb3dlckNhc2UoKTtoPWh8fHt9O3ZhciBtPXRoaXMsaT1tLmRvbT09ZC5ib2R5fHxtLmRvbT09ZCxlPWgud2lkdGh8fGk/RXh0LmRvbS5FbGVtZW50LmdldFZpZXdXaWR0aCgpOm0uZ2V0V2lkdGgoKSxnPWguaGVpZ2h0fHxpP0V4dC5kb20uRWxlbWVudC5nZXRWaWV3SGVpZ2h0KCk6bS5nZXRIZWlnaHQoKSxxLG49bS5nZXRYWSgpLHA9bS5nZXRTY3JvbGwoKSxsPWk/cC5sZWZ0OiFvP25bMF06MCxrPWk/cC50b3A6IW8/blsxXTowO3N3aXRjaChqKXtjYXNlInRsIjpxPVswLDBdO2JyZWFrO2Nhc2UiYmwiOnE9WzAsZ107YnJlYWs7Y2FzZSJ0ciI6cT1bZSwwXTticmVhaztjYXNlImMiOnE9W2IoZSowLjUpLGIoZyowLjUpXTticmVhaztjYXNlInQiOnE9W2IoZSowLjUpLDBdO2JyZWFrO2Nhc2UibCI6cT1bMCxiKGcqMC41KV07YnJlYWs7Y2FzZSJyIjpxPVtlLGIoZyowLjUpXTticmVhaztjYXNlImIiOnE9W2IoZSowLjUpLGddO2JyZWFrO2Nhc2UiYnIiOnE9W2UsZ119cmV0dXJuW3FbMF0rbCxxWzFdK2tdfSxnZXRBbGlnblRvWFk6ZnVuY3Rpb24obSxHLGope209RXh0LmdldChtKTtpZighbXx8IW0uZG9tKXt9aj1qfHxbMCwwXTtHPSghR3x8Rz09Ij8iPyJ0bC1ibD8iOighKC8tLykudGVzdChHKSYmRyE9PSIiPyJ0bC0iK0c6R3x8InRsLWJsIikpLnRvTG93ZXJDYXNlKCk7dmFyIEg9dGhpcyxsLHcscSxvLGsseixBLEU9RXh0LmRvbS5FbGVtZW50LmdldFZpZXdXaWR0aCgpLTEwLGk9RXh0LmRvbS5FbGVtZW50LmdldFZpZXdIZWlnaHQoKS0xMCxnLGgsbixwLHUsdixGPWQuZG9jdW1lbnRFbGVtZW50LHM9ZC5ib2R5LEQ9KEYuc2Nyb2xsTGVmdHx8cy5zY3JvbGxMZWZ0fHwwKSxCPShGLnNjcm9sbFRvcHx8cy5zY3JvbGxUb3B8fDApLEMsdCxyLGU9Ry5tYXRjaChhKTt0PWVbMV07cj1lWzJdO0M9ISFlWzNdO2w9SC5nZXRBbmNob3JYWSh0LHRydWUpO3c9bS5nZXRBbmNob3JYWShyLGZhbHNlKTtxPXdbMF0tbFswXStqWzBdO289d1sxXS1sWzFdK2pbMV07aWYoQyl7az1ILmdldFdpZHRoKCk7ej1ILmdldEhlaWdodCgpO0E9bS5nZXRSZWdpb24oKTtnPXQuY2hhckF0KDApO2g9dC5jaGFyQXQodC5sZW5ndGgtMSk7bj1yLmNoYXJBdCgwKTtwPXIuY2hhckF0KHIubGVuZ3RoLTEpO3U9KChnPT0idCImJm49PSJiIil8fChnPT0iYiImJm49PSJ0IikpO3Y9KChoPT0iciImJnA9PSJsIil8fChoPT0ibCImJnA9PSJyIikpO2lmKHEraz5FK0Qpe3E9dj9BLmxlZnQtazpFK0Qta31pZihxPEQpe3E9dj9BLnJpZ2h0OkR9aWYobyt6PmkrQil7bz11P0EudG9wLXo6aStCLXp9aWYobzxCKXtvPXU/QS5ib3R0b206Qn19cmV0dXJuW3Esb119LGFuY2hvclRvOmZ1bmN0aW9uKGcsbCxoLGUsbyxwKXt2YXIgbT10aGlzLGo9bS5kb20sbj0hRXh0LmlzRW1wdHkobyksaT1mdW5jdGlvbigpe0V4dC5mbHkoaikuYWxpZ25UbyhnLGwsaCxlKTtFeHQuY2FsbGJhY2socCxFeHQuZmx5KGopKX0saz10aGlzLmdldEFuY2hvcigpO3RoaXMucmVtb3ZlQW5jaG9yKCk7RXh0LmFwcGx5KGsse2ZuOmksc2Nyb2xsOm59KTtFeHQuRXZlbnRNYW5hZ2VyLm9uV2luZG93UmVzaXplKGksbnVsbCk7aWYobil7RXh0LkV2ZW50TWFuYWdlci5vbihjLCJzY3JvbGwiLGksbnVsbCx7YnVmZmVyOiFpc05hTihvKT9vOjUwfSl9aS5jYWxsKG0pO3JldHVybiBtfSxyZW1vdmVBbmNob3I6ZnVuY3Rpb24oKXt2YXIgZz10aGlzLGU9dGhpcy5nZXRBbmNob3IoKTtpZihlJiZlLmZuKXtFeHQuRXZlbnRNYW5hZ2VyLnJlbW92ZVJlc2l6ZUxpc3RlbmVyKGUuZm4pO2lmKGUuc2Nyb2xsKXtFeHQuRXZlbnRNYW5hZ2VyLnVuKGMsInNjcm9sbCIsZS5mbil9ZGVsZXRlIGUuZm59cmV0dXJuIGd9LGdldEFsaWduVmVjdG9yOmZ1bmN0aW9uKGgsZyxqKXt2YXIgaT10aGlzLGU9aS5nZXRYWSgpLGs9aS5nZXRBbGlnblRvWFkoaCxnLGopO2g9RXh0LmdldChoKTtrWzBdLT1lWzBdO2tbMV0tPWVbMV07cmV0dXJuIGt9LGFsaWduVG86ZnVuY3Rpb24oaCxlLGosZyl7dmFyIGk9dGhpcztyZXR1cm4gaS5zZXRYWShpLmdldEFsaWduVG9YWShoLGUsaiksaS5hbmltJiYhIWc/aS5hbmltKGcpOmZhbHNlKX0sZ2V0Q29uc3RyYWluVmVjdG9yOmZ1bmN0aW9uKGksZyl7aWYoIShpIGluc3RhbmNlb2YgRXh0LnV0aWwuUmVnaW9uKSl7aT1FeHQuZ2V0KGkpLmdldFZpZXdSZWdpb24oKX12YXIgaz10aGlzLmdldFJlZ2lvbigpLGU9WzAsMF0saj10aGlzLnNoYWRvdyYmdGhpcy5zaGFkb3cub2Zmc2V0LGg9ZmFsc2U7aWYoZyl7ay50cmFuc2xhdGVCeShnWzBdLWsueCxnWzFdLWsueSl9aWYoail7aS5hZGp1c3QoMCwtaiwtaixqKX1pZihrLnJpZ2h0PmkucmlnaHQpe2g9dHJ1ZTtlWzBdPShpLnJpZ2h0LWsucmlnaHQpfWlmKGsubGVmdCtlWzBdPGkubGVmdCl7aD10cnVlO2VbMF09KGkubGVmdC1rLmxlZnQpfWlmKGsuYm90dG9tPmkuYm90dG9tKXtoPXRydWU7ZVsxXT0oaS5ib3R0b20tay5ib3R0b20pfWlmKGsudG9wK2VbMV08aS50b3Ape2g9dHJ1ZTtlWzFdPShpLnRvcC1rLnRvcCl9cmV0dXJuIGg/ZTpmYWxzZX0sZ2V0Q2VudGVyWFk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBbGlnblRvWFkoZCwiYy1jIil9LGNlbnRlcjpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5hbGlnblRvKGV8fGQsImMtYyIpfX19KCkpKTtFeHQuZG9tLkVsZW1lbnQub3ZlcnJpZGUoe2FuaW1hdGU6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcyxjLGUsYT1kLmRvbS5pZHx8RXh0LmlkKGQuZG9tKTtpZighRXh0LmZ4Lk1hbmFnZXIuaGFzRnhCbG9jayhhKSl7aWYoYi5saXN0ZW5lcnMpe2M9Yi5saXN0ZW5lcnM7ZGVsZXRlIGIubGlzdGVuZXJzfWlmKGIuaW50ZXJuYWxMaXN0ZW5lcnMpe2IubGlzdGVuZXJzPWIuaW50ZXJuYWxMaXN0ZW5lcnM7ZGVsZXRlIGIuaW50ZXJuYWxMaXN0ZW5lcnN9ZT1uZXcgRXh0LmZ4LkFuaW0oZC5hbmltKGIpKTtpZihjKXtlLm9uKGMpfUV4dC5meC5NYW5hZ2VyLnF1ZXVlRngoZSl9cmV0dXJuIGR9LGFuaW06ZnVuY3Rpb24oYSl7aWYoIUV4dC5pc09iamVjdChhKSl7cmV0dXJuKGEpP3t9OmZhbHNlfXZhciBiPXRoaXMsYz1hLmR1cmF0aW9ufHxFeHQuZnguQW5pbS5wcm90b3R5cGUuZHVyYXRpb24sZT1hLmVhc2luZ3x8ImVhc2UiLGQ7aWYoYS5zdG9wQW5pbWF0aW9uKXtiLnN0b3BBbmltYXRpb24oKX1FeHQuYXBwbHlJZihhLEV4dC5meC5NYW5hZ2VyLmdldEZ4RGVmYXVsdHMoYi5pZCkpO0V4dC5meC5NYW5hZ2VyLnNldEZ4RGVmYXVsdHMoYi5pZCx7ZGVsYXk6MH0pO2Q9e3RhcmdldDpiLmRvbSxyZW1vdmU6YS5yZW1vdmUsYWx0ZXJuYXRlOmEuYWx0ZXJuYXRlfHxmYWxzZSxkdXJhdGlvbjpjLGVhc2luZzplLGNhbGxiYWNrOmEuY2FsbGJhY2ssbGlzdGVuZXJzOmEubGlzdGVuZXJzLGl0ZXJhdGlvbnM6YS5pdGVyYXRpb25zfHwxLHNjb3BlOmEuc2NvcGUsYmxvY2s6YS5ibG9jayxjb25jdXJyZW50OmEuY29uY3VycmVudCxkZWxheTphLmRlbGF5fHwwLHBhdXNlZDp0cnVlLGtleWZyYW1lczphLmtleWZyYW1lcyxmcm9tOmEuZnJvbXx8e30sdG86RXh0LmFwcGx5KHt9LGEpfTtFeHQuYXBwbHkoZC50byxhLnRvKTtkZWxldGUgZC50by50bztkZWxldGUgZC50by5mcm9tO2RlbGV0ZSBkLnRvLnJlbW92ZTtkZWxldGUgZC50by5hbHRlcm5hdGU7ZGVsZXRlIGQudG8ua2V5ZnJhbWVzO2RlbGV0ZSBkLnRvLml0ZXJhdGlvbnM7ZGVsZXRlIGQudG8ubGlzdGVuZXJzO2RlbGV0ZSBkLnRvLnRhcmdldDtkZWxldGUgZC50by5wYXVzZWQ7ZGVsZXRlIGQudG8uY2FsbGJhY2s7ZGVsZXRlIGQudG8uc2NvcGU7ZGVsZXRlIGQudG8uZHVyYXRpb247ZGVsZXRlIGQudG8uZWFzaW5nO2RlbGV0ZSBkLnRvLmNvbmN1cnJlbnQ7ZGVsZXRlIGQudG8uYmxvY2s7ZGVsZXRlIGQudG8uc3RvcEFuaW1hdGlvbjtkZWxldGUgZC50by5kZWxheTtyZXR1cm4gZH0sc2xpZGVJbjpmdW5jdGlvbihjLGIsZCl7dmFyIGc9dGhpcyxqPWcuZG9tLnN0eWxlLGksYSxlLGg7Yz1jfHwidCI7Yj1ifHx7fTtpPWZ1bmN0aW9uKCl7dmFyIG49dGhpcyxtPWIubGlzdGVuZXJzLG8sayxwLGw7aWYoIWQpe2cuZml4RGlzcGxheSgpfW89Zy5nZXRCb3goKTtpZigoYz09InQifHxjPT0iYiIpJiZvLmhlaWdodD09PTApe28uaGVpZ2h0PWcuZG9tLnNjcm9sbEhlaWdodH1lbHNle2lmKChjPT0ibCJ8fGM9PSJyIikmJm8ud2lkdGg9PT0wKXtvLndpZHRoPWcuZG9tLnNjcm9sbFdpZHRofX1rPWcuZ2V0U3R5bGVzKCJ3aWR0aCIsImhlaWdodCIsImxlZnQiLCJyaWdodCIsInRvcCIsImJvdHRvbSIsInBvc2l0aW9uIiwiei1pbmRleCIsdHJ1ZSk7Zy5zZXRTaXplKG8ud2lkdGgsby5oZWlnaHQpO2lmKGIucHJlc2VydmVTY3JvbGwpe2U9Zy5jYWNoZVNjcm9sbFZhbHVlcygpfWw9Zy53cmFwKHtpZDpFeHQuaWQoKSsiLWFuaW0td3JhcC1mb3ItIitnLmlkLHN0eWxlOnt2aXNpYmlsaXR5OmQ/InZpc2libGUiOiJoaWRkZW4ifX0pO2g9bC5kb20ucGFyZW50Tm9kZTtsLnNldFBvc2l0aW9uaW5nKGcuZ2V0UG9zaXRpb25pbmcoKSk7aWYobC5pc1N0eWxlKCJwb3NpdGlvbiIsInN0YXRpYyIpKXtsLnBvc2l0aW9uKCJyZWxhdGl2ZSIpfWcuY2xlYXJQb3NpdGlvbmluZygiYXV0byIpO2wuY2xpcCgpO2lmKGUpe2UoKX1nLnNldFN0eWxlKHt2aXNpYmlsaXR5OiIiLHBvc2l0aW9uOiJhYnNvbHV0ZSJ9KTtpZihkKXtsLnNldFNpemUoby53aWR0aCxvLmhlaWdodCl9c3dpdGNoKGMpe2Nhc2UidCI6cD17ZnJvbTp7d2lkdGg6by53aWR0aCsicHgiLGhlaWdodDoiMHB4In0sdG86e3dpZHRoOm8ud2lkdGgrInB4IixoZWlnaHQ6by5oZWlnaHQrInB4In19O2ouYm90dG9tPSIwcHgiO2JyZWFrO2Nhc2UibCI6cD17ZnJvbTp7d2lkdGg6IjBweCIsaGVpZ2h0Om8uaGVpZ2h0KyJweCJ9LHRvOnt3aWR0aDpvLndpZHRoKyJweCIsaGVpZ2h0Om8uaGVpZ2h0KyJweCJ9fTtqLnJpZ2h0PSIwcHgiO2JyZWFrO2Nhc2UiciI6cD17ZnJvbTp7eDpvLngrby53aWR0aCx3aWR0aDoiMHB4IixoZWlnaHQ6by5oZWlnaHQrInB4In0sdG86e3g6by54LHdpZHRoOm8ud2lkdGgrInB4IixoZWlnaHQ6by5oZWlnaHQrInB4In19O2JyZWFrO2Nhc2UiYiI6cD17ZnJvbTp7eTpvLnkrby5oZWlnaHQsd2lkdGg6by53aWR0aCsicHgiLGhlaWdodDoiMHB4In0sdG86e3k6by55LHdpZHRoOm8ud2lkdGgrInB4IixoZWlnaHQ6by5oZWlnaHQrInB4In19O2JyZWFrO2Nhc2UidGwiOnA9e2Zyb206e3g6by54LHk6by55LHdpZHRoOiIwcHgiLGhlaWdodDoiMHB4In0sdG86e3dpZHRoOm8ud2lkdGgrInB4IixoZWlnaHQ6by5oZWlnaHQrInB4In19O2ouYm90dG9tPSIwcHgiO2oucmlnaHQ9IjBweCI7YnJlYWs7Y2FzZSJibCI6cD17ZnJvbTp7eDpvLngrby53aWR0aCx3aWR0aDoiMHB4IixoZWlnaHQ6IjBweCJ9LHRvOnt4Om8ueCx3aWR0aDpvLndpZHRoKyJweCIsaGVpZ2h0Om8uaGVpZ2h0KyJweCJ9fTtqLnJpZ2h0PSIwcHgiO2JyZWFrO2Nhc2UiYnIiOnA9e2Zyb206e3g6by54K28ud2lkdGgseTpvLnkrby5oZWlnaHQsd2lkdGg6IjBweCIsaGVpZ2h0OiIwcHgifSx0bzp7eDpvLngseTpvLnksd2lkdGg6by53aWR0aCsicHgiLGhlaWdodDpvLmhlaWdodCsicHgifX07YnJlYWs7Y2FzZSJ0ciI6cD17ZnJvbTp7eTpvLnkrby5oZWlnaHQsd2lkdGg6IjBweCIsaGVpZ2h0OiIwcHgifSx0bzp7eTpvLnksd2lkdGg6by53aWR0aCsicHgiLGhlaWdodDpvLmhlaWdodCsicHgifX07ai5ib3R0b209IjBweCI7YnJlYWt9bC5zaG93KCk7YT1FeHQuYXBwbHkoe30sYik7ZGVsZXRlIGEubGlzdGVuZXJzO2E9bmV3IEV4dC5meC5BbmltKEV4dC5hcHBseUlmKGEse3RhcmdldDpsLGR1cmF0aW9uOjUwMCxlYXNpbmc6ImVhc2Utb3V0Iixmcm9tOmQ/cC50bzpwLmZyb20sdG86ZD9wLmZyb206cC50b30pKTthLm9uKCJhZnRlcmFuaW1hdGUiLGZ1bmN0aW9uKCl7Zy5zZXRTdHlsZShrKTtpZihkKXtpZihiLnVzZURpc3BsYXkpe2cuc2V0RGlzcGxheWVkKGZhbHNlKX1lbHNle2cuaGlkZSgpfX1pZihsLmRvbSl7aWYobC5kb20ucGFyZW50Tm9kZSl7bC5kb20ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZy5kb20sbC5kb20pfWVsc2V7aC5hcHBlbmRDaGlsZChnLmRvbSl9bC5yZW1vdmUoKX1pZihlKXtlKCl9bi5lbmQoKX0pO2lmKG0pe2Eub24obSl9fTtnLmFuaW1hdGUoe2R1cmF0aW9uOmIuZHVyYXRpb24/TWF0aC5tYXgoYi5kdXJhdGlvbiw1MDApKjI6MTAwMCxsaXN0ZW5lcnM6e2JlZm9yZWFuaW1hdGU6aX19KTtyZXR1cm4gZ30sc2xpZGVPdXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5zbGlkZUluKGEsYix0cnVlKX0scHVmZjpmdW5jdGlvbihlKXt2YXIgZD10aGlzLGIsYz1kLmdldEJveCgpLGE9ZC5nZXRTdHlsZXMoIndpZHRoIiwiaGVpZ2h0IiwibGVmdCIsInJpZ2h0IiwidG9wIiwiYm90dG9tIiwicG9zaXRpb24iLCJ6LWluZGV4IiwiZm9udC1zaXplIiwib3BhY2l0eSIsdHJ1ZSk7ZT1FeHQuYXBwbHlJZihlfHx7fSx7ZWFzaW5nOiJlYXNlLW91dCIsZHVyYXRpb246NTAwLHVzZURpc3BsYXk6ZmFsc2V9KTtiPWZ1bmN0aW9uKCl7ZC5jbGVhck9wYWNpdHkoKTtkLnNob3coKTt0aGlzLnRvPXt3aWR0aDpjLndpZHRoKjIsaGVpZ2h0OmMuaGVpZ2h0KjIseDpjLngtKGMud2lkdGgvMikseTpjLnktKGMuaGVpZ2h0LzIpLG9wYWNpdHk6MCxmb250U2l6ZToiMjAwJSJ9O3RoaXMub24oImFmdGVyYW5pbWF0ZSIsZnVuY3Rpb24oKXtpZihkLmRvbSl7aWYoZS51c2VEaXNwbGF5KXtkLnNldERpc3BsYXllZChmYWxzZSl9ZWxzZXtkLmhpZGUoKX1kLnNldFN0eWxlKGEpO2UuY2FsbGJhY2suY2FsbChlLnNjb3BlKX19KX07ZC5hbmltYXRlKHtkdXJhdGlvbjplLmR1cmF0aW9uLGVhc2luZzplLmVhc2luZyxsaXN0ZW5lcnM6e2JlZm9yZWFuaW1hdGU6e2ZuOmJ9fX0pO3JldHVybiBkfSxzd2l0Y2hPZmY6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhO2M9RXh0LmFwcGx5SWYoY3x8e30se2Vhc2luZzoiZWFzZS1pbiIsZHVyYXRpb246NTAwLHJlbW92ZTpmYWxzZSx1c2VEaXNwbGF5OmZhbHNlfSk7YT1mdW5jdGlvbigpe3ZhciBoPXRoaXMsZz1iLmdldFNpemUoKSxpPWIuZ2V0WFkoKSxlLGQ7Yi5jbGVhck9wYWNpdHkoKTtiLmNsaXAoKTtkPWIuZ2V0UG9zaXRpb25pbmcoKTtlPW5ldyBFeHQuZnguQW5pbWF0b3Ioe3RhcmdldDpiLGR1cmF0aW9uOmMuZHVyYXRpb24sZWFzaW5nOmMuZWFzaW5nLGtleWZyYW1lczp7MzM6e29wYWNpdHk6MC4zfSw2Njp7aGVpZ2h0OjEseTppWzFdK2cuaGVpZ2h0LzJ9LDEwMDp7d2lkdGg6MSx4OmlbMF0rZy53aWR0aC8yfX19KTtlLm9uKCJhZnRlcmFuaW1hdGUiLGZ1bmN0aW9uKCl7aWYoYy51c2VEaXNwbGF5KXtiLnNldERpc3BsYXllZChmYWxzZSl9ZWxzZXtiLmhpZGUoKX1iLmNsZWFyT3BhY2l0eSgpO2Iuc2V0UG9zaXRpb25pbmcoZCk7Yi5zZXRTaXplKGcpO2guZW5kKCl9KX07Yi5hbmltYXRlKHtkdXJhdGlvbjooTWF0aC5tYXgoYy5kdXJhdGlvbiw1MDApKjIpLGxpc3RlbmVyczp7YmVmb3JlYW5pbWF0ZTp7Zm46YX19fSk7cmV0dXJuIGJ9LGZyYW1lOmZ1bmN0aW9uKGEsZCxlKXt2YXIgYz10aGlzLGI7YT1hfHwiI0MzREFGOSI7ZD1kfHwxO2U9ZXx8e307Yj1mdW5jdGlvbigpe2Muc2hvdygpO3ZhciBpPXRoaXMsaj1jLmdldEJveCgpLGg9RXh0LmdldEJvZHkoKS5jcmVhdGVDaGlsZCh7aWQ6Yy5pZCsiLWFuaW0tcHJveHkiLHN0eWxlOntwb3NpdGlvbjoiYWJzb2x1dGUiLCJwb2ludGVyLWV2ZW50cyI6Im5vbmUiLCJ6LWluZGV4IjozNTAwMCxib3JkZXI6IjBweCBzb2xpZCAiK2F9fSksZztnPW5ldyBFeHQuZnguQW5pbSh7dGFyZ2V0OmgsZHVyYXRpb246ZS5kdXJhdGlvbnx8MTAwMCxpdGVyYXRpb25zOmQsZnJvbTp7dG9wOmoueSxsZWZ0OmoueCxib3JkZXJXaWR0aDowLG9wYWNpdHk6MSxoZWlnaHQ6ai5oZWlnaHQsd2lkdGg6ai53aWR0aH0sdG86e3RvcDpqLnktMjAsbGVmdDpqLngtMjAsYm9yZGVyV2lkdGg6MTAsb3BhY2l0eTowLGhlaWdodDpqLmhlaWdodCs0MCx3aWR0aDpqLndpZHRoKzQwfX0pO2cub24oImFmdGVyYW5pbWF0ZSIsZnVuY3Rpb24oKXtoLnJlbW92ZSgpO2kuZW5kKCl9KX07Yy5hbmltYXRlKHtkdXJhdGlvbjooTWF0aC5tYXgoZS5kdXJhdGlvbiw1MDApKjIpfHwyMDAwLGxpc3RlbmVyczp7YmVmb3JlYW5pbWF0ZTp7Zm46Yn19fSk7cmV0dXJuIGN9LGdob3N0OmZ1bmN0aW9uKGEsZCl7dmFyIGM9dGhpcyxiO2E9YXx8ImIiO2I9ZnVuY3Rpb24oKXt2YXIgaD1jLmdldFdpZHRoKCksZz1jLmdldEhlaWdodCgpLGk9Yy5nZXRYWSgpLGU9Yy5nZXRQb3NpdGlvbmluZygpLGo9e29wYWNpdHk6MH07c3dpdGNoKGEpe2Nhc2UidCI6ai55PWlbMV0tZzticmVhaztjYXNlImwiOmoueD1pWzBdLWg7YnJlYWs7Y2FzZSJyIjpqLng9aVswXStoO2JyZWFrO2Nhc2UiYiI6ai55PWlbMV0rZzticmVhaztjYXNlInRsIjpqLng9aVswXS1oO2oueT1pWzFdLWc7YnJlYWs7Y2FzZSJibCI6ai54PWlbMF0taDtqLnk9aVsxXStnO2JyZWFrO2Nhc2UiYnIiOmoueD1pWzBdK2g7ai55PWlbMV0rZzticmVhaztjYXNlInRyIjpqLng9aVswXStoO2oueT1pWzFdLWc7YnJlYWt9dGhpcy50bz1qO3RoaXMub24oImFmdGVyYW5pbWF0ZSIsZnVuY3Rpb24oKXtpZihjLmRvbSl7Yy5oaWRlKCk7Yy5jbGVhck9wYWNpdHkoKTtjLnNldFBvc2l0aW9uaW5nKGUpfX0pfTtjLmFuaW1hdGUoRXh0LmFwcGx5SWYoZHx8e30se2R1cmF0aW9uOjUwMCxlYXNpbmc6ImVhc2Utb3V0IixsaXN0ZW5lcnM6e2JlZm9yZWFuaW1hdGU6e2ZuOmJ9fX0pKTtyZXR1cm4gY30saGlnaGxpZ2h0OmZ1bmN0aW9uKGQsYil7dmFyIGk9dGhpcyxlPWkuZG9tLGs9e30saCxsLGcsYyxhLGo7Yj1ifHx7fTtjPWIubGlzdGVuZXJzfHx7fTtnPWIuYXR0cnx8ImJhY2tncm91bmRDb2xvciI7a1tnXT1kfHwiZmZmZjljIjtpZighYi50byl7bD17fTtsW2ddPWIuZW5kQ29sb3J8fGkuZ2V0Q29sb3IoZywiZmZmZmZmIiwiIil9ZWxzZXtsPWIudG99Yi5saXN0ZW5lcnM9RXh0LmFwcGx5KEV4dC5hcHBseSh7fSxjKSx7YmVmb3JlYW5pbWF0ZTpmdW5jdGlvbigpe2g9ZS5zdHlsZVtnXTtpLmNsZWFyT3BhY2l0eSgpO2kuc2hvdygpO2E9Yy5iZWZvcmVhbmltYXRlO2lmKGEpe2o9YS5mbnx8YTtyZXR1cm4gai5hcHBseShhLnNjb3BlfHxjLnNjb3BlfHx3aW5kb3csYXJndW1lbnRzKX19LGFmdGVyYW5pbWF0ZTpmdW5jdGlvbigpe2lmKGUpe2Uuc3R5bGVbZ109aH1hPWMuYWZ0ZXJhbmltYXRlO2lmKGEpe2o9YS5mbnx8YTtqLmFwcGx5KGEuc2NvcGV8fGMuc2NvcGV8fHdpbmRvdyxhcmd1bWVudHMpfX19KTtpLmFuaW1hdGUoRXh0LmFwcGx5KHt9LGIse2R1cmF0aW9uOjEwMDAsZWFzaW5nOiJlYXNlLWluIixmcm9tOmssdG86bH0pKTtyZXR1cm4gaX0scGF1c2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztFeHQuZnguTWFuYWdlci5zZXRGeERlZmF1bHRzKGIuaWQse2RlbGF5OmF9KTtyZXR1cm4gYn0sZmFkZUluOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7YS5hbmltYXRlKEV4dC5hcHBseSh7fSxiLHtvcGFjaXR5OjEsaW50ZXJuYWxMaXN0ZW5lcnM6e2JlZm9yZWFuaW1hdGU6ZnVuY3Rpb24oYyl7aWYoYS5pc1N0eWxlKCJkaXNwbGF5Iiwibm9uZSIpKXthLnNldERpc3BsYXllZCgiIil9ZWxzZXthLnNob3coKX19fX0pKTtyZXR1cm4gdGhpc30sZmFkZU91dDpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2I9RXh0LmFwcGx5KHtvcGFjaXR5OjAsaW50ZXJuYWxMaXN0ZW5lcnM6e2FmdGVyYW5pbWF0ZTpmdW5jdGlvbihjKXt2YXIgZD1hLmRvbTtpZihkJiZjLnRvLm9wYWNpdHk9PT0wKXtpZihiLnVzZURpc3BsYXkpe2Euc2V0RGlzcGxheWVkKGZhbHNlKX1lbHNle2EuaGlkZSgpfX19fX0sYik7YS5hbmltYXRlKGIpO3JldHVybiBhfSxzY2FsZTpmdW5jdGlvbihhLGIsYyl7dGhpcy5hbmltYXRlKEV4dC5hcHBseSh7fSxjLHt3aWR0aDphLGhlaWdodDpifSkpO3JldHVybiB0aGlzfSxzaGlmdDpmdW5jdGlvbihhKXt0aGlzLmFuaW1hdGUoYSk7cmV0dXJuIHRoaXN9fSk7RXh0LmRvbS5FbGVtZW50Lm92ZXJyaWRlKHtpbml0REQ6ZnVuY3Rpb24oYyxiLGQpe3ZhciBhPW5ldyBFeHQuZGQuREQoRXh0LmlkKHRoaXMuZG9tKSxjLGIpO3JldHVybiBFeHQuYXBwbHkoYSxkKX0saW5pdEREUHJveHk6ZnVuY3Rpb24oYyxiLGQpe3ZhciBhPW5ldyBFeHQuZGQuRERQcm94eShFeHQuaWQodGhpcy5kb20pLGMsYik7cmV0dXJuIEV4dC5hcHBseShhLGQpfSxpbml0RERUYXJnZXQ6ZnVuY3Rpb24oYyxiLGQpe3ZhciBhPW5ldyBFeHQuZGQuRERUYXJnZXQoRXh0LmlkKHRoaXMuZG9tKSxjLGIpO3JldHVybiBFeHQuYXBwbHkoYSxkKX19KTsoZnVuY3Rpb24oKXt2YXIgYj1FeHQuZG9tLkVsZW1lbnQsaT0idmlzaWJpbGl0eSIsZz0iZGlzcGxheSIsbj0ibm9uZSIsZT0iaGlkZGVuIixtPSJ2aXNpYmxlIixvPSJvZmZzZXRzIixqPSJhc2NsYXNzIixhPSJub3NpemUiLGM9Im9yaWdpbmFsRGlzcGxheSIsZD0idmlzaWJpbGl0eU1vZGUiLGg9ImlzVmlzaWJsZSIsbD1FeHQuYmFzZUNTU1ByZWZpeCsiaGlkZS1vZmZzZXRzIixrPWZ1bmN0aW9uKHEpe3ZhciByPShxLiRjYWNoZXx8cS5nZXRDYWNoZSgpKS5kYXRhLHM9cltjXTtpZihzPT09dW5kZWZpbmVkKXtyW2NdPXM9IiJ9cmV0dXJuIHN9LHA9ZnVuY3Rpb24ocil7dmFyIHM9KHIuJGNhY2hlfHxyLmdldENhY2hlKCkpLmRhdGEscT1zW2RdO2lmKHE9PT11bmRlZmluZWQpe3NbZF09cT1iLlZJU0lCSUxJVFl9cmV0dXJuIHF9O2Iub3ZlcnJpZGUoe29yaWdpbmFsRGlzcGxheToiIix2aXNpYmlsaXR5TW9kZToxLHNldFZpc2libGU6ZnVuY3Rpb24odSxxKXt2YXIgcz10aGlzLHQ9cy5kb20scj1wKHMpO2lmKHR5cGVvZiBxPT0ic3RyaW5nIil7c3dpdGNoKHEpe2Nhc2UgZzpyPWIuRElTUExBWTticmVhaztjYXNlIGk6cj1iLlZJU0lCSUxJVFk7YnJlYWs7Y2FzZSBvOnI9Yi5PRkZTRVRTO2JyZWFrO2Nhc2UgYTpjYXNlIGo6cj1iLkFTQ0xBU1M7YnJlYWt9cy5zZXRWaXNpYmlsaXR5TW9kZShyKTtxPWZhbHNlfWlmKCFxfHwhcy5hbmltKXtpZihyPT1iLkRJU1BMQVkpe3JldHVybiBzLnNldERpc3BsYXllZCh1KX1lbHNle2lmKHI9PWIuT0ZGU0VUUyl7c1t1PyJyZW1vdmVDbHMiOiJhZGRDbHMiXShsKX1lbHNle2lmKHI9PWIuVklTSUJJTElUWSl7cy5maXhEaXNwbGF5KCk7dC5zdHlsZS52aXNpYmlsaXR5PXU/IiI6ZX1lbHNle2lmKHI9PWIuQVNDTEFTUyl7c1t1PyJyZW1vdmVDbHMiOiJhZGRDbHMiXShzLnZpc2liaWxpdHlDbHN8fGIudmlzaWJpbGl0eUNscyl9fX19fWVsc2V7aWYodSl7cy5zZXRPcGFjaXR5KDAuMDEpO3Muc2V0VmlzaWJsZSh0cnVlKX1pZighRXh0LmlzT2JqZWN0KHEpKXtxPXtkdXJhdGlvbjozNTAsZWFzaW5nOiJlYXNlLWluIn19cy5hbmltYXRlKEV4dC5hcHBseUlmKHtjYWxsYmFjazpmdW5jdGlvbigpe2lmKCF1KXtzLnNldFZpc2libGUoZmFsc2UpLnNldE9wYWNpdHkoMSl9fSx0bzp7b3BhY2l0eToodSk/MTowfX0scSkpfShzLiRjYWNoZXx8cy5nZXRDYWNoZSgpKS5kYXRhW2hdPXU7cmV0dXJuIHN9LGhhc01ldHJpY3M6ZnVuY3Rpb24oKXt2YXIgcT1wKHRoaXMpO3JldHVybiB0aGlzLmlzVmlzaWJsZSgpfHwocT09Yi5PRkZTRVRTKXx8KHE9PWIuVklTSUJJTElUWSl9LHRvZ2dsZTpmdW5jdGlvbihxKXt2YXIgcj10aGlzO3Iuc2V0VmlzaWJsZSghci5pc1Zpc2libGUoKSxyLmFuaW0ocSkpO3JldHVybiByfSxzZXREaXNwbGF5ZWQ6ZnVuY3Rpb24ocSl7aWYodHlwZW9mIHE9PSJib29sZWFuIil7cT1xP2sodGhpcyk6bn10aGlzLnNldFN0eWxlKGcscSk7cmV0dXJuIHRoaXN9LGZpeERpc3BsYXk6ZnVuY3Rpb24oKXt2YXIgcT10aGlzO2lmKHEuaXNTdHlsZShnLG4pKXtxLnNldFN0eWxlKGksZSk7cS5zZXRTdHlsZShnLGsocSkpO2lmKHEuaXNTdHlsZShnLG4pKXtxLnNldFN0eWxlKGcsImJsb2NrIil9fX0saGlkZTpmdW5jdGlvbihxKXtpZih0eXBlb2YgcT09InN0cmluZyIpe3RoaXMuc2V0VmlzaWJsZShmYWxzZSxxKTtyZXR1cm4gdGhpc310aGlzLnNldFZpc2libGUoZmFsc2UsdGhpcy5hbmltKHEpKTtyZXR1cm4gdGhpc30sc2hvdzpmdW5jdGlvbihxKXtpZih0eXBlb2YgcT09InN0cmluZyIpe3RoaXMuc2V0VmlzaWJsZSh0cnVlLHEpO3JldHVybiB0aGlzfXRoaXMuc2V0VmlzaWJsZSh0cnVlLHRoaXMuYW5pbShxKSk7cmV0dXJuIHRoaXN9fSl9KCkpOyhmdW5jdGlvbigpe3ZhciByPUV4dC5kb20uRWxlbWVudCxuPSJsZWZ0IixrPSJyaWdodCIscT0idG9wIixoPSJib3R0b20iLG89InBvc2l0aW9uIixqPSJzdGF0aWMiLHg9InJlbGF0aXZlIixwPSJhdXRvIix2PSJ6LWluZGV4Iix1PSJCT0RZIixjPSJwYWRkaW5nIix0PSJib3JkZXIiLHM9Ii1sZWZ0IixtPSItcmlnaHQiLGE9Ii10b3AiLGw9Ii1ib3R0b20iLGc9Ii13aWR0aCIsZT17bDp0K3MrZyxyOnQrbStnLHQ6dCthK2csYjp0K2wrZ30sZD17bDpjK3MscjpjK20sdDpjK2EsYjpjK2x9LHc9W2QubCxkLnIsZC50LGQuYl0sYj1bZS5sLGUucixlLnQsZS5iXSxpPVsicG9zaXRpb24iLCJ0b3AiLCJsZWZ0Il07ci5vdmVycmlkZSh7Z2V0WDpmdW5jdGlvbigpe3JldHVybiByLmdldFgodGhpcy5kb20pfSxnZXRZOmZ1bmN0aW9uKCl7cmV0dXJuIHIuZ2V0WSh0aGlzLmRvbSl9LGdldFhZOmZ1bmN0aW9uKCl7cmV0dXJuIHIuZ2V0WFkodGhpcy5kb20pfSxnZXRPZmZzZXRzVG86ZnVuY3Rpb24oeSl7dmFyIEE9dGhpcy5nZXRYWSgpLHo9RXh0LmZseSh5LCJfaW50ZXJuYWwiKS5nZXRYWSgpO3JldHVybltBWzBdLXpbMF0sQVsxXS16WzFdXX0sc2V0WDpmdW5jdGlvbih5LHope3JldHVybiB0aGlzLnNldFhZKFt5LHRoaXMuZ2V0WSgpXSx6KX0sc2V0WTpmdW5jdGlvbihBLHope3JldHVybiB0aGlzLnNldFhZKFt0aGlzLmdldFgoKSxBXSx6KX0sc2V0TGVmdDpmdW5jdGlvbih5KXt0aGlzLnNldFN0eWxlKG4sdGhpcy5hZGRVbml0cyh5KSk7cmV0dXJuIHRoaXN9LHNldFRvcDpmdW5jdGlvbih5KXt0aGlzLnNldFN0eWxlKHEsdGhpcy5hZGRVbml0cyh5KSk7cmV0dXJuIHRoaXN9LHNldFJpZ2h0OmZ1bmN0aW9uKHkpe3RoaXMuc2V0U3R5bGUoayx0aGlzLmFkZFVuaXRzKHkpKTtyZXR1cm4gdGhpc30sc2V0Qm90dG9tOmZ1bmN0aW9uKHkpe3RoaXMuc2V0U3R5bGUoaCx0aGlzLmFkZFVuaXRzKHkpKTtyZXR1cm4gdGhpc30sc2V0WFk6ZnVuY3Rpb24oQSx5KXt2YXIgej10aGlzO2lmKCF5fHwhei5hbmltKXtyLnNldFhZKHouZG9tLEEpfWVsc2V7aWYoIUV4dC5pc09iamVjdCh5KSl7eT17fX16LmFuaW1hdGUoRXh0LmFwcGx5SWYoe3RvOnt4OkFbMF0seTpBWzFdfX0seSkpfXJldHVybiB6fSxnZXRMZWZ0OmZ1bmN0aW9uKHkpe3JldHVybiAheT90aGlzLmdldFgoKTpwYXJzZUZsb2F0KHRoaXMuZ2V0U3R5bGUobikpfHwwfSxnZXRSaWdodDpmdW5jdGlvbih5KXt2YXIgej10aGlzO3JldHVybiAheT96LmdldFgoKSt6LmdldFdpZHRoKCk6KHouZ2V0TGVmdCh0cnVlKSt6LmdldFdpZHRoKCkpfHwwfSxnZXRUb3A6ZnVuY3Rpb24oeSl7cmV0dXJuICF5P3RoaXMuZ2V0WSgpOnBhcnNlRmxvYXQodGhpcy5nZXRTdHlsZShxKSl8fDB9LGdldEJvdHRvbTpmdW5jdGlvbih5KXt2YXIgej10aGlzO3JldHVybiAheT96LmdldFkoKSt6LmdldEhlaWdodCgpOih6LmdldFRvcCh0cnVlKSt6LmdldEhlaWdodCgpKXx8MH0sdHJhbnNsYXRlUG9pbnRzOmZ1bmN0aW9uKHosRyl7dmFyIEI9dGhpcyxBPUIuZ2V0U3R5bGUoaSksQz1BLnBvc2l0aW9uPT0icmVsYXRpdmUiLEY9cGFyc2VGbG9hdChBLmxlZnQpLEU9cGFyc2VGbG9hdChBLnRvcCksRD1CLmdldFhZKCk7aWYoRXh0LmlzQXJyYXkoeikpe0c9elsxXTt6PXpbMF19aWYoaXNOYU4oRikpe0Y9Qz8wOkIuZG9tLm9mZnNldExlZnR9aWYoaXNOYU4oRSkpe0U9Qz8wOkIuZG9tLm9mZnNldFRvcH1GPSh0eXBlb2Ygej09Im51bWJlciIpP3otRFswXStGOnVuZGVmaW5lZDtFPSh0eXBlb2YgRz09Im51bWJlciIpP0ctRFsxXStFOnVuZGVmaW5lZDtyZXR1cm57bGVmdDpGLHRvcDpFfX0sc2V0Qm94OmZ1bmN0aW9uKEMsRCx6KXt2YXIgQj10aGlzLHk9Qy53aWR0aCxBPUMuaGVpZ2h0O2lmKChEJiYhQi5hdXRvQm94QWRqdXN0KSYmIUIuaXNCb3JkZXJCb3goKSl7eS09KEIuZ2V0Qm9yZGVyV2lkdGgoImxyIikrQi5nZXRQYWRkaW5nKCJsciIpKTtBLT0oQi5nZXRCb3JkZXJXaWR0aCgidGIiKStCLmdldFBhZGRpbmcoInRiIikpfUIuc2V0Qm91bmRzKEMueCxDLnkseSxBLHopO3JldHVybiBCfSxnZXRCb3g6ZnVuY3Rpb24oRCxJKXt2YXIgRj10aGlzLE0seixILEMsSyxBLHksTCxHLEosQixFO2lmKCFJKXtNPUYuZ2V0WFkoKX1lbHNle009Ri5nZXRTdHlsZShbbixxXSk7TT1bcGFyc2VGbG9hdChNLmxlZnQpfHwwLHBhcnNlRmxvYXQoTS50b3ApfHwwXX1KPUYuZ2V0V2lkdGgoKTtCPUYuZ2V0SGVpZ2h0KCk7aWYoIUQpe0U9e3g6TVswXSx5Ok1bMV0sMDpNWzBdLDE6TVsxXSx3aWR0aDpKLGhlaWdodDpCfX1lbHNle0M9Ri5nZXRTdHlsZSh3KTtLPUYuZ2V0U3R5bGUoYik7QT0ocGFyc2VGbG9hdChLW2UubF0pfHwwKSsocGFyc2VGbG9hdChDW2QubF0pfHwwKTt5PShwYXJzZUZsb2F0KEtbZS5yXSl8fDApKyhwYXJzZUZsb2F0KENbZC5yXSl8fDApO0w9KHBhcnNlRmxvYXQoS1tlLnRdKXx8MCkrKHBhcnNlRmxvYXQoQ1tkLnRdKXx8MCk7Rz0ocGFyc2VGbG9hdChLW2UuYl0pfHwwKSsocGFyc2VGbG9hdChDW2QuYl0pfHwwKTtFPXt4Ok1bMF0rQSx5Ok1bMV0rTCwwOk1bMF0rQSwxOk1bMV0rTCx3aWR0aDpKLShBK3kpLGhlaWdodDpCLShMK0cpfX1FLnJpZ2h0PUUueCtFLndpZHRoO0UuYm90dG9tPUUueStFLmhlaWdodDtyZXR1cm4gRX0sZ2V0UGFnZUJveDpmdW5jdGlvbihCKXt2YXIgRD10aGlzLHo9RC5kb20sRj16Lm5vZGVOYW1lPT11LEc9Rj9FeHQuZG9tLkFic3RyYWN0RWxlbWVudC5nZXRWaWV3V2lkdGgoKTp6Lm9mZnNldFdpZHRoLEM9Rj9FeHQuZG9tLkFic3RyYWN0RWxlbWVudC5nZXRWaWV3SGVpZ2h0KCk6ei5vZmZzZXRIZWlnaHQsST1ELmdldFhZKCksSD1JWzFdLHk9SVswXStHLEU9SVsxXStDLEE9SVswXTtpZihCKXtyZXR1cm4gbmV3IEV4dC51dGlsLlJlZ2lvbihILHksRSxBKX1lbHNle3JldHVybntsZWZ0OkEsdG9wOkgsd2lkdGg6RyxoZWlnaHQ6QyxyaWdodDp5LGJvdHRvbTpFfX19LHNldExvY2F0aW9uOmZ1bmN0aW9uKHosQixBKXtyZXR1cm4gdGhpcy5zZXRYWShbeixCXSxBKX0sbW92ZVRvOmZ1bmN0aW9uKHosQixBKXtyZXR1cm4gdGhpcy5zZXRYWShbeixCXSxBKX0scG9zaXRpb246ZnVuY3Rpb24oRCxDLHosQil7dmFyIEE9dGhpcztpZighRCYmQS5pc1N0eWxlKG8saikpe0Euc2V0U3R5bGUobyx4KX1lbHNle2lmKEQpe0Euc2V0U3R5bGUobyxEKX19aWYoQyl7QS5zZXRTdHlsZSh2LEMpfWlmKHp8fEIpe0Euc2V0WFkoW3p8fGZhbHNlLEJ8fGZhbHNlXSl9fSxjbGVhclBvc2l0aW9uaW5nOmZ1bmN0aW9uKHkpe3k9eXx8IiI7dGhpcy5zZXRTdHlsZSh7bGVmdDp5LHJpZ2h0OnksdG9wOnksYm90dG9tOnksInotaW5kZXgiOiIiLHBvc2l0aW9uOmp9KTtyZXR1cm4gdGhpc30sZ2V0UG9zaXRpb25pbmc6ZnVuY3Rpb24oKXt2YXIgeT10aGlzLmdldFN0eWxlKFtuLHEsbyxrLGgsdl0pO3lba109eVtuXT8iIjp5W2tdO3lbaF09eVtxXT8iIjp5W2hdO3JldHVybiB5fSxzZXRQb3NpdGlvbmluZzpmdW5jdGlvbih5KXt2YXIgQT10aGlzLHo9QS5kb20uc3R5bGU7QS5zZXRTdHlsZSh5KTtpZih5LnJpZ2h0PT1wKXt6LnJpZ2h0PSIifWlmKHkuYm90dG9tPT1wKXt6LmJvdHRvbT0iIn1yZXR1cm4gQX0sbW92ZTpmdW5jdGlvbihILEEsQil7dmFyIEU9dGhpcyxLPUUuZ2V0WFkoKSxJPUtbMF0sRz1LWzFdLEM9W0ktQSxHXSxKPVtJK0EsR10sRj1bSSxHLUFdLHo9W0ksRytBXSxEPXtsOkMsbGVmdDpDLHI6SixyaWdodDpKLHQ6Rix0b3A6Rix1cDpGLGI6eixib3R0b206eixkb3duOnp9O0g9SC50b0xvd2VyQ2FzZSgpO0UubW92ZVRvKERbSF1bMF0sRFtIXVsxXSxCKX0sc2V0TGVmdFRvcDpmdW5jdGlvbihBLHope3ZhciB5PXRoaXMuZG9tLnN0eWxlO3kubGVmdD1yLmFkZFVuaXRzKEEpO3kudG9wPXIuYWRkVW5pdHMoeik7cmV0dXJuIHRoaXN9LGdldFJlZ2lvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBhZ2VCb3godHJ1ZSl9LGdldFZpZXdSZWdpb246ZnVuY3Rpb24oKXt2YXIgQz10aGlzLEE9Qy5kb20ubm9kZU5hbWU9PXUseixGLEUsRCxCLHk7aWYoQSl7ej1DLmdldFNjcm9sbCgpO0Q9ei5sZWZ0O0U9ei50b3A7Qj1FeHQuZG9tLkFic3RyYWN0RWxlbWVudC5nZXRWaWV3cG9ydFdpZHRoKCk7eT1FeHQuZG9tLkFic3RyYWN0RWxlbWVudC5nZXRWaWV3cG9ydEhlaWdodCgpfWVsc2V7Rj1DLmdldFhZKCk7RD1GWzBdK0MuZ2V0Qm9yZGVyV2lkdGgoImwiKStDLmdldFBhZGRpbmcoImwiKTtFPUZbMV0rQy5nZXRCb3JkZXJXaWR0aCgidCIpK0MuZ2V0UGFkZGluZygidCIpO0I9Qy5nZXRXaWR0aCh0cnVlKTt5PUMuZ2V0SGVpZ2h0KHRydWUpfXJldHVybiBuZXcgRXh0LnV0aWwuUmVnaW9uKEUsRCtCLEUreSxEKX0sc2V0Qm91bmRzOmZ1bmN0aW9uKEEsRSxDLHosQil7dmFyIEQ9dGhpcztpZighQnx8IUQuYW5pbSl7RC5zZXRTaXplKEMseik7RC5zZXRMb2NhdGlvbihBLEUpfWVsc2V7aWYoIUV4dC5pc09iamVjdChCKSl7Qj17fX1ELmFuaW1hdGUoRXh0LmFwcGx5SWYoe3RvOnt4OkEseTpFLHdpZHRoOkQuYWRqdXN0V2lkdGgoQyksaGVpZ2h0OkQuYWRqdXN0SGVpZ2h0KHopfX0sQikpfXJldHVybiBEfSxzZXRSZWdpb246ZnVuY3Rpb24oeix5KXtyZXR1cm4gdGhpcy5zZXRCb3VuZHMoei5sZWZ0LHoudG9wLHoucmlnaHQtei5sZWZ0LHouYm90dG9tLXoudG9wLHkpfX0pfSgpKTtFeHQuZG9tLkVsZW1lbnQub3ZlcnJpZGUoe2lzU2Nyb2xsYWJsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZG9tO3JldHVybiBhLnNjcm9sbEhlaWdodD5hLmNsaWVudEhlaWdodHx8YS5zY3JvbGxXaWR0aD5hLmNsaWVudFdpZHRofSxnZXRTY3JvbGw6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLmRvbSxoPWRvY3VtZW50LGE9aC5ib2R5LGM9aC5kb2N1bWVudEVsZW1lbnQsYixnLGU7aWYoaT09aHx8aT09YSl7aWYoRXh0LmlzSUUmJkV4dC5pc1N0cmljdCl7Yj1jLnNjcm9sbExlZnQ7Zz1jLnNjcm9sbFRvcH1lbHNle2I9d2luZG93LnBhZ2VYT2Zmc2V0O2c9d2luZG93LnBhZ2VZT2Zmc2V0fWU9e2xlZnQ6Ynx8KGE/YS5zY3JvbGxMZWZ0OjApLHRvcDpnfHwoYT9hLnNjcm9sbFRvcDowKX19ZWxzZXtlPXtsZWZ0Omkuc2Nyb2xsTGVmdCx0b3A6aS5zY3JvbGxUb3B9fXJldHVybiBlfSxzY3JvbGxCeTpmdW5jdGlvbihiLGEsYyl7dmFyIGQ9dGhpcyxlPWQuZG9tO2lmKGIubGVuZ3RoKXtjPWE7YT1iWzFdO2I9YlswXX1lbHNle2lmKHR5cGVvZiBiIT0ibnVtYmVyIil7Yz1hO2E9Yi55O2I9Yi54fX1pZihiKXtkLnNjcm9sbFRvKCJsZWZ0IixNYXRoLm1heChNYXRoLm1pbihlLnNjcm9sbExlZnQrYixlLnNjcm9sbFdpZHRoLWUuY2xpZW50V2lkdGgpLDApLGMpfWlmKGEpe2Quc2Nyb2xsVG8oInRvcCIsTWF0aC5tYXgoTWF0aC5taW4oZS5zY3JvbGxUb3ArYSxlLnNjcm9sbEhlaWdodC1lLmNsaWVudEhlaWdodCksMCksYyl9cmV0dXJuIGR9LHNjcm9sbFRvOmZ1bmN0aW9uKGIsZCxhKXt2YXIgZz0vdG9wL2kudGVzdChiKSxjPXRoaXMsaD1jLmRvbSxlPXt9LGk7aWYoIWF8fCFjLmFuaW0pe2k9InNjcm9sbCIrKGc/IlRvcCI6IkxlZnQiKTtoW2ldPWR9ZWxzZXtpZighRXh0LmlzT2JqZWN0KGEpKXthPXt9fWVbInNjcm9sbCIrKGc/IlRvcCI6IkxlZnQiKV09ZDtjLmFuaW1hdGUoRXh0LmFwcGx5SWYoe3RvOmV9LGEpKX1yZXR1cm4gY30sc2Nyb2xsSW50b1ZpZXc6ZnVuY3Rpb24oYixlKXtiPUV4dC5nZXREb20oYil8fEV4dC5nZXRCb2R5KCkuZG9tO3ZhciBjPXRoaXMuZG9tLGg9dGhpcy5nZXRPZmZzZXRzVG8oYiksZz1oWzBdK2Iuc2Nyb2xsTGVmdCxqPWhbMV0rYi5zY3JvbGxUb3AsYT1qK2Mub2Zmc2V0SGVpZ2h0LGs9ZytjLm9mZnNldFdpZHRoLG49Yi5jbGllbnRIZWlnaHQsbT1wYXJzZUludChiLnNjcm9sbFRvcCwxMCksZD1wYXJzZUludChiLnNjcm9sbExlZnQsMTApLGk9bStuLGw9ZCtiLmNsaWVudFdpZHRoO2lmKGMub2Zmc2V0SGVpZ2h0Pm58fGo8bSl7Yi5zY3JvbGxUb3A9an1lbHNle2lmKGE+aSl7Yi5zY3JvbGxUb3A9YS1ufX1iLnNjcm9sbFRvcD1iLnNjcm9sbFRvcDtpZihlIT09ZmFsc2Upe2lmKGMub2Zmc2V0V2lkdGg+Yi5jbGllbnRXaWR0aHx8ZzxkKXtiLnNjcm9sbExlZnQ9Z31lbHNle2lmKGs+bCl7Yi5zY3JvbGxMZWZ0PWstYi5jbGllbnRXaWR0aH19Yi5zY3JvbGxMZWZ0PWIuc2Nyb2xsTGVmdH1yZXR1cm4gdGhpc30sc2Nyb2xsQ2hpbGRJbnRvVmlldzpmdW5jdGlvbihiLGEpe0V4dC5mbHkoYiwiX3Njcm9sbENoaWxkSW50b1ZpZXciKS5zY3JvbGxJbnRvVmlldyh0aGlzLGEpfSxzY3JvbGw6ZnVuY3Rpb24obSxiLGQpe2lmKCF0aGlzLmlzU2Nyb2xsYWJsZSgpKXtyZXR1cm4gZmFsc2V9dmFyIGU9dGhpcy5kb20sZz1lLnNjcm9sbExlZnQscD1lLnNjcm9sbFRvcCxuPWUuc2Nyb2xsV2lkdGgsaz1lLnNjcm9sbEhlaWdodCxpPWUuY2xpZW50V2lkdGgsYT1lLmNsaWVudEhlaWdodCxjPWZhbHNlLG8saj17bDpNYXRoLm1pbihnK2Isbi1pKSxyOm89TWF0aC5tYXgoZy1iLDApLHQ6TWF0aC5tYXgocC1iLDApLGI6TWF0aC5taW4ocCtiLGstYSl9O2ouZD1qLmI7ai51PWoudDttPW0uc3Vic3RyKDAsMSk7aWYoKG89alttXSk+LTEpe2M9dHJ1ZTt0aGlzLnNjcm9sbFRvKG09PSJsInx8bT09InIiPyJsZWZ0IjoidG9wIixvLHRoaXMuYW5pbShkKSl9cmV0dXJuIGN9fSk7KGZ1bmN0aW9uKCl7dmFyIHA9RXh0LmRvbS5FbGVtZW50LG09ZG9jdW1lbnQuZGVmYXVsdFZpZXcsbj0vdGFibGUtcm93fHRhYmxlLS4qLWdyb3VwLyxhPSJfaW50ZXJuYWwiLHI9ImhpZGRlbiIsbz0iaGVpZ2h0IixnPSJ3aWR0aCIsZT0iaXNDbGlwcGVkIixpPSJvdmVyZmxvdyIsbD0ib3ZlcmZsb3cteCIsaj0ib3ZlcmZsb3cteSIscz0ib3JpZ2luYWxDbGlwIixiPS8jZG9jdW1lbnR8Ym9keS9pLHQsZCxxLGgsdTtpZighbXx8IW0uZ2V0Q29tcHV0ZWRTdHlsZSl7cC5wcm90b3R5cGUuZ2V0U3R5bGU9ZnVuY3Rpb24oeix5KXt2YXIgTD10aGlzLEc9TC5kb20sSj10eXBlb2YgeiE9InN0cmluZyIsaz1MLnN0eWxlSG9va3Msdz16LHg9dyxGPTEsQj15LEssQyx2LEEsRSxILEQ7aWYoSil7dj17fTt3PXhbMF07RD0wO2lmKCEoRj14Lmxlbmd0aCkpe3JldHVybiB2fX1pZighR3x8Ry5kb2N1bWVudEVsZW1lbnQpe3JldHVybiB2fHwiIn1DPUcuc3R5bGU7aWYoeSl7SD1DfWVsc2V7SD1HLmN1cnJlbnRTdHlsZTtpZighSCl7Qj10cnVlO0g9Q319ZG97QT1rW3ddO2lmKCFBKXtrW3ddPUE9e25hbWU6cC5ub3JtYWxpemUodyl9fWlmKEEuZ2V0KXtFPUEuZ2V0KEcsTCxCLEgpfWVsc2V7Sz1BLm5hbWU7aWYoQS5jYW5UaHJvdyl7dHJ5e0U9SFtLXX1jYXRjaChJKXtFPSIifX1lbHNle0U9SD9IW0tdOiIifX1pZighSil7cmV0dXJuIEV9dlt3XT1FO3c9eFsrK0RdfXdoaWxlKEQ8Rik7cmV0dXJuIHZ9fXAub3ZlcnJpZGUoe2dldEhlaWdodDpmdW5jdGlvbih4LHYpe3ZhciB3PXRoaXMsej13LmRvbSx5PXcuaXNTdHlsZSgiZGlzcGxheSIsIm5vbmUiKSxrLEE7aWYoeSl7cmV0dXJuIDB9az1NYXRoLm1heCh6Lm9mZnNldEhlaWdodCx6LmNsaWVudEhlaWdodCl8fDA7aWYoRXh0LnN1cHBvcnRzLkRpcmVjdDJEQnVnKXtBPXcuYWRqdXN0RGlyZWN0MkREaW1lbnNpb24obyk7aWYodil7ays9QX1lbHNle2lmKEE+MCYmQTwwLjUpe2srK319fWlmKHgpe2stPXcuZ2V0Qm9yZGVyV2lkdGgoInRiIikrdy5nZXRQYWRkaW5nKCJ0YiIpfXJldHVybihrPDApPzA6a30sZ2V0V2lkdGg6ZnVuY3Rpb24oayx6KXt2YXIgeD10aGlzLEE9eC5kb20seT14LmlzU3R5bGUoImRpc3BsYXkiLCJub25lIiksdyx2LEI7aWYoeSl7cmV0dXJuIDB9aWYoRXh0LnN1cHBvcnRzLkJvdW5kaW5nQ2xpZW50UmVjdCl7dz1BLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO3Y9dy5yaWdodC13LmxlZnQ7dj16P3Y6TWF0aC5jZWlsKHYpfWVsc2V7dj1BLm9mZnNldFdpZHRofXY9TWF0aC5tYXgodixBLmNsaWVudFdpZHRoKXx8MDtpZihFeHQuc3VwcG9ydHMuRGlyZWN0MkRCdWcpe0I9eC5hZGp1c3REaXJlY3QyRERpbWVuc2lvbihnKTtpZih6KXt2Kz1CfWVsc2V7aWYoQj4wJiZCPDAuNSl7disrfX19aWYoayl7di09eC5nZXRCb3JkZXJXaWR0aCgibHIiKSt4LmdldFBhZGRpbmcoImxyIil9cmV0dXJuKHY8MCk/MDp2fSxzZXRXaWR0aDpmdW5jdGlvbih2LGspe3ZhciB3PXRoaXM7dj13LmFkanVzdFdpZHRoKHYpO2lmKCFrfHwhdy5hbmltKXt3LmRvbS5zdHlsZS53aWR0aD13LmFkZFVuaXRzKHYpfWVsc2V7aWYoIUV4dC5pc09iamVjdChrKSl7az17fX13LmFuaW1hdGUoRXh0LmFwcGx5SWYoe3RvOnt3aWR0aDp2fX0saykpfXJldHVybiB3fSxzZXRIZWlnaHQ6ZnVuY3Rpb24oayx2KXt2YXIgdz10aGlzO2s9dy5hZGp1c3RIZWlnaHQoayk7aWYoIXZ8fCF3LmFuaW0pe3cuZG9tLnN0eWxlLmhlaWdodD13LmFkZFVuaXRzKGspfWVsc2V7aWYoIUV4dC5pc09iamVjdCh2KSl7dj17fX13LmFuaW1hdGUoRXh0LmFwcGx5SWYoe3RvOntoZWlnaHQ6a319LHYpKX1yZXR1cm4gd30sYXBwbHlTdHlsZXM6ZnVuY3Rpb24oayl7RXh0LkRvbUhlbHBlci5hcHBseVN0eWxlcyh0aGlzLmRvbSxrKTtyZXR1cm4gdGhpc30sc2V0U2l6ZTpmdW5jdGlvbih3LGssdil7dmFyIHg9dGhpcztpZihFeHQuaXNPYmplY3Qodykpe3Y9aztrPXcuaGVpZ2h0O3c9dy53aWR0aH13PXguYWRqdXN0V2lkdGgodyk7az14LmFkanVzdEhlaWdodChrKTtpZighdnx8IXguYW5pbSl7eC5kb20uc3R5bGUud2lkdGg9eC5hZGRVbml0cyh3KTt4LmRvbS5zdHlsZS5oZWlnaHQ9eC5hZGRVbml0cyhrKX1lbHNle2lmKHY9PT10cnVlKXt2PXt9fXguYW5pbWF0ZShFeHQuYXBwbHlJZih7dG86e3dpZHRoOncsaGVpZ2h0Omt9fSx2KSl9cmV0dXJuIHh9LGdldFZpZXdTaXplOmZ1bmN0aW9uKCl7dmFyIHc9dGhpcyx4PXcuZG9tLHY9Yi50ZXN0KHgubm9kZU5hbWUpLGs7aWYodil7az17d2lkdGg6cC5nZXRWaWV3V2lkdGgoKSxoZWlnaHQ6cC5nZXRWaWV3SGVpZ2h0KCl9fWVsc2V7az17d2lkdGg6eC5jbGllbnRXaWR0aCxoZWlnaHQ6eC5jbGllbnRIZWlnaHR9fXJldHVybiBrfSxnZXRTaXplOmZ1bmN0aW9uKGspe3JldHVybnt3aWR0aDp0aGlzLmdldFdpZHRoKGspLGhlaWdodDp0aGlzLmdldEhlaWdodChrKX19LGFkanVzdFdpZHRoOmZ1bmN0aW9uKGspe3ZhciB2PXRoaXMsdz0odHlwZW9mIGs9PSJudW1iZXIiKTtpZih3JiZ2LmF1dG9Cb3hBZGp1c3QmJiF2LmlzQm9yZGVyQm94KCkpe2stPSh2LmdldEJvcmRlcldpZHRoKCJsciIpK3YuZ2V0UGFkZGluZygibHIiKSl9cmV0dXJuKHcmJms8MCk/MDprfSxhZGp1c3RIZWlnaHQ6ZnVuY3Rpb24oayl7dmFyIHY9dGhpcyx3PSh0eXBlb2Ygaz09Im51bWJlciIpO2lmKHcmJnYuYXV0b0JveEFkanVzdCYmIXYuaXNCb3JkZXJCb3goKSl7ay09KHYuZ2V0Qm9yZGVyV2lkdGgoInRiIikrdi5nZXRQYWRkaW5nKCJ0YiIpKX1yZXR1cm4odyYmazwwKT8wOmt9LGdldENvbG9yOmZ1bmN0aW9uKHcseCxDKXt2YXIgej10aGlzLmdldFN0eWxlKHcpLHk9Q3x8Qz09PSIiP0M6IiMiLEIsayxBPTA7aWYoIXp8fCgvdHJhbnNwYXJlbnR8aW5oZXJpdC8udGVzdCh6KSkpe3JldHVybiB4fWlmKC9eci8udGVzdCh6KSl7ej16LnNsaWNlKDQsei5sZW5ndGgtMSkuc3BsaXQoIiwiKTtrPXoubGVuZ3RoO2Zvcig7QTxrO0ErKyl7Qj1wYXJzZUludCh6W0FdLDEwKTt5Kz0oQjwxNj8iMCI6IiIpK0IudG9TdHJpbmcoMTYpfX1lbHNle3o9ei5yZXBsYWNlKCIjIiwiIik7eSs9ei5sZW5ndGg9PTM/ei5yZXBsYWNlKC9eKFx3KShcdykoXHcpJC8sIiQxJDEkMiQyJDMkMyIpOnp9cmV0dXJuKHkubGVuZ3RoPjU/eS50b0xvd2VyQ2FzZSgpOngpfSxzZXRPcGFjaXR5OmZ1bmN0aW9uKHYsayl7dmFyIHc9dGhpcztpZighdy5kb20pe3JldHVybiB3fWlmKCFrfHwhdy5hbmltKXt3LnNldFN0eWxlKCJvcGFjaXR5Iix2KX1lbHNle2lmKHR5cGVvZiBrIT0ib2JqZWN0Iil7az17ZHVyYXRpb246MzUwLGVhc2luZzoiZWFzZS1pbiJ9fXcuYW5pbWF0ZShFeHQuYXBwbHlJZih7dG86e29wYWNpdHk6dn19LGspKX1yZXR1cm4gd30sY2xlYXJPcGFjaXR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0T3BhY2l0eSgiIil9LGFkanVzdERpcmVjdDJERGltZW5zaW9uOmZ1bmN0aW9uKHcpe3ZhciBCPXRoaXMsdj1CLmRvbSx6PUIuZ2V0U3R5bGUoImRpc3BsYXkiKSx5PXYuc3R5bGUuZGlzcGxheSxDPXYuc3R5bGUucG9zaXRpb24sQT13PT09Zz8wOjEsaz12LmN1cnJlbnRTdHlsZSx4O2lmKHo9PT0iaW5saW5lIil7di5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2sifXYuc3R5bGUucG9zaXRpb249ei5tYXRjaChuKT8iYWJzb2x1dGUiOiJzdGF0aWMiO3g9KHBhcnNlRmxvYXQoa1t3XSl8fHBhcnNlRmxvYXQoay5tc1RyYW5zZm9ybU9yaWdpbi5zcGxpdCgiICIpW0FdKSoyKSUxO3Yuc3R5bGUucG9zaXRpb249QztpZih6PT09ImlubGluZSIpe3Yuc3R5bGUuZGlzcGxheT15fXJldHVybiB4fSxjbGlwOmZ1bmN0aW9uKCl7dmFyIHY9dGhpcyx3PSh2LiRjYWNoZXx8di5nZXRDYWNoZSgpKS5kYXRhLGs7aWYoIXdbZV0pe3dbZV09dHJ1ZTtrPXYuZ2V0U3R5bGUoW2ksbCxqXSk7d1tzXT17bzprW2ldLHg6a1tsXSx5Omtbal19O3Yuc2V0U3R5bGUoaSxyKTt2LnNldFN0eWxlKGwscik7di5zZXRTdHlsZShqLHIpfXJldHVybiB2fSx1bmNsaXA6ZnVuY3Rpb24oKXt2YXIgdj10aGlzLHc9KHYuJGNhY2hlfHx2LmdldENhY2hlKCkpLmRhdGEsaztpZih3W2VdKXt3W2VdPWZhbHNlO2s9d1tzXTtpZihrLm8pe3Yuc2V0U3R5bGUoaSxrLm8pfWlmKGsueCl7di5zZXRTdHlsZShsLGsueCl9aWYoay55KXt2LnNldFN0eWxlKGosay55KX19cmV0dXJuIHZ9LGJveFdyYXA6ZnVuY3Rpb24oayl7az1rfHxFeHQuYmFzZUNTU1ByZWZpeCsiYm94Ijt2YXIgdj1FeHQuZ2V0KHRoaXMuaW5zZXJ0SHRtbCgiYmVmb3JlQmVnaW4iLCI8ZGl2IGNsYXNzPSciK2srIic+IitFeHQuU3RyaW5nLmZvcm1hdChwLmJveE1hcmt1cCxrKSsiPC9kaXY+IikpO0V4dC5Eb21RdWVyeS5zZWxlY3ROb2RlKCIuIitrKyItbWMiLHYuZG9tKS5hcHBlbmRDaGlsZCh0aGlzLmRvbSk7cmV0dXJuIHZ9LGdldENvbXB1dGVkSGVpZ2h0OmZ1bmN0aW9uKCl7dmFyIHY9dGhpcyxrPU1hdGgubWF4KHYuZG9tLm9mZnNldEhlaWdodCx2LmRvbS5jbGllbnRIZWlnaHQpO2lmKCFrKXtrPXBhcnNlRmxvYXQodi5nZXRTdHlsZShvKSl8fDA7aWYoIXYuaXNCb3JkZXJCb3goKSl7ays9di5nZXRGcmFtZVdpZHRoKCJ0YiIpfX1yZXR1cm4ga30sZ2V0Q29tcHV0ZWRXaWR0aDpmdW5jdGlvbigpe3ZhciB2PXRoaXMsaz1NYXRoLm1heCh2LmRvbS5vZmZzZXRXaWR0aCx2LmRvbS5jbGllbnRXaWR0aCk7aWYoIWspe2s9cGFyc2VGbG9hdCh2LmdldFN0eWxlKGcpKXx8MDtpZighdi5pc0JvcmRlckJveCgpKXtrKz12LmdldEZyYW1lV2lkdGgoImxyIil9fXJldHVybiBrfSxnZXRGcmFtZVdpZHRoOmZ1bmN0aW9uKHYsayl7cmV0dXJuKGsmJnRoaXMuaXNCb3JkZXJCb3goKSk/MDoodGhpcy5nZXRQYWRkaW5nKHYpK3RoaXMuZ2V0Qm9yZGVyV2lkdGgodikpfSxhZGRDbHNPbk92ZXI6ZnVuY3Rpb24odyx6LHYpe3ZhciB4PXRoaXMseT14LmRvbSxrPUV4dC5pc0Z1bmN0aW9uKHopO3guaG92ZXIoZnVuY3Rpb24oKXtpZihrJiZ6LmNhbGwodnx8eCx4KT09PWZhbHNlKXtyZXR1cm59RXh0LmZseSh5LGEpLmFkZENscyh3KX0sZnVuY3Rpb24oKXtFeHQuZmx5KHksYSkucmVtb3ZlQ2xzKHcpfSk7cmV0dXJuIHh9LGFkZENsc09uRm9jdXM6ZnVuY3Rpb24odyx6LHYpe3ZhciB4PXRoaXMseT14LmRvbSxrPUV4dC5pc0Z1bmN0aW9uKHopO3gub24oImZvY3VzIixmdW5jdGlvbigpe2lmKGsmJnouY2FsbCh2fHx4LHgpPT09ZmFsc2Upe3JldHVybiBmYWxzZX1FeHQuZmx5KHksYSkuYWRkQ2xzKHcpfSk7eC5vbigiYmx1ciIsZnVuY3Rpb24oKXtFeHQuZmx5KHksYSkucmVtb3ZlQ2xzKHcpfSk7cmV0dXJuIHh9LGFkZENsc09uQ2xpY2s6ZnVuY3Rpb24odyx6LHYpe3ZhciB4PXRoaXMseT14LmRvbSxrPUV4dC5pc0Z1bmN0aW9uKHopO3gub24oIm1vdXNlZG93biIsZnVuY3Rpb24oKXtpZihrJiZ6LmNhbGwodnx8eCx4KT09PWZhbHNlKXtyZXR1cm4gZmFsc2V9RXh0LmZseSh5LGEpLmFkZENscyh3KTt2YXIgQj1FeHQuZ2V0RG9jKCksQT1mdW5jdGlvbigpe0V4dC5mbHkoeSxhKS5yZW1vdmVDbHModyk7Qi5yZW1vdmVMaXN0ZW5lcigibW91c2V1cCIsQSl9O0Iub24oIm1vdXNldXAiLEEpfSk7cmV0dXJuIHh9LGdldFN0eWxlU2l6ZTpmdW5jdGlvbigpe3ZhciB6PXRoaXMsQT10aGlzLmRvbSx2PWIudGVzdChBLm5vZGVOYW1lKSx5LGsseDtpZih2KXtyZXR1cm57d2lkdGg6cC5nZXRWaWV3V2lkdGgoKSxoZWlnaHQ6cC5nZXRWaWV3SGVpZ2h0KCl9fXk9ei5nZXRTdHlsZShbbyxnXSx0cnVlKTtpZih5LndpZHRoJiZ5LndpZHRoIT0iYXV0byIpe2s9cGFyc2VGbG9hdCh5LndpZHRoKTtpZih6LmlzQm9yZGVyQm94KCkpe2stPXouZ2V0RnJhbWVXaWR0aCgibHIiKX19aWYoeS5oZWlnaHQmJnkuaGVpZ2h0IT0iYXV0byIpe3g9cGFyc2VGbG9hdCh5LmhlaWdodCk7aWYoei5pc0JvcmRlckJveCgpKXt4LT16LmdldEZyYW1lV2lkdGgoInRiIil9fXJldHVybnt3aWR0aDprfHx6LmdldFdpZHRoKHRydWUpLGhlaWdodDp4fHx6LmdldEhlaWdodCh0cnVlKX19LHNlbGVjdGFibGU6ZnVuY3Rpb24oKXt2YXIgaz10aGlzO2suZG9tLnVuc2VsZWN0YWJsZT0ib2ZmIjtrLm9uKCJzZWxlY3RzdGFydCIsZnVuY3Rpb24odil7di5zdG9wUHJvcGFnYXRpb24oKTtyZXR1cm4gdHJ1ZX0pO2suYXBwbHlTdHlsZXMoIi1tb3otdXNlci1zZWxlY3Q6IHRleHQ7IC1raHRtbC11c2VyLXNlbGVjdDogdGV4dDsiKTtrLnJlbW92ZUNscyhFeHQuYmFzZUNTU1ByZWZpeCsidW5zZWxlY3RhYmxlIik7cmV0dXJuIGt9LHVuc2VsZWN0YWJsZTpmdW5jdGlvbigpe3ZhciBrPXRoaXM7ay5kb20udW5zZWxlY3RhYmxlPSJvbiI7ay5zd2FsbG93RXZlbnQoInNlbGVjdHN0YXJ0Iix0cnVlKTtrLmFwcGx5U3R5bGVzKCItbW96LXVzZXItc2VsZWN0Oi1tb3otbm9uZTsta2h0bWwtdXNlci1zZWxlY3Q6bm9uZTsiKTtrLmFkZENscyhFeHQuYmFzZUNTU1ByZWZpeCsidW5zZWxlY3RhYmxlIik7cmV0dXJuIGt9fSk7cC5wcm90b3R5cGUuc3R5bGVIb29rcz10PUV4dC5kb20uQWJzdHJhY3RFbGVtZW50LnByb3RvdHlwZS5zdHlsZUhvb2tzO2lmKEV4dC5pc0lFNil7dC5mb250U2l6ZT10WyJmb250LXNpemUiXT17bmFtZToiZm9udFNpemUiLGNhblRocm93OnRydWV9fWlmKEV4dC5pc0lFUXVpcmtzfHxFeHQuaXNJRSYmRXh0LmllVmVyc2lvbjw9OCl7ZnVuY3Rpb24gYyh4LHYsdyxrKXtpZihrW3RoaXMuc3R5bGVOYW1lXT09Im5vbmUiKXtyZXR1cm4iMHB4In1yZXR1cm4ga1t0aGlzLm5hbWVdfWQ9WyJUb3AiLCJSaWdodCIsIkJvdHRvbSIsIkxlZnQiXTtxPWQubGVuZ3RoO3doaWxlKHEtLSl7aD1kW3FdO3U9ImJvcmRlciIraCsiV2lkdGgiO3RbImJvcmRlci0iK2gudG9Mb3dlckNhc2UoKSsiLXdpZHRoIl09dFt1XT17bmFtZTp1LHN0eWxlTmFtZToiYm9yZGVyIitoKyJTdHlsZSIsZ2V0OmN9fX19KCkpO0V4dC5vblJlYWR5KGZ1bmN0aW9uKCl7dmFyIGM9L2FscGhhXChvcGFjaXR5PSguKilcKS9pLGI9L15ccyt8XHMrJC9nLGE9RXh0LmRvbS5FbGVtZW50LnByb3RvdHlwZS5zdHlsZUhvb2tzO2Eub3BhY2l0eT17bmFtZToib3BhY2l0eSIsYWZ0ZXJTZXQ6ZnVuY3Rpb24oZyxlLGQpe2lmKGQuaXNMYXllcil7ZC5vbk9wYWNpdHlTZXQoZSl9fX07aWYoIUV4dC5zdXBwb3J0cy5PcGFjaXR5JiZFeHQuaXNJRSl7RXh0LmFwcGx5KGEub3BhY2l0eSx7Z2V0OmZ1bmN0aW9uKGgpe3ZhciBnPWguc3R5bGUuZmlsdGVyLGUsZDtpZihnLm1hdGNoKXtlPWcubWF0Y2goYyk7aWYoZSl7ZD1wYXJzZUZsb2F0KGVbMV0pO2lmKCFpc05hTihkKSl7cmV0dXJuIGQ/ZC8xMDA6MH19fXJldHVybiAxfSxzZXQ6ZnVuY3Rpb24oaCxlKXt2YXIgZD1oLnN0eWxlLGc9ZC5maWx0ZXIucmVwbGFjZShjLCIiKS5yZXBsYWNlKGIsIiIpO2Quem9vbT0xO2lmKHR5cGVvZihlKT09Im51bWJlciImJmU+PTAmJmU8MSl7ZSo9MTAwO2QuZmlsdGVyPWcrKGcubGVuZ3RoPyIgIjoiIikrImFscGhhKG9wYWNpdHk9IitlKyIpIn1lbHNle2QuZmlsdGVyPWd9fX0pfX0pO0V4dC5kb20uRWxlbWVudC5vdmVycmlkZSh7c2VsZWN0OmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuZG9tLkVsZW1lbnQuc2VsZWN0KGEsZmFsc2UsdGhpcy5kb20pfX0pO0V4dC5kZWZpbmUoIkV4dC5kb20uQ29tcG9zaXRlRWxlbWVudExpdGUiLHthbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5Db21wb3NpdGVFbGVtZW50TGl0ZSIscmVxdWlyZXM6WyJFeHQuZG9tLkVsZW1lbnQiXSxzdGF0aWNzOntpbXBvcnRFbGVtZW50TWV0aG9kczpmdW5jdGlvbigpe3ZhciBiLGM9RXh0LmRvbS5FbGVtZW50LnByb3RvdHlwZSxhPXRoaXMucHJvdG90eXBlO2ZvcihiIGluIGMpe2lmKHR5cGVvZiBjW2JdPT0iZnVuY3Rpb24iKXsoZnVuY3Rpb24oZCl7YVtkXT1hW2RdfHxmdW5jdGlvbigpe3JldHVybiB0aGlzLmludm9rZShkLGFyZ3VtZW50cyl9fSkuY2FsbChhLGIpfX19fSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihiLGEpe3RoaXMuZWxlbWVudHM9W107dGhpcy5hZGQoYixhKTt0aGlzLmVsPW5ldyBFeHQuZG9tLkFic3RyYWN0RWxlbWVudC5GbHkoKX0saXNDb21wb3NpdGU6dHJ1ZSxnZXRFbGVtZW50OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVsLmF0dGFjaChhKX0sdHJhbnNmb3JtRWxlbWVudDpmdW5jdGlvbihhKXtyZXR1cm4gRXh0LmdldERvbShhKX0sZ2V0Q291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50cy5sZW5ndGh9LGFkZDpmdW5jdGlvbihjLGEpe3ZhciBlPXRoaXMuZWxlbWVudHMsYixkO2lmKCFjKXtyZXR1cm4gdGhpc31pZih0eXBlb2YgYz09InN0cmluZyIpe2M9RXh0LmRvbS5FbGVtZW50LnNlbGVjdG9yRnVuY3Rpb24oYyxhKX1lbHNle2lmKGMuaXNDb21wb3NpdGUpe2M9Yy5lbGVtZW50c31lbHNle2lmKCFFeHQuaXNJdGVyYWJsZShjKSl7Yz1bY119fX1mb3IoYj0wLGQ9Yy5sZW5ndGg7YjxkOysrYil7ZS5wdXNoKHRoaXMudHJhbnNmb3JtRWxlbWVudChjW2JdKSl9cmV0dXJuIHRoaXN9LGludm9rZTpmdW5jdGlvbihkLGEpe3ZhciBnPXRoaXMuZWxlbWVudHMsZT1nLmxlbmd0aCxjLGI7ZD1FeHQuZG9tLkVsZW1lbnQucHJvdG90eXBlW2RdO2ZvcihiPTA7YjxlO2IrKyl7Yz1nW2JdO2lmKGMpe2QuYXBwbHkodGhpcy5nZXRFbGVtZW50KGMpLGEpfX1yZXR1cm4gdGhpc30saXRlbTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLmVsZW1lbnRzW2JdLGE9bnVsbDtpZihjKXthPXRoaXMuZ2V0RWxlbWVudChjKX1yZXR1cm4gYX0sYWRkTGlzdGVuZXI6ZnVuY3Rpb24oYixqLGgsZyl7dmFyIGQ9dGhpcy5lbGVtZW50cyxhPWQubGVuZ3RoLGMsaztmb3IoYz0wO2M8YTtjKyspe2s9ZFtjXTtpZihrKXtFeHQuRXZlbnRNYW5hZ2VyLm9uKGssYixqLGh8fGssZyl9fXJldHVybiB0aGlzfSxlYWNoOmZ1bmN0aW9uKGcsZCl7dmFyIGg9dGhpcyxjPWguZWxlbWVudHMsYT1jLmxlbmd0aCxiLGo7Zm9yKGI9MDtiPGE7YisrKXtqPWNbYl07aWYoail7aj10aGlzLmdldEVsZW1lbnQoaik7aWYoZy5jYWxsKGR8fGosaixoLGIpPT09ZmFsc2Upe2JyZWFrfX19cmV0dXJuIGh9LGZpbGw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLmVsZW1lbnRzPVtdO2IuYWRkKGEpO3JldHVybiBifSxmaWx0ZXI6ZnVuY3Rpb24oYil7dmFyIGg9dGhpcyxjPWguZWxlbWVudHMsZz1jLmxlbmd0aCxkPVtdLGU9MCxqPXR5cGVvZiBiPT0iZnVuY3Rpb24iLGssYTtmb3IoO2U8ZztlKyspe2E9Y1tlXTtrPWZhbHNlO2lmKGEpe2E9aC5nZXRFbGVtZW50KGEpO2lmKGope2s9Yi5jYWxsKGEsYSxoLGUpIT09ZmFsc2V9ZWxzZXtrPWEuaXMoYil9aWYoayl7ZC5wdXNoKGgudHJhbnNmb3JtRWxlbWVudChhKSl9fX1oLmVsZW1lbnRzPWQ7cmV0dXJuIGh9LGluZGV4T2Y6ZnVuY3Rpb24oYSl7cmV0dXJuIEV4dC5BcnJheS5pbmRleE9mKHRoaXMuZWxlbWVudHMsdGhpcy50cmFuc2Zvcm1FbGVtZW50KGEpKX0scmVwbGFjZUVsZW1lbnQ6ZnVuY3Rpb24oZSxjLGEpe3ZhciBiPSFpc05hTihlKT9lOnRoaXMuaW5kZXhPZihlKSxnO2lmKGI+LTEpe2M9RXh0LmdldERvbShjKTtpZihhKXtnPXRoaXMuZWxlbWVudHNbYl07Zy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShjLGcpO0V4dC5yZW1vdmVOb2RlKGcpfUV4dC5BcnJheS5zcGxpY2UodGhpcy5lbGVtZW50cyxiLDEsYyl9cmV0dXJuIHRoaXN9LGNsZWFyOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50cz1bXX0sYWRkRWxlbWVudHM6ZnVuY3Rpb24oZCxiKXtpZighZCl7cmV0dXJuIHRoaXN9aWYodHlwZW9mIGQ9PSJzdHJpbmciKXtkPUV4dC5kb20uRWxlbWVudC5zZWxlY3RvckZ1bmN0aW9uKGQsYil9dmFyIGM9dGhpcy5lbGVtZW50cyxhPWQubGVuZ3RoLGc7Zm9yKGc9MDtnPGE7ZysrKXtjLnB1c2goRXh0LmdldChkW2ddKSl9cmV0dXJuIHRoaXN9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlbSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZW0odGhpcy5nZXRDb3VudCgpLTEpfSxjb250YWluczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pbmRleE9mKGEpIT0tMX0scmVtb3ZlRWxlbWVudDpmdW5jdGlvbihlLGkpe2U9W10uY29uY2F0KGUpO3ZhciBkPXRoaXMsZz1kLmVsZW1lbnRzLGM9ZS5sZW5ndGgsaCxiLGE7Zm9yKGE9MDthPGM7YSsrKXtoPWVbYV07aWYoKGI9KGdbaF18fGdbaD1kLmluZGV4T2YoaCldKSkpe2lmKGkpe2lmKGIuZG9tKXtiLnJlbW92ZSgpfWVsc2V7RXh0LnJlbW92ZU5vZGUoYil9fUV4dC5BcnJheS5lcmFzZShnLGgsMSl9fXJldHVybiBkfX0sZnVuY3Rpb24oKXt0aGlzLmltcG9ydEVsZW1lbnRNZXRob2RzKCk7dGhpcy5wcm90b3R5cGUub249dGhpcy5wcm90b3R5cGUuYWRkTGlzdGVuZXI7aWYoRXh0LkRvbVF1ZXJ5KXtFeHQuZG9tLkVsZW1lbnQuc2VsZWN0b3JGdW5jdGlvbj1FeHQuRG9tUXVlcnkuc2VsZWN0fUV4dC5kb20uRWxlbWVudC5zZWxlY3Q9ZnVuY3Rpb24oYSxiKXt2YXIgYztpZih0eXBlb2YgYT09InN0cmluZyIpe2M9RXh0LmRvbS5FbGVtZW50LnNlbGVjdG9yRnVuY3Rpb24oYSxiKX1lbHNle2lmKGEubGVuZ3RoIT09dW5kZWZpbmVkKXtjPWF9ZWxzZXt9fXJldHVybiBuZXcgRXh0LkNvbXBvc2l0ZUVsZW1lbnRMaXRlKGMpfTtFeHQuc2VsZWN0PWZ1bmN0aW9uKCl7cmV0dXJuIEV4dC5kb20uRWxlbWVudC5zZWxlY3QuYXBwbHkoRXh0LmRvbS5FbGVtZW50LGFyZ3VtZW50cyl9fSk7RXh0LmRlZmluZSgiRXh0LmRvbS5Db21wb3NpdGVFbGVtZW50Iix7YWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuQ29tcG9zaXRlRWxlbWVudCIsZXh0ZW5kOiJFeHQuZG9tLkNvbXBvc2l0ZUVsZW1lbnRMaXRlIixnZXRFbGVtZW50OmZ1bmN0aW9uKGEpe3JldHVybiBhfSx0cmFuc2Zvcm1FbGVtZW50OmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuZ2V0KGEpfX0sZnVuY3Rpb24oKXtFeHQuZG9tLkVsZW1lbnQuc2VsZWN0PWZ1bmN0aW9uKGEsZCxiKXt2YXIgYztpZih0eXBlb2YgYT09InN0cmluZyIpe2M9RXh0LmRvbS5FbGVtZW50LnNlbGVjdG9yRnVuY3Rpb24oYSxiKX1lbHNle2lmKGEubGVuZ3RoIT09dW5kZWZpbmVkKXtjPWF9ZWxzZXt9fXJldHVybihkPT09dHJ1ZSk/bmV3IEV4dC5Db21wb3NpdGVFbGVtZW50KGMpOm5ldyBFeHQuQ29tcG9zaXRlRWxlbWVudExpdGUoYyl9fSk7RXh0LnNlbGVjdD1FeHQuRWxlbWVudC5zZWxlY3Q7RXh0LmRlZmluZSgiRXh0LkFic3RyYWN0UGx1Z2luIix7ZGlzYWJsZWQ6ZmFsc2UsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7RXh0LmFwcGx5KHRoaXMsYSl9LGdldENtcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNtcH0saW5pdDpFeHQuZW1wdHlGbixkZXN0cm95OkV4dC5lbXB0eUZuLGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ZmFsc2V9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPXRydWV9fSk7RXh0LmRlZmluZSgiRXh0LkNvbXBvbmVudFF1ZXJ5Iix7c2luZ2xldG9uOnRydWUsdXNlczpbIkV4dC5Db21wb25lbnRNYW5hZ2VyIl19LGZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxrPVsidmFyIHIgPSBbXSwiLCJpID0gMCwiLCJpdCA9IGl0ZW1zLCIsImwgPSBpdC5sZW5ndGgsIiwiYzsiLCJmb3IgKDsgaSA8IGw7IGkrKykgeyIsImMgPSBpdFtpXTsiLCJpZiAoYy57MH0pIHsiLCJyLnB1c2goYyk7IiwifSIsIn0iLCJyZXR1cm4gcjsiXS5qb2luKCIiKSxlPWZ1bmN0aW9uKHAsbyl7cmV0dXJuIG8ubWV0aG9kLmFwcGx5KHRoaXMsW3BdLmNvbmNhdChvLmFyZ3MpKX0sYT1mdW5jdGlvbihxLHUpe3ZhciBvPVtdLHI9MCx0PXEubGVuZ3RoLHMscD11IT09Ij4iO2Zvcig7cjx0O3IrKyl7cz1xW3JdO2lmKHMuZ2V0UmVmSXRlbXMpe289by5jb25jYXQocy5nZXRSZWZJdGVtcyhwKSl9fXJldHVybiBvfSxnPWZ1bmN0aW9uKHApe3ZhciBvPVtdLHE9MCxzPXAubGVuZ3RoLHI7Zm9yKDtxPHM7cSsrKXtyPXBbcV07d2hpbGUoISEocj0oci5vd25lckN0fHxyLmZsb2F0UGFyZW50KSkpe28ucHVzaChyKX19cmV0dXJuIG99LG09ZnVuY3Rpb24ocCx1LHQpe2lmKHU9PT0iKiIpe3JldHVybiBwLnNsaWNlKCl9ZWxzZXt2YXIgbz1bXSxxPTAscz1wLmxlbmd0aCxyO2Zvcig7cTxzO3ErKyl7cj1wW3FdO2lmKHIuaXNYVHlwZSh1LHQpKXtvLnB1c2gocil9fXJldHVybiBvfX0saj1mdW5jdGlvbihwLHMpe3ZhciB1PUV4dC5BcnJheSxvPVtdLHE9MCx0PXAubGVuZ3RoLHI7Zm9yKDtxPHQ7cSsrKXtyPXBbcV07aWYoci5oYXNDbHMocykpe28ucHVzaChyKX19cmV0dXJuIG99LG49ZnVuY3Rpb24ocSx2LHAsdSl7dmFyIG89W10scj0wLHQ9cS5sZW5ndGgscztmb3IoO3I8dDtyKyspe3M9cVtyXTtpZighdT8hIXNbdl06KFN0cmluZyhzW3ZdKT09PXUpKXtvLnB1c2gocyl9fXJldHVybiBvfSxkPWZ1bmN0aW9uKHAsdCl7dmFyIG89W10scT0wLHM9cC5sZW5ndGgscjtmb3IoO3E8cztxKyspe3I9cFtxXTtpZihyLmdldEl0ZW1JZCgpPT09dCl7by5wdXNoKHIpfX1yZXR1cm4gb30sbD1mdW5jdGlvbihvLHAscSl7cmV0dXJuIGgucHNldWRvc1twXShvLHEpfSxpPS9eKFxzPyhbPlxeXSlccz98XHN8JCkvLGM9L14oIyk/KFtcd1wtXSt8XCopKD86XCgodHJ1ZXxmYWxzZSlcKSk/LyxiPVt7cmU6L15cLihbXHdcLV0rKSg/OlwoKHRydWV8ZmFsc2UpXCkpPy8sbWV0aG9kOm19LHtyZTovXig/OltcW10oPzpAKT8oW1x3XC1dKylccz8oPzooPXwuPSlccz9bJyJdPyguKj8pWyInXT8pP1tcXV0pLyxtZXRob2Q6bn0se3JlOi9eIyhbXHdcLV0rKS8sbWV0aG9kOmR9LHtyZTovXlw6KFtcd1wtXSspKD86XCgoKD86XHtbXlx9XStcfSl8KD86KD8hXHspW15ccz5cL10qPyg/IVx9KSkpXCkpPy8sbWV0aG9kOmx9LHtyZTovXig/Olx7KFteXH1dKylcfSkvLG1ldGhvZDprfV07aC5RdWVyeT1FeHQuZXh0ZW5kKE9iamVjdCx7Y29uc3RydWN0b3I6ZnVuY3Rpb24obyl7bz1vfHx7fTtFeHQuYXBwbHkodGhpcyxvKX0sZXhlY3V0ZTpmdW5jdGlvbihwKXt2YXIgcj10aGlzLm9wZXJhdGlvbnMscz0wLHQ9ci5sZW5ndGgscSxvO2lmKCFwKXtvPUV4dC5Db21wb25lbnRNYW5hZ2VyLmFsbC5nZXRBcnJheSgpfWVsc2V7aWYoRXh0LmlzQXJyYXkocCkpe289cH1lbHNle2lmKHAuaXNNaXhlZENvbGxlY3Rpb24pe289cC5pdGVtc319fWZvcig7czx0O3MrKyl7cT1yW3NdO2lmKHEubW9kZT09PSJeIil7bz1nKG98fFtwXSl9ZWxzZXtpZihxLm1vZGUpe289YShvfHxbcF0scS5tb2RlKX1lbHNle289ZShvfHxhKFtwXSkscSl9fWlmKHM9PT10LTEpe3JldHVybiBvfX1yZXR1cm5bXX0saXM6ZnVuY3Rpb24ocSl7dmFyIHA9dGhpcy5vcGVyYXRpb25zLHQ9RXh0LmlzQXJyYXkocSk/cTpbcV0sbz10Lmxlbmd0aCx1PXBbcC5sZW5ndGgtMV0scyxyO3Q9ZSh0LHUpO2lmKHQubGVuZ3RoPT09byl7aWYocC5sZW5ndGg+MSl7Zm9yKHI9MCxzPXQubGVuZ3RoO3I8cztyKyspe2lmKEV4dC5BcnJheS5pbmRleE9mKHRoaXMuZXhlY3V0ZSgpLHRbcl0pPT09LTEpe3JldHVybiBmYWxzZX19fXJldHVybiB0cnVlfXJldHVybiBmYWxzZX19KTtFeHQuYXBwbHkodGhpcyx7Y2FjaGU6e30scHNldWRvczp7bm90OmZ1bmN0aW9uKHUsbyl7dmFyIHY9RXh0LkNvbXBvbmVudFF1ZXJ5LHM9MCx0PXUubGVuZ3RoLHI9W10scT0tMSxwO2Zvcig7czx0Oysrcyl7cD11W3NdO2lmKCF2LmlzKHAsbykpe3JbKytxXT1wfX1yZXR1cm4gcn0sbGFzdDpmdW5jdGlvbihvKXtyZXR1cm4gb1tvLmxlbmd0aC0xXX19LHF1ZXJ5OmZ1bmN0aW9uKHAsdyl7dmFyIHg9cC5zcGxpdCgiLCIpLG89eC5sZW5ndGgscT0wLHI9W10seT1bXSx2PXt9LHQscyx1O2Zvcig7cTxvO3ErKyl7cD1FeHQuU3RyaW5nLnRyaW0oeFtxXSk7dD10aGlzLmNhY2hlW3BdfHwodGhpcy5jYWNoZVtwXT10aGlzLnBhcnNlKHApKTtyPXIuY29uY2F0KHQuZXhlY3V0ZSh3KSl9aWYobz4xKXtzPXIubGVuZ3RoO2ZvcihxPTA7cTxzO3ErKyl7dT1yW3FdO2lmKCF2W3UuaWRdKXt5LnB1c2godSk7dlt1LmlkXT10cnVlfX1yPXl9cmV0dXJuIHJ9LGlzOmZ1bmN0aW9uKHAsbyl7aWYoIW8pe3JldHVybiB0cnVlfXZhciByPW8uc3BsaXQoIiwiKSxzPXIubGVuZ3RoLHE9MCx0O2Zvcig7cTxzO3ErKyl7bz1FeHQuU3RyaW5nLnRyaW0ocltxXSk7dD10aGlzLmNhY2hlW29dfHwodGhpcy5jYWNoZVtvXT10aGlzLnBhcnNlKG8pKTtpZih0LmlzKHApKXtyZXR1cm4gdHJ1ZX19fSxwYXJzZTpmdW5jdGlvbihyKXt2YXIgcD1bXSxxPWIubGVuZ3RoLHYscyx3LHgseSx0LHUsbzt3aGlsZShyJiZ2IT09cil7dj1yO3M9ci5tYXRjaChjKTtpZihzKXt3PXNbMV07aWYodz09PSIjIil7cC5wdXNoKHttZXRob2Q6ZCxhcmdzOltFeHQuU3RyaW5nLnRyaW0oc1syXSldfSl9ZWxzZXtpZih3PT09Ii4iKXtwLnB1c2goe21ldGhvZDpqLGFyZ3M6W0V4dC5TdHJpbmcudHJpbShzWzJdKV19KX1lbHNle3AucHVzaCh7bWV0aG9kOm0sYXJnczpbRXh0LlN0cmluZy50cmltKHNbMl0pLEJvb2xlYW4oc1szXSldfSl9fXI9ci5yZXBsYWNlKHNbMF0sIiIpfXdoaWxlKCEoeD1yLm1hdGNoKGkpKSl7Zm9yKHQ9MDtyJiZ0PHE7dCsrKXt1PWJbdF07eT1yLm1hdGNoKHUucmUpO289dS5tZXRob2Q7aWYoeSl7cC5wdXNoKHttZXRob2Q6RXh0LmlzU3RyaW5nKHUubWV0aG9kKT9FeHQuZnVuY3Rpb25GYWN0b3J5KCJpdGVtcyIsRXh0LlN0cmluZy5mb3JtYXQuYXBwbHkoRXh0LlN0cmluZyxbb10uY29uY2F0KHkuc2xpY2UoMSkpKSk6dS5tZXRob2QsYXJnczp5LnNsaWNlKDEpfSk7cj1yLnJlcGxhY2UoeVswXSwiIik7YnJlYWt9aWYodD09PShxLTEpKXtFeHQuRXJyb3IucmFpc2UoJ0ludmFsaWQgQ29tcG9uZW50UXVlcnkgc2VsZWN0b3I6ICInK2FyZ3VtZW50c1swXSsnIicpfX19aWYoeFsxXSl7cC5wdXNoKHttb2RlOnhbMl18fHhbMV19KTtyPXIucmVwbGFjZSh4WzBdLCIiKX19cmV0dXJuIG5ldyBoLlF1ZXJ5KHtvcGVyYXRpb25zOnB9KX19KX0pO0V4dC5kZWZpbmUoIkV4dC5UZW1wbGF0ZSIse3JlcXVpcmVzOlsiRXh0LmRvbS5IZWxwZXIiLCJFeHQudXRpbC5Gb3JtYXQiXSxpbmhlcml0YWJsZVN0YXRpY3M6e2Zyb206ZnVuY3Rpb24oYixhKXtiPUV4dC5nZXREb20oYik7cmV0dXJuIG5ldyB0aGlzKGIudmFsdWV8fGIuaW5uZXJIVE1MLGF8fCIiKX19LGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGQpe3ZhciBnPXRoaXMsYj1hcmd1bWVudHMsYT1bXSxjPTAsZT1iLmxlbmd0aCxoO2cuaW5pdGlhbENvbmZpZz17fTtpZihlPT09MSYmRXh0LmlzQXJyYXkoZCkpe2I9ZDtlPWIubGVuZ3RofWlmKGU+MSl7Zm9yKDtjPGU7YysrKXtoPWJbY107aWYodHlwZW9mIGg9PSJvYmplY3QiKXtFeHQuYXBwbHkoZy5pbml0aWFsQ29uZmlnLGgpO0V4dC5hcHBseShnLGgpfWVsc2V7YS5wdXNoKGgpfX19ZWxzZXthLnB1c2goZCl9Zy5odG1sPWEuam9pbigiIik7aWYoZy5jb21waWxlZCl7Zy5jb21waWxlKCl9fSxpc1RlbXBsYXRlOnRydWUsZGlzYWJsZUZvcm1hdHM6ZmFsc2UscmU6L1x7KFtcd1wtXSspKD86XDooW1x3XC5dKikoPzpcKCguKj8pP1wpKT8pP1x9L2csYXBwbHk6ZnVuY3Rpb24oYSl7dmFyIGg9dGhpcyxkPWguZGlzYWJsZUZvcm1hdHMhPT10cnVlLGc9RXh0LnV0aWwuRm9ybWF0LGM9aCxiO2lmKGguY29tcGlsZWQpe3JldHVybiBoLmNvbXBpbGVkKGEpLmpvaW4oIiIpfWZ1bmN0aW9uIGUoaSxrLGwsail7aWYobCYmZCl7aWYoail7aj1bYVtrXV0uY29uY2F0KEV4dC5mdW5jdGlvbkZhY3RvcnkoInJldHVybiBbIitqKyJdOyIpKCkpfWVsc2V7aj1bYVtrXV19aWYobC5zdWJzdHIoMCw1KT09InRoaXMuIil7cmV0dXJuIGNbbC5zdWJzdHIoNSldLmFwcGx5KGMsail9ZWxzZXtyZXR1cm4gZ1tsXS5hcHBseShnLGopfX1lbHNle3JldHVybiBhW2tdIT09dW5kZWZpbmVkP2Fba106IiJ9fWI9aC5odG1sLnJlcGxhY2UoaC5yZSxlKTtyZXR1cm4gYn0sYXBwbHlPdXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2lmKGMuY29tcGlsZWQpe2IucHVzaC5hcHBseShiLGMuY29tcGlsZWQoYSkpfWVsc2V7Yi5wdXNoKGMuYXBwbHkoYSkpfXJldHVybiBifSxhcHBseVRlbXBsYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYXBwbHkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZXQ6ZnVuY3Rpb24oYSxjKXt2YXIgYj10aGlzO2IuaHRtbD1hO2IuY29tcGlsZWQ9bnVsbDtyZXR1cm4gYz9iLmNvbXBpbGUoKTpifSxjb21waWxlQVJlOi9cXC9nLGNvbXBpbGVCUmU6LyhcclxufFxuKS9nLGNvbXBpbGVDUmU6LycvZyxjb21waWxlOmZ1bmN0aW9uKCl7dmFyIG1lPXRoaXMsZm09RXh0LnV0aWwuRm9ybWF0LHVzZUZvcm1hdD1tZS5kaXNhYmxlRm9ybWF0cyE9PXRydWUsYm9keSxib2R5UmV0dXJuO2Z1bmN0aW9uIGZuKG0sbmFtZSxmb3JtYXQsYXJncyl7aWYoZm9ybWF0JiZ1c2VGb3JtYXQpe2FyZ3M9YXJncz8iLCIrYXJnczoiIjtpZihmb3JtYXQuc3Vic3RyKDAsNSkhPSJ0aGlzLiIpe2Zvcm1hdD0iZm0uIitmb3JtYXQrIigifWVsc2V7Zm9ybWF0PSJ0aGlzLiIrZm9ybWF0LnN1YnN0cig1KSsiKCJ9fWVsc2V7YXJncz0iIjtmb3JtYXQ9Iih2YWx1ZXNbJyIrbmFtZSsiJ10gPT0gdW5kZWZpbmVkID8gJycgOiAifXJldHVybiInLCIrZm9ybWF0KyJ2YWx1ZXNbJyIrbmFtZSsiJ10iK2FyZ3MrIikgLCcifWJvZHlSZXR1cm49bWUuaHRtbC5yZXBsYWNlKG1lLmNvbXBpbGVBUmUsIlxcXFwiKS5yZXBsYWNlKG1lLmNvbXBpbGVCUmUsIlxcbiIpLnJlcGxhY2UobWUuY29tcGlsZUNSZSwiXFwnIikucmVwbGFjZShtZS5yZSxmbik7Ym9keT0idGhpcy5jb21waWxlZCA9IGZ1bmN0aW9uKHZhbHVlcyl7IHJldHVybiBbJyIrYm9keVJldHVybisiJ107fTsiO2V2YWwoYm9keSk7cmV0dXJuIG1lfSxpbnNlcnRGaXJzdDpmdW5jdGlvbihiLGEsYyl7cmV0dXJuIHRoaXMuZG9JbnNlcnQoImFmdGVyQmVnaW4iLGIsYSxjKX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGIsYSxjKXtyZXR1cm4gdGhpcy5kb0luc2VydCgiYmVmb3JlQmVnaW4iLGIsYSxjKX0saW5zZXJ0QWZ0ZXI6ZnVuY3Rpb24oYixhLGMpe3JldHVybiB0aGlzLmRvSW5zZXJ0KCJhZnRlckVuZCIsYixhLGMpfSxhcHBlbmQ6ZnVuY3Rpb24oYixhLGMpe3JldHVybiB0aGlzLmRvSW5zZXJ0KCJiZWZvcmVFbmQiLGIsYSxjKX0sZG9JbnNlcnQ6ZnVuY3Rpb24oYixkLGEsZSl7dmFyIGM9RXh0LkRvbUhlbHBlci5pbnNlcnRIdG1sKGIsRXh0LmdldERvbShkKSx0aGlzLmFwcGx5KGEpKTtyZXR1cm4gZT9FeHQuZ2V0KGMpOmN9LG92ZXJ3cml0ZTpmdW5jdGlvbihjLGEsZCl7dmFyIGI9RXh0LkRvbUhlbHBlci5vdmVyd3JpdGUoRXh0LmdldERvbShjKSx0aGlzLmFwcGx5KGEpKTtyZXR1cm4gZD9FeHQuZ2V0KGIpOmJ9fSk7RXh0LmRlZmluZSgiRXh0LlhUZW1wbGF0ZVBhcnNlciIse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe0V4dC5hcHBseSh0aGlzLGEpfSxkb1RwbDpFeHQuZW1wdHlGbixwYXJzZTpmdW5jdGlvbihsKXt2YXIgdj10aGlzLHA9bC5sZW5ndGgsbz17ZWxzZWlmOiJlbGlmIn0scT12LnRvcFJlLGM9di5hY3Rpb25zUmUsZSxkLGosbixoLGssaSx1LHIsYixnLGE7di5sZXZlbD0wO3Yuc3RhY2s9ZD1bXTtmb3IoZT0wO2U8cDtlPWIpe3EubGFzdEluZGV4PWU7bj1xLmV4ZWMobCk7aWYoIW4pe3YuZG9UZXh0KGwuc3Vic3RyaW5nKGUscCkpO2JyZWFrfXI9bi5pbmRleDtiPXEubGFzdEluZGV4O2lmKGU8cil7di5kb1RleHQobC5zdWJzdHJpbmcoZSxyKSl9aWYoblsxXSl7Yj1sLmluZGV4T2YoIiV9IixyKzIpO3YuZG9FdmFsKGwuc3Vic3RyaW5nKHIrMixiKSk7Yis9Mn1lbHNle2lmKG5bMl0pe2I9bC5pbmRleE9mKCJdfSIscisyKTt2LmRvRXhwcihsLnN1YnN0cmluZyhyKzIsYikpO2IrPTJ9ZWxzZXtpZihuWzNdKXt2LmRvVGFnKG5bM10pfWVsc2V7aWYobls0XSl7Zz1udWxsO3doaWxlKCh1PWMuZXhlYyhuWzRdKSkhPT1udWxsKXtqPXVbMl18fHVbM107aWYoail7aj1FeHQuU3RyaW5nLmh0bWxEZWNvZGUoaik7aD11WzFdO2g9b1toXXx8aDtnPWd8fHt9O2s9Z1toXTtpZih0eXBlb2Ygaz09InN0cmluZyIpe2dbaF09W2ssal19ZWxzZXtpZihrKXtnW2hdLnB1c2goail9ZWxzZXtnW2hdPWp9fX19aWYoIWcpe2lmKHYuZWxzZVJlLnRlc3Qobls0XSkpe3YuZG9FbHNlKCl9ZWxzZXtpZih2LmRlZmF1bHRSZS50ZXN0KG5bNF0pKXt2LmRvRGVmYXVsdCgpfWVsc2V7di5kb1RwbCgpO2QucHVzaCh7dHlwZToidHBsIn0pfX19ZWxzZXtpZihnWyJpZiJdKXt2LmRvSWYoZ1siaWYiXSxnKTtkLnB1c2goe3R5cGU6ImlmIn0pfWVsc2V7aWYoZ1sic3dpdGNoIl0pe3YuZG9Td2l0Y2goZ1sic3dpdGNoIl0sZyk7ZC5wdXNoKHt0eXBlOiJzd2l0Y2gifSl9ZWxzZXtpZihnWyJjYXNlIl0pe3YuZG9DYXNlKGdbImNhc2UiXSxnKX1lbHNle2lmKGcuZWxpZil7di5kb0Vsc2VJZihnLmVsaWYsZyl9ZWxzZXtpZihnWyJmb3IiXSl7Kyt2LmxldmVsO2lmKGE9di5wcm9wUmUuZXhlYyhuWzRdKSl7Zy5wcm9wTmFtZT1hWzFdfHxhWzJdfXYuZG9Gb3IoZ1siZm9yIl0sZyk7ZC5wdXNoKHt0eXBlOiJmb3IiLGFjdGlvbnM6Z30pfWVsc2V7aWYoZy5leGVjKXt2LmRvRXhlYyhnLmV4ZWMsZyk7ZC5wdXNoKHt0eXBlOiJleGVjIixhY3Rpb25zOmd9KX19fX19fX19ZWxzZXtpZihuWzBdLmxlbmd0aD09PTUpe2QucHVzaCh7dHlwZToidHBsIn0pfWVsc2V7aT1kLnBvcCgpO3YuZG9FbmQoaS50eXBlLGkuYWN0aW9ucyk7aWYoaS50eXBlPT0iZm9yIil7LS12LmxldmVsfX19fX19fX0sdG9wUmU6Lyg/Oihce1wlKXwoXHtcWyl8XHsoW157fV0qKVx9KXwoPzo8dHBsKFtePl0qKVw+KXwoPzo8XC90cGw+KS9nLGFjdGlvbnNSZTovXHMqKGVsaWZ8ZWxzZWlmfGlmfGZvcnxleGVjfHN3aXRjaHxjYXNlfGV2YWwpXHMqXD1ccyooPzooPzoiKFteIl0qKSIpfCg/OicoW14nXSopJykpXHMqL2cscHJvcFJlOi9wcm9wPSg/Oig/OiIoW14iXSopIil8KD86JyhbXiddKiknKSkvLGRlZmF1bHRSZTovXlxzKmRlZmF1bHRccyokLyxlbHNlUmU6L15ccyplbHNlXHMqJC99KTtFeHQuZGVmaW5lKCJFeHQuY2hhcnQuQ2FsbG91dCIse2NvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe2lmKGEuY2FsbG91dHMpe2EuY2FsbG91dHMuc3R5bGVzPUV4dC5hcHBseUlmKGEuY2FsbG91dHMuc3R5bGVzfHx7fSx7Y29sb3I6IiMwMDAiLGZvbnQ6IjExcHggSGVsdmV0aWNhLCBzYW5zLXNlcmlmIn0pO3RoaXMuY2FsbG91dHM9RXh0LmFwcGx5KHRoaXMuY2FsbG91dHN8fHt9LGEuY2FsbG91dHMpO3RoaXMuY2FsbG91dHNBcnJheT1bXX19LHJlbmRlckNhbGxvdXRzOmZ1bmN0aW9uKCl7aWYoIXRoaXMuY2FsbG91dHMpe3JldHVybn12YXIgdj10aGlzLG09di5pdGVtcyxhPXYuY2hhcnQuYW5pbWF0ZSx1PXYuY2FsbG91dHMsaD11LnN0eWxlcyxlPXYuY2FsbG91dHNBcnJheSxiPXYuY2hhcnQuc3RvcmUscz1iLmdldENvdW50KCksZD1tLmxlbmd0aC9zLGw9W10scixjLHEsbix0LGcsayxvO2ZvcihyPTAsYz0wO3I8cztyKyspe2ZvcihxPTA7cTxkO3ErKyl7dD1tW2NdO2c9ZVtjXTtrPWIuZ2V0QXQocik7bz11LmZpbHRlcihrKTtpZighbyYmIWcpe2MrKztjb250aW51ZX1pZighZyl7ZVtjXT1nPXYub25DcmVhdGVDYWxsb3V0KGssdCxyLG8scSxjKX1mb3IobiBpbiBnKXtpZihnW25dJiZnW25dLnNldEF0dHJpYnV0ZXMpe2dbbl0uc2V0QXR0cmlidXRlcyhoLHRydWUpfX1pZighbyl7Zm9yKG4gaW4gZyl7aWYoZ1tuXSl7aWYoZ1tuXS5zZXRBdHRyaWJ1dGVzKXtnW25dLnNldEF0dHJpYnV0ZXMoe2hpZGRlbjp0cnVlfSx0cnVlKX1lbHNle2lmKGdbbl0uc2V0VmlzaWJsZSl7Z1tuXS5zZXRWaXNpYmxlKGZhbHNlKX19fX19dS5yZW5kZXJlcihnLGspO3Yub25QbGFjZUNhbGxvdXQoZyxrLHQscixvLGEscSxjLGwpO2wucHVzaChnKTtjKyt9fXRoaXMuaGlkZUNhbGxvdXRzKGMpfSxvbkNyZWF0ZUNhbGxvdXQ6ZnVuY3Rpb24oZyxuLGUsail7dmFyIGs9dGhpcyxsPWsuY2FsbG91dHNHcm91cCxkPWsuY2FsbG91dHMsbz1kLnN0eWxlcyxjPW8ud2lkdGgsbT1vLmhlaWdodCxoPWsuY2hhcnQsYj1oLnN1cmZhY2UsYT17bGluZXM6ZmFsc2V9O2EubGluZXM9Yi5hZGQoRXh0LmFwcGx5KHt9LHt0eXBlOiJwYXRoIixwYXRoOiJNMCwwIixzdHJva2U6ay5nZXRMZWdlbmRDb2xvcigpfHwiIzU1NSJ9LG8pKTtpZihkLml0ZW1zKXthLnBhbmVsPW5ldyBFeHQuUGFuZWwoe3N0eWxlOiJwb3NpdGlvbjogYWJzb2x1dGU7Iix3aWR0aDpjLGhlaWdodDptLGl0ZW1zOmQuaXRlbXMscmVuZGVyVG86aC5lbH0pfXJldHVybiBhfSxoaWRlQ2FsbG91dHM6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy5jYWxsb3V0c0FycmF5LGE9ZC5sZW5ndGgsZSxjO3doaWxlKGEtLT5iKXtlPWRbYV07Zm9yKGMgaW4gZSl7aWYoZVtjXSl7ZVtjXS5oaWRlKHRydWUpfX19fX0pO0V4dC5kZWZpbmUoIkV4dC5jaGFydC5OYXZpZ2F0aW9uIix7Y29uc3RydWN0b3I6ZnVuY3Rpb24oKXt0aGlzLm9yaWdpbmFsU3RvcmU9dGhpcy5zdG9yZX0sc2V0Wm9vbTpmdW5jdGlvbihrKXt2YXIgaj10aGlzLGc9ai5heGVzLGE9Zy5pdGVtcyxlLGgsYyxwPWouY2hhcnRCQm94LG89MS9wLndpZHRoLGI9MS9wLmhlaWdodCxkPXt4OmsueCpvLHk6ay55KmIsd2lkdGg6ay53aWR0aCpvLGhlaWdodDprLmhlaWdodCpifSxsLG4sbTtmb3IoZT0wLGg9YS5sZW5ndGg7ZTxoO2UrKyl7Yz1hW2VdO2w9Yy5jYWxjRW5kcygpO2lmKGMucG9zaXRpb249PSJib3R0b20ifHxjLnBvc2l0aW9uPT0idG9wIil7bj0obC50by1sLmZyb20pKmQueCtsLmZyb207bT0obC50by1sLmZyb20pKmQud2lkdGgrbjtjLm1pbmltdW09bjtjLm1heGltdW09bX1lbHNle209KGwudG8tbC5mcm9tKSooMS1kLnkpK2wuZnJvbTtuPW0tKGwudG8tbC5mcm9tKSpkLmhlaWdodDtjLm1pbmltdW09bjtjLm1heGltdW09bX19ai5yZWRyYXcoZmFsc2UpfSxyZXN0b3JlWm9vbTpmdW5jdGlvbigpe2lmKHRoaXMub3JpZ2luYWxTdG9yZSl7dGhpcy5zdG9yZT10aGlzLnN1YnN0b3JlPXRoaXMub3JpZ2luYWxTdG9yZTt0aGlzLnJlZHJhdyh0cnVlKX19fSk7RXh0LmRlZmluZSgiRXh0LmNoYXJ0LlNoYXBlIix7c2luZ2xldG9uOnRydWUsY2lyY2xlOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuYWRkKEV4dC5hcHBseSh7dHlwZToiY2lyY2xlIix4OmIueCx5OmIueSxzdHJva2U6bnVsbCxyYWRpdXM6Yi5yYWRpdXN9LGIpKX0sbGluZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLmFkZChFeHQuYXBwbHkoe3R5cGU6InJlY3QiLHg6Yi54LWIucmFkaXVzLHk6Yi55LWIucmFkaXVzLGhlaWdodDoyKmIucmFkaXVzLHdpZHRoOjIqYi5yYWRpdXMvNX0sYikpfSxzcXVhcmU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5hZGQoRXh0LmFwcGx5SWYoe3R5cGU6InJlY3QiLHg6Yi54LWIucmFkaXVzLHk6Yi55LWIucmFkaXVzLGhlaWdodDoyKmIucmFkaXVzLHdpZHRoOjIqYi5yYWRpdXMscmFkaXVzOm51bGx9LGIpKX0sdHJpYW5nbGU6ZnVuY3Rpb24oYSxiKXtiLnJhZGl1cyo9MS43NTtyZXR1cm4gYS5hZGQoRXh0LmFwcGx5KHt0eXBlOiJwYXRoIixzdHJva2U6bnVsbCxwYXRoOiJNIi5jb25jYXQoYi54LCIsIixiLnksIm0wLSIsYi5yYWRpdXMqMC41OCwibCIsYi5yYWRpdXMqMC41LCIsIixiLnJhZGl1cyowLjg3LCItIixiLnJhZGl1cywiLDB6Iil9LGIpKX0sZGlhbW9uZDpmdW5jdGlvbihhLGMpe3ZhciBiPWMucmFkaXVzO2IqPTEuNTtyZXR1cm4gYS5hZGQoRXh0LmFwcGx5KHt0eXBlOiJwYXRoIixzdHJva2U6bnVsbCxwYXRoOlsiTSIsYy54LGMueS1iLCJsIixiLGIsLWIsYiwtYiwtYixiLC1iLCJ6Il19LGMpKX0sY3Jvc3M6ZnVuY3Rpb24oYSxjKXt2YXIgYj1jLnJhZGl1cztiPWIvMS43O3JldHVybiBhLmFkZChFeHQuYXBwbHkoe3R5cGU6InBhdGgiLHN0cm9rZTpudWxsLHBhdGg6Ik0iLmNvbmNhdChjLngtYiwiLCIsYy55LCJsIixbLWIsLWIsYiwtYixiLGIsYiwtYixiLGIsLWIsYixiLGIsLWIsYiwtYiwtYiwtYixiLC1iLC1iLCJ6Il0pfSxjKSl9LHBsdXM6ZnVuY3Rpb24oYSxjKXt2YXIgYj1jLnJhZGl1cy8xLjM7cmV0dXJuIGEuYWRkKEV4dC5hcHBseSh7dHlwZToicGF0aCIsc3Ryb2tlOm51bGwscGF0aDoiTSIuY29uY2F0KGMueC1iLzIsIiwiLGMueS1iLzIsImwiLFswLC1iLGIsMCwwLGIsYiwwLDAsYiwtYiwwLDAsYiwtYiwwLDAsLWIsLWIsMCwwLC1iLCJ6Il0pfSxjKSl9LGFycm93OmZ1bmN0aW9uKGEsYyl7dmFyIGI9Yy5yYWRpdXM7cmV0dXJuIGEuYWRkKEV4dC5hcHBseSh7dHlwZToicGF0aCIscGF0aDoiTSIuY29uY2F0KGMueC1iKjAuNywiLCIsYy55LWIqMC40LCJsIixbYiowLjYsMCwwLC1iKjAuNCxiLGIqMC44LC1iLGIqMC44LDAsLWIqMC40LC1iKjAuNiwwXSwieiIpfSxjKSl9LGRyb3A6ZnVuY3Rpb24oYixhLGcsZSxjLGQpe2M9Y3x8MzA7ZD1kfHwwO2IuYWRkKHt0eXBlOiJwYXRoIixwYXRoOlsiTSIsYSxnLCJsIixjLDAsIkEiLGMqMC40LGMqMC40LDAsMSwwLGErYyowLjcsZy1jKjAuNywieiJdLGZpbGw6IiMwMDAiLHN0cm9rZToibm9uZSIscm90YXRlOntkZWdyZWVzOjIyLjUtZCx4OmEseTpnfX0pO2Q9KGQrOTApKk1hdGguUEkvMTgwO2IuYWRkKHt0eXBlOiJ0ZXh0Iix4OmErYypNYXRoLnNpbihkKS0xMCx5OmcrYypNYXRoLmNvcyhkKSs1LHRleHQ6ZSwiZm9udC1zaXplIjpjKjEyLzQwLHN0cm9rZToibm9uZSIsZmlsbDoiI2ZmZiJ9KX19KTtFeHQuZGVmaW5lKCJFeHQuZGF0YS5JZEdlbmVyYXRvciIse2lzR2VuZXJhdG9yOnRydWUsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztFeHQuYXBwbHkoYixhKTtpZihiLmlkKXtFeHQuZGF0YS5JZEdlbmVyYXRvci5hbGxbYi5pZF09Yn19LGdldFJlY0lkOmZ1bmN0aW9uKGEpe3JldHVybiBhLm1vZGVsTmFtZSsiLSIrYS5pbnRlcm5hbElkfSxzdGF0aWNzOnthbGw6e30sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBjLGQsYjtpZih0eXBlb2YgYT09InN0cmluZyIpe2Q9Yj1hO2E9bnVsbH1lbHNle2lmKGEuaXNHZW5lcmF0b3Ipe3JldHVybiBhfWVsc2V7ZD1hLmlkfHxhLnR5cGU7Yj1hLnR5cGV9fWM9dGhpcy5hbGxbZF07aWYoIWMpe2M9RXh0LmNyZWF0ZSgiaWRnZW4uIitiLGEpfXJldHVybiBjfX19KTtFeHQuZGVmaW5lKCJFeHQuZGF0YS5Kc29uUCIse3NpbmdsZXRvbjp0cnVlLHN0YXRpY3M6e3JlcXVlc3RDb3VudDowLHJlcXVlc3RzOnt9fSx0aW1lb3V0OjMwMDAwLGRpc2FibGVDYWNoaW5nOnRydWUsZGlzYWJsZUNhY2hpbmdQYXJhbToiX2RjIixjYWxsYmFja0tleToiY2FsbGJhY2siLHJlcXVlc3Q6ZnVuY3Rpb24obil7bj1FeHQuYXBwbHkoe30sbik7dmFyIGo9dGhpcyxkPUV4dC5pc0RlZmluZWQobi5kaXNhYmxlQ2FjaGluZyk/bi5kaXNhYmxlQ2FjaGluZzpqLmRpc2FibGVDYWNoaW5nLGg9bi5kaXNhYmxlQ2FjaGluZ1BhcmFtfHxqLmRpc2FibGVDYWNoaW5nUGFyYW0sYz0rK2ouc3RhdGljcygpLnJlcXVlc3RDb3VudCxsPW4uY2FsbGJhY2tOYW1lfHwiY2FsbGJhY2siK2MsaT1uLmNhbGxiYWNrS2V5fHxqLmNhbGxiYWNrS2V5LG09RXh0LmlzRGVmaW5lZChuLnRpbWVvdXQpP24udGltZW91dDpqLnRpbWVvdXQsZT1FeHQuYXBwbHkoe30sbi5wYXJhbXMpLGI9bi51cmwsYT1FeHQubmFtZSxnLGs7ZVtpXT1hKyIuZGF0YS5Kc29uUC4iK2w7aWYoZCl7ZVtoXT1uZXcgRGF0ZSgpLmdldFRpbWUoKX1rPWouY3JlYXRlU2NyaXB0KGIsZSxuKTtqLnN0YXRpY3MoKS5yZXF1ZXN0c1tjXT1nPXt1cmw6YixwYXJhbXM6ZSxzY3JpcHQ6ayxpZDpjLHNjb3BlOm4uc2NvcGUsc3VjY2VzczpuLnN1Y2Nlc3MsZmFpbHVyZTpuLmZhaWx1cmUsY2FsbGJhY2s6bi5jYWxsYmFjayxjYWxsYmFja0tleTppLGNhbGxiYWNrTmFtZTpsfTtpZihtPjApe2cudGltZW91dD1zZXRUaW1lb3V0KEV4dC5iaW5kKGouaGFuZGxlVGltZW91dCxqLFtnXSksbSl9ai5zZXR1cEVycm9ySGFuZGxpbmcoZyk7altsXT1FeHQuYmluZChqLmhhbmRsZVJlc3BvbnNlLGosW2ddLHRydWUpO2oubG9hZFNjcmlwdChnKTtyZXR1cm4gZ30sYWJvcnQ6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxkPWIuc3RhdGljcygpLnJlcXVlc3RzLGE7aWYoYyl7aWYoIWMuaWQpe2M9ZFtjXX1iLmhhbmRsZUFib3J0KGMpfWVsc2V7Zm9yKGEgaW4gZCl7aWYoZC5oYXNPd25Qcm9wZXJ0eShhKSl7Yi5hYm9ydChkW2FdKX19fX0sc2V0dXBFcnJvckhhbmRsaW5nOmZ1bmN0aW9uKGEpe2Euc2NyaXB0Lm9uZXJyb3I9RXh0LmJpbmQodGhpcy5oYW5kbGVFcnJvcix0aGlzLFthXSl9LGhhbmRsZUFib3J0OmZ1bmN0aW9uKGEpe2EuZXJyb3JUeXBlPSJhYm9ydCI7dGhpcy5oYW5kbGVSZXNwb25zZShudWxsLGEpfSxoYW5kbGVFcnJvcjpmdW5jdGlvbihhKXthLmVycm9yVHlwZT0iZXJyb3IiO3RoaXMuaGFuZGxlUmVzcG9uc2UobnVsbCxhKX0sY2xlYW51cEVycm9ySGFuZGxpbmc6ZnVuY3Rpb24oYSl7YS5zY3JpcHQub25lcnJvcj1udWxsfSxoYW5kbGVUaW1lb3V0OmZ1bmN0aW9uKGEpe2EuZXJyb3JUeXBlPSJ0aW1lb3V0Ijt0aGlzLmhhbmRsZVJlc3BvbnNlKG51bGwsYSl9LGhhbmRsZVJlc3BvbnNlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHJ1ZTtpZihiLnRpbWVvdXQpe2NsZWFyVGltZW91dChiLnRpbWVvdXQpfWRlbGV0ZSB0aGlzW2IuY2FsbGJhY2tOYW1lXTtkZWxldGUgdGhpcy5zdGF0aWNzKCkucmVxdWVzdHNbYi5pZF07dGhpcy5jbGVhbnVwRXJyb3JIYW5kbGluZyhiKTtFeHQuZmx5KGIuc2NyaXB0KS5yZW1vdmUoKTtpZihiLmVycm9yVHlwZSl7Yz1mYWxzZTtFeHQuY2FsbGJhY2soYi5mYWlsdXJlLGIuc2NvcGUsW2IuZXJyb3JUeXBlXSl9ZWxzZXtFeHQuY2FsbGJhY2soYi5zdWNjZXNzLGIuc2NvcGUsW2FdKX1FeHQuY2FsbGJhY2soYi5jYWxsYmFjayxiLnNjb3BlLFtjLGEsYi5lcnJvclR5cGVdKX0sY3JlYXRlU2NyaXB0OmZ1bmN0aW9uKGMsZCxiKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKTthLnNldEF0dHJpYnV0ZSgic3JjIixFeHQudXJsQXBwZW5kKGMsRXh0Lk9iamVjdC50b1F1ZXJ5U3RyaW5nKGQpKSk7YS5zZXRBdHRyaWJ1dGUoImFzeW5jIix0cnVlKTthLnNldEF0dHJpYnV0ZSgidHlwZSIsInRleHQvamF2YXNjcmlwdCIpO3JldHVybiBhfSxsb2FkU2NyaXB0OmZ1bmN0aW9uKGEpe0V4dC5nZXRIZWFkKCkuYXBwZW5kQ2hpbGQoYS5zY3JpcHQpfX0pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLk9wZXJhdGlvbiIse3N5bmNocm9ub3VzOnRydWUsYWN0aW9uOnVuZGVmaW5lZCxmaWx0ZXJzOnVuZGVmaW5lZCxzb3J0ZXJzOnVuZGVmaW5lZCxncm91cGVyczp1bmRlZmluZWQsc3RhcnQ6dW5kZWZpbmVkLGxpbWl0OnVuZGVmaW5lZCxiYXRjaDp1bmRlZmluZWQsY2FsbGJhY2s6dW5kZWZpbmVkLHNjb3BlOnVuZGVmaW5lZCxzdGFydGVkOmZhbHNlLHJ1bm5pbmc6ZmFsc2UsY29tcGxldGU6ZmFsc2Usc3VjY2Vzczp1bmRlZmluZWQsZXhjZXB0aW9uOmZhbHNlLGVycm9yOnVuZGVmaW5lZCxhY3Rpb25Db21taXRSZWNvcmRzUmU6L14oPzpjcmVhdGV8dXBkYXRlKSQvaSxhY3Rpb25Ta2lwU3luY1JlOi9eZGVzdHJveSQvaSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXtFeHQuYXBwbHkodGhpcyxhfHx7fSl9LGNvbW1pdFJlY29yZHM6ZnVuY3Rpb24oYil7dmFyIGc9dGhpcyxoLGMsZCxlLGE7aWYoIWcuYWN0aW9uU2tpcFN5bmNSZS50ZXN0KGcuYWN0aW9uKSl7ZD1nLnJlY29yZHM7aWYoZCYmZC5sZW5ndGgpe2lmKGQubGVuZ3RoPjEpe2g9bmV3IEV4dC51dGlsLk1peGVkQ29sbGVjdGlvbigpO2guYWRkQWxsKGIpO2ZvcihjPWQubGVuZ3RoO2MtLTspe2E9ZFtjXTtlPWguZmluZEJ5KGcubWF0Y2hDbGllbnRSZWMsYSk7YS5jb3B5RnJvbShlKX19ZWxzZXthPWRbMF07ZT1iWzBdO2lmKGUmJihhLnBoYW50b218fGEuZ2V0SWQoKT09PWUuZ2V0SWQoKSkpe2EuY29weUZyb20oZSl9fWlmKGcuYWN0aW9uQ29tbWl0UmVjb3Jkc1JlLnRlc3QoZy5hY3Rpb24pKXtmb3IoYz1kLmxlbmd0aDtjLS07KXtkW2NdLmNvbW1pdCgpfX19fX0sbWF0Y2hDbGllbnRSZWM6ZnVuY3Rpb24oYyl7dmFyIGE9dGhpcyxiPWEuZ2V0SWQoKTtpZihiJiZjLmdldElkKCk9PT1iKXtyZXR1cm4gdHJ1ZX1yZXR1cm4gYy5pbnRlcm5hbElkPT09YS5pbnRlcm5hbElkfSxzZXRTdGFydGVkOmZ1bmN0aW9uKCl7dGhpcy5zdGFydGVkPXRydWU7dGhpcy5ydW5uaW5nPXRydWV9LHNldENvbXBsZXRlZDpmdW5jdGlvbigpe3RoaXMuY29tcGxldGU9dHJ1ZTt0aGlzLnJ1bm5pbmc9ZmFsc2V9LHNldFN1Y2Nlc3NmdWw6ZnVuY3Rpb24oKXt0aGlzLnN1Y2Nlc3M9dHJ1ZX0sc2V0RXhjZXB0aW9uOmZ1bmN0aW9uKGEpe3RoaXMuZXhjZXB0aW9uPXRydWU7dGhpcy5zdWNjZXNzPWZhbHNlO3RoaXMucnVubmluZz1mYWxzZTt0aGlzLmVycm9yPWF9LGhhc0V4Y2VwdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmV4Y2VwdGlvbj09PXRydWV9LGdldEVycm9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXJyb3J9LGdldFJlY29yZHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJlc3VsdFNldCgpO3JldHVybiB0aGlzLnJlY29yZHN8fChhP2EucmVjb3JkczpudWxsKX0sZ2V0UmVzdWx0U2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmVzdWx0U2V0fSxpc1N0YXJ0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydGVkPT09dHJ1ZX0saXNSdW5uaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucnVubmluZz09PXRydWV9LGlzQ29tcGxldGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jb21wbGV0ZT09PXRydWV9LHdhc1N1Y2Nlc3NmdWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc0NvbXBsZXRlKCkmJnRoaXMuc3VjY2Vzcz09PXRydWV9LHNldEJhdGNoOmZ1bmN0aW9uKGEpe3RoaXMuYmF0Y2g9YX0sYWxsb3dXcml0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGlvbiE9InJlYWQifX0pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLlJlcXVlc3QiLHthY3Rpb246dW5kZWZpbmVkLHBhcmFtczp1bmRlZmluZWQsbWV0aG9kOiJHRVQiLHVybDp1bmRlZmluZWQsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7RXh0LmFwcGx5KHRoaXMsYSl9fSk7RXh0LmRlZmluZSgiRXh0LmRhdGEuUmVzdWx0U2V0Iix7bG9hZGVkOnRydWUsY291bnQ6MCx0b3RhbDowLHN1Y2Nlc3M6ZmFsc2UsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7RXh0LmFwcGx5KHRoaXMsYSk7dGhpcy50b3RhbFJlY29yZHM9dGhpcy50b3RhbDtpZihhLmNvdW50PT09dW5kZWZpbmVkKXt0aGlzLmNvdW50PXRoaXMucmVjb3Jkcy5sZW5ndGh9fX0pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLlNlcXVlbnRpYWxJZEdlbmVyYXRvciIse2V4dGVuZDoiRXh0LmRhdGEuSWRHZW5lcmF0b3IiLGFsaWFzOiJpZGdlbi5zZXF1ZW50aWFsIixjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5wYXJ0cz1bYS5wcmVmaXgsIiJdfSxwcmVmaXg6IiIsc2VlZDoxLGdlbmVyYXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEucGFydHM7YlsxXT1hLnNlZWQrKztyZXR1cm4gYi5qb2luKCIiKX19KTtFeHQuZGVmaW5lKCJFeHQuZGF0YS5Tb3J0VHlwZXMiLHtzaW5nbGV0b246dHJ1ZSxub25lOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxzdHJpcFRhZ3NSRTovPFwvP1tePl0rPi9naSxhc1RleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIFN0cmluZyhhKS5yZXBsYWNlKHRoaXMuc3RyaXBUYWdzUkUsIiIpfSxhc1VDVGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gU3RyaW5nKGEpLnRvVXBwZXJDYXNlKCkucmVwbGFjZSh0aGlzLnN0cmlwVGFnc1JFLCIiKX0sYXNVQ1N0cmluZzpmdW5jdGlvbihhKXtyZXR1cm4gU3RyaW5nKGEpLnRvVXBwZXJDYXNlKCl9LGFzRGF0ZTpmdW5jdGlvbihhKXtpZighYSl7cmV0dXJuIDB9aWYoRXh0LmlzRGF0ZShhKSl7cmV0dXJuIGEuZ2V0VGltZSgpfXJldHVybiBEYXRlLnBhcnNlKFN0cmluZyhhKSl9LGFzRmxvYXQ6ZnVuY3Rpb24oYSl7dmFyIGI9cGFyc2VGbG9hdChTdHJpbmcoYSkucmVwbGFjZSgvLC9nLCIiKSk7cmV0dXJuIGlzTmFOKGIpPzA6Yn0sYXNJbnQ6ZnVuY3Rpb24oYSl7dmFyIGI9cGFyc2VJbnQoU3RyaW5nKGEpLnJlcGxhY2UoLywvZywiIiksMTApO3JldHVybiBpc05hTihiKT8wOmJ9fSk7RXh0LmRlZmluZSgiRXh0LmRhdGEuVHlwZXMiLHtzaW5nbGV0b246dHJ1ZSxyZXF1aXJlczpbIkV4dC5kYXRhLlNvcnRUeXBlcyJdfSxmdW5jdGlvbigpe3ZhciBhPUV4dC5kYXRhLlNvcnRUeXBlcztFeHQuYXBwbHkoRXh0LmRhdGEuVHlwZXMse3N0cmlwUmU6L1tcJCwlXS9nLEFVVE86e3NvcnRUeXBlOmEubm9uZSx0eXBlOiJhdXRvIn0sU1RSSU5HOntjb252ZXJ0OmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMudXNlTnVsbD9udWxsOiIiO3JldHVybihjPT09dW5kZWZpbmVkfHxjPT09bnVsbCk/YjpTdHJpbmcoYyl9LHNvcnRUeXBlOmEuYXNVQ1N0cmluZyx0eXBlOiJzdHJpbmcifSxJTlQ6e2NvbnZlcnQ6ZnVuY3Rpb24oYil7cmV0dXJuIGIhPT11bmRlZmluZWQmJmIhPT1udWxsJiZiIT09IiI/cGFyc2VJbnQoU3RyaW5nKGIpLnJlcGxhY2UoRXh0LmRhdGEuVHlwZXMuc3RyaXBSZSwiIiksMTApOih0aGlzLnVzZU51bGw/bnVsbDowKX0sc29ydFR5cGU6YS5ub25lLHR5cGU6ImludCJ9LEZMT0FUOntjb252ZXJ0OmZ1bmN0aW9uKGIpe3JldHVybiBiIT09dW5kZWZpbmVkJiZiIT09bnVsbCYmYiE9PSIiP3BhcnNlRmxvYXQoU3RyaW5nKGIpLnJlcGxhY2UoRXh0LmRhdGEuVHlwZXMuc3RyaXBSZSwiIiksMTApOih0aGlzLnVzZU51bGw/bnVsbDowKX0sc29ydFR5cGU6YS5ub25lLHR5cGU6ImZsb2F0In0sQk9PTDp7Y29udmVydDpmdW5jdGlvbihiKXtpZih0aGlzLnVzZU51bGwmJihiPT09dW5kZWZpbmVkfHxiPT09bnVsbHx8Yj09PSIiKSl7cmV0dXJuIG51bGx9cmV0dXJuIGI9PT10cnVlfHxiPT09InRydWUifHxiPT0xfSxzb3J0VHlwZTphLm5vbmUsdHlwZToiYm9vbCJ9LERBVEU6e2NvbnZlcnQ6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcy5kYXRlRm9ybWF0LGI7aWYoIWMpe3JldHVybiBudWxsfWlmKEV4dC5pc0RhdGUoYykpe3JldHVybiBjfWlmKGQpe2lmKGQ9PSJ0aW1lc3RhbXAiKXtyZXR1cm4gbmV3IERhdGUoYyoxMDAwKX1pZihkPT0idGltZSIpe3JldHVybiBuZXcgRGF0ZShwYXJzZUludChjLDEwKSl9cmV0dXJuIEV4dC5EYXRlLnBhcnNlKGMsZCl9Yj1EYXRlLnBhcnNlKGMpO3JldHVybiBiP25ldyBEYXRlKGIpOm51bGx9LHNvcnRUeXBlOmEuYXNEYXRlLHR5cGU6ImRhdGUifX0pO0V4dC5hcHBseShFeHQuZGF0YS5UeXBlcyx7Qk9PTEVBTjp0aGlzLkJPT0wsSU5URUdFUjp0aGlzLklOVCxOVU1CRVI6dGhpcy5GTE9BVH0pfSk7RXh0LmRlZmluZSgiRXh0LmRhdGEuVXVpZEdlbmVyYXRvciIsKGZ1bmN0aW9uKCl7dmFyIGg9TWF0aC5wb3coMiwxNCksZz1NYXRoLnBvdygyLDE2KSxlPU1hdGgucG93KDIsMjgpLGM9TWF0aC5wb3coMiwzMik7ZnVuY3Rpb24gYShrLGope3ZhciBpPWsudG9TdHJpbmcoMTYpO2lmKGkubGVuZ3RoPmope2k9aS5zdWJzdHJpbmcoaS5sZW5ndGgtail9ZWxzZXtpZihpLmxlbmd0aDxqKXtpPUV4dC5TdHJpbmcubGVmdFBhZChpLGosIjAiKX19cmV0dXJuIGl9ZnVuY3Rpb24gZChrLGope3ZhciBpPU1hdGgucmFuZG9tKCkqKGotaysxKTtyZXR1cm4gTWF0aC5mbG9vcihpKStrfWZ1bmN0aW9uIGIoail7aWYodHlwZW9mKGopPT0ibnVtYmVyIil7dmFyIGk9TWF0aC5mbG9vcihqL2MpO3JldHVybntsbzpNYXRoLmZsb29yKGotaSpjKSxoaTppfX1yZXR1cm4gan1yZXR1cm57ZXh0ZW5kOiJFeHQuZGF0YS5JZEdlbmVyYXRvciIsYWxpYXM6ImlkZ2VuLnV1aWQiLGlkOiJ1dWlkIix2ZXJzaW9uOjQsY29uc3RydWN0b3I6ZnVuY3Rpb24oKXt2YXIgaT10aGlzO2kuY2FsbFBhcmVudChhcmd1bWVudHMpO2kucGFydHM9W107aS5pbml0KCl9LGdlbmVyYXRlOmZ1bmN0aW9uKCl7dmFyIGo9dGhpcyxrPWoucGFydHMsaT1qLnRpbWVzdGFtcDtrWzBdPWEoaS5sbyw4KTtrWzFdPWEoaS5oaSY2NTUzNSw0KTtrWzJdPWEoKChpLmhpPj4+MTYpJjQwOTUpfChqLnZlcnNpb248PDEyKSw0KTtrWzNdPWEoMTI4fCgoai5jbG9ja1NlcT4+PjgpJjYzKSwyKSthKGouY2xvY2tTZXEmMjU1LDIpO2tbNF09YShqLnNhbHQuaGksNCkrYShqLnNhbHQubG8sOCk7aWYoai52ZXJzaW9uPT00KXtqLmluaXQoKX1lbHNleysraS5sbztpZihpLmxvPj1jKXtpLmxvPTA7KytpLmhpfX1yZXR1cm4gay5qb2luKCItIikudG9Mb3dlckNhc2UoKX0sZ2V0UmVjSWQ6ZnVuY3Rpb24oaSl7cmV0dXJuIGkuZ2V0SWQoKX0saW5pdDpmdW5jdGlvbigpe3ZhciBqPXRoaXMsaSxrO2lmKGoudmVyc2lvbj09NCl7ai5jbG9ja1NlcT1kKDAsaC0xKTtpPWouc2FsdHx8KGouc2FsdD17fSk7az1qLnRpbWVzdGFtcHx8KGoudGltZXN0YW1wPXt9KTtpLmxvPWQoMCxjLTEpO2kuaGk9ZCgwLGctMSk7ay5sbz1kKDAsYy0xKTtrLmhpPWQoMCxlLTEpfWVsc2V7ai5zYWx0PWIoai5zYWx0KTtqLnRpbWVzdGFtcD1iKGoudGltZXN0YW1wKTtqLnNhbHQuaGl8PTI1Nn19LHJlY29uZmlndXJlOmZ1bmN0aW9uKGkpe0V4dC5hcHBseSh0aGlzLGkpO3RoaXMuaW5pdCgpfX19KCkpKTtFeHQuZGVmaW5lKCJFeHQuZGF0YS52YWxpZGF0aW9ucyIse3NpbmdsZXRvbjp0cnVlLHByZXNlbmNlTWVzc2FnZToibXVzdCBiZSBwcmVzZW50IixsZW5ndGhNZXNzYWdlOiJpcyB0aGUgd3JvbmcgbGVuZ3RoIixmb3JtYXRNZXNzYWdlOiJpcyB0aGUgd3JvbmcgZm9ybWF0IixpbmNsdXNpb25NZXNzYWdlOiJpcyBub3QgaW5jbHVkZWQgaW4gdGhlIGxpc3Qgb2YgYWNjZXB0YWJsZSB2YWx1ZXMiLGV4Y2x1c2lvbk1lc3NhZ2U6ImlzIG5vdCBhbiBhY2NlcHRhYmxlIHZhbHVlIixlbWFpbE1lc3NhZ2U6ImlzIG5vdCBhIHZhbGlkIGVtYWlsIGFkZHJlc3MiLGVtYWlsUmU6L14oW2EtekEtWjAtOV9cLlwtXSkrXEAoKFthLXpBLVowLTlcLV0pK1wuKSsoW2EtekEtWjAtOV17Miw0fSkrJC8scHJlc2VuY2U6ZnVuY3Rpb24oYSxiKXtpZihhcmd1bWVudHMubGVuZ3RoPT09MSl7Yj1hfXJldHVybiAhIWJ8fGI9PT0wfSxsZW5ndGg6ZnVuY3Rpb24oYixlKXtpZihlPT09dW5kZWZpbmVkfHxlPT09bnVsbCl7cmV0dXJuIGZhbHNlfXZhciBkPWUubGVuZ3RoLGM9Yi5taW4sYT1iLm1heDtpZigoYyYmZDxjKXx8KGEmJmQ+YSkpe3JldHVybiBmYWxzZX1lbHNle3JldHVybiB0cnVlfX0sZW1haWw6ZnVuY3Rpb24oYixhKXtyZXR1cm4gRXh0LmRhdGEudmFsaWRhdGlvbnMuZW1haWxSZS50ZXN0KGEpfSxmb3JtYXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gISEoYS5tYXRjaGVyJiZhLm1hdGNoZXIudGVzdChiKSl9LGluY2x1c2lvbjpmdW5jdGlvbihhLGIpe3JldHVybiBhLmxpc3QmJkV4dC5BcnJheS5pbmRleE9mKGEubGlzdCxiKSE9LTF9LGV4Y2x1c2lvbjpmdW5jdGlvbihhLGIpe3JldHVybiBhLmxpc3QmJkV4dC5BcnJheS5pbmRleE9mKGEubGlzdCxiKT09LTF9fSk7RXh0LmRlZmluZSgiRXh0LmRhdGEuYXNzb2NpYXRpb24uQXNzb2NpYXRpb24iLHthbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5kYXRhLkFzc29jaWF0aW9uIixwcmltYXJ5S2V5OiJpZCIsZGVmYXVsdFJlYWRlclR5cGU6Impzb24iLHN0YXRpY3M6e0FVVE9fSUQ6MTAwMCxjcmVhdGU6ZnVuY3Rpb24oYSl7aWYoIWEuaXNBc3NvY2lhdGlvbil7aWYoRXh0LmlzU3RyaW5nKGEpKXthPXt0eXBlOmF9fXN3aXRjaChhLnR5cGUpe2Nhc2UiYmVsb25nc1RvIjpyZXR1cm4gbmV3IEV4dC5kYXRhLmFzc29jaWF0aW9uLkJlbG9uZ3NUbyhhKTtjYXNlImhhc01hbnkiOnJldHVybiBuZXcgRXh0LmRhdGEuYXNzb2NpYXRpb24uSGFzTWFueShhKTtjYXNlImhhc09uZSI6cmV0dXJuIG5ldyBFeHQuZGF0YS5hc3NvY2lhdGlvbi5IYXNPbmUoYSk7ZGVmYXVsdDp9fXJldHVybiBhfX0sY29uc3RydWN0b3I6ZnVuY3Rpb24oYil7RXh0LmFwcGx5KHRoaXMsYik7dmFyIGM9RXh0Lk1vZGVsTWFuYWdlci50eXBlcyxkPWIub3duZXJNb2RlbCxnPWIuYXNzb2NpYXRlZE1vZGVsLGU9Y1tkXSxoPWNbZ10sYTt0aGlzLm93bmVyTW9kZWw9ZTt0aGlzLmFzc29jaWF0ZWRNb2RlbD1oO0V4dC5hcHBseUlmKHRoaXMse293bmVyTmFtZTpkLGFzc29jaWF0ZWROYW1lOmd9KTt0aGlzLmFzc29jaWF0aW9uSWQ9ImFzc29jaWF0aW9uIisoKyt0aGlzLnN0YXRpY3MoKS5BVVRPX0lEKX0sZ2V0UmVhZGVyOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxhPWMucmVhZGVyLGI9Yy5hc3NvY2lhdGVkTW9kZWw7aWYoYSl7aWYoRXh0LmlzU3RyaW5nKGEpKXthPXt0eXBlOmF9fWlmKGEuaXNSZWFkZXIpe2Euc2V0TW9kZWwoYil9ZWxzZXtFeHQuYXBwbHlJZihhLHttb2RlbDpiLHR5cGU6Yy5kZWZhdWx0UmVhZGVyVHlwZX0pfWMucmVhZGVyPUV4dC5jcmVhdGVCeUFsaWFzKCJyZWFkZXIuIithLnR5cGUsYSl9cmV0dXJuIGMucmVhZGVyfHxudWxsfX0pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLmFzc29jaWF0aW9uLkJlbG9uZ3NUbyIse2V4dGVuZDoiRXh0LmRhdGEuYXNzb2NpYXRpb24uQXNzb2NpYXRpb24iLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmRhdGEuQmVsb25nc1RvQXNzb2NpYXRpb24iLGFsaWFzOiJhc3NvY2lhdGlvbi5iZWxvbmdzdG8iLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGMpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3ZhciBlPXRoaXMsYT1lLm93bmVyTW9kZWwucHJvdG90eXBlLGc9ZS5hc3NvY2lhdGVkTmFtZSxkPWUuZ2V0dGVyTmFtZXx8ImdldCIrZyxiPWUuc2V0dGVyTmFtZXx8InNldCIrZztFeHQuYXBwbHlJZihlLHtuYW1lOmcsZm9yZWlnbktleTpnLnRvTG93ZXJDYXNlKCkrIl9pZCIsaW5zdGFuY2VOYW1lOmcrIkJlbG9uZ3NUb0luc3RhbmNlIixhc3NvY2lhdGlvbktleTpnLnRvTG93ZXJDYXNlKCl9KTthW2RdPWUuY3JlYXRlR2V0dGVyKCk7YVtiXT1lLmNyZWF0ZVNldHRlcigpfSxjcmVhdGVTZXR0ZXI6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5mb3JlaWduS2V5O3JldHVybiBmdW5jdGlvbihlLGMsZCl7aWYoZSYmZS5pc01vZGVsKXtlPWUuZ2V0SWQoKX10aGlzLnNldChhLGUpO2lmKEV4dC5pc0Z1bmN0aW9uKGMpKXtjPXtjYWxsYmFjazpjLHNjb3BlOmR8fHRoaXN9fWlmKEV4dC5pc09iamVjdChjKSl7cmV0dXJuIHRoaXMuc2F2ZShjKX19fSxjcmVhdGVHZXR0ZXI6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGU9ZC5hc3NvY2lhdGVkTmFtZSxnPWQuYXNzb2NpYXRlZE1vZGVsLGM9ZC5mb3JlaWduS2V5LGI9ZC5wcmltYXJ5S2V5LGE9ZC5pbnN0YW5jZU5hbWU7cmV0dXJuIGZ1bmN0aW9uKGssbCl7az1rfHx7fTt2YXIgaj10aGlzLG09ai5nZXQoYyksbixoLGk7aWYoay5yZWxvYWQ9PT10cnVlfHxqW2FdPT09dW5kZWZpbmVkKXtoPUV4dC5Nb2RlbE1hbmFnZXIuY3JlYXRlKHt9LGUpO2guc2V0KGIsbSk7aWYodHlwZW9mIGs9PSJmdW5jdGlvbiIpe2s9e2NhbGxiYWNrOmssc2NvcGU6bHx8an19bj1rLnN1Y2Nlc3M7ay5zdWNjZXNzPWZ1bmN0aW9uKG8pe2pbYV09bztpZihuKXtuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19O2cubG9hZChtLGspO2pbYV09aDtyZXR1cm4gaH1lbHNle2g9althXTtpPVtoXTtsPWx8fGsuc2NvcGV8fGo7RXh0LmNhbGxiYWNrKGssbCxpKTtFeHQuY2FsbGJhY2soay5zdWNjZXNzLGwsaSk7RXh0LmNhbGxiYWNrKGsuZmFpbHVyZSxsLGkpO0V4dC5jYWxsYmFjayhrLmNhbGxiYWNrLGwsaSk7cmV0dXJuIGh9fX0scmVhZDpmdW5jdGlvbihiLGEsYyl7Ylt0aGlzLmluc3RhbmNlTmFtZV09YS5yZWFkKFtjXSkucmVjb3Jkc1swXX19KTtFeHQuZGVmaW5lKCJFeHQuZGF0YS5hc3NvY2lhdGlvbi5IYXNPbmUiLHtleHRlbmQ6IkV4dC5kYXRhLmFzc29jaWF0aW9uLkFzc29jaWF0aW9uIixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5kYXRhLkhhc09uZUFzc29jaWF0aW9uIixhbGlhczoiYXNzb2NpYXRpb24uaGFzb25lIixjb25zdHJ1Y3RvcjpmdW5jdGlvbihjKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt2YXIgZT10aGlzLGE9ZS5vd25lck1vZGVsLnByb3RvdHlwZSxnPWUuYXNzb2NpYXRlZE5hbWUsZD1lLmdldHRlck5hbWV8fCJnZXQiK2csYj1lLnNldHRlck5hbWV8fCJzZXQiK2c7RXh0LmFwcGx5SWYoZSx7bmFtZTpnLGZvcmVpZ25LZXk6Zy50b0xvd2VyQ2FzZSgpKyJfaWQiLGluc3RhbmNlTmFtZTpnKyJIYXNPbmVJbnN0YW5jZSIsYXNzb2NpYXRpb25LZXk6Zy50b0xvd2VyQ2FzZSgpfSk7YVtkXT1lLmNyZWF0ZUdldHRlcigpO2FbYl09ZS5jcmVhdGVTZXR0ZXIoKX0sY3JlYXRlU2V0dGVyOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIub3duZXJNb2RlbCxhPWIuZm9yZWlnbktleTtyZXR1cm4gZnVuY3Rpb24oZyxkLGUpe2lmKGcmJmcuaXNNb2RlbCl7Zz1nLmdldElkKCl9dGhpcy5zZXQoYSxnKTtpZihFeHQuaXNGdW5jdGlvbihkKSl7ZD17Y2FsbGJhY2s6ZCxzY29wZTplfHx0aGlzfX1pZihFeHQuaXNPYmplY3QoZCkpe3JldHVybiB0aGlzLnNhdmUoZCl9fX0sY3JlYXRlR2V0dGVyOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxnPWQub3duZXJNb2RlbCxlPWQuYXNzb2NpYXRlZE5hbWUsaD1kLmFzc29jaWF0ZWRNb2RlbCxjPWQuZm9yZWlnbktleSxiPWQucHJpbWFyeUtleSxhPWQuaW5zdGFuY2VOYW1lO3JldHVybiBmdW5jdGlvbihsLG0pe2w9bHx8e307dmFyIGs9dGhpcyxuPWsuZ2V0KGMpLG8saSxqO2lmKGwucmVsb2FkPT09dHJ1ZXx8a1thXT09PXVuZGVmaW5lZCl7aT1FeHQuTW9kZWxNYW5hZ2VyLmNyZWF0ZSh7fSxlKTtpLnNldChiLG4pO2lmKHR5cGVvZiBsPT0iZnVuY3Rpb24iKXtsPXtjYWxsYmFjazpsLHNjb3BlOm18fGt9fW89bC5zdWNjZXNzO2wuc3VjY2Vzcz1mdW5jdGlvbihwKXtrW2FdPXA7aWYobyl7by5jYWxsKHRoaXMsYXJndW1lbnRzKX19O2gubG9hZChuLGwpO2tbYV09aTtyZXR1cm4gaX1lbHNle2k9a1thXTtqPVtpXTttPW18fGs7RXh0LmNhbGxiYWNrKGwsbSxqKTtFeHQuY2FsbGJhY2sobC5zdWNjZXNzLG0saik7RXh0LmNhbGxiYWNrKGwuZmFpbHVyZSxtLGopO0V4dC5jYWxsYmFjayhsLmNhbGxiYWNrLG0saik7cmV0dXJuIGl9fX0scmVhZDpmdW5jdGlvbihjLGEsZSl7dmFyIGI9dGhpcy5hc3NvY2lhdGVkTW9kZWwucHJvdG90eXBlLmFzc29jaWF0aW9ucy5maW5kQnkoZnVuY3Rpb24oZyl7cmV0dXJuIGcudHlwZT09PSJiZWxvbmdzVG8iJiZnLmFzc29jaWF0ZWROYW1lPT09Yy4kY2xhc3NOYW1lfSksZD1hLnJlYWQoW2VdKS5yZWNvcmRzWzBdO2NbdGhpcy5pbnN0YW5jZU5hbWVdPWQ7aWYoYil7ZFtiLmluc3RhbmNlTmFtZV09Y319fSk7RXh0LmRlZmluZSgiRXh0LmRhdGEud3JpdGVyLldyaXRlciIse2FsaWFzOiJ3cml0ZXIuYmFzZSIsYWx0ZXJuYXRlQ2xhc3NOYW1lOlsiRXh0LmRhdGEuRGF0YVdyaXRlciIsIkV4dC5kYXRhLldyaXRlciJdLHdyaXRlQWxsRmllbGRzOnRydWUsbmFtZVByb3BlcnR5OiJuYW1lIixpc1dyaXRlcjp0cnVlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe0V4dC5hcHBseSh0aGlzLGEpfSx3cml0ZTpmdW5jdGlvbihlKXt2YXIgYz1lLm9wZXJhdGlvbixiPWMucmVjb3Jkc3x8W10sYT1iLmxlbmd0aCxkPTAsZz1bXTtmb3IoO2Q8YTtkKyspe2cucHVzaCh0aGlzLmdldFJlY29yZERhdGEoYltkXSxjKSl9cmV0dXJuIHRoaXMud3JpdGVSZWNvcmRzKGUsZyl9LGdldFJlY29yZERhdGE6ZnVuY3Rpb24oZyxkKXt2YXIgbT1nLnBoYW50b209PT10cnVlLGI9dGhpcy53cml0ZUFsbEZpZWxkc3x8bSxjPXRoaXMubmFtZVByb3BlcnR5LGg9Zy5maWVsZHMsbz1oLml0ZW1zLGU9e30sbD1nLmNsaWVudElkUHJvcGVydHksayxhLGosbixpLHA7aWYoYil7cD1vLmxlbmd0aDtmb3IoaT0wO2k8cDtpKyspe2o9b1tpXTtpZihqLnBlcnNpc3Qpe2E9altjXXx8ai5uYW1lO2VbYV09Zy5nZXQoai5uYW1lKX19fWVsc2V7az1nLmdldENoYW5nZXMoKTtmb3IobiBpbiBrKXtpZihrLmhhc093blByb3BlcnR5KG4pKXtqPWguZ2V0KG4pO2E9altjXXx8ai5uYW1lO2VbYV09a1tuXX19fWlmKG0pe2lmKGwmJmQmJmQucmVjb3Jkcy5sZW5ndGg+MSl7ZVtsXT1nLmludGVybmFsSWR9fWVsc2V7ZVtnLmlkUHJvcGVydHldPWcuZ2V0SWQoKX1yZXR1cm4gZX19KTtFeHQuZGVmaW5lKCJFeHQuZGF0YS53cml0ZXIuWG1sIix7ZXh0ZW5kOiJFeHQuZGF0YS53cml0ZXIuV3JpdGVyIixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5kYXRhLlhtbFdyaXRlciIsYWxpYXM6IndyaXRlci54bWwiLGRvY3VtZW50Um9vdDoieG1sRGF0YSIsZGVmYXVsdERvY3VtZW50Um9vdDoieG1sRGF0YSIsaGVhZGVyOiIiLHJlY29yZDoicmVjb3JkIix3cml0ZVJlY29yZHM6ZnVuY3Rpb24oYSxiKXt2YXIgaD10aGlzLGQ9W10sYz0wLGc9Yi5sZW5ndGgsaj1oLmRvY3VtZW50Um9vdCxlPWgucmVjb3JkLG09Yi5sZW5ndGghPT0xLGwsaztkLnB1c2goaC5oZWFkZXJ8fCIiKTtpZighaiYmbSl7aj1oLmRlZmF1bHREb2N1bWVudFJvb3R9aWYoail7ZC5wdXNoKCI8IixqLCI+Iil9Zm9yKDtjPGc7KytjKXtsPWJbY107ZC5wdXNoKCI8IixlLCI+Iik7Zm9yKGsgaW4gbCl7aWYobC5oYXNPd25Qcm9wZXJ0eShrKSl7ZC5wdXNoKCI8IixrLCI+IixsW2tdLCI8LyIsaywiPiIpfX1kLnB1c2goIjwvIixlLCI+Iil9aWYoail7ZC5wdXNoKCI8LyIsaiwiPiIpfWEueG1sRGF0YT1kLmpvaW4oIiIpO3JldHVybiBhfX0pO0V4dC5kZWZpbmUoIkV4dC5kaXJlY3QuUmVtb3RpbmdNZXRob2QiLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihjKXt2YXIgZD10aGlzLGg9RXh0LmlzRGVmaW5lZChjLnBhcmFtcyk/Yy5wYXJhbXM6Yy5sZW4sYixhLGUsZztkLm5hbWU9Yy5uYW1lO2QuZm9ybUhhbmRsZXI9Yy5mb3JtSGFuZGxlcjtpZihFeHQuaXNOdW1iZXIoaCkpe2QubGVuPWg7ZC5vcmRlcmVkPXRydWV9ZWxzZXtkLnBhcmFtcz1bXTthPWgubGVuZ3RoO2ZvcihlPTA7ZTxhO2UrKyl7Zz1oW2VdO2I9RXh0LmlzT2JqZWN0KGcpP2cubmFtZTpnO2QucGFyYW1zLnB1c2goYil9fX0sZ2V0QXJnczpmdW5jdGlvbihlLGIsZyl7dmFyIGM9W10sZCxhO2lmKHRoaXMub3JkZXJlZCl7aWYodGhpcy5sZW4+MCl7aWYoYil7Zm9yKGQ9MCxhPWIubGVuZ3RoO2Q8YTtkKyspe2MucHVzaChlW2JbZF1dKX19ZWxzZXtpZihnKXtjLnB1c2goZSl9fX19ZWxzZXtjLnB1c2goZSl9cmV0dXJuIGN9LGdldENhbGxEYXRhOmZ1bmN0aW9uKGMpe3ZhciBlPXRoaXMsZz1udWxsLGE9ZS5sZW4saD1lLnBhcmFtcyxpLGQsYjtpZihlLm9yZGVyZWQpe2k9Y1thXTtkPWNbYSsxXTtpZihhIT09MCl7Zz1jLnNsaWNlKDAsYSl9fWVsc2V7Zz1FeHQuYXBwbHkoe30sY1swXSk7aT1jWzFdO2Q9Y1syXTtmb3IoYiBpbiBnKXtpZihnLmhhc093blByb3BlcnR5KGIpKXtpZighRXh0LkFycmF5LmNvbnRhaW5zKGgsYikpe2RlbGV0ZSBnW2JdfX19fXJldHVybntkYXRhOmcsY2FsbGJhY2s6aSxzY29wZTpkfX19KTtFeHQuZGVmaW5lKCJFeHQuZGlyZWN0LlRyYW5zYWN0aW9uIix7YWxpYXM6ImRpcmVjdC50cmFuc2FjdGlvbiIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuRGlyZWN0LlRyYW5zYWN0aW9uIixzdGF0aWNzOntUUkFOU0FDVElPTl9JRDowfSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO0V4dC5hcHBseShiLGEpO2IuaWQ9Yi50aWQ9KytiLnNlbGYuVFJBTlNBQ1RJT05fSUQ7Yi5yZXRyeUNvdW50PTB9LHNlbmQ6ZnVuY3Rpb24oKXt0aGlzLnByb3ZpZGVyLnF1ZXVlVHJhbnNhY3Rpb24odGhpcyl9LHJldHJ5OmZ1bmN0aW9uKCl7dGhpcy5yZXRyeUNvdW50Kys7dGhpcy5zZW5kKCl9LGdldFByb3ZpZGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvdmlkZXJ9fSk7RXh0LmRlZmluZSgiRXh0LmRyYXcuQ29sb3IiLHtjb2xvclRvSGV4UmU6LyguKj8pcmdiXCgoXGQrKSxccyooXGQrKSxccyooXGQrKVwpLyxyZ2JSZTovXHMqcmdiXHMqXChccyooWzAtOV0rKVxzKixccyooWzAtOV0rKVxzKixccyooWzAtOV0rKVxzKlwpXHMqLyxoZXhSZTovXHMqIyhbMC05YS1mQS1GXVswLTlhLWZBLUZdPykoWzAtOWEtZkEtRl1bMC05YS1mQS1GXT8pKFswLTlhLWZBLUZdWzAtOWEtZkEtRl0/KVxzKi8sbGlnaHRuZXNzRmFjdG9yOjAuMixjb25zdHJ1Y3RvcjpmdW5jdGlvbihkLGMsYSl7dmFyIGI9dGhpcyxlPUV4dC5OdW1iZXIuY29uc3RyYWluO2Iucj1lKGQsMCwyNTUpO2IuZz1lKGMsMCwyNTUpO2IuYj1lKGEsMCwyNTUpfSxnZXRSZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yfSxnZXRHcmVlbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmd9LGdldEJsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifSxnZXRSR0I6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVyblthLnIsYS5nLGEuYl19LGdldEhTTDpmdW5jdGlvbigpe3ZhciBqPXRoaXMsYT1qLnIvMjU1LGk9ai5nLzI1NSxrPWouYi8yNTUsbT1NYXRoLm1heChhLGksayksZD1NYXRoLm1pbihhLGksayksbj1tLWQsZSxvPTAsYz0wLjUqKG0rZCk7aWYoZCE9bSl7bz0oYzwwLjUpP24vKG0rZCk6bi8oMi1tLWQpO2lmKGE9PW0pe2U9NjAqKGktaykvbn1lbHNle2lmKGk9PW0pe2U9MTIwKzYwKihrLWEpL259ZWxzZXtlPTI0MCs2MCooYS1pKS9ufX1pZihlPDApe2UrPTM2MH1pZihlPj0zNjApe2UtPTM2MH19cmV0dXJuW2UsbyxjXX0sZ2V0TGlnaHRlcjpmdW5jdGlvbihiKXt2YXIgYT10aGlzLmdldEhTTCgpO2I9Ynx8dGhpcy5saWdodG5lc3NGYWN0b3I7YVsyXT1FeHQuTnVtYmVyLmNvbnN0cmFpbihhWzJdK2IsMCwxKTtyZXR1cm4gdGhpcy5mcm9tSFNMKGFbMF0sYVsxXSxhWzJdKX0sZ2V0RGFya2VyOmZ1bmN0aW9uKGEpe2E9YXx8dGhpcy5saWdodG5lc3NGYWN0b3I7cmV0dXJuIHRoaXMuZ2V0TGlnaHRlcigtYSl9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxjPU1hdGgucm91bmQsZT1jKGgucikudG9TdHJpbmcoMTYpLGQ9YyhoLmcpLnRvU3RyaW5nKDE2KSxhPWMoaC5iKS50b1N0cmluZygxNik7ZT0oZS5sZW5ndGg9PTEpPyIwIitlOmU7ZD0oZC5sZW5ndGg9PTEpPyIwIitkOmQ7YT0oYS5sZW5ndGg9PTEpPyIwIithOmE7cmV0dXJuWyIjIixlLGQsYV0uam9pbigiIil9LHRvSGV4OmZ1bmN0aW9uKGIpe2lmKEV4dC5pc0FycmF5KGIpKXtiPWJbMF19aWYoIUV4dC5pc1N0cmluZyhiKSl7cmV0dXJuIiJ9aWYoYi5zdWJzdHIoMCwxKT09PSIjIil7cmV0dXJuIGJ9dmFyIGU9dGhpcy5jb2xvclRvSGV4UmUuZXhlYyhiKSxnLGQsYSxjO2lmKEV4dC5pc0FycmF5KGUpKXtnPXBhcnNlSW50KGVbMl0sMTApO2Q9cGFyc2VJbnQoZVszXSwxMCk7YT1wYXJzZUludChlWzRdLDEwKTtjPWF8KGQ8PDgpfChnPDwxNik7cmV0dXJuIGVbMV0rIiMiKygiMDAwMDAwIitjLnRvU3RyaW5nKDE2KSkuc2xpY2UoLTYpfWVsc2V7cmV0dXJuIGJ9fSxmcm9tU3RyaW5nOmZ1bmN0aW9uKGkpe3ZhciBjLGUsZCxhLGg9cGFyc2VJbnQ7aWYoKGkubGVuZ3RoPT00fHxpLmxlbmd0aD09NykmJmkuc3Vic3RyKDAsMSk9PT0iIyIpe2M9aS5tYXRjaCh0aGlzLmhleFJlKTtpZihjKXtlPWgoY1sxXSwxNik+PjA7ZD1oKGNbMl0sMTYpPj4wO2E9aChjWzNdLDE2KT4+MDtpZihpLmxlbmd0aD09NCl7ZSs9KGUqMTYpO2QrPShkKjE2KTthKz0oYSoxNil9fX1lbHNle2M9aS5tYXRjaCh0aGlzLnJnYlJlKTtpZihjKXtlPWNbMV07ZD1jWzJdO2E9Y1szXX19cmV0dXJuKHR5cGVvZiBlPT0idW5kZWZpbmVkIik/dW5kZWZpbmVkOm5ldyBFeHQuZHJhdy5Db2xvcihlLGQsYSl9LGdldEdyYXlzY2FsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnIqMC4zK3RoaXMuZyowLjU5K3RoaXMuYiowLjExfSxmcm9tSFNMOmZ1bmN0aW9uKGcsbyxkKXt2YXIgYSxiLGMsZSxrPVtdLG49TWF0aC5hYnMsaj1NYXRoLmZsb29yO2lmKG89PTB8fGc9PW51bGwpe2s9W2QsZCxkXX1lbHNle2cvPTYwO2E9byooMS1uKDIqZC0xKSk7Yj1hKigxLW4oZy0yKmooZy8yKS0xKSk7Yz1kLWEvMjtzd2l0Y2goaihnKSl7Y2FzZSAwOms9W2EsYiwwXTticmVhaztjYXNlIDE6az1bYixhLDBdO2JyZWFrO2Nhc2UgMjprPVswLGEsYl07YnJlYWs7Y2FzZSAzOms9WzAsYixhXTticmVhaztjYXNlIDQ6az1bYiwwLGFdO2JyZWFrO2Nhc2UgNTprPVthLDAsYl07YnJlYWt9az1ba1swXStjLGtbMV0rYyxrWzJdK2NdfXJldHVybiBuZXcgRXh0LmRyYXcuQ29sb3Ioa1swXSoyNTUsa1sxXSoyNTUsa1syXSoyNTUpfX0sZnVuY3Rpb24oKXt2YXIgYT10aGlzLnByb3RvdHlwZTt0aGlzLmFkZFN0YXRpY3Moe2Zyb21IU0w6ZnVuY3Rpb24oKXtyZXR1cm4gYS5mcm9tSFNMLmFwcGx5KGEsYXJndW1lbnRzKX0sZnJvbVN0cmluZzpmdW5jdGlvbigpe3JldHVybiBhLmZyb21TdHJpbmcuYXBwbHkoYSxhcmd1bWVudHMpfSx0b0hleDpmdW5jdGlvbigpe3JldHVybiBhLnRvSGV4LmFwcGx5KGEsYXJndW1lbnRzKX19KX0pO0V4dC5kZWZpbmUoIkV4dC5kcmF3LkRyYXciLHtzaW5nbGV0b246dHJ1ZSxyZXF1aXJlczpbIkV4dC5kcmF3LkNvbG9yIl0scGF0aFRvU3RyaW5nUkU6Lyw/KFthY2hsbXFyc3R2eHpdKSw/L2dpLHBhdGhDb21tYW5kUkU6LyhbYWNobG1xc3R2el0pW1xzLF0qKCgtP1xkKlwuP1xkKig/OmVbLStdP1xkKyk/XHMqLD9ccyopKykvaWcscGF0aFZhbHVlc1JFOi8oLT9cZCpcLj9cZCooPzplWy0rXT9cZCspPylccyosP1xzKi9pZyxzdG9wc1JFOi9eKFxkKyU/KSQvLHJhZGlhbjpNYXRoLlBJLzE4MCxhdmFpbGFibGVBbmltQXR0cnM6e2Fsb25nOiJhbG9uZyIsYmx1cjpudWxsLCJjbGlwLXJlY3QiOiJjc3YiLGN4Om51bGwsY3k6bnVsbCxmaWxsOiJjb2xvciIsImZpbGwtb3BhY2l0eSI6bnVsbCwiZm9udC1zaXplIjpudWxsLGhlaWdodDpudWxsLG9wYWNpdHk6bnVsbCxwYXRoOiJwYXRoIixyOm51bGwscm90YXRpb246ImNzdiIscng6bnVsbCxyeTpudWxsLHNjYWxlOiJjc3YiLHN0cm9rZToiY29sb3IiLCJzdHJva2Utb3BhY2l0eSI6bnVsbCwic3Ryb2tlLXdpZHRoIjpudWxsLHRyYW5zbGF0aW9uOiJjc3YiLHdpZHRoOm51bGwseDpudWxsLHk6bnVsbH0saXM6ZnVuY3Rpb24oYixhKXthPVN0cmluZyhhKS50b0xvd2VyQ2FzZSgpO3JldHVybihhPT0ib2JqZWN0IiYmYj09PU9iamVjdChiKSl8fChhPT0idW5kZWZpbmVkIiYmdHlwZW9mIGI9PWEpfHwoYT09Im51bGwiJiZiPT09bnVsbCl8fChhPT0iYXJyYXkiJiZBcnJheS5pc0FycmF5JiZBcnJheS5pc0FycmF5KGIpKXx8KE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChiKS50b0xvd2VyQ2FzZSgpLnNsaWNlKDgsLTEpKT09YX0sZWxsaXBzZVBhdGg6ZnVuY3Rpb24oYil7dmFyIGE9Yi5hdHRyO3JldHVybiBFeHQuU3RyaW5nLmZvcm1hdCgiTXswfSx7MX1BezJ9LHszfSwwLDEsMSx7MH0sezR9QXsyfSx7M30sMCwxLDEsezB9LHsxfXoiLGEueCxhLnktYS5yeSxhLnJ4LGEucnksYS55K2EucnkpfSxyZWN0UGF0aDpmdW5jdGlvbihiKXt2YXIgYT1iLmF0dHI7aWYoYS5yYWRpdXMpe3JldHVybiBFeHQuU3RyaW5nLmZvcm1hdCgiTXswfSx7MX1sezJ9LDBhezN9LHszfSwwLDAsMSx7M30sezN9bDAsezV9YXszfSx7M30sMCwwLDEsezR9LHszfWx7Nn0sMGF7M30sezN9LDAsMCwxLHs0fSx7NH1sMCx7N31hezN9LHszfSwwLDAsMSx7M30sezR9eiIsYS54K2EucmFkaXVzLGEueSxhLndpZHRoLWEucmFkaXVzKjIsYS5yYWRpdXMsLWEucmFkaXVzLGEuaGVpZ2h0LWEucmFkaXVzKjIsYS5yYWRpdXMqMi1hLndpZHRoLGEucmFkaXVzKjItYS5oZWlnaHQpfWVsc2V7cmV0dXJuIEV4dC5TdHJpbmcuZm9ybWF0KCJNezB9LHsxfUx7Mn0sezF9LHsyfSx7M30sezB9LHszfXoiLGEueCxhLnksYS53aWR0aCthLngsYS5oZWlnaHQrYS55KX19LHBhdGgyc3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuam9pbigiLCIpLnJlcGxhY2UoRXh0LmRyYXcuRHJhdy5wYXRoVG9TdHJpbmdSRSwiJDEiKX0scGF0aFRvU3RyaW5nOmZ1bmN0aW9uKGEpe3JldHVybiBhLmpvaW4oIiwiKS5yZXBsYWNlKEV4dC5kcmF3LkRyYXcucGF0aFRvU3RyaW5nUkUsIiQxIil9LHBhcnNlUGF0aFN0cmluZzpmdW5jdGlvbihhKXtpZighYSl7cmV0dXJuIG51bGx9dmFyIGQ9e2E6NyxjOjYsaDoxLGw6MixtOjIscTo0LHM6NCx0OjIsdjoxLHo6MH0sYz1bXSxiPXRoaXM7aWYoYi5pcyhhLCJhcnJheSIpJiZiLmlzKGFbMF0sImFycmF5Iikpe2M9Yi5wYXRoQ2xvbmUoYSl9aWYoIWMubGVuZ3RoKXtTdHJpbmcoYSkucmVwbGFjZShiLnBhdGhDb21tYW5kUkUsZnVuY3Rpb24oZyxlLGope3ZhciBpPVtdLGg9ZS50b0xvd2VyQ2FzZSgpO2oucmVwbGFjZShiLnBhdGhWYWx1ZXNSRSxmdW5jdGlvbihsLGspe2smJmkucHVzaCgrayl9KTtpZihoPT0ibSImJmkubGVuZ3RoPjIpe2MucHVzaChbZV0uY29uY2F0KEV4dC5BcnJheS5zcGxpY2UoaSwwLDIpKSk7aD0ibCI7ZT0oZT09Im0iKT8ibCI6IkwifXdoaWxlKGkubGVuZ3RoPj1kW2hdKXtjLnB1c2goW2VdLmNvbmNhdChFeHQuQXJyYXkuc3BsaWNlKGksMCxkW2hdKSkpO2lmKCFkW2hdKXticmVha319fSl9Yy50b1N0cmluZz1iLnBhdGgyc3RyaW5nO3JldHVybiBjfSxtYXBQYXRoOmZ1bmN0aW9uKGwsZyl7aWYoIWcpe3JldHVybiBsfXZhciBoLGUsYyxrLGEsZCxiO2w9dGhpcy5wYXRoMmN1cnZlKGwpO2ZvcihjPTAsaz1sLmxlbmd0aDtjPGs7YysrKXtiPWxbY107Zm9yKGE9MSxkPWIubGVuZ3RoO2E8ZC0xO2ErPTIpe2g9Zy54KGJbYV0sYlthKzFdKTtlPWcueShiW2FdLGJbYSsxXSk7YlthXT1oO2JbYSsxXT1lfX1yZXR1cm4gbH0scGF0aENsb25lOmZ1bmN0aW9uKGcpe3ZhciBjPVtdLGEsZSxiLGQ7aWYoIXRoaXMuaXMoZywiYXJyYXkiKXx8IXRoaXMuaXMoZyYmZ1swXSwiYXJyYXkiKSl7Zz10aGlzLnBhcnNlUGF0aFN0cmluZyhnKX1mb3IoYj0wLGQ9Zy5sZW5ndGg7YjxkO2IrKyl7Y1tiXT1bXTtmb3IoYT0wLGU9Z1tiXS5sZW5ndGg7YTxlO2ErKyl7Y1tiXVthXT1nW2JdW2FdfX1jLnRvU3RyaW5nPXRoaXMucGF0aDJzdHJpbmc7cmV0dXJuIGN9LHBhdGhUb0Fic29sdXRlOmZ1bmN0aW9uKGMpe2lmKCF0aGlzLmlzKGMsImFycmF5Iil8fCF0aGlzLmlzKGMmJmNbMF0sImFycmF5Iikpe2M9dGhpcy5wYXJzZVBhdGhTdHJpbmcoYyl9dmFyIGs9W10sbT0wLGw9MCxvPTAsbj0wLGc9MCxoPWMubGVuZ3RoLGIsZCxlLGE7aWYoaCYmY1swXVswXT09Ik0iKXttPStjWzBdWzFdO2w9K2NbMF1bMl07bz1tO249bDtnKys7a1swXT1bIk0iLG0sbF19Zm9yKDtnPGg7ZysrKXtiPWtbZ109W107ZD1jW2ddO2lmKGRbMF0hPWRbMF0udG9VcHBlckNhc2UoKSl7YlswXT1kWzBdLnRvVXBwZXJDYXNlKCk7c3dpdGNoKGJbMF0pe2Nhc2UiQSI6YlsxXT1kWzFdO2JbMl09ZFsyXTtiWzNdPWRbM107Yls0XT1kWzRdO2JbNV09ZFs1XTtiWzZdPSsoZFs2XSttKTtiWzddPSsoZFs3XStsKTticmVhaztjYXNlIlYiOmJbMV09K2RbMV0rbDticmVhaztjYXNlIkgiOmJbMV09K2RbMV0rbTticmVhaztjYXNlIk0iOm89K2RbMV0rbTtuPStkWzJdK2w7ZGVmYXVsdDplPTE7YT1kLmxlbmd0aDtmb3IoO2U8YTtlKyspe2JbZV09K2RbZV0rKChlJTIpP206bCl9fX1lbHNle2U9MDthPWQubGVuZ3RoO2Zvcig7ZTxhO2UrKyl7a1tnXVtlXT1kW2VdfX1zd2l0Y2goYlswXSl7Y2FzZSJaIjptPW87bD1uO2JyZWFrO2Nhc2UiSCI6bT1iWzFdO2JyZWFrO2Nhc2UiViI6bD1iWzFdO2JyZWFrO2Nhc2UiTSI6ZD1rW2ddO2E9ZC5sZW5ndGg7bz1kW2EtMl07bj1kW2EtMV07ZGVmYXVsdDpkPWtbZ107YT1kLmxlbmd0aDttPWRbYS0yXTtsPWRbYS0xXX19ay50b1N0cmluZz10aGlzLnBhdGgyc3RyaW5nO3JldHVybiBrfSxwYXRoVG9SZWxhdGl2ZTpmdW5jdGlvbihkKXtpZighdGhpcy5pcyhkLCJhcnJheSIpfHwhdGhpcy5pcyhkJiZkWzBdLCJhcnJheSIpKXtkPXRoaXMucGFyc2VQYXRoU3RyaW5nKGQpfXZhciBuPVtdLHA9MCxvPTAsdD0wLHM9MCxjPTAsYSxxLGgsZyxlLG0sdSxsLGI7aWYoZFswXVswXT09Ik0iKXtwPWRbMF1bMV07bz1kWzBdWzJdO3Q9cDtzPW87YysrO24ucHVzaChbIk0iLHAsb10pfWZvcihoPWMsdT1kLmxlbmd0aDtoPHU7aCsrKXthPW5baF09W107cT1kW2hdO2lmKHFbMF0hPXFbMF0udG9Mb3dlckNhc2UoKSl7YVswXT1xWzBdLnRvTG93ZXJDYXNlKCk7c3dpdGNoKGFbMF0pe2Nhc2UiYSI6YVsxXT1xWzFdO2FbMl09cVsyXTthWzNdPXFbM107YVs0XT1xWzRdO2FbNV09cVs1XTthWzZdPSsocVs2XS1wKS50b0ZpeGVkKDMpO2FbN109KyhxWzddLW8pLnRvRml4ZWQoMyk7YnJlYWs7Y2FzZSJ2IjphWzFdPSsocVsxXS1vKS50b0ZpeGVkKDMpO2JyZWFrO2Nhc2UibSI6dD1xWzFdO3M9cVsyXTtkZWZhdWx0OmZvcihnPTEsbD1xLmxlbmd0aDtnPGw7ZysrKXthW2ddPSsocVtnXS0oKGclMik/cDpvKSkudG9GaXhlZCgzKX19fWVsc2V7YT1uW2hdPVtdO2lmKHFbMF09PSJtIil7dD1xWzFdK3A7cz1xWzJdK299Zm9yKGU9MCxiPXEubGVuZ3RoO2U8YjtlKyspe25baF1bZV09cVtlXX19bT1uW2hdLmxlbmd0aDtzd2l0Y2gobltoXVswXSl7Y2FzZSJ6IjpwPXQ7bz1zO2JyZWFrO2Nhc2UiaCI6cCs9K25baF1bbS0xXTticmVhaztjYXNlInYiOm8rPStuW2hdW20tMV07YnJlYWs7ZGVmYXVsdDpwKz0rbltoXVttLTJdO28rPStuW2hdW20tMV19fW4udG9TdHJpbmc9dGhpcy5wYXRoMnN0cmluZztyZXR1cm4gbn0scGF0aDJjdXJ2ZTpmdW5jdGlvbihrKXt2YXIgZD10aGlzLGg9ZC5wYXRoVG9BYnNvbHV0ZShrKSxjPWgubGVuZ3RoLGo9e3g6MCx5OjAsYng6MCxieTowLFg6MCxZOjAscXg6bnVsbCxxeTpudWxsfSxiLGEsZyxlO2ZvcihiPTA7YjxjO2IrKyl7aFtiXT1kLmNvbW1hbmQyY3VydmUoaFtiXSxqKTtpZihoW2JdLmxlbmd0aD43KXtoW2JdLnNoaWZ0KCk7ZT1oW2JdO3doaWxlKGUubGVuZ3RoKXtFeHQuQXJyYXkuc3BsaWNlKGgsYisrLDAsWyJDIl0uY29uY2F0KEV4dC5BcnJheS5zcGxpY2UoZSwwLDYpKSl9RXh0LkFycmF5LmVyYXNlKGgsYiwxKTtjPWgubGVuZ3RoO2ItLX1hPWhbYl07Zz1hLmxlbmd0aDtqLng9YVtnLTJdO2oueT1hW2ctMV07ai5ieD1wYXJzZUZsb2F0KGFbZy00XSl8fGoueDtqLmJ5PXBhcnNlRmxvYXQoYVtnLTNdKXx8ai55fXJldHVybiBofSxpbnRlcnBvbGF0ZVBhdGhzOmZ1bmN0aW9uKHIsbCl7dmFyIGo9dGhpcyxkPWoucGF0aFRvQWJzb2x1dGUociksbT1qLnBhdGhUb0Fic29sdXRlKGwpLG49e3g6MCx5OjAsYng6MCxieTowLFg6MCxZOjAscXg6bnVsbCxxeTpudWxsfSxhPXt4OjAseTowLGJ4OjAsYnk6MCxYOjAsWTowLHF4Om51bGwscXk6bnVsbH0sYj1mdW5jdGlvbihwLHMpe2lmKHBbc10ubGVuZ3RoPjcpe3Bbc10uc2hpZnQoKTt2YXIgdD1wW3NdO3doaWxlKHQubGVuZ3RoKXtFeHQuQXJyYXkuc3BsaWNlKHAscysrLDAsWyJDIl0uY29uY2F0KEV4dC5BcnJheS5zcGxpY2UodCwwLDYpKSl9RXh0LkFycmF5LmVyYXNlKHAscywxKTtvPU1hdGgubWF4KGQubGVuZ3RoLG0ubGVuZ3RofHwwKX19LGM9ZnVuY3Rpb24odix1LHMscCx0KXtpZih2JiZ1JiZ2W3RdWzBdPT0iTSImJnVbdF1bMF0hPSJNIil7RXh0LkFycmF5LnNwbGljZSh1LHQsMCxbIk0iLHAueCxwLnldKTtzLmJ4PTA7cy5ieT0wO3MueD12W3RdWzFdO3MueT12W3RdWzJdO289TWF0aC5tYXgoZC5sZW5ndGgsbS5sZW5ndGh8fDApfX0saCxvLGcscSxlLGs7Zm9yKGg9MCxvPU1hdGgubWF4KGQubGVuZ3RoLG0ubGVuZ3RofHwwKTtoPG87aCsrKXtkW2hdPWouY29tbWFuZDJjdXJ2ZShkW2hdLG4pO2IoZCxoKTsobVtoXT1qLmNvbW1hbmQyY3VydmUobVtoXSxhKSk7YihtLGgpO2MoZCxtLG4sYSxoKTtjKG0sZCxhLG4saCk7Zz1kW2hdO3E9bVtoXTtlPWcubGVuZ3RoO2s9cS5sZW5ndGg7bi54PWdbZS0yXTtuLnk9Z1tlLTFdO24uYng9cGFyc2VGbG9hdChnW2UtNF0pfHxuLng7bi5ieT1wYXJzZUZsb2F0KGdbZS0zXSl8fG4ueTthLmJ4PShwYXJzZUZsb2F0KHFbay00XSl8fGEueCk7YS5ieT0ocGFyc2VGbG9hdChxW2stM10pfHxhLnkpO2EueD1xW2stMl07YS55PXFbay0xXX1yZXR1cm5bZCxtXX0sY29tbWFuZDJjdXJ2ZTpmdW5jdGlvbihjLGIpe3ZhciBhPXRoaXM7aWYoIWMpe3JldHVyblsiQyIsYi54LGIueSxiLngsYi55LGIueCxiLnldfWlmKGNbMF0hPSJUIiYmY1swXSE9IlEiKXtiLnF4PWIucXk9bnVsbH1zd2l0Y2goY1swXSl7Y2FzZSJNIjpiLlg9Y1sxXTtiLlk9Y1syXTticmVhaztjYXNlIkEiOmM9WyJDIl0uY29uY2F0KGEuYXJjMmN1cnZlLmFwcGx5KGEsW2IueCxiLnldLmNvbmNhdChjLnNsaWNlKDEpKSkpO2JyZWFrO2Nhc2UiUyI6Yz1bIkMiLGIueCsoYi54LShiLmJ4fHxiLngpKSxiLnkrKGIueS0oYi5ieXx8Yi55KSldLmNvbmNhdChjLnNsaWNlKDEpKTticmVhaztjYXNlIlQiOmIucXg9Yi54KyhiLngtKGIucXh8fGIueCkpO2IucXk9Yi55KyhiLnktKGIucXl8fGIueSkpO2M9WyJDIl0uY29uY2F0KGEucXVhZHJhdGljMmN1cnZlKGIueCxiLnksYi5xeCxiLnF5LGNbMV0sY1syXSkpO2JyZWFrO2Nhc2UiUSI6Yi5xeD1jWzFdO2IucXk9Y1syXTtjPVsiQyJdLmNvbmNhdChhLnF1YWRyYXRpYzJjdXJ2ZShiLngsYi55LGNbMV0sY1syXSxjWzNdLGNbNF0pKTticmVhaztjYXNlIkwiOmM9WyJDIl0uY29uY2F0KGIueCxiLnksY1sxXSxjWzJdLGNbMV0sY1syXSk7YnJlYWs7Y2FzZSJIIjpjPVsiQyJdLmNvbmNhdChiLngsYi55LGNbMV0sYi55LGNbMV0sYi55KTticmVhaztjYXNlIlYiOmM9WyJDIl0uY29uY2F0KGIueCxiLnksYi54LGNbMV0sYi54LGNbMV0pO2JyZWFrO2Nhc2UiWiI6Yz1bIkMiXS5jb25jYXQoYi54LGIueSxiLlgsYi5ZLGIuWCxiLlkpO2JyZWFrfXJldHVybiBjfSxxdWFkcmF0aWMyY3VydmU6ZnVuY3Rpb24oYixkLGgsZSxhLGMpe3ZhciBnPTEvMyxpPTIvMztyZXR1cm5bZypiK2kqaCxnKmQraSplLGcqYStpKmgsZypjK2kqZSxhLGNdfSxyb3RhdGU6ZnVuY3Rpb24oYixoLGEpe3ZhciBkPU1hdGguY29zKGEpLGM9TWF0aC5zaW4oYSksZz1iKmQtaCpjLGU9YipjK2gqZDtyZXR1cm57eDpnLHk6ZX19LGFyYzJjdXJ2ZTpmdW5jdGlvbih2LGFoLEosSCxCLG8saix1LGFnLEMpe3ZhciB6PXRoaXMsZT1NYXRoLlBJLEE9ei5yYWRpYW4sRz1lKjEyMC8xODAsYj1BKigrQnx8MCksTz1bXSxMPU1hdGgsVj1MLmNvcyxhPUwuc2luLFg9TC5zcXJ0LHc9TC5hYnMscD1MLmFzaW4sSyxjLHIsUSxQLGFjLGQsVCxXLEUsRCxuLG0scyxsLGFmLGcsYWUsUixVLFMsYWQsYWIsYWEsWSxOLFosTSxGLEkscTtpZighQyl7Sz16LnJvdGF0ZSh2LGFoLC1iKTt2PUsueDthaD1LLnk7Sz16LnJvdGF0ZSh1LGFnLC1iKTt1PUsueDthZz1LLnk7Yz1WKEEqQik7cj1hKEEqQik7UT0odi11KS8yO1A9KGFoLWFnKS8yO2FjPShRKlEpLyhKKkopKyhQKlApLyhIKkgpO2lmKGFjPjEpe2FjPVgoYWMpO0o9YWMqSjtIPWFjKkh9ZD1KKko7VD1IKkg7Vz0obz09aj8tMToxKSpYKHcoKGQqVC1kKlAqUC1UKlEqUSkvKGQqUCpQK1QqUSpRKSkpO0U9VypKKlAvSCsodit1KS8yO0Q9VyotSCpRL0orKGFoK2FnKS8yO249cCgoKGFoLUQpL0gpLnRvRml4ZWQoNykpO209cCgoKGFnLUQpL0gpLnRvRml4ZWQoNykpO249djxFP2UtbjpuO209dTxFP2UtbTptO2lmKG48MCl7bj1lKjIrbn1pZihtPDApe209ZSoyK219aWYoaiYmbj5tKXtuPW4tZSoyfWlmKCFqJiZtPm4pe209bS1lKjJ9fWVsc2V7bj1DWzBdO209Q1sxXTtFPUNbMl07RD1DWzNdfXM9bS1uO2lmKHcocyk+Ryl7Rj1tO0k9dTtxPWFnO209bitHKihqJiZtPm4/MTotMSk7dT1FK0oqVihtKTthZz1EK0gqYShtKTtPPXouYXJjMmN1cnZlKHUsYWcsSixILEIsMCxqLEkscSxbbSxGLEUsRF0pfXM9bS1uO2w9VihuKTthZj1hKG4pO2c9VihtKTthZT1hKG0pO1I9TC50YW4ocy80KTtVPTQvMypKKlI7Uz00LzMqSCpSO2FkPVt2LGFoXTthYj1bditVKmFmLGFoLVMqbF07YWE9W3UrVSphZSxhZy1TKmddO1k9W3UsYWddO2FiWzBdPTIqYWRbMF0tYWJbMF07YWJbMV09MiphZFsxXS1hYlsxXTtpZihDKXtyZXR1cm5bYWIsYWEsWV0uY29uY2F0KE8pfWVsc2V7Tz1bYWIsYWEsWV0uY29uY2F0KE8pLmpvaW4oKS5zcGxpdCgiLCIpO049W107TT1PLmxlbmd0aDtmb3IoWj0wO1o8TTtaKyspe05bWl09WiUyP3oucm90YXRlKE9bWi0xXSxPW1pdLGIpLnk6ei5yb3RhdGUoT1taXSxPW1orMV0sYikueH1yZXR1cm4gTn19LHJvdGF0ZUFuZFRyYW5zbGF0ZVBhdGg6ZnVuY3Rpb24oayl7dmFyIGM9ay5yb3RhdGlvbi5kZWdyZWVzLGQ9ay5yb3RhdGlvbi54LGI9ay5yb3RhdGlvbi55LG89ay50cmFuc2xhdGlvbi54LGw9ay50cmFuc2xhdGlvbi55LG4sZyxhLG0sZSxoPVtdO2lmKCFjJiYhbyYmIWwpe3JldHVybiB0aGlzLnBhdGhUb0Fic29sdXRlKGsuYXR0ci5wYXRoKX1vPW98fDA7bD1sfHwwO249dGhpcy5wYXRoVG9BYnNvbHV0ZShrLmF0dHIucGF0aCk7Zm9yKGc9bi5sZW5ndGg7Zy0tOyl7YT1oW2ddPW5bZ10uc2xpY2UoKTtpZihhWzBdPT0iQSIpe209dGhpcy5yb3RhdGVQb2ludChhWzZdLGFbN10sYyxkLGIpO2FbNl09bS54K287YVs3XT1tLnkrbH1lbHNle2U9MTt3aGlsZShhW2UrMV0hPW51bGwpe209dGhpcy5yb3RhdGVQb2ludChhW2VdLGFbZSsxXSxjLGQsYik7YVtlXT1tLngrbzthW2UrMV09bS55K2w7ZSs9Mn19fXJldHVybiBofSxyb3RhdGVQb2ludDpmdW5jdGlvbihiLGgsZSxhLGcpe2lmKCFlKXtyZXR1cm57eDpiLHk6aH19YT1hfHwwO2c9Z3x8MDtiPWItYTtoPWgtZztlPWUqdGhpcy5yYWRpYW47dmFyIGQ9TWF0aC5jb3MoZSksYz1NYXRoLnNpbihlKTtyZXR1cm57eDpiKmQtaCpjK2EseTpiKmMraCpkK2d9fSxwYXRoRGltZW5zaW9uczpmdW5jdGlvbihtKXtpZighbXx8IShtKyIiKSl7cmV0dXJue3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MH19bT10aGlzLnBhdGgyY3VydmUobSk7dmFyIGs9MCxqPTAsZD1bXSxiPVtdLGU9MCxoPW0ubGVuZ3RoLGMsYSxsLGc7Zm9yKDtlPGg7ZSsrKXtjPW1bZV07aWYoY1swXT09Ik0iKXtrPWNbMV07aj1jWzJdO2QucHVzaChrKTtiLnB1c2goail9ZWxzZXtnPXRoaXMuY3VydmVEaW0oayxqLGNbMV0sY1syXSxjWzNdLGNbNF0sY1s1XSxjWzZdKTtkPWQuY29uY2F0KGcubWluLngsZy5tYXgueCk7Yj1iLmNvbmNhdChnLm1pbi55LGcubWF4LnkpO2s9Y1s1XTtqPWNbNl19fWE9TWF0aC5taW4uYXBwbHkoMCxkKTtsPU1hdGgubWluLmFwcGx5KDAsYik7cmV0dXJue3g6YSx5OmwscGF0aDptLHdpZHRoOk1hdGgubWF4LmFwcGx5KDAsZCktYSxoZWlnaHQ6TWF0aC5tYXguYXBwbHkoMCxiKS1sfX0saW50ZXJzZWN0SW5zaWRlOmZ1bmN0aW9uKGIsYyxhKXtyZXR1cm4oYVswXS1jWzBdKSooYlsxXS1jWzFdKT4oYVsxXS1jWzFdKSooYlswXS1jWzBdKX0saW50ZXJzZWN0SW50ZXJzZWN0aW9uOmZ1bmN0aW9uKG4sbSxnLGQpe3ZhciBjPVtdLGI9Z1swXS1kWzBdLGE9Z1sxXS1kWzFdLGs9blswXS1tWzBdLGk9blsxXS1tWzFdLGw9Z1swXSpkWzFdLWdbMV0qZFswXSxqPW5bMF0qbVsxXS1uWzFdKm1bMF0saD0xLyhiKmktYSprKTtjWzBdPShsKmstaipiKSpoO2NbMV09KGwqaS1qKmEpKmg7cmV0dXJuIGN9LGludGVyc2VjdDpmdW5jdGlvbihvLGMpe3ZhciBuPXRoaXMsaz0wLG09Yy5sZW5ndGgsaD1jW20tMV0scT1vLGcscixsLHAsYSxiLGQ7Zm9yKDtrPG07KytrKXtnPWNba107Yj1xO3E9W107cj1iW2IubGVuZ3RoLTFdO2Q9MDthPWIubGVuZ3RoO2Zvcig7ZDxhO2QrKyl7bD1iW2RdO2lmKG4uaW50ZXJzZWN0SW5zaWRlKGwsaCxnKSl7aWYoIW4uaW50ZXJzZWN0SW5zaWRlKHIsaCxnKSl7cS5wdXNoKG4uaW50ZXJzZWN0SW50ZXJzZWN0aW9uKHIsbCxoLGcpKX1xLnB1c2gobCl9ZWxzZXtpZihuLmludGVyc2VjdEluc2lkZShyLGgsZykpe3EucHVzaChuLmludGVyc2VjdEludGVyc2VjdGlvbihyLGwsaCxnKSl9fXI9bH1oPWd9cmV0dXJuIHF9LGJlemllcjpmdW5jdGlvbihoLGcsbSxsLGUpe2lmKGU9PT0wKXtyZXR1cm4gaH1lbHNle2lmKGU9PT0xKXtyZXR1cm4gbH19dmFyIGo9MS1lLGk9aipqKmosaz1lL2o7cmV0dXJuIGkqKGgrayooMypnK2sqKDMqbStsKmspKSl9LGJlemllckRpbTpmdW5jdGlvbih0LHEsbixtKXt2YXIgdj1bXSxnLGoscCxoLHUsZSx3LGssbyxsO2lmKHQrMypuPT1tKzMqcSl7Zz10LXE7Zy89MioodC1xLXErbik7aWYoZzwxJiZnPjApe3YucHVzaChnKX19ZWxzZXtqPXQtMypxKzMqbi1tO3A9MioodC1xLXErbik7aD10LXE7dT1wKnAtNCpqKmg7ZT1qK2o7aWYodT09PTApe2c9cC9lO2lmKGc8MSYmZz4wKXt2LnB1c2goZyl9fWVsc2V7aWYodT4wKXt3PU1hdGguc3FydCh1KTtnPSh3K3ApL2U7aWYoZzwxJiZnPjApe3YucHVzaChnKX1nPShwLXcpL2U7aWYoZzwxJiZnPjApe3YucHVzaChnKX19fX1rPU1hdGgubWluKHQsbSk7bz1NYXRoLm1heCh0LG0pO2ZvcihsPTA7bDx2Lmxlbmd0aDtsKyspe2s9TWF0aC5taW4oayx0aGlzLmJlemllcih0LHEsbixtLHZbbF0pKTtvPU1hdGgubWF4KG8sdGhpcy5iZXppZXIodCxxLG4sbSx2W2xdKSl9cmV0dXJuW2ssb119LGN1cnZlRGltOmZ1bmN0aW9uKGIsYSxkLGMsayxqLGgsZSl7dmFyIGk9dGhpcy5iZXppZXJEaW0oYixkLGssaCksZz10aGlzLmJlemllckRpbShhLGMsaixlKTtyZXR1cm57bWluOnt4OmlbMF0seTpnWzBdfSxtYXg6e3g6aVsxXSx5OmdbMV19fX0sZ2V0QW5jaG9yczpmdW5jdGlvbihlLGQsayxqLHYsdSxxKXtxPXF8fDQ7dmFyIGk9TWF0aCxwPWkuUEkscj1wLzIsbT1pLmFicyxhPWkuc2luLGI9aS5jb3MsZz1pLmF0YW4sdCxzLGgsbCxvLG4seCx3LGM7dD0oay1lKS9xO3M9KHYtaykvcTtpZigoaj49ZCYmaj49dSl8fChqPD1kJiZqPD11KSl7aD1sPXJ9ZWxzZXtoPWcoKGstZSkvbShqLWQpKTtpZihkPGope2g9cC1ofWw9Zygodi1rKS9tKGotdSkpO2lmKHU8ail7bD1wLWx9fWM9ci0oKGgrbCklKHAqMikpLzI7aWYoYz5yKXtjLT1wfWgrPWM7bCs9YztvPWstdCphKGgpO249ait0KmIoaCk7eD1rK3MqYShsKTt3PWorcypiKGwpO2lmKChqPmQmJm48ZCl8fChqPGQmJm4+ZCkpe28rPW0oZC1uKSooby1rKS8obi1qKTtuPWR9aWYoKGo+dSYmdzx1KXx8KGo8dSYmdz51KSl7eC09bSh1LXcpKih4LWspLyh3LWopO3c9dX1yZXR1cm57eDE6byx5MTpuLHgyOngseTI6d319LHNtb290aDpmdW5jdGlvbihhLHIpe3ZhciBxPXRoaXMucGF0aDJjdXJ2ZShhKSxlPVtxWzBdXSxrPXFbMF1bMV0saD1xWzBdWzJdLHMsdSx2PTEsbD1xLmxlbmd0aCxnPTEsbj1rLG09aCxjPTAsYj0wLEEseix3LG8sdCxwLGQ7Zm9yKDt2PGw7disrKXtBPXFbdl07ej1BLmxlbmd0aDt3PXFbdi0xXTtvPXcubGVuZ3RoO3Q9cVt2KzFdO3A9dCYmdC5sZW5ndGg7aWYoQVswXT09Ik0iKXtuPUFbMV07bT1BWzJdO3M9disxO3doaWxlKHFbc11bMF0hPSJDIil7cysrfWM9cVtzXVs1XTtiPXFbc11bNl07ZS5wdXNoKFsiTSIsbixtXSk7Zz1lLmxlbmd0aDtrPW47aD1tO2NvbnRpbnVlfWlmKEFbei0yXT09biYmQVt6LTFdPT1tJiYoIXR8fHRbMF09PSJNIikpe2Q9ZVtnXS5sZW5ndGg7dT10aGlzLmdldEFuY2hvcnMod1tvLTJdLHdbby0xXSxuLG0sZVtnXVtkLTJdLGVbZ11bZC0xXSxyKTtlW2ddWzFdPXUueDI7ZVtnXVsyXT11LnkyfWVsc2V7aWYoIXR8fHRbMF09PSJNIil7dT17eDE6QVt6LTJdLHkxOkFbei0xXX19ZWxzZXt1PXRoaXMuZ2V0QW5jaG9ycyh3W28tMl0sd1tvLTFdLEFbei0yXSxBW3otMV0sdFtwLTJdLHRbcC0xXSxyKX19ZS5wdXNoKFsiQyIsayxoLHUueDEsdS55MSxBW3otMl0sQVt6LTFdXSk7az11LngyO2g9dS55Mn1yZXR1cm4gZX0sZmluZERvdEF0U2VnbWVudDpmdW5jdGlvbihiLGEsZCxjLGosaSxoLGcsayl7dmFyIGU9MS1rO3JldHVybnt4Ok1hdGgucG93KGUsMykqYitNYXRoLnBvdyhlLDIpKjMqaypkK2UqMyprKmsqaitNYXRoLnBvdyhrLDMpKmgseTpNYXRoLnBvdyhlLDMpKmErTWF0aC5wb3coZSwyKSozKmsqYytlKjMqayprKmkrTWF0aC5wb3coaywzKSpnfX0sc25hcEVuZHM6ZnVuY3Rpb24ocixzLGQsbil7aWYoRXh0LmlzRGF0ZShyKSl7cmV0dXJuIHRoaXMuc25hcEVuZHNCeURhdGUocixzLGQpfXZhciBjPShzLXIpL2QsYT1NYXRoLmZsb29yKE1hdGgubG9nKGMpL01hdGguTE4xMCkrMSxlPU1hdGgucG93KDEwLGEpLHQscD1NYXRoLnJvdW5kKChjJWUpKk1hdGgucG93KDEwLDItYSkpLGI9W1swLDE1XSxbMjAsNF0sWzMwLDJdLFs0MCw0XSxbNTAsOV0sWzYwLDRdLFs3MCwyXSxbODAsNF0sWzEwMCwxNV1dLGg9MCxxLGssaixnLGw9MTAwMDAwMDAwMCxvPWIubGVuZ3RoO3Q9cj1NYXRoLmZsb29yKHIvZSkqZTtpZihuKXtmb3Ioaj0wO2o8bztqKyspe3E9YltqXVswXTtrPShxLXApPDA/MTAwMDAwMDoocS1wKS9iW2pdWzFdO2lmKGs8bCl7Zz1xO2w9a319Yz1NYXRoLmZsb29yKGMqTWF0aC5wb3coMTAsLWEpKSpNYXRoLnBvdygxMCxhKStnKk1hdGgucG93KDEwLGEtMik7d2hpbGUodDxzKXt0Kz1jO2grK31zPSt0LnRvRml4ZWQoMTApfWVsc2V7aD1kfXJldHVybntmcm9tOnIsdG86cyxwb3dlcjphLHN0ZXA6YyxzdGVwczpofX0sc25hcEVuZHNCeURhdGU6ZnVuY3Rpb24oayxsLGIsbSl7dmFyIGU9ZmFsc2UsaD1bW0V4dC5EYXRlLk1JTExJLFsxLDIsMyw1LDEwLDIwLDMwLDUwLDEwMCwyMDAsMzAwLDUwMF1dLFtFeHQuRGF0ZS5TRUNPTkQsWzEsMiwzLDUsMTAsMTUsMzBdXSxbRXh0LkRhdGUuTUlOVVRFLFsxLDIsMyw1LDEwLDIwLDMwXV0sW0V4dC5EYXRlLkhPVVIsWzEsMiwzLDQsNiwxMl1dLFtFeHQuRGF0ZS5EQVksWzEsMiwzLDcsMTRdXSxbRXh0LkRhdGUuTU9OVEgsWzEsMiwzLDQsNl1dXSxnPWgubGVuZ3RoLGk9ZmFsc2UsYyxkLGEsbjtmb3Iobj0wO248ZztuKyspe2M9aFtuXTtpZighaSl7Zm9yKGQ9MDtkPGNbMV0ubGVuZ3RoO2QrKyl7aWYobDxFeHQuRGF0ZS5hZGQoayxjWzBdLGNbMV1bZF0qYikpe2U9W2NbMF0sY1sxXVtkXV07aT10cnVlO2JyZWFrfX19fWlmKCFlKXthPXRoaXMuc25hcEVuZHMoay5nZXRGdWxsWWVhcigpLGwuZ2V0RnVsbFllYXIoKSsxLGIsbSk7ZT1bRGF0ZS5ZRUFSLE1hdGgucm91bmQoYS5zdGVwKV19cmV0dXJuIHRoaXMuc25hcEVuZHNCeURhdGVBbmRTdGVwKGssbCxlLG0pfSxzbmFwRW5kc0J5RGF0ZUFuZFN0ZXA6ZnVuY3Rpb24oaSxoLGUsYSl7dmFyIGQ9W2kuZ2V0RnVsbFllYXIoKSxpLmdldE1vbnRoKCksaS5nZXREYXRlKCksaS5nZXRIb3VycygpLGkuZ2V0TWludXRlcygpLGkuZ2V0U2Vjb25kcygpLGkuZ2V0TWlsbGlzZWNvbmRzKCldLGI9MCxnLGM7aWYoYSl7Zz1pfWVsc2V7c3dpdGNoKGVbMF0pe2Nhc2UgRXh0LkRhdGUuTUlMTEk6Zz1uZXcgRGF0ZShkWzBdLGRbMV0sZFsyXSxkWzNdLGRbNF0sZFs1XSxNYXRoLmZsb29yKGRbNl0vZVsxXSkqZVsxXSk7YnJlYWs7Y2FzZSBFeHQuRGF0ZS5TRUNPTkQ6Zz1uZXcgRGF0ZShkWzBdLGRbMV0sZFsyXSxkWzNdLGRbNF0sTWF0aC5mbG9vcihkWzVdL2VbMV0pKmVbMV0sMCk7YnJlYWs7Y2FzZSBFeHQuRGF0ZS5NSU5VVEU6Zz1uZXcgRGF0ZShkWzBdLGRbMV0sZFsyXSxkWzNdLE1hdGguZmxvb3IoZFs0XS9lWzFdKSplWzFdLDAsMCk7YnJlYWs7Y2FzZSBFeHQuRGF0ZS5IT1VSOmc9bmV3IERhdGUoZFswXSxkWzFdLGRbMl0sTWF0aC5mbG9vcihkWzNdL2VbMV0pKmVbMV0sMCwwLDApO2JyZWFrO2Nhc2UgRXh0LkRhdGUuREFZOmc9bmV3IERhdGUoZFswXSxkWzFdLE1hdGguZmxvb3IoZFsyXS0xL2VbMV0pKmVbMV0rMSwwLDAsMCwwKTticmVhaztjYXNlIEV4dC5EYXRlLk1PTlRIOmc9bmV3IERhdGUoZFswXSxNYXRoLmZsb29yKGRbMV0vZVsxXSkqZVsxXSwxLDAsMCwwLDApO2JyZWFrO2RlZmF1bHQ6Zz1uZXcgRGF0ZShNYXRoLmZsb29yKGRbMF0vZVsxXSkqZVsxXSwwLDEsMCwwLDAsMCk7YnJlYWt9fWM9Zzt3aGlsZShjPGgpe2M9RXh0LkRhdGUuYWRkKGMsZVswXSxlWzFdKTtiKyt9aWYoYSl7Yz1ofXJldHVybntmcm9tOitnLHRvOitjLHN0ZXA6KGMtZykvYixzdGVwczpifX0sc29ydGVyOmZ1bmN0aW9uKGQsYyl7cmV0dXJuIGQub2Zmc2V0LWMub2Zmc2V0fSxyYWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGElMzYwKk1hdGguUEkvMTgwfSxkZWdyZWVzOmZ1bmN0aW9uKGEpe3JldHVybiBhKjE4MC9NYXRoLlBJJTM2MH0sd2l0aGluQm94OmZ1bmN0aW9uKGEsYyxiKXtiPWJ8fHt9O3JldHVybihhPj1iLngmJmE8PShiLngrYi53aWR0aCkmJmM+PWIueSYmYzw9KGIueStiLmhlaWdodCkpfSxwYXJzZUdyYWRpZW50OmZ1bmN0aW9uKGspe3ZhciBlPXRoaXMsZz1rLnR5cGV8fCJsaW5lYXIiLGM9ay5hbmdsZXx8MCxpPWUucmFkaWFuLGw9ay5zdG9wcyxhPVtdLGosYixoLGQ7aWYoZz09ImxpbmVhciIpe2I9WzAsMCxNYXRoLmNvcyhjKmkpLE1hdGguc2luKGMqaSldO2g9MS8oTWF0aC5tYXgoTWF0aC5hYnMoYlsyXSksTWF0aC5hYnMoYlszXSkpfHwxKTtiWzJdKj1oO2JbM10qPWg7aWYoYlsyXTwwKXtiWzBdPS1iWzJdO2JbMl09MH1pZihiWzNdPDApe2JbMV09LWJbM107YlszXT0wfX1mb3IoaiBpbiBsKXtpZihsLmhhc093blByb3BlcnR5KGopJiZlLnN0b3BzUkUudGVzdChqKSl7ZD17b2Zmc2V0OnBhcnNlSW50KGosMTApLGNvbG9yOkV4dC5kcmF3LkNvbG9yLnRvSGV4KGxbal0uY29sb3IpfHwiI2ZmZmZmZiIsb3BhY2l0eTpsW2pdLm9wYWNpdHl8fDF9O2EucHVzaChkKX19RXh0LkFycmF5LnNvcnQoYSxlLnNvcnRlcik7aWYoZz09ImxpbmVhciIpe3JldHVybntpZDprLmlkLHR5cGU6Zyx2ZWN0b3I6YixzdG9wczphfX1lbHNle3JldHVybntpZDprLmlkLHR5cGU6ZyxjZW50ZXJYOmsuY2VudGVyWCxjZW50ZXJZOmsuY2VudGVyWSxmb2NhbFg6ay5mb2NhbFgsZm9jYWxZOmsuZm9jYWxZLHJhZGl1czprLnJhZGl1cyx2ZWN0b3I6YixzdG9wczphfX19fSk7RXh0LmRlZmluZSgiRXh0LmRyYXcuTWF0cml4Iix7cmVxdWlyZXM6WyJFeHQuZHJhdy5EcmF3Il0sY29uc3RydWN0b3I6ZnVuY3Rpb24oaCxnLGwsayxqLGkpe2lmKGghPW51bGwpe3RoaXMubWF0cml4PVtbaCxsLGpdLFtnLGssaV0sWzAsMCwxXV19ZWxzZXt0aGlzLm1hdHJpeD1bWzEsMCwwXSxbMCwxLDBdLFswLDAsMV1dfX0sYWRkOmZ1bmN0aW9uKHMscCxtLGssaSxoKXt2YXIgbj10aGlzLGc9W1tdLFtdLFtdXSxyPVtbcyxtLGldLFtwLGssaF0sWzAsMCwxXV0scSxvLGwsajtmb3IocT0wO3E8MztxKyspe2ZvcihvPTA7bzwzO28rKyl7aj0wO2ZvcihsPTA7bDwzO2wrKyl7ais9bi5tYXRyaXhbcV1bbF0qcltsXVtvXX1nW3FdW29dPWp9fW4ubWF0cml4PWd9LHByZXBlbmQ6ZnVuY3Rpb24ocyxwLG0sayxpLGgpe3ZhciBuPXRoaXMsZz1bW10sW10sW11dLHI9W1tzLG0saV0sW3AsayxoXSxbMCwwLDFdXSxxLG8sbCxqO2ZvcihxPTA7cTwzO3ErKyl7Zm9yKG89MDtvPDM7bysrKXtqPTA7Zm9yKGw9MDtsPDM7bCsrKXtqKz1yW3FdW2xdKm4ubWF0cml4W2xdW29dfWdbcV1bb109an19bi5tYXRyaXg9Z30saW52ZXJ0OmZ1bmN0aW9uKCl7dmFyIGo9dGhpcy5tYXRyaXgsaT1qWzBdWzBdLGg9alsxXVswXSxuPWpbMF1bMV0sbT1qWzFdWzFdLGw9alswXVsyXSxrPWpbMV1bMl0sZz1pKm0taCpuO3JldHVybiBuZXcgRXh0LmRyYXcuTWF0cml4KG0vZywtaC9nLC1uL2csaS9nLChuKmstbSpsKS9nLChoKmwtaSprKS9nKX0sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLm1hdHJpeCxoPWlbMF1bMF0sZz1pWzFdWzBdLG09aVswXVsxXSxsPWlbMV1bMV0saz1pWzBdWzJdLGo9aVsxXVsyXTtyZXR1cm4gbmV3IEV4dC5kcmF3Lk1hdHJpeChoLGcsbSxsLGssail9LHRyYW5zbGF0ZTpmdW5jdGlvbihhLGIpe3RoaXMucHJlcGVuZCgxLDAsMCwxLGEsYil9LHNjYWxlOmZ1bmN0aW9uKGIsZSxhLGQpe3ZhciBjPXRoaXM7aWYoZT09bnVsbCl7ZT1ifWMuYWRkKDEsMCwwLDEsYSxkKTtjLmFkZChiLDAsMCxlLDAsMCk7Yy5hZGQoMSwwLDAsMSwtYSwtZCl9LHJvdGF0ZTpmdW5jdGlvbihjLGIsaCl7Yz1FeHQuZHJhdy5EcmF3LnJhZChjKTt2YXIgZT10aGlzLGc9K01hdGguY29zKGMpLnRvRml4ZWQoOSksZD0rTWF0aC5zaW4oYykudG9GaXhlZCg5KTtlLmFkZChnLGQsLWQsZyxiLGgpO2UuYWRkKDEsMCwwLDEsLWIsLWgpfSx4OmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5tYXRyaXg7cmV0dXJuIGEqYlswXVswXStjKmJbMF1bMV0rYlswXVsyXX0seTpmdW5jdGlvbihhLGMpe3ZhciBiPXRoaXMubWF0cml4O3JldHVybiBhKmJbMV1bMF0rYypiWzFdWzFdK2JbMV1bMl19LGdldDpmdW5jdGlvbihiLGEpe3JldHVybiArdGhpcy5tYXRyaXhbYl1bYV0udG9GaXhlZCg0KX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVyblthLmdldCgwLDApLGEuZ2V0KDAsMSksYS5nZXQoMSwwKSxhLmdldCgxLDEpLDAsMF0uam9pbigpfSx0b1N2ZzpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIm1hdHJpeCgiK1thLmdldCgwLDApLGEuZ2V0KDEsMCksYS5nZXQoMCwxKSxhLmdldCgxLDEpLGEuZ2V0KDAsMiksYS5nZXQoMSwyKV0uam9pbigpKyIpIn0sdG9GaWx0ZXI6ZnVuY3Rpb24oYixhKXt2YXIgYz10aGlzO2I9Ynx8MDthPWF8fDA7cmV0dXJuInByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5NYXRyaXgoc2l6aW5nTWV0aG9kPSdhdXRvIGV4cGFuZCcsIGZpbHRlclR5cGU9J2JpbGluZWFyJywgTTExPSIrYy5nZXQoMCwwKSsiLCBNMTI9IitjLmdldCgwLDEpKyIsIE0yMT0iK2MuZ2V0KDEsMCkrIiwgTTIyPSIrYy5nZXQoMSwxKSsiLCBEeD0iKyhjLmdldCgwLDIpK2IpKyIsIER5PSIrKGMuZ2V0KDEsMikrYSkrIikifSxvZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hdHJpeDtyZXR1cm5bKGFbMF1bMl18fDApLnRvRml4ZWQoNCksKGFbMV1bMl18fDApLnRvRml4ZWQoNCldfSxzcGxpdDpmdW5jdGlvbigpe2Z1bmN0aW9uIGQoZyl7cmV0dXJuIGdbMF0qZ1swXStnWzFdKmdbMV19ZnVuY3Rpb24gYihnKXt2YXIgaD1NYXRoLnNxcnQoZChnKSk7Z1swXS89aDtnWzFdLz1ofXZhciBhPXRoaXMubWF0cml4LGM9e3RyYW5zbGF0ZVg6YVswXVsyXSx0cmFuc2xhdGVZOmFbMV1bMl19LGU7ZT1bW2FbMF1bMF0sYVswXVsxXV0sW2FbMV1bMV0sYVsxXVsxXV1dO2Muc2NhbGVYPU1hdGguc3FydChkKGVbMF0pKTtiKGVbMF0pO2Muc2hlYXI9ZVswXVswXSplWzFdWzBdK2VbMF1bMV0qZVsxXVsxXTtlWzFdPVtlWzFdWzBdLWVbMF1bMF0qYy5zaGVhcixlWzFdWzFdLWVbMF1bMV0qYy5zaGVhcl07Yy5zY2FsZVk9TWF0aC5zcXJ0KGQoZVsxXSkpO2IoZVsxXSk7Yy5zaGVhci89Yy5zY2FsZVk7Yy5yb3RhdGU9TWF0aC5hc2luKC1lWzBdWzFdKTtjLmlzU2ltcGxlPSErYy5zaGVhci50b0ZpeGVkKDkpJiYoYy5zY2FsZVgudG9GaXhlZCg5KT09Yy5zY2FsZVkudG9GaXhlZCg5KXx8IWMucm90YXRlKTtyZXR1cm4gY319KTtFeHQuZGVmaW5lKCJFeHQuZHJhdy5lbmdpbmUuSW1hZ2VFeHBvcnRlciIse3NpbmdsZXRvbjp0cnVlLHN0YXRpY3M6KGZ1bmN0aW9uKCl7dmFyIGQ9eyJpbWFnZS9wbmciOjEsImltYWdlL2pwZWciOjF9LGw9ZnVuY3Rpb24obSl7aWYobS5oYXNPd25Qcm9wZXJ0eSgid2lkdGgiKSl7Yj1tLndpZHRofWlmKG0uaGFzT3duUHJvcGVydHkoImhlaWdodCIpKXtpPW0uaGVpZ2h0fWlmKG0uaGFzT3duUHJvcGVydHkoInR5cGUiKSYmZFttLnR5cGVdKXtlPW0udHlwZX1lbHNle3JldHVybiBmYWxzZX1pZihrJiZqJiZhJiZnJiZoKXtyZXR1cm4gdHJ1ZX1rPWt8fEV4dC5nZXQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZm9ybSIpKTtrLnNldCh7YWN0aW9uOiJodHRwOi8vc3ZnLnNlbmNoYS5pbyIsbWV0aG9kOiJQT1NUIn0pO2o9anx8RXh0LmdldChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKTtqLnNldCh7bmFtZToic3ZnIix0eXBlOiJoaWRkZW4ifSk7YT1hfHxFeHQuZ2V0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IikpO2Euc2V0KHtuYW1lOiJ0eXBlIix0eXBlOiJoaWRkZW4ifSk7Zz1nfHxFeHQuZ2V0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0IikpO2cuc2V0KHtuYW1lOiJ3aWR0aCIsdHlwZToiaGlkZGVuIn0pO2g9aHx8RXh0LmdldChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpKTtoLnNldCh7bmFtZToiaGVpZ2h0Iix0eXBlOiJoaWRkZW4ifSk7ay5hcHBlbmRDaGlsZChqKTtrLmFwcGVuZENoaWxkKGEpO2suYXBwZW5kQ2hpbGQoZyk7ay5hcHBlbmRDaGlsZChoKTtFeHQuZ2V0Qm9keSgpLmFwcGVuZENoaWxkKGspO3JldHVybiB0cnVlfSxjPWZ1bmN0aW9uKG0pe3ZhciBuPUV4dC5kcmF3LmVuZ2luZS5TdmdFeHBvcnRlci5zZWxmLmdlbmVyYXRlKHt9LG0pO2cuc2V0KHt2YWx1ZTpifHxtLndpZHRofSk7aC5zZXQoe3ZhbHVlOml8fG0uaGVpZ2h0fSk7aWYoZSl7YS5zZXQoe3ZhbHVlOmV9KX1qLnNldCh7dmFsdWU6bn0pO2suZG9tLnN1Ym1pdCgpfSxrLGEsaixnLGgsZSxiLGk7cmV0dXJue2dlbmVyYXRlOmZ1bmN0aW9uKG4sbSl7aWYobChuKSl7YyhtKX1lbHNle3JldHVybiBmYWxzZX19fX0oKSl9KTtFeHQuZGVmaW5lKCJFeHQuZHJhdy5lbmdpbmUuU3ZnRXhwb3J0ZXIiLHtzaW5nbGV0b246dHJ1ZSxzdGF0aWNzOihmdW5jdGlvbigpe3ZhciBkLGUsYyxpLGo9ZnVuY3Rpb24oayl7ZD1rO2U9ZC5sZW5ndGg7Yz1kLndpZHRoO2k9ZC5oZWlnaHR9LGc9e3BhdGg6ZnVuY3Rpb24obil7dmFyIGs9bi5hdHRyLHI9ay5wYXRoLG09IiIsbyxxLGw7aWYoRXh0LmlzQXJyYXkoclswXSkpe2w9ci5sZW5ndGg7Zm9yKHE9MDtxPGw7cSsrKXttKz1yW3FdLmpvaW4oIiAiKX19ZWxzZXtpZihFeHQuaXNBcnJheShyKSl7bT1yLmpvaW4oIiAiKX1lbHNle209ci5yZXBsYWNlKC8sL2csIiAiKX19bz1iKHtkOm0sZmlsbDprLmZpbGx8fCJub25lIixzdHJva2U6ay5zdHJva2UsImZpbGwtb3BhY2l0eSI6ay5vcGFjaXR5LCJzdHJva2Utd2lkdGgiOmtbInN0cm9rZS13aWR0aCJdLCJzdHJva2Utb3BhY2l0eSI6a1sic3Ryb2tlLW9wYWNpdHkiXSwiei1pbmRleCI6ay56SW5kZXgsdHJhbnNmb3JtOm4ubWF0cml4LnRvU3ZnKCl9KTtyZXR1cm4iPHBhdGggIitvKyIvPiJ9LHRleHQ6ZnVuY3Rpb24ocil7dmFyIG89ci5hdHRyLGs9LygtP1xkKlwuP1xkKil7MX0oZW18ZXh8cHh8aW58Y218bW18cHR8cGN8JSlccygnKi4qJyopLyxuPWsuZXhlYyhvLmZvbnQpLHQ9KG4mJm5bMV0pfHwiMTIiLG09KG4mJm5bM10pfHwiQXJpYWwiLHM9by50ZXh0LHE9KEV4dC5pc0ZGM18wfHxFeHQuaXNGRjNfNSk/Mjo0LGw9IiIscDtyLmdldEJCb3goKTtsKz0nPHRzcGFuIHg9IicrKG8ueHx8IiIpKyciIGR5PSInO2wrPSh0L3EpKyciPic7bCs9RXh0Lmh0bWxFbmNvZGUocykrIjwvdHNwYW4+IjtwPWIoe3g6by54LHk6by55LCJmb250LXNpemUiOnQsImZvbnQtZmFtaWx5IjptLCJmb250LXdlaWdodCI6b1siZm9udC13ZWlnaHQiXSwidGV4dC1hbmNob3IiOm9bInRleHQtYW5jaG9yIl0sZmlsbDpvLmZpbGx8fCIjMDAwIiwiZmlsbC1vcGFjaXR5IjpvLm9wYWNpdHksdHJhbnNmb3JtOnIubWF0cml4LnRvU3ZnKCl9KTtyZXR1cm4iPHRleHQgIitwKyI+IitsKyI8L3RleHQ+In0scmVjdDpmdW5jdGlvbihsKXt2YXIgaz1sLmF0dHIsbT1iKHt4OmsueCx5OmsueSxyeDprLnJ4LHJ5Omsucnksd2lkdGg6ay53aWR0aCxoZWlnaHQ6ay5oZWlnaHQsZmlsbDprLmZpbGx8fCJub25lIiwiZmlsbC1vcGFjaXR5IjprLm9wYWNpdHksc3Ryb2tlOmsuc3Ryb2tlLCJzdHJva2Utb3BhY2l0eSI6a1sic3Ryb2tlLW9wYWNpdHkiXSwic3Ryb2tlLXdpZHRoIjprWyJzdHJva2Utd2lkdGgiXSx0cmFuc2Zvcm06bC5tYXRyaXgmJmwubWF0cml4LnRvU3ZnKCl9KTtyZXR1cm4iPHJlY3QgIittKyIvPiJ9LGNpcmNsZTpmdW5jdGlvbihsKXt2YXIgaz1sLmF0dHIsbT1iKHtjeDprLngsY3k6ay55LHI6ay5yYWRpdXMsZmlsbDprLnRyYW5zbGF0aW9uLmZpbGx8fGsuZmlsbHx8Im5vbmUiLCJmaWxsLW9wYWNpdHkiOmsub3BhY2l0eSxzdHJva2U6ay5zdHJva2UsInN0cm9rZS1vcGFjaXR5IjprWyJzdHJva2Utb3BhY2l0eSJdLCJzdHJva2Utd2lkdGgiOmtbInN0cm9rZS13aWR0aCJdLHRyYW5zZm9ybTpsLm1hdHJpeC50b1N2ZygpfSk7cmV0dXJuIjxjaXJjbGUgIittKyIgLz4ifSxpbWFnZTpmdW5jdGlvbihsKXt2YXIgaz1sLmF0dHIsbT1iKHt4OmsueC0oay53aWR0aC8yPj4wKSx5OmsueS0oay5oZWlnaHQvMj4+MCksd2lkdGg6ay53aWR0aCxoZWlnaHQ6ay5oZWlnaHQsInhsaW5rOmhyZWYiOmsuc3JjLHRyYW5zZm9ybTpsLm1hdHJpeC50b1N2ZygpfSk7cmV0dXJuIjxpbWFnZSAiK20rIiAvPiJ9fSxhPWZ1bmN0aW9uKCl7dmFyIGs9Jzw/eG1sIHZlcnNpb249IjEuMCIgc3RhbmRhbG9uZT0ieWVzIj8+JztrKz0nPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4nO3JldHVybiBrfSxoPWZ1bmN0aW9uKCl7dmFyIHQ9Jzxzdmcgd2lkdGg9IicrYysncHgiIGhlaWdodD0iJytpKydweCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIj4nLG09IiIsRSxDLHMsbixELEcsdyx1LHEsdix5LGwsSCxyLEIseixGLEEscCxvO3M9ZC5pdGVtcy5pdGVtcztDPXMubGVuZ3RoO0Q9ZnVuY3Rpb24oSyl7dmFyIFI9Sy5jaGlsZE5vZGVzLE89Ui5sZW5ndGgsTj0wLEwsTSxrPSIiLEksUSxKLFA7Zm9yKDtOPE87TisrKXtJPVJbTl07UT1JLmF0dHJpYnV0ZXM7Sj1JLnRhZ05hbWU7ays9IjwiK0o7Zm9yKE09MCxMPVEubGVuZ3RoO008TDtNKyspe1A9US5pdGVtKE0pO2srPSIgIitQLm5hbWUrJz0iJytQLnZhbHVlKyciJ31rKz0iPiI7aWYoSS5jaGlsZE5vZGVzLmxlbmd0aD4wKXtrKz1EKEkpfWsrPSI8LyIrSisiPiJ9cmV0dXJuIGt9O2lmKGQuZ2V0RGVmcyl7bT1EKGQuZ2V0RGVmcygpKX1lbHNle3U9ZC5ncmFkaWVudHNDb2xsO2lmKHUpe3E9dS5rZXlzO3Y9dS5pdGVtczt5PTA7bD1xLmxlbmd0aH1mb3IoO3k8bDt5Kyspe0g9cVt5XTtyPXZbeV07bj1kLmdyYWRpZW50c0NvbGwuZ2V0QnlLZXkoSCk7bSs9JzxsaW5lYXJHcmFkaWVudCBpZD0iJytIKyciIHgxPSIwIiB5MT0iMCIgeDI9IjEiIHkyPSIxIj4nO3ZhciB4PW4uY29sb3JzLnJlcGxhY2UoL3JnYlwoXHMqKFxkKylccyosXHMqKFxkKylccyosXHMqKFxkKylccypcKS9nLCJyZ2IoJDF8JDJ8JDMpIik7eD14LnJlcGxhY2UoL3JnYmFcKFxzKihcZCspXHMqLFxzKihcZCspXHMqLFxzKihcZCspXHMqLChbXGRcLl0rKVwpL2csInJnYmEoJDF8JDJ8JDN8JDQpIik7Rz14LnNwbGl0KCIsIik7Zm9yKEI9MCxGPUcubGVuZ3RoO0I8RjtCKyspe3c9R1tCXS5zcGxpdCgiICIpO3g9RXh0LmRyYXcuQ29sb3IuZnJvbVN0cmluZyh3WzFdLnJlcGxhY2UoL1x8L2csIiwiKSk7bSs9JzxzdG9wIG9mZnNldD0iJyt3WzBdKyciIHN0b3AtY29sb3I9IicreC50b1N0cmluZygpKyciIHN0b3Atb3BhY2l0eT0iMSI+PC9zdG9wPid9bSs9IjwvbGluZWFyR3JhZGllbnQ+In19dCs9IjxkZWZzPiIrbSsiPC9kZWZzPiI7dCs9Zy5yZWN0KHthdHRyOnt3aWR0aDoiMTAwJSIsaGVpZ2h0OiIxMDAlIixmaWxsOiIjZmZmIixzdHJva2U6Im5vbmUiLG9wYWNpdHk6IjAifX0pO0E9bmV3IEFycmF5KEMpO2ZvcihCPTA7QjxDO0IrKyl7QVtCXT1CfUEuc29ydChmdW5jdGlvbihJLGspe3A9c1tJXS5hdHRyLnpJbmRleHx8MDtvPXNba10uYXR0ci56SW5kZXh8fDA7aWYocD09byl7cmV0dXJuIEkta31yZXR1cm4gcC1vfSk7Zm9yKEI9MDtCPEM7QisrKXtFPXNbQVtCXV07aWYoIUUuYXR0ci5oaWRkZW4pe3QrPWdbRS50eXBlXShFKX19dCs9Ijwvc3ZnPiI7cmV0dXJuIHR9LGI9ZnVuY3Rpb24obSl7dmFyIGw9IiIsaztmb3IoayBpbiBtKXtpZihtLmhhc093blByb3BlcnR5KGspJiZtW2tdIT1udWxsKXtsKz1rKyc9IicrbVtrXSsnIiAnfX1yZXR1cm4gbH07cmV0dXJue2dlbmVyYXRlOmZ1bmN0aW9uKGwsayl7aihrKTtyZXR1cm4gYSgpK2goKX19fSgpKX0pO0V4dC5kZWZpbmUoIkV4dC5meC5DdWJpY0JlemllciIse3NpbmdsZXRvbjp0cnVlLGN1YmljQmV6aWVyQXRUaW1lOmZ1bmN0aW9uKG8sZCxiLG4sbSxpKXt2YXIgaj0zKmQsbD0zKihuLWQpLWosYT0xLWotbCxoPTMqYixrPTMqKG0tYiktaCxwPTEtaC1rO2Z1bmN0aW9uIGcocSl7cmV0dXJuKChhKnErbCkqcStqKSpxfWZ1bmN0aW9uIGMocSxzKXt2YXIgcj1lKHEscyk7cmV0dXJuKChwKnIraykqcitoKSpyfWZ1bmN0aW9uIGUocSx5KXt2YXIgdyx2LHQscix1LHM7Zm9yKHQ9cSxzPTA7czw4O3MrKyl7cj1nKHQpLXE7aWYoTWF0aC5hYnMocik8eSl7cmV0dXJuIHR9dT0oMyphKnQrMipsKSp0K2o7aWYoTWF0aC5hYnModSk8MC4wMDAwMDEpe2JyZWFrfXQ9dC1yL3V9dz0wO3Y9MTt0PXE7aWYodDx3KXtyZXR1cm4gd31pZih0PnYpe3JldHVybiB2fXdoaWxlKHc8dil7cj1nKHQpO2lmKE1hdGguYWJzKHItcSk8eSl7cmV0dXJuIHR9aWYocT5yKXt3PXR9ZWxzZXt2PXR9dD0odi13KS8yK3d9cmV0dXJuIHR9cmV0dXJuIGMobywxLygyMDAqaSkpfSxjdWJpY0JlemllcjpmdW5jdGlvbihiLGUsYSxjKXt2YXIgZD1mdW5jdGlvbihnKXtyZXR1cm4gRXh0LmZ4LkN1YmljQmV6aWVyLmN1YmljQmV6aWVyQXRUaW1lKGcsYixlLGEsYywxKX07ZC50b0NTUzM9ZnVuY3Rpb24oKXtyZXR1cm4iY3ViaWMtYmV6aWVyKCIrW2IsZSxhLGNdLmpvaW4oIiwiKSsiKSJ9O2QucmV2ZXJzZT1mdW5jdGlvbigpe3JldHVybiBFeHQuZnguQ3ViaWNCZXppZXIuY3ViaWNCZXppZXIoMS1hLDEtYywxLWIsMS1lKX07cmV0dXJuIGR9fSk7RXh0LmRlZmluZSgiRXh0LmZ4LlByb3BlcnR5SGFuZGxlciIse3JlcXVpcmVzOlsiRXh0LmRyYXcuRHJhdyJdLHN0YXRpY3M6e2RlZmF1bHRIYW5kbGVyOntwaXhlbERlZmF1bHRzUkU6L3dpZHRofGhlaWdodHx0b3AkfGJvdHRvbSR8bGVmdCR8cmlnaHQkL2ksdW5pdFJFOi9eKC0/XGQqXC4/XGQqKXsxfShlbXxleHxweHxpbnxjbXxtbXxwdHxwY3wlKSokLyxzY3JvbGxSRTovXnNjcm9sbC9pLGNvbXB1dGVEZWx0YTpmdW5jdGlvbihqLGMsYSxnLGkpe2E9KHR5cGVvZiBhPT0ibnVtYmVyIik/YToxO3ZhciBoPXRoaXMudW5pdFJFLGQ9aC5leGVjKGopLGIsZTtpZihkKXtqPWRbMV07ZT1kWzJdO2lmKCF0aGlzLnNjcm9sbFJFLnRlc3QoaSkmJiFlJiZ0aGlzLnBpeGVsRGVmYXVsdHNSRS50ZXN0KGkpKXtlPSJweCJ9fWo9K2p8fDA7ZD1oLmV4ZWMoYyk7aWYoZCl7Yz1kWzFdO2U9ZFsyXXx8ZX1jPStjfHwwO2I9KGchPW51bGwpP2c6ajtyZXR1cm57ZnJvbTpqLGRlbHRhOihjLWIpKmEsdW5pdHM6ZX19LGdldDpmdW5jdGlvbihvLGIsYSxuLGspe3ZhciBtPW8ubGVuZ3RoLGQ9W10sZSxoLGwsYyxnO2ZvcihlPTA7ZTxtO2UrKyl7aWYobil7aD1uW2VdWzFdLmZyb219aWYoRXh0LmlzQXJyYXkob1tlXVsxXSkmJkV4dC5pc0FycmF5KGIpKXtsPVtdO2M9MDtnPW9bZV1bMV0ubGVuZ3RoO2Zvcig7YzxnO2MrKyl7bC5wdXNoKHRoaXMuY29tcHV0ZURlbHRhKG9bZV1bMV1bY10sYltjXSxhLGgsaykpfWQucHVzaChbb1tlXVswXSxsXSl9ZWxzZXtkLnB1c2goW29bZV1bMF0sdGhpcy5jb21wdXRlRGVsdGEob1tlXVsxXSxiLGEsaCxrKV0pfX1yZXR1cm4gZH0sc2V0OmZ1bmN0aW9uKGwsZyl7dmFyIGg9bC5sZW5ndGgsYz1bXSxkLGEsayxlLGI7Zm9yKGQ9MDtkPGg7ZCsrKXthPWxbZF1bMV07aWYoRXh0LmlzQXJyYXkoYSkpe2s9W107Yj0wO2U9YS5sZW5ndGg7Zm9yKDtiPGU7YisrKXtrLnB1c2goYVtiXS5mcm9tK2FbYl0uZGVsdGEqZysoYVtiXS51bml0c3x8MCkpfWMucHVzaChbbFtkXVswXSxrXSl9ZWxzZXtjLnB1c2goW2xbZF1bMF0sYS5mcm9tK2EuZGVsdGEqZysoYS51bml0c3x8MCldKX19cmV0dXJuIGN9fSxzdHJpbmdIYW5kbGVyOntjb21wdXRlRGVsdGE6ZnVuY3Rpb24oZSxiLGQsYyxhKXtyZXR1cm57ZnJvbTplLGRlbHRhOmJ9fSxnZXQ6ZnVuY3Rpb24obyxiLGEsbixrKXt2YXIgbT1vLmxlbmd0aCxkPVtdLGUsaCxsLGMsZztmb3IoZT0wO2U8bTtlKyspe2QucHVzaChbb1tlXVswXSx0aGlzLmNvbXB1dGVEZWx0YShvW2VdWzFdLGIsYSxoLGspXSl9cmV0dXJuIGR9LHNldDpmdW5jdGlvbihsLGcpe3ZhciBoPWwubGVuZ3RoLGM9W10sZCxhLGssZSxiO2ZvcihkPTA7ZDxoO2QrKyl7YT1sW2RdWzFdO2MucHVzaChbbFtkXVswXSxhLmRlbHRhXSl9cmV0dXJuIGN9fSxjb2xvcjp7cmdiUkU6L15yZ2JcKChbMC05XSspXHMqLFxzKihbMC05XSspXHMqLFxzKihbMC05XSspXCkkL2ksaGV4UkU6L14jPyhbMC05QS1GXXsyfSkoWzAtOUEtRl17Mn0pKFswLTlBLUZdezJ9KSQvaSxoZXgzUkU6L14jPyhbMC05QS1GXXsxfSkoWzAtOUEtRl17MX0pKFswLTlBLUZdezF9KSQvaSxwYXJzZUNvbG9yOmZ1bmN0aW9uKGUsYSl7YT0odHlwZW9mIGE9PSJudW1iZXIiKT9hOjE7dmFyIGc9ZmFsc2UsYz1bdGhpcy5oZXhSRSx0aGlzLnJnYlJFLHRoaXMuaGV4M1JFXSxkPWMubGVuZ3RoLGosYixrLGg7Zm9yKGg9MDtoPGQ7aCsrKXtrPWNbaF07Yj0oaCUyPT09MCk/MTY6MTA7aj1rLmV4ZWMoZSk7aWYoaiYmai5sZW5ndGg9PT00KXtpZihoPT09Mil7alsxXSs9alsxXTtqWzJdKz1qWzJdO2pbM10rPWpbM119Zz17cmVkOnBhcnNlSW50KGpbMV0sYiksZ3JlZW46cGFyc2VJbnQoalsyXSxiKSxibHVlOnBhcnNlSW50KGpbM10sYil9O2JyZWFrfX1yZXR1cm4gZ3x8ZX0sY29tcHV0ZURlbHRhOmZ1bmN0aW9uKGgsYSxlLGMpe2g9dGhpcy5wYXJzZUNvbG9yKGgpO2E9dGhpcy5wYXJzZUNvbG9yKGEsZSk7dmFyIGc9Yz9jOmgsYj10eXBlb2YgZyxkPXR5cGVvZiBhO2lmKGI9PSJzdHJpbmcifHxiPT0idW5kZWZpbmVkInx8ZD09InN0cmluZyJ8fGQ9PSJ1bmRlZmluZWQiKXtyZXR1cm4gYXx8Z31yZXR1cm57ZnJvbTpoLGRlbHRhOntyZWQ6TWF0aC5yb3VuZCgoYS5yZWQtZy5yZWQpKmUpLGdyZWVuOk1hdGgucm91bmQoKGEuZ3JlZW4tZy5ncmVlbikqZSksYmx1ZTpNYXRoLnJvdW5kKChhLmJsdWUtZy5ibHVlKSplKX19fSxnZXQ6ZnVuY3Rpb24oaixhLGcsZCl7dmFyIGg9ai5sZW5ndGgsYz1bXSxlLGI7Zm9yKGU9MDtlPGg7ZSsrKXtpZihkKXtiPWRbZV1bMV0uZnJvbX1jLnB1c2goW2pbZV1bMF0sdGhpcy5jb21wdXRlRGVsdGEoaltlXVsxXSxhLGcsYildKX1yZXR1cm4gY30sc2V0OmZ1bmN0aW9uKGssZSl7dmFyIGc9ay5sZW5ndGgsYz1bXSxkLGIsYSxoLGo7Zm9yKGQ9MDtkPGc7ZCsrKXtiPWtbZF1bMV07aWYoYil7aD1iLmZyb207aj1iLmRlbHRhO2I9KHR5cGVvZiBiPT0ib2JqZWN0IiYmInJlZCIgaW4gYik/InJnYigiK2IucmVkKyIsICIrYi5ncmVlbisiLCAiK2IuYmx1ZSsiKSI6YjtiPSh0eXBlb2YgYj09Im9iamVjdCImJmIubGVuZ3RoKT9iWzBdOmI7aWYodHlwZW9mIGI9PSJ1bmRlZmluZWQiKXtyZXR1cm5bXX1hPXR5cGVvZiBiPT0ic3RyaW5nIj9iOiJyZ2IoIitbKGgucmVkK01hdGgucm91bmQoai5yZWQqZSkpJTI1NiwoaC5ncmVlbitNYXRoLnJvdW5kKGouZ3JlZW4qZSkpJTI1NiwoaC5ibHVlK01hdGgucm91bmQoai5ibHVlKmUpKSUyNTZdLmpvaW4oIiwiKSsiKSI7Yy5wdXNoKFtrW2RdWzBdLGFdKX19cmV0dXJuIGN9fSxvYmplY3Q6e2ludGVycG9sYXRlOmZ1bmN0aW9uKGQsYil7Yj0odHlwZW9mIGI9PSJudW1iZXIiKT9iOjE7dmFyIGE9e30sYztmb3IoYyBpbiBkKXthW2NdPXBhcnNlRmxvYXQoZFtjXSkqYn1yZXR1cm4gYX0sY29tcHV0ZURlbHRhOmZ1bmN0aW9uKGgsYSxjLGIpe2g9dGhpcy5pbnRlcnBvbGF0ZShoKTthPXRoaXMuaW50ZXJwb2xhdGUoYSxjKTt2YXIgZz1iP2I6aCxlPXt9LGQ7Zm9yKGQgaW4gYSl7ZVtkXT1hW2RdLWdbZF19cmV0dXJue2Zyb206aCxkZWx0YTplfX0sZ2V0OmZ1bmN0aW9uKGosYSxnLGQpe3ZhciBoPWoubGVuZ3RoLGM9W10sZSxiO2ZvcihlPTA7ZTxoO2UrKyl7aWYoZCl7Yj1kW2VdWzFdLmZyb219Yy5wdXNoKFtqW2VdWzBdLHRoaXMuY29tcHV0ZURlbHRhKGpbZV1bMV0sYSxnLGIpXSl9cmV0dXJuIGN9LHNldDpmdW5jdGlvbihsLGcpe3ZhciBoPWwubGVuZ3RoLGM9W10sZT17fSxkLGosayxiLGE7Zm9yKGQ9MDtkPGg7ZCsrKXtiPWxbZF1bMV07aj1iLmZyb207az1iLmRlbHRhO2ZvcihhIGluIGope2VbYV09althXStrW2FdKmd9Yy5wdXNoKFtsW2RdWzBdLGVdKX1yZXR1cm4gY319LHBhdGg6e2NvbXB1dGVEZWx0YTpmdW5jdGlvbihlLGEsYyxiKXtjPSh0eXBlb2YgYz09Im51bWJlciIpP2M6MTt2YXIgZDtlPStlfHwwO2E9K2F8fDA7ZD0oYiE9bnVsbCk/YjplO3JldHVybntmcm9tOmUsZGVsdGE6KGEtZCkqY319LGZvcmNlUGF0aDpmdW5jdGlvbihhKXtpZighRXh0LmlzQXJyYXkoYSkmJiFFeHQuaXNBcnJheShhWzBdKSl7YT1FeHQuZHJhdy5EcmF3LnBhcnNlUGF0aFN0cmluZyhhKX1yZXR1cm4gYX0sZ2V0OmZ1bmN0aW9uKGIsbCxhLHEpe3ZhciBjPXRoaXMuZm9yY2VQYXRoKGwpLG49W10scz1iLmxlbmd0aCxkLGgsbyxnLHAsbSxlLHQscjtmb3Iobz0wO288cztvKyspe3I9dGhpcy5mb3JjZVBhdGgoYltvXVsxXSk7Zz1FeHQuZHJhdy5EcmF3LmludGVycG9sYXRlUGF0aHMocixjKTtyPWdbMF07Yz1nWzFdO2Q9ci5sZW5ndGg7dD1bXTtmb3IobT0wO208ZDttKyspe2c9W3JbbV1bMF1dO2g9clttXS5sZW5ndGg7Zm9yKGU9MTtlPGg7ZSsrKXtwPXEmJnFbMF1bMV1bbV1bZV0uZnJvbTtnLnB1c2godGhpcy5jb21wdXRlRGVsdGEoclttXVtlXSxjW21dW2VdLGEscCkpfXQucHVzaChnKX1uLnB1c2goW2Jbb11bMF0sdF0pfXJldHVybiBufSxzZXQ6ZnVuY3Rpb24ocCxuKXt2YXIgbz1wLmxlbmd0aCxlPVtdLGgsZyxkLGwsbSxjLGEsYjtmb3IoaD0wO2g8bztoKyspe2M9cFtoXVsxXTtsPVtdO2E9Yy5sZW5ndGg7Zm9yKGc9MDtnPGE7ZysrKXttPVtjW2ddWzBdXTtiPWNbZ10ubGVuZ3RoO2ZvcihkPTE7ZDxiO2QrKyl7bS5wdXNoKGNbZ11bZF0uZnJvbStjW2ddW2RdLmRlbHRhKm4pfWwucHVzaChtLmpvaW4oIiwiKSl9ZS5wdXNoKFtwW2hdWzBdLGwuam9pbigiLCIpXSl9cmV0dXJuIGV9fX19LGZ1bmN0aW9uKCl7dmFyIGI9WyJvdXRsaW5lQ29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJib3JkZXJDb2xvciIsImJvcmRlclRvcENvbG9yIiwiYm9yZGVyUmlnaHRDb2xvciIsImJvcmRlckJvdHRvbUNvbG9yIiwiYm9yZGVyTGVmdENvbG9yIiwiZmlsbCIsInN0cm9rZSJdLGM9Yi5sZW5ndGgsYT0wLGQ7Zm9yKDthPGM7YSsrKXtkPWJbYV07dGhpc1tkXT10aGlzLmNvbG9yfWI9WyJjdXJzb3IiXTtjPWIubGVuZ3RoO2E9MDtmb3IoO2E8YzthKyspe2Q9YlthXTt0aGlzW2RdPXRoaXMuc3RyaW5nSGFuZGxlcn19KTtFeHQuZGVmaW5lKCJFeHQuZngudGFyZ2V0LlRhcmdldCIse2lzQW5pbVRhcmdldDp0cnVlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3RoaXMudGFyZ2V0PWE7dGhpcy5pZD10aGlzLmdldElkKCl9LGdldElkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0LmlkfX0pO0V4dC5kZWZpbmUoIkV4dC5sYXlvdXQuQ2xhc3NMaXN0IiwoZnVuY3Rpb24oKXt2YXIgYj1FeHQuU3RyaW5nLnNwbGl0V29yZHMsYT1FeHQuQXJyYXkudG9NYXA7cmV0dXJue2RpcnR5OmZhbHNlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGMpe3RoaXMub3duZXI9Yzt0aGlzLm1hcD1hKHRoaXMuY2xhc3Nlcz1iKGMuZWwuY2xhc3NOYW1lKSl9LGFkZDpmdW5jdGlvbihjKXt2YXIgZD10aGlzO2lmKCFkLm1hcFtjXSl7ZC5tYXBbY109dHJ1ZTtkLmNsYXNzZXMucHVzaChjKTtpZighZC5kaXJ0eSl7ZC5kaXJ0eT10cnVlO2Qub3duZXIubWFya0RpcnR5KCl9fX0sYWRkTWFueTpmdW5jdGlvbihjKXtFeHQuZWFjaChiKGMpLHRoaXMuYWRkLHRoaXMpfSxjb250YWluczpmdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5tYXBbY119LGZsdXNoOmZ1bmN0aW9uKCl7dGhpcy5vd25lci5lbC5jbGFzc05hbWU9dGhpcy5jbGFzc2VzLmpvaW4oIiAiKTt0aGlzLmRpcnR5PWZhbHNlfSxyZW1vdmU6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcztpZihkLm1hcFtjXSl7ZGVsZXRlIGQubWFwW2NdO2QuY2xhc3Nlcz1FeHQuQXJyYXkuZmlsdGVyKGQuY2xhc3NlcyxmdW5jdGlvbihlKXtyZXR1cm4gZSE9Y30pO2lmKCFkLmRpcnR5KXtkLmRpcnR5PXRydWU7ZC5vd25lci5tYXJrRGlydHkoKX19fSxyZW1vdmVNYW55OmZ1bmN0aW9uKGQpe3ZhciBlPXRoaXMsYz1hKGIoZCkpO2UuY2xhc3Nlcz1FeHQuQXJyYXkuZmlsdGVyKGUuY2xhc3NlcyxmdW5jdGlvbihnKXtpZighY1tnXSl7cmV0dXJuIHRydWV9ZGVsZXRlIGUubWFwW2ddO2lmKCFlLmRpcnR5KXtlLmRpcnR5PXRydWU7ZS5vd25lci5tYXJrRGlydHkoKX1yZXR1cm4gZmFsc2V9KX19fSgpKSk7RXh0LmRlZmluZSgiRXh0LmxheW91dC5Db250ZXh0SXRlbSIse3JlcXVpcmVzOlsiRXh0LmxheW91dC5DbGFzc0xpc3QiXSxoZWlnaHRNb2RlbDpudWxsLHdpZHRoTW9kZWw6bnVsbCxzaXplTW9kZWw6bnVsbCxib3hDaGlsZHJlbjpudWxsLGJveFBhcmVudDpudWxsLGNoaWxkcmVuOltdLGRpcnR5Om51bGwsZGlydHlDb3VudDowLGhhc1Jhd0NvbnRlbnQ6dHJ1ZSxpc0NvbnRleHRJdGVtOnRydWUsaXNUb3BMZXZlbDpmYWxzZSxjb25zdW1lcnNDb250ZW50SGVpZ2h0OjAsY29uc3VtZXJzQ29udGVudFdpZHRoOjAsY29uc3VtZXJzQ29udGFpbmVySGVpZ2h0OjAsY29uc3VtZXJzQ29udGFpbmVyV2lkdGg6MCxjb25zdW1lcnNIZWlnaHQ6MCxjb25zdW1lcnNXaWR0aDowLG93bmVyQ3RDb250ZXh0Om51bGwscmVtYWluaW5nQ2hpbGRMYXlvdXRzOjAscmVtYWluaW5nQ29tcG9uZW50Q2hpbGRMYXlvdXRzOjAscmVtYWluaW5nQ29udGFpbmVyQ2hpbGRMYXlvdXRzOjAsd3JhcHNDb21wb25lbnQ6ZmFsc2UsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcyxlPWEudGFyZ2V0LGMsYjtFeHQuYXBwbHkoZCxhKTtjPWQuZWw7ZC5pZD1jLmlkO2QubGFzdEJveD1jLmxhc3RCb3g7ZC5ibG9ja3M9e307ZC5kb21CbG9ja3M9e307ZC50cmlnZ2Vycz17fTtkLmRvbVRyaWdnZXJzPXt9O2QuZmx1c2hlZFByb3BzPXt9O2QucHJvcHM9e307ZC5zdGF0ZT17fTtkLnN0eWxlcz17fTtpZihlLmlzQ29tcG9uZW50KXtkLndyYXBzQ29tcG9uZW50PXRydWU7ZC5zaXplTW9kZWw9Yj1lLmdldFNpemVNb2RlbChkLm93bmVyQ3RDb250ZXh0JiZkLm93bmVyQ3RDb250ZXh0LnNpemVNb2RlbCk7ZC53aWR0aE1vZGVsPWIud2lkdGg7ZC5oZWlnaHRNb2RlbD1iLmhlaWdodDtkLmZyYW1lQm9keUNvbnRleHQ9ZC5nZXRFbCgiZnJhbWVCb2R5Iil9fSxpbml0OmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMsYixhO2lmKGMpe2Qub3duZXJDdENvbnRleHQ9YztkLmlzQm94UGFyZW50PWQudGFyZ2V0Lm93bmVyTGF5b3V0LmlzSXRlbUJveFBhcmVudChkKTthPWQud2lkdGhNb2RlbDtpZihhLnNocmlua1dyYXApe2I9Yy5pc0JveFBhcmVudD9jOmMuYm94UGFyZW50O2lmKGIpe2IuYWRkQm94Q2hpbGQoZCl9fWVsc2V7aWYoYS5uYXR1cmFsKXtkLmJveFBhcmVudD1jfX19ZWxzZXtkLmlzVG9wTGV2ZWw9dHJ1ZX19LGluaXRBbmltYXRlUG9saWN5OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIudGFyZ2V0LGE9Yi5vd25lckN0Q29udGV4dDtpZihhJiZhLmlzVG9wTGV2ZWwpe2IuYW5pbWF0ZVBvbGljeT1jLm93bmVyTGF5b3V0LmdldEFuaW1hdGVQb2xpY3koYil9ZWxzZXtpZighYSYmYy5pc0NvbGxhcHNpbmdPckV4cGFuZGluZyYmYy5hbmltQ29sbGFwc2Upe2IuYW5pbWF0ZVBvbGljeT1jLmNvbXBvbmVudExheW91dC5nZXRBbmltYXRlUG9saWN5KGIpfX1pZihiLmFuaW1hdGVQb2xpY3kpe2IuY29udGV4dC5xdWV1ZUFuaW1hdGlvbihiKX19LG5vRnJhbWluZzp7bGVmdDowLHRvcDowLHJpZ2h0OjAsYm90dG9tOjAsd2lkdGg6MCxoZWlnaHQ6MH0sYWRkQ2xzOmZ1bmN0aW9uKGEpe3RoaXMuZ2V0Q2xhc3NMaXN0KCkuYWRkTWFueShhKX0scmVtb3ZlQ2xzOmZ1bmN0aW9uKGEpe3RoaXMuZ2V0Q2xhc3NMaXN0KCkucmVtb3ZlTWFueShhKX0sYWRkQmxvY2s6ZnVuY3Rpb24oYixkLGUpe3ZhciBjPXRoaXMsZz1jW2JdLGE9Z1tlXXx8KGdbZV09e30pO2lmKCFhW2QuaWRdKXthW2QuaWRdPWQ7KytkLmJsb2NrQ291bnQ7KytjLmNvbnRleHQuYmxvY2tDb3VudH19LGFkZEJveENoaWxkOmZ1bmN0aW9uKGQpe3ZhciBjPXRoaXMsYixhPWQud2lkdGhNb2RlbDtkLmJveFBhcmVudD10aGlzO2QubWVhc3VyZXNCb3g9YS5zaHJpbmtXcmFwP2QuaGFzUmF3Q29udGVudDphLm5hdHVyYWw7aWYoZC5tZWFzdXJlc0JveCl7Yj1jLmJveENoaWxkcmVuO2lmKGIpe2IucHVzaChkKX1lbHNle2MuYm94Q2hpbGRyZW49W2RdfX19LGFkZFRyaWdnZXI6ZnVuY3Rpb24oZSxnKXt2YXIgZD10aGlzLGg9Zz9kLmRvbVRyaWdnZXJzOmQudHJpZ2dlcnMsYT1kLmNvbnRleHQsYz1hLmN1cnJlbnRMYXlvdXQsYj1oW2VdfHwoaFtlXT17fSk7aWYoIWJbYy5pZF0pe2JbYy5pZF09YzsrK2MudHJpZ2dlckNvdW50O2I9YS50cmlnZ2Vyc1tnPyJkb20iOiJkYXRhIl07KGJbYy5pZF18fChiW2MuaWRdPVtdKSkucHVzaCh7aXRlbTp0aGlzLHByb3A6ZX0pO2lmKGQucHJvcHNbZV0hPT11bmRlZmluZWQpe2lmKCFnfHwhKGQuZGlydHkmJihlIGluIGQuZGlydHkpKSl7KytjLmZpcmVkVHJpZ2dlcnN9fX19LGJveENoaWxkTWVhc3VyZWQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5zdGF0ZSxhPShjLmJveGVzTWVhc3VyZWQ9KGMuYm94ZXNNZWFzdXJlZHx8MCkrMSk7aWYoYT09Yi5ib3hDaGlsZHJlbi5sZW5ndGgpe2MuY2xlYXJCb3hXaWR0aD0xOysrYi5jb250ZXh0LnByb2dyZXNzQ291bnQ7Yi5tYXJrRGlydHkoKX19LGJvcmRlck5hbWVzOlsiYm9yZGVyLXRvcC13aWR0aCIsImJvcmRlci1yaWdodC13aWR0aCIsImJvcmRlci1ib3R0b20td2lkdGgiLCJib3JkZXItbGVmdC13aWR0aCJdLG1hcmdpbk5hbWVzOlsibWFyZ2luLXRvcCIsIm1hcmdpbi1yaWdodCIsIm1hcmdpbi1ib3R0b20iLCJtYXJnaW4tbGVmdCJdLHBhZGRpbmdOYW1lczpbInBhZGRpbmctdG9wIiwicGFkZGluZy1yaWdodCIsInBhZGRpbmctYm90dG9tIiwicGFkZGluZy1sZWZ0Il0sdHJibE5hbWVzOlsidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0Il0sY2FjaGVNaXNzSGFuZGxlcnM6e2JvcmRlckluZm86ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRTdHlsZXMoYS5ib3JkZXJOYW1lcyxhLnRyYmxOYW1lcyk7Yi53aWR0aD1iLmxlZnQrYi5yaWdodDtiLmhlaWdodD1iLnRvcCtiLmJvdHRvbTtyZXR1cm4gYn0sbWFyZ2luSW5mbzpmdW5jdGlvbihhKXt2YXIgYj1hLmdldFN0eWxlcyhhLm1hcmdpbk5hbWVzLGEudHJibE5hbWVzKTtiLndpZHRoPWIubGVmdCtiLnJpZ2h0O2IuaGVpZ2h0PWIudG9wK2IuYm90dG9tO3JldHVybiBifSxwYWRkaW5nSW5mbzpmdW5jdGlvbihiKXt2YXIgYT1iLmZyYW1lQm9keUNvbnRleHR8fGIsYz1hLmdldFN0eWxlcyhiLnBhZGRpbmdOYW1lcyxiLnRyYmxOYW1lcyk7Yy53aWR0aD1jLmxlZnQrYy5yaWdodDtjLmhlaWdodD1jLnRvcCtjLmJvdHRvbTtyZXR1cm4gY319LGNoZWNrQ2FjaGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY2FjaGVNaXNzSGFuZGxlcnNbYV0odGhpcyl9LGNsZWFyQWxsQmxvY2tzOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXNbYV0sYjtpZihjKXtmb3IoYiBpbiBjKXt0aGlzLmNsZWFyQmxvY2tzKGEsYil9fX0sY2xlYXJCbG9ja3M6ZnVuY3Rpb24oYyxnKXt2YXIgaD10aGlzW2NdLGI9aCYmaFtnXSxkLGUsYTtpZihiKXtkZWxldGUgaFtnXTtkPXRoaXMuY29udGV4dDtmb3IoYSBpbiBiKXtlPWJbYV07LS1kLmJsb2NrQ291bnQ7aWYoIS0tZS5ibG9ja0NvdW50JiYhZS5wZW5kaW5nJiYhZS5kb25lKXtkLnF1ZXVlTGF5b3V0KGUpfX19fSxibG9jazpmdW5jdGlvbihhLGIpe3RoaXMuYWRkQmxvY2soImJsb2NrcyIsYSxiKX0sZG9tQmxvY2s6ZnVuY3Rpb24oYSxiKXt0aGlzLmFkZEJsb2NrKCJkb21CbG9ja3MiLGEsYil9LGRvSW52YWxpZGF0ZTpmdW5jdGlvbihjKXt2YXIgZD10aGlzLGI9ZC5wcm9wcyxhPWQuZGlydHksZT1kLnRhcmdldC5vd25lckxheW91dDtkLmRpcnR5PWQuaW52YWxpZD1mYWxzZTtkLnByb3BzPXt9O2Quc3RhdGU9e307ZC5jbGVhckFsbEJsb2NrcygiYmxvY2tzIik7ZC5jbGVhckFsbEJsb2NrcygiZG9tQmxvY2tzIik7aWYoZC53cmFwc0NvbXBvbmVudCl7aWYoIWMpe2QucmVjb3ZlclByb3AoIngiLGIsYSk7ZC5yZWNvdmVyUHJvcCgieSIsYixhKTtpZihkLndpZHRoTW9kZWwuY2FsY3VsYXRlZCl7ZC5yZWNvdmVyUHJvcCgid2lkdGgiLGIsYSl9aWYoZC5oZWlnaHRNb2RlbC5jYWxjdWxhdGVkKXtkLnJlY292ZXJQcm9wKCJoZWlnaHQiLGIsYSl9fWVsc2V7ZC53aWR0aE1vZGVsPWQuc2l6ZU1vZGVsLndpZHRoO2QuaGVpZ2h0TW9kZWw9ZC5zaXplTW9kZWwuaGVpZ2h0fX1pZihlJiZlLm1hbmFnZU1hcmdpbnMpe2QucmVjb3ZlclByb3AoIm1hcmdpbi10b3AiLGIsYSk7ZC5yZWNvdmVyUHJvcCgibWFyZ2luLXJpZ2h0IixiLGEpO2QucmVjb3ZlclByb3AoIm1hcmdpbi1ib3R0b20iLGIsYSk7ZC5yZWNvdmVyUHJvcCgibWFyZ2luLWxlZnQiLGIsYSl9fSxmaXJlVHJpZ2dlcnM6ZnVuY3Rpb24oYixnKXt2YXIgZD10aGlzW2JdW2ddLGM9dGhpcy5jb250ZXh0LGUsYTtpZihkKXtmb3IoYSBpbiBkKXtlPWRbYV07KytlLmZpcmVkVHJpZ2dlcnM7aWYoIWUuZG9uZSYmIWUuYmxvY2tDb3VudCYmIWUucGVuZGluZyl7Yy5xdWV1ZUxheW91dChlKX19fX0sZmx1c2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5kaXJ0eSxjPWIuc3RhdGUsZD1iLmVsO2IuZGlydHlDb3VudD0wO2lmKGIuY2xhc3NMaXN0JiZiLmNsYXNzTGlzdC5kaXJ0eSl7Yi5jbGFzc0xpc3QuZmx1c2goKX1pZigiYXR0cmlidXRlcyIgaW4gYil7ZC5zZXQoYi5hdHRyaWJ1dGVzKTtkZWxldGUgYi5hdHRyaWJ1dGVzfWlmKCJpbm5lckhUTUwiIGluIGIpe2QuaW5uZXJIVE1MPWIuaW5uZXJIVE1MO2RlbGV0ZSBiLmlubmVySFRNTH1pZihjLmNsZWFyQm94V2lkdGgpe2MuY2xlYXJCb3hXaWR0aD0wO2IuZWwuc2V0U3R5bGUoIndpZHRoIixudWxsKTtpZighLS1jLmJsb2Nrcyl7Yi5jb250ZXh0LnF1ZXVlSXRlbUxheW91dHMoYil9fWlmKGEpe2RlbGV0ZSBiLmRpcnR5O2Iud3JpdGVQcm9wcyhhLHRydWUpfX0sZmx1c2hBbmltYXRpb25zOmZ1bmN0aW9uKCl7dmFyIG89dGhpcyxjPW8ubGFzdEJveCxsLG4sZSxoLGcsZCxpLG0sayxhLGI7aWYoYyl7bD1vLnRhcmdldDtuPWwubGF5b3V0JiZsLmxheW91dC5hbmltYXRlO2lmKG4pe2U9RXh0LmlzTnVtYmVyKG4pP246bi5kdXJhdGlvbn1oPUV4dC5PYmplY3QuZ2V0S2V5cyhvLmFuaW1hdGVQb2xpY3kpO2c9RXh0LmFwcGx5KHt9LHtmcm9tOnt9LHRvOnt9LGR1cmF0aW9uOmV8fEV4dC5meC5BbmltLnByb3RvdHlwZS5kdXJhdGlvbn0sbik7Zm9yKGQ9MCxpPTAsbT1oLmxlbmd0aDtpPG07aSsrKXtrPWhbaV07YT1jW2tdO2I9by5wZWVrKGspO2lmKGEhPWIpe2s9by50cmFuc2xhdGVQcm9wc1trXXx8aztnLmZyb21ba109YTtnLnRvW2tdPWI7KytkfX1pZihkKXtpZihvLmlzQ29sbGFwc2luZ09yRXhwYW5kaW5nPT09MSl7bC5jb21wb25lbnRMYXlvdXQudW5kb0xheW91dChvKX1lbHNle28ud3JpdGVQcm9wcyhnLmZyb20pfW8uZWwuYW5pbWF0ZShnKTtFeHQuZnguTWFuYWdlci5nZXRGeFF1ZXVlKG8uZWwuaWQpWzBdLm9uKHthZnRlcmFuaW1hdGU6ZnVuY3Rpb24oKXtpZihvLmlzQ29sbGFwc2luZ09yRXhwYW5kaW5nPT09MSl7bC5jb21wb25lbnRMYXlvdXQucmVkb0xheW91dChvKTtsLmFmdGVyQ29sbGFwc2UodHJ1ZSl9ZWxzZXtpZihvLmlzQ29sbGFwc2luZ09yRXhwYW5kaW5nPT09Mil7bC5hZnRlckV4cGFuZCh0cnVlKX19fX0pfX19LGdldEJvcmRlckluZm86ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5ib3JkZXJJbmZvO2lmKCFiKXthLmJvcmRlckluZm89Yj1hLmNoZWNrQ2FjaGUoImJvcmRlckluZm8iKX1yZXR1cm4gYn0sZ2V0Q2xhc3NMaXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2xhc3NMaXN0fHwodGhpcy5jbGFzc0xpc3Q9bmV3IEV4dC5sYXlvdXQuQ2xhc3NMaXN0KHRoaXMpKX0sZ2V0RWw6ZnVuY3Rpb24oYyxhKXt2YXIgZT10aGlzLGcsZCxiO2lmKGMpe2lmKGMuZG9tKXtkPWN9ZWxzZXtnPWUudGFyZ2V0O2lmKGEpe2c9YX1kPWdbY107aWYodHlwZW9mIGQ9PSJmdW5jdGlvbiIpe2Q9ZC5jYWxsKGcpO2lmKGQ9PT1lLmVsKXtyZXR1cm4gdGhpc319fWlmKGQpe2I9ZS5jb250ZXh0LmdldEVsKGUsZCl9fXJldHVybiBifHxudWxsfSxnZXRGcmFtaW5nOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZighYS5mcmFtaW5nSW5mbyl7YS5mcmFtaW5nSW5mbz1hLnRhcmdldC5mcmFtZVNpemV8fGEubm9GcmFtaW5nfXJldHVybiBhLmZyYW1pbmdJbmZvfSxnZXRGcmFtZUluZm86ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5mcmFtZUluZm8sZCxhO2lmKCFjKXtkPWIuZ2V0RnJhbWluZygpO2E9Yi5nZXRCb3JkZXJJbmZvKCk7Yi5mcmFtZUluZm89Yz17dG9wOmQudG9wK2EudG9wLHJpZ2h0OmQucmlnaHQrYS5yaWdodCxib3R0b206ZC5ib3R0b20rYS5ib3R0b20sbGVmdDpkLmxlZnQrYS5sZWZ0LHdpZHRoOmQud2lkdGgrYS53aWR0aCxoZWlnaHQ6ZC5oZWlnaHQrYS5oZWlnaHR9fXJldHVybiBjfSxnZXRNYXJnaW5JbmZvOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxoPWQubWFyZ2luSW5mbyxiLGEsZyxlLGM7aWYoIWgpe2lmKCFkLndyYXBzQ29tcG9uZW50KXtoPWQuY2hlY2tDYWNoZSgibWFyZ2luSW5mbyIpfWVsc2V7Yj1kLnRhcmdldDtlPWIub3duZXJMYXlvdXQ7Yz1lP2UuaWQ6bnVsbDthPWUmJmUubWFuYWdlTWFyZ2lucztoPWIubWFyZ2luJDtpZihoJiZoLm93bmVySWQhPT1jKXtoPW51bGx9aWYoIWgpe2g9ZC5wYXJzZU1hcmdpbnMoYi5tYXJnaW4pfHxkLmNoZWNrQ2FjaGUoIm1hcmdpbkluZm8iKTtpZihhKXtnPWQucGFyc2VNYXJnaW5zKGIubWFyZ2lucyxlLmRlZmF1bHRNYXJnaW5zKTtpZihnKXtoPXt0b3A6aC50b3ArZy50b3AscmlnaHQ6aC5yaWdodCtnLnJpZ2h0LGJvdHRvbTpoLmJvdHRvbStnLmJvdHRvbSxsZWZ0OmgubGVmdCtnLmxlZnR9fWQuc2V0UHJvcCgibWFyZ2luLXRvcCIsMCk7ZC5zZXRQcm9wKCJtYXJnaW4tcmlnaHQiLDApO2Quc2V0UHJvcCgibWFyZ2luLWJvdHRvbSIsMCk7ZC5zZXRQcm9wKCJtYXJnaW4tbGVmdCIsMCl9aC5vd25lcklkPWM7Yi5tYXJnaW4kPWh9aC53aWR0aD1oLmxlZnQraC5yaWdodDtoLmhlaWdodD1oLnRvcCtoLmJvdHRvbX1kLm1hcmdpbkluZm89aH1yZXR1cm4gaH0sY2xlYXJNYXJnaW5DYWNoZTpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLm1hcmdpbkluZm87ZGVsZXRlIHRoaXMudGFyZ2V0Lm1hcmdpbiR9LGdldFBhZGRpbmdJbmZvOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEucGFkZGluZ0luZm87aWYoIWIpe2EucGFkZGluZ0luZm89Yj1hLmNoZWNrQ2FjaGUoInBhZGRpbmdJbmZvIil9cmV0dXJuIGJ9LGdldFByb3A6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWIucHJvcHNbY107Yi5hZGRUcmlnZ2VyKGMpO3JldHVybiBhfSxnZXREb21Qcm9wOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT0oYi5kaXJ0eSYmKGMgaW4gYi5kaXJ0eSkpP3VuZGVmaW5lZDpiLnByb3BzW2NdO2IuYWRkVHJpZ2dlcihjLHRydWUpO3JldHVybiBhfSxnZXRTdHlsZTpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGI9Yy5zdHlsZXMsZSxkO2lmKGEgaW4gYil7ZD1iW2FdfWVsc2V7ZT1jLnN0eWxlSW5mb1thXTtkPWMuZWwuZ2V0U3R5bGUoYSk7aWYoZSYmZS5wYXJzZUludCl7ZD1wYXJzZUludChkLDEwKXx8MH1iW2FdPWR9cmV0dXJuIGR9LGdldFN0eWxlczpmdW5jdGlvbihwLGIpe3ZhciBtPXRoaXMsZT1tLnN0eWxlcyxxPXt9LGc9MCxkPXAubGVuZ3RoLGssaixsLGEsYyxoLHIsbztiPWJ8fHA7Zm9yKGs9MDtrPGQ7KytrKXthPXBba107aWYoYSBpbiBlKXtxW2Jba11dPWVbYV07KytnO2lmKGsmJmc9PTEpe2o9cC5zbGljZSgwLGspO2w9Yi5zbGljZSgwLGspfX1lbHNle2lmKGcpeyhqfHwoaj1bXSkpLnB1c2goYSk7KGx8fChsPVtdKSkucHVzaChiW2tdKX19fWlmKGc8ZCl7aj1qfHxwO2w9bHx8YjtoPW0uc3R5bGVJbmZvO3I9bS5lbC5nZXRTdHlsZShqKTtmb3Ioaz1qLmxlbmd0aDtrLS07KXthPWpba107Yz1oW2FdO289clthXTtpZihjJiZjLnBhcnNlSW50KXtvPXBhcnNlSW50KG8sMTApfHwwfXFbbFtrXV09bztlW2FdPW99fXJldHVybiBxfSxoYXNQcm9wOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuZ2V0UHJvcChiKTtyZXR1cm4gdHlwZW9mIGEhPSJ1bmRlZmluZWQifSxoYXNEb21Qcm9wOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuZ2V0RG9tUHJvcChiKTtyZXR1cm4gdHlwZW9mIGEhPSJ1bmRlZmluZWQifSxpbnZhbGlkYXRlOmZ1bmN0aW9uKGEpe3RoaXMuaW52YWxpZD10cnVlO3RoaXMuY29udGV4dC5xdWV1ZUludmFsaWRhdGUodGhpcyxhKX0sbWFya0RpcnR5OmZ1bmN0aW9uKCl7aWYoKyt0aGlzLmRpcnR5Q291bnQ9PTEpe3RoaXMuY29udGV4dC5xdWV1ZUZsdXNoKHRoaXMpfX0sb25Cb3hNZWFzdXJlZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuYm94UGFyZW50LGI9dGhpcy5zdGF0ZTtpZihhJiZhLndpZHRoTW9kZWwuc2hyaW5rV3JhcCYmIWIuYm94TWVhc3VyZWQmJnRoaXMubWVhc3VyZXNCb3gpe2IuYm94TWVhc3VyZWQ9MTthLmJveENoaWxkTWVhc3VyZWQoKX19LHBhcnNlTWFyZ2luczpmdW5jdGlvbihkLGMpe2lmKGQ9PT10cnVlKXtkPTV9dmFyIGI9dHlwZW9mIGQsYTtpZihiPT0ic3RyaW5nInx8Yj09Im51bWJlciIpe2E9RXh0LnV0aWwuRm9ybWF0LnBhcnNlQm94KGQpfWVsc2V7aWYoZHx8Yyl7YT17dG9wOjAscmlnaHQ6MCxib3R0b206MCxsZWZ0OjB9O2lmKGMpe0V4dC5hcHBseShhLHRoaXMucGFyc2VNYXJnaW5zKGMpKX1FeHQuYXBwbHkoYSxkKX19cmV0dXJuIGF9LHBlZWs6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHJvcHNbYV19LHJlY292ZXJQcm9wOmZ1bmN0aW9uKGcsYixhKXt2YXIgZT10aGlzLGQ9ZS5wcm9wcyxjO2lmKGcgaW4gYil7ZFtnXT1iW2ddO2lmKGEmJmcgaW4gYSl7Yz1lLmRpcnR5fHwoZS5kaXJ0eT17fSk7Y1tnXT1hW2ddfX19LHJlZG86ZnVuY3Rpb24oYil7dmFyIGU9dGhpcyxjLGEsZDtlLnJldmVydFByb3BzKGUucHJvcHMpO2lmKGImJmUud3JhcHNDb21wb25lbnQpe2lmKGUuY2hpbGRJdGVtcyl7Zm9yKGQ9MCxjPWUuY2hpbGRJdGVtcyxhPWMubGVuZ3RoO2Q8YTtkKyspe2NbZF0ucmVkbyhiKX19Zm9yKGQ9MCxjPWUuY2hpbGRyZW4sYT1jLmxlbmd0aDtkPGE7ZCsrKXtjW2RdLnJlZG8oKX19fSxyZXZlcnRQcm9wczpmdW5jdGlvbihkKXt2YXIgYSxiPXRoaXMuZmx1c2hlZFByb3BzLGM9e307Zm9yKGEgaW4gZCl7aWYoYi5oYXNPd25Qcm9wZXJ0eShhKSl7Y1thXT1kW2FdfX10aGlzLndyaXRlUHJvcHMoYyl9LHNldEF0dHJpYnV0ZTpmdW5jdGlvbihhLGMpe3ZhciBiPXRoaXM7aWYoIWIuYXR0cmlidXRlcyl7Yi5hdHRyaWJ1dGVzPXt9fWIuYXR0cmlidXRlc1thXT1jO2IubWFya0RpcnR5KCl9LHNldEJveDpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2lmKCJsZWZ0IiBpbiBiKXthLnNldFByb3AoIngiLGIubGVmdCl9aWYoInRvcCIgaW4gYil7YS5zZXRQcm9wKCJ5IixiLnRvcCl9YS5zZXRTaXplKGIud2lkdGgsYi5oZWlnaHQpfSxzZXRDb250ZW50SGVpZ2h0OmZ1bmN0aW9uKGEsYil7aWYoIWImJnRoaXMuaGFzUmF3Q29udGVudCl7cmV0dXJuIDF9cmV0dXJuIHRoaXMuc2V0UHJvcCgiY29udGVudEhlaWdodCIsYSl9LHNldENvbnRlbnRXaWR0aDpmdW5jdGlvbihiLGEpe2lmKCFhJiZ0aGlzLmhhc1Jhd0NvbnRlbnQpe3JldHVybiAxfXJldHVybiB0aGlzLnNldFByb3AoImNvbnRlbnRXaWR0aCIsYil9LHNldENvbnRlbnRTaXplOmZ1bmN0aW9uKGMsYSxiKXtyZXR1cm4gdGhpcy5zZXRDb250ZW50V2lkdGgoYyxiKSt0aGlzLnNldENvbnRlbnRIZWlnaHQoYSxiKT09Mn0sc2V0UHJvcDpmdW5jdGlvbihkLGMsYSl7dmFyIGI9dGhpcyxoPXR5cGVvZiBjLGcsZTtpZihoPT0idW5kZWZpbmVkInx8KGg9PT0ibnVtYmVyIiYmaXNOYU4oYykpKXtyZXR1cm4gMH1pZihiLnByb3BzW2RdPT09Yyl7cmV0dXJuIDF9Yi5wcm9wc1tkXT1jOysrYi5jb250ZXh0LnByb2dyZXNzQ291bnQ7aWYoYT09PWZhbHNlKXtiLmZpcmVUcmlnZ2VycygiZG9tVHJpZ2dlcnMiLGQpO2IuY2xlYXJCbG9ja3MoImRvbUJsb2NrcyIsZCl9ZWxzZXtlPWIuc3R5bGVJbmZvW2RdO2lmKGUpe2lmKCFiLmRpcnR5KXtiLmRpcnR5PXt9fWlmKGQ9PSJ3aWR0aCJ8fGQ9PSJoZWlnaHQiKXtnPWIuaXNCb3JkZXJCb3hWYWx1ZTtpZihnPT1udWxsKXtiLmlzQm9yZGVyQm94VmFsdWU9Zz0hIWIuZWwuaXNCb3JkZXJCb3goKX1pZighZyl7Yi5ib3JkZXJJbmZvfHxiLmdldEJvcmRlckluZm8oKTtiLnBhZGRpbmdJbmZvfHxiLmdldFBhZGRpbmdJbmZvKCl9fWIuZGlydHlbZF09YztiLm1hcmtEaXJ0eSgpfX1iLmZpcmVUcmlnZ2VycygidHJpZ2dlcnMiLGQpO2IuY2xlYXJCbG9ja3MoImJsb2NrcyIsZCk7cmV0dXJuIDF9LHNldEhlaWdodDpmdW5jdGlvbihhLGMpe3ZhciBlPXRoaXMsYj1lLnRhcmdldCxoLGQsZztpZihhPDApe2E9MH1pZighZS53cmFwc0NvbXBvbmVudCl7aWYoIWUuc2V0UHJvcCgiaGVpZ2h0IixhLGMpKXtyZXR1cm4gTmFOfX1lbHNle2E9RXh0Lk51bWJlci5jb25zdHJhaW4oYSxiLm1pbkhlaWdodHx8MCxiLm1heEhlaWdodCk7aWYoIWUuc2V0UHJvcCgiaGVpZ2h0IixhLGMpKXtyZXR1cm4gTmFOfWg9ZS5mcmFtZUJvZHlDb250ZXh0O2lmKGgpe2Q9ZS5nZXRGcmFtZUluZm8oKTtoLnNldEhlaWdodChhLWQuaGVpZ2h0LGMpfX1yZXR1cm4gYX0sc2V0V2lkdGg6ZnVuY3Rpb24oYyxiKXt2YXIgZT10aGlzLGE9ZS50YXJnZXQsaCxkLGc7aWYoYzwwKXtjPTB9aWYoIWUud3JhcHNDb21wb25lbnQpe2lmKCFlLnNldFByb3AoIndpZHRoIixjLGIpKXtyZXR1cm4gTmFOfX1lbHNle2M9RXh0Lk51bWJlci5jb25zdHJhaW4oYyxhLm1pbldpZHRofHwwLGEubWF4V2lkdGgpO2lmKCFlLnNldFByb3AoIndpZHRoIixjLGIpKXtyZXR1cm4gTmFOfWg9ZS5mcmFtZUJvZHlDb250ZXh0O2lmKGgpe2Q9ZS5nZXRGcmFtZUluZm8oKTtoLnNldFdpZHRoKGMtZC53aWR0aCxiKX19cmV0dXJuIGN9LHNldFNpemU6ZnVuY3Rpb24oYyxhLGIpe3RoaXMuc2V0V2lkdGgoYyxiKTt0aGlzLnNldEhlaWdodChhLGIpfSx0cmFuc2xhdGVQcm9wczp7eDoibGVmdCIseToidG9wIn0sdW5kbzpmdW5jdGlvbihiKXt2YXIgZT10aGlzLGMsYSxkO2UucmV2ZXJ0UHJvcHMoZS5sYXN0Qm94KTtpZihiJiZlLndyYXBzQ29tcG9uZW50KXtpZihlLmNoaWxkSXRlbXMpe2ZvcihkPTAsYz1lLmNoaWxkSXRlbXMsYT1jLmxlbmd0aDtkPGE7ZCsrKXtjW2RdLnVuZG8oYil9fWZvcihkPTAsYz1lLmNoaWxkcmVuLGE9Yy5sZW5ndGg7ZDxhO2QrKyl7Y1tkXS51bmRvKCl9fX0sdW5zZXRQcm9wOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuZGlydHk7ZGVsZXRlIHRoaXMucHJvcHNbYl07aWYoYSl7ZGVsZXRlIGFbYl19fSx3cml0ZVByb3BzOmZ1bmN0aW9uKGQsYyl7aWYoIShkJiZ0eXBlb2YgZD09Im9iamVjdCIpKXtyZXR1cm59dmFyIHU9dGhpcyxiPXUuZWwsZz17fSxlPTAsYT11LnN0eWxlSW5mbyx0LGwsbyxrPSJ4IiBpbiBkLGo9InkiIGluIGQsaT1kLngsaD1kLnkscD1kLndpZHRoLG49ZC5oZWlnaHQscz11LmlzQm9yZGVyQm94VmFsdWUsdj11LnRhcmdldCxxPU1hdGgubWF4LHI9MCxtPTA7aWYoImRpc3BsYXllZCIgaW4gZCl7Yi5zZXREaXNwbGF5ZWQoZC5kaXNwbGF5ZWQpfWZvcihsIGluIGQpe2lmKGMpe3UuZmlyZVRyaWdnZXJzKCJkb21UcmlnZ2VycyIsbCk7dS5jbGVhckJsb2NrcygiZG9tQmxvY2tzIixsKTt1LmZsdXNoZWRQcm9wc1tsXT0xfXQ9YVtsXTtpZih0JiZ0LmRvbSl7aWYodC5zdWZmaXgmJihvPXBhcnNlSW50KGRbbF0sMTApKSl7Z1tsXT1vK3Quc3VmZml4fWVsc2V7Z1tsXT1kW2xdfSsrZX19aWYoa3x8ail7aWYodi5pc0NvbXBvbmVudCl7di5zZXRQb3NpdGlvbihpfHx1LnByb3BzLngsaHx8dS5wcm9wcy55KX1lbHNle2lmKGspe2cubGVmdD1pKyJweCI7KytlfWlmKGope2cudG9wPWgrInB4IjsrK2V9fX1pZighcyYmKHA+MHx8bj4wKSl7aWYoIXUuZnJhbWVCb2R5Q29udGV4dCl7cj11LnBhZGRpbmdJbmZvLndpZHRoO209dS5wYWRkaW5nSW5mby5oZWlnaHR9aWYocCl7cD1xKHBhcnNlSW50KHAsMTApLSh1LmJvcmRlckluZm8ud2lkdGgrciksMCk7Zy53aWR0aD1wKyJweCI7KytlfWlmKG4pe249cShwYXJzZUludChuLDEwKS0odS5ib3JkZXJJbmZvLmhlaWdodCttKSwwKTtnLmhlaWdodD1uKyJweCI7KytlfX1pZihlKXtiLnNldFN0eWxlKGcpfX19LGZ1bmN0aW9uKCl7dmFyIGM9e2RvbTp0cnVlLHBhcnNlSW50OnRydWUsc3VmZml4OiJweCJ9LGI9e2RvbTp0cnVlfSxhPXtkb206ZmFsc2V9O3RoaXMucHJvdG90eXBlLnN0eWxlSW5mbz17Y2hpbGRyZW5Eb25lOmEsY29tcG9uZW50Q2hpbGRyZW5Eb25lOmEsY29udGFpbmVyQ2hpbGRyZW5Eb25lOmEsY29udGFpbmVyTGF5b3V0RG9uZTphLGRpc3BsYXllZDphLGRvbmU6YSx4OmEseTphLGxlZnQ6Yyx0b3A6YyxyaWdodDpjLGJvdHRvbTpjLHdpZHRoOmMsaGVpZ2h0OmMsImJvcmRlci10b3Atd2lkdGgiOmMsImJvcmRlci1yaWdodC13aWR0aCI6YywiYm9yZGVyLWJvdHRvbS13aWR0aCI6YywiYm9yZGVyLWxlZnQtd2lkdGgiOmMsIm1hcmdpbi10b3AiOmMsIm1hcmdpbi1yaWdodCI6YywibWFyZ2luLWJvdHRvbSI6YywibWFyZ2luLWxlZnQiOmMsInBhZGRpbmctdG9wIjpjLCJwYWRkaW5nLXJpZ2h0IjpjLCJwYWRkaW5nLWJvdHRvbSI6YywicGFkZGluZy1sZWZ0IjpjLCJsaW5lLWhlaWdodCI6YixkaXNwbGF5OmJ9fSk7RXh0LmRlZmluZSgiRXh0LnV0aWwuQmluZGFibGUiLHtiaW5kU3RvcmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5zdG9yZTtpZighYiYmYy5zdG9yZSl7aWYoYSE9PWQmJmQuYXV0b0Rlc3Ryb3kpe2QuZGVzdHJveVN0b3JlKCl9ZWxzZXtjLnVuYmluZFN0b3JlTGlzdGVuZXJzKGQpfWMub25VbmJpbmRTdG9yZShkLGIpfWlmKGEpe2E9RXh0LmRhdGEuU3RvcmVNYW5hZ2VyLmxvb2t1cChhKTtjLmJpbmRTdG9yZUxpc3RlbmVycyhhKTtjLm9uQmluZFN0b3JlKGEsYil9Yy5zdG9yZT1hfHxudWxsO3JldHVybiBjfSxnZXRTdG9yZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0b3JlfSx1bmJpbmRTdG9yZUxpc3RlbmVyczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnN0b3JlTGlzdGVuZXJzO2lmKGIpe2EudW4oYil9fSxiaW5kU3RvcmVMaXN0ZW5lcnM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcyxiPUV4dC5hcHBseSh7fSxjLmdldFN0b3JlTGlzdGVuZXJzKCkpO2lmKCFiLnNjb3BlKXtiLnNjb3BlPWN9Yy5zdG9yZUxpc3RlbmVycz1iO2Eub24oYil9LGdldFN0b3JlTGlzdGVuZXJzOkV4dC5lbXB0eUZuLG9uVW5iaW5kU3RvcmU6RXh0LmVtcHR5Rm4sb25CaW5kU3RvcmU6RXh0LmVtcHR5Rm59KTtFeHQuZGVmaW5lKCJFeHQudXRpbC5FbGVtZW50Q29udGFpbmVyIix7Y2hpbGRFbHM6W10sY29uc3RydWN0b3I6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE7aWYoYi5oYXNPd25Qcm9wZXJ0eSgiY2hpbGRFbHMiKSl7YT1iLmNoaWxkRWxzO2RlbGV0ZSBiLmNoaWxkRWxzO2IuYWRkQ2hpbGRFbHMuYXBwbHkoYixhKX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGQ9ZS5nZXRDaGlsZEVscygpLGcsYSxjLGI7Zm9yKGM9ZC5sZW5ndGg7Yy0tOyl7YT1kW2NdO2lmKHR5cGVvZiBhIT0ic3RyaW5nIil7YT1hLm5hbWV9Zz1lW2FdO2lmKGcpe2VbYV09bnVsbDtnLnJlbW92ZSgpfX19LGFkZENoaWxkRWxzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWFyZ3VtZW50cztpZihiLmhhc093blByb3BlcnR5KCJjaGlsZEVscyIpKXtiLmNoaWxkRWxzLnB1c2guYXBwbHkoYi5jaGlsZEVscyxhKX1lbHNle2IuY2hpbGRFbHM9Yi5nZXRDaGlsZEVscygpLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhKSl9Yi5wcnVuZShiLmNoaWxkRWxzLGZhbHNlKX0sYXBwbHlDaGlsZEVsczpmdW5jdGlvbihiLGEpe3ZhciBlPXRoaXMsZz1lLmdldENoaWxkRWxzKCksaixrLGQsYyxoO2o9KGF8fGUuaWQpKyItIjtmb3IoZD1nLmxlbmd0aDtkLS07KXtrPWdbZF07aWYodHlwZW9mIGs9PSJzdHJpbmciKXtoPWIuZ2V0QnlJZChqK2spfWVsc2V7aWYoKGM9ay5zZWxlY3QpKXtoPUV4dC5zZWxlY3QoYyx0cnVlLGIuZG9tKX1lbHNle2lmKChjPWsuc2VsZWN0Tm9kZSkpe2g9RXh0LmdldChFeHQuRG9tUXVlcnkuc2VsZWN0Tm9kZShjLGIuZG9tKSl9ZWxzZXtoPWIuZ2V0QnlJZChrLmlkfHwoaitrLml0ZW1JZCkpfX1rPWsubmFtZX1lW2tdPWh9fSxnZXRDaGlsZEVsczpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYTtpZihiLmhhc093blByb3BlcnR5KCJjaGlsZEVscyIpKXtyZXR1cm4gYi5jaGlsZEVsc31hPWIuc2VsZjtyZXR1cm4gYS4kY2hpbGRFbHN8fGIuZ2V0Q2xhc3NDaGlsZEVscyhhKX0sZ2V0Q2xhc3NDaGlsZEVsczpmdW5jdGlvbihvKXt2YXIgaz10aGlzLHA9by4kY2hpbGRFbHMsbSxkLGIsaixuLGgsYSxjLGUsZyxsO2lmKCFwKXtnPW8uc3VwZXJjbGFzcztpZihnKXtnPWcuc2VsZjtjPVtnLiRjaGlsZEVsc3x8ay5nZXRDbGFzc0NoaWxkRWxzKGcpXTtsPWcucHJvdG90eXBlLm1peGluc3x8e319ZWxzZXtjPVtdO2w9e319ZT1vLnByb3RvdHlwZTtoPWUubWl4aW5zO2ZvcihhIGluIGgpe2lmKGguaGFzT3duUHJvcGVydHkoYSkmJiFsLmhhc093blByb3BlcnR5KGEpKXtuPWhbYV0uc2VsZjtjLnB1c2gobi4kY2hpbGRFbHN8fGsuZ2V0Q2xhc3NDaGlsZEVscyhuKSl9fWMucHVzaChlLmhhc093blByb3BlcnR5KCJjaGlsZEVscyIpJiZlLmNoaWxkRWxzKTtmb3IoZD0wLGI9Yy5sZW5ndGg7ZDxiOysrZCl7bT1jW2RdO2lmKG0mJm0ubGVuZ3RoKXtpZighcCl7cD1tfWVsc2V7aWYoIWope2o9dHJ1ZTtwPXAuc2xpY2UoMCl9cC5wdXNoLmFwcGx5KHAsbSl9fX1vLiRjaGlsZEVscz1wPShwP2sucHJ1bmUocCwhaik6W10pfXJldHVybiBwfSxwcnVuZTpmdW5jdGlvbihjLGUpe3ZhciBiPWMubGVuZ3RoLGQ9e30sYTt3aGlsZShiLS0pe2E9Y1tiXTtpZih0eXBlb2YgYSE9InN0cmluZyIpe2E9YS5uYW1lfWlmKCFkW2FdKXtkW2FdPTF9ZWxzZXtpZihlKXtlPWZhbHNlO2M9Yy5zbGljZSgwKX1FeHQuQXJyYXkuZXJhc2UoYyxiLDEpfX1yZXR1cm4gY30scmVtb3ZlQ2hpbGRFbHM6ZnVuY3Rpb24oZyl7dmFyIGU9dGhpcyxhPWUuZ2V0Q2hpbGRFbHMoKSxkPShlLmNoaWxkRWxzPVtdKSxoLGIsYztmb3IoYj0wLGg9YS5sZW5ndGg7YjxoOysrYil7Yz1hW2JdO2lmKCFnKGMpKXtkLnB1c2goYyl9fX19KTtFeHQuZGVmaW5lKCJFeHQudXRpbC5GaWx0ZXIiLHthbnlNYXRjaDpmYWxzZSxleGFjdE1hdGNoOmZhbHNlLGNhc2VTZW5zaXRpdmU6ZmFsc2UsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztFeHQuYXBwbHkoYixhKTtiLmZpbHRlcj1iLmZpbHRlcnx8Yi5maWx0ZXJGbjtpZihiLmZpbHRlcj09PXVuZGVmaW5lZCl7aWYoYi5wcm9wZXJ0eT09PXVuZGVmaW5lZHx8Yi52YWx1ZT09PXVuZGVmaW5lZCl7fWVsc2V7Yi5maWx0ZXI9Yi5jcmVhdGVGaWx0ZXJGbigpfWIuZmlsdGVyRm49Yi5maWx0ZXJ9fSxjcmVhdGVGaWx0ZXJGbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYz1hLmNyZWF0ZVZhbHVlTWF0Y2hlcigpLGI9YS5wcm9wZXJ0eTtyZXR1cm4gZnVuY3Rpb24oZCl7dmFyIGU9YS5nZXRSb290LmNhbGwoYSxkKVtiXTtyZXR1cm4gYz09PW51bGw/ZT09PW51bGw6Yy50ZXN0KGUpfX0sZ2V0Um9vdDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLnJvb3Q7cmV0dXJuIGE9PT11bmRlZmluZWQ/YjpiW2FdfSxjcmVhdGVWYWx1ZU1hdGNoZXI6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGU9ZC52YWx1ZSxnPWQuYW55TWF0Y2gsYz1kLmV4YWN0TWF0Y2gsYT1kLmNhc2VTZW5zaXRpdmUsYj1FeHQuU3RyaW5nLmVzY2FwZVJlZ2V4O2lmKGU9PT1udWxsKXtyZXR1cm4gZX1pZighZS5leGVjKXtlPVN0cmluZyhlKTtpZihnPT09dHJ1ZSl7ZT1iKGUpfWVsc2V7ZT0iXiIrYihlKTtpZihjPT09dHJ1ZSl7ZSs9IiQifX1lPW5ldyBSZWdFeHAoZSxhPyIiOiJpIil9cmV0dXJuIGV9fSk7RXh0LmRlZmluZSgiRXh0LnV0aWwuSW5mbGVjdG9yIix7c2luZ2xldG9uOnRydWUscGx1cmFsczpbWygvKHF1aXopJC9pKSwiJDF6ZXMiXSxbKC9eKG94KSQvaSksIiQxZW4iXSxbKC8oW218bF0pb3VzZSQvaSksIiQxaWNlIl0sWygvKG1hdHJ8dmVydHxpbmQpaXh8ZXgkL2kpLCIkMWljZXMiXSxbKC8oeHxjaHxzc3xzaCkkL2kpLCIkMWVzIl0sWygvKFteYWVpb3V5XXxxdSl5JC9pKSwiJDFpZXMiXSxbKC8oaGl2ZSkkL2kpLCIkMXMiXSxbKC8oPzooW15mXSlmZXwoW2xyXSlmKSQvaSksIiQxJDJ2ZXMiXSxbKC9zaXMkL2kpLCJzZXMiXSxbKC8oW3RpXSl1bSQvaSksIiQxYSJdLFsoLyhidWZmYWx8dG9tYXR8cG90YXQpbyQvaSksIiQxb2VzIl0sWygvKGJ1KXMkL2kpLCIkMXNlcyJdLFsoLyhhbGlhc3xzdGF0dXN8c2V4KSQvaSksIiQxZXMiXSxbKC8ob2N0b3B8dmlyKXVzJC9pKSwiJDFpIl0sWygvKGF4fHRlc3QpaXMkL2kpLCIkMWVzIl0sWygvXnBlcnNvbiQvKSwicGVvcGxlIl0sWygvXm1hbiQvKSwibWVuIl0sWygvXihjaGlsZCkkLyksIiQxcmVuIl0sWygvcyQvaSksInMiXSxbKC8kLyksInMiXV0sc2luZ3VsYXJzOltbKC8ocXVpeil6ZXMkL2kpLCIkMSJdLFsoLyhtYXRyKWljZXMkL2kpLCIkMWl4Il0sWygvKHZlcnR8aW5kKWljZXMkL2kpLCIkMWV4Il0sWygvXihveCllbi9pKSwiJDEiXSxbKC8oYWxpYXN8c3RhdHVzKWVzJC9pKSwiJDEiXSxbKC8ob2N0b3B8dmlyKWkkL2kpLCIkMXVzIl0sWygvKGNyaXN8YXh8dGVzdCllcyQvaSksIiQxaXMiXSxbKC8oc2hvZSlzJC9pKSwiJDEiXSxbKC8obyllcyQvaSksIiQxIl0sWygvKGJ1cyllcyQvaSksIiQxIl0sWygvKFttfGxdKWljZSQvaSksIiQxb3VzZSJdLFsoLyh4fGNofHNzfHNoKWVzJC9pKSwiJDEiXSxbKC8obSlvdmllcyQvaSksIiQxb3ZpZSJdLFsoLyhzKWVyaWVzJC9pKSwiJDFlcmllcyJdLFsoLyhbXmFlaW91eV18cXUpaWVzJC9pKSwiJDF5Il0sWygvKFtscl0pdmVzJC9pKSwiJDFmIl0sWygvKHRpdmUpcyQvaSksIiQxIl0sWygvKGhpdmUpcyQvaSksIiQxIl0sWygvKFteZl0pdmVzJC9pKSwiJDFmZSJdLFsoLyheYW5hbHkpc2VzJC9pKSwiJDFzaXMiXSxbKC8oKGEpbmFseXwoYilhfChkKWlhZ25vfChwKWFyZW50aGV8KHApcm9nbm98KHMpeW5vcHwodCloZSlzZXMkL2kpLCIkMSQyc2lzIl0sWygvKFt0aV0pYSQvaSksIiQxdW0iXSxbKC8obilld3MkL2kpLCIkMWV3cyJdLFsoL3Blb3BsZSQvaSksInBlcnNvbiJdLFsoL3MkL2kpLCIiXV0sdW5jb3VudGFibGU6WyJzaGVlcCIsImZpc2giLCJzZXJpZXMiLCJzcGVjaWVzIiwibW9uZXkiLCJyaWNlIiwiaW5mb3JtYXRpb24iLCJlcXVpcG1lbnQiLCJncmFzcyIsIm11ZCIsIm9mZnNwcmluZyIsImRlZXIiLCJtZWFucyJdLHNpbmd1bGFyOmZ1bmN0aW9uKGIsYSl7dGhpcy5zaW5ndWxhcnMudW5zaGlmdChbYixhXSl9LHBsdXJhbDpmdW5jdGlvbihiLGEpe3RoaXMucGx1cmFscy51bnNoaWZ0KFtiLGFdKX0sY2xlYXJTaW5ndWxhcnM6ZnVuY3Rpb24oKXt0aGlzLnNpbmd1bGFycz1bXX0sY2xlYXJQbHVyYWxzOmZ1bmN0aW9uKCl7dGhpcy5wbHVyYWxzPVtdfSxpc1RyYW5zbnVtZXJhbDpmdW5jdGlvbihhKXtyZXR1cm4gRXh0LkFycmF5LmluZGV4T2YodGhpcy51bmNvdW50YWJsZSxhKSE9LTF9LHBsdXJhbGl6ZTpmdW5jdGlvbihnKXtpZih0aGlzLmlzVHJhbnNudW1lcmFsKGcpKXtyZXR1cm4gZ312YXIgZT10aGlzLnBsdXJhbHMsZD1lLmxlbmd0aCxhLGMsYjtmb3IoYj0wO2I8ZDtiKyspe2E9ZVtiXTtjPWFbMF07aWYoYz09Z3x8KGMudGVzdCYmYy50ZXN0KGcpKSl7cmV0dXJuIGcucmVwbGFjZShjLGFbMV0pfX1yZXR1cm4gZ30sc2luZ3VsYXJpemU6ZnVuY3Rpb24oZyl7aWYodGhpcy5pc1RyYW5zbnVtZXJhbChnKSl7cmV0dXJuIGd9dmFyIGU9dGhpcy5zaW5ndWxhcnMsZD1lLmxlbmd0aCxhLGMsYjtmb3IoYj0wO2I8ZDtiKyspe2E9ZVtiXTtjPWFbMF07aWYoYz09Z3x8KGMudGVzdCYmYy50ZXN0KGcpKSl7cmV0dXJuIGcucmVwbGFjZShjLGFbMV0pfX1yZXR1cm4gZ30sY2xhc3NpZnk6ZnVuY3Rpb24oYSl7cmV0dXJuIEV4dC5TdHJpbmcuY2FwaXRhbGl6ZSh0aGlzLnNpbmd1bGFyaXplKGEpKX0sb3JkaW5hbGl6ZTpmdW5jdGlvbihkKXt2YXIgYj1wYXJzZUludChkLDEwKSxjPWIlMTAsYT1iJTEwMDtpZigxMTw9YSYmYTw9MTMpe3JldHVybiBkKyJ0aCJ9ZWxzZXtzd2l0Y2goYyl7Y2FzZSAxOnJldHVybiBkKyJzdCI7Y2FzZSAyOnJldHVybiBkKyJuZCI7Y2FzZSAzOnJldHVybiBkKyJyZCI7ZGVmYXVsdDpyZXR1cm4gZCsidGgifX19fSxmdW5jdGlvbigpe3ZhciBiPXthbHVtbnVzOiJhbHVtbmkiLGNhY3R1czoiY2FjdGkiLGZvY3VzOiJmb2NpIixudWNsZXVzOiJudWNsZWkiLHJhZGl1czoicmFkaWkiLHN0aW11bHVzOiJzdGltdWxpIixlbGxpcHNpczoiZWxsaXBzZXMiLHBhcmFseXNpczoicGFyYWx5c2VzIixvYXNpczoib2FzZXMiLGFwcGVuZGl4OiJhcHBlbmRpY2VzIixpbmRleDoiaW5kZXhlcyIsYmVhdToiYmVhdXgiLGJ1cmVhdToiYnVyZWF1eCIsdGFibGVhdToidGFibGVhdXgiLHdvbWFuOiJ3b21lbiIsY2hpbGQ6ImNoaWxkcmVuIixtYW46Im1lbiIsY29ycHVzOiJjb3Jwb3JhIixjcml0ZXJpb246ImNyaXRlcmlhIixjdXJyaWN1bHVtOiJjdXJyaWN1bGEiLGdlbnVzOiJnZW5lcmEiLG1lbW9yYW5kdW06Im1lbW9yYW5kYSIscGhlbm9tZW5vbjoicGhlbm9tZW5hIixmb290OiJmZWV0Iixnb29zZToiZ2Vlc2UiLHRvb3RoOiJ0ZWV0aCIsYW50ZW5uYToiYW50ZW5uYWUiLGZvcm11bGE6ImZvcm11bGFlIixuZWJ1bGE6Im5lYnVsYWUiLHZlcnRlYnJhOiJ2ZXJ0ZWJyYWUiLHZpdGE6InZpdGFlIn0sYTtmb3IoYSBpbiBiKXt0aGlzLnBsdXJhbChhLGJbYV0pO3RoaXMuc2luZ3VsYXIoYlthXSxhKX19KTtFeHQuZGVmaW5lKCJFeHQudXRpbC5NZW1lbnRvIiwoZnVuY3Rpb24oKXtmdW5jdGlvbiBkKGksaCxqLGcpe2lbZz9nK2o6al09aFtqXX1mdW5jdGlvbiBjKGgsZyxpKXtkZWxldGUgaFtpXX1mdW5jdGlvbiBlKGssaixsLGkpe3ZhciBnPWk/aStsOmwsaD1rW2ddO2lmKGh8fGsuaGFzT3duUHJvcGVydHkoZykpe2EoaixsLGgpfX1mdW5jdGlvbiBhKGgsaSxnKXtpZihFeHQuaXNEZWZpbmVkKGcpKXtoW2ldPWd9ZWxzZXtkZWxldGUgaFtpXX19ZnVuY3Rpb24gYihoLG0sbCxpLGope2lmKG0pe2lmKEV4dC5pc0FycmF5KGkpKXt2YXIgayxnPWkubGVuZ3RoO2ZvcihrPTA7azxnO2srKyl7aChtLGwsaVtrXSxqKX19ZWxzZXtoKG0sbCxpLGopfX19cmV0dXJue2RhdGE6bnVsbCx0YXJnZXQ6bnVsbCxjb25zdHJ1Y3RvcjpmdW5jdGlvbihoLGcpe2lmKGgpe3RoaXMudGFyZ2V0PWg7aWYoZyl7dGhpcy5jYXB0dXJlKGcpfX19LGNhcHR1cmU6ZnVuY3Rpb24oZyxqLGkpe3ZhciBoPXRoaXM7YihkLGguZGF0YXx8KGguZGF0YT17fSksanx8aC50YXJnZXQsZyxpKX0scmVtb3ZlOmZ1bmN0aW9uKGcpe2IoYyx0aGlzLmRhdGEsbnVsbCxnKX0scmVzdG9yZTpmdW5jdGlvbihoLGcsaixpKXtiKGUsdGhpcy5kYXRhLGp8fHRoaXMudGFyZ2V0LGgsaSk7aWYoZyE9PWZhbHNlKXt0aGlzLnJlbW92ZShoKX19LHJlc3RvcmVBbGw6ZnVuY3Rpb24oZyxrKXt2YXIgaT10aGlzLGg9a3x8dGhpcy50YXJnZXQsaj1pLmRhdGEsbDtmb3IobCBpbiBqKXtpZihqLmhhc093blByb3BlcnR5KGwpKXthKGgsbCxqW2xdKX19aWYoZyE9PWZhbHNlKXtkZWxldGUgaS5kYXRhfX19fSgpKSk7RXh0LmRlZmluZSgiRXh0LnV0aWwuT2JzZXJ2YWJsZSIse3JlcXVpcmVzOlsiRXh0LnV0aWwuRXZlbnQiXSxzdGF0aWNzOntyZWxlYXNlQ2FwdHVyZTpmdW5jdGlvbihhKXthLmZpcmVFdmVudD10aGlzLnByb3RvdHlwZS5maXJlRXZlbnR9LGNhcHR1cmU6ZnVuY3Rpb24oYyxiLGEpe2MuZmlyZUV2ZW50PUV4dC5GdW5jdGlvbi5jcmVhdGVJbnRlcmNlcHRvcihjLmZpcmVFdmVudCxiLGEpfSxvYnNlcnZlOmZ1bmN0aW9uKGEsYil7aWYoYSl7aWYoIWEuaXNPYnNlcnZhYmxlKXtFeHQuYXBwbHlJZihhLG5ldyB0aGlzKCkpO3RoaXMuY2FwdHVyZShhLnByb3RvdHlwZSxhLmZpcmVFdmVudCxhKX1pZihFeHQuaXNPYmplY3QoYikpe2Eub24oYil9fXJldHVybiBhfSxwcmVwYXJlQ2xhc3M6ZnVuY3Rpb24oZCxjKXtpZighZC5IYXNMaXN0ZW5lcnMpe3ZhciBiPUV4dC51dGlsLk9ic2VydmFibGUsZT1mdW5jdGlvbigpe30sYT1kLnN1cGVyY2xhc3MuSGFzTGlzdGVuZXJzfHwoYyYmYy5IYXNMaXN0ZW5lcnMpfHxiLkhhc0xpc3RlbmVycztkLnByb3RvdHlwZS5IYXNMaXN0ZW5lcnM9ZC5IYXNMaXN0ZW5lcnM9ZTtlLnByb3RvdHlwZT1kLmhhc0xpc3RlbmVycz1uZXcgYSgpfX19LGlzT2JzZXJ2YWJsZTp0cnVlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7RXh0LmFwcGx5KGIsYSk7aWYoIWIuaGFzTGlzdGVuZXJzKXtiLmhhc0xpc3RlbmVycz1uZXcgYi5IYXNMaXN0ZW5lcnMoKX1iLmV2ZW50cz1iLmV2ZW50c3x8e307aWYoYi5saXN0ZW5lcnMpe2Iub24oYi5saXN0ZW5lcnMpO2IubGlzdGVuZXJzPW51bGx9aWYoYi5idWJibGVFdmVudHMpe2IuZW5hYmxlQnViYmxlKGIuYnViYmxlRXZlbnRzKX19LG9uQ2xhc3NFeHRlbmRlZDpmdW5jdGlvbihhKXtpZighYS5IYXNMaXN0ZW5lcnMpe0V4dC51dGlsLk9ic2VydmFibGUucHJlcGFyZUNsYXNzKGEpfX0sZXZlbnRPcHRpb25zUmU6L14oPzpzY29wZXxkZWxheXxidWZmZXJ8c2luZ2xlfHN0b3BFdmVudHxwcmV2ZW50RGVmYXVsdHxzdG9wUHJvcGFnYXRpb258bm9ybWFsaXplZHxhcmdzfGRlbGVnYXRlfGVsZW1lbnR8dmVydGljYWx8aG9yaXpvbnRhbHxmcmVlemVFdmVudCkkLyxhZGRNYW5hZ2VkTGlzdGVuZXI6ZnVuY3Rpb24oaSxkLGcsZSxjKXt2YXIgaD10aGlzLGE9aC5tYW5hZ2VkTGlzdGVuZXJzPWgubWFuYWdlZExpc3RlbmVyc3x8W10sYjtpZih0eXBlb2YgZCE9PSJzdHJpbmciKXtjPWQ7Zm9yKGQgaW4gYyl7aWYoYy5oYXNPd25Qcm9wZXJ0eShkKSl7Yj1jW2RdO2lmKCFoLmV2ZW50T3B0aW9uc1JlLnRlc3QoZCkpe2guYWRkTWFuYWdlZExpc3RlbmVyKGksZCxiLmZufHxiLGIuc2NvcGV8fGMuc2NvcGUsYi5mbj9iOmMpfX19fWVsc2V7YS5wdXNoKHtpdGVtOmksZW5hbWU6ZCxmbjpnLHNjb3BlOmUsb3B0aW9uczpjfSk7aS5vbihkLGcsZSxjKX19LHJlbW92ZU1hbmFnZWRMaXN0ZW5lcjpmdW5jdGlvbihqLGMsZyxrKXt2YXIgZT10aGlzLGwsYixoLGEsZDtpZih0eXBlb2YgYyE9PSJzdHJpbmciKXtsPWM7Zm9yKGMgaW4gbCl7aWYobC5oYXNPd25Qcm9wZXJ0eShjKSl7Yj1sW2NdO2lmKCFlLmV2ZW50T3B0aW9uc1JlLnRlc3QoYykpe2UucmVtb3ZlTWFuYWdlZExpc3RlbmVyKGosYyxiLmZufHxiLGIuc2NvcGV8fGwuc2NvcGUpfX19fWg9ZS5tYW5hZ2VkTGlzdGVuZXJzP2UubWFuYWdlZExpc3RlbmVycy5zbGljZSgpOltdO2ZvcihkPTAsYT1oLmxlbmd0aDtkPGE7ZCsrKXtlLnJlbW92ZU1hbmFnZWRMaXN0ZW5lckl0ZW0oZmFsc2UsaFtkXSxqLGMsZyxrKX19LGZpcmVFdmVudDpmdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTt2YXIgZT10aGlzLGM9ZS5ldmVudHMsZD1jJiZjW2FdLGI9dHJ1ZTtpZihkJiZlLmhhc0xpc3RlbmVyc1thXSl7Yj1lLmNvbnRpbnVlRmlyZUV2ZW50KGEsRXh0LkFycmF5LnNsaWNlKGFyZ3VtZW50cywxKSxkLmJ1YmJsZSl9cmV0dXJuIGJ9LGNvbnRpbnVlRmlyZUV2ZW50OmZ1bmN0aW9uKGMsZSxiKXt2YXIgaD10aGlzLGEsZyxkPXRydWU7ZG97aWYoaC5ldmVudHNTdXNwZW5kZWQpe2lmKChhPWguZXZlbnRRdWV1ZSkpe2EucHVzaChbYyxlLGJdKX1yZXR1cm4gZH1lbHNle2c9aC5ldmVudHNbY107aWYoZyYmZyE9dHJ1ZSl7aWYoKGQ9Zy5maXJlLmFwcGx5KGcsZSkpPT09ZmFsc2Upe2JyZWFrfX19fXdoaWxlKGImJihoPWguZ2V0QnViYmxlUGFyZW50KCkpKTtyZXR1cm4gZH0sZ2V0QnViYmxlUGFyZW50OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuZ2V0QnViYmxlVGFyZ2V0JiZiLmdldEJ1YmJsZVRhcmdldCgpO2lmKGEmJmEuaXNPYnNlcnZhYmxlKXtyZXR1cm4gYX1yZXR1cm4gbnVsbH0sYWRkTGlzdGVuZXI6ZnVuY3Rpb24oZCxnLGUsYyl7dmFyIGk9dGhpcyxiLGgsYTtpZih0eXBlb2YgZCE9PSJzdHJpbmciKXtjPWQ7Zm9yKGQgaW4gYyl7aWYoYy5oYXNPd25Qcm9wZXJ0eShkKSl7Yj1jW2RdO2lmKCFpLmV2ZW50T3B0aW9uc1JlLnRlc3QoZCkpe2kuYWRkTGlzdGVuZXIoZCxiLmZufHxiLGIuc2NvcGV8fGMuc2NvcGUsYi5mbj9iOmMpfX19fWVsc2V7ZD1kLnRvTG93ZXJDYXNlKCk7aS5ldmVudHNbZF09aS5ldmVudHNbZF18fHRydWU7aD1pLmV2ZW50c1tkXXx8dHJ1ZTtpZihFeHQuaXNCb29sZWFuKGgpKXtpLmV2ZW50c1tkXT1oPW5ldyBFeHQudXRpbC5FdmVudChpLGQpfWlmKHR5cGVvZiBnPT09InN0cmluZyIpe2c9ZVtnXXx8aVtnXX1oLmFkZExpc3RlbmVyKGcsZSxFeHQuaXNPYmplY3QoYyk/Yzp7fSk7YT1pLmhhc0xpc3RlbmVycztpZihhLmhhc093blByb3BlcnR5KGQpKXsrK2FbZF19ZWxzZXthW2RdPTF9fX0scmVtb3ZlTGlzdGVuZXI6ZnVuY3Rpb24oYyxlLGQpe3ZhciBoPXRoaXMsYixnLGE7aWYodHlwZW9mIGMhPT0ic3RyaW5nIil7YT1jO2ZvcihjIGluIGEpe2lmKGEuaGFzT3duUHJvcGVydHkoYykpe2I9YVtjXTtpZighaC5ldmVudE9wdGlvbnNSZS50ZXN0KGMpKXtoLnJlbW92ZUxpc3RlbmVyKGMsYi5mbnx8YixiLnNjb3BlfHxhLnNjb3BlKX19fX1lbHNle2M9Yy50b0xvd2VyQ2FzZSgpO2c9aC5ldmVudHNbY107aWYoZyYmZy5pc0V2ZW50KXtnLnJlbW92ZUxpc3RlbmVyKGUsZCk7aWYoIS0taC5oYXNMaXN0ZW5lcnNbY10pe2RlbGV0ZSBoLmhhc0xpc3RlbmVyc1tjXX19fX0sY2xlYXJMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmV2ZW50cyxjLGE7Zm9yKGEgaW4gYil7aWYoYi5oYXNPd25Qcm9wZXJ0eShhKSl7Yz1iW2FdO2lmKGMuaXNFdmVudCl7Yy5jbGVhckxpc3RlbmVycygpfX19dGhpcy5jbGVhck1hbmFnZWRMaXN0ZW5lcnMoKX0sY2xlYXJNYW5hZ2VkTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5tYW5hZ2VkTGlzdGVuZXJzfHxbXSxjPTAsYT1iLmxlbmd0aDtmb3IoO2M8YTtjKyspe3RoaXMucmVtb3ZlTWFuYWdlZExpc3RlbmVySXRlbSh0cnVlLGJbY10pfXRoaXMubWFuYWdlZExpc3RlbmVycz1bXX0scmVtb3ZlTWFuYWdlZExpc3RlbmVySXRlbTpmdW5jdGlvbihiLGEsZyxjLGUsZCl7aWYoYnx8KGEuaXRlbT09PWcmJmEuZW5hbWU9PT1jJiYoIWV8fGEuZm49PT1lKSYmKCFkfHxhLnNjb3BlPT09ZCkpKXthLml0ZW0udW4oYS5lbmFtZSxhLmZuLGEuc2NvcGUpO2lmKCFiKXtFeHQuQXJyYXkucmVtb3ZlKHRoaXMubWFuYWdlZExpc3RlbmVycyxhKX19fSxhZGRFdmVudHM6ZnVuY3Rpb24oZyl7dmFyIGU9dGhpcyxkPWUuZXZlbnRzfHwoZS5ldmVudHM9e30pLGEsYixjO2lmKHR5cGVvZiBnPT0ic3RyaW5nIil7Zm9yKGI9YXJndW1lbnRzLGM9Yi5sZW5ndGg7Yy0tOyl7YT1iW2NdO2lmKCFkW2FdKXtkW2FdPXRydWV9fX1lbHNle0V4dC5hcHBseUlmKGUuZXZlbnRzLGcpfX0saGFzTGlzdGVuZXI6ZnVuY3Rpb24oYSl7cmV0dXJuICEhdGhpcy5oYXNMaXN0ZW5lcnNbYS50b0xvd2VyQ2FzZSgpXX0sc3VzcGVuZEV2ZW50czpmdW5jdGlvbihhKXt0aGlzLmV2ZW50c1N1c3BlbmRlZD10cnVlO2lmKGEmJiF0aGlzLmV2ZW50UXVldWUpe3RoaXMuZXZlbnRRdWV1ZT1bXX19LHJlc3VtZUV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXMsZD1hLmV2ZW50UXVldWUsYyxiO2EuZXZlbnRzU3VzcGVuZGVkPWZhbHNlO2RlbGV0ZSBhLmV2ZW50UXVldWU7aWYoZCl7Yz1kLmxlbmd0aDtmb3IoYj0wO2I8YztiKyspe2EuY29udGludWVGaXJlRXZlbnQuYXBwbHkoYSxkW2JdKX19fSxyZWxheUV2ZW50czpmdW5jdGlvbihjLGUsail7aj1qfHwiIjt2YXIgaD10aGlzLGE9ZS5sZW5ndGgsZD0wLGcsYjtmb3IoO2Q8YTtkKyspe2c9ZVtkXTtiPWorZztoLmV2ZW50c1tiXT1oLmV2ZW50c1tiXXx8dHJ1ZTtjLm9uKGcsaC5jcmVhdGVSZWxheWVyKGIpKX19LGNyZWF0ZVJlbGF5ZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO3JldHVybiBmdW5jdGlvbigpe3JldHVybiBjLmZpcmVFdmVudC5hcHBseShjLFthXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmFwcGx5KGFyZ3VtZW50cyxifHxbMCwtMV0pKSl9fSxlbmFibGVCdWJibGU6ZnVuY3Rpb24oail7aWYoail7dmFyIGc9dGhpcyxoPSh0eXBlb2Ygaj09InN0cmluZyIpP2FyZ3VtZW50czpqLGU9aC5sZW5ndGgsYz1nLmV2ZW50cyxiLGQsYTtmb3IoYT0wO2E8ZTsrK2Epe2I9aFthXS50b0xvd2VyQ2FzZSgpO2Q9Y1tiXTtpZighZHx8dHlwZW9mIGQ9PSJib29sZWFuIil7Y1tiXT1kPW5ldyBFeHQudXRpbC5FdmVudChnLGIpfWcuaGFzTGlzdGVuZXJzW2JdPShnLmhhc0xpc3RlbmVyc1tiXXx8MCkrMTtkLmJ1YmJsZT10cnVlfX19fSxmdW5jdGlvbigpe3ZhciBhPXRoaXMsZD1hLnByb3RvdHlwZSxiPWZ1bmN0aW9uKCl7fSxlPWZ1bmN0aW9uKGcpe2lmKCFnLkhhc0xpc3RlbmVycyl7dmFyIGg9Zy5wcm90b3R5cGU7YS5wcmVwYXJlQ2xhc3MoZyx0aGlzKTtnLm9uRXh0ZW5kZWQoZnVuY3Rpb24oaSl7YS5wcmVwYXJlQ2xhc3MoaSl9KTtpZihoLm9uQ2xhc3NNaXhlZEluKXtFeHQub3ZlcnJpZGUoZyx7b25DbGFzc01peGVkSW46ZnVuY3Rpb24oaSl7ZS5jYWxsKHRoaXMsaSk7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9fSl9ZWxzZXtoLm9uQ2xhc3NNaXhlZEluPWZ1bmN0aW9uKGkpe2UuY2FsbCh0aGlzLGkpfX19fTtiLnByb3RvdHlwZT17fTtkLkhhc0xpc3RlbmVycz1hLkhhc0xpc3RlbmVycz1iO2EuY3JlYXRlQWxpYXMoe29uOiJhZGRMaXN0ZW5lciIsdW46InJlbW92ZUxpc3RlbmVyIixtb246ImFkZE1hbmFnZWRMaXN0ZW5lciIsbXVuOiJyZW1vdmVNYW5hZ2VkTGlzdGVuZXIifSk7YS5vYnNlcnZlQ2xhc3M9YS5vYnNlcnZlO2Z1bmN0aW9uIGMobSl7dmFyIGw9KHRoaXMubWV0aG9kRXZlbnRzPXRoaXMubWV0aG9kRXZlbnRzfHx7fSlbbV0saSxoLGosaz10aGlzLGc7aWYoIWwpe3RoaXMubWV0aG9kRXZlbnRzW21dPWw9e307bC5vcmlnaW5hbEZuPXRoaXNbbV07bC5tZXRob2ROYW1lPW07bC5iZWZvcmU9W107bC5hZnRlcj1bXTtnPWZ1bmN0aW9uKHAsbyxuKXtpZigoaD1wLmFwcGx5KG98fGssbikpIT09dW5kZWZpbmVkKXtpZih0eXBlb2YgaD09Im9iamVjdCIpe2lmKGgucmV0dXJuVmFsdWUhPT11bmRlZmluZWQpe2k9aC5yZXR1cm5WYWx1ZX1lbHNle2k9aH1qPSEhaC5jYW5jZWx9ZWxzZXtpZihoPT09ZmFsc2Upe2o9dHJ1ZX1lbHNle2k9aH19fX07dGhpc1ttXT1mdW5jdGlvbigpe3ZhciBwPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSxvLHEsbjtpPWg9dW5kZWZpbmVkO2o9ZmFsc2U7Zm9yKHE9MCxuPWwuYmVmb3JlLmxlbmd0aDtxPG47cSsrKXtvPWwuYmVmb3JlW3FdO2coby5mbixvLnNjb3BlLHApO2lmKGope3JldHVybiBpfX1pZigoaD1sLm9yaWdpbmFsRm4uYXBwbHkoayxwKSkhPT11bmRlZmluZWQpe2k9aH1mb3IocT0wLG49bC5hZnRlci5sZW5ndGg7cTxuO3ErKyl7bz1sLmFmdGVyW3FdO2coby5mbixvLnNjb3BlLHApO2lmKGope3JldHVybiBpfX1yZXR1cm4gaX19cmV0dXJuIGx9RXh0LmFwcGx5KGQse29uQ2xhc3NNaXhlZEluOmUsYmVmb3JlTWV0aG9kOmZ1bmN0aW9uKGksaCxnKXtjLmNhbGwodGhpcyxpKS5iZWZvcmUucHVzaCh7Zm46aCxzY29wZTpnfSl9LGFmdGVyTWV0aG9kOmZ1bmN0aW9uKGksaCxnKXtjLmNhbGwodGhpcyxpKS5hZnRlci5wdXNoKHtmbjpoLHNjb3BlOmd9KX0scmVtb3ZlTWV0aG9kTGlzdGVuZXI6ZnVuY3Rpb24obSxrLGope3ZhciBsPXRoaXMuZ2V0TWV0aG9kRXZlbnQobSksaCxnO2ZvcihoPTAsZz1sLmJlZm9yZS5sZW5ndGg7aDxnO2grKyl7aWYobC5iZWZvcmVbaF0uZm49PWsmJmwuYmVmb3JlW2hdLnNjb3BlPT1qKXtFeHQuQXJyYXkuZXJhc2UobC5iZWZvcmUsaCwxKTtyZXR1cm59fWZvcihoPTAsZz1sLmFmdGVyLmxlbmd0aDtoPGc7aCsrKXtpZihsLmFmdGVyW2hdLmZuPT1rJiZsLmFmdGVyW2hdLnNjb3BlPT1qKXtFeHQuQXJyYXkuZXJhc2UobC5hZnRlcixoLDEpO3JldHVybn19fSx0b2dnbGVFdmVudExvZ2dpbmc6ZnVuY3Rpb24oZyl7RXh0LnV0aWwuT2JzZXJ2YWJsZVtnPyJjYXB0dXJlIjoicmVsZWFzZUNhcHR1cmUiXSh0aGlzLGZ1bmN0aW9uKGgpe2lmKEV4dC5pc0RlZmluZWQoRXh0Lmdsb2JhbC5jb25zb2xlKSl7RXh0Lmdsb2JhbC5jb25zb2xlLmxvZyhoLGFyZ3VtZW50cyl9fSl9fSl9KTtFeHQuZGVmaW5lKCJFeHQudXRpbC5PZmZzZXQiLHtzdGF0aWNzOntmcm9tT2JqZWN0OmZ1bmN0aW9uKGEpe3JldHVybiBuZXcgdGhpcyhhLngsYS55KX19LGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEsYil7dGhpcy54PShhIT1udWxsJiYhaXNOYU4oYSkpP2E6MDt0aGlzLnk9KGIhPW51bGwmJiFpc05hTihiKSk/YjowO3JldHVybiB0aGlzfSxjb3B5OmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBFeHQudXRpbC5PZmZzZXQodGhpcy54LHRoaXMueSl9LGNvcHlGcm9tOmZ1bmN0aW9uKGEpe3RoaXMueD1hLng7dGhpcy55PWEueX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4iT2Zmc2V0WyIrdGhpcy54KyIsIit0aGlzLnkrIl0ifSxlcXVhbHM6ZnVuY3Rpb24oYSl7cmV0dXJuKHRoaXMueD09YS54JiZ0aGlzLnk9PWEueSl9LHJvdW5kOmZ1bmN0aW9uKGIpe2lmKCFpc05hTihiKSl7dmFyIGE9TWF0aC5wb3coMTAsYik7dGhpcy54PU1hdGgucm91bmQodGhpcy54KmEpL2E7dGhpcy55PU1hdGgucm91bmQodGhpcy55KmEpL2F9ZWxzZXt0aGlzLng9TWF0aC5yb3VuZCh0aGlzLngpO3RoaXMueT1NYXRoLnJvdW5kKHRoaXMueSl9fSxpc1plcm86ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54PT0wJiZ0aGlzLnk9PTB9fSk7RXh0LmRlZmluZSgiRXh0LnV0aWwuUHJvdG9FbGVtZW50IiwoZnVuY3Rpb24oKXt2YXIgYj1FeHQuU3RyaW5nLnNwbGl0V29yZHMsYT1FeHQuQXJyYXkudG9NYXA7cmV0dXJue2lzUHJvdG9FbDp0cnVlLGNsc1Byb3A6ImNscyIsc3R5bGVQcm9wOiJzdHlsZSIscmVtb3ZlZFByb3A6InJlbW92ZWQiLHN0eWxlSXNUZXh0OmZhbHNlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXM7RXh0LmFwcGx5KGQsYyk7ZC5jbGFzc0xpc3Q9YihkLmNscyk7ZC5jbGFzc01hcD1hKGQuY2xhc3NMaXN0KTtkZWxldGUgZC5jbHM7aWYoRXh0LmlzRnVuY3Rpb24oZC5zdHlsZSkpe2Quc3R5bGVGbj1kLnN0eWxlO2RlbGV0ZSBkLnN0eWxlfWVsc2V7aWYodHlwZW9mIGQuc3R5bGU9PSJzdHJpbmciKXtkLnN0eWxlPUV4dC5FbGVtZW50LnBhcnNlU3R5bGVzKGQuc3R5bGUpfWVsc2V7aWYoZC5zdHlsZSl7ZC5zdHlsZT1FeHQuYXBwbHkoe30sZC5zdHlsZSl9fX19LGZsdXNoOmZ1bmN0aW9uKCl7dGhpcy5mbHVzaENsYXNzTGlzdD1bXTt0aGlzLnJlbW92ZWRDbGFzc2VzPXt9O2RlbGV0ZSB0aGlzLnN0eWxlfSxhZGRDbHM6ZnVuY3Rpb24obil7dmFyIGw9dGhpcyxtPWIobiksZT1tLmxlbmd0aCxqPWwuY2xhc3NMaXN0LGQ9bC5jbGFzc01hcCxnPWwuZmx1c2hDbGFzc0xpc3QsaD0wLGs7Zm9yKDtoPGU7KytoKXtrPW1baF07aWYoIWRba10pe2Rba109dHJ1ZTtqLnB1c2goayk7aWYoZyl7Zy5wdXNoKGspO2RlbGV0ZSBsLnJlbW92ZWRDbGFzc2VzW2tdfX19cmV0dXJuIGx9LGhhc0NsczpmdW5jdGlvbihjKXtyZXR1cm4gYyBpbiB0aGlzLmNsYXNzTWFwfSxyZW1vdmVDbHM6ZnVuY3Rpb24obyl7dmFyIG49dGhpcyxsPW4uY2xhc3NMaXN0LGc9KG4uY2xhc3NMaXN0PVtdKSxqPWEoYihvKSksZT1sLmxlbmd0aCxkPW4uY2xhc3NNYXAsaz1uLnJlbW92ZWRDbGFzc2VzLGgsbTtmb3IoaD0wO2g8ZTsrK2gpe209bFtoXTtpZihqW21dKXtpZihrKXtpZihkW21dKXtrW21dPXRydWU7RXh0LkFycmF5LnJlbW92ZShuLmZsdXNoQ2xhc3NMaXN0LG0pfX1kZWxldGUgZFttXX1lbHNle2cucHVzaChtKX19cmV0dXJuIG59LHNldFN0eWxlOmZ1bmN0aW9uKGcsZSl7dmFyIGQ9dGhpcyxjPWQuc3R5bGV8fChkLnN0eWxlPXt9KTtpZih0eXBlb2YgZz09InN0cmluZyIpe2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0xKXtkLnNldFN0eWxlKEV4dC5FbGVtZW50LnBhcnNlU3R5bGVzKGcpKX1lbHNle2NbZ109ZX19ZWxzZXtFeHQuYXBwbHkoYyxnKX1yZXR1cm4gZH0sd3JpdGVUbzpmdW5jdGlvbihoKXt2YXIgZT10aGlzLGc9ZS5mbHVzaENsYXNzTGlzdHx8ZS5jbGFzc0xpc3QsZD1lLnJlbW92ZWRDbGFzc2VzLGM7aWYoZS5zdHlsZUZuKXtjPUV4dC5hcHBseSh7fSxlLnN0eWxlRm4oKSk7RXh0LmFwcGx5KGMsZS5zdHlsZSl9ZWxzZXtjPWUuc3R5bGV9aFtlLmNsc1Byb3BdPWcuam9pbigiICIpO2lmKGMpe2hbZS5zdHlsZVByb3BdPWUuc3R5bGVJc1RleHQ/RXh0LkRvbUhlbHBlci5nZW5lcmF0ZVN0eWxlcyhjKTpjfWlmKGQpe2Q9RXh0Lk9iamVjdC5nZXRLZXlzKGQpO2lmKGQubGVuZ3RoKXtoW2UucmVtb3ZlZFByb3BdPWQuam9pbigiICIpfX1yZXR1cm4gaH19fSgpKSk7RXh0LmRlZmluZSgiRXh0LnV0aWwuUXVldWUiLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3RoaXMuY2xlYXIoKX0sYWRkOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT1iLmdldEtleShjKTtpZighYi5tYXBbYV0peysrYi5sZW5ndGg7Yi5pdGVtcy5wdXNoKGMpO2IubWFwW2FdPWN9cmV0dXJuIGN9LGNsZWFyOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuaXRlbXM7Yi5pdGVtcz1bXTtiLm1hcD17fTtiLmxlbmd0aD0wO3JldHVybiBhfSxjb250YWluczpmdW5jdGlvbihiKXt2YXIgYT10aGlzLmdldEtleShiKTtyZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkoYSl9LGdldENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSxnZXRLZXk6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9LHJlbW92ZTpmdW5jdGlvbihlKXt2YXIgZD10aGlzLGM9ZC5nZXRLZXkoZSksYT1kLml0ZW1zLGI7aWYoZC5tYXBbY10pe2I9RXh0LkFycmF5LmluZGV4T2YoYSxlKTtFeHQuQXJyYXkuZXJhc2UoYSxiLDEpO2RlbGV0ZSBkLm1hcFtjXTstLWQubGVuZ3RofXJldHVybiBlfX0pO0V4dC5kZWZpbmUoIkV4dC51dGlsLlJlZ2lvbiIse3JlcXVpcmVzOlsiRXh0LnV0aWwuT2Zmc2V0Il0sc3RhdGljczp7Z2V0UmVnaW9uOmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuZmx5KGEpLmdldFBhZ2VCb3godHJ1ZSl9LGZyb206ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyB0aGlzKGEudG9wLGEucmlnaHQsYS5ib3R0b20sYS5sZWZ0KX19LGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGQsZyxhLGMpe3ZhciBlPXRoaXM7ZS55PWUudG9wPWVbMV09ZDtlLnJpZ2h0PWc7ZS5ib3R0b209YTtlLng9ZS5sZWZ0PWVbMF09Y30sY29udGFpbnM6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztyZXR1cm4oYi54Pj1hLngmJmIucmlnaHQ8PWEucmlnaHQmJmIueT49YS55JiZiLmJvdHRvbTw9YS5ib3R0b20pfSxpbnRlcnNlY3Q6ZnVuY3Rpb24oaCl7dmFyIGc9dGhpcyxkPU1hdGgubWF4KGcueSxoLnkpLGU9TWF0aC5taW4oZy5yaWdodCxoLnJpZ2h0KSxhPU1hdGgubWluKGcuYm90dG9tLGguYm90dG9tKSxjPU1hdGgubWF4KGcueCxoLngpO2lmKGE+ZCYmZT5jKXtyZXR1cm4gbmV3IHRoaXMuc2VsZihkLGUsYSxjKX1lbHNle3JldHVybiBmYWxzZX19LHVuaW9uOmZ1bmN0aW9uKGgpe3ZhciBnPXRoaXMsZD1NYXRoLm1pbihnLnksaC55KSxlPU1hdGgubWF4KGcucmlnaHQsaC5yaWdodCksYT1NYXRoLm1heChnLmJvdHRvbSxoLmJvdHRvbSksYz1NYXRoLm1pbihnLngsaC54KTtyZXR1cm4gbmV3IHRoaXMuc2VsZihkLGUsYSxjKX0sY29uc3RyYWluVG86ZnVuY3Rpb24oYil7dmFyIGE9dGhpcyxjPUV4dC5OdW1iZXIuY29uc3RyYWluO2EudG9wPWEueT1jKGEudG9wLGIueSxiLmJvdHRvbSk7YS5ib3R0b209YyhhLmJvdHRvbSxiLnksYi5ib3R0b20pO2EubGVmdD1hLng9YyhhLmxlZnQsYi54LGIucmlnaHQpO2EucmlnaHQ9YyhhLnJpZ2h0LGIueCxiLnJpZ2h0KTtyZXR1cm4gYX0sYWRqdXN0OmZ1bmN0aW9uKGQsZyxhLGMpe3ZhciBlPXRoaXM7ZS50b3A9ZS55Kz1kO2UubGVmdD1lLngrPWM7ZS5yaWdodCs9ZztlLmJvdHRvbSs9YTtyZXR1cm4gZX0sZ2V0T3V0T2ZCb3VuZE9mZnNldDpmdW5jdGlvbihhLGIpe2lmKCFFeHQuaXNPYmplY3QoYSkpe2lmKGE9PSJ4Iil7cmV0dXJuIHRoaXMuZ2V0T3V0T2ZCb3VuZE9mZnNldFgoYil9ZWxzZXtyZXR1cm4gdGhpcy5nZXRPdXRPZkJvdW5kT2Zmc2V0WShiKX19ZWxzZXtiPWE7dmFyIGM9bmV3IEV4dC51dGlsLk9mZnNldCgpO2MueD10aGlzLmdldE91dE9mQm91bmRPZmZzZXRYKGIueCk7Yy55PXRoaXMuZ2V0T3V0T2ZCb3VuZE9mZnNldFkoYi55KTtyZXR1cm4gY319LGdldE91dE9mQm91bmRPZmZzZXRYOmZ1bmN0aW9uKGEpe2lmKGE8PXRoaXMueCl7cmV0dXJuIHRoaXMueC1hfWVsc2V7aWYoYT49dGhpcy5yaWdodCl7cmV0dXJuIHRoaXMucmlnaHQtYX19cmV0dXJuIDB9LGdldE91dE9mQm91bmRPZmZzZXRZOmZ1bmN0aW9uKGEpe2lmKGE8PXRoaXMueSl7cmV0dXJuIHRoaXMueS1hfWVsc2V7aWYoYT49dGhpcy5ib3R0b20pe3JldHVybiB0aGlzLmJvdHRvbS1hfX1yZXR1cm4gMH0saXNPdXRPZkJvdW5kOmZ1bmN0aW9uKGEsYil7aWYoIUV4dC5pc09iamVjdChhKSl7aWYoYT09IngiKXtyZXR1cm4gdGhpcy5pc091dE9mQm91bmRYKGIpfWVsc2V7cmV0dXJuIHRoaXMuaXNPdXRPZkJvdW5kWShiKX19ZWxzZXtiPWE7cmV0dXJuKHRoaXMuaXNPdXRPZkJvdW5kWChiLngpfHx0aGlzLmlzT3V0T2ZCb3VuZFkoYi55KSl9fSxpc091dE9mQm91bmRYOmZ1bmN0aW9uKGEpe3JldHVybihhPHRoaXMueHx8YT50aGlzLnJpZ2h0KX0saXNPdXRPZkJvdW5kWTpmdW5jdGlvbihhKXtyZXR1cm4oYTx0aGlzLnl8fGE+dGhpcy5ib3R0b20pfSxyZXN0cmljdDpmdW5jdGlvbihiLGQsYSl7aWYoRXh0LmlzT2JqZWN0KGIpKXt2YXIgYzthPWQ7ZD1iO2lmKGQuY29weSl7Yz1kLmNvcHkoKX1lbHNle2M9e3g6ZC54LHk6ZC55fX1jLng9dGhpcy5yZXN0cmljdFgoZC54LGEpO2MueT10aGlzLnJlc3RyaWN0WShkLnksYSk7cmV0dXJuIGN9ZWxzZXtpZihiPT0ieCIpe3JldHVybiB0aGlzLnJlc3RyaWN0WChkLGEpfWVsc2V7cmV0dXJuIHRoaXMucmVzdHJpY3RZKGQsYSl9fX0scmVzdHJpY3RYOmZ1bmN0aW9uKGIsYSl7aWYoIWEpe2E9MX1pZihiPD10aGlzLngpe2ItPShiLXRoaXMueCkqYX1lbHNle2lmKGI+PXRoaXMucmlnaHQpe2ItPShiLXRoaXMucmlnaHQpKmF9fXJldHVybiBifSxyZXN0cmljdFk6ZnVuY3Rpb24oYixhKXtpZighYSl7YT0xfWlmKGI8PXRoaXMueSl7Yi09KGItdGhpcy55KSphfWVsc2V7aWYoYj49dGhpcy5ib3R0b20pe2ItPShiLXRoaXMuYm90dG9tKSphfX1yZXR1cm4gYn0sZ2V0U2l6ZTpmdW5jdGlvbigpe3JldHVybnt3aWR0aDp0aGlzLnJpZ2h0LXRoaXMueCxoZWlnaHQ6dGhpcy5ib3R0b20tdGhpcy55fX0sY29weTpmdW5jdGlvbigpe3JldHVybiBuZXcgdGhpcy5zZWxmKHRoaXMueSx0aGlzLnJpZ2h0LHRoaXMuYm90dG9tLHRoaXMueCl9LGNvcHlGcm9tOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7YS50b3A9YS55PWFbMV09Yi55O2EucmlnaHQ9Yi5yaWdodDthLmJvdHRvbT1iLmJvdHRvbTthLmxlZnQ9YS54PWFbMF09Yi54O3JldHVybiB0aGlzfSx0b1N0cmluZzpmdW5jdGlvbigpe3JldHVybiJSZWdpb25bIit0aGlzLnRvcCsiLCIrdGhpcy5yaWdodCsiLCIrdGhpcy5ib3R0b20rIiwiK3RoaXMubGVmdCsiXSJ9LHRyYW5zbGF0ZUJ5OmZ1bmN0aW9uKGEsYyl7aWYoYXJndW1lbnRzLmxlbmd0aD09MSl7Yz1hLnk7YT1hLnh9dmFyIGI9dGhpcztiLnRvcD1iLnkrPWM7Yi5yaWdodCs9YTtiLmJvdHRvbSs9YztiLmxlZnQ9Yi54Kz1hO3JldHVybiBifSxyb3VuZDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS50b3A9YS55PU1hdGgucm91bmQoYS55KTthLnJpZ2h0PU1hdGgucm91bmQoYS5yaWdodCk7YS5ib3R0b209TWF0aC5yb3VuZChhLmJvdHRvbSk7YS5sZWZ0PWEueD1NYXRoLnJvdW5kKGEueCk7cmV0dXJuIGF9LGVxdWFsczpmdW5jdGlvbihhKXtyZXR1cm4odGhpcy50b3A9PWEudG9wJiZ0aGlzLnJpZ2h0PT1hLnJpZ2h0JiZ0aGlzLmJvdHRvbT09YS5ib3R0b20mJnRoaXMubGVmdD09YS5sZWZ0KX19KTtFeHQuZGVmaW5lKCJFeHQudXRpbC5SZW5kZXJhYmxlIix7cmVxdWlyZXM6WyJFeHQuZG9tLkVsZW1lbnQiXSxmcmFtZUNsczpFeHQuYmFzZUNTU1ByZWZpeCsiZnJhbWUiLGZyYW1lSWRSZWdleDovW1wtXWZyYW1lXGQrW1RNQl1bTENSXSQvLGZyYW1lRWxlbWVudENsczp7dGw6W10sdGM6W10sdHI6W10sbWw6W10sbWM6W10sbXI6W10sYmw6W10sYmM6W10sYnI6W119LGZyYW1lRWxOYW1lczpbIlRMIiwiVEMiLCJUUiIsIk1MIiwiTUMiLCJNUiIsIkJMIiwiQkMiLCJCUiJdLGZyYW1lVHBsOlsieyV0aGlzLnJlbmRlckRvY2tlZEl0ZW1zKG91dCx2YWx1ZXMsMCk7JX0iLCc8dHBsIGlmPSJ0b3AiPicsJzx0cGwgaWY9ImxlZnQiPjxkaXYgaWQ9IntmZ2lkfVRMIiBjbGFzcz0ie2ZyYW1lQ2xzfS10bCB7YmFzZUNsc30tdGwge2Jhc2VDbHN9LXt1aX0tdGw8dHBsIGZvcj0idWlDbHMiPiB7cGFyZW50LmJhc2VDbHN9LXtwYXJlbnQudWl9LXsufS10bDwvdHBsPiIgc3R5bGU9ImJhY2tncm91bmQtcG9zaXRpb246IHt0bH07IHBhZGRpbmctbGVmdDoge2ZyYW1lV2lkdGh9cHgiIHJvbGU9InByZXNlbnRhdGlvbiI+PC90cGw+JywnPHRwbCBpZj0icmlnaHQiPjxkaXYgaWQ9IntmZ2lkfVRSIiBjbGFzcz0ie2ZyYW1lQ2xzfS10ciB7YmFzZUNsc30tdHIge2Jhc2VDbHN9LXt1aX0tdHI8dHBsIGZvcj0idWlDbHMiPiB7cGFyZW50LmJhc2VDbHN9LXtwYXJlbnQudWl9LXsufS10cjwvdHBsPiIgc3R5bGU9ImJhY2tncm91bmQtcG9zaXRpb246IHt0cn07IHBhZGRpbmctcmlnaHQ6IHtmcmFtZVdpZHRofXB4IiByb2xlPSJwcmVzZW50YXRpb24iPjwvdHBsPicsJzxkaXYgaWQ9IntmZ2lkfVRDIiBjbGFzcz0ie2ZyYW1lQ2xzfS10YyB7YmFzZUNsc30tdGMge2Jhc2VDbHN9LXt1aX0tdGM8dHBsIGZvcj0idWlDbHMiPiB7cGFyZW50LmJhc2VDbHN9LXtwYXJlbnQudWl9LXsufS10YzwvdHBsPiIgc3R5bGU9ImJhY2tncm91bmQtcG9zaXRpb246IHt0Y307IGhlaWdodDoge2ZyYW1lV2lkdGh9cHgiIHJvbGU9InByZXNlbnRhdGlvbiI+PC9kaXY+JywnPHRwbCBpZj0icmlnaHQiPjwvZGl2PjwvdHBsPicsJzx0cGwgaWY9ImxlZnQiPjwvZGl2PjwvdHBsPicsIjwvdHBsPiIsJzx0cGwgaWY9ImxlZnQiPjxkaXYgaWQ9IntmZ2lkfU1MIiBjbGFzcz0ie2ZyYW1lQ2xzfS1tbCB7YmFzZUNsc30tbWwge2Jhc2VDbHN9LXt1aX0tbWw8dHBsIGZvcj0idWlDbHMiPiB7cGFyZW50LmJhc2VDbHN9LXtwYXJlbnQudWl9LXsufS1tbDwvdHBsPiIgc3R5bGU9ImJhY2tncm91bmQtcG9zaXRpb246IHttbH07IHBhZGRpbmctbGVmdDoge2ZyYW1lV2lkdGh9cHgiIHJvbGU9InByZXNlbnRhdGlvbiI+PC90cGw+JywnPHRwbCBpZj0icmlnaHQiPjxkaXYgaWQ9IntmZ2lkfU1SIiBjbGFzcz0ie2ZyYW1lQ2xzfS1tciB7YmFzZUNsc30tbXIge2Jhc2VDbHN9LXt1aX0tbXI8dHBsIGZvcj0idWlDbHMiPiB7cGFyZW50LmJhc2VDbHN9LXtwYXJlbnQudWl9LXsufS1tcjwvdHBsPiIgc3R5bGU9ImJhY2tncm91bmQtcG9zaXRpb246IHttcn07IHBhZGRpbmctcmlnaHQ6IHtmcmFtZVdpZHRofXB4IiByb2xlPSJwcmVzZW50YXRpb24iPjwvdHBsPicsJzxkaXYgaWQ9IntmZ2lkfU1DIiBjbGFzcz0ie2ZyYW1lQ2xzfS1tYyB7YmFzZUNsc30tbWMge2Jhc2VDbHN9LXt1aX0tbWM8dHBsIGZvcj0idWlDbHMiPiB7cGFyZW50LmJhc2VDbHN9LXtwYXJlbnQudWl9LXsufS1tYzwvdHBsPiIgcm9sZT0icHJlc2VudGF0aW9uIj4nLCJ7JXRoaXMuYXBwbHlSZW5kZXJUcGwob3V0LCB2YWx1ZXMpJX0iLCI8L2Rpdj4iLCc8dHBsIGlmPSJyaWdodCI+PC9kaXY+PC90cGw+JywnPHRwbCBpZj0ibGVmdCI+PC9kaXY+PC90cGw+JywnPHRwbCBpZj0iYm90dG9tIj4nLCc8dHBsIGlmPSJsZWZ0Ij48ZGl2IGlkPSJ7ZmdpZH1CTCIgY2xhc3M9IntmcmFtZUNsc30tYmwge2Jhc2VDbHN9LWJsIHtiYXNlQ2xzfS17dWl9LWJsPHRwbCBmb3I9InVpQ2xzIj4ge3BhcmVudC5iYXNlQ2xzfS17cGFyZW50LnVpfS17Ln0tYmw8L3RwbD4iIHN0eWxlPSJiYWNrZ3JvdW5kLXBvc2l0aW9uOiB7Ymx9OyBwYWRkaW5nLWxlZnQ6IHtmcmFtZVdpZHRofXB4IiByb2xlPSJwcmVzZW50YXRpb24iPjwvdHBsPicsJzx0cGwgaWY9InJpZ2h0Ij48ZGl2IGlkPSJ7ZmdpZH1CUiIgY2xhc3M9IntmcmFtZUNsc30tYnIge2Jhc2VDbHN9LWJyIHtiYXNlQ2xzfS17dWl9LWJyPHRwbCBmb3I9InVpQ2xzIj4ge3BhcmVudC5iYXNlQ2xzfS17cGFyZW50LnVpfS17Ln0tYnI8L3RwbD4iIHN0eWxlPSJiYWNrZ3JvdW5kLXBvc2l0aW9uOiB7YnJ9OyBwYWRkaW5nLXJpZ2h0OiB7ZnJhbWVXaWR0aH1weCIgcm9sZT0icHJlc2VudGF0aW9uIj48L3RwbD4nLCc8ZGl2IGlkPSJ7ZmdpZH1CQyIgY2xhc3M9IntmcmFtZUNsc30tYmMge2Jhc2VDbHN9LWJjIHtiYXNlQ2xzfS17dWl9LWJjPHRwbCBmb3I9InVpQ2xzIj4ge3BhcmVudC5iYXNlQ2xzfS17cGFyZW50LnVpfS17Ln0tYmM8L3RwbD4iIHN0eWxlPSJiYWNrZ3JvdW5kLXBvc2l0aW9uOiB7YmN9OyBoZWlnaHQ6IHtmcmFtZVdpZHRofXB4IiByb2xlPSJwcmVzZW50YXRpb24iPjwvZGl2PicsJzx0cGwgaWY9InJpZ2h0Ij48L2Rpdj48L3RwbD4nLCc8dHBsIGlmPSJsZWZ0Ij48L2Rpdj48L3RwbD4nLCI8L3RwbD4iLCJ7JXRoaXMucmVuZGVyRG9ja2VkSXRlbXMob3V0LHZhbHVlcywxKTslfSJdLGZyYW1lVGFibGVUcGw6WyJ7JXRoaXMucmVuZGVyRG9ja2VkSXRlbXMob3V0LHZhbHVlcywwKTslfSIsIjx0YWJsZT48dGJvZHk+IiwnPHRwbCBpZj0idG9wIj4nLCI8dHI+IiwnPHRwbCBpZj0ibGVmdCI+PHRkIGlkPSJ7ZmdpZH1UTCIgY2xhc3M9IntmcmFtZUNsc30tdGwge2Jhc2VDbHN9LXRsIHtiYXNlQ2xzfS17dWl9LXRsPHRwbCBmb3I9InVpQ2xzIj4ge3BhcmVudC5iYXNlQ2xzfS17cGFyZW50LnVpfS17Ln0tdGw8L3RwbD4iIHN0eWxlPSJiYWNrZ3JvdW5kLXBvc2l0aW9uOiB7dGx9OyBwYWRkaW5nLWxlZnQ6e2ZyYW1lV2lkdGh9cHgiIHJvbGU9InByZXNlbnRhdGlvbiI+PC90ZD48L3RwbD4nLCc8dGQgaWQ9IntmZ2lkfVRDIiBjbGFzcz0ie2ZyYW1lQ2xzfS10YyB7YmFzZUNsc30tdGMge2Jhc2VDbHN9LXt1aX0tdGM8dHBsIGZvcj0idWlDbHMiPiB7cGFyZW50LmJhc2VDbHN9LXtwYXJlbnQudWl9LXsufS10YzwvdHBsPiIgc3R5bGU9ImJhY2tncm91bmQtcG9zaXRpb246IHt0Y307IGhlaWdodDoge2ZyYW1lV2lkdGh9cHgiIHJvbGU9InByZXNlbnRhdGlvbiI+PC90ZD4nLCc8dHBsIGlmPSJyaWdodCI+PHRkIGlkPSJ7ZmdpZH1UUiIgY2xhc3M9IntmcmFtZUNsc30tdHIge2Jhc2VDbHN9LXRyIHtiYXNlQ2xzfS17dWl9LXRyPHRwbCBmb3I9InVpQ2xzIj4ge3BhcmVudC5iYXNlQ2xzfS17cGFyZW50LnVpfS17Ln0tdHI8L3RwbD4iIHN0eWxlPSJiYWNrZ3JvdW5kLXBvc2l0aW9uOiB7dHJ9OyBwYWRkaW5nLWxlZnQ6IHtmcmFtZVdpZHRofXB4IiByb2xlPSJwcmVzZW50YXRpb24iPjwvdGQ+PC90cGw+JywiPC90cj4iLCI8L3RwbD4iLCI8dHI+IiwnPHRwbCBpZj0ibGVmdCI+PHRkIGlkPSJ7ZmdpZH1NTCIgY2xhc3M9IntmcmFtZUNsc30tbWwge2Jhc2VDbHN9LW1sIHtiYXNlQ2xzfS17dWl9LW1sPHRwbCBmb3I9InVpQ2xzIj4ge3BhcmVudC5iYXNlQ2xzfS17cGFyZW50LnVpfS17Ln0tbWw8L3RwbD4iIHN0eWxlPSJiYWNrZ3JvdW5kLXBvc2l0aW9uOiB7bWx9OyBwYWRkaW5nLWxlZnQ6IHtmcmFtZVdpZHRofXB4IiByb2xlPSJwcmVzZW50YXRpb24iPjwvdGQ+PC90cGw+JywnPHRkIGlkPSJ7ZmdpZH1NQyIgY2xhc3M9IntmcmFtZUNsc30tbWMge2Jhc2VDbHN9LW1jIHtiYXNlQ2xzfS17dWl9LW1jPHRwbCBmb3I9InVpQ2xzIj4ge3BhcmVudC5iYXNlQ2xzfS17cGFyZW50LnVpfS17Ln0tbWM8L3RwbD4iIHN0eWxlPSJiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIDA7IiByb2xlPSJwcmVzZW50YXRpb24iPicsInsldGhpcy5hcHBseVJlbmRlclRwbChvdXQsIHZhbHVlcyklfSIsIjwvdGQ+IiwnPHRwbCBpZj0icmlnaHQiPjx0ZCBpZD0ie2ZnaWR9TVIiIGNsYXNzPSJ7ZnJhbWVDbHN9LW1yIHtiYXNlQ2xzfS1tciB7YmFzZUNsc30te3VpfS1tcjx0cGwgZm9yPSJ1aUNscyI+IHtwYXJlbnQuYmFzZUNsc30te3BhcmVudC51aX0tey59LW1yPC90cGw+IiBzdHlsZT0iYmFja2dyb3VuZC1wb3NpdGlvbjoge21yfTsgcGFkZGluZy1sZWZ0OiB7ZnJhbWVXaWR0aH1weCIgcm9sZT0icHJlc2VudGF0aW9uIj48L3RkPjwvdHBsPicsIjwvdHI+IiwnPHRwbCBpZj0iYm90dG9tIj4nLCI8dHI+IiwnPHRwbCBpZj0ibGVmdCI+PHRkIGlkPSJ7ZmdpZH1CTCIgY2xhc3M9IntmcmFtZUNsc30tYmwge2Jhc2VDbHN9LWJsIHtiYXNlQ2xzfS17dWl9LWJsPHRwbCBmb3I9InVpQ2xzIj4ge3BhcmVudC5iYXNlQ2xzfS17cGFyZW50LnVpfS17Ln0tYmw8L3RwbD4iIHN0eWxlPSJiYWNrZ3JvdW5kLXBvc2l0aW9uOiB7Ymx9OyBwYWRkaW5nLWxlZnQ6IHtmcmFtZVdpZHRofXB4IiByb2xlPSJwcmVzZW50YXRpb24iPjwvdGQ+PC90cGw+JywnPHRkIGlkPSJ7ZmdpZH1CQyIgY2xhc3M9IntmcmFtZUNsc30tYmMge2Jhc2VDbHN9LWJjIHtiYXNlQ2xzfS17dWl9LWJjPHRwbCBmb3I9InVpQ2xzIj4ge3BhcmVudC5iYXNlQ2xzfS17cGFyZW50LnVpfS17Ln0tYmM8L3RwbD4iIHN0eWxlPSJiYWNrZ3JvdW5kLXBvc2l0aW9uOiB7YmN9OyBoZWlnaHQ6IHtmcmFtZVdpZHRofXB4IiByb2xlPSJwcmVzZW50YXRpb24iPjwvdGQ+JywnPHRwbCBpZj0icmlnaHQiPjx0ZCBpZD0ie2ZnaWR9QlIiIGNsYXNzPSJ7ZnJhbWVDbHN9LWJyIHtiYXNlQ2xzfS1iciB7YmFzZUNsc30te3VpfS1icjx0cGwgZm9yPSJ1aUNscyI+IHtwYXJlbnQuYmFzZUNsc30te3BhcmVudC51aX0tey59LWJyPC90cGw+IiBzdHlsZT0iYmFja2dyb3VuZC1wb3NpdGlvbjoge2JyfTsgcGFkZGluZy1sZWZ0OiB7ZnJhbWVXaWR0aH1weCIgcm9sZT0icHJlc2VudGF0aW9uIj48L3RkPjwvdHBsPicsIjwvdHI+IiwiPC90cGw+IiwiPC90Ym9keT48L3RhYmxlPiIsInsldGhpcy5yZW5kZXJEb2NrZWRJdGVtcyhvdXQsdmFsdWVzLDEpOyV9Il0sYWZ0ZXJSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9e30sZT1iLnByb3RvRWwsZD1iLmdldFRhcmdldEVsKCksYTtiLmZpbmlzaFJlbmRlckNoaWxkcmVuKCk7aWYoYi5zdHlsZUh0bWxDb250ZW50KXtkLmFkZENscyhiLnN0eWxlSHRtbENscyl9ZS53cml0ZVRvKGMpO2E9Yy5yZW1vdmVkO2lmKGEpe2QucmVtb3ZlQ2xzKGEpfWE9Yy5jbHM7aWYoYS5sZW5ndGgpe2QuYWRkQ2xzKGEpfWE9Yy5zdHlsZTtpZihjLnN0eWxlKXtkLnNldFN0eWxlKGEpfWIucHJvdG9FbD1udWxsO2lmKCFiLm93bmVyQ3Qpe2IudXBkYXRlTGF5b3V0KCl9fSxhZnRlckZpcnN0TGF5b3V0OmZ1bmN0aW9uKGQsYSl7dmFyIGU9dGhpcyxjPUV4dC5pc0RlZmluZWQoZS54KSxiPUV4dC5pc0RlZmluZWQoZS55KSxoLGc7aWYoZS5mbG9hdGluZyYmKCFjfHwhYikpe2lmKGUuZmxvYXRQYXJlbnQpe2c9ZS5lbC5nZXRBbGlnblRvWFkoZS5mbG9hdFBhcmVudC5nZXRUYXJnZXRFbCgpLCJjLWMiKTtoPWUuZmxvYXRQYXJlbnQuZ2V0VGFyZ2V0RWwoKS50cmFuc2xhdGVQb2ludHMoZ1swXSxnWzFdKX1lbHNle2c9ZS5lbC5nZXRBbGlnblRvWFkoZS5jb250YWluZXIsImMtYyIpO2g9ZS5jb250YWluZXIudHJhbnNsYXRlUG9pbnRzKGdbMF0sZ1sxXSl9ZS54PWM/ZS54OmgubGVmdDtlLnk9Yj9lLnk6aC50b3A7Yz1iPXRydWV9aWYoY3x8Yil7ZS5zZXRQb3NpdGlvbihlLngsZS55KX1lLm9uQm94UmVhZHkoZCxhKTtpZihlLmhhc0xpc3RlbmVycy5ib3hyZWFkeSl7ZS5maXJlRXZlbnQoImJveHJlYWR5IixlLGQsYSl9fSxvbkJveFJlYWR5OkV4dC5lbXB0eUZuLGFwcGx5UmVuZGVyU2VsZWN0b3JzOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxiPWQucmVuZGVyU2VsZWN0b3JzLGM9ZC5lbCxlPWMuZG9tLGE7ZC5hcHBseUNoaWxkRWxzKGMpO2lmKGIpe2ZvcihhIGluIGIpe2lmKGIuaGFzT3duUHJvcGVydHkoYSkmJmJbYV0pe2RbYV09RXh0LmdldChFeHQuRG9tUXVlcnkuc2VsZWN0Tm9kZShiW2FdLGUpKX19fX0sYmVmb3JlUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuZ2V0VGFyZ2V0RWwoKSxhPWIuZ2V0Q29tcG9uZW50TGF5b3V0KCk7Yi5mcmFtZT1iLmZyYW1lfHxiLmFsd2F5c0ZyYW1lZDtpZighYS5pbml0aWFsaXplZCl7YS5pbml0TGF5b3V0KCl9aWYoYyl7Yy5zZXRTdHlsZShiLmdldE92ZXJmbG93U3R5bGUoKSk7Yi5vdmVyZmxvd1N0eWxlU2V0PXRydWV9Yi5zZXRVSShiLnVpKTtpZihiLmRpc2FibGVkKXtiLmRpc2FibGUodHJ1ZSl9fSxkb0FwcGx5UmVuZGVyVHBsOmZ1bmN0aW9uKGMsYSl7dmFyIGQ9YS4kY29tcCxiO2lmKCFkLnJlbmRlcmVkKXtiPWQuaW5pdFJlbmRlclRwbCgpO2IuYXBwbHlPdXQoYS5yZW5kZXJEYXRhLGMpfX0sZG9BdXRvUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZighYS5yZW5kZXJlZCl7aWYoYS5mbG9hdGluZyl7YS5yZW5kZXIoZG9jdW1lbnQuYm9keSl9ZWxzZXthLnJlbmRlcihFeHQuaXNCb29sZWFuKGEuYXV0b1JlbmRlcik/RXh0LmdldEJvZHkoKTphLmF1dG9SZW5kZXIpfX19LGRvUmVuZGVyQ29udGVudDpmdW5jdGlvbihhLGMpe3ZhciBiPWMuJGNvbXA7aWYoYi5odG1sKXtFeHQuRG9tSGVscGVyLmdlbmVyYXRlTWFya3VwKGIuaHRtbCxhKTtkZWxldGUgYi5odG1sfWlmKGIudHBsKXtpZighYi50cGwuaXNUZW1wbGF0ZSl7Yi50cGw9bmV3IEV4dC5YVGVtcGxhdGUoYi50cGwpfWlmKGIuZGF0YSl7Yi50cGwuYXBwbHlPdXQoYi5kYXRhLGEpO2RlbGV0ZSBiLmRhdGF9fX0sZG9SZW5kZXJGcmFtaW5nRG9ja2VkSXRlbXM6ZnVuY3Rpb24oYSxjLGQpe3ZhciBiPWMuJGNvbXA7aWYoIWIucmVuZGVyZWQmJmIuZG9SZW5kZXJEb2NrZWRJdGVtcyl7Yy5yZW5kZXJEYXRhLiRza2lwRG9ja2VkSXRlbXM9dHJ1ZTtiLmRvUmVuZGVyRG9ja2VkSXRlbXMuY2FsbCh0aGlzLGEsYyxkKX19LGZpbmlzaFJlbmRlcjpmdW5jdGlvbihhKXt2YXIgZz10aGlzLGIsaCxlLGQsaSxjO2lmKCFnLmVsfHxnLiRwaWQpe2lmKGcuY29udGFpbmVyKXtkPWcuY29udGFpbmVyLmdldEJ5SWQoZy5pZCx0cnVlKX1lbHNle2Q9RXh0LmdldERvbShnLmlkKX1pZighZy5lbCl7Zy53cmFwUHJpbWFyeUVsKGQpfWVsc2V7ZGVsZXRlIGcuJHBpZDtpZighZy5lbC5kb20pe2cud3JhcFByaW1hcnlFbChnLmVsKX1kLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGcuZWwuZG9tLGQpO0V4dC5yZW1vdmVOb2RlKGQpfX1lbHNle2lmKCFnLnJlbmRlcmluZyl7Yj1nLmluaXRSZW5kZXJUcGwoKTtpZihiKXtoPWcuaW5pdFJlbmRlckRhdGEoKTtiLmluc2VydEZpcnN0KGcuZ2V0VGFyZ2V0RWwoKSxoKX19fWlmKCFnLmNvbnRhaW5lcil7Zy5jb250YWluZXI9RXh0LmdldChnLmVsLmRvbS5wYXJlbnROb2RlKX1pZihnLmN0Q2xzKXtnLmNvbnRhaW5lci5hZGRDbHMoZy5jdENscyl9Zy5vblJlbmRlcihnLmNvbnRhaW5lcixhKTtpZighZy5vdmVyZmxvd1N0eWxlU2V0KXtnLmdldFRhcmdldEVsKCkuc2V0U3R5bGUoZy5nZXRPdmVyZmxvd1N0eWxlKCkpfWcuZWwuc2V0VmlzaWJpbGl0eU1vZGUoRXh0LkVsZW1lbnRbZy5oaWRlTW9kZS50b1VwcGVyQ2FzZSgpXSk7aWYoZy5vdmVyQ2xzKXtnLmVsLmhvdmVyKGcuYWRkT3ZlckNscyxnLnJlbW92ZU92ZXJDbHMsZyl9aWYoZy5oYXNMaXN0ZW5lcnMucmVuZGVyKXtnLmZpcmVFdmVudCgicmVuZGVyIixnKX1pZihnLmNvbnRlbnRFbCl7aT1FeHQuYmFzZUNTU1ByZWZpeDtjPWkrImhpZGUtIjtlPUV4dC5nZXQoZy5jb250ZW50RWwpO2UucmVtb3ZlQ2xzKFtpKyJoaWRkZW4iLGMrImRpc3BsYXkiLGMrIm9mZnNldHMiLGMrIm5vc2l6ZSJdKTtnLmdldFRhcmdldEVsKCkuYXBwZW5kQ2hpbGQoZS5kb20pfWcuYWZ0ZXJSZW5kZXIoKTtpZihnLmhhc0xpc3RlbmVycy5hZnRlcnJlbmRlcil7Zy5maXJlRXZlbnQoImFmdGVycmVuZGVyIixnKX1nLmluaXRFdmVudHMoKTtpZihnLmhpZGRlbil7Zy5lbC5oaWRlKCl9fSxmaW5pc2hSZW5kZXJDaGlsZHJlbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q29tcG9uZW50TGF5b3V0KCk7YS5maW5pc2hSZW5kZXIoKX0sZ2V0RWxDb25maWc6ZnVuY3Rpb24oKXt2YXIgaD10aGlzLGo9aC5hdXRvRWwsZT1oLmdldEZyYW1lSW5mbygpLGE9e3RhZzoiZGl2IixpZDpoLmlkLHRwbDplP2guaW5pdEZyYW1pbmdUcGwoZS50YWJsZSk6aC5pbml0UmVuZGVyVHBsKCl9LGIsZCxnLGssYztoLmluaXRTdHlsZXMoaC5wcm90b0VsKTtoLnByb3RvRWwud3JpdGVUbyhhKTtoLnByb3RvRWwuZmx1c2goKTtpZihFeHQuaXNTdHJpbmcoaikpe2EudGFnPWp9ZWxzZXtFeHQuYXBwbHkoYSxqKX1pZihhLnRwbCl7aWYoZSl7ZD1oLmZyYW1lRWxOYW1lcztnPWQubGVuZ3RoO2M9aC5pZCsiLWZyYW1lMSI7aC5mcmFtZUdlbklkPTE7YS50cGxEYXRhPUV4dC5hcHBseSh7fSx7JGNvbXA6aCxmZ2lkOmMsdWk6aC51aSx1aUNsczpoLnVpQ2xzLGZyYW1lQ2xzOmguZnJhbWVDbHMsYmFzZUNsczpoLmJhc2VDbHMsZnJhbWVXaWR0aDplLm1heFdpZHRoLHRvcDohIWUudG9wLGxlZnQ6ISFlLmxlZnQscmlnaHQ6ISFlLnJpZ2h0LGJvdHRvbTohIWUuYm90dG9tLHJlbmRlckRhdGE6aC5pbml0UmVuZGVyRGF0YSgpfSxoLmdldEZyYW1lUG9zaXRpb25zKGUpKTtmb3IoYj0wO2I8ZztiKyspe2s9ZFtiXTtoLmFkZENoaWxkRWxzKHtuYW1lOiJmcmFtZSIrayxpZDpjK2t9KX1oLmFkZENoaWxkRWxzKHtuYW1lOiJmcmFtZUJvZHkiLGlkOmMrIk1DIn0pfWVsc2V7YS50cGxEYXRhPWguaW5pdFJlbmRlckRhdGEoKX19cmV0dXJuIGF9LGluaXRGcmFtaW5nVHBsOmZ1bmN0aW9uKGIpe3ZhciBhPWI/dGhpcy5nZXRUcGwoImZyYW1lVGFibGVUcGwiKTp0aGlzLmdldFRwbCgiZnJhbWVUcGwiKTtpZihhJiYhYS5hcHBseVJlbmRlclRwbCl7dGhpcy5zZXR1cEZyYW1pbmdUcGwoYSl9cmV0dXJuIGF9LHNldHVwRnJhbWluZ1RwbDpmdW5jdGlvbihhKXthLmFwcGx5UmVuZGVyVHBsPXRoaXMuZG9BcHBseVJlbmRlclRwbDthLnJlbmRlckRvY2tlZEl0ZW1zPXRoaXMuZG9SZW5kZXJGcmFtaW5nRG9ja2VkSXRlbXN9LGdldEluc2VydFBvc2l0aW9uOmZ1bmN0aW9uKGEpe2lmKGEhPT11bmRlZmluZWQpe2lmKEV4dC5pc051bWJlcihhKSl7YT10aGlzLmNvbnRhaW5lci5kb20uY2hpbGROb2Rlc1thXX1lbHNle2E9RXh0LmdldERvbShhKX19cmV0dXJuIGF9LGdldFJlbmRlclRyZWU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKCFhLmhhc0xpc3RlbmVycy5iZWZvcmVyZW5kZXJ8fGEuZmlyZUV2ZW50KCJiZWZvcmVyZW5kZXIiLGEpIT09ZmFsc2Upe2EuYmVmb3JlUmVuZGVyKCk7YS5yZW5kZXJpbmc9dHJ1ZTtpZihhLmVsKXtyZXR1cm57dGFnOiJkaXYiLGlkOihhLiRwaWQ9RXh0LmlkKCkpfX1yZXR1cm4gYS5nZXRFbENvbmZpZygpfXJldHVybiBudWxsfSxpbml0Q29udGFpbmVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoIWEmJmIuZWwpe2E9Yi5lbC5kb20ucGFyZW50Tm9kZTtiLmFsbG93RG9tTW92ZT1mYWxzZX1iLmNvbnRhaW5lcj1hLmRvbT9hOkV4dC5nZXQoYSk7cmV0dXJuIGIuY29udGFpbmVyfSxpbml0UmVuZGVyRGF0YTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIEV4dC5hcHBseSh7JGNvbXA6YSxpZDphLmlkLHVpOmEudWksdWlDbHM6YS51aUNscyxiYXNlQ2xzOmEuYmFzZUNscyxjb21wb25lbnRDbHM6YS5jb21wb25lbnRDbHMsZnJhbWU6YS5mcmFtZX0sYS5yZW5kZXJEYXRhKX0saW5pdFJlbmRlclRwbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0VHBsKCJyZW5kZXJUcGwiKTtpZihhJiYhYS5yZW5kZXJDb250ZW50KXt0aGlzLnNldHVwUmVuZGVyVHBsKGEpfXJldHVybiBhfSxvblJlbmRlcjpmdW5jdGlvbihkLGUpe3ZhciBnPXRoaXMsaT1nLngsaD1nLnksYyxhLGosYj1nLmVsO2lmKEV4dC5zY29wZVJlc2V0Q1NTJiYhZy5vd25lckN0KXtpZihiLmRvbT09RXh0LmdldEJvZHkoKS5kb20pe2IucGFyZW50KCkuYWRkQ2xzKEV4dC5yZXNldENscyl9ZWxzZXtnLnJlc2V0RWw9Yi53cmFwKHtjbHM6RXh0LnJlc2V0Q2xzfSl9fWcuYXBwbHlSZW5kZXJTZWxlY3RvcnMoKTtkZWxldGUgZy5yZW5kZXJpbmc7Zy5yZW5kZXJlZD10cnVlO2M9bnVsbDtpZihpIT09dW5kZWZpbmVkKXtjPWN8fHt9O2MueD1pfWlmKGghPT11bmRlZmluZWQpe2M9Y3x8e307Yy55PWh9aWYoIWcuZ2V0RnJhbWVJbmZvKCkmJkV4dC5pc0JvcmRlckJveCl7YT1nLndpZHRoO2o9Zy5oZWlnaHQ7aWYodHlwZW9mIGE9PSJudW1iZXIiKXtjPWN8fHt9O2Mud2lkdGg9YX1pZih0eXBlb2Ygaj09Im51bWJlciIpe2M9Y3x8e307Yy5oZWlnaHQ9an19Zy5sYXN0Qm94PWcuZWwubGFzdEJveD1jfSxyZW5kZXI6ZnVuY3Rpb24oYyxiKXt2YXIgZT10aGlzLGQ9ZS5lbCYmKGUuZWw9RXh0LmdldChlLmVsKSksYSxnO0V4dC5zdXNwZW5kTGF5b3V0cygpO2M9ZS5pbml0Q29udGFpbmVyKGMpO2c9ZS5nZXRJbnNlcnRQb3NpdGlvbihiKTtpZighZCl7YT1lLmdldFJlbmRlclRyZWUoKTtpZihhKXtpZihnKXtkPUV4dC5Eb21IZWxwZXIuaW5zZXJ0QmVmb3JlKGcsYSl9ZWxzZXtkPUV4dC5Eb21IZWxwZXIuYXBwZW5kKGMsYSl9ZS53cmFwUHJpbWFyeUVsKGQpfX1lbHNle2UuaW5pdFN0eWxlcyhkKTtpZihlLmFsbG93RG9tTW92ZSE9PWZhbHNlKXtpZihnKXtjLmRvbS5pbnNlcnRCZWZvcmUoZC5kb20sZyl9ZWxzZXtjLmRvbS5hcHBlbmRDaGlsZChkLmRvbSl9fX1pZihkKXtlLmZpbmlzaFJlbmRlcihiKX1FeHQucmVzdW1lTGF5b3V0cyghYy5pc0RldGFjaGVkQm9keSl9LGVuc3VyZUF0dGFjaGVkVG9Cb2R5OmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYTt3aGlsZShiLm93bmVyQ3Qpe2I9Yi5vd25lckN0fWlmKGIuY29udGFpbmVyLmlzRGV0YWNoZWRCb2R5KXtiLmNvbnRhaW5lcj1hPUV4dC5nZXRCb2R5KCk7YS5hcHBlbmRDaGlsZChiLmVsLmRvbSk7aWYoYyl7Yi51cGRhdGVMYXlvdXQoKX1pZih0eXBlb2YgYi54PT0ibnVtYmVyInx8dHlwZW9mIGIueT09Im51bWJlciIpe2Iuc2V0UG9zaXRpb24oYi54LGIueSl9fX0sc2V0dXBSZW5kZXJUcGw6ZnVuY3Rpb24oYSl7YS5yZW5kZXJCb2R5PWEucmVuZGVyQ29udGVudD10aGlzLmRvUmVuZGVyQ29udGVudH0sd3JhcFByaW1hcnlFbDpmdW5jdGlvbihhKXt0aGlzLmVsPUV4dC5nZXQoYSx0cnVlKX0saW5pdEZyYW1lOmZ1bmN0aW9uKCl7aWYoRXh0LnN1cHBvcnRzLkNTUzNCb3JkZXJSYWRpdXN8fCF0aGlzLmZyYW1lKXtyZXR1cm59dmFyIGg9dGhpcyxlPWguZ2V0RnJhbWVJbmZvKCksaixhLGMsYixkPWguZnJhbWVFbE5hbWVzLGc9ZC5sZW5ndGgsaztpZihlKXtqPWUubWF4V2lkdGg7YT1oLmdldEZyYW1lVHBsKGUudGFibGUpO2guZnJhbWVHZW5JZD1jPShoLmZyYW1lR2VuSWR8fDApKzE7Yz1oLmlkKyItZnJhbWUiK2M7YS5pbnNlcnRGaXJzdChoLmVsLEV4dC5hcHBseSh7JGNvbXA6aCxmZ2lkOmMsdWk6aC51aSx1aUNsczpoLnVpQ2xzLGZyYW1lQ2xzOmguZnJhbWVDbHMsYmFzZUNsczpoLmJhc2VDbHMsZnJhbWVXaWR0aDpqLHRvcDohIWUudG9wLGxlZnQ6ISFlLmxlZnQscmlnaHQ6ISFlLnJpZ2h0LGJvdHRvbTohIWUuYm90dG9tfSxoLmdldEZyYW1lUG9zaXRpb25zKGUpKSk7aC5mcmFtZUJvZHk9aC5lbC5kb3duKCIuIitoLmZyYW1lQ2xzKyItbWMiKTtoLnJlbW92ZUNoaWxkRWxzKGZ1bmN0aW9uKGkpe3JldHVybiBpLmlkJiZoLmZyYW1lSWRSZWdleC50ZXN0KGkuaWQpfSk7Zm9yKGI9MDtiPGc7YisrKXtrPWRbYl07aFsiZnJhbWUiK2tdPWguZWwuZ2V0QnlJZChjK2spfX19LHVwZGF0ZUZyYW1lOmZ1bmN0aW9uKCl7aWYoRXh0LnN1cHBvcnRzLkNTUzNCb3JkZXJSYWRpdXN8fCF0aGlzLmZyYW1lKXtyZXR1cm59dmFyIGU9dGhpcyxoPXRoaXMuZnJhbWVTaXplJiZ0aGlzLmZyYW1lU2l6ZS50YWJsZSxnPXRoaXMuZnJhbWVUTCxkPXRoaXMuZnJhbWVCTCxjPXRoaXMuZnJhbWVNTCxhPXRoaXMuZnJhbWVNQyxiO3RoaXMuaW5pdEZyYW1lKCk7aWYoYSl7aWYoZS5mcmFtZSl7Yj10aGlzLmZyYW1lTUMuZG9tLmNsYXNzTmFtZTthLmluc2VydEFmdGVyKHRoaXMuZnJhbWVNQyk7dGhpcy5mcmFtZU1DLnJlbW92ZSgpO3RoaXMuZnJhbWVCb2R5PXRoaXMuZnJhbWVNQz1hO2EuZG9tLmNsYXNzTmFtZT1iO2lmKGgpe2UuZWwucXVlcnkoIj4gdGFibGUiKVsxXS5yZW1vdmUoKX1lbHNle2lmKGcpe2cucmVtb3ZlKCl9aWYoZCl7ZC5yZW1vdmUoKX1pZihjKXtjLnJlbW92ZSgpfX19fWVsc2V7aWYoZS5mcmFtZSl7dGhpcy5hcHBseVJlbmRlclNlbGVjdG9ycygpfX19LGdldEZyYW1lSW5mbzpmdW5jdGlvbigpe2lmKEV4dC5zdXBwb3J0cy5DU1MzQm9yZGVyUmFkaXVzfHwhdGhpcy5mcmFtZSl7cmV0dXJuIGZhbHNlfXZhciBnPXRoaXMsaT1nLmZyYW1lSW5mb0NhY2hlLGE9Zy5lbHx8Zy5wcm90b0VsLGo9YS5kb20/YS5kb20uY2xhc3NOYW1lOmEuY2xhc3NMaXN0LmpvaW4oIiAiKSxkPWlbal0sZSxjLGgsYjtpZihkPT1udWxsKXtlPUV4dC5mbHkoZy5nZXRTdHlsZVByb3h5KGopLCJmcmFtZS1zdHlsZS1lbCIpO2M9ZS5nZXRTdHlsZSgiYmFja2dyb3VuZC1wb3NpdGlvbi14Iik7aD1lLmdldFN0eWxlKCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXkiKTtpZighYyYmIWgpe2I9ZS5nZXRTdHlsZSgiYmFja2dyb3VuZC1wb3NpdGlvbiIpLnNwbGl0KCIgIik7Yz1iWzBdO2g9YlsxXX1kPWcuY2FsY3VsYXRlRnJhbWUoYyxoKTtpZihkKXthLnNldFN0eWxlKCJiYWNrZ3JvdW5kLWltYWdlIiwibm9uZSIpfWlbal09ZH1nLmZyYW1lPSEhZDtnLmZyYW1lU2l6ZT1kO3JldHVybiBkfSxjYWxjdWxhdGVGcmFtZTpmdW5jdGlvbihoLGcpe2lmKCEocGFyc2VJbnQoaCwxMCk+PTEwMDAwMDAmJnBhcnNlSW50KGcsMTApPj0xMDAwMDAwKSl7cmV0dXJuIGZhbHNlfXZhciBhPU1hdGgubWF4LGI9cGFyc2VJbnQoaC5zdWJzdHIoMywyKSwxMCksZT1wYXJzZUludChoLnN1YnN0cig1LDIpLDEwKSxjPXBhcnNlSW50KGcuc3Vic3RyKDMsMiksMTApLGk9cGFyc2VJbnQoZy5zdWJzdHIoNSwyKSwxMCksZD17dGFibGU6aC5zdWJzdHIoMCwzKT09IjExMCIsdmVydGljYWw6Zy5zdWJzdHIoMCwzKT09IjExMCIsdG9wOmEoYixlKSxyaWdodDphKGUsYyksYm90dG9tOmEoaSxjKSxsZWZ0OmEoYixpKX07ZC5tYXhXaWR0aD1hKGQudG9wLGQucmlnaHQsZC5ib3R0b20sZC5sZWZ0KTtkLndpZHRoPWQubGVmdCtkLnJpZ2h0O2QuaGVpZ2h0PWQudG9wK2QuYm90dG9tO3JldHVybiBkfSxnZXRTdHlsZVByb3h5OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuc3R5bGVQcm94eUVsfHwoRXh0LkFic3RyYWN0Q29tcG9uZW50LnByb3RvdHlwZS5zdHlsZVByb3h5RWw9RXh0LmdldEJvZHkoKS5jcmVhdGVDaGlsZCh7c3R5bGU6e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOiItMTAwMDBweCJ9fSxudWxsLHRydWUpKTthLmNsYXNzTmFtZT1iO3JldHVybiBhfSxnZXRGcmFtZVBvc2l0aW9uczpmdW5jdGlvbihlKXt2YXIgaD10aGlzLGk9ZS5tYXhXaWR0aCxqPWguZG9jayxkLGIsZyxjLGE7aWYoZS52ZXJ0aWNhbCl7Yj0iMCAtIisoaSowKSsicHgiO2c9IjAgLSIrKGkqMSkrInB4IjtpZihqJiZqPT0icmlnaHQiKXtiPSJyaWdodCAtIisoaSowKSsicHgiO2c9InJpZ2h0IC0iKyhpKjEpKyJweCJ9ZD17dGw6IjAgLSIrKGkqMCkrInB4Iix0cjoiMCAtIisoaSoxKSsicHgiLGJsOiIwIC0iKyhpKjIpKyJweCIsYnI6IjAgLSIrKGkqMykrInB4IixtbDoiLSIrKGkqMSkrInB4IDAiLG1yOiJyaWdodCAwIix0YzpiLGJjOmd9fWVsc2V7Yz0iLSIrKGkqMCkrInB4IDAiO2E9InJpZ2h0IDAiO2lmKGomJmo9PSJib3R0b20iKXtjPSJsZWZ0IGJvdHRvbSI7YT0icmlnaHQgYm90dG9tIn1kPXt0bDoiMCAtIisoaSoyKSsicHgiLHRyOiJyaWdodCAtIisoaSozKSsicHgiLGJsOiIwIC0iKyhpKjQpKyJweCIsYnI6InJpZ2h0IC0iKyhpKjUpKyJweCIsbWw6YyxtcjphLHRjOiIwIC0iKyhpKjApKyJweCIsYmM6IjAgLSIrKGkqMSkrInB4In19cmV0dXJuIGR9LGdldEZyYW1lVHBsOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldFRwbChhPyJmcmFtZVRhYmxlVHBsIjoiZnJhbWVUcGwiKX0sZnJhbWVJbmZvQ2FjaGU6e319KTtFeHQuZGVmaW5lKCJFeHQudXRpbC5Tb3J0ZXIiLHtkaXJlY3Rpb246IkFTQyIsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztFeHQuYXBwbHkoYixhKTtiLnVwZGF0ZVNvcnRGdW5jdGlvbigpfSxjcmVhdGVTb3J0RnVuY3Rpb246ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkPWMucHJvcGVydHksZT1jLmRpcmVjdGlvbnx8IkFTQyIsYT1lLnRvVXBwZXJDYXNlKCk9PSJERVNDIj8tMToxO3JldHVybiBmdW5jdGlvbihoLGcpe3JldHVybiBhKmIuY2FsbChjLGgsZyl9fSxkZWZhdWx0U29ydGVyRm46ZnVuY3Rpb24oZCxjKXt2YXIgYj10aGlzLGE9Yi50cmFuc2Zvcm0sZz1iLmdldFJvb3QoZClbYi5wcm9wZXJ0eV0sZT1iLmdldFJvb3QoYylbYi5wcm9wZXJ0eV07aWYoYSl7Zz1hKGcpO2U9YShlKX1yZXR1cm4gZz5lPzE6KGc8ZT8tMTowKX0sZ2V0Um9vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yb290PT09dW5kZWZpbmVkP2E6YVt0aGlzLnJvb3RdfSxzZXREaXJlY3Rpb246ZnVuY3Rpb24oYil7dmFyIGE9dGhpczthLmRpcmVjdGlvbj1iO2EudXBkYXRlU29ydEZ1bmN0aW9uKCl9LHRvZ2dsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5kaXJlY3Rpb249RXh0LlN0cmluZy50b2dnbGUoYS5kaXJlY3Rpb24sIkFTQyIsIkRFU0MiKTthLnVwZGF0ZVNvcnRGdW5jdGlvbigpfSx1cGRhdGVTb3J0RnVuY3Rpb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczthPWF8fGIuc29ydGVyRm58fGIuZGVmYXVsdFNvcnRlckZuO2Iuc29ydD1iLmNyZWF0ZVNvcnRGdW5jdGlvbihhKX19KTtFeHQuZGVmaW5lKCJFeHQuQWN0aW9uIix7Y29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dGhpcy5pbml0aWFsQ29uZmlnPWE7dGhpcy5pdGVtSWQ9YS5pdGVtSWQ9KGEuaXRlbUlkfHxhLmlkfHxFeHQuaWQoKSk7dGhpcy5pdGVtcz1bXX0saXNBY3Rpb246dHJ1ZSxzZXRUZXh0OmZ1bmN0aW9uKGEpe3RoaXMuaW5pdGlhbENvbmZpZy50ZXh0PWE7dGhpcy5jYWxsRWFjaCgic2V0VGV4dCIsW2FdKX0sZ2V0VGV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmluaXRpYWxDb25maWcudGV4dH0sc2V0SWNvbkNsczpmdW5jdGlvbihhKXt0aGlzLmluaXRpYWxDb25maWcuaWNvbkNscz1hO3RoaXMuY2FsbEVhY2goInNldEljb25DbHMiLFthXSl9LGdldEljb25DbHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0aWFsQ29uZmlnLmljb25DbHN9LHNldERpc2FibGVkOmZ1bmN0aW9uKGEpe3RoaXMuaW5pdGlhbENvbmZpZy5kaXNhYmxlZD1hO3RoaXMuY2FsbEVhY2goInNldERpc2FibGVkIixbYV0pfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLnNldERpc2FibGVkKGZhbHNlKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuc2V0RGlzYWJsZWQodHJ1ZSl9LGlzRGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbml0aWFsQ29uZmlnLmRpc2FibGVkfSxzZXRIaWRkZW46ZnVuY3Rpb24oYSl7dGhpcy5pbml0aWFsQ29uZmlnLmhpZGRlbj1hO3RoaXMuY2FsbEVhY2goInNldFZpc2libGUiLFshYV0pfSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5zZXRIaWRkZW4oZmFsc2UpfSxoaWRlOmZ1bmN0aW9uKCl7dGhpcy5zZXRIaWRkZW4odHJ1ZSl9LGlzSGlkZGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5pdGlhbENvbmZpZy5oaWRkZW59LHNldEhhbmRsZXI6ZnVuY3Rpb24oYixhKXt0aGlzLmluaXRpYWxDb25maWcuaGFuZGxlcj1iO3RoaXMuaW5pdGlhbENvbmZpZy5zY29wZT1hO3RoaXMuY2FsbEVhY2goInNldEhhbmRsZXIiLFtiLGFdKX0sZWFjaDpmdW5jdGlvbihiLGEpe0V4dC5lYWNoKHRoaXMuaXRlbXMsYixhKX0sY2FsbEVhY2g6ZnVuY3Rpb24oZSxjKXt2YXIgYj10aGlzLml0ZW1zLGQ9MCxhPWIubGVuZ3RoO2Zvcig7ZDxhO2QrKyl7YltkXVtlXS5hcHBseShiW2RdLGMpfX0sYWRkQ29tcG9uZW50OmZ1bmN0aW9uKGEpe3RoaXMuaXRlbXMucHVzaChhKTthLm9uKCJkZXN0cm95Iix0aGlzLnJlbW92ZUNvbXBvbmVudCx0aGlzKX0scmVtb3ZlQ29tcG9uZW50OmZ1bmN0aW9uKGEpe0V4dC5BcnJheS5yZW1vdmUodGhpcy5pdGVtcyxhKX0sZXhlY3V0ZTpmdW5jdGlvbigpe3RoaXMuaW5pdGlhbENvbmZpZy5oYW5kbGVyLmFwcGx5KHRoaXMuaW5pdGlhbENvbmZpZy5zY29wZXx8RXh0Lmdsb2JhbCxhcmd1bWVudHMpfX0pO0V4dC5kZWZpbmUoIkV4dC5MYXllciIse2V4dGVuZDoiRXh0LkVsZW1lbnQiLHVzZXM6WyJFeHQuU2hhZG93Il0sc3RhdGljczp7c2hpbXM6W119LGlzTGF5ZXI6dHJ1ZSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihiLGEpe2I9Ynx8e307dmFyIGM9dGhpcyxkPUV4dC5Eb21IZWxwZXIsZz1iLnBhcmVudEVsLGU9Zz9FeHQuZ2V0RG9tKGcpOmRvY3VtZW50LmJvZHksaD1iLmhpZGVNb2RlO2lmKGEpe2MuZG9tPUV4dC5nZXREb20oYSl9aWYoIWMuZG9tKXtjLmRvbT1kLmFwcGVuZChlLGIuZGh8fHt0YWc6ImRpdiIsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJsYXllciJ9KX1lbHNle2MuYWRkQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJsYXllciIpO2lmKCFjLmRvbS5wYXJlbnROb2RlKXtlLmFwcGVuZENoaWxkKGMuZG9tKX19aWYoYi5pZCl7Yy5pZD1jLmRvbS5pZD1iLmlkfWVsc2V7Yy5pZD1FeHQuaWQoYy5kb20pfUV4dC5FbGVtZW50LmFkZFRvQ2FjaGUoYyk7aWYoYi5jbHMpe2MuYWRkQ2xzKGIuY2xzKX1jLmNvbnN0cmFpbj1iLmNvbnN0cmFpbiE9PWZhbHNlO2lmKGgpe2Muc2V0VmlzaWJpbGl0eU1vZGUoRXh0LkVsZW1lbnRbaC50b1VwcGVyQ2FzZSgpXSk7aWYoYy52aXNpYmlsaXR5TW9kZT09RXh0LkVsZW1lbnQuQVNDTEFTUyl7Yy52aXNpYmlsaXR5Q2xzPWIudmlzaWJpbGl0eUNsc319ZWxzZXtpZihiLnVzZURpc3BsYXkpe2Muc2V0VmlzaWJpbGl0eU1vZGUoRXh0LkVsZW1lbnQuRElTUExBWSl9ZWxzZXtjLnNldFZpc2liaWxpdHlNb2RlKEV4dC5FbGVtZW50LlZJU0lCSUxJVFkpfX1pZihiLnNoYWRvdyl7Yy5zaGFkb3dPZmZzZXQ9Yi5zaGFkb3dPZmZzZXR8fDQ7Yy5zaGFkb3c9bmV3IEV4dC5TaGFkb3coe29mZnNldDpjLnNoYWRvd09mZnNldCxtb2RlOmIuc2hhZG93fSk7Yy5kaXNhYmxlU2hhZG93KCl9ZWxzZXtjLnNoYWRvd09mZnNldD0wfWMudXNlU2hpbT1iLnNoaW0hPT1mYWxzZSYmRXh0LnVzZVNoaW1zO2lmKGIuaGlkZGVuPT09dHJ1ZSl7Yy5oaWRlKCl9ZWxzZXtjLnNob3coKX19LGdldFpJbmRleDpmdW5jdGlvbigpe3JldHVybiBwYXJzZUludCgodGhpcy5nZXRTaGltKCl8fHRoaXMpLmdldFN0eWxlKCJ6LWluZGV4IiksMTApfSxnZXRTaGltOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjLGE7aWYoIWIudXNlU2hpbSl7cmV0dXJuIG51bGx9aWYoIWIuc2hpbSl7Yz1iLnNlbGYuc2hpbXMuc2hpZnQoKTtpZighYyl7Yz1iLmNyZWF0ZVNoaW0oKTtjLmVuYWJsZURpc3BsYXlNb2RlKCJibG9jayIpO2MuaGlkZSgpfWE9Yi5kb20ucGFyZW50Tm9kZTtpZihjLmRvbS5wYXJlbnROb2RlIT1hKXthLmluc2VydEJlZm9yZShjLmRvbSxiLmRvbSl9Yi5zaGltPWN9cmV0dXJuIGIuc2hpbX0saGlkZVNoaW06ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuc2hpbSl7YS5zaGltLnNldERpc3BsYXllZChmYWxzZSk7YS5zZWxmLnNoaW1zLnB1c2goYS5zaGltKTtkZWxldGUgYS5zaGltfX0sZGlzYWJsZVNoYWRvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5zaGFkb3cmJiFhLnNoYWRvd0Rpc2FibGVkKXthLnNoYWRvd0Rpc2FibGVkPXRydWU7YS5zaGFkb3cuaGlkZSgpO2EubGFzdFNoYWRvd09mZnNldD1hLnNoYWRvd09mZnNldDthLnNoYWRvd09mZnNldD0wfX0sZW5hYmxlU2hhZG93OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoYi5zaGFkb3cmJmIuc2hhZG93RGlzYWJsZWQpe2Iuc2hhZG93RGlzYWJsZWQ9ZmFsc2U7Yi5zaGFkb3dPZmZzZXQ9Yi5sYXN0U2hhZG93T2Zmc2V0O2RlbGV0ZSBiLmxhc3RTaGFkb3dPZmZzZXQ7aWYoYSl7Yi5zeW5jKHRydWUpfX19LHN5bmM6ZnVuY3Rpb24oYil7dmFyIGo9dGhpcyxuPWouc2hhZG93LGksZSxhLGQsYyxvLG0sZyxrO2lmKCFqLnVwZGF0aW5nJiZqLmlzVmlzaWJsZSgpJiYobnx8ai51c2VTaGltKSl7ZD1qLmdldFNoaW0oKTtjPWouZ2V0TGVmdCh0cnVlKTtvPWouZ2V0VG9wKHRydWUpO209ai5kb20ub2Zmc2V0V2lkdGg7Zz1qLmRvbS5vZmZzZXRIZWlnaHQ7aWYobiYmIWouc2hhZG93RGlzYWJsZWQpe2lmKGImJiFuLmlzVmlzaWJsZSgpKXtuLnNob3coail9ZWxzZXtuLnJlYWxpZ24oYyxvLG0sZyl9aWYoZCl7az1kLmdldFN0eWxlKCJ6LWluZGV4Iik7aWYoaz5qLnppbmRleCl7ai5zaGltLnNldFN0eWxlKCJ6LWluZGV4IixqLnppbmRleC0yKX1kLnNob3coKTtpZihuLmlzVmlzaWJsZSgpKXtpPW4uZWwuZ2V0WFkoKTtlPWQuZG9tLnN0eWxlO2E9bi5lbC5nZXRTaXplKCk7aWYoRXh0LnN1cHBvcnRzLkNTUzNCb3hTaGFkb3cpe2EuaGVpZ2h0Kz02O2Eud2lkdGgrPTQ7aVswXS09MjtpWzFdLT00fWUubGVmdD0oaVswXSkrInB4IjtlLnRvcD0oaVsxXSkrInB4IjtlLndpZHRoPShhLndpZHRoKSsicHgiO2UuaGVpZ2h0PShhLmhlaWdodCkrInB4In1lbHNle2Quc2V0U2l6ZShtLGcpO2Quc2V0TGVmdFRvcChjLG8pfX19ZWxzZXtpZihkKXtrPWQuZ2V0U3R5bGUoInotaW5kZXgiKTtpZihrPmouemluZGV4KXtqLnNoaW0uc2V0U3R5bGUoInotaW5kZXgiLGouemluZGV4LTIpfWQuc2hvdygpO2Quc2V0U2l6ZShtLGcpO2Quc2V0TGVmdFRvcChjLG8pfX19cmV0dXJuIGp9LHJlbW92ZTpmdW5jdGlvbigpe3RoaXMuaGlkZVVuZGVycygpO3RoaXMuY2FsbFBhcmVudCgpfSxiZWdpblVwZGF0ZTpmdW5jdGlvbigpe3RoaXMudXBkYXRpbmc9dHJ1ZX0sZW5kVXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy51cGRhdGluZz1mYWxzZTt0aGlzLnN5bmModHJ1ZSl9LGhpZGVVbmRlcnM6ZnVuY3Rpb24oKXtpZih0aGlzLnNoYWRvdyl7dGhpcy5zaGFkb3cuaGlkZSgpfXRoaXMuaGlkZVNoaW0oKX0sY29uc3RyYWluWFk6ZnVuY3Rpb24oKXtpZih0aGlzLmNvbnN0cmFpbil7dmFyIGc9RXh0LkVsZW1lbnQuZ2V0Vmlld1dpZHRoKCksYj1FeHQuRWxlbWVudC5nZXRWaWV3SGVpZ2h0KCksbD1FeHQuZ2V0RG9jKCkuZ2V0U2Nyb2xsKCksaz10aGlzLmdldFhZKCksaT1rWzBdLGU9a1sxXSxhPXRoaXMuc2hhZG93T2Zmc2V0LGo9dGhpcy5kb20ub2Zmc2V0V2lkdGgrYSxjPXRoaXMuZG9tLm9mZnNldEhlaWdodCthLGQ9ZmFsc2U7aWYoKGkraik+ZytsLmxlZnQpe2k9Zy1qLWE7ZD10cnVlfWlmKChlK2MpPmIrbC50b3Ape2U9Yi1jLWE7ZD10cnVlfWlmKGk8bC5sZWZ0KXtpPWwubGVmdDtkPXRydWV9aWYoZTxsLnRvcCl7ZT1sLnRvcDtkPXRydWV9aWYoZCl7RXh0LkxheWVyLnN1cGVyY2xhc3Muc2V0WFkuY2FsbCh0aGlzLFtpLGVdKTt0aGlzLnN5bmMoKX19cmV0dXJuIHRoaXN9LGdldENvbnN0cmFpbk9mZnNldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNoYWRvd09mZnNldH0sc2V0VmlzaWJsZTpmdW5jdGlvbihlLGIsZCxoLGcpe3ZhciBjPXRoaXMsYTthPWZ1bmN0aW9uKCl7aWYoZSl7Yy5zeW5jKHRydWUpfWlmKGgpe2goKX19O2lmKCFlKXtjLmhpZGVVbmRlcnModHJ1ZSl9Yy5jYWxsUGFyZW50KFtlLGIsZCxoLGddKTtpZighYil7YSgpfXJldHVybiBjfSxiZWZvcmVGeDpmdW5jdGlvbigpe3RoaXMuYmVmb3JlQWN0aW9uKCk7cmV0dXJuIHRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxhZnRlckZ4OmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dGhpcy5zeW5jKHRoaXMuaXNWaXNpYmxlKCkpfSxiZWZvcmVBY3Rpb246ZnVuY3Rpb24oKXtpZighdGhpcy51cGRhdGluZyYmdGhpcy5zaGFkb3cpe3RoaXMuc2hhZG93LmhpZGUoKX19LHNldExlZnQ6ZnVuY3Rpb24oYSl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuc3luYygpfSxzZXRUb3A6ZnVuY3Rpb24oYSl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuc3luYygpfSxzZXRMZWZ0VG9wOmZ1bmN0aW9uKGIsYSl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuc3luYygpfSxzZXRYWTpmdW5jdGlvbihkLGEsYyxnLGUpe3ZhciBiPXRoaXM7Zz1iLmNyZWF0ZUNCKGcpO2IuZml4RGlzcGxheSgpO2IuYmVmb3JlQWN0aW9uKCk7Yi5jYWxsUGFyZW50KFtkLGEsYyxnLGVdKTtpZighYSl7ZygpfXJldHVybiBifSxjcmVhdGVDQjpmdW5jdGlvbihjKXt2YXIgYT10aGlzLGI9YS5zaGFkb3cmJmEuc2hhZG93LmlzVmlzaWJsZSgpO3JldHVybiBmdW5jdGlvbigpe2EuY29uc3RyYWluWFkoKTthLnN5bmMoYik7aWYoYyl7YygpfX19LHNldFg6ZnVuY3Rpb24oYSxiLGMsZSxkKXt0aGlzLnNldFhZKFthLHRoaXMuZ2V0WSgpXSxiLGMsZSxkKTtyZXR1cm4gdGhpc30sc2V0WTpmdW5jdGlvbihlLGEsYixkLGMpe3RoaXMuc2V0WFkoW3RoaXMuZ2V0WCgpLGVdLGEsYixkLGMpO3JldHVybiB0aGlzfSxzZXRTaXplOmZ1bmN0aW9uKGEsYyxiLGUsaSxnKXt2YXIgZD10aGlzO2k9ZC5jcmVhdGVDQihpKTtkLmJlZm9yZUFjdGlvbigpO2QuY2FsbFBhcmVudChbYSxjLGIsZSxpLGddKTtpZighYil7aSgpfXJldHVybiBkfSxzZXRXaWR0aDpmdW5jdGlvbihhLGIsZCxnLGUpe3ZhciBjPXRoaXM7Zz1jLmNyZWF0ZUNCKGcpO2MuYmVmb3JlQWN0aW9uKCk7Yy5jYWxsUGFyZW50KFthLGIsZCxnLGVdKTtpZighYil7ZygpfXJldHVybiBjfSxzZXRIZWlnaHQ6ZnVuY3Rpb24oYixhLGQsZyxlKXt2YXIgYz10aGlzO2c9Yy5jcmVhdGVDQihnKTtjLmJlZm9yZUFjdGlvbigpO2MuY2FsbFBhcmVudChbYixhLGQsZyxlXSk7aWYoIWEpe2coKX1yZXR1cm4gY30sc2V0Qm91bmRzOmZ1bmN0aW9uKGgsZyxhLGosYixjLGksZCl7dmFyIGU9dGhpcztpPWUuY3JlYXRlQ0IoaSk7ZS5iZWZvcmVBY3Rpb24oKTtpZighYil7RXh0LkxheWVyLnN1cGVyY2xhc3Muc2V0WFkuY2FsbChlLFtoLGddKTtFeHQuTGF5ZXIuc3VwZXJjbGFzcy5zZXRTaXplLmNhbGwoZSxhLGopO2koKX1lbHNle2UuY2FsbFBhcmVudChbaCxnLGEsaixiLGMsaSxkXSl9cmV0dXJuIGV9LHNldFpJbmRleDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IuemluZGV4PWE7aWYoYi5nZXRTaGltKCkpe2Iuc2hpbS5zZXRTdHlsZSgiei1pbmRleCIsYSsrKX1pZihiLnNoYWRvdyl7Yi5zaGFkb3cuc2V0WkluZGV4KGErKyl9cmV0dXJuIGIuc2V0U3R5bGUoInotaW5kZXgiLGEpfSxvbk9wYWNpdHlTZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5zaGFkb3c7aWYoYil7Yi5zZXRPcGFjaXR5KGEpfX19KTtFeHQuZGVmaW5lKCJFeHQuU2hhZG93UG9vbCIse3NpbmdsZXRvbjp0cnVlLHJlcXVpcmVzOlsiRXh0LkRvbUhlbHBlciJdLG1hcmt1cDooZnVuY3Rpb24oKXtyZXR1cm4gRXh0LlN0cmluZy5mb3JtYXQoJzxkaXYgY2xhc3M9InswfXsxfS1zaGFkb3ciIHJvbGU9InByZXNlbnRhdGlvbiI+PC9kaXY+JyxFeHQuYmFzZUNTU1ByZWZpeCxFeHQuaXNJRSYmIUV4dC5zdXBwb3J0cy5DU1MzQm94U2hhZG93PyJpZSI6ImNzcyIpfSgpKSxzaGFkb3dzOltdLHB1bGw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNoYWRvd3Muc2hpZnQoKTtpZighYSl7YT1FeHQuZ2V0KEV4dC5Eb21IZWxwZXIuaW5zZXJ0SHRtbCgiYmVmb3JlQmVnaW4iLGRvY3VtZW50LmJvZHkuZmlyc3RDaGlsZCx0aGlzLm1hcmt1cCkpO2EuYXV0b0JveEFkanVzdD1mYWxzZX1yZXR1cm4gYX0scHVzaDpmdW5jdGlvbihhKXt0aGlzLnNoYWRvd3MucHVzaChhKX0scmVzZXQ6ZnVuY3Rpb24oKXt2YXIgYz1bXS5jb25jYXQodGhpcy5zaGFkb3dzKSxiLGE9Yy5sZW5ndGg7Zm9yKGI9MDtiPGE7YisrKXtjW2JdLnJlbW92ZSgpfXRoaXMuc2hhZG93cz1bXX19KTtFeHQuZGVmaW5lKCJFeHQuWkluZGV4TWFuYWdlciIse2FsdGVybmF0ZUNsYXNzTmFtZToiRXh0LldpbmRvd0dyb3VwIixzdGF0aWNzOnt6QmFzZTo5MDAwfSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IubGlzdD17fTtiLnpJbmRleFN0YWNrPVtdO2IuZnJvbnQ9bnVsbDtpZihhKXtpZihhLmlzQ29udGFpbmVyKXthLm9uKCJyZXNpemUiLGIuX29uQ29udGFpbmVyUmVzaXplLGIpO2IuenNlZWQ9RXh0Lk51bWJlci5mcm9tKGIucmVuZGVyZWQ/YS5nZXRFbCgpLmdldFN0eWxlKCJ6SW5kZXgiKTp1bmRlZmluZWQsYi5nZXROZXh0WlNlZWQoKSk7Yi50YXJnZXRFbD1hLmdldFRhcmdldEVsKCk7Yi5jb250YWluZXI9YX1lbHNle0V4dC5FdmVudE1hbmFnZXIub25XaW5kb3dSZXNpemUoYi5fb25Db250YWluZXJSZXNpemUsYik7Yi56c2VlZD1iLmdldE5leHRaU2VlZCgpO2IudGFyZ2V0RWw9RXh0LmdldChhKX19ZWxzZXtFeHQuRXZlbnRNYW5hZ2VyLm9uV2luZG93UmVzaXplKGIuX29uQ29udGFpbmVyUmVzaXplLGIpO2IuenNlZWQ9Yi5nZXROZXh0WlNlZWQoKTtFeHQub25Eb2N1bWVudFJlYWR5KGZ1bmN0aW9uKCl7Yi50YXJnZXRFbD1FeHQuZ2V0Qm9keSgpfSl9fSxnZXROZXh0WlNlZWQ6ZnVuY3Rpb24oKXtyZXR1cm4oRXh0LlpJbmRleE1hbmFnZXIuekJhc2UrPTEwMDAwKX0sc2V0QmFzZTpmdW5jdGlvbihiKXt0aGlzLnpzZWVkPWI7dmFyIGE9dGhpcy5hc3NpZ25aSW5kaWNlcygpO3RoaXMuX2FjdGl2YXRlTGFzdCgpO3JldHVybiBhfSxhc3NpZ25aSW5kaWNlczpmdW5jdGlvbigpe3ZhciBjPXRoaXMuekluZGV4U3RhY2ssYj1jLmxlbmd0aCxlPTAsZz10aGlzLnpzZWVkLGQ7Zm9yKDtlPGI7ZSsrKXtkPWNbZV07aWYoZCYmIWQuaGlkZGVuKXtnPWQuc2V0WkluZGV4KGcpfX10aGlzLl9hY3RpdmF0ZUxhc3QoKTtyZXR1cm4gZ30sX3NldEFjdGl2ZUNoaWxkOmZ1bmN0aW9uKGIsYSl7dmFyIGM9dGhpcy5mcm9udDtpZihiIT09Yyl7aWYoYyYmIWMuZGVzdHJveWluZyl7Yy5zZXRBY3RpdmUoZmFsc2UsYil9dGhpcy5mcm9udD1iO2lmKGImJmIhPWEpe2Iuc2V0QWN0aXZlKHRydWUpO2lmKGIubW9kYWwpe3RoaXMuX3Nob3dNb2RhbE1hc2soYil9fX19LG9uQ29tcG9uZW50SGlkZTpmdW5jdGlvbihhKXthLnNldEFjdGl2ZShmYWxzZSk7dGhpcy5fYWN0aXZhdGVMYXN0KCl9LF9hY3RpdmF0ZUxhc3Q6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGE9ZS56SW5kZXhTdGFjayxkPWEubGVuZ3RoLTEsYz1lLmZyb250LGI7ZS5mcm9udD11bmRlZmluZWQ7Zm9yKDtkPj0wJiZhW2RdLmhpZGRlbjstLWQpe31pZigoYj1hW2RdKSl7ZS5fc2V0QWN0aXZlQ2hpbGQoYixjKTtpZihiLm1vZGFsKXtyZXR1cm59fWZvcig7ZD49MDstLWQpe2I9YVtkXTtpZihiLmlzVmlzaWJsZSgpJiZiLm1vZGFsKXtlLl9zaG93TW9kYWxNYXNrKGIpO3JldHVybn19ZS5faGlkZU1vZGFsTWFzaygpfSxfc2hvd01vZGFsTWFzazpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGU9YS5lbC5nZXRTdHlsZSgiekluZGV4IiktNCxiPWEuZmxvYXRQYXJlbnQ/YS5mbG9hdFBhcmVudC5nZXRUYXJnZXRFbCgpOmEuY29udGFpbmVyLGQ9Yi5nZXRCb3goKTtpZihiLmRvbT09PWRvY3VtZW50LmJvZHkpe2QuaGVpZ2h0PU1hdGgubWF4KGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LEV4dC5kb20uRWxlbWVudC5nZXREb2N1bWVudEhlaWdodCgpKTtkLndpZHRoPU1hdGgubWF4KGRvY3VtZW50LmJvZHkuc2Nyb2xsV2lkdGgsZC53aWR0aCl9aWYoIWMubWFzayl7Yy5tYXNrPUV4dC5nZXRCb2R5KCkuY3JlYXRlQ2hpbGQoe2NsczpFeHQuYmFzZUNTU1ByZWZpeCsibWFzayJ9KTtjLm1hc2suc2V0VmlzaWJpbGl0eU1vZGUoRXh0LkVsZW1lbnQuRElTUExBWSk7Yy5tYXNrLm9uKCJjbGljayIsYy5fb25NYXNrQ2xpY2ssYyl9Yy5tYXNrLm1hc2tUYXJnZXQ9YjtiLmFkZENscyhFeHQuYmFzZUNTU1ByZWZpeCsiYm9keS1tYXNrZWQiKTtjLm1hc2suc2V0Qm94KGQpO2MubWFzay5zZXRTdHlsZSgiekluZGV4IixlKTtjLm1hc2suc2hvdygpfSxfaGlkZU1vZGFsTWFzazpmdW5jdGlvbigpe3ZhciBhPXRoaXMubWFzaztpZihhJiZhLmlzVmlzaWJsZSgpKXthLm1hc2tUYXJnZXQucmVtb3ZlQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJib2R5LW1hc2tlZCIpO2EubWFza1RhcmdldD11bmRlZmluZWQ7YS5oaWRlKCl9fSxfb25NYXNrQ2xpY2s6ZnVuY3Rpb24oKXtpZih0aGlzLmZyb250KXt0aGlzLmZyb250LmZvY3VzKCl9fSxfb25Db250YWluZXJSZXNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1hc2ssYixjO2lmKGEmJmEuaXNWaXNpYmxlKCkpe2EuaGlkZSgpO2I9YS5tYXNrVGFyZ2V0O2lmKGIuZG9tPT09ZG9jdW1lbnQuYm9keSl7Yz17aGVpZ2h0Ok1hdGgubWF4KGRvY3VtZW50LmJvZHkuc2Nyb2xsSGVpZ2h0LEV4dC5kb20uRWxlbWVudC5nZXREb2N1bWVudEhlaWdodCgpKSx3aWR0aDpNYXRoLm1heChkb2N1bWVudC5ib2R5LnNjcm9sbFdpZHRoLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCl9fWVsc2V7Yz1iLmdldFZpZXdTaXplKHRydWUpfWEuc2V0U2l6ZShjKTthLnNob3coKX19LHJlZ2lzdGVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoYS56SW5kZXhNYW5hZ2VyKXthLnpJbmRleE1hbmFnZXIudW5yZWdpc3RlcihhKX1hLnpJbmRleE1hbmFnZXI9YjtiLmxpc3RbYS5pZF09YTtiLnpJbmRleFN0YWNrLnB1c2goYSk7YS5vbigiaGlkZSIsYi5vbkNvbXBvbmVudEhpZGUsYil9LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIubGlzdDtkZWxldGUgYS56SW5kZXhNYW5hZ2VyO2lmKGMmJmNbYS5pZF0pe2RlbGV0ZSBjW2EuaWRdO2EudW4oImhpZGUiLGIub25Db21wb25lbnRIaWRlKTtFeHQuQXJyYXkucmVtb3ZlKGIuekluZGV4U3RhY2ssYSk7Yi5fYWN0aXZhdGVMYXN0KCl9fSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaXNDb21wb25lbnQ/YTp0aGlzLmxpc3RbYV19LGJyaW5nVG9Gcm9udDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGE9ZmFsc2UsZD1jLnpJbmRleFN0YWNrO2I9Yy5nZXQoYik7aWYoYiE9PWMuZnJvbnQpe0V4dC5BcnJheS5yZW1vdmUoZCxiKTtpZihiLnByZXZlbnRCcmluZ1RvRnJvbnQpe2QudW5zaGlmdChiKX1lbHNle2QucHVzaChiKX1jLmFzc2lnblpJbmRpY2VzKCk7YT10cnVlO3RoaXMuZnJvbnQ9Yn1pZihhJiZiLm1vZGFsKXtjLl9zaG93TW9kYWxNYXNrKGIpfXJldHVybiBhfSxzZW5kVG9CYWNrOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YT1iLmdldChhKTtFeHQuQXJyYXkucmVtb3ZlKGIuekluZGV4U3RhY2ssYSk7Yi56SW5kZXhTdGFjay51bnNoaWZ0KGEpO2IuYXNzaWduWkluZGljZXMoKTt0aGlzLl9hY3RpdmF0ZUxhc3QoKTtyZXR1cm4gYX0saGlkZUFsbDpmdW5jdGlvbigpe3ZhciBiPXRoaXMubGlzdCxhLGM7Zm9yKGMgaW4gYil7aWYoYi5oYXNPd25Qcm9wZXJ0eShjKSl7YT1iW2NdO2lmKGEuaXNDb21wb25lbnQmJmEuaXNWaXNpYmxlKCkpe2EuaGlkZSgpfX19fSxoaWRlOmZ1bmN0aW9uKCl7dmFyIGQ9MCxiPXRoaXMuekluZGV4U3RhY2ssYT1iLmxlbmd0aCxjO3RoaXMudGVtcEhpZGRlbj1bXTtmb3IoO2Q8YTtkKyspe2M9YltkXTtpZihjLmlzVmlzaWJsZSgpKXt0aGlzLnRlbXBIaWRkZW4ucHVzaChjKTtjLmVsLmhpZGUoKX19fSxzaG93OmZ1bmN0aW9uKCl7dmFyIGM9MCxkPXRoaXMudGVtcEhpZGRlbixhPWQ/ZC5sZW5ndGg6MCxiO2Zvcig7YzxhO2MrKyl7Yj1kW2NdO2IuZWwuc2hvdygpO2Iuc2V0UG9zaXRpb24oYi54LGIueSl9ZGVsZXRlIHRoaXMudGVtcEhpZGRlbn0sZ2V0QWN0aXZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZnJvbnR9LGdldEJ5OmZ1bmN0aW9uKGcsZSl7dmFyIGg9W10sZD0wLGI9dGhpcy56SW5kZXhTdGFjayxhPWIubGVuZ3RoLGM7Zm9yKDtkPGE7ZCsrKXtjPWJbZF07aWYoZy5jYWxsKGV8fGMsYykhPT1mYWxzZSl7aC5wdXNoKGMpfX1yZXR1cm4gaH0sZWFjaDpmdW5jdGlvbihjLGIpe3ZhciBkPXRoaXMubGlzdCxlLGE7Zm9yKGUgaW4gZCl7aWYoZC5oYXNPd25Qcm9wZXJ0eShlKSl7YT1kW2VdO2lmKGEuaXNDb21wb25lbnQmJmMuY2FsbChifHxhLGEpPT09ZmFsc2Upe3JldHVybn19fX0sZWFjaEJvdHRvbVVwOmZ1bmN0aW9uKGcsZSl7dmFyIGI9dGhpcy56SW5kZXhTdGFjayxkPTAsYT1iLmxlbmd0aCxjO2Zvcig7ZDxhO2QrKyl7Yz1iW2RdO2lmKGMuaXNDb21wb25lbnQmJmcuY2FsbChlfHxjLGMpPT09ZmFsc2Upe3JldHVybn19fSxlYWNoVG9wRG93bjpmdW5jdGlvbihlLGQpe3ZhciBhPXRoaXMuekluZGV4U3RhY2ssYz1hLmxlbmd0aCxiO2Zvcig7Yy0tPjA7KXtiPWFbY107aWYoYi5pc0NvbXBvbmVudCYmZS5jYWxsKGR8fGIsYik9PT1mYWxzZSl7cmV0dXJufX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5saXN0LGEsZDtmb3IoZCBpbiBjKXtpZihjLmhhc093blByb3BlcnR5KGQpKXthPWNbZF07aWYoYS5pc0NvbXBvbmVudCl7YS5kZXN0cm95KCl9fX1kZWxldGUgYi56SW5kZXhTdGFjaztkZWxldGUgYi5saXN0O2RlbGV0ZSBiLmNvbnRhaW5lcjtkZWxldGUgYi50YXJnZXRFbH19LGZ1bmN0aW9uKCl7RXh0LldpbmRvd01hbmFnZXI9RXh0LldpbmRvd01ncj1uZXcgdGhpcygpfSk7RXh0LmRlZmluZSgiRXh0LmRkLkRyYWdEcm9wTWFuYWdlciIse3NpbmdsZXRvbjp0cnVlLHJlcXVpcmVzOlsiRXh0LnV0aWwuUmVnaW9uIl0sdXNlczpbIkV4dC50aXAuUXVpY2tUaXBNYW5hZ2VyIl0sYWx0ZXJuYXRlQ2xhc3NOYW1lOlsiRXh0LmRkLkRyYWdEcm9wTWdyIiwiRXh0LmRkLkRETSJdLGlkczp7fSxoYW5kbGVJZHM6e30sZHJhZ0N1cnJlbnQ6bnVsbCxkcmFnT3ZlcnM6e30sZGVsdGFYOjAsZGVsdGFZOjAscHJldmVudERlZmF1bHQ6dHJ1ZSxzdG9wUHJvcGFnYXRpb246dHJ1ZSxpbml0aWFsaXplZDpmYWxzZSxsb2NrZWQ6ZmFsc2UsaW5pdDpmdW5jdGlvbigpe3RoaXMuaW5pdGlhbGl6ZWQ9dHJ1ZX0sUE9JTlQ6MCxJTlRFUlNFQ1Q6MSxtb2RlOjAsbm90aWZ5T2NjbHVkZWQ6ZmFsc2UsX2V4ZWNPbkFsbDpmdW5jdGlvbihjLGIpe3ZhciBkLGEsZTtmb3IoZCBpbiB0aGlzLmlkcyl7Zm9yKGEgaW4gdGhpcy5pZHNbZF0pe2U9dGhpcy5pZHNbZF1bYV07aWYoIXRoaXMuaXNUeXBlT2ZERChlKSl7Y29udGludWV9ZVtjXS5hcHBseShlLGIpfX19LF9vbkxvYWQ6ZnVuY3Rpb24oKXt0aGlzLmluaXQoKTt2YXIgYT1FeHQuRXZlbnRNYW5hZ2VyO2Eub24oZG9jdW1lbnQsIm1vdXNldXAiLHRoaXMuaGFuZGxlTW91c2VVcCx0aGlzLHRydWUpO2Eub24oZG9jdW1lbnQsIm1vdXNlbW92ZSIsdGhpcy5oYW5kbGVNb3VzZU1vdmUsdGhpcyx0cnVlKTthLm9uKHdpbmRvdywidW5sb2FkIix0aGlzLl9vblVubG9hZCx0aGlzLHRydWUpO2Eub24od2luZG93LCJyZXNpemUiLHRoaXMuX29uUmVzaXplLHRoaXMsdHJ1ZSl9LF9vblJlc2l6ZTpmdW5jdGlvbihhKXt0aGlzLl9leGVjT25BbGwoInJlc2V0Q29uc3RyYWludHMiLFtdKX0sbG9jazpmdW5jdGlvbigpe3RoaXMubG9ja2VkPXRydWV9LHVubG9jazpmdW5jdGlvbigpe3RoaXMubG9ja2VkPWZhbHNlfSxpc0xvY2tlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxvY2tlZH0sbG9jYXRpb25DYWNoZTp7fSx1c2VDYWNoZTp0cnVlLGNsaWNrUGl4ZWxUaHJlc2g6MyxjbGlja1RpbWVUaHJlc2g6MzUwLGRyYWdUaHJlc2hNZXQ6ZmFsc2UsY2xpY2tUaW1lb3V0Om51bGwsc3RhcnRYOjAsc3RhcnRZOjAscmVnRHJhZ0Ryb3A6ZnVuY3Rpb24oYixhKXtpZighdGhpcy5pbml0aWFsaXplZCl7dGhpcy5pbml0KCl9aWYoIXRoaXMuaWRzW2FdKXt0aGlzLmlkc1thXT17fX10aGlzLmlkc1thXVtiLmlkXT1ifSxyZW1vdmVEREZyb21Hcm91cDpmdW5jdGlvbihjLGEpe2lmKCF0aGlzLmlkc1thXSl7dGhpcy5pZHNbYV09e319dmFyIGI9dGhpcy5pZHNbYV07aWYoYiYmYltjLmlkXSl7ZGVsZXRlIGJbYy5pZF19fSxfcmVtb3ZlOmZ1bmN0aW9uKGIpe2Zvcih2YXIgYSBpbiBiLmdyb3Vwcyl7aWYoYSYmdGhpcy5pZHNbYV0mJnRoaXMuaWRzW2FdW2IuaWRdKXtkZWxldGUgdGhpcy5pZHNbYV1bYi5pZF19fWRlbGV0ZSB0aGlzLmhhbmRsZUlkc1tiLmlkXX0scmVnSGFuZGxlOmZ1bmN0aW9uKGIsYSl7aWYoIXRoaXMuaGFuZGxlSWRzW2JdKXt0aGlzLmhhbmRsZUlkc1tiXT17fX10aGlzLmhhbmRsZUlkc1tiXVthXT1hfSxpc0RyYWdEcm9wOmZ1bmN0aW9uKGEpe3JldHVybih0aGlzLmdldEREQnlJZChhKSk/dHJ1ZTpmYWxzZX0sZ2V0UmVsYXRlZDpmdW5jdGlvbihnLGIpe3ZhciBlPVtdLGQsYyxhO2ZvcihkIGluIGcuZ3JvdXBzKXtmb3IoYyBpbiB0aGlzLmlkc1tkXSl7YT10aGlzLmlkc1tkXVtjXTtpZighdGhpcy5pc1R5cGVPZkREKGEpKXtjb250aW51ZX1pZighYnx8YS5pc1RhcmdldCl7ZVtlLmxlbmd0aF09YX19fXJldHVybiBlfSxpc0xlZ2FsVGFyZ2V0OmZ1bmN0aW9uKGUsZCl7dmFyIGI9dGhpcy5nZXRSZWxhdGVkKGUsdHJ1ZSksYyxhO2ZvcihjPTAsYT1iLmxlbmd0aDtjPGE7KytjKXtpZihiW2NdLmlkPT1kLmlkKXtyZXR1cm4gdHJ1ZX19cmV0dXJuIGZhbHNlfSxpc1R5cGVPZkREOmZ1bmN0aW9uKGEpe3JldHVybihhJiZhLl9feWdEcmFnRHJvcCl9LGlzSGFuZGxlOmZ1bmN0aW9uKGIsYSl7cmV0dXJuKHRoaXMuaGFuZGxlSWRzW2JdJiZ0aGlzLmhhbmRsZUlkc1tiXVthXSl9LGdldEREQnlJZDpmdW5jdGlvbihkKXt2YXIgYz10aGlzLGIsYTtmb3IoYiBpbiB0aGlzLmlkcyl7YT10aGlzLmlkc1tiXVtkXTtpZihhIGluc3RhbmNlb2YgRXh0LmRkLkREVGFyZ2V0KXtyZXR1cm4gYX19cmV0dXJuIG51bGx9LGhhbmRsZU1vdXNlRG93bjpmdW5jdGlvbihjLGIpe2lmKEV4dC50aXAuUXVpY2tUaXBNYW5hZ2VyKXtFeHQudGlwLlF1aWNrVGlwTWFuYWdlci5kZERpc2FibGUoKX1pZih0aGlzLmRyYWdDdXJyZW50KXt0aGlzLmhhbmRsZU1vdXNlVXAoYyl9dGhpcy5jdXJyZW50VGFyZ2V0PWMuZ2V0VGFyZ2V0KCk7dGhpcy5kcmFnQ3VycmVudD1iO3ZhciBhPWIuZ2V0RWwoKTt0aGlzLnN0YXJ0WD1jLmdldFBhZ2VYKCk7dGhpcy5zdGFydFk9Yy5nZXRQYWdlWSgpO3RoaXMuZGVsdGFYPXRoaXMuc3RhcnRYLWEub2Zmc2V0TGVmdDt0aGlzLmRlbHRhWT10aGlzLnN0YXJ0WS1hLm9mZnNldFRvcDt0aGlzLmRyYWdUaHJlc2hNZXQ9ZmFsc2U7dGhpcy5jbGlja1RpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBkPUV4dC5kZC5EcmFnRHJvcE1hbmFnZXI7ZC5zdGFydERyYWcoZC5zdGFydFgsZC5zdGFydFkpfSx0aGlzLmNsaWNrVGltZVRocmVzaCl9LHN0YXJ0RHJhZzpmdW5jdGlvbihhLGIpe2NsZWFyVGltZW91dCh0aGlzLmNsaWNrVGltZW91dCk7aWYodGhpcy5kcmFnQ3VycmVudCl7dGhpcy5kcmFnQ3VycmVudC5iNFN0YXJ0RHJhZyhhLGIpO3RoaXMuZHJhZ0N1cnJlbnQuc3RhcnREcmFnKGEsYil9dGhpcy5kcmFnVGhyZXNoTWV0PXRydWV9LGhhbmRsZU1vdXNlVXA6ZnVuY3Rpb24oYSl7aWYoRXh0LnRpcCYmRXh0LnRpcC5RdWlja1RpcE1hbmFnZXIpe0V4dC50aXAuUXVpY2tUaXBNYW5hZ2VyLmRkRW5hYmxlKCl9aWYoIXRoaXMuZHJhZ0N1cnJlbnQpe3JldHVybn1jbGVhclRpbWVvdXQodGhpcy5jbGlja1RpbWVvdXQpO2lmKHRoaXMuZHJhZ1RocmVzaE1ldCl7dGhpcy5maXJlRXZlbnRzKGEsdHJ1ZSl9dGhpcy5zdG9wRHJhZyhhKTt0aGlzLnN0b3BFdmVudChhKX0sc3RvcEV2ZW50OmZ1bmN0aW9uKGEpe2lmKHRoaXMuc3RvcFByb3BhZ2F0aW9uKXthLnN0b3BQcm9wYWdhdGlvbigpfWlmKHRoaXMucHJldmVudERlZmF1bHQpe2EucHJldmVudERlZmF1bHQoKX19LHN0b3BEcmFnOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZHJhZ0N1cnJlbnQpe2lmKHRoaXMuZHJhZ1RocmVzaE1ldCl7dGhpcy5kcmFnQ3VycmVudC5iNEVuZERyYWcoYSk7dGhpcy5kcmFnQ3VycmVudC5lbmREcmFnKGEpfXRoaXMuZHJhZ0N1cnJlbnQub25Nb3VzZVVwKGEpfXRoaXMuZHJhZ0N1cnJlbnQ9bnVsbDt0aGlzLmRyYWdPdmVycz17fX0saGFuZGxlTW91c2VNb3ZlOmZ1bmN0aW9uKGMpe2lmKCF0aGlzLmRyYWdDdXJyZW50KXtyZXR1cm4gdHJ1ZX1pZihFeHQuaXNJRSYmKGMuYnV0dG9uIT09MCYmYy5idXR0b24hPT0xJiZjLmJ1dHRvbiE9PTIpKXt0aGlzLnN0b3BFdmVudChjKTtyZXR1cm4gdGhpcy5oYW5kbGVNb3VzZVVwKGMpfXZhciBiLGE7aWYoIXRoaXMuZHJhZ1RocmVzaE1ldCl7Yj1NYXRoLmFicyh0aGlzLnN0YXJ0WC1jLmdldFBhZ2VYKCkpO2E9TWF0aC5hYnModGhpcy5zdGFydFktYy5nZXRQYWdlWSgpKTtpZihiPnRoaXMuY2xpY2tQaXhlbFRocmVzaHx8YT50aGlzLmNsaWNrUGl4ZWxUaHJlc2gpe3RoaXMuc3RhcnREcmFnKHRoaXMuc3RhcnRYLHRoaXMuc3RhcnRZKX19aWYodGhpcy5kcmFnVGhyZXNoTWV0KXt0aGlzLmRyYWdDdXJyZW50LmI0RHJhZyhjKTt0aGlzLmRyYWdDdXJyZW50Lm9uRHJhZyhjKTtpZighdGhpcy5kcmFnQ3VycmVudC5tb3ZlT25seSl7dGhpcy5maXJlRXZlbnRzKGMsZmFsc2UpfX10aGlzLnN0b3BFdmVudChjKTtyZXR1cm4gdHJ1ZX0sZmlyZUV2ZW50czpmdW5jdGlvbihuLHEpe3ZhciBwPXRoaXMsaz1wLmRyYWdDdXJyZW50LHI9bi5nZXRQb2ludCgpLGIsdCxkPVtdLGE9W10sZz1bXSxsPVtdLGo9W10sYz1bXSxvLGgsbSxzO2lmKCFrfHxrLmlzTG9ja2VkKCkpe3JldHVybn1mb3IoaCBpbiBwLmRyYWdPdmVycyl7Yj1wLmRyYWdPdmVyc1toXTtpZighcC5pc1R5cGVPZkREKGIpKXtjb250aW51ZX1pZighdGhpcy5pc092ZXJUYXJnZXQocixiLHAubW9kZSkpe2cucHVzaChiKX1hW2hdPXRydWU7ZGVsZXRlIHAuZHJhZ092ZXJzW2hdfWZvcihzIGluIGsuZ3JvdXBzKXtpZigic3RyaW5nIiE9dHlwZW9mIHMpe2NvbnRpbnVlfWZvcihoIGluIHAuaWRzW3NdKXtiPXAuaWRzW3NdW2hdO2lmKHAuaXNUeXBlT2ZERChiKSYmKHQ9Yi5nZXRFbCgpKSYmKGIuaXNUYXJnZXQpJiYoIWIuaXNMb2NrZWQoKSkmJihFeHQuZmx5KHQpLmlzVmlzaWJsZSh0cnVlKSkmJigoYiE9ayl8fChrLmlnbm9yZVNlbGY9PT1mYWxzZSkpKXtpZigoYi56SW5kZXg9cC5nZXRaSW5kZXgodCkpIT09LTEpe289dHJ1ZX1kLnB1c2goYil9fX1pZihvKXtFeHQuQXJyYXkuc29ydChkLHAuYnlaSW5kZXgpfWZvcihoPTAsbT1kLmxlbmd0aDtoPG07aCsrKXtiPWRbaF07aWYocC5pc092ZXJUYXJnZXQocixiLHAubW9kZSkpe2lmKHEpe2oucHVzaChiKX1lbHNle2lmKCFhW2IuaWRdKXtjLnB1c2goYil9ZWxzZXtsLnB1c2goYil9cC5kcmFnT3ZlcnNbYi5pZF09Yn1pZighcC5ub3RpZnlPY2NsdWRlZCl7YnJlYWt9fX1pZihwLm1vZGUpe2lmKGcubGVuZ3RoKXtrLmI0RHJhZ091dChuLGcpO2sub25EcmFnT3V0KG4sZyl9aWYoYy5sZW5ndGgpe2sub25EcmFnRW50ZXIobixjKX1pZihsLmxlbmd0aCl7ay5iNERyYWdPdmVyKG4sbCk7ay5vbkRyYWdPdmVyKG4sbCl9aWYoai5sZW5ndGgpe2suYjREcmFnRHJvcChuLGopO2sub25EcmFnRHJvcChuLGopfX1lbHNle2ZvcihoPTAsbT1nLmxlbmd0aDtoPG07KytoKXtrLmI0RHJhZ091dChuLGdbaF0uaWQpO2sub25EcmFnT3V0KG4sZ1toXS5pZCl9Zm9yKGg9MCxtPWMubGVuZ3RoO2g8bTsrK2gpe2sub25EcmFnRW50ZXIobixjW2hdLmlkKX1mb3IoaD0wLG09bC5sZW5ndGg7aDxtOysraCl7ay5iNERyYWdPdmVyKG4sbFtoXS5pZCk7ay5vbkRyYWdPdmVyKG4sbFtoXS5pZCl9Zm9yKGg9MCxtPWoubGVuZ3RoO2g8bTsrK2gpe2suYjREcmFnRHJvcChuLGpbaF0uaWQpO2sub25EcmFnRHJvcChuLGpbaF0uaWQpfX1pZihxJiYhai5sZW5ndGgpe2sub25JbnZhbGlkRHJvcChuKX19LGdldFpJbmRleDpmdW5jdGlvbihiKXt2YXIgYT1kb2N1bWVudC5ib2R5LGMsZD0tMTtiPUV4dC5nZXREb20oYik7d2hpbGUoYiE9PWEpe2lmKCFpc05hTihjPU51bWJlcihFeHQuZmx5KGIpLmdldFN0eWxlKCJ6SW5kZXgiKSkpKXtkPWN9Yj1iLnBhcmVudE5vZGV9cmV0dXJuIGR9LGJ5WkluZGV4OmZ1bmN0aW9uKGIsYSl7cmV0dXJuIGIuekluZGV4PGEuekluZGV4fSxnZXRCZXN0TWF0Y2g6ZnVuY3Rpb24oYyl7dmFyIGU9bnVsbCxiPWMubGVuZ3RoLGQsYTtpZihiPT0xKXtlPWNbMF19ZWxzZXtmb3IoZD0wO2Q8YjsrK2Qpe2E9Y1tkXTtpZihhLmN1cnNvcklzT3Zlcil7ZT1hO2JyZWFrfWVsc2V7aWYoIWV8fGUub3ZlcmxhcC5nZXRBcmVhKCk8YS5vdmVybGFwLmdldEFyZWEoKSl7ZT1hfX19fXJldHVybiBlfSxyZWZyZXNoQ2FjaGU6ZnVuY3Rpb24oYil7dmFyIGEsYyxkLGU7Zm9yKGEgaW4gYil7aWYoInN0cmluZyIhPXR5cGVvZiBhKXtjb250aW51ZX1mb3IoYyBpbiB0aGlzLmlkc1thXSl7ZD10aGlzLmlkc1thXVtjXTtpZih0aGlzLmlzVHlwZU9mREQoZCkpe2U9dGhpcy5nZXRMb2NhdGlvbihkKTtpZihlKXt0aGlzLmxvY2F0aW9uQ2FjaGVbZC5pZF09ZX1lbHNle2RlbGV0ZSB0aGlzLmxvY2F0aW9uQ2FjaGVbZC5pZF19fX19fSx2ZXJpZnlFbDpmdW5jdGlvbihiKXtpZihiKXt2YXIgYTtpZihFeHQuaXNJRSl7dHJ5e2E9Yi5vZmZzZXRQYXJlbnR9Y2F0Y2goYyl7fX1lbHNle2E9Yi5vZmZzZXRQYXJlbnR9aWYoYSl7cmV0dXJuIHRydWV9fXJldHVybiBmYWxzZX0sZ2V0TG9jYXRpb246ZnVuY3Rpb24oaSl7aWYoIXRoaXMuaXNUeXBlT2ZERChpKSl7cmV0dXJuIG51bGx9aWYoaS5nZXRSZWdpb24pe3JldHVybiBpLmdldFJlZ2lvbigpfXZhciBnPWkuZ2V0RWwoKSxtLGQsYyxvLG4scCxhLGssaDt0cnl7bT1FeHQuRWxlbWVudC5nZXRYWShnKX1jYXRjaChqKXt9aWYoIW0pe3JldHVybiBudWxsfWQ9bVswXTtjPWQrZy5vZmZzZXRXaWR0aDtvPW1bMV07bj1vK2cub2Zmc2V0SGVpZ2h0O3A9by1pLnBhZGRpbmdbMF07YT1jK2kucGFkZGluZ1sxXTtrPW4raS5wYWRkaW5nWzJdO2g9ZC1pLnBhZGRpbmdbM107cmV0dXJuIG5ldyBFeHQudXRpbC5SZWdpb24ocCxhLGssaCl9LGlzT3ZlclRhcmdldDpmdW5jdGlvbihqLGEsYyl7dmFyIGU9dGhpcy5sb2NhdGlvbkNhY2hlW2EuaWRdLGksZyxiLGQsaDtpZighZXx8IXRoaXMudXNlQ2FjaGUpe2U9dGhpcy5nZXRMb2NhdGlvbihhKTt0aGlzLmxvY2F0aW9uQ2FjaGVbYS5pZF09ZX1pZighZSl7cmV0dXJuIGZhbHNlfWEuY3Vyc29ySXNPdmVyPWUuY29udGFpbnMoaik7aT10aGlzLmRyYWdDdXJyZW50O2lmKCFpfHwhaS5nZXRUYXJnZXRDb29yZHx8KCFjJiYhaS5jb25zdHJhaW5YJiYhaS5jb25zdHJhaW5ZKSl7cmV0dXJuIGEuY3Vyc29ySXNPdmVyfWEub3ZlcmxhcD1udWxsO2c9aS5nZXRUYXJnZXRDb29yZChqLngsai55KTtiPWkuZ2V0RHJhZ0VsKCk7ZD1uZXcgRXh0LnV0aWwuUmVnaW9uKGcueSxnLngrYi5vZmZzZXRXaWR0aCxnLnkrYi5vZmZzZXRIZWlnaHQsZy54KTtoPWQuaW50ZXJzZWN0KGUpO2lmKGgpe2Eub3ZlcmxhcD1oO3JldHVybihjKT90cnVlOmEuY3Vyc29ySXNPdmVyfWVsc2V7cmV0dXJuIGZhbHNlfX0sX29uVW5sb2FkOmZ1bmN0aW9uKGIsYSl7RXh0LmRkLkRyYWdEcm9wTWFuYWdlci51bnJlZ0FsbCgpfSx1bnJlZ0FsbDpmdW5jdGlvbigpe2lmKHRoaXMuZHJhZ0N1cnJlbnQpe3RoaXMuc3RvcERyYWcoKTt0aGlzLmRyYWdDdXJyZW50PW51bGx9dGhpcy5fZXhlY09uQWxsKCJ1bnJlZyIsW10pO2Zvcih2YXIgYSBpbiB0aGlzLmVsZW1lbnRDYWNoZSl7ZGVsZXRlIHRoaXMuZWxlbWVudENhY2hlW2FdfXRoaXMuZWxlbWVudENhY2hlPXt9O3RoaXMuaWRzPXt9fSxlbGVtZW50Q2FjaGU6e30sZ2V0RWxXcmFwcGVyOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuZWxlbWVudENhY2hlW2JdO2lmKCFhfHwhYS5lbCl7YT10aGlzLmVsZW1lbnRDYWNoZVtiXT1uZXcgdGhpcy5FbGVtZW50V3JhcHBlcihFeHQuZ2V0RG9tKGIpKX1yZXR1cm4gYX0sZ2V0RWxlbWVudDpmdW5jdGlvbihhKXtyZXR1cm4gRXh0LmdldERvbShhKX0sZ2V0Q3NzOmZ1bmN0aW9uKGIpe3ZhciBhPUV4dC5nZXREb20oYik7cmV0dXJuKGEpP2Euc3R5bGU6bnVsbH0sRWxlbWVudFdyYXBwZXI6ZnVuY3Rpb24oYSl7dGhpcy5lbD1hfHxudWxsO3RoaXMuaWQ9dGhpcy5lbCYmYS5pZDt0aGlzLmNzcz10aGlzLmVsJiZhLnN0eWxlfSxnZXRQb3NYOmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuRWxlbWVudC5nZXRYKGEpfSxnZXRQb3NZOmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuRWxlbWVudC5nZXRZKGEpfSxzd2FwTm9kZTpmdW5jdGlvbihjLGEpe2lmKGMuc3dhcE5vZGUpe2Muc3dhcE5vZGUoYSl9ZWxzZXt2YXIgZD1hLnBhcmVudE5vZGUsYj1hLm5leHRTaWJsaW5nO2lmKGI9PWMpe2QuaW5zZXJ0QmVmb3JlKGMsYSl9ZWxzZXtpZihhPT1jLm5leHRTaWJsaW5nKXtkLmluc2VydEJlZm9yZShhLGMpfWVsc2V7Yy5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChhLGMpO2QuaW5zZXJ0QmVmb3JlKGMsYil9fX19LGdldFNjcm9sbDpmdW5jdGlvbigpe3ZhciBkPXdpbmRvdy5kb2N1bWVudCxlPWQuZG9jdW1lbnRFbGVtZW50LGE9ZC5ib2R5LGM9MCxiPTA7aWYoRXh0LmlzR2Vja280KXtjPXdpbmRvdy5zY3JvbGxZT2Zmc2V0O2I9d2luZG93LnNjcm9sbFhPZmZzZXR9ZWxzZXtpZihlJiYoZS5zY3JvbGxUb3B8fGUuc2Nyb2xsTGVmdCkpe2M9ZS5zY3JvbGxUb3A7Yj1lLnNjcm9sbExlZnR9ZWxzZXtpZihhKXtjPWEuc2Nyb2xsVG9wO2I9YS5zY3JvbGxMZWZ0fX19cmV0dXJue3RvcDpjLGxlZnQ6Yn19LGdldFN0eWxlOmZ1bmN0aW9uKGIsYSl7cmV0dXJuIEV4dC5mbHkoYikuZ2V0U3R5bGUoYSl9LGdldFNjcm9sbFRvcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNjcm9sbCgpLnRvcH0sZ2V0U2Nyb2xsTGVmdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFNjcm9sbCgpLmxlZnR9LG1vdmVUb0VsOmZ1bmN0aW9uKGEsYyl7dmFyIGI9RXh0LkVsZW1lbnQuZ2V0WFkoYyk7RXh0LkVsZW1lbnQuc2V0WFkoYSxiKX0sbnVtZXJpY1NvcnQ6ZnVuY3Rpb24oZCxjKXtyZXR1cm4oZC1jKX0sX3RpbWVvdXRDb3VudDowLF9hZGRMaXN0ZW5lcnM6ZnVuY3Rpb24oKXtpZihkb2N1bWVudCl7dGhpcy5fb25Mb2FkKCl9ZWxzZXtpZih0aGlzLl90aW1lb3V0Q291bnQ8PTIwMDApe3NldFRpbWVvdXQodGhpcy5fYWRkTGlzdGVuZXJzLDEwKTtpZihkb2N1bWVudCYmZG9jdW1lbnQuYm9keSl7dGhpcy5fdGltZW91dENvdW50Kz0xfX19fSxoYW5kbGVXYXNDbGlja2VkOmZ1bmN0aW9uKGEsYyl7aWYodGhpcy5pc0hhbmRsZShjLGEuaWQpKXtyZXR1cm4gdHJ1ZX1lbHNle3ZhciBiPWEucGFyZW50Tm9kZTt3aGlsZShiKXtpZih0aGlzLmlzSGFuZGxlKGMsYi5pZCkpe3JldHVybiB0cnVlfWVsc2V7Yj1iLnBhcmVudE5vZGV9fX1yZXR1cm4gZmFsc2V9fSxmdW5jdGlvbigpe3RoaXMuX2FkZExpc3RlbmVycygpfSk7RXh0LmRlZmluZSgiRXh0LmRkLkRyYWdUcmFja2VyIix7dXNlczpbIkV4dC51dGlsLlJlZ2lvbiJdLG1peGluczp7b2JzZXJ2YWJsZToiRXh0LnV0aWwuT2JzZXJ2YWJsZSJ9LGFjdGl2ZTpmYWxzZSx0cmFja092ZXI6ZmFsc2UsdG9sZXJhbmNlOjUsYXV0b1N0YXJ0OmZhbHNlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe0V4dC5hcHBseSh0aGlzLGEpO3RoaXMuYWRkRXZlbnRzKCJtb3VzZW92ZXIiLCJtb3VzZW91dCIsIm1vdXNlZG93biIsIm1vdXNldXAiLCJtb3VzZW1vdmUiLCJiZWZvcmVkcmFnc3RhcnQiLCJkcmFnc3RhcnQiLCJkcmFnZW5kIiwiZHJhZyIpO3RoaXMuZHJhZ1JlZ2lvbj1uZXcgRXh0LnV0aWwuUmVnaW9uKDAsMCwwLDApO2lmKHRoaXMuZWwpe3RoaXMuaW5pdEVsKHRoaXMuZWwpfXRoaXMubWl4aW5zLm9ic2VydmFibGUuY29uc3RydWN0b3IuY2FsbCh0aGlzKTtpZih0aGlzLmRpc2FibGVkKXt0aGlzLmRpc2FibGUoKX19LGluaXRFbDpmdW5jdGlvbihhKXt0aGlzLmVsPUV4dC5nZXQoYSk7dGhpcy5oYW5kbGU9RXh0LmdldCh0aGlzLmRlbGVnYXRlKTt0aGlzLmRlbGVnYXRlPXRoaXMuaGFuZGxlP3VuZGVmaW5lZDp0aGlzLmRlbGVnYXRlO2lmKCF0aGlzLmhhbmRsZSl7dGhpcy5oYW5kbGU9dGhpcy5lbH10aGlzLm1vbih0aGlzLmhhbmRsZSx7bW91c2Vkb3duOnRoaXMub25Nb3VzZURvd24sZGVsZWdhdGU6dGhpcy5kZWxlZ2F0ZSxzY29wZTp0aGlzfSk7aWYodGhpcy50cmFja092ZXJ8fHRoaXMub3ZlckNscyl7dGhpcy5tb24odGhpcy5oYW5kbGUse21vdXNlb3Zlcjp0aGlzLm9uTW91c2VPdmVyLG1vdXNlb3V0OnRoaXMub25Nb3VzZU91dCxkZWxlZ2F0ZTp0aGlzLmRlbGVnYXRlLHNjb3BlOnRoaXN9KX19LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPXRydWV9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ZmFsc2V9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNsZWFyTGlzdGVuZXJzKCk7ZGVsZXRlIHRoaXMuZWx9LG9uTW91c2VPdmVyOmZ1bmN0aW9uKGMsYil7dmFyIGE9dGhpcztpZighYS5kaXNhYmxlZCl7aWYoRXh0LkV2ZW50TWFuYWdlci5jb250YWlucyhjKXx8YS5kZWxlZ2F0ZSl7YS5tb3VzZUlzT3V0PWZhbHNlO2lmKGEub3ZlckNscyl7YS5lbC5hZGRDbHMoYS5vdmVyQ2xzKX1hLmZpcmVFdmVudCgibW91c2VvdmVyIixhLGMsYS5kZWxlZ2F0ZT9jLmdldFRhcmdldChhLmRlbGVnYXRlLGIpOmEuaGFuZGxlKX19fSxvbk1vdXNlT3V0OmZ1bmN0aW9uKGEpe2lmKHRoaXMubW91c2VJc0Rvd24pe3RoaXMubW91c2VJc091dD10cnVlfWVsc2V7aWYodGhpcy5vdmVyQ2xzKXt0aGlzLmVsLnJlbW92ZUNscyh0aGlzLm92ZXJDbHMpfXRoaXMuZmlyZUV2ZW50KCJtb3VzZW91dCIsdGhpcyxhKX19LG9uTW91c2VEb3duOmZ1bmN0aW9uKGIsYSl7aWYodGhpcy5kaXNhYmxlZHx8Yi5kcmFnVHJhY2tlZCl7cmV0dXJufXRoaXMuZHJhZ1RhcmdldD10aGlzLmRlbGVnYXRlP2E6dGhpcy5oYW5kbGUuZG9tO3RoaXMuc3RhcnRYWT10aGlzLmxhc3RYWT1iLmdldFhZKCk7dGhpcy5zdGFydFJlZ2lvbj1FeHQuZmx5KHRoaXMuZHJhZ1RhcmdldCkuZ2V0UmVnaW9uKCk7aWYodGhpcy5maXJlRXZlbnQoIm1vdXNlZG93biIsdGhpcyxiKT09PWZhbHNlfHx0aGlzLmZpcmVFdmVudCgiYmVmb3JlZHJhZ3N0YXJ0Iix0aGlzLGIpPT09ZmFsc2V8fHRoaXMub25CZWZvcmVTdGFydChiKT09PWZhbHNlKXtyZXR1cm59dGhpcy5tb3VzZUlzRG93bj10cnVlO2IuZHJhZ1RyYWNrZWQ9dHJ1ZTtpZih0aGlzLnByZXZlbnREZWZhdWx0IT09ZmFsc2Upe2IucHJldmVudERlZmF1bHQoKX1FeHQuZ2V0RG9jKCkub24oe3Njb3BlOnRoaXMsbW91c2V1cDp0aGlzLm9uTW91c2VVcCxtb3VzZW1vdmU6dGhpcy5vbk1vdXNlTW92ZSxzZWxlY3RzdGFydDp0aGlzLnN0b3BTZWxlY3R9KTtpZih0aGlzLmF1dG9TdGFydCl7dGhpcy50aW1lcj1FeHQuZGVmZXIodGhpcy50cmlnZ2VyU3RhcnQsdGhpcy5hdXRvU3RhcnQ9PT10cnVlPzEwMDA6dGhpcy5hdXRvU3RhcnQsdGhpcyxbYl0pfX0sb25Nb3VzZU1vdmU6ZnVuY3Rpb24oZCxjKXtpZih0aGlzLmFjdGl2ZSYmRXh0LmlzSUUmJiFkLmJyb3dzZXJFdmVudC5idXR0b24pe2QucHJldmVudERlZmF1bHQoKTt0aGlzLm9uTW91c2VVcChkKTtyZXR1cm59ZC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBiPWQuZ2V0WFkoKSxhPXRoaXMuc3RhcnRYWTt0aGlzLmxhc3RYWT1iO2lmKCF0aGlzLmFjdGl2ZSl7aWYoTWF0aC5tYXgoTWF0aC5hYnMoYVswXS1iWzBdKSxNYXRoLmFicyhhWzFdLWJbMV0pKT50aGlzLnRvbGVyYW5jZSl7dGhpcy50cmlnZ2VyU3RhcnQoZCl9ZWxzZXtyZXR1cm59fWlmKHRoaXMuZmlyZUV2ZW50KCJtb3VzZW1vdmUiLHRoaXMsZCk9PT1mYWxzZSl7dGhpcy5vbk1vdXNlVXAoZCl9ZWxzZXt0aGlzLm9uRHJhZyhkKTt0aGlzLmZpcmVFdmVudCgiZHJhZyIsdGhpcyxkKX19LG9uTW91c2VVcDpmdW5jdGlvbihhKXt0aGlzLm1vdXNlSXNEb3duPWZhbHNlO2lmKHRoaXMubW91c2VJc091dCl7dGhpcy5tb3VzZUlzT3V0PWZhbHNlO3RoaXMub25Nb3VzZU91dChhKX1hLnByZXZlbnREZWZhdWx0KCk7dGhpcy5maXJlRXZlbnQoIm1vdXNldXAiLHRoaXMsYSk7dGhpcy5lbmREcmFnKGEpfSxlbmREcmFnOmZ1bmN0aW9uKGMpe3ZhciBiPUV4dC5nZXREb2MoKSxhPXRoaXMuYWN0aXZlO2IudW4oIm1vdXNlbW92ZSIsdGhpcy5vbk1vdXNlTW92ZSx0aGlzKTtiLnVuKCJtb3VzZXVwIix0aGlzLm9uTW91c2VVcCx0aGlzKTtiLnVuKCJzZWxlY3RzdGFydCIsdGhpcy5zdG9wU2VsZWN0LHRoaXMpO3RoaXMuY2xlYXJTdGFydCgpO3RoaXMuYWN0aXZlPWZhbHNlO2lmKGEpe3RoaXMub25FbmQoYyk7dGhpcy5maXJlRXZlbnQoImRyYWdlbmQiLHRoaXMsYyl9ZGVsZXRlIHRoaXMuX2NvbnN0cmFpblJlZ2lvbjtkZWxldGUgRXh0LkV2ZW50T2JqZWN0LmRyYWdUcmFja2VkfSx0cmlnZ2VyU3RhcnQ6ZnVuY3Rpb24oYSl7dGhpcy5jbGVhclN0YXJ0KCk7dGhpcy5hY3RpdmU9dHJ1ZTt0aGlzLm9uU3RhcnQoYSk7dGhpcy5maXJlRXZlbnQoImRyYWdzdGFydCIsdGhpcyxhKX0sY2xlYXJTdGFydDpmdW5jdGlvbigpe2lmKHRoaXMudGltZXIpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVyKTtkZWxldGUgdGhpcy50aW1lcn19LHN0b3BTZWxlY3Q6ZnVuY3Rpb24oYSl7YS5zdG9wRXZlbnQoKTtyZXR1cm4gZmFsc2V9LG9uQmVmb3JlU3RhcnQ6ZnVuY3Rpb24oYSl7fSxvblN0YXJ0OmZ1bmN0aW9uKGEpe30sb25EcmFnOmZ1bmN0aW9uKGEpe30sb25FbmQ6ZnVuY3Rpb24oYSl7fSxnZXREcmFnVGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZHJhZ1RhcmdldH0sZ2V0RHJhZ0N0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWx9LGdldENvbnN0cmFpblJlZ2lvbjpmdW5jdGlvbigpe2lmKHRoaXMuY29uc3RyYWluVG8pe2lmKHRoaXMuY29uc3RyYWluVG8gaW5zdGFuY2VvZiBFeHQudXRpbC5SZWdpb24pe3JldHVybiB0aGlzLmNvbnN0cmFpblRvfWlmKCF0aGlzLl9jb25zdHJhaW5SZWdpb24pe3RoaXMuX2NvbnN0cmFpblJlZ2lvbj1FeHQuZmx5KHRoaXMuY29uc3RyYWluVG8pLmdldFZpZXdSZWdpb24oKX19ZWxzZXtpZighdGhpcy5fY29uc3RyYWluUmVnaW9uKXt0aGlzLl9jb25zdHJhaW5SZWdpb249dGhpcy5nZXREcmFnQ3QoKS5nZXRWaWV3UmVnaW9uKCl9fXJldHVybiB0aGlzLl9jb25zdHJhaW5SZWdpb259LGdldFhZOmZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuY29uc3RyYWluTW9kZXNbYV0odGhpcyx0aGlzLmxhc3RYWSk6dGhpcy5sYXN0WFl9LGdldE9mZnNldDpmdW5jdGlvbihjKXt2YXIgYj10aGlzLmdldFhZKGMpLGE9dGhpcy5zdGFydFhZO3JldHVybltiWzBdLWFbMF0sYlsxXS1hWzFdXX0sY29uc3RyYWluTW9kZXM6e3BvaW50OmZ1bmN0aW9uKGIsZCl7dmFyIGM9Yi5kcmFnUmVnaW9uLGE9Yi5nZXRDb25zdHJhaW5SZWdpb24oKTtpZighYSl7cmV0dXJuIGR9Yy54PWMubGVmdD1jWzBdPWMucmlnaHQ9ZFswXTtjLnk9Yy50b3A9Y1sxXT1jLmJvdHRvbT1kWzFdO2MuY29uc3RyYWluVG8oYSk7cmV0dXJuW2MubGVmdCxjLnRvcF19LGRyYWdUYXJnZXQ6ZnVuY3Rpb24oYyxnKXt2YXIgYj1jLnN0YXJ0WFksZT1jLnN0YXJ0UmVnaW9uLmNvcHkoKSxhPWMuZ2V0Q29uc3RyYWluUmVnaW9uKCksZDtpZighYSl7cmV0dXJuIGd9ZS50cmFuc2xhdGVCeShnWzBdLWJbMF0sZ1sxXS1iWzFdKTtpZihlLnJpZ2h0PmEucmlnaHQpe2dbMF0rPWQ9KGEucmlnaHQtZS5yaWdodCk7ZS5sZWZ0Kz1kfWlmKGUubGVmdDxhLmxlZnQpe2dbMF0rPShhLmxlZnQtZS5sZWZ0KX1pZihlLmJvdHRvbT5hLmJvdHRvbSl7Z1sxXSs9ZD0oYS5ib3R0b20tZS5ib3R0b20pO2UudG9wKz1kfWlmKGUudG9wPGEudG9wKXtnWzFdKz0oYS50b3AtZS50b3ApfXJldHVybiBnfX19KTtFeHQuZGVmaW5lKCJFeHQuZGQuUmVnaXN0cnkiLHtzaW5nbGV0b246dHJ1ZSxjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3RoaXMuZWxlbWVudHM9e307dGhpcy5oYW5kbGVzPXt9O3RoaXMuYXV0b0lkU2VlZD0wfSxnZXRJZDpmdW5jdGlvbihiLGEpe2lmKHR5cGVvZiBiPT0ic3RyaW5nIil7cmV0dXJuIGJ9dmFyIGM9Yi5pZDtpZighYyYmYSE9PWZhbHNlKXtjPSJleHRkZC0iKygrK3RoaXMuYXV0b0lkU2VlZCk7Yi5pZD1jfXJldHVybiBjfSxyZWdpc3RlcjpmdW5jdGlvbihkLGUpe2U9ZXx8e307aWYodHlwZW9mIGQ9PSJzdHJpbmciKXtkPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGQpfWUuZGRlbD1kO3RoaXMuZWxlbWVudHNbdGhpcy5nZXRJZChkKV09ZTtpZihlLmlzSGFuZGxlIT09ZmFsc2Upe3RoaXMuaGFuZGxlc1tlLmRkZWwuaWRdPWV9aWYoZS5oYW5kbGVzKXt2YXIgYz1lLmhhbmRsZXMsYixhO2ZvcihiPTAsYT1jLmxlbmd0aDtiPGE7YisrKXt0aGlzLmhhbmRsZXNbdGhpcy5nZXRJZChjW2JdKV09ZX19fSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGQpe3ZhciBnPXRoaXMuZ2V0SWQoZCxmYWxzZSksZT10aGlzLmVsZW1lbnRzW2ddLGMsYixhO2lmKGUpe2RlbGV0ZSB0aGlzLmVsZW1lbnRzW2ddO2lmKGUuaGFuZGxlcyl7Yz1lLmhhbmRsZXM7Zm9yKGI9MCxhPWMubGVuZ3RoO2I8YTtiKyspe2RlbGV0ZSB0aGlzLmhhbmRsZXNbdGhpcy5nZXRJZChjW2JdLGZhbHNlKV19fX19LGdldEhhbmRsZTpmdW5jdGlvbihhKXtpZih0eXBlb2YgYSE9InN0cmluZyIpe2E9YS5pZH1yZXR1cm4gdGhpcy5oYW5kbGVzW2FdfSxnZXRIYW5kbGVGcm9tRXZlbnQ6ZnVuY3Rpb24oYil7dmFyIGE9Yi5nZXRUYXJnZXQoKTtyZXR1cm4gYT90aGlzLmhhbmRsZXNbYS5pZF06bnVsbH0sZ2V0VGFyZ2V0OmZ1bmN0aW9uKGEpe2lmKHR5cGVvZiBhIT0ic3RyaW5nIil7YT1hLmlkfXJldHVybiB0aGlzLmVsZW1lbnRzW2FdfSxnZXRUYXJnZXRGcm9tRXZlbnQ6ZnVuY3Rpb24oYil7dmFyIGE9Yi5nZXRUYXJnZXQoKTtyZXR1cm4gYT90aGlzLmVsZW1lbnRzW2EuaWRdfHx0aGlzLmhhbmRsZXNbYS5pZF06bnVsbH19KTtFeHQuZGVmaW5lKCJFeHQuZGQuU2Nyb2xsTWFuYWdlciIse3NpbmdsZXRvbjp0cnVlLHJlcXVpcmVzOlsiRXh0LmRkLkRyYWdEcm9wTWFuYWdlciJdLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7dmFyIGE9RXh0LmRkLkRyYWdEcm9wTWFuYWdlcjthLmZpcmVFdmVudHM9RXh0LkZ1bmN0aW9uLmNyZWF0ZVNlcXVlbmNlKGEuZmlyZUV2ZW50cyx0aGlzLm9uRmlyZSx0aGlzKTthLnN0b3BEcmFnPUV4dC5GdW5jdGlvbi5jcmVhdGVTZXF1ZW5jZShhLnN0b3BEcmFnLHRoaXMub25TdG9wLHRoaXMpO3RoaXMuZG9TY3JvbGw9RXh0LkZ1bmN0aW9uLmJpbmQodGhpcy5kb1Njcm9sbCx0aGlzKTt0aGlzLmRkbUluc3RhbmNlPWE7dGhpcy5lbHM9e307dGhpcy5kcmFnRWw9bnVsbDt0aGlzLnByb2M9e319LG9uU3RvcDpmdW5jdGlvbihhKXt2YXIgYj1FeHQuZGQuU2Nyb2xsTWFuYWdlcjtiLmRyYWdFbD1udWxsO2IuY2xlYXJQcm9jKCl9LHRyaWdnZXJSZWZyZXNoOmZ1bmN0aW9uKCl7aWYodGhpcy5kZG1JbnN0YW5jZS5kcmFnQ3VycmVudCl7dGhpcy5kZG1JbnN0YW5jZS5yZWZyZXNoQ2FjaGUodGhpcy5kZG1JbnN0YW5jZS5kcmFnQ3VycmVudC5ncm91cHMpfX0sZG9TY3JvbGw6ZnVuY3Rpb24oKXtpZih0aGlzLmRkbUluc3RhbmNlLmRyYWdDdXJyZW50KXt2YXIgYT10aGlzLnByb2MsYj1hLmVsLGM9YS5lbC5kZFNjcm9sbENvbmZpZyxkPWM/Yy5pbmNyZW1lbnQ6dGhpcy5pbmNyZW1lbnQ7aWYoIXRoaXMuYW5pbWF0ZSl7aWYoYi5zY3JvbGwoYS5kaXIsZCkpe3RoaXMudHJpZ2dlclJlZnJlc2goKX19ZWxzZXtiLnNjcm9sbChhLmRpcixkLHRydWUsdGhpcy5hbmltRHVyYXRpb24sdGhpcy50cmlnZ2VyUmVmcmVzaCl9fX0sY2xlYXJQcm9jOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wcm9jO2lmKGEuaWQpe2NsZWFySW50ZXJ2YWwoYS5pZCl9YS5pZD0wO2EuZWw9bnVsbDthLmRpcj0iIn0sc3RhcnRQcm9jOmZ1bmN0aW9uKGIsYSl7dGhpcy5jbGVhclByb2MoKTt0aGlzLnByb2MuZWw9Yjt0aGlzLnByb2MuZGlyPWE7dmFyIGQ9Yi5kZFNjcm9sbENvbmZpZz9iLmRkU2Nyb2xsQ29uZmlnLmRkR3JvdXA6dW5kZWZpbmVkLGM9KGIuZGRTY3JvbGxDb25maWcmJmIuZGRTY3JvbGxDb25maWcuZnJlcXVlbmN5KT9iLmRkU2Nyb2xsQ29uZmlnLmZyZXF1ZW5jeTp0aGlzLmZyZXF1ZW5jeTtpZihkPT09dW5kZWZpbmVkfHx0aGlzLmRkbUluc3RhbmNlLmRyYWdDdXJyZW50LmRkR3JvdXA9PWQpe3RoaXMucHJvYy5pZD1zZXRJbnRlcnZhbCh0aGlzLmRvU2Nyb2xsLGMpfX0sb25GaXJlOmZ1bmN0aW9uKGgsayl7aWYoa3x8IXRoaXMuZGRtSW5zdGFuY2UuZHJhZ0N1cnJlbnQpe3JldHVybn1pZighdGhpcy5kcmFnRWx8fHRoaXMuZHJhZ0VsIT10aGlzLmRkbUluc3RhbmNlLmRyYWdDdXJyZW50KXt0aGlzLmRyYWdFbD10aGlzLmRkbUluc3RhbmNlLmRyYWdDdXJyZW50O3RoaXMucmVmcmVzaENhY2hlKCl9dmFyIGw9aC5nZXRYWSgpLG09aC5nZXRQb2ludCgpLGk9dGhpcy5wcm9jLGc9dGhpcy5lbHMsYixkLGEsajtmb3IoYiBpbiBnKXtkPWdbYl07YT1kLl9yZWdpb247aj1kLmRkU2Nyb2xsQ29uZmlnP2QuZGRTY3JvbGxDb25maWc6dGhpcztpZihhJiZhLmNvbnRhaW5zKG0pJiZkLmlzU2Nyb2xsYWJsZSgpKXtpZihhLmJvdHRvbS1tLnk8PWoudnRocmVzaCl7aWYoaS5lbCE9ZCl7dGhpcy5zdGFydFByb2MoZCwiZG93biIpfXJldHVybn1lbHNle2lmKGEucmlnaHQtbS54PD1qLmh0aHJlc2gpe2lmKGkuZWwhPWQpe3RoaXMuc3RhcnRQcm9jKGQsImxlZnQiKX1yZXR1cm59ZWxzZXtpZihtLnktYS50b3A8PWoudnRocmVzaCl7aWYoaS5lbCE9ZCl7dGhpcy5zdGFydFByb2MoZCwidXAiKX1yZXR1cm59ZWxzZXtpZihtLngtYS5sZWZ0PD1qLmh0aHJlc2gpe2lmKGkuZWwhPWQpe3RoaXMuc3RhcnRQcm9jKGQsInJpZ2h0Iil9cmV0dXJufX19fX19dGhpcy5jbGVhclByb2MoKX0scmVnaXN0ZXI6ZnVuY3Rpb24oYyl7aWYoRXh0LmlzQXJyYXkoYykpe2Zvcih2YXIgYj0wLGE9Yy5sZW5ndGg7YjxhO2IrKyl7dGhpcy5yZWdpc3RlcihjW2JdKX19ZWxzZXtjPUV4dC5nZXQoYyk7dGhpcy5lbHNbYy5pZF09Y319LHVucmVnaXN0ZXI6ZnVuY3Rpb24oYyl7aWYoRXh0LmlzQXJyYXkoYykpe2Zvcih2YXIgYj0wLGE9Yy5sZW5ndGg7YjxhO2IrKyl7dGhpcy51bnJlZ2lzdGVyKGNbYl0pfX1lbHNle2M9RXh0LmdldChjKTtkZWxldGUgdGhpcy5lbHNbYy5pZF19fSx2dGhyZXNoOjI1LGh0aHJlc2g6MjUsaW5jcmVtZW50OjEwMCxmcmVxdWVuY3k6NTAwLGFuaW1hdGU6dHJ1ZSxhbmltRHVyYXRpb246MC40LGRkR3JvdXA6dW5kZWZpbmVkLHJlZnJlc2hDYWNoZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxzLGI7Zm9yKGIgaW4gYSl7aWYodHlwZW9mIGFbYl09PSJvYmplY3QiKXthW2JdLl9yZWdpb249YVtiXS5nZXRSZWdpb24oKX19fX0pO0V4dC5kZWZpbmUoIkV4dC5mb3JtLkZpZWxkQW5jZXN0b3IiLHtpbml0RmllbGRBbmNlc3RvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLm9uRmllbGRBbmNlc3RvclN1YnRyZWVDaGFuZ2U7YS5hZGRFdmVudHMoImZpZWxkdmFsaWRpdHljaGFuZ2UiLCJmaWVsZGVycm9yY2hhbmdlIik7YS5vbigiYWRkIixiLGEpO2Eub24oInJlbW92ZSIsYixhKTthLmluaXRGaWVsZERlZmF1bHRzKCl9LGluaXRGaWVsZERlZmF1bHRzOmZ1bmN0aW9uKCl7aWYoIXRoaXMuZmllbGREZWZhdWx0cyl7dGhpcy5maWVsZERlZmF1bHRzPXt9fX0sb25GaWVsZEFuY2VzdG9yU3VidHJlZUNoYW5nZTpmdW5jdGlvbihiLGUpe3ZhciBjPXRoaXMsZD0hIWUub3duZXJDdDtmdW5jdGlvbiBhKGcpe3ZhciBoPWcuaXNGaWVsZExhYmVsYWJsZSxpPWcuaXNGb3JtRmllbGQ7aWYoaHx8aSl7aWYoaCl7Y1sib25MYWJlbGFibGUiKyhkPyJBZGRlZCI6IlJlbW92ZWQiKV0oZyl9aWYoaSl7Y1sib25GaWVsZCIrKGQ/IkFkZGVkIjoiUmVtb3ZlZCIpXShnKX19ZWxzZXtpZihnLmlzQ29udGFpbmVyKXtFeHQuQXJyYXkuZm9yRWFjaChnLmdldFJlZkl0ZW1zKCksYSl9fX1hKGUpfSxvbkxhYmVsYWJsZUFkZGVkOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5tb24oYSwiZXJyb3JjaGFuZ2UiLGIuaGFuZGxlRmllbGRFcnJvckNoYW5nZSxiLHtidWZmZXI6MTB9KTthLnNldEZpZWxkRGVmYXVsdHMoYi5maWVsZERlZmF1bHRzKX0sb25GaWVsZEFkZGVkOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7YS5tb24oYiwidmFsaWRpdHljaGFuZ2UiLGEuaGFuZGxlRmllbGRWYWxpZGl0eUNoYW5nZSxhKX0sb25MYWJlbGFibGVSZW1vdmVkOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5tdW4oYSwiZXJyb3JjaGFuZ2UiLGIuaGFuZGxlRmllbGRFcnJvckNoYW5nZSxiKX0sb25GaWVsZFJlbW92ZWQ6ZnVuY3Rpb24oYil7dmFyIGE9dGhpczthLm11bihiLCJ2YWxpZGl0eWNoYW5nZSIsYS5oYW5kbGVGaWVsZFZhbGlkaXR5Q2hhbmdlLGEpfSxoYW5kbGVGaWVsZFZhbGlkaXR5Q2hhbmdlOmZ1bmN0aW9uKGMsYil7dmFyIGE9dGhpczthLmZpcmVFdmVudCgiZmllbGR2YWxpZGl0eWNoYW5nZSIsYSxjLGIpO2Eub25GaWVsZFZhbGlkaXR5Q2hhbmdlKGMsYil9LGhhbmRsZUZpZWxkRXJyb3JDaGFuZ2U6ZnVuY3Rpb24oYixhKXt2YXIgYz10aGlzO2MuZmlyZUV2ZW50KCJmaWVsZGVycm9yY2hhbmdlIixjLGIsYSk7Yy5vbkZpZWxkRXJyb3JDaGFuZ2UoYixhKX0sb25GaWVsZFZhbGlkaXR5Q2hhbmdlOkV4dC5lbXB0eUZuLG9uRmllbGRFcnJvckNoYW5nZTpFeHQuZW1wdHlGbn0pO0V4dC5kZWZpbmUoIkV4dC5mb3JtLmFjdGlvbi5BY3Rpb24iLHthbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5mb3JtLkFjdGlvbiIsc3VibWl0RW1wdHlUZXh0OnRydWUsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7aWYoYSl7RXh0LmFwcGx5KHRoaXMsYSl9dmFyIGI9YS5wYXJhbXM7aWYoRXh0LmlzU3RyaW5nKGIpKXt0aGlzLnBhcmFtcz1FeHQuT2JqZWN0LmZyb21RdWVyeVN0cmluZyhiKX19LHJ1bjpFeHQuZW1wdHlGbixvbkZhaWx1cmU6ZnVuY3Rpb24oYSl7dGhpcy5yZXNwb25zZT1hO3RoaXMuZmFpbHVyZVR5cGU9RXh0LmZvcm0uYWN0aW9uLkFjdGlvbi5DT05ORUNUX0ZBSUxVUkU7dGhpcy5mb3JtLmFmdGVyQWN0aW9uKHRoaXMsZmFsc2UpfSxwcm9jZXNzUmVzcG9uc2U6ZnVuY3Rpb24oYSl7dGhpcy5yZXNwb25zZT1hO2lmKCFhLnJlc3BvbnNlVGV4dCYmIWEucmVzcG9uc2VYTUwpe3JldHVybiB0cnVlfXJldHVybih0aGlzLnJlc3VsdD10aGlzLmhhbmRsZVJlc3BvbnNlKGEpKX0sZ2V0VXJsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudXJsfHx0aGlzLmZvcm0udXJsfSxnZXRNZXRob2Q6ZnVuY3Rpb24oKXtyZXR1cm4odGhpcy5tZXRob2R8fHRoaXMuZm9ybS5tZXRob2R8fCJQT1NUIikudG9VcHBlckNhc2UoKX0sZ2V0UGFyYW1zOmZ1bmN0aW9uKCl7cmV0dXJuIEV4dC5hcHBseSh7fSx0aGlzLnBhcmFtcyx0aGlzLmZvcm0uYmFzZVBhcmFtcyl9LGNyZWF0ZUNhbGxiYWNrOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxhLGI9Yy5mb3JtO3JldHVybntzdWNjZXNzOmMub25TdWNjZXNzLGZhaWx1cmU6Yy5vbkZhaWx1cmUsc2NvcGU6Yyx0aW1lb3V0Oih0aGlzLnRpbWVvdXQqMTAwMCl8fChiLnRpbWVvdXQqMTAwMCksdXBsb2FkOmIuZmlsZVVwbG9hZD9jLm9uU3VjY2VzczphfX0sc3RhdGljczp7Q0xJRU5UX0lOVkFMSUQ6ImNsaWVudCIsU0VSVkVSX0lOVkFMSUQ6InNlcnZlciIsQ09OTkVDVF9GQUlMVVJFOiJjb25uZWN0IixMT0FEX0ZBSUxVUkU6ImxvYWQifX0pO0V4dC5kZWZpbmUoIkV4dC5mb3JtLmFjdGlvbi5TdWJtaXQiLHtleHRlbmQ6IkV4dC5mb3JtLmFjdGlvbi5BY3Rpb24iLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmZvcm0uQWN0aW9uLlN1Ym1pdCIsYWxpYXM6ImZvcm1hY3Rpb24uc3VibWl0Iix0eXBlOiJzdWJtaXQiLHJ1bjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZm9ybTtpZih0aGlzLmNsaWVudFZhbGlkYXRpb249PT1mYWxzZXx8YS5pc1ZhbGlkKCkpe3RoaXMuZG9TdWJtaXQoKX1lbHNle3RoaXMuZmFpbHVyZVR5cGU9RXh0LmZvcm0uYWN0aW9uLkFjdGlvbi5DTElFTlRfSU5WQUxJRDthLmFmdGVyQWN0aW9uKHRoaXMsZmFsc2UpfX0sZG9TdWJtaXQ6ZnVuY3Rpb24oKXt2YXIgYixhPUV4dC5hcHBseSh0aGlzLmNyZWF0ZUNhbGxiYWNrKCkse3VybDp0aGlzLmdldFVybCgpLG1ldGhvZDp0aGlzLmdldE1ldGhvZCgpLGhlYWRlcnM6dGhpcy5oZWFkZXJzfSk7aWYodGhpcy5mb3JtLmhhc1VwbG9hZCgpKXtiPWEuZm9ybT10aGlzLmJ1aWxkRm9ybSgpO2EuaXNVcGxvYWQ9dHJ1ZX1lbHNle2EucGFyYW1zPXRoaXMuZ2V0UGFyYW1zKCl9RXh0LkFqYXgucmVxdWVzdChhKTtpZihiKXtFeHQucmVtb3ZlTm9kZShiKX19LGdldFBhcmFtczpmdW5jdGlvbigpe3ZhciBjPWZhbHNlLGI9dGhpcy5jYWxsUGFyZW50KCksYT10aGlzLmZvcm0uZ2V0VmFsdWVzKGMsYyx0aGlzLnN1Ym1pdEVtcHR5VGV4dCE9PWMpO3JldHVybiBFeHQuYXBwbHkoe30sYSxiKX0sYnVpbGRGb3JtOmZ1bmN0aW9uKCl7dmFyIGs9W10saSxxLGU9dGhpcy5mb3JtLGQ9dGhpcy5nZXRQYXJhbXMoKSxjPVtdLGc9ZS5nZXRGaWVsZHMoKS5pdGVtcyxoLHI9Zy5sZW5ndGgsaixvLG0sbixsLHAsYjtmb3IoaD0wO2g8cjtoKyspe2o9Z1toXTtpZihqLmlzRmlsZVVwbG9hZCgpKXtjLnB1c2goail9fWZ1bmN0aW9uIGEocyx0KXtrLnB1c2goe3RhZzoiaW5wdXQiLHR5cGU6ImhpZGRlbiIsbmFtZTpzLHZhbHVlOkV4dC5TdHJpbmcuaHRtbEVuY29kZSh0KX0pfWZvcihvIGluIGQpe2lmKGQuaGFzT3duUHJvcGVydHkobykpe209ZFtvXTtpZihFeHQuaXNBcnJheShtKSl7bD1tLmxlbmd0aDtmb3Iobj0wO248bDtuKyspe2EobyxtW25dKX19ZWxzZXthKG8sbSl9fX1pPXt0YWc6ImZvcm0iLGFjdGlvbjp0aGlzLmdldFVybCgpLG1ldGhvZDp0aGlzLmdldE1ldGhvZCgpLHRhcmdldDp0aGlzLnRhcmdldHx8Il9zZWxmIixzdHlsZToiZGlzcGxheTpub25lIixjbjprfTtpZihjLmxlbmd0aCl7aS5lbmNvZGluZz1pLmVuY3R5cGU9Im11bHRpcGFydC9mb3JtLWRhdGEifXE9RXh0LkRvbUhlbHBlci5hcHBlbmQoRXh0LmdldEJvZHkoKSxpKTtiPWMubGVuZ3RoO2ZvcihwPTA7cDxiO3ArKyl7aj1jW3BdO2lmKGoucmVuZGVyZWQpe3EuYXBwZW5kQ2hpbGQoai5leHRyYWN0RmlsZUlucHV0KCkpfX1yZXR1cm4gcX0sb25TdWNjZXNzOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMuZm9ybSxkPXRydWUsYT10aGlzLnByb2Nlc3NSZXNwb25zZShiKTtpZihhIT09dHJ1ZSYmIWEuc3VjY2Vzcyl7aWYoYS5lcnJvcnMpe2MubWFya0ludmFsaWQoYS5lcnJvcnMpfXRoaXMuZmFpbHVyZVR5cGU9RXh0LmZvcm0uYWN0aW9uLkFjdGlvbi5TRVJWRVJfSU5WQUxJRDtkPWZhbHNlfWMuYWZ0ZXJBY3Rpb24odGhpcyxkKX0saGFuZGxlUmVzcG9uc2U6ZnVuY3Rpb24oZCl7dmFyIGg9dGhpcy5mb3JtLGU9aC5lcnJvclJlYWRlcixjLGosZyxhLGI7aWYoZSl7Yz1lLnJlYWQoZCk7Yj1jLnJlY29yZHM7aj1bXTtpZihiKXtmb3IoZz0wLGE9Yi5sZW5ndGg7ZzxhO2crKyl7altnXT1iW2ddLmRhdGF9fWlmKGoubGVuZ3RoPDEpe2o9bnVsbH1yZXR1cm57c3VjY2VzczpjLnN1Y2Nlc3MsZXJyb3JzOmp9fXJldHVybiBFeHQuZGVjb2RlKGQucmVzcG9uc2VUZXh0KX19KTtFeHQuZGVmaW5lKCJFeHQuZm9ybS5maWVsZC5GaWVsZCIse2lzRm9ybUZpZWxkOnRydWUsZGlzYWJsZWQ6ZmFsc2Usc3VibWl0VmFsdWU6dHJ1ZSx2YWxpZGF0ZU9uQ2hhbmdlOnRydWUsc3VzcGVuZENoZWNrQ2hhbmdlOjAsaW5pdEZpZWxkOmZ1bmN0aW9uKCl7dGhpcy5hZGRFdmVudHMoImNoYW5nZSIsInZhbGlkaXR5Y2hhbmdlIiwiZGlydHljaGFuZ2UiKTt0aGlzLmluaXRWYWx1ZSgpfSxpbml0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2Eub3JpZ2luYWxWYWx1ZT1hLmxhc3RWYWx1ZT1hLnZhbHVlO2Euc3VzcGVuZENoZWNrQ2hhbmdlKys7YS5zZXRWYWx1ZShhLnZhbHVlKTthLnN1c3BlbmRDaGVja0NoYW5nZS0tfSxnZXROYW1lOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZX0sc2V0VmFsdWU6ZnVuY3Rpb24oYil7dmFyIGE9dGhpczthLnZhbHVlPWI7YS5jaGVja0NoYW5nZSgpO3JldHVybiBhfSxpc0VxdWFsOmZ1bmN0aW9uKGIsYSl7cmV0dXJuIFN0cmluZyhiKT09PVN0cmluZyhhKX0saXNFcXVhbEFzU3RyaW5nOmZ1bmN0aW9uKGIsYSl7cmV0dXJuIFN0cmluZyhFeHQudmFsdWUoYiwiIikpPT09U3RyaW5nKEV4dC52YWx1ZShhLCIiKSl9LGdldFN1Ym1pdERhdGE6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9bnVsbDtpZighYS5kaXNhYmxlZCYmYS5zdWJtaXRWYWx1ZSYmIWEuaXNGaWxlVXBsb2FkKCkpe2I9e307YlthLmdldE5hbWUoKV09IiIrYS5nZXRWYWx1ZSgpfXJldHVybiBifSxnZXRNb2RlbERhdGE6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9bnVsbDtpZighYS5kaXNhYmxlZCYmIWEuaXNGaWxlVXBsb2FkKCkpe2I9e307YlthLmdldE5hbWUoKV09YS5nZXRWYWx1ZSgpfXJldHVybiBifSxyZXNldDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5zZXRWYWx1ZShhLm9yaWdpbmFsVmFsdWUpO2EuY2xlYXJJbnZhbGlkKCk7ZGVsZXRlIGEud2FzVmFsaWR9LHJlc2V0T3JpZ2luYWxWYWx1ZTpmdW5jdGlvbigpe3RoaXMub3JpZ2luYWxWYWx1ZT10aGlzLmdldFZhbHVlKCk7dGhpcy5jaGVja0RpcnR5KCl9LGNoZWNrQ2hhbmdlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuc3VzcGVuZENoZWNrQ2hhbmdlKXt2YXIgYz10aGlzLGI9Yy5nZXRWYWx1ZSgpLGE9Yy5sYXN0VmFsdWU7aWYoIWMuaXNFcXVhbChiLGEpJiYhYy5pc0Rlc3Ryb3llZCl7Yy5sYXN0VmFsdWU9YjtjLmZpcmVFdmVudCgiY2hhbmdlIixjLGIsYSk7Yy5vbkNoYW5nZShiLGEpfX19LG9uQ2hhbmdlOmZ1bmN0aW9uKGIsYSl7aWYodGhpcy52YWxpZGF0ZU9uQ2hhbmdlKXt0aGlzLnZhbGlkYXRlKCl9dGhpcy5jaGVja0RpcnR5KCl9LGlzRGlydHk6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiAhYS5kaXNhYmxlZCYmIWEuaXNFcXVhbChhLmdldFZhbHVlKCksYS5vcmlnaW5hbFZhbHVlKX0sY2hlY2tEaXJ0eTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmlzRGlydHkoKTtpZihiIT09YS53YXNEaXJ0eSl7YS5maXJlRXZlbnQoImRpcnR5Y2hhbmdlIixhLGIpO2Eub25EaXJ0eUNoYW5nZShiKTthLndhc0RpcnR5PWJ9fSxvbkRpcnR5Q2hhbmdlOkV4dC5lbXB0eUZuLGdldEVycm9yczpmdW5jdGlvbihhKXtyZXR1cm5bXX0saXNWYWxpZDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuZGlzYWJsZWR8fEV4dC5pc0VtcHR5KGEuZ2V0RXJyb3JzKCkpfSx2YWxpZGF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmlzVmFsaWQoKTtpZihiIT09YS53YXNWYWxpZCl7YS53YXNWYWxpZD1iO2EuZmlyZUV2ZW50KCJ2YWxpZGl0eWNoYW5nZSIsYSxiKX1yZXR1cm4gYn0sYmF0Y2hDaGFuZ2VzOmZ1bmN0aW9uKGEpe3RyeXt0aGlzLnN1c3BlbmRDaGVja0NoYW5nZSsrO2EoKX1jYXRjaChiKXt0aHJvdyBifWZpbmFsbHl7dGhpcy5zdXNwZW5kQ2hlY2tDaGFuZ2UtLX10aGlzLmNoZWNrQ2hhbmdlKCl9LGlzRmlsZVVwbG9hZDpmdW5jdGlvbigpe3JldHVybiBmYWxzZX0sZXh0cmFjdEZpbGVJbnB1dDpmdW5jdGlvbigpe3JldHVybiBudWxsfSxtYXJrSW52YWxpZDpFeHQuZW1wdHlGbixjbGVhckludmFsaWQ6RXh0LmVtcHR5Rm59KTtFeHQuZGVmaW5lKCJFeHQuZm9ybS5maWVsZC5WVHlwZXMiLChmdW5jdGlvbigpe3ZhciBjPS9eW2EtekEtWl9dKyQvLGQ9L15bYS16QS1aMC05X10rJC8sYj0vXihcdyspKFtcLSsuXVtcd10rKSpAKFx3W1wtXHddKlwuKXsxLDV9KFtBLVphLXpdKXsyLDZ9JC8sYT0vKCgoXmh0dHBzPyl8KF5mdHApKTpcL1wvKFtcLVx3XStcLikrXHd7MiwzfShcL1slXC1cd10rKFwuXHd7Mix9KT8pKigoW1x3XC1cLlw/XFxcLytAJiM7YH49JSFdKikoXC5cd3syLH0pPykqXC8/KS9pO3JldHVybntzaW5nbGV0b246dHJ1ZSxhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5mb3JtLlZUeXBlcyIsZW1haWw6ZnVuY3Rpb24oZSl7cmV0dXJuIGIudGVzdChlKX0sZW1haWxUZXh0OidUaGlzIGZpZWxkIHNob3VsZCBiZSBhbiBlLW1haWwgYWRkcmVzcyBpbiB0aGUgZm9ybWF0ICJ1c2VyQGV4YW1wbGUuY29tIicsZW1haWxNYXNrOi9bYS16MC05X1wuXC1AXCtdL2ksdXJsOmZ1bmN0aW9uKGUpe3JldHVybiBhLnRlc3QoZSl9LHVybFRleHQ6J1RoaXMgZmllbGQgc2hvdWxkIGJlIGEgVVJMIGluIHRoZSBmb3JtYXQgImh0dHA6Ly93d3cuZXhhbXBsZS5jb20iJyxhbHBoYTpmdW5jdGlvbihlKXtyZXR1cm4gYy50ZXN0KGUpfSxhbHBoYVRleHQ6IlRoaXMgZmllbGQgc2hvdWxkIG9ubHkgY29udGFpbiBsZXR0ZXJzIGFuZCBfIixhbHBoYU1hc2s6L1thLXpfXS9pLGFscGhhbnVtOmZ1bmN0aW9uKGUpe3JldHVybiBkLnRlc3QoZSl9LGFscGhhbnVtVGV4dDoiVGhpcyBmaWVsZCBzaG91bGQgb25seSBjb250YWluIGxldHRlcnMsIG51bWJlcnMgYW5kIF8iLGFscGhhbnVtTWFzazovW2EtejAtOV9dL2l9fSgpKSk7RXh0LmRlZmluZSgiRXh0LmdyaWQuTG9ja2luZ1ZpZXciLHttaXhpbnM6e29ic2VydmFibGU6IkV4dC51dGlsLk9ic2VydmFibGUifSxldmVudFJlbGF5UmU6L14oYmVmb3JlaXRlbXxiZWZvcmVjb250YWluZXJ8aXRlbXxjb250YWluZXJ8Y2VsbCkvLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGMpe3ZhciBnPXRoaXMsaT1bXSxhPWcuZXZlbnRSZWxheVJlLGI9Yy5sb2NrZWQuZ2V0VmlldygpLGg9Yy5ub3JtYWwuZ2V0VmlldygpLGQsZTtFeHQuYXBwbHkoZyx7bG9ja2VkVmlldzpiLG5vcm1hbFZpZXc6aCxsb2NrZWRHcmlkOmMubG9ja2VkLG5vcm1hbEdyaWQ6Yy5ub3JtYWwscGFuZWw6Yy5wYW5lbH0pO2cubWl4aW5zLm9ic2VydmFibGUuY29uc3RydWN0b3IuY2FsbChnLGMpO2Q9Yi5ldmVudHM7Zm9yKGUgaW4gZCl7aWYoZC5oYXNPd25Qcm9wZXJ0eShlKSYmYS50ZXN0KGUpKXtpLnB1c2goZSl9fWcucmVsYXlFdmVudHMoYixpKTtnLnJlbGF5RXZlbnRzKGgsaSk7aC5vbih7c2NvcGU6ZyxpdGVtbW91c2VsZWF2ZTpnLm9uSXRlbU1vdXNlTGVhdmUsaXRlbW1vdXNlZW50ZXI6Zy5vbkl0ZW1Nb3VzZUVudGVyfSk7Yi5vbih7c2NvcGU6ZyxpdGVtbW91c2VsZWF2ZTpnLm9uSXRlbU1vdXNlTGVhdmUsaXRlbW1vdXNlZW50ZXI6Zy5vbkl0ZW1Nb3VzZUVudGVyfSl9LGdldEdyaWRDb2x1bW5zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5sb2NrZWRHcmlkLmhlYWRlckN0LmdldEdyaWRDb2x1bW5zKCk7cmV0dXJuIGEuY29uY2F0KHRoaXMubm9ybWFsR3JpZC5oZWFkZXJDdC5nZXRHcmlkQ29sdW1ucygpKX0sZ2V0RWw6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0Vmlld0ZvckNvbHVtbihhKS5nZXRFbCgpfSxnZXRWaWV3Rm9yQ29sdW1uOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMubG9ja2VkVmlldyxjO2EuaGVhZGVyQ3QuY2FzY2FkZShmdW5jdGlvbihkKXtpZihkPT09Yil7Yz10cnVlO3JldHVybiBmYWxzZX19KTtyZXR1cm4gYz9hOnRoaXMubm9ybWFsVmlld30sb25JdGVtTW91c2VFbnRlcjpmdW5jdGlvbihjLGIpe3ZhciBnPXRoaXMsZD1nLmxvY2tlZFZpZXcsYT1nLm5vcm1hbFZpZXcsZTtpZihjLnRyYWNrT3Zlcil7aWYoYyE9PWQpe2E9ZH1lPWEuZ2V0Tm9kZShiKTthLmhpZ2hsaWdodEl0ZW0oZSl9fSxvbkl0ZW1Nb3VzZUxlYXZlOmZ1bmN0aW9uKGMsYil7dmFyIGU9dGhpcyxkPWUubG9ja2VkVmlldyxhPWUubm9ybWFsVmlldztpZihjLnRyYWNrT3Zlcil7aWYoYyE9PWQpe2E9ZH1hLmNsZWFySGlnaGxpZ2h0KCl9fSxyZWxheUZuOmZ1bmN0aW9uKGMsYil7Yj1ifHxbXTt2YXIgYT10aGlzLmxvY2tlZFZpZXc7YVtjXS5hcHBseShhLGJ8fFtdKTthPXRoaXMubm9ybWFsVmlldzthW2NdLmFwcGx5KGEsYnx8W10pfSxnZXRTZWxlY3Rpb25Nb2RlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhbmVsLmdldFNlbGVjdGlvbk1vZGVsKCl9LGdldFN0b3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFuZWwuc3RvcmV9LGdldE5vZGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubm9ybWFsVmlldy5nZXROb2RlKGEpfSxnZXRDZWxsOmZ1bmN0aW9uKGIsYyl7dmFyIGE9dGhpcy5nZXRWaWV3Rm9yQ29sdW1uKGMpLGQ7ZD1hLmdldE5vZGUoYik7cmV0dXJuIEV4dC5mbHkoZCkuZG93bihjLmdldENlbGxTZWxlY3RvcigpKX0sZ2V0UmVjb3JkOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMubG9ja2VkVmlldy5nZXRSZWNvcmQoYik7aWYoIWIpe2E9dGhpcy5ub3JtYWxWaWV3LmdldFJlY29yZChiKX1yZXR1cm4gYX0sYWRkRWxMaXN0ZW5lcjpmdW5jdGlvbihhLGMsYil7dGhpcy5yZWxheUZuKCJhZGRFbExpc3RlbmVyIixhcmd1bWVudHMpfSxyZWZyZXNoTm9kZTpmdW5jdGlvbigpe3RoaXMucmVsYXlGbigicmVmcmVzaE5vZGUiLGFyZ3VtZW50cyl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnJlbGF5Rm4oInJlZnJlc2giLGFyZ3VtZW50cyl9LGJpbmRTdG9yZTpmdW5jdGlvbigpe3RoaXMucmVsYXlGbigiYmluZFN0b3JlIixhcmd1bWVudHMpfSxhZGRSb3dDbHM6ZnVuY3Rpb24oKXt0aGlzLnJlbGF5Rm4oImFkZFJvd0NscyIsYXJndW1lbnRzKX0scmVtb3ZlUm93Q2xzOmZ1bmN0aW9uKCl7dGhpcy5yZWxheUZuKCJyZW1vdmVSb3dDbHMiLGFyZ3VtZW50cyl9fSk7RXh0LmRlZmluZSgiRXh0LmdyaWQuUGFnaW5nU2Nyb2xsZXIiLHtwZXJjZW50YWdlRnJvbUVkZ2U6MC4zNSxudW1Gcm9tRWRnZToyLHRyYWlsaW5nQnVmZmVyWm9uZTo1LGxlYWRpbmdCdWZmZXJab25lOjE1LHNjcm9sbFRvTG9hZEJ1ZmZlcjoyMDAsdmlld1NpemU6MCxyb3dIZWlnaHQ6MjEsdGFibGVTdGFydDowLHRhYmxlRW5kOjAsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLnZhcmlhYmxlUm93SGVpZ2h0PWEudmFyaWFibGVSb3dIZWlnaHQ7Yi5iaW5kVmlldyhhLnZpZXcpO0V4dC5hcHBseShiLGEpO2IuY2FsbFBhcmVudChhcmd1bWVudHMpfSxiaW5kVmlldzpmdW5jdGlvbihiKXt2YXIgZT10aGlzLGQ9e3Njcm9sbDp7Zm46ZS5vblZpZXdTY3JvbGwsZWxlbWVudDoiZWwiLHNjb3BlOmV9LHJlbmRlcjplLm9uVmlld1JlbmRlcixyZXNpemU6ZS5vblZpZXdSZXNpemUsYm94cmVhZHk6e2ZuOmUub25WaWV3UmVzaXplLHNjb3BlOmUsc2luZ2xlOnRydWV9LHJlZnJlc2g6ZS5vblZpZXdSZWZyZXNoLHNjb3BlOmV9LGE9e2d1YXJhbnRlZWRyYW5nZTplLm9uR3VhcmFudGVlZFJhbmdlLHNjb3BlOmV9LGM9e3JlY29uZmlndXJlOmUub25HcmlkUmVjb25maWd1cmUsc2NvcGU6ZX07aWYoZS52YXJpYWJsZVJvd0hlaWdodCl7ZC5iZWZvcmVyZWZyZXNoPWUuYmVmb3JlVmlld1JlZnJlc2h9aWYoZS52aWV3KXtlLnZpZXcuZWwudW4oInNjcm9sbCIsZS5vblZpZXdTY3JvbGwsZSk7ZS52aWV3LnVuKGQpO2Uuc3RvcmUudW4oYSk7aWYoZS5ncmlkKXtlLmdyaWQudW4oYyl9ZGVsZXRlIGUudmlldy5yZWZyZXNoU2l6ZX1lLnZpZXc9YjtlLmdyaWQ9ZS52aWV3LnVwKCJ0YWJsZXBhbmVsIik7ZS5zdG9yZT1iLnN0b3JlO2lmKGIucmVuZGVyZWQpe2Uudmlld1NpemU9ZS5zdG9yZS52aWV3U2l6ZT1NYXRoLmNlaWwoYi5nZXRIZWlnaHQoKS9lLnJvd0hlaWdodCkrZS50cmFpbGluZ0J1ZmZlclpvbmUrKGUubnVtRnJvbUVkZ2UqMikrZS5sZWFkaW5nQnVmZmVyWm9uZX1lLnZpZXcucmVmcmVzaFNpemU9RXh0LkZ1bmN0aW9uLmNyZWF0ZUludGVyY2VwdG9yKGUudmlldy5yZWZyZXNoU2l6ZSxlLmJlZm9yZVZpZXdyZWZyZXNoU2l6ZSxlKTtlLnBvc2l0aW9uPTA7aWYoZS5ncmlkKXtlLmdyaWQub24oYyl9ZWxzZXtlLnZpZXcub24oe2FkZGVkOmZ1bmN0aW9uKCl7ZS5ncmlkPWUudmlldy51cCgidGFibGVwYW5lbCIpO2UuZ3JpZC5vbihjKX0sc2luZ2xlOnRydWV9KX1lLnZpZXcub24oZS52aWV3TGlzdGVuZXJzPWQpO2Uuc3RvcmUub24oYSl9LG9uR3JpZFJlY29uZmlndXJlOmZ1bmN0aW9uKGEpe3RoaXMuYmluZFZpZXcoYS52aWV3KX0sb25WaWV3UmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIudmlldy5lbDthLnNldFN0eWxlKCJwb3NpdGlvbiIsInJlbGF0aXZlIik7Yi5zdHJldGNoZXI9YS5jcmVhdGVDaGlsZCh7c3R5bGU6e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsd2lkdGg6IjFweCIsaGVpZ2h0OjAsdG9wOjAsbGVmdDowfX0sYS5kb20uZmlyc3RDaGlsZCl9LG9uVmlld1Jlc2l6ZTpmdW5jdGlvbihiLGQsYSl7dmFyIGU9dGhpcyxjO2M9TWF0aC5jZWlsKGEvZS5yb3dIZWlnaHQpK2UudHJhaWxpbmdCdWZmZXJab25lKyhlLm51bUZyb21FZGdlKjIpK2UubGVhZGluZ0J1ZmZlclpvbmU7aWYoYz5lLnZpZXdTaXplKXtlLnZpZXdTaXplPWUuc3RvcmUudmlld1NpemU9YztlLmhhbmRsZVZpZXdTY3JvbGwoZS5sYXN0U2Nyb2xsRGlyZWN0aW9ufHwxKX19LGJlZm9yZVZpZXdSZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIudmlldyxjLGQ9Yi5sYXN0U2Nyb2xsRGlyZWN0aW9uO2IuY29tbW9uUmVjb3JkSW5kZXg9dW5kZWZpbmVkO2lmKGQmJihiLnByZXZpb3VzU3RhcnQhPT11bmRlZmluZWQpJiYoYi5zY3JvbGxQcm9wb3J0aW9uPT09dW5kZWZpbmVkKSl7Yz1hLmdldE5vZGVzKCk7aWYoZD09PTEpe2lmKGIudGFibGVTdGFydDw9Yi5wcmV2aW91c0VuZCl7Yi5jb21tb25SZWNvcmRJbmRleD1jLmxlbmd0aC0xfX1lbHNle2lmKGQ9PT0tMSl7aWYoYi50YWJsZUVuZD49Yi5wcmV2aW91c1N0YXJ0KXtiLmNvbW1vblJlY29yZEluZGV4PTB9fX1iLnNjcm9sbE9mZnNldD0tYS5lbC5nZXRPZmZzZXRzVG8oY1tiLmNvbW1vblJlY29yZEluZGV4XSlbMV07Yi5jb21tb25SZWNvcmRJbmRleC09KGIudGFibGVTdGFydC1iLnByZXZpb3VzU3RhcnQpfWVsc2V7Yi5zY3JvbGxPZmZzZXQ9dW5kZWZpbmVkfX0sb25WaWV3UmVmcmVzaDpmdW5jdGlvbigpe3ZhciBkPXRoaXMsZz1kLnN0b3JlLGMsZT1kLnZpZXcsaj1lLmVsLGs9ai5kb20sbSxpLGIsbD1qLmNoaWxkKCJ0YWJsZSIsdHJ1ZSksaCxhO2QuZGlzYWJsZWQ9dHJ1ZTtpZihnLmdldENvdW50KCk9PT1nLmdldFRvdGFsQ291bnQoKXx8KGcuaXNGaWx0ZXJlZCgpJiYhZy5yZW1vdGVGaWx0ZXIpKXtkLnN0cmV0Y2hlci5zZXRIZWlnaHQoMCk7ZC5wb3NpdGlvbj1rLnNjcm9sbFRvcD0wO2wuc3R5bGUucG9zaXRpb249ImFic29sdXRlIjtyZXR1cm59ZC5zdHJldGNoZXIuc2V0SGVpZ2h0KGM9ZC5nZXRTY3JvbGxIZWlnaHQoKSk7YT1rLnNjcm9sbFRvcDtkLmlzU2Nyb2xsUmVmcmVzaD0oYT4wKTtpZihkLnNjcm9sbFByb3BvcnRpb24hPT11bmRlZmluZWQpe2Quc2Nyb2xsUHJvcG9ydGlvbj1hLyhjLWwub2Zmc2V0SGVpZ2h0KTtsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7bC5zdHlsZS50b3A9KGQuc2Nyb2xsUHJvcG9ydGlvbj8oYypkLnNjcm9sbFByb3BvcnRpb24pLShsLm9mZnNldEhlaWdodCpkLnNjcm9sbFByb3BvcnRpb24pOjApKyJweCJ9ZWxzZXtsLnN0eWxlLnBvc2l0aW9uPSJhYnNvbHV0ZSI7bC5zdHlsZS50b3A9KGg9KGQudGFibGVTdGFydHx8MCkqZC5yb3dIZWlnaHQpKyJweCI7aWYoZC5zY3JvbGxPZmZzZXQpe209ZS5nZXROb2RlcygpO2k9LWouZ2V0T2Zmc2V0c1RvKG1bZC5jb21tb25SZWNvcmRJbmRleF0pWzFdO2I9aS1kLnNjcm9sbE9mZnNldDtkLnBvc2l0aW9uPShhKz1iKX1lbHNle2lmKChoPmEpfHwoKGgrbC5vZmZzZXRIZWlnaHQpPGEray5jbGllbnRIZWlnaHQpKXtkLmxhc3RTY3JvbGxEaXJlY3Rpb249LTE7ZC5wb3NpdGlvbj1rLnNjcm9sbFRvcD1ofX19ZC5kaXNhYmxlZD1mYWxzZX0sYmVmb3JlVmlld3JlZnJlc2hTaXplOmZ1bmN0aW9uKCl7aWYodGhpcy5pc1Njcm9sbFJlZnJlc2gpe3JldHVybih0aGlzLmlzU2Nyb2xsUmVmcmVzaD1mYWxzZSl9fSxvbkd1YXJhbnRlZWRSYW5nZTpmdW5jdGlvbihiLGUsYSl7dmFyIGM9dGhpcyxkPWMuc3RvcmU7aWYoYi5sZW5ndGgmJmMudmlzaWJsZVN0YXJ0PGJbMF0uaW5kZXgpe3JldHVybn1jLnByZXZpb3VzU3RhcnQ9Yy50YWJsZVN0YXJ0O2MucHJldmlvdXNFbmQ9Yy50YWJsZUVuZDtjLnRhYmxlU3RhcnQ9ZTtjLnRhYmxlRW5kPWE7ZC5sb2FkUmVjb3JkcyhiKX0sb25WaWV3U2Nyb2xsOmZ1bmN0aW9uKGcsYyl7dmFyIGQ9dGhpcyxhPWQudmlldyxiPWQucG9zaXRpb247ZC5wb3NpdGlvbj1hLmVsLmRvbS5zY3JvbGxUb3A7aWYoIWQuZGlzYWJsZWQpe2QubGFzdFNjcm9sbERpcmVjdGlvbj1kLnBvc2l0aW9uPmI/MTotMTtpZihiIT09ZC5wb3NpdGlvbil7ZC5oYW5kbGVWaWV3U2Nyb2xsKGQubGFzdFNjcm9sbERpcmVjdGlvbil9fX0saGFuZGxlVmlld1Njcm9sbDpmdW5jdGlvbihoKXt2YXIgZD10aGlzLGo9ZC5zdG9yZSxnPWQudmlldyxlPWQudmlld1NpemUsaz1qLmdldFRvdGFsQ291bnQoKSxjPWstZSxiPWQuZ2V0Rmlyc3RWaXNpYmxlUm93SW5kZXgoKSxpPWQuZ2V0TGFzdFZpc2libGVSb3dJbmRleCgpLGEsbDtpZihrPj1lKXtkLnNjcm9sbFByb3BvcnRpb249dW5kZWZpbmVkO2lmKGg9PS0xKXtpZihiIT09dW5kZWZpbmVkKXtpZihiPChkLnRhYmxlU3RhcnQrZC5udW1Gcm9tRWRnZSkpe2E9TWF0aC5tYXgoMCxpK2QudHJhaWxpbmdCdWZmZXJab25lLWUpfX1lbHNle2Quc2Nyb2xsUHJvcG9ydGlvbj1nLmVsLmRvbS5zY3JvbGxUb3AvKGcuZWwuZG9tLnNjcm9sbEhlaWdodC1nLmVsLmRvbS5jbGllbnRIZWlnaHQpO2E9TWF0aC5tYXgoMCxrKmQuc2Nyb2xsUHJvcG9ydGlvbi0oZS8yKS1kLm51bUZyb21FZGdlLSgoZC5sZWFkaW5nQnVmZmVyWm9uZStkLnRyYWlsaW5nQnVmZmVyWm9uZSkvMikpfX1lbHNle2lmKGIhPT11bmRlZmluZWQpe2lmKGk+KGQudGFibGVFbmQtZC5udW1Gcm9tRWRnZSkpe2E9TWF0aC5tYXgoMCxiLWQudHJhaWxpbmdCdWZmZXJab25lKX19ZWxzZXtkLnNjcm9sbFByb3BvcnRpb249Zy5lbC5kb20uc2Nyb2xsVG9wLyhnLmVsLmRvbS5zY3JvbGxIZWlnaHQtZy5lbC5kb20uY2xpZW50SGVpZ2h0KTthPWsqZC5zY3JvbGxQcm9wb3J0aW9uLShlLzIpLWQubnVtRnJvbUVkZ2UtKChkLmxlYWRpbmdCdWZmZXJab25lK2QudHJhaWxpbmdCdWZmZXJab25lKS8yKX19aWYoYSE9PXVuZGVmaW5lZCl7aWYoYT5jKXthPWMmfjE7bD1rLTF9ZWxzZXthPWEmfjE7bD1hK2UtMX1pZihqLnJhbmdlQ2FjaGVkKGEsbCkpe2QuY2FuY2VsTG9hZCgpO2ouZ3VhcmFudGVlUmFuZ2UoYSxsKX1lbHNle2QuYXR0ZW1wdExvYWQoYSxsKX19fX0sZ2V0Rmlyc3RWaXNpYmxlUm93SW5kZXg6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGI9ZS5zdG9yZSxhPWUudmlldyxqPWEuZWwuZG9tLnNjcm9sbFRvcCxnLGQsYyxoO2lmKGUudmFyaWFibGVSb3dIZWlnaHQpe2c9YS5nZXROb2RlcygpO2Q9Yi5nZXRDb3VudCgpO2ZvcihjPTA7YzxkO2MrKyl7aD1FeHQuZmx5KGdbY10pLmdldE9mZnNldHNUbyhhLmVsKVsxXStnW2NdLm9mZnNldEhlaWdodDtpZihoPmEuZWwuZG9tLmNsaWVudEhlaWdodCl7cmV0dXJufWlmKGg+MCl7cmV0dXJuIGMrZS50YWJsZVN0YXJ0fX19ZWxzZXtyZXR1cm4gTWF0aC5mbG9vcihqL2Uucm93SGVpZ2h0KX19LGdldExhc3RWaXNpYmxlUm93SW5kZXg6ZnVuY3Rpb24oKXt2YXIgaD10aGlzLGM9aC5zdG9yZSxhPWgudmlldyxiPWEuZWwuZG9tLmNsaWVudEhlaWdodCxqLGcsZSxkO2lmKGgudmFyaWFibGVSb3dIZWlnaHQpe2o9YS5nZXROb2RlcygpO2c9Yy5nZXRDb3VudCgpO2ZvcihlPWctMTtlPj0wO2UtLSl7ZD1FeHQuZmx5KGpbZV0pLmdldE9mZnNldHNUbyhhLmVsKVsxXTtpZihkPDApe3JldHVybn1pZihkPGIpe3JldHVybiBlK2gudGFibGVTdGFydH19fWVsc2V7cmV0dXJuIGguZ2V0Rmlyc3RWaXNpYmxlUm93SW5kZXgoKStNYXRoLmNlaWwoYi9oLnJvd0hlaWdodCkrMX19LGdldFNjcm9sbEhlaWdodDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsYT1lLnZpZXcsZCxoLGI9ZS5zdG9yZSxnPTAsYz0hZS5oYXNPd25Qcm9wZXJ0eSgicm93SGVpZ2h0Iik7aWYoZS52YXJpYWJsZVJvd0hlaWdodCl7ZD1lLnZpZXcuZWwuZG93bigidGFibGUiLHRydWUpO2lmKGMpe2UuaW5pdGlhbFRhYmxlSGVpZ2h0PWQub2Zmc2V0SGVpZ2h0O2Uucm93SGVpZ2h0PWUuaW5pdGlhbFRhYmxlSGVpZ2h0L2Uuc3RvcmUuZ2V0Q291bnQoKX1lbHNle2c9ZC5vZmZzZXRIZWlnaHQtZS5pbml0aWFsVGFibGVIZWlnaHR9fWVsc2V7aWYoYyl7aD1hLmVsLmRvd24oYS5nZXRJdGVtU2VsZWN0b3IoKSk7aWYoaCl7ZS5yb3dIZWlnaHQ9aC5nZXRIZWlnaHQoZmFsc2UsdHJ1ZSl9fX1yZXR1cm4gTWF0aC5mbG9vcihiLmdldFRvdGFsQ291bnQoKSplLnJvd0hlaWdodCkrZ30sYXR0ZW1wdExvYWQ6ZnVuY3Rpb24oYyxhKXt2YXIgYj10aGlzO2lmKGIuc2Nyb2xsVG9Mb2FkQnVmZmVyKXtpZighYi5sb2FkVGFzayl7Yi5sb2FkVGFzaz1uZXcgRXh0LnV0aWwuRGVsYXllZFRhc2soYi5kb0F0dGVtcHRMb2FkLGIsW10pfWIubG9hZFRhc2suZGVsYXkoYi5zY3JvbGxUb0xvYWRCdWZmZXIsYi5kb0F0dGVtcHRMb2FkLGIsW2MsYV0pfWVsc2V7Yi5zdG9yZS5ndWFyYW50ZWVSYW5nZShjLGEpfX0sY2FuY2VsTG9hZDpmdW5jdGlvbigpe2lmKHRoaXMubG9hZFRhc2spe3RoaXMubG9hZFRhc2suY2FuY2VsKCl9fSxkb0F0dGVtcHRMb2FkOmZ1bmN0aW9uKGIsYSl7dGhpcy5zdG9yZS5ndWFyYW50ZWVSYW5nZShiLGEpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIudmlld0xpc3RlbmVycy5zY3JvbGw7Yi5zdG9yZS51bih7Z3VhcmFudGVlZHJhbmdlOmIub25HdWFyYW50ZWVkUmFuZ2Usc2NvcGU6Yn0pO2Iudmlldy51bihiLnZpZXdMaXN0ZW5lcnMpO2lmKGIudmlldy5yZW5kZXJlZCl7Yi5zdHJldGNoZXIucmVtb3ZlKCk7Yi52aWV3LmVsLnVuKCJzY3JvbGwiLGEuZm4sYS5zY29wZSl9fX0pO0V4dC5kZWZpbmUoIkV4dC5ncmlkLmZlYXR1cmUuRmVhdHVyZSIse2V4dGVuZDoiRXh0LnV0aWwuT2JzZXJ2YWJsZSIsYWxpYXM6ImZlYXR1cmUuZmVhdHVyZSIsaXNGZWF0dXJlOnRydWUsZGlzYWJsZWQ6ZmFsc2UsaGFzRmVhdHVyZUV2ZW50OnRydWUsZXZlbnRQcmVmaXg6bnVsbCxldmVudFNlbGVjdG9yOm51bGwsdmlldzpudWxsLGdyaWQ6bnVsbCxjb2xsZWN0RGF0YTpmYWxzZSxpbml0OkV4dC5lbXB0eUZuLGdldEZlYXR1cmVUcGw6ZnVuY3Rpb24oKXtyZXR1cm4iIn0sZ2V0RmlyZUV2ZW50QXJnczpmdW5jdGlvbihiLGEsYyxkKXtyZXR1cm5bYixhLGMsZF19LGF0dGFjaEV2ZW50czpmdW5jdGlvbigpe30sZ2V0RnJhZ21lbnRUcGw6RXh0LmVtcHR5Rm4sbXV0YXRlTWV0YVJvd1RwbDpFeHQuZW1wdHlGbixnZXRNZXRhUm93VHBsRnJhZ21lbnRzOmZ1bmN0aW9uKCl7cmV0dXJue319LGdldFRhYmxlRnJhZ21lbnRzOmZ1bmN0aW9uKCl7cmV0dXJue319LGdldEFkZGl0aW9uYWxEYXRhOmZ1bmN0aW9uKGMsYSxiLGQpe3JldHVybnt9fSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmRpc2FibGVkPWZhbHNlfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD10cnVlfX0pO0V4dC5kZWZpbmUoIkV4dC5ncmlkLmZlYXR1cmUuR3JvdXBpbmciLHtleHRlbmQ6IkV4dC5ncmlkLmZlYXR1cmUuRmVhdHVyZSIsYWxpYXM6ImZlYXR1cmUuZ3JvdXBpbmciLGV2ZW50UHJlZml4OiJncm91cCIsZXZlbnRTZWxlY3RvcjoiLiIrRXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtZ3JvdXAtaGQiLGJvZHlTZWxlY3RvcjoiLiIrRXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtZ3JvdXAtYm9keSIsY29uc3RydWN0b3I6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY29sbGFwc2VkU3RhdGU9e307YS5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGdyb3VwSGVhZGVyVHBsOiJ7Y29sdW1uTmFtZX06IHtuYW1lfSIsZGVwdGhUb0luZGVudDoxNyxjb2xsYXBzZWRDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtZ3JvdXAtY29sbGFwc2VkIixoZENvbGxhcHNlZENsczpFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1ncm91cC1oZC1jb2xsYXBzZWQiLGdyb3VwQnlUZXh0OiJHcm91cCBCeSBUaGlzIEZpZWxkIixzaG93R3JvdXBzVGV4dDoiU2hvdyBpbiBHcm91cHMiLGhpZGVHcm91cGVkSGVhZGVyOmZhbHNlLHN0YXJ0Q29sbGFwc2VkOmZhbHNlLGVuYWJsZUdyb3VwaW5nTWVudTp0cnVlLGVuYWJsZU5vR3JvdXBzOnRydWUsZW5hYmxlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxhPWMudmlldyxiPWEuc3RvcmUsZDtjLmxhc3RHcm91cEZpZWxkPWMuZ2V0R3JvdXBGaWVsZCgpO2lmKGMubGFzdEdyb3VwSW5kZXgpe2IuZ3JvdXAoYy5sYXN0R3JvdXBJbmRleCl9Yy5jYWxsUGFyZW50KCk7ZD1jLnZpZXcuaGVhZGVyQ3QuZ2V0TWVudSgpLmRvd24oIiNncm91cFRvZ2dsZU1lbnVJdGVtIik7ZC5zZXRDaGVja2VkKHRydWUsdHJ1ZSk7Yy5yZWZyZXNoSWYoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMsYT1kLnZpZXcsYj1hLnN0b3JlLGc9Yi5yZW1vdGVHcm91cCxlLGM7Yz1iLmdyb3VwZXJzLmZpcnN0KCk7aWYoYyl7ZC5sYXN0R3JvdXBJbmRleD1jLnByb3BlcnR5O2QuYmxvY2soKTtiLmNsZWFyR3JvdXBpbmcoKTtkLnVuYmxvY2soKX1kLmNhbGxQYXJlbnQoKTtlPWQudmlldy5oZWFkZXJDdC5nZXRNZW51KCkuZG93bigiI2dyb3VwVG9nZ2xlTWVudUl0ZW0iKTtlLnNldENoZWNrZWQodHJ1ZSx0cnVlKTtlLnNldENoZWNrZWQoZmFsc2UsdHJ1ZSk7aWYoIWcpe2EucmVmcmVzaCgpfX0scmVmcmVzaElmOmZ1bmN0aW9uKCl7aWYodGhpcy5ibG9ja1JlZnJlc2ghPT10cnVlKXtpZih0aGlzLmdyaWQub3duZXJDdCYmdGhpcy5ncmlkLm93bmVyQ3QubG9ja2FibGUpe3RoaXMuZ3JpZC5vd25lckN0LnZpZXcucmVmcmVzaCgpfWVsc2V7dGhpcy52aWV3LnJlZnJlc2goKX19fSxnZXRGZWF0dXJlVHBsOmZ1bmN0aW9uKGIsYyxhLGUpe3ZhciBkPXRoaXM7cmV0dXJuWyI8dHBsIGlmPVwidHlwZW9mIHJvd3MgIT09ICd1bmRlZmluZWQnXCI+IiwnPHRyIGlkPSJ7Z3JvdXBIZWFkZXJJZH0iIGNsYXNzPSInK0V4dC5iYXNlQ1NTUHJlZml4KyJncmlkLWdyb3VwLWhkICIrKGQuc3RhcnRDb2xsYXBzZWQ/ZC5oZENvbGxhcHNlZENsczoiIikrJyB7aGRDb2xsYXBzZWRDbHN9Ij48dGQgY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrJ2dyaWQtY2VsbCIgY29sc3Bhbj0iJytjLmNvbHVtbnMubGVuZ3RoKyciIHtbdGhpcy5pbmRlbnRCeURlcHRoKHZhbHVlcyldfT48ZGl2IGNsYXNzPSInK0V4dC5iYXNlQ1NTUHJlZml4KydncmlkLWNlbGwtaW5uZXIiPjxkaXYgY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrJ2dyaWQtZ3JvdXAtdGl0bGUiPntjb2xsYXBzZWR9e1t0aGlzLnJlbmRlckdyb3VwSGVhZGVyVHBsKHZhbHVlcyldfTwvZGl2PjwvZGl2PjwvdGQ+PC90cj4nLCc8dHIgaWQ9Intncm91cEJvZHlJZH0iIGNsYXNzPSInK0V4dC5iYXNlQ1NTUHJlZml4KyJncmlkLWdyb3VwLWJvZHkgIisoZC5zdGFydENvbGxhcHNlZD9kLmNvbGxhcHNlZENsczoiIikrJyB7Y29sbGFwc2VkQ2xzfSI+PHRkIGNvbHNwYW49IicrYy5jb2x1bW5zLmxlbmd0aCsnIj57W3RoaXMucmVjdXJzZSh2YWx1ZXMpXX08L3RkPjwvdHI+JywiPC90cGw+Il0uam9pbigiIil9LGdldEZyYWdtZW50VHBsOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm57aW5kZW50QnlEZXB0aDphLmluZGVudEJ5RGVwdGgsZGVwdGhUb0luZGVudDphLmRlcHRoVG9JbmRlbnQscmVuZGVyR3JvdXBIZWFkZXJUcGw6ZnVuY3Rpb24oYil7cmV0dXJuIEV4dC5YVGVtcGxhdGUuZ2V0VHBsKGEsImdyb3VwSGVhZGVyVHBsIikuYXBwbHkoYil9fX0saW5kZW50QnlEZXB0aDpmdW5jdGlvbihhKXtyZXR1cm4nc3R5bGU9InBhZGRpbmctbGVmdDonKygoYS5kZXB0aHx8MCkqdGhpcy5kZXB0aFRvSW5kZW50KSsncHg7Iid9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy52aWV3O2RlbGV0ZSB0aGlzLnBydW5lZEhlYWRlcn0sYXR0YWNoRXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIudmlldzthLm9uKHtzY29wZTpiLGdyb3VwY2xpY2s6Yi5vbkdyb3VwQ2xpY2sscm93Zm9jdXM6Yi5vblJvd0ZvY3VzfSk7YS5tb24oYS5zdG9yZSx7c2NvcGU6Yixncm91cGNoYW5nZTpiLm9uR3JvdXBDaGFuZ2UscmVtb3ZlOmIub25SZW1vdmUsYWRkOmIub25BZGQsdXBkYXRlOmIub25VcGRhdGV9KTtpZihiLmVuYWJsZUdyb3VwaW5nTWVudSl7Yi5pbmplY3RHcm91cGluZ01lbnUoKX1iLnBydW5lR3JvdXBlZEhlYWRlcigpO2IubGFzdEdyb3VwRmllbGQ9Yi5nZXRHcm91cEZpZWxkKCk7Yi5ibG9jaygpO2Iub25Hcm91cENoYW5nZSgpO2IudW5ibG9jaygpfSxvbkFkZDpmdW5jdGlvbihsLGMpe3ZhciBqPXRoaXMsaz1qLnZpZXcsYT1qLmdldEdyb3VwRmllbGQoKSxnPTAsaD1jLmxlbmd0aCxuLGQsYixlLG07aWYoay5yZW5kZXJlZCl7ZD17fTtuPXt9O2Zvcig7ZzxoOysrZyl7bT1jW2ddLmdldChhKTtpZihkW21dPT09dW5kZWZpbmVkKXtkW21dPTB9ZFttXSs9MX1iPWwuZ2V0R3JvdXBzKCk7Zm9yKGc9MCxoPWIubGVuZ3RoO2c8aDsrK2cpe209YltnXTtuW20ubmFtZV09bS5jaGlsZHJlbi5sZW5ndGh9Zm9yKG0gaW4gZCl7aWYoZFttXT09PW5bbV0pe2U9dHJ1ZTticmVha319aWYoZSl7ay5yZWZyZXNoKCl9fX0sb25VcGRhdGU6ZnVuY3Rpb24oYyxiLGQsZSl7dmFyIGE9dGhpcy52aWV3O2lmKGEucmVuZGVyZWQmJiFlfHxFeHQuQXJyYXkuY29udGFpbnMoZSx0aGlzLmdldEdyb3VwRmllbGQoKSkpe2EucmVmcmVzaCgpfX0sb25SZW1vdmU6ZnVuY3Rpb24oZCxjKXt2YXIgZT10aGlzLGI9ZS5nZXRHcm91cEZpZWxkKCksZz1jLmdldChiKSxhPWUudmlldztpZihhLnJlbmRlcmVkKXtpZihkLmZpbmRFeGFjdChiLGcpPT09LTEpe2Uudmlldy5yZWZyZXNoKCl9fX0saW5qZWN0R3JvdXBpbmdNZW51OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIudmlldyxjPWEuaGVhZGVyQ3Q7Yy5zaG93TWVudUJ5PWIuc2hvd01lbnVCeTtjLmdldE1lbnVJdGVtcz1iLmdldE1lbnVJdGVtcygpfSxzaG93TWVudUJ5OmZ1bmN0aW9uKGIsZSl7dmFyIGQ9dGhpcy5nZXRNZW51KCksYz1kLmRvd24oIiNncm91cE1lbnVJdGVtIiksYT1lLmdyb3VwYWJsZT09PWZhbHNlPyJkaXNhYmxlIjoiZW5hYmxlIjtjW2FdKCk7RXh0LmdyaWQuaGVhZGVyLkNvbnRhaW5lci5wcm90b3R5cGUuc2hvd01lbnVCeS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGdldE1lbnVJdGVtczpmdW5jdGlvbigpe3ZhciBlPXRoaXMsYj1lLmdyb3VwQnlUZXh0LGQ9ZS5kaXNhYmxlZHx8IWUuZ2V0R3JvdXBGaWVsZCgpLGE9ZS5zaG93R3JvdXBzVGV4dCxjPWUuZW5hYmxlTm9Hcm91cHMsaD1FeHQuRnVuY3Rpb24uYmluZChlLm9uR3JvdXBNZW51SXRlbUNsaWNrLGUpLGc9RXh0LkZ1bmN0aW9uLmJpbmQoZS5vbkdyb3VwVG9nZ2xlTWVudUl0ZW1DbGljayxlKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaT1FeHQuZ3JpZC5oZWFkZXIuQ29udGFpbmVyLnByb3RvdHlwZS5nZXRNZW51SXRlbXMuY2FsbCh0aGlzKTtpLnB1c2goIi0iLHtpY29uQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJncm91cC1ieS1pY29uIixpdGVtSWQ6Imdyb3VwTWVudUl0ZW0iLHRleHQ6YixoYW5kbGVyOmh9KTtpZihjKXtpLnB1c2goe2l0ZW1JZDoiZ3JvdXBUb2dnbGVNZW51SXRlbSIsdGV4dDphLGNoZWNrZWQ6IWQsY2hlY2tIYW5kbGVyOmd9KX1yZXR1cm4gaX19LG9uR3JvdXBNZW51SXRlbUNsaWNrOmZ1bmN0aW9uKGMsaCl7dmFyIGQ9dGhpcyxpPWMucGFyZW50TWVudSxqPWkuYWN0aXZlSGVhZGVyLGE9ZC52aWV3LGI9YS5zdG9yZSxnPWIucmVtb3RlR3JvdXA7ZGVsZXRlIGQubGFzdEdyb3VwSW5kZXg7ZC5ibG9jaygpO2QuZW5hYmxlKCk7Yi5ncm91cChqLmRhdGFJbmRleCk7ZC5wcnVuZUdyb3VwZWRIZWFkZXIoKTtkLnVuYmxvY2soKTtpZighZyl7YS5yZWZyZXNoKCl9fSxibG9jazpmdW5jdGlvbigpe3RoaXMuYmxvY2tSZWZyZXNoPXRoaXMudmlldy5ibG9ja1JlZnJlc2g9dHJ1ZX0sdW5ibG9jazpmdW5jdGlvbigpe3RoaXMuYmxvY2tSZWZyZXNoPXRoaXMudmlldy5ibG9ja1JlZnJlc2g9ZmFsc2V9LG9uR3JvdXBUb2dnbGVNZW51SXRlbUNsaWNrOmZ1bmN0aW9uKGEsYil7dGhpc1tiPyJlbmFibGUiOiJkaXNhYmxlIl0oKX0scHJ1bmVHcm91cGVkSGVhZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZ2V0R3JvdXBlZEhlYWRlcigpO2lmKGEuaGlkZUdyb3VwZWRIZWFkZXImJmIpe2lmKGEucHJ1bmVkSGVhZGVyKXthLnBydW5lZEhlYWRlci5zaG93KCl9YS5wcnVuZWRIZWFkZXI9YjtiLmhpZGUoKX19LGdldEdyb3VwZWRIZWFkZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldEdyb3VwRmllbGQoKSxiPXRoaXMudmlldy5oZWFkZXJDdDtyZXR1cm4gYT9iLmRvd24oIltkYXRhSW5kZXg9IithKyJdIik6bnVsbH0sZ2V0R3JvdXBGaWVsZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMudmlldy5zdG9yZS5ncm91cGVycy5maXJzdCgpO2lmKGEpe3JldHVybiBhLnByb3BlcnR5fXJldHVybiIifSxvblJvd0ZvY3VzOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMudmlldy5nZXROb2RlKGMpLGE9RXh0LmZseShiKS51cCgiLiIrdGhpcy5jb2xsYXBzZWRDbHMpO2lmKGEpe3RoaXMuZXhwYW5kKGEpfX0sZXhwYW5kOmZ1bmN0aW9uKGcsZSl7dmFyIGM9dGhpcyxhPWMudmlldyxkLGI9Yy5sb2NraW5nUGFydG5lcjtpZihFeHQuaXNTdHJpbmcoZykpe2Q9RXh0LmZseShjLmdldEdyb3VwQm9keUlkKGcpLCJfZ3JvdXBpbmciKX1lbHNle2Q9RXh0LmZseShnLCJfZ3JvdXBpbmciKTtnPWMuZ2V0R3JvdXBOYW1lKGQpfWlmKGMuY29sbGFwc2VkU3RhdGVbZ10pe2QucmVtb3ZlQ2xzKGMuY29sbGFwc2VkQ2xzKTtkLnByZXYoKS5yZW1vdmVDbHMoYy5oZENvbGxhcHNlZENscyk7aWYoZSE9PXRydWUpe2EucmVmcmVzaFNpemUoKX1hLmZpcmVFdmVudCgiZ3JvdXBleHBhbmQiKTtjLmNvbGxhcHNlZFN0YXRlW2ddPWZhbHNlO2lmKGIpe2IuZXhwYW5kKGcsZSl9fX0sZXhwYW5kQWxsOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxiPWQudmlldyxjPWIuZWwuc2VsZWN0KGQuZXZlbnRTZWxlY3RvcikuZWxlbWVudHMsZyxhPWMubGVuZ3RoO2ZvcihnPTA7ZzxhO2crKyl7ZC5leHBhbmQoRXh0LmZseShjW2ddKS5uZXh0KCksdHJ1ZSl9Yi5yZWZyZXNoU2l6ZSgpfSxjb2xsYXBzZTpmdW5jdGlvbihnLGUpe3ZhciBjPXRoaXMsYT1jLnZpZXcsZCxiPWMubG9ja2luZ1BhcnRuZXI7aWYoRXh0LmlzU3RyaW5nKGcpKXtkPUV4dC5mbHkoYy5nZXRHcm91cEJvZHlJZChnKSwiX2dyb3VwaW5nIil9ZWxzZXtkPUV4dC5mbHkoZywiX2dyb3VwaW5nIik7Zz1jLmdldEdyb3VwTmFtZShkKX1pZighYy5jb2xsYXBzZWRTdGF0ZVtnXSl7ZC5hZGRDbHMoYy5jb2xsYXBzZWRDbHMpO2QucHJldigpLmFkZENscyhjLmhkQ29sbGFwc2VkQ2xzKTtpZihlIT09dHJ1ZSl7YS5yZWZyZXNoU2l6ZSgpfWEuZmlyZUV2ZW50KCJncm91cGNvbGxhcHNlIik7Yy5jb2xsYXBzZWRTdGF0ZVtnXT10cnVlO2lmKGIpe2IuY29sbGFwc2UoZyxlKX19fSxjb2xsYXBzZUFsbDpmdW5jdGlvbigpe3ZhciBkPXRoaXMsYj1kLnZpZXcsYz1iLmVsLnNlbGVjdChkLmV2ZW50U2VsZWN0b3IpLmVsZW1lbnRzLGcsYT1jLmxlbmd0aDtmb3IoZz0wO2c8YTtnKyspe2QuY29sbGFwc2UoRXh0LmZseShjW2ddKS5uZXh0KCksdHJ1ZSl9Yi5yZWZyZXNoU2l6ZSgpfSxvbkdyb3VwQ2hhbmdlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxlPWQuZ2V0R3JvdXBGaWVsZCgpLGMsYSxiO2lmKGQuaGlkZUdyb3VwZWRIZWFkZXIpe2lmKGQubGFzdEdyb3VwRmllbGQpe2M9ZC5nZXRNZW51SXRlbShkLmxhc3RHcm91cEZpZWxkKTtpZihjKXtjLnNldENoZWNrZWQodHJ1ZSl9fWlmKGUpe2E9ZC52aWV3LmhlYWRlckN0LmdldFZpc2libGVHcmlkQ29sdW1ucygpO2I9KChhLmxlbmd0aD09PTEpJiYoYVswXS5kYXRhSW5kZXg9PWUpKTtjPWQuZ2V0TWVudUl0ZW0oZSk7aWYoYyYmIWIpe2Muc2V0Q2hlY2tlZChmYWxzZSl9fX1pZihkLmJsb2NrUmVmcmVzaCE9PXRydWUpe2Qudmlldy5yZWZyZXNoKCl9ZC5sYXN0R3JvdXBGaWVsZD1lfSxnZXRNZW51SXRlbTpmdW5jdGlvbihiKXt2YXIgYT10aGlzLnZpZXcsZD1hLmhlYWRlckN0LmRvd24oImdyaWRjb2x1bW5bZGF0YUluZGV4PSIrYisiXSIpLGM9YS5oZWFkZXJDdC5nZXRNZW51KCk7cmV0dXJuIGQ/Yy5kb3duKCJtZW51aXRlbVtoZWFkZXJJZD0iK2QuaWQrIl0iKTpudWxsfSxvbkdyb3VwQ2xpY2s6ZnVuY3Rpb24oYSxjLGcsZCl7dmFyIGI9dGhpcztpZihiLmNvbGxhcHNlZFN0YXRlW2ddKXtiLmV4cGFuZChnKX1lbHNle2IuY29sbGFwc2UoZyl9fSxnZXRNZXRhUm93VHBsRnJhZ21lbnRzOmZ1bmN0aW9uKCl7cmV0dXJue2lzUm93OnRoaXMuaXNSb3csY2xvc2VSb3c6dGhpcy5jbG9zZVJvd319LGlzUm93OmZ1bmN0aW9uKCl7cmV0dXJuIjx0cGwgaWY9XCJ0eXBlb2Ygcm93cyA9PT0gJ3VuZGVmaW5lZCdcIj4ifSxjbG9zZVJvdzpmdW5jdGlvbigpe3JldHVybiI8L3RwbD4ifSxtdXRhdGVNZXRhUm93VHBsOmZ1bmN0aW9uKGEpe2EudW5zaGlmdCgie1t0aGlzLmlzUm93KCldfSIpO2EucHVzaCgie1t0aGlzLmNsb3NlUm93KCldfSIpfSxnZXRBZGRpdGlvbmFsRGF0YTpmdW5jdGlvbihlLGosZyxpKXt2YXIgaD10aGlzLnZpZXcsZD1oLmhlYWRlckN0LGM9ZC5pdGVtcy5nZXRBdCgwKSxiPXt9LGE7aWYoYyl7YT1jLmlkKyItdGRBdHRyIjtiW2FdPXRoaXMuaW5kZW50QnlEZXB0aChlKSsiICIrKGlbYV0/aVthXToiIik7Yi5jb2xsYXBzZWQ9InRydWUiO2IuZGF0YT1nLmdldERhdGEoKX1yZXR1cm4gYn0sZ2V0R3JvdXBSb3dzOmZ1bmN0aW9uKG0sZCxuLGspe3ZhciBpPXRoaXMsYz1tLmNoaWxkcmVuLG89bS5yb3dzPVtdLGo9aS52aWV3LGc9aS5nZXRHcm91cGVkSGVhZGVyKCksYj1pLmdldEdyb3VwRmllbGQoKSxoPS0xLGEsbD1kLmxlbmd0aCxlO20udmlld0lkPWouaWQ7Zm9yKGE9MDthPGw7YSsrKXtlPWRbYV07aWYoZS5nZXQoYik9PW0ubmFtZSl7aD1hfWlmKEV4dC5BcnJheS5pbmRleE9mKGMsZSkhPS0xKXtvLnB1c2goRXh0LmFwcGx5KG5bYV0se2RlcHRoOjF9KSl9fW0uZ3JvdXBIZWFkZXJJZD1pLmdldEdyb3VwSGVhZGVySWQobS5uYW1lKTttLmdyb3VwQm9keUlkPWkuZ2V0R3JvdXBCb2R5SWQobS5uYW1lKTttLmZ1bGxXaWR0aD1rO20uY29sdW1uTmFtZT1nP2cudGV4dDpiO20uZ3JvdXBWYWx1ZT1tLm5hbWU7aWYoZyYmaD4tMSl7bS5uYW1lPW0ucmVuZGVyZWRWYWx1ZT1uW2hdW2cuaWRdfWlmKGkuY29sbGFwc2VkU3RhdGVbbS5uYW1lXSl7bS5jb2xsYXBzZWRDbHM9aS5jb2xsYXBzZWRDbHM7bS5oZENvbGxhcHNlZENscz1pLmhkQ29sbGFwc2VkQ2xzfXJldHVybiBtfSxnZXRHcm91cEhlYWRlcklkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnZpZXcuaWQrIi1oZC0iK2F9LGdldEdyb3VwQm9keUlkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnZpZXcuaWQrIi1iZC0iK2F9LGdldEdyb3VwTmFtZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM7Yz1FeHQuZmx5KGEpLmZpbmRQYXJlbnQoYi5ldmVudFNlbGVjdG9yKTtpZihjKXtyZXR1cm4gYy5pZC5zcGxpdCh0aGlzLnZpZXcuaWQrIi1oZC0iKVsxXX1jPUV4dC5mbHkoYSkuZmluZFBhcmVudChiLmJvZHlTZWxlY3Rvcik7aWYoYyl7cmV0dXJuIGMuaWQuc3BsaXQodGhpcy52aWV3LmlkKyItYmQtIilbMV19fSxjb2xsZWN0RGF0YTpmdW5jdGlvbihjLG0sbCxpLGEpe3ZhciBlPXRoaXMsaj1lLnZpZXcuc3RvcmUsZCxiLGgsaztpZighZS5kaXNhYmxlZCYmai5pc0dyb3VwZWQoKSl7Yj1qLmdldEdyb3VwcygpO2g9Yi5sZW5ndGg7Zm9yKGQ9MDtkPGg7ZCsrKXtrPWJbZF07ZS5nZXRHcm91cFJvd3MoayxjLG0saSl9cmV0dXJue3Jvd3M6YixmdWxsV2lkdGg6aX19cmV0dXJuIGF9LGdldEZpcmVFdmVudEFyZ3M6ZnVuY3Rpb24oYixhLGQsYyl7cmV0dXJuW2IsYSxkLHRoaXMuZ2V0R3JvdXBOYW1lKGQpLGNdfX0pO0V4dC5kZWZpbmUoIkV4dC5ncmlkLmZlYXR1cmUuUm93Qm9keSIse2V4dGVuZDoiRXh0LmdyaWQuZmVhdHVyZS5GZWF0dXJlIixhbGlhczoiZmVhdHVyZS5yb3dib2R5Iixyb3dCb2R5SGlkZGVuQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLXJvdy1ib2R5LWhpZGRlbiIscm93Qm9keVRyQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLXJvd2JvZHktdHIiLHJvd0JvZHlUZENsczpFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1jZWxsLXJvd2JvZHkiLHJvd0JvZHlEaXZDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtcm93Ym9keSIsZXZlbnRQcmVmaXg6InJvd2JvZHkiLGV2ZW50U2VsZWN0b3I6Ii4iK0V4dC5iYXNlQ1NTUHJlZml4KyJncmlkLXJvd2JvZHktdHIiLGdldFJvd0JvZHk6ZnVuY3Rpb24oYSl7cmV0dXJuWyc8dHIgY2xhc3M9IicrdGhpcy5yb3dCb2R5VHJDbHMrJyB7cm93Qm9keUNsc30iPicsJzx0ZCBjbGFzcz0iJyt0aGlzLnJvd0JvZHlUZENscysnIiBjb2xzcGFuPSJ7cm93Qm9keUNvbHNwYW59Ij4nLCc8ZGl2IGNsYXNzPSInK3RoaXMucm93Qm9keURpdkNscysnIj57cm93Qm9keX08L2Rpdj4nLCI8L3RkPiIsIjwvdHI+Il0uam9pbigiIil9LGdldE1ldGFSb3dUcGxGcmFnbWVudHM6ZnVuY3Rpb24oKXtyZXR1cm57Z2V0Um93Qm9keTp0aGlzLmdldFJvd0JvZHkscm93Qm9keVRyQ2xzOnRoaXMucm93Qm9keVRyQ2xzLHJvd0JvZHlUZENsczp0aGlzLnJvd0JvZHlUZENscyxyb3dCb2R5RGl2Q2xzOnRoaXMucm93Qm9keURpdkNsc319LG11dGF0ZU1ldGFSb3dUcGw6ZnVuY3Rpb24oYSl7YS5wdXNoKCJ7W3RoaXMuZ2V0Um93Qm9keSh2YWx1ZXMpXX0iKX0sZ2V0QWRkaXRpb25hbERhdGE6ZnVuY3Rpb24oYyxhLGIsZyl7dmFyIGQ9dGhpcy52aWV3LmhlYWRlckN0LGU9ZC5nZXRDb2x1bW5Db3VudCgpO3JldHVybntyb3dCb2R5OiIiLHJvd0JvZHlDbHM6dGhpcy5yb3dCb2R5Q2xzLHJvd0JvZHlDb2xzcGFuOmV9fX0pO0V4dC5kZWZpbmUoIkV4dC5ncmlkLmZlYXR1cmUuUm93V3JhcCIse2V4dGVuZDoiRXh0LmdyaWQuZmVhdHVyZS5GZWF0dXJlIixhbGlhczoiZmVhdHVyZS5yb3d3cmFwIixoYXNGZWF0dXJlRXZlbnQ6ZmFsc2UsaW5pdDpmdW5jdGlvbigpe2lmKCF0aGlzLmRpc2FibGVkKXt0aGlzLmVuYWJsZSgpfX0sZ2V0Um93U2VsZWN0b3I6ZnVuY3Rpb24oKXtyZXR1cm4idHI6aGFzKD4gIit0aGlzLnZpZXcuY2VsbFNlbGVjdG9yKyIpIn0sZW5hYmxlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIudmlldztiLmNhbGxQYXJlbnQoKTtiLnNhdmVkUm93U2VsZWN0b3I9YS5yb3dTZWxlY3RvcjthLnJvd1NlbGVjdG9yPWIuZ2V0Um93U2VsZWN0b3IoKTthLm9uSGVhZGVyUmVzaXplPUV4dC5GdW5jdGlvbi5jcmVhdGVTZXF1ZW5jZShhLm9uSGVhZGVyUmVzaXplLGIub25IZWFkZXJSZXNpemUsYil9LGRpc2FibGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGE9Yy52aWV3LGI9Yy5zYXZlZFJvd1NlbGVjdG9yO2MuY2FsbFBhcmVudCgpO2lmKGIpe2Eucm93U2VsZWN0b3I9Yn1kZWxldGUgYy5zYXZlZFJvd1NlbGVjdG9yO2RlbGV0ZSBhLm9uSGVhZGVyUmVzaXplfSxtdXRhdGVNZXRhUm93VHBsOmZ1bmN0aW9uKGEpe3ZhciBiPUV4dC5iYXNlQ1NTUHJlZml4O2FbMF09YVswXS5yZXBsYWNlKGIrImdyaWQtcm93IiwiIik7YVswXT1hWzBdLnJlcGxhY2UoIntbdGhpcy5lbWJlZFJvd0NscygpXX0iLCIiKTthLnVuc2hpZnQoJzx0YWJsZSBjbGFzcz0iJytiKyJncmlkLXRhYmxlICIrYisnZ3JpZC10YWJsZS1yZXNpemVyIiBzdHlsZT0id2lkdGg6IHtbdGhpcy5lbWJlZEZ1bGxXaWR0aCgpXX1weDsiPicpO2EudW5zaGlmdCgnPHRyIGNsYXNzPSInK2IrJ2dyaWQtcm93IHtbdGhpcy5lbWJlZFJvd0NscygpXX0iPjx0ZCBjb2xzcGFuPSJ7W3RoaXMuZW1iZWRDb2xTcGFuKCldfSI+PGRpdiBjbGFzcz0iJytiKydncmlkLXJvd3dyYXAtZGl2Ij4nKTthLnB1c2goIjwvdGFibGU+Iik7YS5wdXNoKCI8L2Rpdj48L3RkPjwvdHI+Iil9LGVtYmVkQ29sU3BhbjpmdW5jdGlvbigpe3JldHVybiJ7Y29sc3Bhbn0ifSxlbWJlZEZ1bGxXaWR0aDpmdW5jdGlvbigpe3JldHVybiJ7ZnVsbFdpZHRofSJ9LGdldEFkZGl0aW9uYWxEYXRhOmZ1bmN0aW9uKGgscCxrLG0pe3ZhciBkPXRoaXMudmlldy5oZWFkZXJDdCxjPWQuZ2V0Q29sdW1uQ291bnQoKSxuPWQuZ2V0RnVsbFdpZHRoKCksbD1kLnF1ZXJ5KCJncmlkY29sdW1uIikscT1sLmxlbmd0aCxnPTAsYj17Y29sc3BhbjpjLGZ1bGxXaWR0aDpufSxhLGosZTtmb3IoO2c8cTtnKyspe2E9bFtnXS5pZDtqPWErIi10ZENscyI7ZT1FeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1jb2wtcmVzaXplci0iK2E7YltqXT1lKyIgIisobVtqXT9tW2pdOiIiKTtiW2ErIi10ZEF0dHIiXT0nIHN0eWxlPSJ3aWR0aDogJysobFtnXS5oaWRkZW4/MDpsW2ddLmdldERlc2lyZWRXaWR0aCgpKSsncHg7IiAnO2lmKG1bYSsiLXRkQXR0ciJdKXtiW2ErIi10ZEF0dHIiXSs9bVthKyItdGRBdHRyIl19fXJldHVybiBifSxnZXRNZXRhUm93VHBsRnJhZ21lbnRzOmZ1bmN0aW9uKCl7cmV0dXJue2VtYmVkRnVsbFdpZHRoOnRoaXMuZW1iZWRGdWxsV2lkdGgsZW1iZWRDb2xTcGFuOnRoaXMuZW1iZWRDb2xTcGFufX0sb25IZWFkZXJSZXNpemU6ZnVuY3Rpb24oZCxhLGMpe3ZhciBiPXRoaXMudmlldy5lbDtpZihiKXtiLnNlbGVjdCgidGQuIitFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1jb2wtcmVzaXplci0iK2QuaWQpLnNldFdpZHRoKGEpfX19KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5wbHVnaW4uRHJhZ0Ryb3AiLHtleHRlbmQ6IkV4dC5BYnN0cmFjdFBsdWdpbiIsYWxpYXM6InBsdWdpbi5ncmlkdmlld2RyYWdkcm9wIix1c2VzOlsiRXh0LnZpZXcuRHJhZ1pvbmUiLCJFeHQuZ3JpZC5WaWV3RHJvcFpvbmUiXSxkcmFnVGV4dDoiezB9IHNlbGVjdGVkIHJvd3sxfSIsZGRHcm91cDoiR3JpZEREIixlbmFibGVEcm9wOnRydWUsZW5hYmxlRHJhZzp0cnVlLGluaXQ6ZnVuY3Rpb24oYSl7YS5vbigicmVuZGVyIix0aGlzLm9uVmlld1JlbmRlcix0aGlzLHtzaW5nbGU6dHJ1ZX0pfSxkZXN0cm95OmZ1bmN0aW9uKCl7RXh0LmRlc3Ryb3kodGhpcy5kcmFnWm9uZSx0aGlzLmRyb3Bab25lKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLmRyYWdab25lKXthLmRyYWdab25lLnVubG9jaygpfWlmKGEuZHJvcFpvbmUpe2EuZHJvcFpvbmUudW5sb2NrKCl9YS5jYWxsUGFyZW50KCl9LGRpc2FibGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuZHJhZ1pvbmUpe2EuZHJhZ1pvbmUubG9jaygpfWlmKGEuZHJvcFpvbmUpe2EuZHJvcFpvbmUubG9jaygpfWEuY2FsbFBhcmVudCgpfSxvblZpZXdSZW5kZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZihiLmVuYWJsZURyYWcpe2IuZHJhZ1pvbmU9bmV3IEV4dC52aWV3LkRyYWdab25lKHt2aWV3OmEsZGRHcm91cDpiLmRyYWdHcm91cHx8Yi5kZEdyb3VwLGRyYWdUZXh0OmIuZHJhZ1RleHR9KX1pZihiLmVuYWJsZURyb3Ape2IuZHJvcFpvbmU9bmV3IEV4dC5ncmlkLlZpZXdEcm9wWm9uZSh7dmlldzphLGRkR3JvdXA6Yi5kcm9wR3JvdXB8fGIuZGRHcm91cH0pfX19KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5wbHVnaW4uSGVhZGVyUmVzaXplciIse2V4dGVuZDoiRXh0LnV0aWwuT2JzZXJ2YWJsZSIscmVxdWlyZXM6WyJFeHQuZGQuRHJhZ1RyYWNrZXIiLCJFeHQudXRpbC5SZWdpb24iXSxhbGlhczoicGx1Z2luLmdyaWRoZWFkZXJyZXNpemVyIixkaXNhYmxlZDpmYWxzZSxjb25maWc6e2R5bmFtaWM6ZmFsc2V9LGNvbEhlYWRlckNsczpFeHQuYmFzZUNTU1ByZWZpeCsiY29sdW1uLWhlYWRlciIsbWluQ29sV2lkdGg6NDAsbWF4Q29sV2lkdGg6MTAwMCx3UmVzaXplQ3Vyc29yOiJjb2wtcmVzaXplIixlUmVzaXplQ3Vyc29yOiJjb2wtcmVzaXplIixpbml0OmZ1bmN0aW9uKGEpe3RoaXMuaGVhZGVyQ3Q9YTthLm9uKCJyZW5kZXIiLHRoaXMuYWZ0ZXJIZWFkZXJSZW5kZXIsdGhpcyx7c2luZ2xlOnRydWV9KX0sZGVzdHJveTpmdW5jdGlvbigpe2lmKHRoaXMudHJhY2tlcil7dGhpcy50cmFja2VyLmRlc3Ryb3koKX19LGFmdGVySGVhZGVyUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5oZWFkZXJDdCxhPWIuZWw7Yi5tb24oYSwibW91c2Vtb3ZlIix0aGlzLm9uSGVhZGVyQ3RNb3VzZU1vdmUsdGhpcyk7dGhpcy50cmFja2VyPW5ldyBFeHQuZGQuRHJhZ1RyYWNrZXIoe2Rpc2FibGVkOnRoaXMuZGlzYWJsZWQsb25CZWZvcmVTdGFydDpFeHQuRnVuY3Rpb24uYmluZCh0aGlzLm9uQmVmb3JlU3RhcnQsdGhpcyksb25TdGFydDpFeHQuRnVuY3Rpb24uYmluZCh0aGlzLm9uU3RhcnQsdGhpcyksb25EcmFnOkV4dC5GdW5jdGlvbi5iaW5kKHRoaXMub25EcmFnLHRoaXMpLG9uRW5kOkV4dC5GdW5jdGlvbi5iaW5kKHRoaXMub25FbmQsdGhpcyksdG9sZXJhbmNlOjMsYXV0b1N0YXJ0OjMwMCxlbDphfSl9LG9uSGVhZGVyQ3RNb3VzZU1vdmU6ZnVuY3Rpb24oYixrKXt2YXIgZD10aGlzLGEsaSxqLGcsYyxoO2lmKGQuaGVhZGVyQ3QuZHJhZ2dpbmcpe2lmKGQuYWN0aXZlSGQpe2QuYWN0aXZlSGQuZWwuZG9tLnN0eWxlLmN1cnNvcj0iIjtkZWxldGUgZC5hY3RpdmVIZH19ZWxzZXtpPWIuZ2V0VGFyZ2V0KCIuIitkLmNvbEhlYWRlckNscywzLHRydWUpO2lmKGkpe2o9RXh0LmdldENtcChpLmlkKTtpZihqLmlzT25MZWZ0RWRnZShiKSl7Zz1qLnByZXZpb3VzTm9kZSgiZ3JpZGNvbHVtbjpub3QoW2hpZGRlbl0pOm5vdChbaXNHcm91cEhlYWRlcl0pIik7aWYoZyl7aD1kLmhlYWRlckN0LnVwKCJ0YWJsZXBhbmVsIik7Yz1nLnVwKCJ0YWJsZXBhbmVsIik7aWYoISgoYz09PWgpfHwoKGgub3duZXJDdC5pc1hUeXBlKCJ0YWJsZXBhbmVsIikpJiZoLm93bmVyQ3Qudmlldy5sb2NrZWRHcmlkPT09YykpKXtnPW51bGx9fX1lbHNle2lmKGouaXNPblJpZ2h0RWRnZShiKSl7Zz1qfWVsc2V7Zz1udWxsfX1pZihnKXtpZihnLmlzR3JvdXBIZWFkZXIpe2E9Zy5nZXRHcmlkQ29sdW1ucygpO2c9YVthLmxlbmd0aC0xXX1pZihnJiYhKGcuZml4ZWR8fChnLnJlc2l6YWJsZT09PWZhbHNlKXx8ZC5kaXNhYmxlZCkpe2QuYWN0aXZlSGQ9ZztqLmVsLmRvbS5zdHlsZS5jdXJzb3I9ZC5lUmVzaXplQ3Vyc29yfX1lbHNle2ouZWwuZG9tLnN0eWxlLmN1cnNvcj0iIjtkZWxldGUgZC5hY3RpdmVIZH19fX0sb25CZWZvcmVTdGFydDpmdW5jdGlvbihiKXt2YXIgYT1iLmdldFRhcmdldCgpO3RoaXMuZHJhZ0hkPXRoaXMuYWN0aXZlSGQ7aWYoISF0aGlzLmRyYWdIZCYmIUV4dC5mbHkoYSkuaGFzQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJjb2x1bW4taGVhZGVyLXRyaWdnZXIiKSYmIXRoaXMuaGVhZGVyQ3QuZHJhZ2dpbmcpe3RoaXMudHJhY2tlci5jb25zdHJhaW5Ubz10aGlzLmdldENvbnN0cmFpblJlZ2lvbigpO3JldHVybiB0cnVlfWVsc2V7dGhpcy5oZWFkZXJDdC5kcmFnZ2luZz1mYWxzZTtyZXR1cm4gZmFsc2V9fSxnZXRDb25zdHJhaW5SZWdpb246ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGE9Yy5kcmFnSGQuZWwsZD1FeHQudXRpbC5SZWdpb24uZ2V0UmVnaW9uKGEpLGI7aWYoYy5oZWFkZXJDdC5mb3JjZUZpdCl7Yj1jLmRyYWdIZC5uZXh0Tm9kZSgiZ3JpZGNvbHVtbjpub3QoW2hpZGRlbl0pOm5vdChbaXNHcm91cEhlYWRlcl0pIil9cmV0dXJuIGQuYWRqdXN0KDAsYy5oZWFkZXJDdC5mb3JjZUZpdD8oYj9iLmdldFdpZHRoKCktYy5taW5Db2xXaWR0aDowKTpjLm1heENvbFdpZHRoLWEuZ2V0V2lkdGgoKSwwLGMubWluQ29sV2lkdGgpfSxvblN0YXJ0OmZ1bmN0aW9uKHUpe3ZhciB2PXRoaXMsaD12LmRyYWdIZCxiPWguZWwsbz1iLmdldFdpZHRoKCksaj12LmhlYWRlckN0LGw9dS5nZXRUYXJnZXQoKSxkLHIsZyxrLGMsbixhLGkscyxxLHAsbTtpZih2LmRyYWdIZCYmIUV4dC5mbHkobCkuaGFzQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJjb2x1bW4taGVhZGVyLXRyaWdnZXIiKSl7ai5kcmFnZ2luZz10cnVlfXYub3JpZ1dpZHRoPW87aWYoIXYuZHluYW1pYyl7ZD1iLmdldFhZKCk7cj1qLnVwKCJbc2Nyb2xsZXJPd25lcl0iKTtnPXYuZHJhZ0hkLnVwKCI6bm90KFtpc0dyb3VwSGVhZGVyXSkiKTtrPWcudXAoKTtjPXIuZ2V0TGhzTWFya2VyKCk7bj1yLmdldFJoc01hcmtlcigpO2E9bi5wYXJlbnQoKTtpPWEuZ2V0TGVmdCh0cnVlKTtzPWEuZ2V0VG9wKHRydWUpO3E9YS50cmFuc2xhdGVQb2ludHMoZCk7cD1rLmJvZHkuZ2V0SGVpZ2h0KCkrai5nZXRIZWlnaHQoKTttPXEudG9wLXM7Yy5zZXRUb3AobSk7bi5zZXRUb3AobSk7Yy5zZXRIZWlnaHQocCk7bi5zZXRIZWlnaHQocCk7Yy5zZXRMZWZ0KHEubGVmdC1pKTtuLnNldExlZnQocS5sZWZ0K28taSl9fSxvbkRyYWc6ZnVuY3Rpb24oaCl7aWYoIXRoaXMuZHluYW1pYyl7dmFyIGc9dGhpcy50cmFja2VyLmdldFhZKCJwb2ludCIpLGE9dGhpcy5oZWFkZXJDdC51cCgiW3Njcm9sbGVyT3duZXJdIiksaT1hLmdldFJoc01hcmtlcigpLGM9aS5wYXJlbnQoKSxiPWMudHJhbnNsYXRlUG9pbnRzKGcpLGQ9Yy5nZXRMZWZ0KHRydWUpO2kuc2V0TGVmdChiLmxlZnQtZCl9ZWxzZXt0aGlzLmRvUmVzaXplKCl9fSxvbkVuZDpmdW5jdGlvbihnKXt0aGlzLmhlYWRlckN0LmRyYWdnaW5nPWZhbHNlO2lmKHRoaXMuZHJhZ0hkKXtpZighdGhpcy5keW5hbWljKXt2YXIgZD10aGlzLmRyYWdIZCxiPXRoaXMuaGVhZGVyQ3QudXAoIltzY3JvbGxlck93bmVyXSIpLGM9Yi5nZXRMaHNNYXJrZXIoKSxoPWIuZ2V0UmhzTWFya2VyKCksYT0tOTk5OTtjLnNldExlZnQoYSk7aC5zZXRMZWZ0KGEpfXRoaXMuZG9SZXNpemUoKX19LGRvUmVzaXplOmZ1bmN0aW9uKCl7aWYodGhpcy5kcmFnSGQpe3ZhciBiPXRoaXMuZHJhZ0hkLGEsYz10aGlzLnRyYWNrZXIuZ2V0T2Zmc2V0KCJwb2ludCIpO2lmKGIuZmxleCl7ZGVsZXRlIGIuZmxleH1FeHQuc3VzcGVuZExheW91dHMoKTtiLnNldFdpZHRoKHRoaXMub3JpZ1dpZHRoK2NbMF0pO2lmKHRoaXMuaGVhZGVyQ3QuZm9yY2VGaXQpe2E9Yi5uZXh0Tm9kZSgiZ3JpZGNvbHVtbjpub3QoW2hpZGRlbl0pOm5vdChbaXNHcm91cEhlYWRlcl0pIik7aWYoYSl7ZGVsZXRlIGEuZmxleDthLnNldFdpZHRoKGEuZ2V0V2lkdGgoKS1jWzBdKX19RXh0LnJlc3VtZUxheW91dHModHJ1ZSl9fSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD10cnVlO2lmKHRoaXMudHJhY2tlcil7dGhpcy50cmFja2VyLmRpc2FibGUoKX19LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9ZmFsc2U7aWYodGhpcy50cmFja2VyKXt0aGlzLnRyYWNrZXIuZW5hYmxlKCl9fX0pO0V4dC5kZWZpbmUoIkV4dC5sYXlvdXQuY29udGFpbmVyLmJveE92ZXJmbG93Lk5vbmUiLHthbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5sYXlvdXQuYm94T3ZlcmZsb3cuTm9uZSIsY29uc3RydWN0b3I6ZnVuY3Rpb24oYixhKXt0aGlzLmxheW91dD1iO0V4dC5hcHBseSh0aGlzLGEpfSxoYW5kbGVPdmVyZmxvdzpFeHQuZW1wdHlGbixjbGVhck92ZXJmbG93OkV4dC5lbXB0eUZuLGJlZ2luTGF5b3V0OkV4dC5lbXB0eUZuLGJlZ2luTGF5b3V0Q3ljbGU6RXh0LmVtcHR5Rm4sZmluaXNoZWRMYXlvdXQ6RXh0LmVtcHR5Rm4sY29tcGxldGVMYXlvdXQ6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcyxjPWIuc3RhdGUuYm94UGxhbixkO2lmKGMmJmMudG9vTmFycm93KXtkPWEuaGFuZGxlT3ZlcmZsb3coYik7aWYoZCl7aWYoZC5yZXNlcnZlZFNwYWNlKXthLmxheW91dC5wdWJsaXNoSW5uZXJDdFNpemUoYixkLnJlc2VydmVkU3BhY2UpfX19ZWxzZXthLmNsZWFyT3ZlcmZsb3coKX19LG9uUmVtb3ZlOkV4dC5lbXB0eUZuLGdldEl0ZW06ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubGF5b3V0Lm93bmVyLmdldENvbXBvbmVudChhKX0sZ2V0T3duZXJUeXBlOmZ1bmN0aW9uKGEpe3ZhciBiPSIiO2lmKGEuaXMoInRvb2xiYXIiKSl7Yj0idG9vbGJhciJ9ZWxzZXtpZihhLmlzKCJ0YWJiYXIiKSl7Yj0idGFiYmFyIn1lbHNle2I9YS5nZXRYVHlwZSgpfX1yZXR1cm4gYn0sZ2V0UHJlZml4Q29uZmlnOkV4dC5lbXB0eUZuLGdldFN1ZmZpeENvbmZpZzpFeHQuZW1wdHlGbixnZXRPdmVyZmxvd0NsczpmdW5jdGlvbigpe3JldHVybiIifX0pO0V4dC5kZWZpbmUoIkV4dC5wYW5lbC5Qcm94eSIse2FsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmRkLlBhbmVsUHJveHkiLG1vdmVPbkRyYWc6dHJ1ZSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7Yy5wYW5lbD1hO2MuaWQ9Yy5wYW5lbC5pZCsiLWRkcHJveHkiO0V4dC5hcHBseShjLGIpfSxpbnNlcnRQcm94eTp0cnVlLHNldFN0YXR1czpFeHQuZW1wdHlGbixyZXNldDpFeHQuZW1wdHlGbix1cGRhdGU6RXh0LmVtcHR5Rm4sc3RvcDpFeHQuZW1wdHlGbixzeW5jOkV4dC5lbXB0eUZuLGdldEVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2hvc3QuZWx9LGdldEdob3N0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2hvc3R9LGdldFByb3h5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJveHl9LGhpZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuZ2hvc3Qpe2lmKGEucHJveHkpe2EucHJveHkucmVtb3ZlKCk7ZGVsZXRlIGEucHJveHl9YS5wYW5lbC51bmdob3N0KG51bGwsYS5tb3ZlT25EcmFnKTtkZWxldGUgYS5naG9zdH19LHNob3c6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE7aWYoIWIuZ2hvc3Qpe2E9Yi5wYW5lbC5nZXRTaXplKCk7Yi5wYW5lbC5lbC5zZXRWaXNpYmlsaXR5TW9kZShFeHQuRWxlbWVudC5ESVNQTEFZKTtiLmdob3N0PWIucGFuZWwuZ2hvc3QoKTtpZihiLmluc2VydFByb3h5KXtiLnByb3h5PWIucGFuZWwuZWwuaW5zZXJ0U2libGluZyh7Y2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJwYW5lbC1kZC1zcGFjZXIifSk7Yi5wcm94eS5zZXRTaXplKGEpfX19LHJlcGFpcjpmdW5jdGlvbihiLGMsYSl7dGhpcy5oaWRlKCk7RXh0LmNhbGxiYWNrKGMsYXx8dGhpcyl9LG1vdmVQcm94eTpmdW5jdGlvbihhLGIpe2lmKHRoaXMucHJveHkpe2EuaW5zZXJ0QmVmb3JlKHRoaXMucHJveHkuZG9tLGIpfX19KTtFeHQuZGVmaW5lKCJFeHQucmVzaXplci5SZXNpemVyIix7bWl4aW5zOntvYnNlcnZhYmxlOiJFeHQudXRpbC5PYnNlcnZhYmxlIn0sdXNlczpbIkV4dC5yZXNpemVyLlJlc2l6ZVRyYWNrZXIiLCJFeHQuQ29tcG9uZW50Il0sYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuUmVzaXphYmxlIixoYW5kbGVDbHM6RXh0LmJhc2VDU1NQcmVmaXgrInJlc2l6YWJsZS1oYW5kbGUiLHBpbm5lZENsczpFeHQuYmFzZUNTU1ByZWZpeCsicmVzaXphYmxlLXBpbm5lZCIsb3ZlckNsczpFeHQuYmFzZUNTU1ByZWZpeCsicmVzaXphYmxlLW92ZXIiLHdyYXBDbHM6RXh0LmJhc2VDU1NQcmVmaXgrInJlc2l6YWJsZS13cmFwIixkeW5hbWljOnRydWUsaGFuZGxlczoicyBlIHNlIixoZWlnaHQ6bnVsbCx3aWR0aDpudWxsLGhlaWdodEluY3JlbWVudDowLHdpZHRoSW5jcmVtZW50OjAsbWluSGVpZ2h0OjIwLG1pbldpZHRoOjIwLG1heEhlaWdodDoxMDAwMCxtYXhXaWR0aDoxMDAwMCxwaW5uZWQ6ZmFsc2UscHJlc2VydmVSYXRpbzpmYWxzZSx0cmFuc3BhcmVudDpmYWxzZSxwb3NzaWJsZVBvc2l0aW9uczp7bjoibm9ydGgiLHM6InNvdXRoIixlOiJlYXN0Iix3OiJ3ZXN0IixzZToic291dGhlYXN0Iixzdzoic291dGh3ZXN0Iixudzoibm9ydGh3ZXN0IixuZToibm9ydGhlYXN0In0sY29uc3RydWN0b3I6ZnVuY3Rpb24oYil7dmFyIGs9dGhpcyxqLG8scSxwPWsuaGFuZGxlcyxjLG4sZyxkPTAsbSxsPVtdLGgsYSxlO2suYWRkRXZlbnRzKCJiZWZvcmVyZXNpemUiLCJyZXNpemVkcmFnIiwicmVzaXplIik7aWYoRXh0LmlzU3RyaW5nKGIpfHxFeHQuaXNFbGVtZW50KGIpfHxiLmRvbSl7aj1iO2I9YXJndW1lbnRzWzFdfHx7fTtiLnRhcmdldD1qfWsubWl4aW5zLm9ic2VydmFibGUuY29uc3RydWN0b3IuY2FsbChrLGIpO2o9ay50YXJnZXQ7aWYoail7aWYoai5pc0NvbXBvbmVudCl7ay5lbD1qLmdldEVsKCk7aWYoai5taW5XaWR0aCl7ay5taW5XaWR0aD1qLm1pbldpZHRofWlmKGoubWluSGVpZ2h0KXtrLm1pbkhlaWdodD1qLm1pbkhlaWdodH1pZihqLm1heFdpZHRoKXtrLm1heFdpZHRoPWoubWF4V2lkdGh9aWYoai5tYXhIZWlnaHQpe2subWF4SGVpZ2h0PWoubWF4SGVpZ2h0fWlmKGouZmxvYXRpbmcpe2lmKCFrLmhhc093blByb3BlcnR5KCJoYW5kbGVzIikpe2suaGFuZGxlcz0ibiBuZSBlIHNlIHMgc3cgdyBudyJ9fX1lbHNle2suZWw9ay50YXJnZXQ9RXh0LmdldChqKX19ZWxzZXtrLnRhcmdldD1rLmVsPUV4dC5nZXQoay5lbCl9cT1rLmVsLmRvbS50YWdOYW1lLnRvVXBwZXJDYXNlKCk7aWYocT09IlRFWFRBUkVBInx8cT09IklNRyJ8fHE9PSJUQUJMRSIpe2sub3JpZ2luYWxUYXJnZXQ9ay50YXJnZXQ7bz1rLmVsO2U9by5nZXRCb3goKTtrLnRhcmdldD1rLmVsPWsuZWwud3JhcCh7Y2xzOmsud3JhcENscyxpZDprLmVsLmlkKyItcnp3cmFwIixzdHlsZTpvLmdldFN0eWxlcygibWFyZ2luLXRvcCIsIm1hcmdpbi1ib3R0b20iKX0pO2suZWwuc2V0UG9zaXRpb25pbmcoby5nZXRQb3NpdGlvbmluZygpKTtvLmNsZWFyUG9zaXRpb25pbmcoKTtrLmVsLnNldEJveChlKTtvLnNldFN0eWxlKCJwb3NpdGlvbiIsImFic29sdXRlIil9ay5lbC5wb3NpdGlvbigpO2lmKGsucGlubmVkKXtrLmVsLmFkZENscyhrLnBpbm5lZENscyl9ay5yZXNpemVUcmFja2VyPW5ldyBFeHQucmVzaXplci5SZXNpemVUcmFja2VyKHtkaXNhYmxlZDprLmRpc2FibGVkLHRhcmdldDprLnRhcmdldCxjb25zdHJhaW5UbzprLmNvbnN0cmFpblRvLG92ZXJDbHM6ay5vdmVyQ2xzLHRocm90dGxlOmsudGhyb3R0bGUsb3JpZ2luYWxUYXJnZXQ6ay5vcmlnaW5hbFRhcmdldCxkZWxlZ2F0ZToiLiIray5oYW5kbGVDbHMsZHluYW1pYzprLmR5bmFtaWMscHJlc2VydmVSYXRpbzprLnByZXNlcnZlUmF0aW8saGVpZ2h0SW5jcmVtZW50OmsuaGVpZ2h0SW5jcmVtZW50LHdpZHRoSW5jcmVtZW50Omsud2lkdGhJbmNyZW1lbnQsbWluSGVpZ2h0OmsubWluSGVpZ2h0LG1heEhlaWdodDprLm1heEhlaWdodCxtaW5XaWR0aDprLm1pbldpZHRoLG1heFdpZHRoOmsubWF4V2lkdGh9KTtrLnJlc2l6ZVRyYWNrZXIub24oe21vdXNlZG93bjprLm9uQmVmb3JlUmVzaXplLGRyYWc6ay5vblJlc2l6ZSxkcmFnZW5kOmsub25SZXNpemVFbmQsc2NvcGU6a30pO2lmKGsuaGFuZGxlcz09ImFsbCIpe2suaGFuZGxlcz0ibiBzIGUgdyBuZSBudyBzZSBzdyJ9cD1rLmhhbmRsZXM9ay5oYW5kbGVzLnNwbGl0KC8gfFxzKj9bLDtdXHMqPy8pO249ay5wb3NzaWJsZVBvc2l0aW9ucztnPXAubGVuZ3RoO2M9ay5oYW5kbGVDbHMrIiAiKyhrLnRhcmdldC5pc0NvbXBvbmVudD8oay50YXJnZXQuYmFzZUNscysiLWhhbmRsZSAiKToiIikray5oYW5kbGVDbHMrIi0iO2g9RXh0LmlzSUU2Pycgc3R5bGU9ImhlaWdodDonK2suZWwuZ2V0SGVpZ2h0KCkrJ3B4Iic6IiI7Zm9yKDtkPGc7ZCsrKXtpZihwW2RdJiZuW3BbZF1dKXttPW5bcFtkXV07aWYobT09PSJlYXN0Inx8bT09PSJ3ZXN0Iil7YT1ofWVsc2V7YT0iIn1sLnB1c2goJzxkaXYgaWQ9Iicray5lbC5pZCsiLSIrbSsnLWhhbmRsZSIgY2xhc3M9IicrYyttKyIgIitFeHQuYmFzZUNTU1ByZWZpeCsndW5zZWxlY3RhYmxlIicrYSsiPjwvZGl2PiIpfX1FeHQuRG9tSGVscGVyLmFwcGVuZChrLmVsLGwuam9pbigiIikpO2ZvcihkPTA7ZDxnO2QrKyl7aWYocFtkXSYmbltwW2RdXSl7bT1uW3BbZF1dO2tbbV09ay5lbC5nZXRCeUlkKGsuZWwuaWQrIi0iK20rIi1oYW5kbGUiKTtrW21dLnJlZ2lvbj1tO2tbbV0udW5zZWxlY3RhYmxlKCk7aWYoay50cmFuc3BhcmVudCl7a1ttXS5zZXRPcGFjaXR5KDApfX19aWYoRXh0LmlzTnVtYmVyKGsud2lkdGgpKXtrLndpZHRoPUV4dC5OdW1iZXIuY29uc3RyYWluKGsud2lkdGgsay5taW5XaWR0aCxrLm1heFdpZHRoKX1pZihFeHQuaXNOdW1iZXIoay5oZWlnaHQpKXtrLmhlaWdodD1FeHQuTnVtYmVyLmNvbnN0cmFpbihrLmhlaWdodCxrLm1pbkhlaWdodCxrLm1heEhlaWdodCl9aWYoay53aWR0aCE9PW51bGx8fGsuaGVpZ2h0IT09bnVsbCl7aWYoay5vcmlnaW5hbFRhcmdldCl7ay5vcmlnaW5hbFRhcmdldC5zZXRXaWR0aChrLndpZHRoKTtrLm9yaWdpbmFsVGFyZ2V0LnNldEhlaWdodChrLmhlaWdodCl9ay5yZXNpemVUbyhrLndpZHRoLGsuaGVpZ2h0KX1rLmZvcmNlSGFuZGxlc0hlaWdodCgpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5yZXNpemVUcmFja2VyLmRpc2FibGUoKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5yZXNpemVUcmFja2VyLmVuYWJsZSgpfSxvbkJlZm9yZVJlc2l6ZTpmdW5jdGlvbihiLGMpe3ZhciBhPXRoaXMuZWwuZ2V0Qm94KCk7cmV0dXJuIHRoaXMuZmlyZUV2ZW50KCJiZWZvcmVyZXNpemUiLHRoaXMsYS53aWR0aCxhLmhlaWdodCxjKX0sb25SZXNpemU6ZnVuY3Rpb24oYyxkKXt2YXIgYj10aGlzLGE9Yi5lbC5nZXRCb3goKTtiLmZvcmNlSGFuZGxlc0hlaWdodCgpO3JldHVybiBiLmZpcmVFdmVudCgicmVzaXplZHJhZyIsYixhLndpZHRoLGEuaGVpZ2h0LGQpfSxvblJlc2l6ZUVuZDpmdW5jdGlvbihjLGQpe3ZhciBiPXRoaXMsYT1iLmVsLmdldEJveCgpO2IuZm9yY2VIYW5kbGVzSGVpZ2h0KCk7cmV0dXJuIGIuZmlyZUV2ZW50KCJyZXNpemUiLGIsYS53aWR0aCxhLmhlaWdodCxkKX0scmVzaXplVG86ZnVuY3Rpb24oYixhKXt2YXIgYz10aGlzO2MudGFyZ2V0LnNldFNpemUoYixhKTtjLmZpcmVFdmVudCgicmVzaXplIixjLGIsYSxudWxsKX0sZ2V0RWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbH0sZ2V0VGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFyZ2V0fSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGQ9MCxjPXRoaXMuaGFuZGxlcyxhPWMubGVuZ3RoLGI9dGhpcy5wb3NzaWJsZVBvc2l0aW9ucztmb3IoO2Q8YTtkKyspe3RoaXNbYltjW2RdXV0ucmVtb3ZlKCl9fSxmb3JjZUhhbmRsZXNIZWlnaHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI7aWYoRXh0LmlzSUU2KXtiPWEuZWFzdDtpZihiKXtiLnNldEhlaWdodChhLmVsLmdldEhlaWdodCgpKX1iPWEud2VzdDtpZihiKXtiLnNldEhlaWdodChhLmVsLmdldEhlaWdodCgpKX1hLmVsLnJlcGFpbnQoKX19fSk7RXh0LmRlZmluZSgiRXh0LnJlc2l6ZXIuUmVzaXplVHJhY2tlciIse2V4dGVuZDoiRXh0LmRkLkRyYWdUcmFja2VyIixkeW5hbWljOnRydWUscHJlc2VydmVSYXRpbzpmYWxzZSxjb25zdHJhaW5UbzpudWxsLHByb3h5Q2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJyZXNpemFibGUtcHJveHkiLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMsYyxhLGU7aWYoIWIuZWwpe2lmKGIudGFyZ2V0LmlzQ29tcG9uZW50KXtkLmVsPWIudGFyZ2V0LmdldEVsKCl9ZWxzZXtkLmVsPWIudGFyZ2V0fX10aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihkLnByZXNlcnZlUmF0aW8mJmQubWluV2lkdGgmJmQubWluSGVpZ2h0KXtjPWQubWluV2lkdGgvZC5lbC5nZXRXaWR0aCgpO2E9ZC5taW5IZWlnaHQvZC5lbC5nZXRIZWlnaHQoKTtpZihhPmMpe2QubWluV2lkdGg9ZC5lbC5nZXRXaWR0aCgpKmF9ZWxzZXtkLm1pbkhlaWdodD1kLmVsLmdldEhlaWdodCgpKmN9fWlmKGQudGhyb3R0bGUpe2U9RXh0LkZ1bmN0aW9uLmNyZWF0ZVRocm90dGxlZChmdW5jdGlvbigpe0V4dC5yZXNpemVyLlJlc2l6ZVRyYWNrZXIucHJvdG90eXBlLnJlc2l6ZS5hcHBseShkLGFyZ3VtZW50cyl9LGQudGhyb3R0bGUpO2QucmVzaXplPWZ1bmN0aW9uKGgsaSxnKXtpZihnKXtFeHQucmVzaXplci5SZXNpemVUcmFja2VyLnByb3RvdHlwZS5yZXNpemUuYXBwbHkoZCxhcmd1bWVudHMpfWVsc2V7ZS5hcHBseShudWxsLGFyZ3VtZW50cyl9fX19LG9uQmVmb3JlU3RhcnQ6ZnVuY3Rpb24oYSl7dGhpcy5zdGFydEJveD10aGlzLmVsLmdldEJveCgpfSxnZXREeW5hbWljVGFyZ2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEudGFyZ2V0O2lmKGEuZHluYW1pYyl7cmV0dXJuIGJ9ZWxzZXtpZighYS5wcm94eSl7YS5wcm94eT1hLmNyZWF0ZVByb3h5KGIpfX1hLnByb3h5LnNob3coKTtyZXR1cm4gYS5wcm94eX0sY3JlYXRlUHJveHk6ZnVuY3Rpb24oYyl7dmFyIGIsYT10aGlzLnByb3h5Q2xzLGQ7aWYoYy5pc0NvbXBvbmVudCl7Yj1jLmdldFByb3h5KCkuYWRkQ2xzKGEpfWVsc2V7ZD1FeHQuZ2V0Qm9keSgpO2lmKEV4dC5zY29wZVJlc2V0Q1NTKXtkPUV4dC5nZXRCb2R5KCkuY3JlYXRlQ2hpbGQoe2NsczpFeHQucmVzZXRDbHN9KX1iPWMuY3JlYXRlUHJveHkoe3RhZzoiZGl2IixjbHM6YSxpZDpjLmlkKyItcnpwcm94eSJ9LGQpfWIucmVtb3ZlQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJwcm94eS1lbCIpO3JldHVybiBifSxvblN0YXJ0OmZ1bmN0aW9uKGEpe3RoaXMuYWN0aXZlUmVzaXplSGFuZGxlPUV4dC5nZXQodGhpcy5nZXREcmFnVGFyZ2V0KCkuaWQpO2lmKCF0aGlzLmR5bmFtaWMpe3RoaXMucmVzaXplKHRoaXMuc3RhcnRCb3gse2hvcml6b250YWw6Im5vbmUiLHZlcnRpY2FsOiJub25lIn0pfX0sb25EcmFnOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZHluYW1pY3x8dGhpcy5wcm94eSl7dGhpcy51cGRhdGVEaW1lbnNpb25zKGEpfX0sdXBkYXRlRGltZW5zaW9uczpmdW5jdGlvbihzLG0pe3ZhciB0PXRoaXMsYz10LmFjdGl2ZVJlc2l6ZUhhbmRsZS5yZWdpb24sZz10LmdldE9mZnNldCh0LmNvbnN0cmFpblRvPyJkcmFnVGFyZ2V0IjpudWxsKSxrPXQuc3RhcnRCb3gsaCxwPTAsdT0wLGoscSxhPTAsdz0wLHYsbj1nWzBdPDA/InJpZ2h0IjoibGVmdCIscj1nWzFdPDA/ImRvd24iOiJ1cCIsaSxiLGQsbyxsO3N3aXRjaChjKXtjYXNlInNvdXRoIjp1PWdbMV07Yj0yO2JyZWFrO2Nhc2Uibm9ydGgiOnU9LWdbMV07dz0tdTtiPTI7YnJlYWs7Y2FzZSJlYXN0IjpwPWdbMF07Yj0xO2JyZWFrO2Nhc2Uid2VzdCI6cD0tZ1swXTthPS1wO2I9MTticmVhaztjYXNlIm5vcnRoZWFzdCI6dT0tZ1sxXTt3PS11O3A9Z1swXTtpPVtrLngsay55K2suaGVpZ2h0XTtiPTM7YnJlYWs7Y2FzZSJzb3V0aGVhc3QiOnU9Z1sxXTtwPWdbMF07aT1bay54LGsueV07Yj0zO2JyZWFrO2Nhc2Uic291dGh3ZXN0IjpwPS1nWzBdO2E9LXA7dT1nWzFdO2k9W2sueCtrLndpZHRoLGsueV07Yj0zO2JyZWFrO2Nhc2Uibm9ydGh3ZXN0Ijp1PS1nWzFdO3c9LXU7cD0tZ1swXTthPS1wO2k9W2sueCtrLndpZHRoLGsueStrLmhlaWdodF07Yj0zO2JyZWFrfWQ9e3dpZHRoOmsud2lkdGgrcCxoZWlnaHQ6ay5oZWlnaHQrdSx4OmsueCthLHk6ay55K3d9O2o9RXh0Lk51bWJlci5zbmFwKGQud2lkdGgsdC53aWR0aEluY3JlbWVudCk7cT1FeHQuTnVtYmVyLnNuYXAoZC5oZWlnaHQsdC5oZWlnaHRJbmNyZW1lbnQpO2lmKGohPWQud2lkdGh8fHEhPWQuaGVpZ2h0KXtzd2l0Y2goYyl7Y2FzZSJub3J0aGVhc3QiOmQueS09cS1kLmhlaWdodDticmVhaztjYXNlIm5vcnRoIjpkLnktPXEtZC5oZWlnaHQ7YnJlYWs7Y2FzZSJzb3V0aHdlc3QiOmQueC09ai1kLndpZHRoO2JyZWFrO2Nhc2Uid2VzdCI6ZC54LT1qLWQud2lkdGg7YnJlYWs7Y2FzZSJub3J0aHdlc3QiOmQueC09ai1kLndpZHRoO2QueS09cS1kLmhlaWdodH1kLndpZHRoPWo7ZC5oZWlnaHQ9cX1pZihkLndpZHRoPHQubWluV2lkdGh8fGQud2lkdGg+dC5tYXhXaWR0aCl7ZC53aWR0aD1FeHQuTnVtYmVyLmNvbnN0cmFpbihkLndpZHRoLHQubWluV2lkdGgsdC5tYXhXaWR0aCk7aWYoYSl7ZC54PWsueCsoay53aWR0aC1kLndpZHRoKX19ZWxzZXt0Lmxhc3RYPWQueH1pZihkLmhlaWdodDx0Lm1pbkhlaWdodHx8ZC5oZWlnaHQ+dC5tYXhIZWlnaHQpe2QuaGVpZ2h0PUV4dC5OdW1iZXIuY29uc3RyYWluKGQuaGVpZ2h0LHQubWluSGVpZ2h0LHQubWF4SGVpZ2h0KTtpZih3KXtkLnk9ay55KyhrLmhlaWdodC1kLmhlaWdodCl9fWVsc2V7dC5sYXN0WT1kLnl9aWYodC5wcmVzZXJ2ZVJhdGlvfHxzLnNoaWZ0S2V5KXtoPXQuc3RhcnRCb3gud2lkdGgvdC5zdGFydEJveC5oZWlnaHQ7bz1NYXRoLm1pbihNYXRoLm1heCh0Lm1pbkhlaWdodCxkLndpZHRoL2gpLHQubWF4SGVpZ2h0KTtsPU1hdGgubWluKE1hdGgubWF4KHQubWluV2lkdGgsZC5oZWlnaHQqaCksdC5tYXhXaWR0aCk7aWYoYj09MSl7ZC5oZWlnaHQ9b31lbHNle2lmKGI9PTIpe2Qud2lkdGg9bH1lbHNle3Y9TWF0aC5hYnMoaVswXS10aGlzLmxhc3RYWVswXSkvTWF0aC5hYnMoaVsxXS10aGlzLmxhc3RYWVsxXSk7aWYodj5oKXtkLmhlaWdodD1vfWVsc2V7ZC53aWR0aD1sfWlmKGM9PSJub3J0aGVhc3QiKXtkLnk9ay55LShkLmhlaWdodC1rLmhlaWdodCl9ZWxzZXtpZihjPT0ibm9ydGh3ZXN0Iil7ZC55PWsueS0oZC5oZWlnaHQtay5oZWlnaHQpO2QueD1rLngtKGQud2lkdGgtay53aWR0aCl9ZWxzZXtpZihjPT0ic291dGh3ZXN0Iil7ZC54PWsueC0oZC53aWR0aC1rLndpZHRoKX19fX19fWlmKHU9PT0wKXtyPSJub25lIn1pZihwPT09MCl7bj0ibm9uZSJ9dC5yZXNpemUoZCx7aG9yaXpvbnRhbDpuLHZlcnRpY2FsOnJ9LG0pfSxnZXRSZXNpemVUYXJnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy50YXJnZXQ6dGhpcy5nZXREeW5hbWljVGFyZ2V0KCl9LHJlc2l6ZTpmdW5jdGlvbihiLGQsYSl7dmFyIGM9dGhpcy5nZXRSZXNpemVUYXJnZXQoYSk7aWYoYy5pc0NvbXBvbmVudCl7Yy5zZXRTaXplKGIud2lkdGgsYi5oZWlnaHQpO2lmKGMuZmxvYXRpbmcpe2Muc2V0UGFnZVBvc2l0aW9uKGIueCxiLnkpfX1lbHNle2Muc2V0Qm94KGIpfWM9dGhpcy5vcmlnaW5hbFRhcmdldDtpZihjJiYodGhpcy5keW5hbWljfHxhKSl7aWYoYy5pc0NvbXBvbmVudCl7Yy5zZXRTaXplKGIud2lkdGgsYi5oZWlnaHQpO2lmKGMuZmxvYXRpbmcpe2Muc2V0UGFnZVBvc2l0aW9uKGIueCxiLnkpfX1lbHNle2Muc2V0Qm94KGIpfX19LG9uRW5kOmZ1bmN0aW9uKGEpe3RoaXMudXBkYXRlRGltZW5zaW9ucyhhLHRydWUpO2lmKHRoaXMucHJveHkpe3RoaXMucHJveHkuaGlkZSgpfX19KTtFeHQuZGVmaW5lKCJFeHQucmVzaXplci5TcGxpdHRlclRyYWNrZXIiLHtleHRlbmQ6IkV4dC5kZC5EcmFnVHJhY2tlciIscmVxdWlyZXM6WyJFeHQudXRpbC5SZWdpb24iXSxlbmFibGVkOnRydWUsb3ZlcmxheUNsczpFeHQuYmFzZUNTU1ByZWZpeCsicmVzaXphYmxlLW92ZXJsYXkiLGNyZWF0ZURyYWdPdmVybGF5OmZ1bmN0aW9uKCl7dmFyIGE7YT10aGlzLm92ZXJsYXk9RXh0LmdldEJvZHkoKS5jcmVhdGVDaGlsZCh7Y2xzOnRoaXMub3ZlcmxheUNscyxodG1sOiImIzE2MDsifSk7YS51bnNlbGVjdGFibGUoKTthLnNldFNpemUoRXh0LkVsZW1lbnQuZ2V0Vmlld1dpZHRoKHRydWUpLEV4dC5FbGVtZW50LmdldFZpZXdIZWlnaHQodHJ1ZSkpO2Euc2hvdygpfSxnZXRQcmV2Q21wOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRTcGxpdHRlcigpO3JldHVybiBhLnByZXZpb3VzU2libGluZygpfSxnZXROZXh0Q21wOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRTcGxpdHRlcigpO3JldHVybiBhLm5leHRTaWJsaW5nKCl9LG9uQmVmb3JlU3RhcnQ6ZnVuY3Rpb24oaSl7dmFyIGQ9dGhpcyxnPWQuZ2V0UHJldkNtcCgpLGE9ZC5nZXROZXh0Q21wKCksYz1kLmdldFNwbGl0dGVyKCkuY29sbGFwc2VFbCxoPWkuZ2V0VGFyZ2V0KCksYjtpZihjJiZoPT09ZC5nZXRTcGxpdHRlcigpLmNvbGxhcHNlRWwuZG9tKXtyZXR1cm4gZmFsc2V9aWYoYS5jb2xsYXBzZWR8fGcuY29sbGFwc2VkKXtyZXR1cm4gZmFsc2V9ZC5wcmV2Qm94PWcuZ2V0RWwoKS5nZXRCb3goKTtkLm5leHRCb3g9YS5nZXRFbCgpLmdldEJveCgpO2QuY29uc3RyYWluVG89Yj1kLmNhbGN1bGF0ZUNvbnN0cmFpblJlZ2lvbigpO2lmKCFiKXtyZXR1cm4gZmFsc2V9ZC5jcmVhdGVEcmFnT3ZlcmxheSgpO3JldHVybiBifSxvblN0YXJ0OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuZ2V0U3BsaXR0ZXIoKTthLmFkZENscyhhLmJhc2VDbHMrIi1hY3RpdmUiKX0sY2FsY3VsYXRlQ29uc3RyYWluUmVnaW9uOmZ1bmN0aW9uKCl7dmFyIGc9dGhpcyxhPWcuZ2V0U3BsaXR0ZXIoKSxoPWEuZ2V0V2lkdGgoKSxpPWEuZGVmYXVsdFNwbGl0TWluLGI9YS5vcmllbnRhdGlvbixkPWcucHJldkJveCxqPWcuZ2V0UHJldkNtcCgpLGM9Zy5uZXh0Qm94LGU9Zy5nZXROZXh0Q21wKCksbCxrO2lmKGI9PT0idmVydGljYWwiKXtsPW5ldyBFeHQudXRpbC5SZWdpb24oZC55LChqLm1heFdpZHRoP2QueCtqLm1heFdpZHRoOmMucmlnaHQtKGUubWluV2lkdGh8fGkpKStoLGQuYm90dG9tLGQueCsoai5taW5XaWR0aHx8aSkpO2s9bmV3IEV4dC51dGlsLlJlZ2lvbihjLnksYy5yaWdodC0oZS5taW5XaWR0aHx8aSksYy5ib3R0b20sKGUubWF4V2lkdGg/Yy5yaWdodC1lLm1heFdpZHRoOmQueCsoZC5taW5XaWR0aHx8aSkpLWgpfWVsc2V7bD1uZXcgRXh0LnV0aWwuUmVnaW9uKGQueSsoai5taW5IZWlnaHR8fGkpLGQucmlnaHQsKGoubWF4SGVpZ2h0P2QueStqLm1heEhlaWdodDpjLmJvdHRvbS0oZS5taW5IZWlnaHR8fGkpKStoLGQueCk7az1uZXcgRXh0LnV0aWwuUmVnaW9uKChlLm1heEhlaWdodD9jLmJvdHRvbS1lLm1heEhlaWdodDpkLnkrKGoubWluSGVpZ2h0fHxpKSktaCxjLnJpZ2h0LGMuYm90dG9tLShlLm1pbkhlaWdodHx8aSksYy54KX1yZXR1cm4gbC5pbnRlcnNlY3Qoayl9LHBlcmZvcm1SZXNpemU6ZnVuY3Rpb24obSxnKXt2YXIgbz10aGlzLGE9by5nZXRTcGxpdHRlcigpLGg9YS5vcmllbnRhdGlvbixwPW8uZ2V0UHJldkNtcCgpLG49by5nZXROZXh0Q21wKCksYj1hLm93bmVyQ3Qsaz1iLnF1ZXJ5KCI+W2ZsZXhdIiksbD1rLmxlbmd0aCxqPTAsZCxxLGM9MDtmb3IoO2o8bDtqKyspe3E9a1tqXS5nZXRXaWR0aCgpO2MrPXE7a1tqXS5mbGV4PXF9Zz1nfHxvLmdldE9mZnNldCgiZHJhZ1RhcmdldCIpO2lmKGg9PT0idmVydGljYWwiKXtnPWdbMF07ZD0id2lkdGgifWVsc2V7ZD0iaGVpZ2h0IjtnPWdbMV19aWYocCl7cT1vLnByZXZCb3hbZF0rZztpZihwLmZsZXgpe3AuZmxleD1xfWVsc2V7cFtkXT1xfX1pZihuKXtxPW8ubmV4dEJveFtkXS1nO2lmKG4uZmxleCl7bi5mbGV4PXF9ZWxzZXtuW2RdPXF9fWIudXBkYXRlTGF5b3V0KCl9LGVuZERyYWc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEub3ZlcmxheSl7YS5vdmVybGF5LnJlbW92ZSgpO2RlbGV0ZSBhLm92ZXJsYXl9YS5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LG9uRW5kOmZ1bmN0aW9uKGMpe3ZhciBhPXRoaXMsYj1hLmdldFNwbGl0dGVyKCk7Yi5yZW1vdmVDbHMoYi5iYXNlQ2xzKyItYWN0aXZlIik7YS5wZXJmb3JtUmVzaXplKGMsYS5nZXRPZmZzZXQoImRyYWdUYXJnZXQiKSl9LG9uRHJhZzpmdW5jdGlvbihnKXt2YXIgYz10aGlzLGg9Yy5nZXRPZmZzZXQoImRyYWdUYXJnZXQiKSxkPWMuZ2V0U3BsaXR0ZXIoKSxiPWQuZ2V0RWwoKSxhPWQub3JpZW50YXRpb247aWYoYT09PSJ2ZXJ0aWNhbCIpe2Iuc2V0WChjLnN0YXJ0UmVnaW9uLmxlZnQraFswXSl9ZWxzZXtiLnNldFkoYy5zdGFydFJlZ2lvbi50b3AraFsxXSl9fSxnZXRTcGxpdHRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNwbGl0dGVyfX0pO0V4dC5kZWZpbmUoIkV4dC5zbGlkZXIuVGh1bWIiLHtyZXF1aXJlczpbIkV4dC5kZC5EcmFnVHJhY2tlciIsIkV4dC51dGlsLkZvcm1hdCJdLHRvcFpJbmRleDoxMDAwMCxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO0V4dC5hcHBseShiLGF8fHt9LHtjbHM6RXh0LmJhc2VDU1NQcmVmaXgrInNsaWRlci10aHVtYiIsY29uc3RyYWluOmZhbHNlfSk7Yi5jYWxsUGFyZW50KFthXSl9LHJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5lbD1hLnNsaWRlci5pbm5lckVsLmluc2VydEZpcnN0KGEuZ2V0RWxDb25maWcoKSk7YS5vblJlbmRlcigpfSxvblJlbmRlcjpmdW5jdGlvbigpe2lmKHRoaXMuZGlzYWJsZWQpe3RoaXMuZGlzYWJsZSgpfXRoaXMuaW5pdEV2ZW50cygpfSxnZXRFbENvbmZpZzpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj1jLnNsaWRlcixhPXt9O2FbYi52ZXJ0aWNhbD8iYm90dG9tIjoibGVmdCJdPWIuY2FsY3VsYXRlVGh1bWJQb3NpdGlvbihiLm5vcm1hbGl6ZVZhbHVlKGMudmFsdWUpKSsiJSI7cmV0dXJue3N0eWxlOmEsaWQ6dGhpcy5pZCxjbHM6dGhpcy5jbHN9fSxtb3ZlOmZ1bmN0aW9uKGMsYil7dmFyIGQ9dGhpcy5lbCxhPXRoaXMuc2xpZGVyLnZlcnRpY2FsPyJib3R0b20iOiJsZWZ0IixnLGU7Yys9IiUiO2lmKCFiKXtkLmRvbS5zdHlsZVthXT1jfWVsc2V7Zz17fTtnW2FdPWM7aWYoIUV4dC5zdXBwb3J0cy5HZXRQb3NpdGlvblBlcmNlbnRhZ2Upe2U9e307ZVthXT1kLmRvbS5zdHlsZVthXX1uZXcgRXh0LmZ4LkFuaW0oe3RhcmdldDpkLGR1cmF0aW9uOjM1MCxmcm9tOmUsdG86Z30pfX0sYnJpbmdUb0Zyb250OmZ1bmN0aW9uKCl7dGhpcy5lbC5zZXRTdHlsZSgiekluZGV4Iix0aGlzLnRvcFpJbmRleCl9LHNlbmRUb0JhY2s6ZnVuY3Rpb24oKXt0aGlzLmVsLnNldFN0eWxlKCJ6SW5kZXgiLCIiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmRpc2FibGVkPWZhbHNlO2lmKGEuZWwpe2EuZWwucmVtb3ZlQ2xzKGEuc2xpZGVyLmRpc2FibGVkQ2xzKX19LGRpc2FibGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZGlzYWJsZWQ9dHJ1ZTtpZihhLmVsKXthLmVsLmFkZENscyhhLnNsaWRlci5kaXNhYmxlZENscyl9fSxpbml0RXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuZWw7Yi50cmFja2VyPW5ldyBFeHQuZGQuRHJhZ1RyYWNrZXIoe29uQmVmb3JlU3RhcnQ6RXh0LkZ1bmN0aW9uLmJpbmQoYi5vbkJlZm9yZURyYWdTdGFydCxiKSxvblN0YXJ0OkV4dC5GdW5jdGlvbi5iaW5kKGIub25EcmFnU3RhcnQsYiksb25EcmFnOkV4dC5GdW5jdGlvbi5iaW5kKGIub25EcmFnLGIpLG9uRW5kOkV4dC5GdW5jdGlvbi5iaW5kKGIub25EcmFnRW5kLGIpLHRvbGVyYW5jZTozLGF1dG9TdGFydDozMDAsb3ZlckNsczpFeHQuYmFzZUNTU1ByZWZpeCsic2xpZGVyLXRodW1iLW92ZXIifSk7Yi50cmFja2VyLmluaXRFbChhKX0sb25CZWZvcmVEcmFnU3RhcnQ6ZnVuY3Rpb24oYSl7aWYodGhpcy5kaXNhYmxlZCl7cmV0dXJuIGZhbHNlfWVsc2V7dGhpcy5zbGlkZXIucHJvbW90ZVRodW1iKHRoaXMpO3JldHVybiB0cnVlfX0sb25EcmFnU3RhcnQ6ZnVuY3Rpb24oYil7dmFyIGE9dGhpczthLmVsLmFkZENscyhFeHQuYmFzZUNTU1ByZWZpeCsic2xpZGVyLXRodW1iLWRyYWciKTthLmRyYWdnaW5nPWEuc2xpZGVyLmRyYWdnaW5nPXRydWU7YS5kcmFnU3RhcnRWYWx1ZT1hLnZhbHVlO2Euc2xpZGVyLmZpcmVFdmVudCgiZHJhZ3N0YXJ0IixhLnNsaWRlcixiLGEpfSxvbkRyYWc6ZnVuY3Rpb24oaCl7dmFyIGQ9dGhpcyxjPWQuc2xpZGVyLGI9ZC5pbmRleCxnPWQuZ2V0VmFsdWVGcm9tVHJhY2tlcigpLGEsaTtpZihnIT09dW5kZWZpbmVkKXtpZihkLmNvbnN0cmFpbil7YT1jLnRodW1ic1tiKzFdO2k9Yy50aHVtYnNbYi0xXTtpZihpIT09dW5kZWZpbmVkJiZnPD1pLnZhbHVlKXtnPWkudmFsdWV9aWYoYSE9PXVuZGVmaW5lZCYmZz49YS52YWx1ZSl7Zz1hLnZhbHVlfX1jLnNldFZhbHVlKGIsZyxmYWxzZSk7Yy5maXJlRXZlbnQoImRyYWciLGMsaCxkKX19LGdldFZhbHVlRnJvbVRyYWNrZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNsaWRlcixiPWEuZ2V0VHJhY2twb2ludCh0aGlzLnRyYWNrZXIuZ2V0WFkoKSk7aWYoYiE9PXVuZGVmaW5lZCl7cmV0dXJuIGEucmV2ZXJzZVBpeGVsVmFsdWUoYil9fSxvbkRyYWdFbmQ6ZnVuY3Rpb24oZCl7dmFyIGI9dGhpcyxhPWIuc2xpZGVyLGM9Yi52YWx1ZTtiLmVsLnJlbW92ZUNscyhFeHQuYmFzZUNTU1ByZWZpeCsic2xpZGVyLXRodW1iLWRyYWciKTtiLmRyYWdnaW5nPWEuZHJhZ2dpbmc9ZmFsc2U7YS5maXJlRXZlbnQoImRyYWdlbmQiLGEsZCk7aWYoYi5kcmFnU3RhcnRWYWx1ZSE9Yyl7YS5maXJlRXZlbnQoImNoYW5nZWNvbXBsZXRlIixhLGMsYil9fSxkZXN0cm95OmZ1bmN0aW9uKCl7RXh0LmRlc3Ryb3kodGhpcy50cmFja2VyKX19KTtFeHQuZGVmaW5lKCJFeHQudHJlZS5wbHVnaW4uVHJlZVZpZXdEcmFnRHJvcCIse2V4dGVuZDoiRXh0LkFic3RyYWN0UGx1Z2luIixhbGlhczoicGx1Z2luLnRyZWV2aWV3ZHJhZ2Ryb3AiLHVzZXM6WyJFeHQudHJlZS5WaWV3RHJhZ1pvbmUiLCJFeHQudHJlZS5WaWV3RHJvcFpvbmUiXSxkcmFnVGV4dDoiezB9IHNlbGVjdGVkIG5vZGV7MX0iLGFsbG93UGFyZW50SW5zZXJ0czpmYWxzZSxhbGxvd0NvbnRhaW5lckRyb3BzOmZhbHNlLGFwcGVuZE9ubHk6ZmFsc2UsZGRHcm91cDoiVHJlZUREIixleHBhbmREZWxheToxMDAwLGVuYWJsZURyb3A6dHJ1ZSxlbmFibGVEcmFnOnRydWUsbm9kZUhpZ2hsaWdodENvbG9yOiJjM2RhZjkiLG5vZGVIaWdobGlnaHRPbkRyb3A6RXh0LmVuYWJsZUZ4LG5vZGVIaWdobGlnaHRPblJlcGFpcjpFeHQuZW5hYmxlRngsaW5pdDpmdW5jdGlvbihhKXthLm9uKCJyZW5kZXIiLHRoaXMub25WaWV3UmVuZGVyLHRoaXMse3NpbmdsZTp0cnVlfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtFeHQuZGVzdHJveSh0aGlzLmRyYWdab25lLHRoaXMuZHJvcFpvbmUpfSxvblZpZXdSZW5kZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZihiLmVuYWJsZURyYWcpe2IuZHJhZ1pvbmU9bmV3IEV4dC50cmVlLlZpZXdEcmFnWm9uZSh7dmlldzphLGRkR3JvdXA6Yi5kcmFnR3JvdXB8fGIuZGRHcm91cCxkcmFnVGV4dDpiLmRyYWdUZXh0LHJlcGFpckhpZ2hsaWdodENvbG9yOmIubm9kZUhpZ2hsaWdodENvbG9yLHJlcGFpckhpZ2hsaWdodDpiLm5vZGVIaWdobGlnaHRPblJlcGFpcn0pfWlmKGIuZW5hYmxlRHJvcCl7Yi5kcm9wWm9uZT1uZXcgRXh0LnRyZWUuVmlld0Ryb3Bab25lKHt2aWV3OmEsZGRHcm91cDpiLmRyb3BHcm91cHx8Yi5kZEdyb3VwLGFsbG93Q29udGFpbmVyRHJvcHM6Yi5hbGxvd0NvbnRhaW5lckRyb3BzLGFwcGVuZE9ubHk6Yi5hcHBlbmRPbmx5LGFsbG93UGFyZW50SW5zZXJ0czpiLmFsbG93UGFyZW50SW5zZXJ0cyxleHBhbmREZWxheTpiLmV4cGFuZERlbGF5LGRyb3BIaWdobGlnaHRDb2xvcjpiLm5vZGVIaWdobGlnaHRDb2xvcixkcm9wSGlnaGxpZ2h0OmIubm9kZUhpZ2hsaWdodE9uRHJvcH0pfX19KTtFeHQuZGVmaW5lKCJFeHQudXRpbC5BbmltYXRlIix7dXNlczpbIkV4dC5meC5NYW5hZ2VyIiwiRXh0LmZ4LkFuaW0iXSxhbmltYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoRXh0LmZ4Lk1hbmFnZXIuaGFzRnhCbG9jayhiLmlkKSl7cmV0dXJuIGJ9RXh0LmZ4Lk1hbmFnZXIucXVldWVGeChuZXcgRXh0LmZ4LkFuaW0oYi5hbmltKGEpKSk7cmV0dXJuIHRoaXN9LGFuaW06ZnVuY3Rpb24oYSl7aWYoIUV4dC5pc09iamVjdChhKSl7cmV0dXJuKGEpP3t9OmZhbHNlfXZhciBiPXRoaXM7aWYoYS5zdG9wQW5pbWF0aW9uKXtiLnN0b3BBbmltYXRpb24oKX1FeHQuYXBwbHlJZihhLEV4dC5meC5NYW5hZ2VyLmdldEZ4RGVmYXVsdHMoYi5pZCkpO3JldHVybiBFeHQuYXBwbHkoe3RhcmdldDpiLHBhdXNlZDp0cnVlfSxhKX0sc3RvcEZ4OkV4dC5GdW5jdGlvbi5hbGlhcyhFeHQudXRpbC5BbmltYXRlLCJzdG9wQW5pbWF0aW9uIiksc3RvcEFuaW1hdGlvbjpmdW5jdGlvbigpe0V4dC5meC5NYW5hZ2VyLnN0b3BBbmltYXRpb24odGhpcy5pZCk7cmV0dXJuIHRoaXN9LHN5bmNGeDpmdW5jdGlvbigpe0V4dC5meC5NYW5hZ2VyLnNldEZ4RGVmYXVsdHModGhpcy5pZCx7Y29uY3VycmVudDp0cnVlfSk7cmV0dXJuIHRoaXN9LHNlcXVlbmNlRng6ZnVuY3Rpb24oKXtFeHQuZnguTWFuYWdlci5zZXRGeERlZmF1bHRzKHRoaXMuaWQse2NvbmN1cnJlbnQ6ZmFsc2V9KTtyZXR1cm4gdGhpc30saGFzQWN0aXZlRng6RXh0LkZ1bmN0aW9uLmFsaWFzKEV4dC51dGlsLkFuaW1hdGUsImdldEFjdGl2ZUFuaW1hdGlvbiIpLGdldEFjdGl2ZUFuaW1hdGlvbjpmdW5jdGlvbigpe3JldHVybiBFeHQuZnguTWFuYWdlci5nZXRBY3RpdmVBbmltYXRpb24odGhpcy5pZCl9fSxmdW5jdGlvbigpe0V4dC5hcHBseUlmKEV4dC5FbGVtZW50LnByb3RvdHlwZSx0aGlzLnByb3RvdHlwZSk7RXh0LkNvbXBvc2l0ZUVsZW1lbnRMaXRlLmltcG9ydEVsZW1lbnRNZXRob2RzKCl9KTtFeHQuZGVmaW5lKCJFeHQudXRpbC5DbGlja1JlcGVhdGVyIix7ZXh0ZW5kOiJFeHQudXRpbC5PYnNlcnZhYmxlIixjb25zdHJ1Y3RvcjpmdW5jdGlvbihiLGEpe3ZhciBjPXRoaXM7Yy5lbD1FeHQuZ2V0KGIpO2MuZWwudW5zZWxlY3RhYmxlKCk7RXh0LmFwcGx5KGMsYSk7Yy5jYWxsUGFyZW50KCk7Yy5hZGRFdmVudHMoIm1vdXNlZG93biIsImNsaWNrIiwibW91c2V1cCIpO2lmKCFjLmRpc2FibGVkKXtjLmRpc2FibGVkPXRydWU7Yy5lbmFibGUoKX1pZihjLmhhbmRsZXIpe2Mub24oImNsaWNrIixjLmhhbmRsZXIsYy5zY29wZXx8Yyl9fSxpbnRlcnZhbDoyMCxkZWxheToyNTAscHJldmVudERlZmF1bHQ6dHJ1ZSxzdG9wRGVmYXVsdDpmYWxzZSx0aW1lcjowLGVuYWJsZTpmdW5jdGlvbigpe2lmKHRoaXMuZGlzYWJsZWQpe3RoaXMuZWwub24oIm1vdXNlZG93biIsdGhpcy5oYW5kbGVNb3VzZURvd24sdGhpcyk7aWYoRXh0LmlzSUUpe3RoaXMuZWwub24oImRibGNsaWNrIix0aGlzLmhhbmRsZURibENsaWNrLHRoaXMpfWlmKHRoaXMucHJldmVudERlZmF1bHR8fHRoaXMuc3RvcERlZmF1bHQpe3RoaXMuZWwub24oImNsaWNrIix0aGlzLmV2ZW50T3B0aW9ucyx0aGlzKX19dGhpcy5kaXNhYmxlZD1mYWxzZX0sZGlzYWJsZTpmdW5jdGlvbihhKXtpZihhfHwhdGhpcy5kaXNhYmxlZCl7Y2xlYXJUaW1lb3V0KHRoaXMudGltZXIpO2lmKHRoaXMucHJlc3NlZENscyl7dGhpcy5lbC5yZW1vdmVDbHModGhpcy5wcmVzc2VkQ2xzKX1FeHQuZ2V0RG9jKCkudW4oIm1vdXNldXAiLHRoaXMuaGFuZGxlTW91c2VVcCx0aGlzKTt0aGlzLmVsLnJlbW92ZUFsbExpc3RlbmVycygpfXRoaXMuZGlzYWJsZWQ9dHJ1ZX0sc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7dGhpc1thPyJkaXNhYmxlIjoiZW5hYmxlIl0oKX0sZXZlbnRPcHRpb25zOmZ1bmN0aW9uKGEpe2lmKHRoaXMucHJldmVudERlZmF1bHQpe2EucHJldmVudERlZmF1bHQoKX1pZih0aGlzLnN0b3BEZWZhdWx0KXthLnN0b3BFdmVudCgpfX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZSh0cnVlKTtFeHQuZGVzdHJveSh0aGlzLmVsKTt0aGlzLmNsZWFyTGlzdGVuZXJzKCl9LGhhbmRsZURibENsaWNrOmZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVyKTt0aGlzLmVsLmJsdXIoKTt0aGlzLmZpcmVFdmVudCgibW91c2Vkb3duIix0aGlzLGEpO3RoaXMuZmlyZUV2ZW50KCJjbGljayIsdGhpcyxhKX0saGFuZGxlTW91c2VEb3duOmZ1bmN0aW9uKGEpe2NsZWFyVGltZW91dCh0aGlzLnRpbWVyKTt0aGlzLmVsLmJsdXIoKTtpZih0aGlzLnByZXNzZWRDbHMpe3RoaXMuZWwuYWRkQ2xzKHRoaXMucHJlc3NlZENscyl9dGhpcy5tb3VzZWRvd25UaW1lPW5ldyBEYXRlKCk7RXh0LmdldERvYygpLm9uKCJtb3VzZXVwIix0aGlzLmhhbmRsZU1vdXNlVXAsdGhpcyk7dGhpcy5lbC5vbigibW91c2VvdXQiLHRoaXMuaGFuZGxlTW91c2VPdXQsdGhpcyk7dGhpcy5maXJlRXZlbnQoIm1vdXNlZG93biIsdGhpcyxhKTt0aGlzLmZpcmVFdmVudCgiY2xpY2siLHRoaXMsYSk7aWYodGhpcy5hY2NlbGVyYXRlKXt0aGlzLmRlbGF5PTQwMH1hPW5ldyBFeHQuRXZlbnRPYmplY3RJbXBsKGEpO3RoaXMudGltZXI9RXh0LmRlZmVyKHRoaXMuY2xpY2ssdGhpcy5kZWxheXx8dGhpcy5pbnRlcnZhbCx0aGlzLFthXSl9LGNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KCJjbGljayIsdGhpcyxhKTt0aGlzLnRpbWVyPUV4dC5kZWZlcih0aGlzLmNsaWNrLHRoaXMuYWNjZWxlcmF0ZT90aGlzLmVhc2VPdXRFeHBvKEV4dC5EYXRlLmdldEVsYXBzZWQodGhpcy5tb3VzZWRvd25UaW1lKSw0MDAsLTM5MCwxMjAwMCk6dGhpcy5pbnRlcnZhbCx0aGlzLFthXSl9LGVhc2VPdXRFeHBvOmZ1bmN0aW9uKGUsYSxoLGcpe3JldHVybihlPT1nKT9hK2g6aCooLU1hdGgucG93KDIsLTEwKmUvZykrMSkrYX0saGFuZGxlTW91c2VPdXQ6ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGhpcy50aW1lcik7aWYodGhpcy5wcmVzc2VkQ2xzKXt0aGlzLmVsLnJlbW92ZUNscyh0aGlzLnByZXNzZWRDbHMpfXRoaXMuZWwub24oIm1vdXNlb3ZlciIsdGhpcy5oYW5kbGVNb3VzZVJldHVybix0aGlzKX0saGFuZGxlTW91c2VSZXR1cm46ZnVuY3Rpb24oKXt0aGlzLmVsLnVuKCJtb3VzZW92ZXIiLHRoaXMuaGFuZGxlTW91c2VSZXR1cm4sdGhpcyk7aWYodGhpcy5wcmVzc2VkQ2xzKXt0aGlzLmVsLmFkZENscyh0aGlzLnByZXNzZWRDbHMpfXRoaXMuY2xpY2soKX0saGFuZGxlTW91c2VVcDpmdW5jdGlvbihhKXtjbGVhclRpbWVvdXQodGhpcy50aW1lcik7dGhpcy5lbC51bigibW91c2VvdmVyIix0aGlzLmhhbmRsZU1vdXNlUmV0dXJuLHRoaXMpO3RoaXMuZWwudW4oIm1vdXNlb3V0Iix0aGlzLmhhbmRsZU1vdXNlT3V0LHRoaXMpO0V4dC5nZXREb2MoKS51bigibW91c2V1cCIsdGhpcy5oYW5kbGVNb3VzZVVwLHRoaXMpO2lmKHRoaXMucHJlc3NlZENscyl7dGhpcy5lbC5yZW1vdmVDbHModGhpcy5wcmVzc2VkQ2xzKX10aGlzLmZpcmVFdmVudCgibW91c2V1cCIsdGhpcyxhKX19KTtFeHQuZGVmaW5lKCJFeHQudXRpbC5Db21wb25lbnREcmFnZ2VyIix7ZXh0ZW5kOiJFeHQuZGQuRHJhZ1RyYWNrZXIiLGF1dG9TdGFydDo1MDAsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSxiKXt0aGlzLmNvbXA9YTt0aGlzLmluaXRpYWxDb25zdHJhaW5Ubz1iLmNvbnN0cmFpblRvO3RoaXMuY2FsbFBhcmVudChbYl0pfSxvblN0YXJ0OmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT1iLmNvbXA7dGhpcy5zdGFydFBvc2l0aW9uPWEuZWwuZ2V0WFkoKTtpZihhLmdob3N0JiYhYS5saXZlRHJhZyl7Yi5wcm94eT1hLmdob3N0KCk7Yi5kcmFnVGFyZ2V0PWIucHJveHkuaGVhZGVyLmVsfWlmKGIuY29uc3RyYWlufHxiLmNvbnN0cmFpbkRlbGVnYXRlKXtiLmNvbnN0cmFpblRvPWIuY2FsY3VsYXRlQ29uc3RyYWluUmVnaW9uKCl9aWYoYS5iZWdpbkRyYWcpe2EuYmVnaW5EcmFnKCl9fSxjYWxjdWxhdGVDb25zdHJhaW5SZWdpb246ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGE9ZC5jb21wLGg9ZC5pbml0aWFsQ29uc3RyYWluVG8sZSxnLGI9YS5lbC5zaGFkb3c/YS5lbC5zaGFkb3cub2Zmc2V0OjA7aWYoIShoIGluc3RhbmNlb2YgRXh0LnV0aWwuUmVnaW9uKSl7aD1FeHQuZmx5KGgpLmdldFZpZXdSZWdpb24oKX1pZihiKXtoLmFkanVzdCgwLC1iLC1iLGIpfWlmKCFkLmNvbnN0cmFpbkRlbGVnYXRlKXtlPUV4dC5mbHkoZC5kcmFnVGFyZ2V0KS5nZXRSZWdpb24oKTtnPWQucHJveHk/ZC5wcm94eS5lbC5nZXRSZWdpb24oKTphLmVsLmdldFJlZ2lvbigpO2guYWRqdXN0KGUudG9wLWcudG9wLGUucmlnaHQtZy5yaWdodCxlLmJvdHRvbS1nLmJvdHRvbSxlLmxlZnQtZy5sZWZ0KX1yZXR1cm4gaH0sb25EcmFnOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT0oYi5wcm94eSYmIWIuY29tcC5saXZlRHJhZyk/Yi5wcm94eTpiLmNvbXAsZD1iLmdldE9mZnNldChiLmNvbnN0cmFpbnx8Yi5jb25zdHJhaW5EZWxlZ2F0ZT8iZHJhZ1RhcmdldCI6bnVsbCk7YS5zZXRQYWdlUG9zaXRpb24oYi5zdGFydFBvc2l0aW9uWzBdK2RbMF0sYi5zdGFydFBvc2l0aW9uWzFdK2RbMV0pfSxvbkVuZDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLmNvbXA7aWYodGhpcy5wcm94eSYmIWEubGl2ZURyYWcpe2EudW5naG9zdCgpfWlmKGEuZW5kRHJhZyl7YS5lbmREcmFnKCl9fX0pO0V4dC5kZWZpbmUoIkV4dC51dGlsLkNvb2tpZXMiLHtzaW5nbGV0b246dHJ1ZSxzZXQ6ZnVuY3Rpb24oYyxlKXt2YXIgYT1hcmd1bWVudHMsaT1hcmd1bWVudHMubGVuZ3RoLGI9KGk+Mik/YVsyXTpudWxsLGg9KGk+Myk/YVszXToiLyIsZD0oaT40KT9hWzRdOm51bGwsZz0oaT41KT9hWzVdOmZhbHNlO2RvY3VtZW50LmNvb2tpZT1jKyI9Iitlc2NhcGUoZSkrKChiPT09bnVsbCk/IiI6KCI7IGV4cGlyZXM9IitiLnRvR01UU3RyaW5nKCkpKSsoKGg9PT1udWxsKT8iIjooIjsgcGF0aD0iK2gpKSsoKGQ9PT1udWxsKT8iIjooIjsgZG9tYWluPSIrZCkpKygoZz09PXRydWUpPyI7IHNlY3VyZSI6IiIpfSxnZXQ6ZnVuY3Rpb24oZCl7dmFyIGI9ZCsiPSIsZz1iLmxlbmd0aCxhPWRvY3VtZW50LmNvb2tpZS5sZW5ndGgsZT0wLGM9MDt3aGlsZShlPGEpe2M9ZStnO2lmKGRvY3VtZW50LmNvb2tpZS5zdWJzdHJpbmcoZSxjKT09Yil7cmV0dXJuIHRoaXMuZ2V0Q29va2llVmFsKGMpfWU9ZG9jdW1lbnQuY29va2llLmluZGV4T2YoIiAiLGUpKzE7aWYoZT09PTApe2JyZWFrfX1yZXR1cm4gbnVsbH0sY2xlYXI6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmdldChhKSl7Yj1ifHwiLyI7ZG9jdW1lbnQuY29va2llPWErIj07IGV4cGlyZXM9VGh1LCAwMS1KYW4tNzAgMDA6MDA6MDEgR01UOyBwYXRoPSIrYn19LGdldENvb2tpZVZhbDpmdW5jdGlvbihiKXt2YXIgYT1kb2N1bWVudC5jb29raWUuaW5kZXhPZigiOyIsYik7aWYoYT09LTEpe2E9ZG9jdW1lbnQuY29va2llLmxlbmd0aH1yZXR1cm4gdW5lc2NhcGUoZG9jdW1lbnQuY29va2llLnN1YnN0cmluZyhiLGEpKX19KTtFeHQuZGVmaW5lKCJFeHQudXRpbC5DU1MiLChmdW5jdGlvbigpe3ZhciBkPW51bGwsYz1kb2N1bWVudCxiPS8oLVthLXpdKS9naSxhPWZ1bmN0aW9uKGUsZyl7cmV0dXJuIGcuY2hhckF0KDEpLnRvVXBwZXJDYXNlKCl9O3JldHVybntzaW5nbGV0b246dHJ1ZSxjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3RoaXMucnVsZXM9e307dGhpcy5pbml0aWFsaXplZD1mYWxzZX0sY3JlYXRlU3R5bGVTaGVldDpmdW5jdGlvbihpLGwpe3ZhciBoLGc9Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLGs9Yy5jcmVhdGVFbGVtZW50KCJzdHlsZSIpO2suc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dC9jc3MiKTtpZihsKXtrLnNldEF0dHJpYnV0ZSgiaWQiLGwpfWlmKEV4dC5pc0lFKXtnLmFwcGVuZENoaWxkKGspO2g9ay5zdHlsZVNoZWV0O2guY3NzVGV4dD1pfWVsc2V7dHJ5e2suYXBwZW5kQ2hpbGQoYy5jcmVhdGVUZXh0Tm9kZShpKSl9Y2F0Y2goail7ay5jc3NUZXh0PWl9Zy5hcHBlbmRDaGlsZChrKTtoPWsuc3R5bGVTaGVldD9rLnN0eWxlU2hlZXQ6KGsuc2hlZXR8fGMuc3R5bGVTaGVldHNbYy5zdHlsZVNoZWV0cy5sZW5ndGgtMV0pfXRoaXMuY2FjaGVTdHlsZVNoZWV0KGgpO3JldHVybiBofSxyZW1vdmVTdHlsZVNoZWV0OmZ1bmN0aW9uKGcpe3ZhciBlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGcpO2lmKGUpe2UucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX19LHN3YXBTdHlsZVNoZWV0OmZ1bmN0aW9uKGksZSl7dmFyIGg9ZG9jdW1lbnQsZzt0aGlzLnJlbW92ZVN0eWxlU2hlZXQoaSk7Zz1oLmNyZWF0ZUVsZW1lbnQoImxpbmsiKTtnLnNldEF0dHJpYnV0ZSgicmVsIiwic3R5bGVzaGVldCIpO2cuc2V0QXR0cmlidXRlKCJ0eXBlIiwidGV4dC9jc3MiKTtnLnNldEF0dHJpYnV0ZSgiaWQiLGkpO2cuc2V0QXR0cmlidXRlKCJocmVmIixlKTtoLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJoZWFkIilbMF0uYXBwZW5kQ2hpbGQoZyl9LHJlZnJlc2hDYWNoZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFJ1bGVzKHRydWUpfSxjYWNoZVN0eWxlU2hlZXQ6ZnVuY3Rpb24obCl7aWYoIWQpe2Q9e319dHJ5e3ZhciBvPWwuY3NzUnVsZXN8fGwucnVsZXMsbSxrPW8ubGVuZ3RoLTEsZyxoO2Zvcig7az49MDstLWspe209b1trXS5zZWxlY3RvclRleHQ7aWYobSl7bT1tLnNwbGl0KCIsIik7aD1tLmxlbmd0aDtmb3IoZz0wO2c8aDtnKyspe2RbRXh0LlN0cmluZy50cmltKG1bZ10pLnRvTG93ZXJDYXNlKCldPW9ba119fX19Y2F0Y2gobil7fX0sZ2V0UnVsZXM6ZnVuY3Rpb24oaCl7aWYoZD09PW51bGx8fGgpe2Q9e307dmFyIGs9Yy5zdHlsZVNoZWV0cyxqPTAsZz1rLmxlbmd0aDtmb3IoO2o8ZztqKyspe3RyeXtpZigha1tqXS5kaXNhYmxlZCl7dGhpcy5jYWNoZVN0eWxlU2hlZXQoa1tqXSl9fWNhdGNoKGwpe319fXJldHVybiBkfSxnZXRSdWxlOmZ1bmN0aW9uKGUsaCl7dmFyIGc9dGhpcy5nZXRSdWxlcyhoKSxqO2lmKCFFeHQuaXNBcnJheShlKSl7cmV0dXJuIGdbZS50b0xvd2VyQ2FzZSgpXX1mb3Ioaj0wO2o8ZS5sZW5ndGg7aisrKXtpZihnW2Vbal1dKXtyZXR1cm4gZ1tlW2pdLnRvTG93ZXJDYXNlKCldfX1yZXR1cm4gbnVsbH0sdXBkYXRlUnVsZTpmdW5jdGlvbihlLGosaCl7dmFyIGssZztpZighRXh0LmlzQXJyYXkoZSkpe2s9dGhpcy5nZXRSdWxlKGUpO2lmKGspe2suc3R5bGVbai5yZXBsYWNlKGIsYSldPWg7cmV0dXJuIHRydWV9fWVsc2V7Zm9yKGc9MDtnPGUubGVuZ3RoO2crKyl7aWYodGhpcy51cGRhdGVSdWxlKGVbZ10saixoKSl7cmV0dXJuIHRydWV9fX1yZXR1cm4gZmFsc2V9fX0oKSkpO0V4dC5kZWZpbmUoIkV4dC51dGlsLkZsb2F0aW5nIix7dXNlczpbIkV4dC5MYXllciIsIkV4dC53aW5kb3cuV2luZG93Il0sZm9jdXNPblRvRnJvbnQ6dHJ1ZSxzaGFkb3c6InNpZGVzIixjb25zdHJ1Y3RvcjpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2EuZWw9bmV3IEV4dC5MYXllcihFeHQuYXBwbHkoe2hpZGVNb2RlOmEuaGlkZU1vZGUsaGlkZGVuOmEuaGlkZGVuLHNoYWRvdzoodHlwZW9mIGEuc2hhZG93IT0idW5kZWZpbmVkIik/YS5zaGFkb3c6InNpZGVzIixzaGFkb3dPZmZzZXQ6YS5zaGFkb3dPZmZzZXQsY29uc3RyYWluOmZhbHNlLHNoaW06KGEuc2hpbT09PWZhbHNlKT9mYWxzZTp1bmRlZmluZWR9LGEuZmxvYXRpbmcpLGIpO2EuZmxvYXRpbmc9dHJ1ZTthLnJlZ2lzdGVyV2l0aE93bmVyQ3QoKX0scmVnaXN0ZXJXaXRoT3duZXJDdDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS56SW5kZXhQYXJlbnQpe2EuekluZGV4UGFyZW50LnVucmVnaXN0ZXJGbG9hdGluZ0l0ZW0oYSl9YS56SW5kZXhQYXJlbnQ9YS51cCgiW2Zsb2F0aW5nXSIpO2Euc2V0RmxvYXRQYXJlbnQoYS5vd25lckN0KTtkZWxldGUgYS5vd25lckN0O2lmKGEuekluZGV4UGFyZW50KXthLnpJbmRleFBhcmVudC5yZWdpc3RlckZsb2F0aW5nSXRlbShhKX1lbHNle0V4dC5XaW5kb3dNYW5hZ2VyLnJlZ2lzdGVyKGEpfX0sc2V0RmxvYXRQYXJlbnQ6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZihhLmZsb2F0UGFyZW50KXthLm11bihhLmZsb2F0UGFyZW50LHtoaWRlOmEub25GbG9hdFBhcmVudEhpZGUsc2hvdzphLm9uRmxvYXRQYXJlbnRTaG93LHNjb3BlOmF9KX1hLmZsb2F0UGFyZW50PWI7aWYoYil7YS5tb24oYS5mbG9hdFBhcmVudCx7aGlkZTphLm9uRmxvYXRQYXJlbnRIaWRlLHNob3c6YS5vbkZsb2F0UGFyZW50U2hvdyxzY29wZTphfSl9aWYoKGEuY29uc3RyYWlufHxhLmNvbnN0cmFpbkhlYWRlcikmJiFhLmNvbnN0cmFpblRvKXthLmNvbnN0cmFpblRvPWI/Yi5nZXRUYXJnZXRFbCgpOmEuY29udGFpbmVyfX0sb25BZnRlckZsb2F0TGF5b3V0OmZ1bmN0aW9uKCl7dGhpcy5zeW5jU2hhZG93KCl9LG9uRmxvYXRQYXJlbnRIaWRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLmhpZGVPblBhcmVudEhpZGUhPT1mYWxzZSYmYS5pc1Zpc2libGUoKSl7YS5oaWRlKCk7YS5zaG93T25QYXJlbnRTaG93PXRydWV9fSxvbkZsb2F0UGFyZW50U2hvdzpmdW5jdGlvbigpe2lmKHRoaXMuc2hvd09uUGFyZW50U2hvdyl7ZGVsZXRlIHRoaXMuc2hvd09uUGFyZW50U2hvdzt0aGlzLnNob3coKX19LHNldFpJbmRleDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IuZWwuc2V0WkluZGV4KGEpO2ErPTEwO2lmKGIuZmxvYXRpbmdJdGVtcyl7YT1NYXRoLmZsb29yKGIuZmxvYXRpbmdJdGVtcy5zZXRCYXNlKGEpLzEwMCkqMTAwKzEwMDAwfXJldHVybiBhfSxkb0NvbnN0cmFpbjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGE9Yy5nZXRDb25zdHJhaW5WZWN0b3IoYiksZDtpZihhKXtkPWMuZ2V0UG9zaXRpb24oKTtkWzBdKz1hWzBdO2RbMV0rPWFbMV07Yy5zZXRQb3NpdGlvbihkKX19LGdldENvbnN0cmFpblZlY3RvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKGIuY29uc3RyYWlufHxiLmNvbnN0cmFpbkhlYWRlcil7YT1hfHwoYi5mbG9hdFBhcmVudCYmYi5mbG9hdFBhcmVudC5nZXRUYXJnZXRFbCgpKXx8Yi5jb250YWluZXJ8fGIuZWwuZ2V0U2NvcGVQYXJlbnQoKTtyZXR1cm4oYi5jb25zdHJhaW5IZWFkZXI/Yi5oZWFkZXIuZWw6Yi5lbCkuZ2V0Q29uc3RyYWluVmVjdG9yKGEpfX0sYWxpZ25UbzpmdW5jdGlvbihiLGEsYyl7dGhpcy5zZXRQYWdlUG9zaXRpb24odGhpcy5lbC5nZXRBbGlnblRvWFkoYi5lbHx8YixhLGMpKTtyZXR1cm4gdGhpc30sdG9Gcm9udDpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2lmKGEuekluZGV4UGFyZW50JiZhLmJyaW5nUGFyZW50VG9Gcm9udCE9PWZhbHNlKXthLnpJbmRleFBhcmVudC50b0Zyb250KHRydWUpfWlmKCFFeHQuaXNEZWZpbmVkKGIpKXtiPSFhLmZvY3VzT25Ub0Zyb250fWlmKGIpe2EucHJldmVudEZvY3VzT25BY3RpdmF0ZT10cnVlfWlmKGEuekluZGV4TWFuYWdlci5icmluZ1RvRnJvbnQoYSkpe2lmKCFiKXthLmZvY3VzKGZhbHNlLHRydWUpfX1kZWxldGUgYS5wcmV2ZW50Rm9jdXNPbkFjdGl2YXRlO3JldHVybiBhfSxzZXRBY3RpdmU6ZnVuY3Rpb24oYixjKXt2YXIgYT10aGlzO2lmKGIpe2lmKGEuZWwuc2hhZG93JiYhYS5tYXhpbWl6ZWQpe2EuZWwuZW5hYmxlU2hhZG93KHRydWUpfWlmKGEubW9kYWwmJiFhLnByZXZlbnRGb2N1c09uQWN0aXZhdGUpe2EuZm9jdXMoZmFsc2UsdHJ1ZSl9YS5maXJlRXZlbnQoImFjdGl2YXRlIixhKX1lbHNle2lmKGEuaXNXaW5kb3cmJihjJiZjLmlzV2luZG93KSl7YS5lbC5kaXNhYmxlU2hhZG93KCl9YS5maXJlRXZlbnQoImRlYWN0aXZhdGUiLGEpfX0sdG9CYWNrOmZ1bmN0aW9uKCl7dGhpcy56SW5kZXhNYW5hZ2VyLnNlbmRUb0JhY2sodGhpcyk7cmV0dXJuIHRoaXN9LGNlbnRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYjtpZihhLmlzVmlzaWJsZSgpKXtiPWEuZWwuZ2V0QWxpZ25Ub1hZKGEuY29udGFpbmVyLCJjLWMiKTthLnNldFBhZ2VQb3NpdGlvbihiKX1lbHNle2EubmVlZHNDZW50ZXI9dHJ1ZX1yZXR1cm4gYX0sb25GbG9hdFNob3c6ZnVuY3Rpb24oKXtpZih0aGlzLm5lZWRzQ2VudGVyKXt0aGlzLmNlbnRlcigpfWRlbGV0ZSB0aGlzLm5lZWRzQ2VudGVyfSxzeW5jU2hhZG93OmZ1bmN0aW9uKCl7aWYodGhpcy5mbG9hdGluZyl7dGhpcy5lbC5zeW5jKHRydWUpfX0sZml0Q29udGFpbmVyOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5mbG9hdFBhcmVudCxhPWM/Yy5nZXRUYXJnZXRFbCgpOnRoaXMuY29udGFpbmVyLGI9YS5nZXRWaWV3U2l6ZShmYWxzZSk7dGhpcy5zZXRTaXplKGIpfX0pO0V4dC5kZWZpbmUoIkV4dC51dGlsLkhpc3RvcnkiLHtzaW5nbGV0b246dHJ1ZSxhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5IaXN0b3J5IixtaXhpbnM6e29ic2VydmFibGU6IkV4dC51dGlsLk9ic2VydmFibGUifSx1c2VUb3BXaW5kb3c6dHJ1ZSxmaWVsZElkOkV4dC5iYXNlQ1NTUHJlZml4KyJoaXN0b3J5LWZpZWxkIixpZnJhbWVJZDpFeHQuYmFzZUNTU1ByZWZpeCsiaGlzdG9yeS1mcmFtZSIsY29uc3RydWN0b3I6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2Eub2xkSUVNb2RlPUV4dC5pc0lFNnx8RXh0LmlzSUU3fHwhRXh0LmlzU3RyaWN0JiZFeHQuaXNJRTg7YS5pZnJhbWU9bnVsbDthLmhpZGRlbkZpZWxkPW51bGw7YS5yZWFkeT1mYWxzZTthLmN1cnJlbnRUb2tlbj1udWxsO2EubWl4aW5zLm9ic2VydmFibGUuY29uc3RydWN0b3IuY2FsbChhKX0sZ2V0SGFzaDpmdW5jdGlvbigpe3ZhciBhPXdpbmRvdy5sb2NhdGlvbi5ocmVmLGI9YS5pbmRleE9mKCIjIik7cmV0dXJuIGI+PTA/YS5zdWJzdHIoYisxKTpudWxsfSxzZXRIYXNoOmZ1bmN0aW9uKGQpe3ZhciBhPXRoaXMsYz1hLnVzZVRvcFdpbmRvdz93aW5kb3cudG9wOndpbmRvdzt0cnl7Yy5sb2NhdGlvbi5oYXNoPWR9Y2F0Y2goYil7fX0sZG9TYXZlOmZ1bmN0aW9uKCl7dGhpcy5oaWRkZW5GaWVsZC52YWx1ZT10aGlzLmN1cnJlbnRUb2tlbn0saGFuZGxlU3RhdGVDaGFuZ2U6ZnVuY3Rpb24oYSl7dGhpcy5jdXJyZW50VG9rZW49YTt0aGlzLmZpcmVFdmVudCgiY2hhbmdlIixhKX0sdXBkYXRlSUZyYW1lOmZ1bmN0aW9uKGIpe3ZhciBhPSc8aHRtbD48Ym9keT48ZGl2IGlkPSJzdGF0ZSI+JytFeHQudXRpbC5Gb3JtYXQuaHRtbEVuY29kZShiKSsiPC9kaXY+PC9ib2R5PjwvaHRtbD4iLGQ7dHJ5e2Q9dGhpcy5pZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtkLm9wZW4oKTtkLndyaXRlKGEpO2QuY2xvc2UoKTtyZXR1cm4gdHJ1ZX1jYXRjaChjKXtyZXR1cm4gZmFsc2V9fSxjaGVja0lGcmFtZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMsYj1kLmlmcmFtZS5jb250ZW50V2luZG93LGUsYyxhLGc7aWYoIWJ8fCFiLmRvY3VtZW50KXtFeHQuRnVuY3Rpb24uZGVmZXIodGhpcy5jaGVja0lGcmFtZSwxMCx0aGlzKTtyZXR1cm59ZT1iLmRvY3VtZW50O2M9ZS5nZXRFbGVtZW50QnlJZCgic3RhdGUiKTthPWM/Yy5pbm5lclRleHQ6bnVsbDtnPWQuZ2V0SGFzaCgpO0V4dC5UYXNrTWFuYWdlci5zdGFydCh7cnVuOmZ1bmN0aW9uKCl7dmFyIGs9Yi5kb2N1bWVudCxqPWsuZ2V0RWxlbWVudEJ5SWQoInN0YXRlIiksaD1qP2ouaW5uZXJUZXh0Om51bGwsaT1kLmdldEhhc2goKTtpZihoIT09YSl7YT1oO2QuaGFuZGxlU3RhdGVDaGFuZ2UoaCk7ZC5zZXRIYXNoKGgpO2c9aDtkLmRvU2F2ZSgpfWVsc2V7aWYoaSE9PWcpe2c9aTtkLnVwZGF0ZUlGcmFtZShpKX19fSxpbnRlcnZhbDo1MCxzY29wZTpkfSk7ZC5yZWFkeT10cnVlO2QuZmlyZUV2ZW50KCJyZWFkeSIsZCl9LHN0YXJ0VXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI7YS5jdXJyZW50VG9rZW49YS5oaWRkZW5GaWVsZC52YWx1ZXx8dGhpcy5nZXRIYXNoKCk7aWYoYS5vbGRJRU1vZGUpe2EuY2hlY2tJRnJhbWUoKX1lbHNle2I9YS5nZXRIYXNoKCk7RXh0LlRhc2tNYW5hZ2VyLnN0YXJ0KHtydW46ZnVuY3Rpb24oKXt2YXIgYz1hLmdldEhhc2goKTtpZihjIT09Yil7Yj1jO2EuaGFuZGxlU3RhdGVDaGFuZ2UoYik7YS5kb1NhdmUoKX19LGludGVydmFsOjUwLHNjb3BlOmF9KTthLnJlYWR5PXRydWU7YS5maXJlRXZlbnQoInJlYWR5IixhKX19LGluaXQ6ZnVuY3Rpb24oZCxiKXt2YXIgYz10aGlzLGE9RXh0LkRvbUhlbHBlcjtpZihjLnJlYWR5KXtFeHQuY2FsbGJhY2soZCxiLFtjXSk7cmV0dXJufWlmKCFFeHQuaXNSZWFkeSl7RXh0Lm9uUmVhZHkoZnVuY3Rpb24oKXtjLmluaXQoZCxiKX0pO3JldHVybn1jLmhpZGRlbkZpZWxkPUV4dC5nZXREb20oYy5maWVsZElkKTtpZighYy5oaWRkZW5GaWVsZCl7Yy5oaWRkZW5GaWVsZD1FeHQuZ2V0Qm9keSgpLmNyZWF0ZUNoaWxkKHtpZDpFeHQuaWQoKSx0YWc6ImZvcm0iLGNsczpFeHQuYmFzZUNTU1ByZWZpeCsiaGlkZS1kaXNwbGF5IixjaGlsZHJlbjpbe3RhZzoiaW5wdXQiLHR5cGU6ImhpZGRlbiIsaWQ6Yy5maWVsZElkfV19LGZhbHNlLHRydWUpLmZpcnN0Q2hpbGR9aWYoYy5vbGRJRU1vZGUpe2MuaWZyYW1lPUV4dC5nZXREb20oYy5pZnJhbWVJZCk7aWYoIWMuaWZyYW1lKXtjLmlmcmFtZT1hLmFwcGVuZChjLmhpZGRlbkZpZWxkLnBhcmVudE5vZGUse3RhZzoiaWZyYW1lIixpZDpjLmlmcmFtZUlkfSl9fWMuYWRkRXZlbnRzKCJyZWFkeSIsImNoYW5nZSIpO2lmKGQpe2Mub24oInJlYWR5IixkLGIse3NpbmdsZTp0cnVlfSl9Yy5zdGFydFVwKCl9LGFkZDpmdW5jdGlvbihhLGMpe3ZhciBiPXRoaXM7aWYoYyE9PWZhbHNlKXtpZihiLmdldFRva2VuKCk9PT1hKXtyZXR1cm4gdHJ1ZX19aWYoYi5vbGRJRU1vZGUpe3JldHVybiBiLnVwZGF0ZUlGcmFtZShhKX1lbHNle2Iuc2V0SGFzaChhKTtyZXR1cm4gdHJ1ZX19LGJhY2s6ZnVuY3Rpb24oKXt3aW5kb3cuaGlzdG9yeS5nbygtMSl9LGZvcndhcmQ6ZnVuY3Rpb24oKXt3aW5kb3cuaGlzdG9yeS5nbygxKX0sZ2V0VG9rZW46ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5yZWFkeT90aGlzLmN1cnJlbnRUb2tlbjp0aGlzLmdldEhhc2goKX19KTtFeHQuZGVmaW5lKCJFeHQudXRpbC5LZXlNYXAiLHthbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5LZXlNYXAiLGV2ZW50TmFtZToia2V5ZG93biIsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZigoYXJndW1lbnRzLmxlbmd0aCE9PTEpfHwodHlwZW9mIGE9PT0ic3RyaW5nIil8fGEuZG9tfHxhLnRhZ05hbWV8fGE9PT1kb2N1bWVudHx8YS5pc0NvbXBvbmVudCl7Yi5sZWdhY3lDb25zdHJ1Y3Rvci5hcHBseShiLGFyZ3VtZW50cyk7cmV0dXJufUV4dC5hcHBseShiLGEpO2IuYmluZGluZ3M9W107aWYoIWIudGFyZ2V0LmlzQ29tcG9uZW50KXtiLnRhcmdldD1FeHQuZ2V0KGIudGFyZ2V0KX1pZihiLmJpbmRpbmcpe2IuYWRkQmluZGluZyhiLmJpbmRpbmcpfWVsc2V7aWYoYS5rZXkpe2IuYWRkQmluZGluZyhhKX19Yi5lbmFibGUoKX0sbGVnYWN5Q29uc3RydWN0b3I6ZnVuY3Rpb24oYixkLGEpe3ZhciBjPXRoaXM7RXh0LmFwcGx5KGMse3RhcmdldDpFeHQuZ2V0KGIpLGV2ZW50TmFtZTphfHxjLmV2ZW50TmFtZSxiaW5kaW5nczpbXX0pO2lmKGQpe2MuYWRkQmluZGluZyhkKX1jLmVuYWJsZSgpfSxhZGRCaW5kaW5nOmZ1bmN0aW9uKGgpe3ZhciBnPWgua2V5LGo9ZmFsc2UsZCxlLGIsYyxhO2lmKEV4dC5pc0FycmF5KGgpKXtmb3IoYz0wLGE9aC5sZW5ndGg7YzxhO2MrKyl7dGhpcy5hZGRCaW5kaW5nKGhbY10pfXJldHVybn1pZihFeHQuaXNTdHJpbmcoZykpe2U9W107Yj1nLnRvVXBwZXJDYXNlKCk7Zm9yKGM9MCxhPWIubGVuZ3RoO2M8YTsrK2Mpe2UucHVzaChiLmNoYXJDb2RlQXQoYykpfWc9ZTtqPXRydWV9aWYoIUV4dC5pc0FycmF5KGcpKXtnPVtnXX1pZighail7Zm9yKGM9MCxhPWcubGVuZ3RoO2M8YTsrK2Mpe2Q9Z1tjXTtpZihFeHQuaXNTdHJpbmcoZCkpe2dbY109ZC50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCl9fX10aGlzLmJpbmRpbmdzLnB1c2goRXh0LmFwcGx5KHtrZXlDb2RlOmd9LGgpKX0saGFuZGxlS2V5RG93bjpmdW5jdGlvbihkKXt2YXIgYz10aGlzLGUsYixhO2lmKHRoaXMuZW5hYmxlZCl7ZT10aGlzLmJpbmRpbmdzO2I9MDthPWUubGVuZ3RoO2Q9Yy5wcm9jZXNzRXZlbnQuYXBwbHkoY3x8Yy5wcm9jZXNzRXZlbnRTY29wZSxhcmd1bWVudHMpO2lmKCFkLmdldEtleSl7cmV0dXJuIGR9Zm9yKDtiPGE7KytiKXt0aGlzLnByb2Nlc3NCaW5kaW5nKGVbYl0sZCl9fX0scHJvY2Vzc0V2ZW50OmZ1bmN0aW9uKGEpe3JldHVybiBhfSxwcm9jZXNzQmluZGluZzpmdW5jdGlvbihnLGEpe2lmKHRoaXMuY2hlY2tNb2RpZmllcnMoZyxhKSl7dmFyIGg9YS5nZXRLZXkoKSxrPWcuZm58fGcuaGFuZGxlcixsPWcuc2NvcGV8fHRoaXMsaj1nLmtleUNvZGUsYj1nLmRlZmF1bHRFdmVudEFjdGlvbixjLGUsZD1uZXcgRXh0LkV2ZW50T2JqZWN0SW1wbChhKTtmb3IoYz0wLGU9ai5sZW5ndGg7YzxlOysrYyl7aWYoaD09PWpbY10pe2lmKGsuY2FsbChsLGgsYSkhPT10cnVlJiZiKXtkW2JdKCl9YnJlYWt9fX19LGNoZWNrTW9kaWZpZXJzOmZ1bmN0aW9uKGosZyl7dmFyIGQ9WyJzaGlmdCIsImN0cmwiLCJhbHQiXSxjPTAsYT1kLmxlbmd0aCxoLGI7Zm9yKDtjPGE7KytjKXtiPWRbY107aD1qW2JdO2lmKCEoaD09PXVuZGVmaW5lZHx8KGg9PT1nW2IrIktleSJdKSkpe3JldHVybiBmYWxzZX19cmV0dXJuIHRydWV9LG9uOmZ1bmN0aW9uKGIsZCxjKXt2YXIgaCxhLGUsZztpZihFeHQuaXNPYmplY3QoYikmJiFFeHQuaXNBcnJheShiKSl7aD1iLmtleTthPWIuc2hpZnQ7ZT1iLmN0cmw7Zz1iLmFsdH1lbHNle2g9Yn10aGlzLmFkZEJpbmRpbmcoe2tleTpoLHNoaWZ0OmEsY3RybDplLGFsdDpnLGZuOmQsc2NvcGU6Y30pfSxpc0VuYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbmFibGVkfSxlbmFibGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKCFhLmVuYWJsZWQpe2EudGFyZ2V0Lm9uKGEuZXZlbnROYW1lLGEuaGFuZGxlS2V5RG93bixhKTthLmVuYWJsZWQ9dHJ1ZX19LGRpc2FibGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuZW5hYmxlZCl7YS50YXJnZXQucmVtb3ZlTGlzdGVuZXIoYS5ldmVudE5hbWUsYS5oYW5kbGVLZXlEb3duLGEpO2EuZW5hYmxlZD1mYWxzZX19LHNldERpc2FibGVkOmZ1bmN0aW9uKGEpe2lmKGEpe3RoaXMuZGlzYWJsZSgpfWVsc2V7dGhpcy5lbmFibGUoKX19LGRlc3Ryb3k6ZnVuY3Rpb24oYil7dmFyIGE9dGhpczthLmJpbmRpbmdzPVtdO2EuZGlzYWJsZSgpO2lmKGI9PT10cnVlKXthLnRhcmdldC5pc0NvbXBvbmVudD9hLnRhcmdldC5kZXN0cm95KCk6YS50YXJnZXQucmVtb3ZlKCl9ZGVsZXRlIGEudGFyZ2V0fX0pO0V4dC5kZWZpbmUoIkV4dC51dGlsLktleU5hdiIse2FsdGVybmF0ZUNsYXNzTmFtZToiRXh0LktleU5hdiIscmVxdWlyZXM6WyJFeHQudXRpbC5LZXlNYXAiXSxzdGF0aWNzOntrZXlPcHRpb25zOntsZWZ0OjM3LHJpZ2h0OjM5LHVwOjM4LGRvd246NDAsc3BhY2U6MzIscGFnZVVwOjMzLHBhZ2VEb3duOjM0LGRlbDo0NixiYWNrc3BhY2U6OCxob21lOjM2LGVuZDozNSxlbnRlcjoxMyxlc2M6MjcsdGFiOjl9fSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0yKXtiLmxlZ2FjeUNvbnN0cnVjdG9yLmFwcGx5KGIsYXJndW1lbnRzKTtyZXR1cm59Yi5zZXRDb25maWcoYSl9LGxlZ2FjeUNvbnN0cnVjdG9yOmZ1bmN0aW9uKGIsYSl7dGhpcy5zZXRDb25maWcoRXh0LmFwcGx5KHt0YXJnZXQ6Yn0sYSkpfSxzZXRDb25maWc6ZnVuY3Rpb24oYil7dmFyIGU9dGhpcyxjPXt0YXJnZXQ6Yi50YXJnZXQsZXZlbnROYW1lOmUuZ2V0S2V5RXZlbnQoImZvcmNlS2V5RG93biIgaW4gYj9iLmZvcmNlS2V5RG93bjplLmZvcmNlS2V5RG93bixiLmV2ZW50TmFtZSl9LGcsYSxpLGQsaDtpZihlLm1hcCl7ZS5tYXAuZGVzdHJveSgpfWlmKGIucHJvY2Vzc0V2ZW50KXtjLnByb2Nlc3NFdmVudD1iLnByb2Nlc3NFdmVudDtjLnByb2Nlc3NFdmVudFNjb3BlPWIucHJvY2Vzc0V2ZW50U2NvcGV8fGV9Zz1lLm1hcD1uZXcgRXh0LnV0aWwuS2V5TWFwKGMpO2E9RXh0LnV0aWwuS2V5TmF2LmtleU9wdGlvbnM7aT1iLnNjb3BlfHxlO2ZvcihkIGluIGEpe2lmKGEuaGFzT3duUHJvcGVydHkoZCkpe2lmKGg9YltkXSl7aWYodHlwZW9mIGg9PT0iZnVuY3Rpb24iKXtoPXtoYW5kbGVyOmgsZGVmYXVsdEFjdGlvbjooYi5kZWZhdWx0RXZlbnRBY3Rpb24hPT11bmRlZmluZWQpP2IuZGVmYXVsdEV2ZW50QWN0aW9uOmUuZGVmYXVsdEV2ZW50QWN0aW9ufX1nLmFkZEJpbmRpbmcoe2tleTphW2RdLGhhbmRsZXI6RXh0LkZ1bmN0aW9uLmJpbmQoZS5oYW5kbGVFdmVudCxoLnNjb3BlfHxpLGguaGFuZGxlcnx8aC5mbix0cnVlKSxkZWZhdWx0RXZlbnRBY3Rpb246KGguZGVmYXVsdEV2ZW50QWN0aW9uIT09dW5kZWZpbmVkKT9oLmRlZmF1bHRBY3Rpb246ZS5kZWZhdWx0RXZlbnRBY3Rpb259KX19fWcuZGlzYWJsZSgpO2lmKCFiLmRpc2FibGVkKXtnLmVuYWJsZSgpfX0saGFuZGxlRXZlbnQ6ZnVuY3Rpb24oYyxiLGEpe3JldHVybiBhLmNhbGwodGhpcyxiKX0sZGlzYWJsZWQ6ZmFsc2UsZGVmYXVsdEV2ZW50QWN0aW9uOiJzdG9wRXZlbnQiLGZvcmNlS2V5RG93bjpmYWxzZSxldmVudE5hbWU6ImtleXByZXNzIixkZXN0cm95OmZ1bmN0aW9uKGEpe3RoaXMubWFwLmRlc3Ryb3koYSk7ZGVsZXRlIHRoaXMubWFwfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLm1hcC5lbmFibGUoKTt0aGlzLmRpc2FibGVkPWZhbHNlfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5tYXAuZGlzYWJsZSgpO3RoaXMuZGlzYWJsZWQ9dHJ1ZX0sc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7dGhpcy5tYXAuc2V0RGlzYWJsZWQoYSk7dGhpcy5kaXNhYmxlZD1hfSxnZXRLZXlFdmVudDpmdW5jdGlvbihiLGEpe2lmKGJ8fChFeHQuRXZlbnRNYW5hZ2VyLnVzZUtleURvd24mJiFhKSl7cmV0dXJuImtleWRvd24ifWVsc2V7cmV0dXJuIGF8fHRoaXMuZXZlbnROYW1lfX19KTtFeHQuZGVmaW5lKCJFeHQudXRpbC5UZXh0TWV0cmljcyIse3N0YXRpY3M6e3NoYXJlZDpudWxsLG1lYXN1cmU6ZnVuY3Rpb24oYSxkLGUpe3ZhciBiPXRoaXMsYz1iLnNoYXJlZDtpZighYyl7Yz1iLnNoYXJlZD1uZXcgYihhLGUpfWMuYmluZChhKTtjLnNldEZpeGVkV2lkdGgoZXx8ImF1dG8iKTtyZXR1cm4gYy5nZXRTaXplKGQpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztFeHQuZGVzdHJveShhLnNoYXJlZCk7YS5zaGFyZWQ9bnVsbH19LGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5tZWFzdXJlPUV4dC5nZXRCb2R5KCkuY3JlYXRlQ2hpbGQoe2NsczpFeHQuYmFzZUNTU1ByZWZpeCsidGV4dG1ldHJpY3MifSk7dGhpcy5lbD1FeHQuZ2V0KGEpO2IucG9zaXRpb24oImFic29sdXRlIik7Yi5zZXRMZWZ0VG9wKC0xMDAwLC0xMDAwKTtiLmhpZGUoKTtpZihjKXtiLnNldFdpZHRoKGMpfX0sZ2V0U2l6ZTpmdW5jdGlvbihjKXt2YXIgYj10aGlzLm1lYXN1cmUsYTtiLnVwZGF0ZShjKTthPWIuZ2V0U2l6ZSgpO2IudXBkYXRlKCIiKTtyZXR1cm4gYX0sYmluZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IuZWw9RXh0LmdldChhKTtiLm1lYXN1cmUuc2V0U3R5bGUoYi5lbC5nZXRTdHlsZXMoImZvbnQtc2l6ZSIsImZvbnQtc3R5bGUiLCJmb250LXdlaWdodCIsImZvbnQtZmFtaWx5IiwibGluZS1oZWlnaHQiLCJ0ZXh0LXRyYW5zZm9ybSIsImxldHRlci1zcGFjaW5nIikpfSxzZXRGaXhlZFdpZHRoOmZ1bmN0aW9uKGEpe3RoaXMubWVhc3VyZS5zZXRXaWR0aChhKX0sZ2V0V2lkdGg6ZnVuY3Rpb24oYSl7dGhpcy5tZWFzdXJlLmRvbS5zdHlsZS53aWR0aD0iYXV0byI7cmV0dXJuIHRoaXMuZ2V0U2l6ZShhKS53aWR0aH0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldFNpemUoYSkuaGVpZ2h0fSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLm1lYXN1cmUucmVtb3ZlKCk7ZGVsZXRlIGEuZWw7ZGVsZXRlIGEubWVhc3VyZX19LGZ1bmN0aW9uKCl7RXh0LkVsZW1lbnQuYWRkTWV0aG9kcyh7Z2V0VGV4dFdpZHRoOmZ1bmN0aW9uKGMsYixhKXtyZXR1cm4gRXh0Lk51bWJlci5jb25zdHJhaW4oRXh0LnV0aWwuVGV4dE1ldHJpY3MubWVhc3VyZSh0aGlzLmRvbSxFeHQudmFsdWUoYyx0aGlzLmRvbS5pbm5lckhUTUwsdHJ1ZSkpLndpZHRoLGJ8fDAsYXx8MTAwMDAwMCl9fSl9KTtFeHQuZGVmaW5lKCJFeHQuRWxlbWVudExvYWRlciIse21peGluczp7b2JzZXJ2YWJsZToiRXh0LnV0aWwuT2JzZXJ2YWJsZSJ9LHVzZXM6WyJFeHQuZGF0YS5Db25uZWN0aW9uIiwiRXh0LkFqYXgiXSxzdGF0aWNzOntSZW5kZXJlcjp7SHRtbDpmdW5jdGlvbihhLGIsYyl7YS5nZXRUYXJnZXQoKS51cGRhdGUoYi5yZXNwb25zZVRleHQsYy5zY3JpcHRzPT09dHJ1ZSk7cmV0dXJuIHRydWV9fX0sdXJsOm51bGwscGFyYW1zOm51bGwsYmFzZVBhcmFtczpudWxsLGF1dG9Mb2FkOmZhbHNlLHRhcmdldDpudWxsLGxvYWRNYXNrOmZhbHNlLGFqYXhPcHRpb25zOm51bGwsc2NyaXB0czpmYWxzZSxpc0xvYWRlcjp0cnVlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsYTtiPWJ8fHt9O0V4dC5hcHBseShjLGIpO2Muc2V0VGFyZ2V0KGMudGFyZ2V0KTtjLmFkZEV2ZW50cygiYmVmb3JlbG9hZCIsImV4Y2VwdGlvbiIsImxvYWQiKTtjLm1peGlucy5vYnNlcnZhYmxlLmNvbnN0cnVjdG9yLmNhbGwoYyk7aWYoYy5hdXRvTG9hZCl7YT1jLmF1dG9Mb2FkO2lmKGE9PT10cnVlKXthPXt9fWMubG9hZChhKX19LHNldFRhcmdldDpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2I9RXh0LmdldChiKTtpZihhLnRhcmdldCYmYS50YXJnZXQhPWIpe2EuYWJvcnQoKX1hLnRhcmdldD1ifSxnZXRUYXJnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YXJnZXR8fG51bGx9LGFib3J0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5hY3RpdmU7aWYoYSE9PXVuZGVmaW5lZCl7RXh0LkFqYXguYWJvcnQoYS5yZXF1ZXN0KTtpZihhLm1hc2spe3RoaXMucmVtb3ZlTWFzaygpfWRlbGV0ZSB0aGlzLmFjdGl2ZX19LHJlbW92ZU1hc2s6ZnVuY3Rpb24oKXt0aGlzLnRhcmdldC51bm1hc2soKX0sYWRkTWFzazpmdW5jdGlvbihhKXt0aGlzLnRhcmdldC5tYXNrKGE9PT10cnVlP251bGw6YSl9LGxvYWQ6ZnVuY3Rpb24oaSl7aT1FeHQuYXBwbHkoe30saSk7dmFyIGU9dGhpcyxkPWUudGFyZ2V0LGo9RXh0LmlzRGVmaW5lZChpLmxvYWRNYXNrKT9pLmxvYWRNYXNrOmUubG9hZE1hc2ssYj1FeHQuYXBwbHkoe30saS5wYXJhbXMpLGE9RXh0LmFwcGx5KHt9LGkuYWpheE9wdGlvbnMpLGc9aS5jYWxsYmFja3x8ZS5jYWxsYmFjayxoPWkuc2NvcGV8fGUuc2NvcGV8fGUsYztFeHQuYXBwbHlJZihhLGUuYWpheE9wdGlvbnMpO0V4dC5hcHBseUlmKGksYSk7RXh0LmFwcGx5SWYoYixlLnBhcmFtcyk7RXh0LmFwcGx5KGIsZS5iYXNlUGFyYW1zKTtFeHQuYXBwbHlJZihpLHt1cmw6ZS51cmx9KTtFeHQuYXBwbHkoaSx7c2NvcGU6ZSxwYXJhbXM6YixjYWxsYmFjazplLm9uQ29tcGxldGV9KTtpZihlLmZpcmVFdmVudCgiYmVmb3JlbG9hZCIsZSxpKT09PWZhbHNlKXtyZXR1cm59aWYoail7ZS5hZGRNYXNrKGopfWM9RXh0LkFqYXgucmVxdWVzdChpKTtlLmFjdGl2ZT17cmVxdWVzdDpjLG9wdGlvbnM6aSxtYXNrOmosc2NvcGU6aCxjYWxsYmFjazpnLHN1Y2Nlc3M6aS5zdWNjZXNzfHxlLnN1Y2Nlc3MsZmFpbHVyZTppLmZhaWx1cmV8fGUuZmFpbHVyZSxyZW5kZXJlcjppLnJlbmRlcmVyfHxlLnJlbmRlcmVyLHNjcmlwdHM6RXh0LmlzRGVmaW5lZChpLnNjcmlwdHMpP2kuc2NyaXB0czplLnNjcmlwdHN9O2Uuc2V0T3B0aW9ucyhlLmFjdGl2ZSxpKX0sc2V0T3B0aW9uczpFeHQuZW1wdHlGbixvbkNvbXBsZXRlOmZ1bmN0aW9uKGIsaCxhKXt2YXIgZD10aGlzLGc9ZC5hY3RpdmUsYz1nLnNjb3BlLGU9ZC5nZXRSZW5kZXJlcihnLnJlbmRlcmVyKTtpZihoKXtoPWUuY2FsbChkLGQsYSxnKSE9PWZhbHNlfWlmKGgpe0V4dC5jYWxsYmFjayhnLnN1Y2Nlc3MsYyxbZCxhLGJdKTtkLmZpcmVFdmVudCgibG9hZCIsZCxhLGIpfWVsc2V7RXh0LmNhbGxiYWNrKGcuZmFpbHVyZSxjLFtkLGEsYl0pO2QuZmlyZUV2ZW50KCJleGNlcHRpb24iLGQsYSxiKX1FeHQuY2FsbGJhY2soZy5jYWxsYmFjayxjLFtkLGgsYSxiXSk7aWYoZy5tYXNrKXtkLnJlbW92ZU1hc2soKX1kZWxldGUgZC5hY3RpdmV9LGdldFJlbmRlcmVyOmZ1bmN0aW9uKGEpe2lmKEV4dC5pc0Z1bmN0aW9uKGEpKXtyZXR1cm4gYX1yZXR1cm4gdGhpcy5zdGF0aWNzKCkuUmVuZGVyZXIuSHRtbH0sc3RhcnRBdXRvUmVmcmVzaDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7Yy5zdG9wQXV0b1JlZnJlc2goKTtjLmF1dG9SZWZyZXNoPXNldEludGVydmFsKGZ1bmN0aW9uKCl7Yy5sb2FkKGIpfSxhKX0sc3RvcEF1dG9SZWZyZXNoOmZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbCh0aGlzLmF1dG9SZWZyZXNoKTtkZWxldGUgdGhpcy5hdXRvUmVmcmVzaH0saXNBdXRvUmVmcmVzaGluZzpmdW5jdGlvbigpe3JldHVybiBFeHQuaXNEZWZpbmVkKHRoaXMuYXV0b1JlZnJlc2gpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnN0b3BBdXRvUmVmcmVzaCgpO2RlbGV0ZSBhLnRhcmdldDthLmFib3J0KCk7YS5jbGVhckxpc3RlbmVycygpfX0pO0V4dC5kZWZpbmUoIkV4dC5Db21wb25lbnRMb2FkZXIiLHtleHRlbmQ6IkV4dC5FbGVtZW50TG9hZGVyIixzdGF0aWNzOntSZW5kZXJlcjp7RGF0YTpmdW5jdGlvbihhLGIsZCl7dmFyIGc9dHJ1ZTt0cnl7YS5nZXRUYXJnZXQoKS51cGRhdGUoRXh0LmRlY29kZShiLnJlc3BvbnNlVGV4dCkpfWNhdGNoKGMpe2c9ZmFsc2V9cmV0dXJuIGd9LENvbXBvbmVudDpmdW5jdGlvbihhLGMsaCl7dmFyIGk9dHJ1ZSxnPWEuZ2V0VGFyZ2V0KCksYj1bXTt0cnl7Yj1FeHQuZGVjb2RlKGMucmVzcG9uc2VUZXh0KX1jYXRjaChkKXtpPWZhbHNlfWlmKGkpe2cuc3VzcGVuZExheW91dHMoKTtpZihoLnJlbW92ZUFsbCl7Zy5yZW1vdmVBbGwoKX1nLmFkZChiKTtnLnJlc3VtZUxheW91dHModHJ1ZSl9cmV0dXJuIGl9fX0sdGFyZ2V0Om51bGwsbG9hZE1hc2s6ZmFsc2UscmVuZGVyZXI6Imh0bWwiLHNldFRhcmdldDpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2lmKEV4dC5pc1N0cmluZyhiKSl7Yj1FeHQuZ2V0Q21wKGIpfWlmKGEudGFyZ2V0JiZhLnRhcmdldCE9Yil7YS5hYm9ydCgpfWEudGFyZ2V0PWJ9LHJlbW92ZU1hc2s6ZnVuY3Rpb24oKXt0aGlzLnRhcmdldC5zZXRMb2FkaW5nKGZhbHNlKX0sYWRkTWFzazpmdW5jdGlvbihhKXt0aGlzLnRhcmdldC5zZXRMb2FkaW5nKGEpfSxzZXRPcHRpb25zOmZ1bmN0aW9uKGIsYSl7Yi5yZW1vdmVBbGw9RXh0LmlzRGVmaW5lZChhLnJlbW92ZUFsbCk/YS5yZW1vdmVBbGw6dGhpcy5yZW1vdmVBbGx9LGdldFJlbmRlcmVyOmZ1bmN0aW9uKGIpe2lmKEV4dC5pc0Z1bmN0aW9uKGIpKXtyZXR1cm4gYn12YXIgYT10aGlzLnN0YXRpY3MoKS5SZW5kZXJlcjtzd2l0Y2goYil7Y2FzZSJjb21wb25lbnQiOnJldHVybiBhLkNvbXBvbmVudDtjYXNlImRhdGEiOnJldHVybiBhLkRhdGE7ZGVmYXVsdDpyZXR1cm4gRXh0LkVsZW1lbnRMb2FkZXIuUmVuZGVyZXIuSHRtbH19fSk7RXh0LmRlZmluZSgiRXh0LlhUZW1wbGF0ZUNvbXBpbGVyIix7ZXh0ZW5kOiJFeHQuWFRlbXBsYXRlUGFyc2VyIix1c2VFdmFsOkV4dC5pc0dlY2tvLHVzZUluZGV4OkV4dC5pc0lFNnx8RXh0LmlzSUU3LHVzZUZvcm1hdDp0cnVlLHByb3BOYW1lUmU6L15bXHdcZFwkXSokLyxjb21waWxlOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsYj1jLmdlbmVyYXRlKGEpO3JldHVybiBjLnVzZUV2YWw/Yy5ldmFsVHBsKGIpOihuZXcgRnVuY3Rpb24oIkV4dCIsYikpKEV4dCl9LGdlbmVyYXRlOmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMsYj0idmFyIGZtPUV4dC51dGlsLkZvcm1hdCx0cz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nOyIsYztkLm1heExldmVsPTA7ZC5ib2R5PVsidmFyIGMwPXZhbHVlcywgYTA9IitkLmNyZWF0ZUFycmF5VGVzdCgwKSsiLCBwMD1wYXJlbnQsIG4wPXhjb3VudCwgaTA9eGluZGV4LCB2O1xuIl07aWYoZC5kZWZpbml0aW9ucyl7aWYodHlwZW9mIGQuZGVmaW5pdGlvbnM9PT0ic3RyaW5nIil7ZC5kZWZpbml0aW9ucz1bZC5kZWZpbml0aW9ucyxiXX1lbHNle2QuZGVmaW5pdGlvbnMucHVzaChiKX19ZWxzZXtkLmRlZmluaXRpb25zPVtiXX1kLnN3aXRjaGVzPVtdO2QucGFyc2UoYSk7ZC5kZWZpbml0aW9ucy5wdXNoKChkLnVzZUV2YWw/IiQ9IjoicmV0dXJuIikrIiBmdW5jdGlvbiAoIitkLmZuQXJncysiKSB7IixkLmJvZHkuam9pbigiIiksIn0iKTtjPWQuZGVmaW5pdGlvbnMuam9pbigiXG4iKTtkLmRlZmluaXRpb25zLmxlbmd0aD1kLmJvZHkubGVuZ3RoPWQuc3dpdGNoZXMubGVuZ3RoPTA7ZGVsZXRlIGQuZGVmaW5pdGlvbnM7ZGVsZXRlIGQuYm9keTtkZWxldGUgZC5zd2l0Y2hlcztyZXR1cm4gY30sZG9UZXh0OmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT1iLmJvZHk7Yz1jLnJlcGxhY2UoYi5hcG9zUmUsIlxcJyIpLnJlcGxhY2UoYi5uZXdMaW5lUmUsIlxcbiIpO2lmKGIudXNlSW5kZXgpe2EucHVzaCgib3V0W291dC5sZW5ndGhdPSciLGMsIidcbiIpfWVsc2V7YS5wdXNoKCJvdXQucHVzaCgnIixjLCInKVxuIil9fSxkb0V4cHI6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5ib2R5O2EucHVzaCgiaWYgKCh2PSIrYisiKSE9PXVuZGVmaW5lZCkgb3V0Iik7aWYodGhpcy51c2VJbmRleCl7YS5wdXNoKCJbb3V0Lmxlbmd0aF09disnJ1xuIil9ZWxzZXthLnB1c2goIi5wdXNoKHYrJycpXG4iKX19LGRvVGFnOmZ1bmN0aW9uKGEpe3RoaXMuZG9FeHByKHRoaXMucGFyc2VUYWcoYSkpfSxkb0Vsc2U6ZnVuY3Rpb24oKXt0aGlzLmJvZHkucHVzaCgifSBlbHNlIHtcbiIpfSxkb0V2YWw6ZnVuY3Rpb24oYSl7dGhpcy5ib2R5LnB1c2goYSwiXG4iKX0sZG9JZjpmdW5jdGlvbihiLGMpe3ZhciBhPXRoaXM7aWYoYj09PSIuIil7YS5ib2R5LnB1c2goImlmICh2YWx1ZXMpIHtcbiIpfWVsc2V7aWYoYS5wcm9wTmFtZVJlLnRlc3QoYikpe2EuYm9keS5wdXNoKCJpZiAoIixhLnBhcnNlVGFnKGIpLCIpIHtcbiIpfWVsc2V7YS5ib2R5LnB1c2goImlmICgiLGEuYWRkRm4oYiksYS5jYWxsRm4sIikge1xuIil9fWlmKGMuZXhlYyl7YS5kb0V4ZWMoYy5leGVjKX19LGRvRWxzZUlmOmZ1bmN0aW9uKGIsYyl7dmFyIGE9dGhpcztpZihiPT09Ii4iKXthLmJvZHkucHVzaCgiZWxzZSBpZiAodmFsdWVzKSB7XG4iKX1lbHNle2lmKGEucHJvcE5hbWVSZS50ZXN0KGIpKXthLmJvZHkucHVzaCgifSBlbHNlIGlmICgiLGEucGFyc2VUYWcoYiksIikge1xuIil9ZWxzZXthLmJvZHkucHVzaCgifSBlbHNlIGlmICgiLGEuYWRkRm4oYiksYS5jYWxsRm4sIikge1xuIil9fWlmKGMuZXhlYyl7YS5kb0V4ZWMoYy5leGVjKX19LGRvU3dpdGNoOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7aWYoYj09PSIuIil7YS5ib2R5LnB1c2goInN3aXRjaCAodmFsdWVzKSB7XG4iKX1lbHNle2lmKGEucHJvcE5hbWVSZS50ZXN0KGIpKXthLmJvZHkucHVzaCgic3dpdGNoICgiLGEucGFyc2VUYWcoYiksIikge1xuIil9ZWxzZXthLmJvZHkucHVzaCgic3dpdGNoICgiLGEuYWRkRm4oYiksYS5jYWxsRm4sIikge1xuIil9fWEuc3dpdGNoZXMucHVzaCgwKX0sZG9DYXNlOmZ1bmN0aW9uKGUpe3ZhciBkPXRoaXMsYz1FeHQuaXNBcnJheShlKT9lOltlXSxnPWQuc3dpdGNoZXMubGVuZ3RoLTEsYSxiO2lmKGQuc3dpdGNoZXNbZ10pe2QuYm9keS5wdXNoKCJicmVhaztcbiIpfWVsc2V7ZC5zd2l0Y2hlc1tnXSsrfWZvcihiPTAsZz1jLmxlbmd0aDtiPGc7KytiKXthPWQuaW50UmUuZXhlYyhjW2JdKTtjW2JdPWE/YVsxXTooIiciK2NbYl0ucmVwbGFjZShkLmFwb3NSZSwiXFwnIikrIiciKX1kLmJvZHkucHVzaCgiY2FzZSAiLGMuam9pbigiOiBjYXNlICIpLCI6XG4iKX0sZG9EZWZhdWx0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuc3dpdGNoZXMubGVuZ3RoLTE7aWYoYS5zd2l0Y2hlc1tiXSl7YS5ib2R5LnB1c2goImJyZWFrO1xuIil9ZWxzZXthLnN3aXRjaGVzW2JdKyt9YS5ib2R5LnB1c2goImRlZmF1bHQ6XG4iKX0sZG9FbmQ6ZnVuY3Rpb24oYixkKXt2YXIgYz10aGlzLGE9Yy5sZXZlbC0xO2lmKGI9PSJmb3IiKXtpZihkLmV4ZWMpe2MuZG9FeGVjKGQuZXhlYyl9Yy5ib2R5LnB1c2goIn1cbiIpO2MuYm9keS5wdXNoKCJwYXJlbnQ9cCIsYSwiO3ZhbHVlcz1yIixhKzEsIjt4Y291bnQ9biIsYSwiO3hpbmRleD1pIixhLCJcbiIpfWVsc2V7aWYoYj09ImlmInx8Yj09InN3aXRjaCIpe2MuYm9keS5wdXNoKCJ9XG4iKX19fSxkb0ZvcjpmdW5jdGlvbihnLGkpe3ZhciBlPXRoaXMsZCxiPWUubGV2ZWwsYT1iLTEsYz0icCIrYixoO2lmKGc9PT0iLiIpe2Q9InZhbHVlcyJ9ZWxzZXtpZihlLnByb3BOYW1lUmUudGVzdChnKSl7ZD1lLnBhcnNlVGFnKGcpfWVsc2V7ZD1lLmFkZEZuKGcpK2UuY2FsbEZufX1pZihlLm1heExldmVsPGIpe2UubWF4TGV2ZWw9YjtlLmJvZHkucHVzaCgidmFyICIpfWlmKGc9PSIuIil7aD0iYyIrYn1lbHNle2g9ImEiK2ErIj9jIithKyJbaSIrYSsiXTpwIitifWUuYm9keS5wdXNoKCJpIixiLCI9MCxuIixiLCI9MCxjIixiLCI9IixkLCIsYSIsYiwiPSIsZS5jcmVhdGVBcnJheVRlc3QoYiksIixwIixiLCI9YyIsYSwiLHIiLGIsIj12YWx1ZXM7XG4iLCJwYXJlbnQ9IixoLCJcbiIsImlmIChjIixiLCIpe2lmKGEiLGIsIil7biIsYiwiPWMiLGIsIi5sZW5ndGg7fWVsc2UgaWYgKGMiLGIsIi5pc01peGVkQ29sbGVjdGlvbil7YyIsYiwiPWMiLGIsIi5pdGVtcztuIixiLCI9YyIsYiwiLmxlbmd0aDt9ZWxzZSBpZihjIixiLCIuaXNTdG9yZSl7YyIsYiwiPWMiLGIsIi5kYXRhLml0ZW1zO24iLGIsIj1jIixiLCIubGVuZ3RoO31lbHNle2MiLGIsIj1bYyIsYiwiXTtuIixiLCI9MTt9fVxuIiwiZm9yICh4Y291bnQ9biIsYiwiO2kiLGIsIjxuIitiKyI7KytpIixiLCIpe1xuIiwidmFsdWVzPWMiLGIsIltpIixiLCJdIik7aWYoaS5wcm9wTmFtZSl7ZS5ib2R5LnB1c2goIi4iLGkucHJvcE5hbWUpfWUuYm9keS5wdXNoKCJcbiIsInhpbmRleD1pIixiLCIrMVxuIil9LGNyZWF0ZUFycmF5VGVzdDooImlzQXJyYXkiIGluIEFycmF5KT9mdW5jdGlvbihhKXtyZXR1cm4iQXJyYXkuaXNBcnJheShjIithKyIpIn06ZnVuY3Rpb24oYSl7cmV0dXJuInRzLmNhbGwoYyIrYSsnKT09PSJbb2JqZWN0IEFycmF5XSInfSxkb0V4ZWM6ZnVuY3Rpb24oYyxkKXt2YXIgYj10aGlzLGE9ImYiK2IuZGVmaW5pdGlvbnMubGVuZ3RoO2IuZGVmaW5pdGlvbnMucHVzaCgiZnVuY3Rpb24gIithKyIoIitiLmZuQXJncysiKSB7IiwiIHRyeSB7IHdpdGgodmFsdWVzKSB7IiwiICAiK2MsIiB9fSBjYXRjaChlKSB7IiwifSIsIn0iKTtiLmJvZHkucHVzaChhK2IuY2FsbEZuKyJcbiIpfSxhZGRGbjpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGI9ImYiK2MuZGVmaW5pdGlvbnMubGVuZ3RoO2lmKGE9PT0iLiIpe2MuZGVmaW5pdGlvbnMucHVzaCgiZnVuY3Rpb24gIitiKyIoIitjLmZuQXJncysiKSB7IiwiIHJldHVybiB2YWx1ZXMiLCJ9Iil9ZWxzZXtpZihhPT09Ii4uIil7Yy5kZWZpbml0aW9ucy5wdXNoKCJmdW5jdGlvbiAiK2IrIigiK2MuZm5BcmdzKyIpIHsiLCIgcmV0dXJuIHBhcmVudCIsIn0iKX1lbHNle2MuZGVmaW5pdGlvbnMucHVzaCgiZnVuY3Rpb24gIitiKyIoIitjLmZuQXJncysiKSB7IiwiIHRyeSB7IHdpdGgodmFsdWVzKSB7IiwiICByZXR1cm4oIithKyIpIiwiIH19IGNhdGNoKGUpIHsiLCJ9IiwifSIpfX1yZXR1cm4gYn0scGFyc2VUYWc6ZnVuY3Rpb24oYil7dmFyIGg9dGhpcyxhPWgudGFnUmUuZXhlYyhiKSxlPWFbMV0saT1hWzJdLGQ9YVszXSxnPWFbNF0sYztpZihlPT0iLiIpe2lmKCFoLnZhbGlkVHlwZXMpe2guZGVmaW5pdGlvbnMucHVzaCgidmFyIHZhbGlkVHlwZXM9e3N0cmluZzoxLG51bWJlcjoxLGJvb2xlYW46MX07Iik7aC52YWxpZFR5cGVzPXRydWV9Yz0ndmFsaWRUeXBlc1t0eXBlb2YgdmFsdWVzXSB8fCB0cy5jYWxsKHZhbHVlcykgPT09ICJbb2JqZWN0IERhdGVdIiA/IHZhbHVlcyA6ICIiJ31lbHNle2lmKGU9PSIjIil7Yz0ieGluZGV4In1lbHNle2lmKGUuc3Vic3RyKDAsNyk9PSJwYXJlbnQuIil7Yz1lfWVsc2V7aWYoaXNOYU4oZSkmJmUuaW5kZXhPZigiLSIpPT0tMSYmZS5pbmRleE9mKCIuIikhPS0xKXtjPSJ2YWx1ZXMuIitlfWVsc2V7Yz0idmFsdWVzWyciK2UrIiddIn19fX1pZihnKXtjPSIoIitjK2crIikifWlmKGkmJmgudXNlRm9ybWF0KXtkPWQ/IiwiK2Q6IiI7aWYoaS5zdWJzdHIoMCw1KSE9InRoaXMuIil7aT0iZm0uIitpKyIoIn1lbHNle2krPSIoIn19ZWxzZXtyZXR1cm4gY31yZXR1cm4gaStjK2QrIikifSxldmFsVHBsOmZ1bmN0aW9uKCQpe2V2YWwoJCk7cmV0dXJuICR9LG5ld0xpbmVSZTovXHJcbnxccnxcbi9nLGFwb3NSZTovWyddL2csaW50UmU6L15ccyooXGQrKVxzKiQvLHRhZ1JlOi8oW1x3LVwuXCNdKykoPzpcOihbXHdcLl0qKSg/OlwoKC4qPyk/XCkpPyk/KFxzP1tcK1wtXCpcL11ccz9bXGRcLlwrXC1cKlwvXChcKV0rKT8vfSxmdW5jdGlvbigpe3ZhciBhPXRoaXMucHJvdG90eXBlO2EuZm5BcmdzPSJvdXQsdmFsdWVzLHBhcmVudCx4aW5kZXgseGNvdW50IjthLmNhbGxGbj0iLmNhbGwodGhpcywiK2EuZm5BcmdzKyIpIn0pO0V4dC5kZWZpbmUoIkV4dC5YVGVtcGxhdGUiLHtleHRlbmQ6IkV4dC5UZW1wbGF0ZSIscmVxdWlyZXM6IkV4dC5YVGVtcGxhdGVDb21waWxlciIsYXBwbHk6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYXBwbHlPdXQoYSxbXSkuam9pbigiIil9LGFwcGx5T3V0OmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcyxjO2lmKCFkLmZuKXtjPW5ldyBFeHQuWFRlbXBsYXRlQ29tcGlsZXIoe3VzZUZvcm1hdDpkLmRpc2FibGVGb3JtYXRzIT09dHJ1ZSxkZWZpbml0aW9uczpkLmRlZmluaXRpb25zfSk7ZC5mbj1jLmNvbXBpbGUoZC5odG1sKX10cnl7ZC5mbi5jYWxsKGQsYixhLHt9LDEsMSl9Y2F0Y2goZyl7fXJldHVybiBifSxjb21waWxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHN0YXRpY3M6e2dldFRwbDpmdW5jdGlvbihhLGMpe3ZhciBiPWFbY10sZDtpZihiJiYhYi5pc1RlbXBsYXRlKXtiPUV4dC5DbGFzc01hbmFnZXIuZHluSW5zdGFudGlhdGUoIkV4dC5YVGVtcGxhdGUiLGIpO2lmKGEuaGFzT3duUHJvcGVydHkoYykpe2FbY109Yn1lbHNle2ZvcihkPWEuc2VsZi5wcm90b3R5cGU7ZDtkPWQuc3VwZXJjbGFzcyl7aWYoZC5oYXNPd25Qcm9wZXJ0eShjKSl7ZFtjXT1iO2JyZWFrfX19fXJldHVybiBifHxudWxsfX19KTtFeHQuZGVmaW5lKCJFeHQuYXBwLkNvbnRyb2xsZXIiLHttaXhpbnM6e29ic2VydmFibGU6IkV4dC51dGlsLk9ic2VydmFibGUifSxvbkNsYXNzRXh0ZW5kZWQ6ZnVuY3Rpb24oaixjLGkpe3ZhciBoPUV4dC5nZXRDbGFzc05hbWUoaiksZD1oLm1hdGNoKC9eKC4qKVwuY29udHJvbGxlclwuLyksYixnLGssYSxlO2lmKGQhPT1udWxsKXtiPUV4dC5Mb2FkZXIuZ2V0UHJlZml4KGgpfHxkWzFdO2c9aS5vbkJlZm9yZUNyZWF0ZWQ7az1bXTthPVsibW9kZWwiLCJ2aWV3Iiwic3RvcmUiXTtpLm9uQmVmb3JlQ3JlYXRlZD1mdW5jdGlvbih0LG4pe3ZhciBvLHEsbCxyLG0scCxzO2ZvcihvPTAscT1hLmxlbmd0aDtvPHE7bysrKXtsPWFbb107ZT1iKyIuIitsKyIuIjtyPUV4dC5BcnJheS5mcm9tKG5bbCsicyJdKTtmb3IobT0wLHA9ci5sZW5ndGg7bTxwO20rKyl7cz1yW21dO2lmKHMuaW5kZXhPZigiLiIpIT09LTEmJihFeHQuQ2xhc3NNYW5hZ2VyLmlzQ3JlYXRlZChzKXx8RXh0LkxvYWRlci5pc0FDbGFzc05hbWVXaXRoQUtub3duUHJlZml4KHMpKSl7ay5wdXNoKHMpfWVsc2V7ay5wdXNoKGUrcyl9fX1FeHQucmVxdWlyZShrLEV4dC5GdW5jdGlvbi5wYXNzKGcsYXJndW1lbnRzLHRoaXMpKX19fSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt0aGlzLm1peGlucy5vYnNlcnZhYmxlLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxhKTtFeHQuYXBwbHkodGhpcyxhfHx7fSk7dGhpcy5jcmVhdGVHZXR0ZXJzKCJtb2RlbCIsdGhpcy5tb2RlbHMpO3RoaXMuY3JlYXRlR2V0dGVycygic3RvcmUiLHRoaXMuc3RvcmVzKTt0aGlzLmNyZWF0ZUdldHRlcnMoInZpZXciLHRoaXMudmlld3MpO2lmKHRoaXMucmVmcyl7dGhpcy5yZWYodGhpcy5yZWZzKX19LGluaXQ6ZnVuY3Rpb24oYSl7fSxvbkxhdW5jaDpmdW5jdGlvbihhKXt9LGNyZWF0ZUdldHRlcnM6ZnVuY3Rpb24oZyxqKXtnPUV4dC5TdHJpbmcuY2FwaXRhbGl6ZShnKTt2YXIgZT0wLGE9KGopP2oubGVuZ3RoOjAsaCxiLGMsayxkO2Zvcig7ZTxhO2UrKyl7aD0iZ2V0IjtiPWpbZV07Yz1iLnNwbGl0KCIuIik7ZD1jLmxlbmd0aDtmb3Ioaz0wO2s8ZDtrKyspe2grPUV4dC5TdHJpbmcuY2FwaXRhbGl6ZShjW2tdKX1oKz1nO2lmKCF0aGlzW2hdKXt0aGlzW2hdPUV4dC5GdW5jdGlvbi5wYXNzKHRoaXNbImdldCIrZ10sW2JdLHRoaXMpfXRoaXNbaF0oYil9fSxyZWY6ZnVuY3Rpb24oYSl7YT1FeHQuQXJyYXkuZnJvbShhKTt2YXIgZz10aGlzLGI9MCxlPWEubGVuZ3RoLGgsZCxjO2Zvcig7YjxlO2IrKyl7aD1hW2JdO2Q9aC5yZWY7Yz0iZ2V0IitFeHQuU3RyaW5nLmNhcGl0YWxpemUoZCk7aWYoIWdbY10pe2dbY109RXh0LkZ1bmN0aW9uLnBhc3MoZy5nZXRSZWYsW2QsaF0sZyl9Zy5yZWZlcmVuY2VzPWcucmVmZXJlbmNlc3x8W107Zy5yZWZlcmVuY2VzLnB1c2goZC50b0xvd2VyQ2FzZSgpKX19LGFkZFJlZjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZWYoW2FdKX0sZ2V0UmVmOmZ1bmN0aW9uKGQsZSxhKXt0aGlzLnJlZkNhY2hlPXRoaXMucmVmQ2FjaGV8fHt9O2U9ZXx8e307YT1hfHx7fTtFeHQuYXBwbHkoZSxhKTtpZihlLmZvcmNlQ3JlYXRlKXtyZXR1cm4gRXh0LkNvbXBvbmVudE1hbmFnZXIuY3JlYXRlKGUsImNvbXBvbmVudCIpfXZhciBjPXRoaXMsYj1jLnJlZkNhY2hlW2RdO2lmKCFiKXtjLnJlZkNhY2hlW2RdPWI9RXh0LkNvbXBvbmVudFF1ZXJ5LnF1ZXJ5KGUuc2VsZWN0b3IpWzBdO2lmKCFiJiZlLmF1dG9DcmVhdGUpe2MucmVmQ2FjaGVbZF09Yj1FeHQuQ29tcG9uZW50TWFuYWdlci5jcmVhdGUoZSwiY29tcG9uZW50Iil9aWYoYil7Yi5vbigiYmVmb3JlZGVzdHJveSIsZnVuY3Rpb24oKXtjLnJlZkNhY2hlW2RdPW51bGx9KX19cmV0dXJuIGJ9LGhhc1JlZjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZWZlcmVuY2VzJiZ0aGlzLnJlZmVyZW5jZXMuaW5kZXhPZihhLnRvTG93ZXJDYXNlKCkpIT09LTF9LGNvbnRyb2w6ZnVuY3Rpb24oYSxiKXt0aGlzLmFwcGxpY2F0aW9uLmNvbnRyb2woYSxiLHRoaXMpfSxnZXRDb250cm9sbGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFwcGxpY2F0aW9uLmdldENvbnRyb2xsZXIoYSl9LGdldFN0b3JlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmFwcGxpY2F0aW9uLmdldFN0b3JlKGEpfSxnZXRNb2RlbDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hcHBsaWNhdGlvbi5nZXRNb2RlbChhKX0sZ2V0VmlldzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hcHBsaWNhdGlvbi5nZXRWaWV3KGEpfX0pO0V4dC5kZWZpbmUoIkV4dC5jaGFydC5MYWJlbCIse3JlcXVpcmVzOlsiRXh0LmRyYXcuQ29sb3IiXSxjb2xvclN0cmluZ1JlOi91cmxccypcKFxzKiMoW15cLyldKylccypcKS8sY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLmxhYmVsPUV4dC5hcHBseUlmKGIubGFiZWx8fHt9LHtkaXNwbGF5OiJub25lIixjb2xvcjoiIzAwMCIsZmllbGQ6Im5hbWUiLG1pbk1hcmdpbjo1MCxmb250OiIxMXB4IEhlbHZldGljYSwgc2Fucy1zZXJpZiIsb3JpZW50YXRpb246Imhvcml6b250YWwiLHJlbmRlcmVyOmZ1bmN0aW9uKGMpe3JldHVybiBjfX0pO2lmKGIubGFiZWwuZGlzcGxheSE9PSJub25lIil7Yi5sYWJlbHNHcm91cD1iLmNoYXJ0LnN1cmZhY2UuZ2V0R3JvdXAoYi5zZXJpZXNJZCsiLWxhYmVscyIpfX0scmVuZGVyTGFiZWxzOmZ1bmN0aW9uKCl7dmFyIG89dGhpcyxMPW8uY2hhcnQseD1MLmdyYWRpZW50cyxyPW8uaXRlbXMsSD1MLmFuaW1hdGUsQT1vLmxhYmVsLHU9QS5kaXNwbGF5LHY9QS5jb2xvcixkPVtdLmNvbmNhdChBLmZpZWxkKSxxPW8ubGFiZWxzR3JvdXAsbD0ocXx8MCkmJnEubGVuZ3RoLGI9by5jaGFydC5nZXRDaGFydFN0b3JlKCkscD1iLmdldENvdW50KCksaD0ocnx8MCkmJnIubGVuZ3RoLEQ9aC9wLHo9KHh8fDApJiZ4Lmxlbmd0aCxtPUV4dC5kcmF3LkNvbG9yLEs9W10sbixKLEUsYyx5LEksRyxlLGcsdCx3LEYsTSxzLE4sQyxCLGE7aWYodT09Im5vbmUiKXtyZXR1cm59aWYoaD09MCl7d2hpbGUobC0tKXtLLnB1c2gobCl9fWVsc2V7Zm9yKEo9MCxFPTAsYz0wO0o8cDtKKyspe3k9MDtmb3IoST0wO0k8RDtJKyspe3c9cltFXTtGPXEuZ2V0QXQoYyk7TT1iLmdldEF0KEopO3doaWxlKHRoaXMuX19leGNsdWRlcyYmdGhpcy5fX2V4Y2x1ZGVzW3ldKXt5Kyt9aWYoIXcmJkYpe0YuaGlkZSh0cnVlKTtjKyt9aWYodyYmZFtJXSl7aWYoIUYpe0Y9by5vbkNyZWF0ZUxhYmVsKE0sdyxKLHUsSSx5KX1vLm9uUGxhY2VMYWJlbChGLE0sdyxKLHUsSCxJLHkpO2MrKztpZihBLmNvbnRyYXN0JiZ3LnNwcml0ZSl7cz13LnNwcml0ZTtpZihzLl9lbmRTdHlsZSl7YT1zLl9lbmRTdHlsZS5maWxsfWVsc2V7aWYocy5fdG8pe2E9cy5fdG8uZmlsbH1lbHNle2E9cy5hdHRyLmZpbGx9fWE9YXx8cy5hdHRyLmZpbGw7Tj1tLmZyb21TdHJpbmcoYSk7aWYoYSYmIU4pe2E9YS5tYXRjaChvLmNvbG9yU3RyaW5nUmUpWzFdO2ZvcihHPTA7Rzx6O0crKyl7bj14W0ddO2lmKG4uaWQ9PWEpe3Q9MDtlPTA7Zm9yKGcgaW4gbi5zdG9wcyl7dCsrO2UrPW0uZnJvbVN0cmluZyhuLnN0b3BzW2ddLmNvbG9yKS5nZXRHcmF5c2NhbGUoKX1DPShlL3QpLzI1NTticmVha319fWVsc2V7Qz1OLmdldEdyYXlzY2FsZSgpLzI1NX1pZihGLmlzT3V0c2lkZSl7Qz0xfUI9bS5mcm9tU3RyaW5nKEYuYXR0ci5jb2xvcnx8Ri5hdHRyLmZpbGwpLmdldEhTTCgpO0JbMl09Qz4wLjU/MC4yOjAuODtGLnNldEF0dHJpYnV0ZXMoe2ZpbGw6U3RyaW5nKG0uZnJvbUhTTC5hcHBseSh7fSxCKSl9LHRydWUpfX1FKys7eSsrfX1sPXEubGVuZ3RoO3doaWxlKGw+Yyl7Sy5wdXNoKGMpO2MrK319by5oaWRlTGFiZWxzKEspfSxoaWRlTGFiZWxzOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMubGFiZWxzR3JvdXAsYz0hIWImJmIubGVuZ3RoO2lmKCFhKXtyZXR1cm59aWYoYz09PWZhbHNlKXtjPWEuZ2V0Q291bnQoKTt3aGlsZShjLS0pe2EuZ2V0QXQoYykuaGlkZSh0cnVlKX19ZWxzZXt3aGlsZShjLS0pe2EuZ2V0QXQoYltjXSkuaGlkZSh0cnVlKX19fX0pO0V4dC5kZWZpbmUoIkV4dC5jaGFydC50aGVtZS5UaGVtZSIse3JlcXVpcmVzOlsiRXh0LmRyYXcuQ29sb3IiXSx0aGVtZToiQmFzZSIsdGhlbWVBdHRyczpmYWxzZSxpbml0VGhlbWU6ZnVuY3Rpb24oZSl7dmFyIGQ9dGhpcyxiPUV4dC5jaGFydC50aGVtZSxjLGE7aWYoZSl7ZT1lLnNwbGl0KCI6Iik7Zm9yKGMgaW4gYil7aWYoYz09ZVswXSl7YT1lWzFdPT0iZ3JhZGllbnRzIjtkLnRoZW1lQXR0cnM9bmV3IGJbY10oe3VzZUdyYWRpZW50czphfSk7aWYoYSl7ZC5ncmFkaWVudHM9ZC50aGVtZUF0dHJzLmdyYWRpZW50c31pZihkLnRoZW1lQXR0cnMuYmFja2dyb3VuZCl7ZC5iYWNrZ3JvdW5kPWQudGhlbWVBdHRycy5iYWNrZ3JvdW5kfXJldHVybn19fX19LGZ1bmN0aW9uKCl7KGZ1bmN0aW9uKCl7RXh0LmNoYXJ0LnRoZW1lPWZ1bmN0aW9uKGMsYil7Yz1jfHx7fTt2YXIgbT0wLHA9K25ldyBEYXRlKCksaixhLGsscixzLGcsbyxxLG49W10sZSxoO2lmKGMuYmFzZUNvbG9yKXtlPUV4dC5kcmF3LkNvbG9yLmZyb21TdHJpbmcoYy5iYXNlQ29sb3IpO2g9ZS5nZXRIU0woKVsyXTtpZihoPDAuMTUpe2U9ZS5nZXRMaWdodGVyKDAuMyl9ZWxzZXtpZihoPDAuMyl7ZT1lLmdldExpZ2h0ZXIoMC4xNSl9ZWxzZXtpZihoPjAuODUpe2U9ZS5nZXREYXJrZXIoMC4zKX1lbHNle2lmKGg+MC43KXtlPWUuZ2V0RGFya2VyKDAuMTUpfX19fWMuY29sb3JzPVtlLmdldERhcmtlcigwLjMpLnRvU3RyaW5nKCksZS5nZXREYXJrZXIoMC4xNSkudG9TdHJpbmcoKSxlLnRvU3RyaW5nKCksZS5nZXRMaWdodGVyKDAuMTUpLnRvU3RyaW5nKCksZS5nZXRMaWdodGVyKDAuMykudG9TdHJpbmcoKV07ZGVsZXRlIGMuYmFzZUNvbG9yfWlmKGMuY29sb3JzKXthPWMuY29sb3JzLnNsaWNlKCk7cz1iLm1hcmtlclRoZW1lcztyPWIuc2VyaWVzVGhlbWVzO2o9YS5sZW5ndGg7Yi5jb2xvcnM9YTtmb3IoO208ajttKyspe2s9YVttXTtvPXNbbV18fHt9O2c9clttXXx8e307by5maWxsPWcuZmlsbD1vLnN0cm9rZT1nLnN0cm9rZT1rO3NbbV09bztyW21dPWd9Yi5tYXJrZXJUaGVtZXM9cy5zbGljZSgwLGopO2Iuc2VyaWVzVGhlbWVzPXIuc2xpY2UoMCxqKX1mb3IocSBpbiBiKXtpZihxIGluIGMpe2lmKEV4dC5pc09iamVjdChjW3FdKSYmRXh0LmlzT2JqZWN0KGJbcV0pKXtFeHQuYXBwbHkoYltxXSxjW3FdKX1lbHNle2JbcV09Y1txXX19fWlmKGMudXNlR3JhZGllbnRzKXthPWIuY29sb3JzfHwoZnVuY3Rpb24oKXt2YXIgZD1bXTtmb3IobT0wLHI9Yi5zZXJpZXNUaGVtZXMsaj1yLmxlbmd0aDttPGo7bSsrKXtkLnB1c2goclttXS5maWxsfHxyW21dLnN0cm9rZSl9cmV0dXJuIGR9KCkpO2ZvcihtPTAsaj1hLmxlbmd0aDttPGo7bSsrKXtlPUV4dC5kcmF3LkNvbG9yLmZyb21TdHJpbmcoYVttXSk7aWYoZSl7az1lLmdldERhcmtlcigwLjEpLnRvU3RyaW5nKCk7ZT1lLnRvU3RyaW5nKCk7cT0idGhlbWUtIitlLnN1YnN0cigxKSsiLSIray5zdWJzdHIoMSkrIi0iK3A7bi5wdXNoKHtpZDpxLGFuZ2xlOjQ1LHN0b3BzOnswOntjb2xvcjplLnRvU3RyaW5nKCl9LDEwMDp7Y29sb3I6ay50b1N0cmluZygpfX19KTthW21dPSJ1cmwoIyIrcSsiKSJ9fWIuZ3JhZGllbnRzPW47Yi5jb2xvcnM9YX1FeHQuYXBwbHkodGhpcyxiKX19KCkpfSk7RXh0LmRlZmluZSgiRXh0LmNoYXJ0LnRoZW1lLkJhc2UiLHtyZXF1aXJlczpbIkV4dC5jaGFydC50aGVtZS5UaGVtZSJdLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe0V4dC5jaGFydC50aGVtZS5jYWxsKHRoaXMsYSx7YmFja2dyb3VuZDpmYWxzZSxheGlzOntzdHJva2U6IiM0NDQiLCJzdHJva2Utd2lkdGgiOjF9LGF4aXNMYWJlbFRvcDp7ZmlsbDoiIzQ0NCIsZm9udDoiMTJweCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmIixzcGFjaW5nOjIscGFkZGluZzo1LHJlbmRlcmVyOmZ1bmN0aW9uKGIpe3JldHVybiBifX0sYXhpc0xhYmVsUmlnaHQ6e2ZpbGw6IiM0NDQiLGZvbnQ6IjEycHggQXJpYWwsIEhlbHZldGljYSwgc2Fucy1zZXJpZiIsc3BhY2luZzoyLHBhZGRpbmc6NSxyZW5kZXJlcjpmdW5jdGlvbihiKXtyZXR1cm4gYn19LGF4aXNMYWJlbEJvdHRvbTp7ZmlsbDoiIzQ0NCIsZm9udDoiMTJweCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmIixzcGFjaW5nOjIscGFkZGluZzo1LHJlbmRlcmVyOmZ1bmN0aW9uKGIpe3JldHVybiBifX0sYXhpc0xhYmVsTGVmdDp7ZmlsbDoiIzQ0NCIsZm9udDoiMTJweCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmIixzcGFjaW5nOjIscGFkZGluZzo1LHJlbmRlcmVyOmZ1bmN0aW9uKGIpe3JldHVybiBifX0sYXhpc1RpdGxlVG9wOntmb250OiJib2xkIDE4cHggQXJpYWwiLGZpbGw6IiM0NDQifSxheGlzVGl0bGVSaWdodDp7Zm9udDoiYm9sZCAxOHB4IEFyaWFsIixmaWxsOiIjNDQ0Iixyb3RhdGU6e3g6MCx5OjAsZGVncmVlczoyNzB9fSxheGlzVGl0bGVCb3R0b206e2ZvbnQ6ImJvbGQgMThweCBBcmlhbCIsZmlsbDoiIzQ0NCJ9LGF4aXNUaXRsZUxlZnQ6e2ZvbnQ6ImJvbGQgMThweCBBcmlhbCIsZmlsbDoiIzQ0NCIscm90YXRlOnt4OjAseTowLGRlZ3JlZXM6MjcwfX0sc2VyaWVzOnsic3Ryb2tlLXdpZHRoIjowfSxzZXJpZXNMYWJlbDp7Zm9udDoiMTJweCBBcmlhbCIsZmlsbDoiIzMzMyJ9LG1hcmtlcjp7c3Ryb2tlOiIjNTU1IixyYWRpdXM6MyxzaXplOjN9LGNvbG9yczpbIiM5NGFlMGEiLCIjMTE1ZmE2IiwiI2E2MTEyMCIsIiNmZjg4MDkiLCIjZmZkMTNlIiwiI2E2MTE4NyIsIiMyNGFkOWEiLCIjN2M3NDc0IiwiI2E2NjExMSJdLHNlcmllc1RoZW1lczpbe2ZpbGw6IiMxMTVmYTYifSx7ZmlsbDoiIzk0YWUwYSJ9LHtmaWxsOiIjYTYxMTIwIn0se2ZpbGw6IiNmZjg4MDkifSx7ZmlsbDoiI2ZmZDEzZSJ9LHtmaWxsOiIjYTYxMTg3In0se2ZpbGw6IiMyNGFkOWEifSx7ZmlsbDoiIzdjNzQ3NCJ9LHtmaWxsOiIjMTE1ZmE2In0se2ZpbGw6IiM5NGFlMGEifSx7ZmlsbDoiI2E2MTEyMCJ9LHtmaWxsOiIjZmY4ODA5In0se2ZpbGw6IiNmZmQxM2UifSx7ZmlsbDoiI2E2MTE4NyJ9LHtmaWxsOiIjMjRhZDlhIn0se2ZpbGw6IiM3Yzc0NzQifSx7ZmlsbDoiI2E2NjExMSJ9XSxtYXJrZXJUaGVtZXM6W3tmaWxsOiIjMTE1ZmE2Iix0eXBlOiJjaXJjbGUifSx7ZmlsbDoiIzk0YWUwYSIsdHlwZToiY3Jvc3MifSx7ZmlsbDoiIzExNWZhNiIsdHlwZToicGx1cyJ9LHtmaWxsOiIjOTRhZTBhIix0eXBlOiJjaXJjbGUifSx7ZmlsbDoiI2E2MTEyMCIsdHlwZToiY3Jvc3MifV19KX19LGZ1bmN0aW9uKCl7dmFyIGM9WyIjYjFkYTVhIiwiIzRjZTBlNyIsIiNlODRiNjciLCIjZGE1YWJkIiwiIzRkN2ZlNiIsIiNmZWM5MzUiXSxrPVsiR3JlZW4iLCJTa3kiLCJSZWQiLCJQdXJwbGUiLCJCbHVlIiwiWWVsbG93Il0saD0wLGc9MCxiPWMubGVuZ3RoLGE9RXh0LmNoYXJ0LnRoZW1lLGQ9W1siI2YwYTUwYSIsIiNjMjAwMjQiLCIjMjA0NGJhIiwiIzgxMDA2NSIsIiM3ZWFlMjkiXSxbIiM2ZDk4MjQiLCIjODcxNDZlIiwiIzJhOTE5NiIsIiNkMzkwMDYiLCIjMWU0MGFjIl0sWyIjZmJiYzI5IiwiI2NlMmU0ZSIsIiM3ZTAwNjIiLCIjMTU4YjkwIiwiIzU3ODgwZSJdLFsiI2VmNTc3MyIsIiNmY2JkMmEiLCIjNGY3NzBkIiwiIzFkM2VhYSIsIiM5YjAwMWYiXSxbIiM3ZWFlMjkiLCIjZmRiZTJhIiwiIzkxMDAxOSIsIiMyN2I0YmMiLCIjZDc0ZGJjIl0sWyIjNDRkY2UxIiwiIzBiMjU5MiIsIiM5OTZlMDUiLCIjN2ZiMzI1IiwiI2I4MjFhMSJdXSxlPWQubGVuZ3RoO2Zvcig7aDxiO2grKyl7YVtrW2hdXT0oZnVuY3Rpb24oaSl7cmV0dXJuIEV4dC5leHRlbmQoYS5CYXNlLHtjb25zdHJ1Y3RvcjpmdW5jdGlvbihqKXthLkJhc2UucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcyxFeHQuYXBwbHkoe2Jhc2VDb2xvcjppfSxqKSl9fSl9KGNbaF0pKX1mb3IoaD0wO2g8ZTtoKyspe2FbIkNhdGVnb3J5IisoaCsxKV09KGZ1bmN0aW9uKGkpe3JldHVybiBFeHQuZXh0ZW5kKGEuQmFzZSx7Y29uc3RydWN0b3I6ZnVuY3Rpb24oail7YS5CYXNlLnByb3RvdHlwZS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsRXh0LmFwcGx5KHtjb2xvcnM6aX0saikpfX0pfShkW2hdKSl9fSk7RXh0LmRlZmluZSgiRXh0LmRhdGEuQmF0Y2giLHttaXhpbnM6e29ic2VydmFibGU6IkV4dC51dGlsLk9ic2VydmFibGUifSxhdXRvU3RhcnQ6ZmFsc2UscGF1c2VPbkV4Y2VwdGlvbjpmYWxzZSxjdXJyZW50Oi0xLHRvdGFsOjAsaXNSdW5uaW5nOmZhbHNlLGlzQ29tcGxldGU6ZmFsc2UsaGFzRXhjZXB0aW9uOmZhbHNlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5taXhpbnMub2JzZXJ2YWJsZS5jb25zdHJ1Y3Rvci5jYWxsKGIsYSk7Yi5vcGVyYXRpb25zPVtdO2IuZXhjZXB0aW9ucz1bXX0sYWRkOmZ1bmN0aW9uKGEpe3RoaXMudG90YWwrKzthLnNldEJhdGNoKHRoaXMpO3RoaXMub3BlcmF0aW9ucy5wdXNoKGEpO3JldHVybiB0aGlzfSxzdGFydDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKGIuaXNSdW5uaW5nKXtyZXR1cm4gYn1iLmV4Y2VwdGlvbnMubGVuZ3RoPTA7Yi5oYXNFeGNlcHRpb249ZmFsc2U7Yi5pc1J1bm5pbmc9dHJ1ZTtyZXR1cm4gYi5ydW5PcGVyYXRpb24oRXh0LmlzRGVmaW5lZChhKT9hOmIuY3VycmVudCsxKX0scmV0cnk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGFydCh0aGlzLmN1cnJlbnQpfSxydW5OZXh0T3BlcmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucnVuT3BlcmF0aW9uKHRoaXMuY3VycmVudCsxKX0scGF1c2U6ZnVuY3Rpb24oKXt0aGlzLmlzUnVubmluZz1mYWxzZTtyZXR1cm4gdGhpc30scnVuT3BlcmF0aW9uOmZ1bmN0aW9uKGQpe3ZhciBlPXRoaXMsYz1lLm9wZXJhdGlvbnMsYj1jW2RdLGE7aWYoYj09PXVuZGVmaW5lZCl7ZS5pc1J1bm5pbmc9ZmFsc2U7ZS5pc0NvbXBsZXRlPXRydWU7ZS5maXJlRXZlbnQoImNvbXBsZXRlIixlLGNbYy5sZW5ndGgtMV0pfWVsc2V7ZS5jdXJyZW50PWQ7YT1mdW5jdGlvbihnKXt2YXIgaD1nLmhhc0V4Y2VwdGlvbigpO2lmKGgpe2UuaGFzRXhjZXB0aW9uPXRydWU7ZS5leGNlcHRpb25zLnB1c2goZyk7ZS5maXJlRXZlbnQoImV4Y2VwdGlvbiIsZSxnKX1pZihoJiZlLnBhdXNlT25FeGNlcHRpb24pe2UucGF1c2UoKX1lbHNle2cuc2V0Q29tcGxldGVkKCk7ZS5maXJlRXZlbnQoIm9wZXJhdGlvbmNvbXBsZXRlIixlLGcpO2UucnVuTmV4dE9wZXJhdGlvbigpfX07Yi5zZXRTdGFydGVkKCk7ZS5wcm94eVtiLmFjdGlvbl0oYixhLGUpfXJldHVybiBlfX0pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLkNvbm5lY3Rpb24iLHttaXhpbnM6e29ic2VydmFibGU6IkV4dC51dGlsLk9ic2VydmFibGUifSxzdGF0aWNzOntyZXF1ZXN0SWQ6MH0sdXJsOm51bGwsYXN5bmM6dHJ1ZSxtZXRob2Q6bnVsbCx1c2VybmFtZToiIixwYXNzd29yZDoiIixkaXNhYmxlQ2FjaGluZzp0cnVlLHdpdGhDcmVkZW50aWFsczpmYWxzZSxjb3JzOmZhbHNlLGRpc2FibGVDYWNoaW5nUGFyYW06Il9kYyIsdGltZW91dDozMDAwMCx1c2VEZWZhdWx0SGVhZGVyOnRydWUsZGVmYXVsdFBvc3RIZWFkZXI6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDsgY2hhcnNldD1VVEYtOCIsdXNlRGVmYXVsdFhockhlYWRlcjp0cnVlLGRlZmF1bHRYaHJIZWFkZXI6IlhNTEh0dHBSZXF1ZXN0Iixjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXthPWF8fHt9O0V4dC5hcHBseSh0aGlzLGEpO3RoaXMucmVxdWVzdHM9e307dGhpcy5taXhpbnMub2JzZXJ2YWJsZS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpfSxyZXF1ZXN0OmZ1bmN0aW9uKGspe2s9a3x8e307dmFyIGc9dGhpcyxqPWsuc2NvcGV8fHdpbmRvdyxlPWsudXNlcm5hbWV8fGcudXNlcm5hbWUsaD1rLnBhc3N3b3JkfHxnLnBhc3N3b3JkfHwiIixiLGMsZCxhLGk7aWYoZy5maXJlRXZlbnQoImJlZm9yZXJlcXVlc3QiLGcsaykhPT1mYWxzZSl7Yz1nLnNldE9wdGlvbnMoayxqKTtpZihnLmlzRm9ybVVwbG9hZChrKSl7Zy51cGxvYWQoay5mb3JtLGMudXJsLGMuZGF0YSxrKTtyZXR1cm4gbnVsbH1pZihrLmF1dG9BYm9ydHx8Zy5hdXRvQWJvcnQpe2cuYWJvcnQoKX1iPWsuYXN5bmMhPT1mYWxzZT8oay5hc3luY3x8Zy5hc3luYyk6ZmFsc2U7aT1nLm9wZW5SZXF1ZXN0KGssYyxiLGUsaCk7YT1nLnNldHVwSGVhZGVycyhpLGssYy5kYXRhLGMucGFyYW1zKTtkPXtpZDorK0V4dC5kYXRhLkNvbm5lY3Rpb24ucmVxdWVzdElkLHhocjppLGhlYWRlcnM6YSxvcHRpb25zOmssYXN5bmM6Yix0aW1lb3V0OnNldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnRpbWVkb3V0PXRydWU7Zy5hYm9ydChkKX0say50aW1lb3V0fHxnLnRpbWVvdXQpfTtnLnJlcXVlc3RzW2QuaWRdPWQ7Zy5sYXRlc3RJZD1kLmlkO2lmKGIpe2kub25yZWFkeXN0YXRlY2hhbmdlPUV4dC5GdW5jdGlvbi5iaW5kKGcub25TdGF0ZUNoYW5nZSxnLFtkXSl9aS5zZW5kKGMuZGF0YSk7aWYoIWIpe3JldHVybiBnLm9uQ29tcGxldGUoZCl9cmV0dXJuIGR9ZWxzZXtFeHQuY2FsbGJhY2soay5jYWxsYmFjayxrLnNjb3BlLFtrLHVuZGVmaW5lZCx1bmRlZmluZWRdKTtyZXR1cm4gbnVsbH19LHVwbG9hZDpmdW5jdGlvbihiLGcscyxlKXtiPUV4dC5nZXREb20oYik7ZT1lfHx7fTt2YXIgbj1FeHQuaWQoKSxsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpLGM9W10sZD0ibXVsdGlwYXJ0L2Zvcm0tZGF0YSIscj17dGFyZ2V0OmIudGFyZ2V0LG1ldGhvZDpiLm1ldGhvZCxlbmNvZGluZzpiLmVuY29kaW5nLGVuY3R5cGU6Yi5lbmN0eXBlLGFjdGlvbjpiLmFjdGlvbn0sYT1mdW5jdGlvbihoLHUpe2k9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTtFeHQuZmx5KGkpLnNldCh7dHlwZToiaGlkZGVuIix2YWx1ZTp1LG5hbWU6aH0pO2IuYXBwZW5kQ2hpbGQoaSk7Yy5wdXNoKGkpfSxpLGsscCx0LG8saixtLHE7RXh0LmZseShsKS5zZXQoe2lkOm4sbmFtZTpuLGNsczpFeHQuYmFzZUNTU1ByZWZpeCsiaGlkZS1kaXNwbGF5IixzcmM6RXh0LlNTTF9TRUNVUkVfVVJMfSk7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsKTtpZihkb2N1bWVudC5mcmFtZXMpe2RvY3VtZW50LmZyYW1lc1tuXS5uYW1lPW59RXh0LmZseShiKS5zZXQoe3RhcmdldDpuLG1ldGhvZDoiUE9TVCIsZW5jdHlwZTpkLGVuY29kaW5nOmQsYWN0aW9uOmd8fHIuYWN0aW9ufSk7aWYocyl7az1FeHQuT2JqZWN0LmZyb21RdWVyeVN0cmluZyhzKXx8e307Zm9yKHQgaW4gayl7aWYoay5oYXNPd25Qcm9wZXJ0eSh0KSl7cD1rW3RdO2lmKEV4dC5pc0FycmF5KHApKXtvPXAubGVuZ3RoO2ZvcihqPTA7ajxvO2orKyl7YSh0LHBbal0pfX1lbHNle2EodCxwKX19fX1FeHQuZmx5KGwpLm9uKCJsb2FkIixFeHQuRnVuY3Rpb24uYmluZCh0aGlzLm9uVXBsb2FkQ29tcGxldGUsdGhpcyxbbCxlXSksbnVsbCx7c2luZ2xlOnRydWV9KTtiLnN1Ym1pdCgpO0V4dC5mbHkoYikuc2V0KHIpO209Yy5sZW5ndGg7Zm9yKHE9MDtxPG07cSsrKXtFeHQucmVtb3ZlTm9kZShjW3FdKX19LG9uVXBsb2FkQ29tcGxldGU6ZnVuY3Rpb24oaSxiKXt2YXIgYz10aGlzLGE9e3Jlc3BvbnNlVGV4dDoiIixyZXNwb25zZVhNTDpudWxsfSxoLGc7dHJ5e2g9aS5jb250ZW50V2luZG93LmRvY3VtZW50fHxpLmNvbnRlbnREb2N1bWVudHx8d2luZG93LmZyYW1lc1tpLmlkXS5kb2N1bWVudDtpZihoKXtpZihoLmJvZHkpe2lmKC90ZXh0YXJlYS9pLnRlc3QoKGc9aC5ib2R5LmZpcnN0Q2hpbGR8fHt9KS50YWdOYW1lKSl7YS5yZXNwb25zZVRleHQ9Zy52YWx1ZX1lbHNle2EucmVzcG9uc2VUZXh0PWguYm9keS5pbm5lckhUTUx9fWEucmVzcG9uc2VYTUw9aC5YTUxEb2N1bWVudHx8aH19Y2F0Y2goZCl7fWMuZmlyZUV2ZW50KCJyZXF1ZXN0Y29tcGxldGUiLGMsYSxiKTtFeHQuY2FsbGJhY2soYi5zdWNjZXNzLGIuc2NvcGUsW2EsYl0pO0V4dC5jYWxsYmFjayhiLmNhbGxiYWNrLGIuc2NvcGUsW2IsdHJ1ZSxhXSk7c2V0VGltZW91dChmdW5jdGlvbigpe0V4dC5yZW1vdmVOb2RlKGkpfSwxMDApfSxpc0Zvcm1VcGxvYWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRGb3JtKGEpO2lmKGIpe3JldHVybihhLmlzVXBsb2FkfHwoL211bHRpcGFydFwvZm9ybS1kYXRhL2kpLnRlc3QoYi5nZXRBdHRyaWJ1dGUoImVuY3R5cGUiKSkpfXJldHVybiBmYWxzZX0sZ2V0Rm9ybTpmdW5jdGlvbihhKXtyZXR1cm4gRXh0LmdldERvbShhLmZvcm0pfHxudWxsfSxzZXRPcHRpb25zOmZ1bmN0aW9uKGwsayl7dmFyIGk9dGhpcyxlPWwucGFyYW1zfHx7fSxoPWkuZXh0cmFQYXJhbXMsZD1sLnVybFBhcmFtcyxjPWwudXJsfHxpLnVybCxqPWwuanNvbkRhdGEsYixhLGc7aWYoRXh0LmlzRnVuY3Rpb24oZSkpe2U9ZS5jYWxsKGssbCl9aWYoRXh0LmlzRnVuY3Rpb24oYykpe2M9Yy5jYWxsKGssbCl9Yz10aGlzLnNldHVwVXJsKGwsYyk7Zz1sLnJhd0RhdGF8fGwueG1sRGF0YXx8anx8bnVsbDtpZihqJiYhRXh0LmlzUHJpbWl0aXZlKGopKXtnPUV4dC5lbmNvZGUoZyl9aWYoRXh0LmlzT2JqZWN0KGUpKXtlPUV4dC5PYmplY3QudG9RdWVyeVN0cmluZyhlKX1pZihFeHQuaXNPYmplY3QoaCkpe2g9RXh0Lk9iamVjdC50b1F1ZXJ5U3RyaW5nKGgpfWU9ZSsoKGgpPygoZSk/IiYiOiIiKStoOiIiKTtkPUV4dC5pc09iamVjdChkKT9FeHQuT2JqZWN0LnRvUXVlcnlTdHJpbmcoZCk6ZDtlPXRoaXMuc2V0dXBQYXJhbXMobCxlKTtiPShsLm1ldGhvZHx8aS5tZXRob2R8fCgoZXx8Zyk/IlBPU1QiOiJHRVQiKSkudG9VcHBlckNhc2UoKTt0aGlzLnNldHVwTWV0aG9kKGwsYik7YT1sLmRpc2FibGVDYWNoaW5nIT09ZmFsc2U/KGwuZGlzYWJsZUNhY2hpbmd8fGkuZGlzYWJsZUNhY2hpbmcpOmZhbHNlO2lmKGI9PT0iR0VUIiYmYSl7Yz1FeHQudXJsQXBwZW5kKGMsKGwuZGlzYWJsZUNhY2hpbmdQYXJhbXx8aS5kaXNhYmxlQ2FjaGluZ1BhcmFtKSsiPSIrKG5ldyBEYXRlKCkuZ2V0VGltZSgpKSl9aWYoKGI9PSJHRVQifHxnKSYmZSl7Yz1FeHQudXJsQXBwZW5kKGMsZSk7ZT1udWxsfWlmKGQpe2M9RXh0LnVybEFwcGVuZChjLGQpfXJldHVybnt1cmw6YyxtZXRob2Q6YixkYXRhOmd8fGV8fG51bGx9fSxzZXR1cFVybDpmdW5jdGlvbihiLGEpe3ZhciBjPXRoaXMuZ2V0Rm9ybShiKTtpZihjKXthPWF8fGMuYWN0aW9ufXJldHVybiBhfSxzZXR1cFBhcmFtczpmdW5jdGlvbihhLGQpe3ZhciBjPXRoaXMuZ2V0Rm9ybShhKSxiO2lmKGMmJiF0aGlzLmlzRm9ybVVwbG9hZChhKSl7Yj1FeHQuRWxlbWVudC5zZXJpYWxpemVGb3JtKGMpO2Q9ZD8oZCsiJiIrYik6Yn1yZXR1cm4gZH0sc2V0dXBNZXRob2Q6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLmlzRm9ybVVwbG9hZChhKSl7cmV0dXJuIlBPU1QifXJldHVybiBifSxzZXR1cEhlYWRlcnM6ZnVuY3Rpb24obSxuLGQsYyl7dmFyIGk9dGhpcyxiPUV4dC5hcHBseSh7fSxuLmhlYWRlcnN8fHt9LGkuZGVmYXVsdEhlYWRlcnN8fHt9KSxsPWkuZGVmYXVsdFBvc3RIZWFkZXIsaj1uLmpzb25EYXRhLGE9bi54bWxEYXRhLGssZztpZighYlsiQ29udGVudC1UeXBlIl0mJihkfHxjKSl7aWYoZCl7aWYobi5yYXdEYXRhKXtsPSJ0ZXh0L3BsYWluIn1lbHNle2lmKGEmJkV4dC5pc0RlZmluZWQoYSkpe2w9InRleHQveG1sIn1lbHNle2lmKGomJkV4dC5pc0RlZmluZWQoaikpe2w9ImFwcGxpY2F0aW9uL2pzb24ifX19fWJbIkNvbnRlbnQtVHlwZSJdPWx9aWYoaS51c2VEZWZhdWx0WGhySGVhZGVyJiYhYlsiWC1SZXF1ZXN0ZWQtV2l0aCJdKXtiWyJYLVJlcXVlc3RlZC1XaXRoIl09aS5kZWZhdWx0WGhySGVhZGVyfXRyeXtmb3IoayBpbiBiKXtpZihiLmhhc093blByb3BlcnR5KGspKXtnPWJba107bS5zZXRSZXF1ZXN0SGVhZGVyKGssZyl9fX1jYXRjaChoKXtpLmZpcmVFdmVudCgiZXhjZXB0aW9uIixrLGcpfXJldHVybiBifSxuZXdSZXF1ZXN0OmZ1bmN0aW9uKGEpe3ZhciBiO2lmKChhLmNvcnN8fHRoaXMuY29ycykmJkV4dC5pc0lFJiZFeHQuaWVWZXJzaW9uPj04KXtiPW5ldyBYRG9tYWluUmVxdWVzdCgpfWVsc2V7Yj10aGlzLmdldFhockluc3RhbmNlKCl9cmV0dXJuIGJ9LG9wZW5SZXF1ZXN0OmZ1bmN0aW9uKGMsYSxkLGcsYil7dmFyIGU9dGhpcy5uZXdSZXF1ZXN0KGMpO2lmKGcpe2Uub3BlbihhLm1ldGhvZCxhLnVybCxkLGcsYil9ZWxzZXtlLm9wZW4oYS5tZXRob2QsYS51cmwsZCl9aWYoYy53aXRoQ3JlZGVudGlhbHN8fHRoaXMud2l0aENyZWRlbnRpYWxzKXtlLndpdGhDcmVkZW50aWFscz10cnVlfXJldHVybiBlfSxnZXRYaHJJbnN0YW5jZTooZnVuY3Rpb24oKXt2YXIgYj1bZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0KCl9LGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCJNU1hNTDIuWE1MSFRUUC4zLjAiKX0sZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEFjdGl2ZVhPYmplY3QoIk1TWE1MMi5YTUxIVFRQIil9LGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MSFRUUCIpfV0sYz0wLGE9Yi5sZW5ndGgsZztmb3IoO2M8YTsrK2Mpe3RyeXtnPWJbY107ZygpO2JyZWFrfWNhdGNoKGQpe319cmV0dXJuIGd9KCkpLGlzTG9hZGluZzpmdW5jdGlvbihhKXtpZighYSl7YT10aGlzLmdldExhdGVzdCgpfWlmKCEoYSYmYS54aHIpKXtyZXR1cm4gZmFsc2V9dmFyIGI9YS54aHIucmVhZHlTdGF0ZTtyZXR1cm4gIShiPT09MHx8Yj09NCl9LGFib3J0OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMsZDtpZighYil7Yj1hLmdldExhdGVzdCgpfWlmKGImJmEuaXNMb2FkaW5nKGIpKXtkPWIueGhyO3RyeXtkLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsfWNhdGNoKGMpe2Q9RXh0LmVtcHR5Rm59ZC5hYm9ydCgpO2EuY2xlYXJUaW1lb3V0KGIpO2lmKCFiLnRpbWVkb3V0KXtiLmFib3J0ZWQ9dHJ1ZX1hLm9uQ29tcGxldGUoYik7YS5jbGVhbnVwKGIpfX0sYWJvcnRBbGw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnJlcXVlc3RzLGE7Zm9yKGEgaW4gYil7aWYoYi5oYXNPd25Qcm9wZXJ0eShhKSl7dGhpcy5hYm9ydChiW2FdKX19fSxnZXRMYXRlc3Q6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmxhdGVzdElkLGE7aWYoYil7YT10aGlzLnJlcXVlc3RzW2JdfXJldHVybiBhfHxudWxsfSxvblN0YXRlQ2hhbmdlOmZ1bmN0aW9uKGEpe2lmKGEueGhyLnJlYWR5U3RhdGU9PTQpe3RoaXMuY2xlYXJUaW1lb3V0KGEpO3RoaXMub25Db21wbGV0ZShhKTt0aGlzLmNsZWFudXAoYSl9fSxjbGVhclRpbWVvdXQ6ZnVuY3Rpb24oYSl7Y2xlYXJUaW1lb3V0KGEudGltZW91dCk7ZGVsZXRlIGEudGltZW91dH0sY2xlYW51cDpmdW5jdGlvbihhKXthLnhocj1udWxsO2RlbGV0ZSBhLnhocn0sb25Db21wbGV0ZTpmdW5jdGlvbihnKXt2YXIgZD10aGlzLGM9Zy5vcHRpb25zLGEsaSxiO3RyeXthPWQucGFyc2VTdGF0dXMoZy54aHIuc3RhdHVzKX1jYXRjaChoKXthPXtzdWNjZXNzOmZhbHNlLGlzRXhjZXB0aW9uOmZhbHNlfX1pPWEuc3VjY2VzcztpZihpKXtiPWQuY3JlYXRlUmVzcG9uc2UoZyk7ZC5maXJlRXZlbnQoInJlcXVlc3Rjb21wbGV0ZSIsZCxiLGMpO0V4dC5jYWxsYmFjayhjLnN1Y2Nlc3MsYy5zY29wZSxbYixjXSl9ZWxzZXtpZihhLmlzRXhjZXB0aW9ufHxnLmFib3J0ZWR8fGcudGltZWRvdXQpe2I9ZC5jcmVhdGVFeGNlcHRpb24oZyl9ZWxzZXtiPWQuY3JlYXRlUmVzcG9uc2UoZyl9ZC5maXJlRXZlbnQoInJlcXVlc3RleGNlcHRpb24iLGQsYixjKTtFeHQuY2FsbGJhY2soYy5mYWlsdXJlLGMuc2NvcGUsW2IsY10pfUV4dC5jYWxsYmFjayhjLmNhbGxiYWNrLGMuc2NvcGUsW2MsaSxiXSk7ZGVsZXRlIGQucmVxdWVzdHNbZy5pZF07cmV0dXJuIGJ9LHBhcnNlU3RhdHVzOmZ1bmN0aW9uKGEpe2E9YT09MTIyMz8yMDQ6YTt2YXIgYz0oYT49MjAwJiZhPDMwMCl8fGE9PTMwNCxiPWZhbHNlO2lmKCFjKXtzd2l0Y2goYSl7Y2FzZSAxMjAwMjpjYXNlIDEyMDI5OmNhc2UgMTIwMzA6Y2FzZSAxMjAzMTpjYXNlIDEyMTUyOmNhc2UgMTMwMzA6Yj10cnVlO2JyZWFrfX1yZXR1cm57c3VjY2VzczpjLGlzRXhjZXB0aW9uOmJ9fSxjcmVhdGVSZXNwb25zZTpmdW5jdGlvbihjKXt2YXIgaT1jLnhocixhPXt9LGo9aS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKS5yZXBsYWNlKC9cclxuL2csIlxuIikuc3BsaXQoIlxuIiksZD1qLmxlbmd0aCxrLGUsaCxnLGI7d2hpbGUoZC0tKXtrPWpbZF07ZT1rLmluZGV4T2YoIjoiKTtpZihlPj0wKXtoPWsuc3Vic3RyKDAsZSkudG9Mb3dlckNhc2UoKTtpZihrLmNoYXJBdChlKzEpPT0iICIpeysrZX1hW2hdPWsuc3Vic3RyKGUrMSl9fWMueGhyPW51bGw7ZGVsZXRlIGMueGhyO2I9e3JlcXVlc3Q6YyxyZXF1ZXN0SWQ6Yy5pZCxzdGF0dXM6aS5zdGF0dXMsc3RhdHVzVGV4dDppLnN0YXR1c1RleHQsZ2V0UmVzcG9uc2VIZWFkZXI6ZnVuY3Rpb24obCl7cmV0dXJuIGFbbC50b0xvd2VyQ2FzZSgpXX0sZ2V0QWxsUmVzcG9uc2VIZWFkZXJzOmZ1bmN0aW9uKCl7cmV0dXJuIGF9LHJlc3BvbnNlVGV4dDppLnJlc3BvbnNlVGV4dCxyZXNwb25zZVhNTDppLnJlc3BvbnNlWE1MfTtpPW51bGw7cmV0dXJuIGJ9LGNyZWF0ZUV4Y2VwdGlvbjpmdW5jdGlvbihhKXtyZXR1cm57cmVxdWVzdDphLHJlcXVlc3RJZDphLmlkLHN0YXR1czphLmFib3J0ZWQ/LTE6MCxzdGF0dXNUZXh0OmEuYWJvcnRlZD8idHJhbnNhY3Rpb24gYWJvcnRlZCI6ImNvbW11bmljYXRpb24gZmFpbHVyZSIsYWJvcnRlZDphLmFib3J0ZWQsdGltZWRvdXQ6YS50aW1lZG91dH19fSk7RXh0LmRlZmluZSgiRXh0LkFqYXgiLHtleHRlbmQ6IkV4dC5kYXRhLkNvbm5lY3Rpb24iLHNpbmdsZXRvbjp0cnVlLGF1dG9BYm9ydDpmYWxzZX0pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLkZpZWxkIix7cmVxdWlyZXM6WyJFeHQuZGF0YS5UeXBlcyIsIkV4dC5kYXRhLlNvcnRUeXBlcyJdLGFsaWFzOiJkYXRhLmZpZWxkIixjb25zdHJ1Y3RvcjpmdW5jdGlvbihiKXtpZihFeHQuaXNTdHJpbmcoYikpe2I9e25hbWU6Yn19RXh0LmFwcGx5KHRoaXMsYik7dmFyIGM9RXh0LmRhdGEuVHlwZXMsYT10aGlzLnNvcnRUeXBlO2lmKHRoaXMudHlwZSl7aWYoRXh0LmlzU3RyaW5nKHRoaXMudHlwZSkpe3RoaXMudHlwZT1jW3RoaXMudHlwZS50b1VwcGVyQ2FzZSgpXXx8Yy5BVVRPfX1lbHNle3RoaXMudHlwZT1jLkFVVE99aWYoRXh0LmlzU3RyaW5nKGEpKXt0aGlzLnNvcnRUeXBlPUV4dC5kYXRhLlNvcnRUeXBlc1thXX1lbHNle2lmKEV4dC5pc0VtcHR5KGEpKXt0aGlzLnNvcnRUeXBlPXRoaXMudHlwZS5zb3J0VHlwZX19aWYoIWIuaGFzT3duUHJvcGVydHkoImNvbnZlcnQiKSl7dGhpcy5jb252ZXJ0PXRoaXMudHlwZS5jb252ZXJ0fWVsc2V7aWYoIXRoaXMuY29udmVydCYmIWIuaGFzT3duUHJvcGVydHkoImRlZmF1bHRWYWx1ZSIpKXt0aGlzLmRlZmF1bHRWYWx1ZT10aGlzLnR5cGUuY29udmVydCh0aGlzLmRlZmF1bHRWYWx1ZSl9fX0sZGF0ZUZvcm1hdDpudWxsLHVzZU51bGw6ZmFsc2UsZGVmYXVsdFZhbHVlOiIiLG1hcHBpbmc6bnVsbCxzb3J0VHlwZTpudWxsLHNvcnREaXI6IkFTQyIsYWxsb3dCbGFuazp0cnVlLHBlcnNpc3Q6dHJ1ZX0pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLk5vZGVJbnRlcmZhY2UiLHtyZXF1aXJlczpbIkV4dC5kYXRhLkZpZWxkIl0sc3RhdGljczp7ZGVjb3JhdGU6ZnVuY3Rpb24oYil7dmFyIGEsYztpZih0eXBlb2YgYj09InN0cmluZyIpe2I9RXh0Lk1vZGVsTWFuYWdlci5nZXRNb2RlbChiKX1lbHNle2lmKGIuaXNNb2RlbCl7Yj1FeHQuTW9kZWxNYW5hZ2VyLmdldE1vZGVsKGIubW9kZWxOYW1lKX19aWYoYi5wcm90b3R5cGUuaXNOb2RlKXtyZXR1cm59YT1iLnByb3RvdHlwZS5pZFByb3BlcnR5O2M9Yi5wcm90b3R5cGUuZmllbGRzLmdldChhKS50eXBlLnR5cGU7Yi5vdmVycmlkZSh0aGlzLmdldFByb3RvdHlwZUJvZHkoKSk7dGhpcy5hcHBseUZpZWxkcyhiLFt7bmFtZToicGFyZW50SWQiLHR5cGU6YyxkZWZhdWx0VmFsdWU6bnVsbH0se25hbWU6ImluZGV4Iix0eXBlOiJpbnQiLGRlZmF1bHRWYWx1ZTpudWxsLHBlcnNpc3Q6ZmFsc2V9LHtuYW1lOiJkZXB0aCIsdHlwZToiaW50IixkZWZhdWx0VmFsdWU6MCxwZXJzaXN0OmZhbHNlfSx7bmFtZToiZXhwYW5kZWQiLHR5cGU6ImJvb2wiLGRlZmF1bHRWYWx1ZTpmYWxzZSxwZXJzaXN0OmZhbHNlfSx7bmFtZToiZXhwYW5kYWJsZSIsdHlwZToiYm9vbCIsZGVmYXVsdFZhbHVlOnRydWUscGVyc2lzdDpmYWxzZX0se25hbWU6ImNoZWNrZWQiLHR5cGU6ImF1dG8iLGRlZmF1bHRWYWx1ZTpudWxsLHBlcnNpc3Q6ZmFsc2V9LHtuYW1lOiJsZWFmIix0eXBlOiJib29sIixkZWZhdWx0VmFsdWU6ZmFsc2V9LHtuYW1lOiJjbHMiLHR5cGU6InN0cmluZyIsZGVmYXVsdFZhbHVlOm51bGwscGVyc2lzdDpmYWxzZX0se25hbWU6Imljb25DbHMiLHR5cGU6InN0cmluZyIsZGVmYXVsdFZhbHVlOm51bGwscGVyc2lzdDpmYWxzZX0se25hbWU6Imljb24iLHR5cGU6InN0cmluZyIsZGVmYXVsdFZhbHVlOm51bGwscGVyc2lzdDpmYWxzZX0se25hbWU6InJvb3QiLHR5cGU6ImJvb2xlYW4iLGRlZmF1bHRWYWx1ZTpmYWxzZSxwZXJzaXN0OmZhbHNlfSx7bmFtZToiaXNMYXN0Iix0eXBlOiJib29sZWFuIixkZWZhdWx0VmFsdWU6ZmFsc2UscGVyc2lzdDpmYWxzZX0se25hbWU6ImlzRmlyc3QiLHR5cGU6ImJvb2xlYW4iLGRlZmF1bHRWYWx1ZTpmYWxzZSxwZXJzaXN0OmZhbHNlfSx7bmFtZToiYWxsb3dEcm9wIix0eXBlOiJib29sZWFuIixkZWZhdWx0VmFsdWU6dHJ1ZSxwZXJzaXN0OmZhbHNlfSx7bmFtZToiYWxsb3dEcmFnIix0eXBlOiJib29sZWFuIixkZWZhdWx0VmFsdWU6dHJ1ZSxwZXJzaXN0OmZhbHNlfSx7bmFtZToibG9hZGVkIix0eXBlOiJib29sZWFuIixkZWZhdWx0VmFsdWU6ZmFsc2UscGVyc2lzdDpmYWxzZX0se25hbWU6ImxvYWRpbmciLHR5cGU6ImJvb2xlYW4iLGRlZmF1bHRWYWx1ZTpmYWxzZSxwZXJzaXN0OmZhbHNlfSx7bmFtZToiaHJlZiIsdHlwZToic3RyaW5nIixkZWZhdWx0VmFsdWU6bnVsbCxwZXJzaXN0OmZhbHNlfSx7bmFtZToiaHJlZlRhcmdldCIsdHlwZToic3RyaW5nIixkZWZhdWx0VmFsdWU6bnVsbCxwZXJzaXN0OmZhbHNlfSx7bmFtZToicXRpcCIsdHlwZToic3RyaW5nIixkZWZhdWx0VmFsdWU6bnVsbCxwZXJzaXN0OmZhbHNlfSx7bmFtZToicXRpdGxlIix0eXBlOiJzdHJpbmciLGRlZmF1bHRWYWx1ZTpudWxsLHBlcnNpc3Q6ZmFsc2V9LHtuYW1lOiJjaGlsZHJlbiIsdHlwZToiYXV0byIsZGVmYXVsdFZhbHVlOm51bGwscGVyc2lzdDpmYWxzZX1dKX0sYXBwbHlGaWVsZHM6ZnVuY3Rpb24oYyxiKXt2YXIgaD1jLnByb3RvdHlwZSxhPWguZmllbGRzLGc9YS5rZXlzLGU9Yi5sZW5ndGgsaixkO2ZvcihkPTA7ZDxlO2QrKyl7aj1iW2RdO2lmKCFFeHQuQXJyYXkuY29udGFpbnMoZyxqLm5hbWUpKXthLmFkZChuZXcgRXh0LmRhdGEuRmllbGQoaikpfX19LGdldFByb3RvdHlwZUJvZHk6ZnVuY3Rpb24oKXtyZXR1cm57aXNOb2RlOnRydWUsY29uc3RydWN0b3I6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO0V4dC5hcHBseUlmKGEse2ZpcnN0Q2hpbGQ6bnVsbCxsYXN0Q2hpbGQ6bnVsbCxwYXJlbnROb2RlOm51bGwscHJldmlvdXNTaWJsaW5nOm51bGwsbmV4dFNpYmxpbmc6bnVsbCxjaGlsZE5vZGVzOltdfSk7YS5lbmFibGVCdWJibGUoWyJhcHBlbmQiLCJyZW1vdmUiLCJtb3ZlIiwiaW5zZXJ0IiwiYmVmb3JlYXBwZW5kIiwiYmVmb3JlcmVtb3ZlIiwiYmVmb3JlbW92ZSIsImJlZm9yZWluc2VydCIsImV4cGFuZCIsImNvbGxhcHNlIiwiYmVmb3JlZXhwYW5kIiwiYmVmb3JlY29sbGFwc2UiLCJzb3J0Il0pO3JldHVybiBhfSxjcmVhdGVOb2RlOmZ1bmN0aW9uKGEpe2lmKEV4dC5pc09iamVjdChhKSYmIWEuaXNNb2RlbCl7YT1FeHQuTW9kZWxNYW5hZ2VyLmNyZWF0ZShhLHRoaXMubW9kZWxOYW1lKX1yZXR1cm4gYX0saXNMZWFmOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJsZWFmIik9PT10cnVlfSxzZXRGaXJzdENoaWxkOmZ1bmN0aW9uKGEpe3RoaXMuZmlyc3RDaGlsZD1hfSxzZXRMYXN0Q2hpbGQ6ZnVuY3Rpb24oYSl7dGhpcy5sYXN0Q2hpbGQ9YX0sdXBkYXRlSW5mbzpmdW5jdGlvbihnKXt2YXIgbT10aGlzLGI9bS5pc1Jvb3QoKSxrPW0ucGFyZW50Tm9kZSxkPSgha3x8Yj90cnVlOmsuZmlyc3RDaGlsZD09PW0pLGo9KCFrfHxiP3RydWU6ay5sYXN0Q2hpbGQ9PT1tKSxoPTAsbj1tLGE9bS5jaGlsZE5vZGVzLGw9YS5sZW5ndGgsZT0wLGM9bS5waGFudG9tO3doaWxlKG4ucGFyZW50Tm9kZSl7KytoO249bi5wYXJlbnROb2RlfW0uYmVnaW5FZGl0KCk7bS5zZXQoe2lzRmlyc3Q6ZCxpc0xhc3Q6aixkZXB0aDpoLGluZGV4Oms/ay5pbmRleE9mKG0pOjAscGFyZW50SWQ6az9rLmdldElkKCk6bnVsbH0pO20uZW5kRWRpdCh0cnVlKTtpZihnKXttLmNvbW1pdCgpO20ucGhhbnRvbT1jfWZvcihlPTA7ZTxsO2UrKyl7YVtlXS51cGRhdGVJbmZvKGcpfX0saXNMYXN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJpc0xhc3QiKX0saXNGaXJzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiaXNGaXJzdCIpfSxoYXNDaGlsZE5vZGVzOmZ1bmN0aW9uKCl7cmV0dXJuICF0aGlzLmlzTGVhZigpJiZ0aGlzLmNoaWxkTm9kZXMubGVuZ3RoPjB9LGlzRXhwYW5kYWJsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5nZXQoImV4cGFuZGFibGUiKSl7cmV0dXJuICEoYS5pc0xlYWYoKXx8KGEuaXNMb2FkZWQoKSYmIWEuaGFzQ2hpbGROb2RlcygpKSl9cmV0dXJuIGZhbHNlfSxhcHBlbmRDaGlsZDpmdW5jdGlvbihiLGssYyl7dmFyIGg9dGhpcyxkLGcsZSxqLGE7aWYoRXh0LmlzQXJyYXkoYikpe2guY2FsbFN0b3JlKCJzdXNwZW5kQXV0b1N5bmMiKTtmb3IoZD0wLGc9Yi5sZW5ndGgtMTtkPGc7ZCsrKXtoLmFwcGVuZENoaWxkKGJbZF0pfWguY2FsbFN0b3JlKCJyZXN1bWVBdXRvU3luYyIpO2guYXBwZW5kQ2hpbGQoYltnXSl9ZWxzZXtiPWguY3JlYXRlTm9kZShiKTtpZihrIT09dHJ1ZSYmKCFoLmhhc0xpc3RlbmVycy5iZWZvcmVhcHBlbmR8fGguZmlyZUV2ZW50KCJiZWZvcmVhcHBlbmQiLGgsYik9PT1mYWxzZSkpe3JldHVybiBmYWxzZX1lPWguY2hpbGROb2Rlcy5sZW5ndGg7aj1iLnBhcmVudE5vZGU7aWYoail7aWYoayE9PXRydWUmJighaC5oYXNMaXN0ZW5lcnMuYmVmb3JlcmVtb3ZlfHxiLmZpcmVFdmVudCgiYmVmb3JlbW92ZSIsYixqLGgsZSk9PT1mYWxzZSkpe3JldHVybiBmYWxzZX1qLnJlbW92ZUNoaWxkKGIsZmFsc2UsZmFsc2UsdHJ1ZSl9ZT1oLmNoaWxkTm9kZXMubGVuZ3RoO2lmKGU9PT0wKXtoLnNldEZpcnN0Q2hpbGQoYil9aC5jaGlsZE5vZGVzLnB1c2goYik7Yi5wYXJlbnROb2RlPWg7Yi5uZXh0U2libGluZz1udWxsO2guc2V0TGFzdENoaWxkKGIpO2E9aC5jaGlsZE5vZGVzW2UtMV07aWYoYSl7Yi5wcmV2aW91c1NpYmxpbmc9YTthLm5leHRTaWJsaW5nPWI7YS51cGRhdGVJbmZvKGMpfWVsc2V7Yi5wcmV2aW91c1NpYmxpbmc9bnVsbH1iLnVwZGF0ZUluZm8oYyk7aWYoIWguaXNMb2FkZWQoKSl7aC5zZXQoImxvYWRlZCIsdHJ1ZSl9ZWxzZXtpZihoLmNoaWxkTm9kZXMubGVuZ3RoPT09MSl7aC5hZnRlckVkaXQoW10pfX1pZighYi5pc0xlYWYoKSYmYi5waGFudG9tKXtiLnNldCgibG9hZGVkIix0cnVlKX1pZihrIT09dHJ1ZSl7aC5maXJlRXZlbnQoImFwcGVuZCIsaCxiLGUpO2lmKGope2IuZmlyZUV2ZW50KCJtb3ZlIixiLGosaCxlKX19cmV0dXJuIGJ9fSxnZXRCdWJibGVUYXJnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnROb2RlfSxyZW1vdmVDaGlsZDpmdW5jdGlvbihqLGUsZyxiKXt2YXIgaD10aGlzLGM9aC5pbmRleE9mKGopLGQsYTtpZihjPT0tMXx8KGchPT10cnVlJiYoIWguaGFzTGlzdGVuZXJzLmJlZm9yZXJlbW92ZXx8aC5maXJlRXZlbnQoImJlZm9yZXJlbW92ZSIsaCxqLCEhYik9PT1mYWxzZSkpKXtyZXR1cm4gZmFsc2V9RXh0LkFycmF5LmVyYXNlKGguY2hpbGROb2RlcyxjLDEpO2lmKGguZmlyc3RDaGlsZD09ail7aC5zZXRGaXJzdENoaWxkKGoubmV4dFNpYmxpbmcpfWlmKGgubGFzdENoaWxkPT1qKXtoLnNldExhc3RDaGlsZChqLnByZXZpb3VzU2libGluZyl9aWYoai5wcmV2aW91c1NpYmxpbmcpe2oucHJldmlvdXNTaWJsaW5nLm5leHRTaWJsaW5nPWoubmV4dFNpYmxpbmd9aWYoai5uZXh0U2libGluZyl7ai5uZXh0U2libGluZy5wcmV2aW91c1NpYmxpbmc9ai5wcmV2aW91c1NpYmxpbmd9Zm9yKGQ9Yz4wP2MtMTowLGE9aC5jaGlsZE5vZGVzLmxlbmd0aDtkPGE7ZCsrKXtoLmNoaWxkTm9kZXNbZF0udXBkYXRlSW5mbygpfWlmKCFoLmNoaWxkTm9kZXMubGVuZ3RoKXtoLnNldCgibG9hZGVkIixoLmlzTG9hZGVkKCkpfWlmKGchPT10cnVlKXtpZihoLmhhc0xpc3RlbmVycy5yZW1vdmUpe2guZmlyZUV2ZW50KCJyZW1vdmUiLGgsaiwhIWIpfX1pZihlKXtqLmRlc3Ryb3kodHJ1ZSl9ZWxzZXtqLmNsZWFyKCl9cmV0dXJuIGp9LGNvcHk6ZnVuY3Rpb24oZCxjKXt2YXIgZz10aGlzLGI9Zy5jYWxsT3ZlcnJpZGRlbihhcmd1bWVudHMpLGE9Zy5jaGlsZE5vZGVzP2cuY2hpbGROb2Rlcy5sZW5ndGg6MCxlO2lmKGMpe2ZvcihlPTA7ZTxhO2UrKyl7Yi5hcHBlbmRDaGlsZChnLmNoaWxkTm9kZXNbZV0uY29weSh0cnVlKSl9fXJldHVybiBifSxjbGVhcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IucGFyZW50Tm9kZT1iLnByZXZpb3VzU2libGluZz1iLm5leHRTaWJsaW5nPW51bGw7aWYoYSl7Yi5maXJzdENoaWxkPWIubGFzdENoaWxkPW51bGx9fSxkZXN0cm95OmZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMsYz1kLmRlc3Ryb3lPcHRpb25zLGE9ZC5jaGlsZE5vZGVzLGU9YS5sZW5ndGgsZztpZihiPT09dHJ1ZSl7ZC5jbGVhcih0cnVlKTtmb3IoZz0wO2c8ZTtnKyspe2FbZ10uZGVzdHJveSh0cnVlKX1kLmNoaWxkTm9kZXM9bnVsbDtkZWxldGUgZC5kZXN0cm95T3B0aW9ucztkLmNhbGxPdmVycmlkZGVuKFtjXSl9ZWxzZXtkLmRlc3Ryb3lPcHRpb25zPWI7ZC5yZW1vdmUodHJ1ZSl9fSxpbnNlcnRCZWZvcmU6ZnVuY3Rpb24oYixnLGwpe3ZhciBoPXRoaXMsZT1oLmluZGV4T2YoZyksaj1iLnBhcmVudE5vZGUsaz1lLGMsYSxkO2lmKCFnKXtyZXR1cm4gaC5hcHBlbmRDaGlsZChiKX1pZihiPT1nKXtyZXR1cm4gZmFsc2V9Yj1oLmNyZWF0ZU5vZGUoYik7aWYobCE9PXRydWUmJighaC5oYXNMaXN0ZW5lcnMuYmVmb3JlaW5zZXJ0fHxoLmZpcmVFdmVudCgiYmVmb3JlaW5zZXJ0IixoLGIsZyk9PT1mYWxzZSkpe3JldHVybiBmYWxzZX1pZihqPT1oJiZoLmluZGV4T2YoYik8ZSl7ay0tfWlmKGope2lmKGwhPT10cnVlJiYoIWguaGFzTGlzdGVuZXJzLmJlZm9yZXJlbW92ZXx8Yi5maXJlRXZlbnQoImJlZm9yZW1vdmUiLGIsaixoLGUsZyk9PT1mYWxzZSkpe3JldHVybiBmYWxzZX1qLnJlbW92ZUNoaWxkKGIsZmFsc2UsZmFsc2UsdHJ1ZSl9aWYoaz09PTApe2guc2V0Rmlyc3RDaGlsZChiKX1FeHQuQXJyYXkuc3BsaWNlKGguY2hpbGROb2RlcyxrLDAsYik7Yi5wYXJlbnROb2RlPWg7Yi5uZXh0U2libGluZz1nO2cucHJldmlvdXNTaWJsaW5nPWI7YT1oLmNoaWxkTm9kZXNbay0xXTtpZihhKXtiLnByZXZpb3VzU2libGluZz1hO2EubmV4dFNpYmxpbmc9Yn1lbHNle2IucHJldmlvdXNTaWJsaW5nPW51bGx9Zm9yKGQ9az4wP2stMTowLGM9aC5jaGlsZE5vZGVzLmxlbmd0aDtkPGM7ZCsrKXtoLmNoaWxkTm9kZXNbZF0udXBkYXRlSW5mbygpfWlmKCFoLmlzTG9hZGVkKCkpe2guc2V0KCJsb2FkZWQiLHRydWUpfWVsc2V7aWYoaC5jaGlsZE5vZGVzLmxlbmd0aD09PTEpe2guc2V0KCJsb2FkZWQiLGguaXNMb2FkZWQoKSl9fWlmKCFiLmlzTGVhZigpJiZiLnBoYW50b20pe2Iuc2V0KCJsb2FkZWQiLHRydWUpfWlmKGwhPT10cnVlKXtpZihoLmhhc0xpc3RlbmVycy5pbnNlcnQpe2guZmlyZUV2ZW50KCJpbnNlcnQiLGgsYixnKX1pZihqJiZoLmhhc0xpc3RlbmVycy5tb3ZlKXtiLmZpcmVFdmVudCgibW92ZSIsYixqLGgsayxnKX19cmV0dXJuIGJ9LGluc2VydENoaWxkOmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5jaGlsZE5vZGVzW2FdO2lmKGIpe3JldHVybiB0aGlzLmluc2VydEJlZm9yZShjLGIpfWVsc2V7cmV0dXJuIHRoaXMuYXBwZW5kQ2hpbGQoYyl9fSxyZW1vdmU6ZnVuY3Rpb24oYixjKXt2YXIgYT10aGlzLnBhcmVudE5vZGU7aWYoYSl7YS5yZW1vdmVDaGlsZCh0aGlzLGIsYyl9cmV0dXJuIHRoaXN9LHJlbW92ZUFsbDpmdW5jdGlvbihhLGIpe3ZhciBkPXRoaXMuY2hpbGROb2RlcyxjO3doaWxlKChjPWRbMF0pKXt0aGlzLnJlbW92ZUNoaWxkKGMsYSxiKX1yZXR1cm4gdGhpc30sZ2V0Q2hpbGRBdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jaGlsZE5vZGVzW2FdfSxyZXBsYWNlQ2hpbGQ6ZnVuY3Rpb24oYSxkLGMpe3ZhciBiPWQ/ZC5uZXh0U2libGluZzpudWxsO3RoaXMucmVtb3ZlQ2hpbGQoZCxmYWxzZSxjKTt0aGlzLmluc2VydEJlZm9yZShhLGIsYyk7cmV0dXJuIGR9LGluZGV4T2Y6ZnVuY3Rpb24oYSl7cmV0dXJuIEV4dC5BcnJheS5pbmRleE9mKHRoaXMuY2hpbGROb2RlcyxhKX0saW5kZXhPZklkOmZ1bmN0aW9uKGQpe3ZhciBjPXRoaXMuY2hpbGROb2RlcyxhPWMubGVuZ3RoLGI9MDtmb3IoO2I8YTsrK2Ipe2lmKGNbYl0uZ2V0SWQoKT09PWQpe3JldHVybiBifX1yZXR1cm4gLTF9LGdldFBhdGg6ZnVuY3Rpb24oZCxjKXtkPWR8fHRoaXMuaWRQcm9wZXJ0eTtjPWN8fCIvIjt2YXIgYj1bdGhpcy5nZXQoZCldLGE9dGhpcy5wYXJlbnROb2RlO3doaWxlKGEpe2IudW5zaGlmdChhLmdldChkKSk7YT1hLnBhcmVudE5vZGV9cmV0dXJuIGMrYi5qb2luKGMpfSxnZXREZXB0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCgiZGVwdGgiKX0sYnViYmxlOmZ1bmN0aW9uKGMsYixhKXt2YXIgZD10aGlzO3doaWxlKGQpe2lmKGMuYXBwbHkoYnx8ZCxhfHxbZF0pPT09ZmFsc2Upe2JyZWFrfWQ9ZC5wYXJlbnROb2RlfX0sY2FzY2FkZTpmdW5jdGlvbigpe2lmKEV4dC5pc0RlZmluZWQoRXh0Lmdsb2JhbC5jb25zb2xlKSl7RXh0Lmdsb2JhbC5jb25zb2xlLndhcm4oIkV4dC5kYXRhLk5vZGU6IGNhc2NhZGUgaGFzIGJlZW4gZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBjYXNjYWRlQnkgaW5zdGVhZC4iKX1yZXR1cm4gdGhpcy5jYXNjYWRlQnkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxjYXNjYWRlQnk6ZnVuY3Rpb24oZCxjLGEpe2lmKGQuYXBwbHkoY3x8dGhpcyxhfHxbdGhpc10pIT09ZmFsc2Upe3ZhciBnPXRoaXMuY2hpbGROb2RlcyxlPWcubGVuZ3RoLGI7Zm9yKGI9MDtiPGU7YisrKXtnW2JdLmNhc2NhZGVCeShkLGMsYSl9fX0sZWFjaENoaWxkOmZ1bmN0aW9uKGQsYyxhKXt2YXIgZz10aGlzLmNoaWxkTm9kZXMsZT1nLmxlbmd0aCxiO2ZvcihiPTA7YjxlO2IrKyl7aWYoZC5hcHBseShjfHx0aGlzLGF8fFtnW2JdXSk9PT1mYWxzZSl7YnJlYWt9fX0sZmluZENoaWxkOmZ1bmN0aW9uKGIsYyxhKXtyZXR1cm4gdGhpcy5maW5kQ2hpbGRCeShmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldChiKT09Y30sbnVsbCxhKX0sZmluZENoaWxkQnk6ZnVuY3Rpb24oaCxnLGIpe3ZhciBlPXRoaXMuY2hpbGROb2RlcyxhPWUubGVuZ3RoLGQ9MCxqLGM7Zm9yKDtkPGE7ZCsrKXtqPWVbZF07aWYoaC5jYWxsKGd8fGosaik9PT10cnVlKXtyZXR1cm4gan1lbHNle2lmKGIpe2M9ai5maW5kQ2hpbGRCeShoLGcsYik7aWYoYyE9PW51bGwpe3JldHVybiBjfX19fXJldHVybiBudWxsfSxjb250YWluczpmdW5jdGlvbihhKXtyZXR1cm4gYS5pc0FuY2VzdG9yKHRoaXMpfSxpc0FuY2VzdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucGFyZW50Tm9kZTt3aGlsZShiKXtpZihiPT1hKXtyZXR1cm4gdHJ1ZX1iPWIucGFyZW50Tm9kZX1yZXR1cm4gZmFsc2V9LHNvcnQ6ZnVuY3Rpb24oZyxiLGEpe3ZhciBkPXRoaXMuY2hpbGROb2RlcyxlPWQubGVuZ3RoLGMsaDtpZihlPjApe0V4dC5BcnJheS5zb3J0KGQsZyk7Zm9yKGM9MDtjPGU7YysrKXtoPWRbY107aC5wcmV2aW91c1NpYmxpbmc9ZFtjLTFdO2gubmV4dFNpYmxpbmc9ZFtjKzFdO2lmKGM9PT0wKXt0aGlzLnNldEZpcnN0Q2hpbGQoaCl9aWYoYz09ZS0xKXt0aGlzLnNldExhc3RDaGlsZChoKX1oLnVwZGF0ZUluZm8oKTtpZihiJiYhaC5pc0xlYWYoKSl7aC5zb3J0KGcsdHJ1ZSx0cnVlKX19aWYoYSE9PXRydWUpe3RoaXMuZmlyZUV2ZW50KCJzb3J0Iix0aGlzLGQpfX19LGlzRXhwYW5kZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXQoImV4cGFuZGVkIil9LGlzTG9hZGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJsb2FkZWQiKX0saXNMb2FkaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0KCJsb2FkaW5nIil9LGlzUm9vdDpmdW5jdGlvbigpe3JldHVybiAhdGhpcy5wYXJlbnROb2RlfSxpc1Zpc2libGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnBhcmVudE5vZGU7d2hpbGUoYSl7aWYoIWEuaXNFeHBhbmRlZCgpKXtyZXR1cm4gZmFsc2V9YT1hLnBhcmVudE5vZGV9cmV0dXJuIHRydWV9LGV4cGFuZDpmdW5jdGlvbihhLGQsYil7dmFyIGM9dGhpcztpZighYy5pc0xlYWYoKSl7aWYoYy5pc0xvYWRpbmcoKSl7Yy5vbigiZXhwYW5kIixmdW5jdGlvbigpe2MuZXhwYW5kKGEsZCxiKX0sYyx7c2luZ2xlOnRydWV9KX1lbHNle2lmKCFjLmlzRXhwYW5kZWQoKSl7Yy5maXJlRXZlbnQoImJlZm9yZWV4cGFuZCIsYyxmdW5jdGlvbigpe2Muc2V0KCJleHBhbmRlZCIsdHJ1ZSk7aWYoYy5oYXNMaXN0ZW5lcnMuZXhwYW5kKXtjLmZpcmVFdmVudCgiZXhwYW5kIixjLGMuY2hpbGROb2RlcyxmYWxzZSl9aWYoYSl7Yy5leHBhbmRDaGlsZHJlbih0cnVlLGQsYil9ZWxzZXtFeHQuY2FsbGJhY2soZCxifHxjLFtjLmNoaWxkTm9kZXNdKX19LGMpfWVsc2V7aWYoYSl7Yy5leHBhbmRDaGlsZHJlbih0cnVlLGQsYil9ZWxzZXtFeHQuY2FsbGJhY2soZCxifHxjLFtjLmNoaWxkTm9kZXNdKX19fX1lbHNle0V4dC5jYWxsYmFjayhkLGJ8fGMpfX0sZXhwYW5kQ2hpbGRyZW46ZnVuY3Rpb24oZCxqLGspe3ZhciBoPXRoaXMsZT0wLGE9aC5jaGlsZE5vZGVzLGc9YS5sZW5ndGgsYyxiPTA7Zm9yKDtlPGc7KytlKXtjPWFbZV07aWYoIWMuaXNMZWFmKCkmJiFjLmlzRXhwYW5kZWQoKSl7YisrO2FbZV0uZXhwYW5kKGQsZnVuY3Rpb24oKXtiLS07aWYoaiYmIWIpe0V4dC5jYWxsYmFjayhqLGt8fGgsW2guY2hpbGROb2Rlc10pfX0pfX1pZighYiYmail7RXh0LmNhbGxiYWNrKGosa3x8aCxbaC5jaGlsZE5vZGVzXSl9fSxjb2xsYXBzZTpmdW5jdGlvbihhLGQsYil7dmFyIGM9dGhpcztpZighYy5pc0xlYWYoKSl7aWYoIWMuY29sbGFwc2luZyYmYy5pc0V4cGFuZGVkKCkpe2MuZmlyZUV2ZW50KCJiZWZvcmVjb2xsYXBzZSIsYyxmdW5jdGlvbigpe2Muc2V0KCJleHBhbmRlZCIsZmFsc2UpO2lmKGMuaGFzTGlzdGVuZXJzLmNvbGxhcHNlKXtjLmZpcmVFdmVudCgiY29sbGFwc2UiLGMsYy5jaGlsZE5vZGVzLGZhbHNlKX1pZihhKXtjLmNvbGxhcHNlQ2hpbGRyZW4odHJ1ZSxkLGIpfWVsc2V7RXh0LmNhbGxiYWNrKGQsYnx8YyxbYy5jaGlsZE5vZGVzXSl9fSxjKX1lbHNle2lmKGEpe2MuY29sbGFwc2VDaGlsZHJlbih0cnVlLGQsYil9fX1lbHNle0V4dC5jYWxsYmFjayhkLGJ8fGMsW2MuY2hpbGROb2Rlc10pfX0sY29sbGFwc2VDaGlsZHJlbjpmdW5jdGlvbihkLGosayl7dmFyIGg9dGhpcyxlPTAsYj1oLmNoaWxkTm9kZXMsZz1iLmxlbmd0aCxjLGE9MDtmb3IoO2U8ZzsrK2Upe2M9YltlXTtpZighYy5pc0xlYWYoKSYmYy5pc0V4cGFuZGVkKCkpe2ErKztiW2VdLmNvbGxhcHNlKGQsZnVuY3Rpb24oKXthLS07aWYoaiYmIWEpe0V4dC5jYWxsYmFjayhqLGt8fGgsW2guY2hpbGROb2Rlc10pfX0pfX1pZighYSYmail7RXh0LmNhbGxiYWNrKGosa3x8aCxbaC5jaGlsZE5vZGVzXSl9fX19fX0pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLlRyZWUiLHthbGlhczoiZGF0YS50cmVlIixtaXhpbnM6e29ic2VydmFibGU6IkV4dC51dGlsLk9ic2VydmFibGUifSxyb290Om51bGwsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLm1peGlucy5vYnNlcnZhYmxlLmNvbnN0cnVjdG9yLmNhbGwoYik7aWYoYSl7Yi5zZXRSb290Tm9kZShhKX19LGdldFJvb3ROb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucm9vdH0sc2V0Um9vdE5vZGU6ZnVuY3Rpb24oYil7dmFyIGE9dGhpczthLnJvb3Q9YjtpZihhLmZpcmVFdmVudCgiYmVmb3JlYXBwZW5kIixudWxsLGIpIT09ZmFsc2Upe2Iuc2V0KCJyb290Iix0cnVlKTtiLnVwZGF0ZUluZm8oKTtiLmNvbW1pdCgpO2Iub24oe3Njb3BlOmEsaW5zZXJ0OmEub25Ob2RlSW5zZXJ0LGFwcGVuZDphLm9uTm9kZUFwcGVuZCxyZW1vdmU6YS5vbk5vZGVSZW1vdmV9KTthLnJlbGF5RXZlbnRzKGIsWyJhcHBlbmQiLCJyZW1vdmUiLCJtb3ZlIiwiaW5zZXJ0IiwiYmVmb3JlYXBwZW5kIiwiYmVmb3JlcmVtb3ZlIiwiYmVmb3JlbW92ZSIsImJlZm9yZWluc2VydCIsImV4cGFuZCIsImNvbGxhcHNlIiwiYmVmb3JlZXhwYW5kIiwiYmVmb3JlY29sbGFwc2UiLCJzb3J0Iiwicm9vdGNoYW5nZSJdKTthLm5vZGVIYXNoPXt9O2EucmVnaXN0ZXJOb2RlKGIpO2EuZmlyZUV2ZW50KCJhcHBlbmQiLG51bGwsYik7YS5maXJlRXZlbnQoInJvb3RjaGFuZ2UiLGIpfXJldHVybiBifSxmbGF0dGVuOmZ1bmN0aW9uKCl7dmFyIGE9W10sYz10aGlzLm5vZGVIYXNoLGI7Zm9yKGIgaW4gYyl7aWYoYy5oYXNPd25Qcm9wZXJ0eShiKSl7YS5wdXNoKGNbYl0pfX1yZXR1cm4gYX0sb25Ob2RlSW5zZXJ0OmZ1bmN0aW9uKGEsYil7dGhpcy5yZWdpc3Rlck5vZGUoYix0cnVlKX0sb25Ob2RlQXBwZW5kOmZ1bmN0aW9uKGEsYil7dGhpcy5yZWdpc3Rlck5vZGUoYix0cnVlKX0sb25Ob2RlUmVtb3ZlOmZ1bmN0aW9uKGEsYil7dGhpcy51bnJlZ2lzdGVyTm9kZShiLHRydWUpfSxvbk5vZGVJZENoYW5nZWQ6ZnVuY3Rpb24oYyxkLGEpe3ZhciBiPXRoaXMubm9kZUhhc2g7YlthXT1jO2RlbGV0ZSBiW2R8fGMuaW50ZXJuYWxJZF19LGdldE5vZGVCeUlkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm5vZGVIYXNoW2FdfSxyZWdpc3Rlck5vZGU6ZnVuY3Rpb24oYyxhKXt2YXIgYj10aGlzO2Iubm9kZUhhc2hbYy5nZXRJZCgpfHxjLmludGVybmFsSWRdPWM7Yy5vbigiaWRjaGFuZ2VkIixiLm9uTm9kZUlkQ2hhbmdlZCxiKTtpZihhPT09dHJ1ZSl7Yy5lYWNoQ2hpbGQoZnVuY3Rpb24oZCl7Yi5yZWdpc3Rlck5vZGUoZCx0cnVlKX0pfX0sdW5yZWdpc3Rlck5vZGU6ZnVuY3Rpb24oYixhKXtkZWxldGUgdGhpcy5ub2RlSGFzaFtiLmdldElkKCl8fGIuaW50ZXJuYWxJZF07aWYoYT09PXRydWUpe2IuZWFjaENoaWxkKGZ1bmN0aW9uKGMpe3RoaXMudW5yZWdpc3Rlck5vZGUoYyx0cnVlKX0sdGhpcyl9fSxzb3J0OmZ1bmN0aW9uKGIsYSl7dGhpcy5nZXRSb290Tm9kZSgpLnNvcnQoYixhKX0sZmlsdGVyOmZ1bmN0aW9uKGIsYSl7dGhpcy5nZXRSb290Tm9kZSgpLmZpbHRlcihiLGEpfX0pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLmFzc29jaWF0aW9uLkhhc01hbnkiLHtleHRlbmQ6IkV4dC5kYXRhLmFzc29jaWF0aW9uLkFzc29jaWF0aW9uIixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5kYXRhLkhhc01hbnlBc3NvY2lhdGlvbiIscmVxdWlyZXM6WyJFeHQudXRpbC5JbmZsZWN0b3IiXSxhbGlhczoiYXNzb2NpYXRpb24uaGFzbWFueSIsY29uc3RydWN0b3I6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcyxhLGI7ZC5jYWxsUGFyZW50KGFyZ3VtZW50cyk7ZC5uYW1lPWQubmFtZXx8RXh0LnV0aWwuSW5mbGVjdG9yLnBsdXJhbGl6ZShkLmFzc29jaWF0ZWROYW1lLnRvTG93ZXJDYXNlKCkpO2E9ZC5vd25lck1vZGVsLnByb3RvdHlwZTtiPWQubmFtZTtFeHQuYXBwbHlJZihkLHtzdG9yZU5hbWU6YisiU3RvcmUiLGZvcmVpZ25LZXk6ZC5vd25lck5hbWUudG9Mb3dlckNhc2UoKSsiX2lkIn0pO2FbYl09ZC5jcmVhdGVTdG9yZSgpfSxjcmVhdGVTdG9yZTpmdW5jdGlvbigpe3ZhciBoPXRoaXMsaT1oLmFzc29jaWF0ZWRNb2RlbCxjPWguc3RvcmVOYW1lLGQ9aC5mb3JlaWduS2V5LGE9aC5wcmltYXJ5S2V5LGc9aC5maWx0ZXJQcm9wZXJ0eSxiPWguYXV0b0xvYWQsZT1oLnN0b3JlQ29uZmlnfHx7fTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgbT10aGlzLGssbCxqPXt9O2lmKG1bY109PT11bmRlZmluZWQpe2lmKGcpe2w9e3Byb3BlcnR5OmcsdmFsdWU6bS5nZXQoZyksZXhhY3RNYXRjaDp0cnVlfX1lbHNle2w9e3Byb3BlcnR5OmQsdmFsdWU6bS5nZXQoYSksZXhhY3RNYXRjaDp0cnVlfX1qW2RdPW0uZ2V0KGEpO2s9RXh0LmFwcGx5KHt9LGUse21vZGVsOmksZmlsdGVyczpbbF0scmVtb3RlRmlsdGVyOmZhbHNlLG1vZGVsRGVmYXVsdHM6an0pO21bY109bmV3IEV4dC5kYXRhLlN0b3JlKGspO2lmKGIpe21bY10ubG9hZCgpfX1yZXR1cm4gbVtjXX19LHJlYWQ6ZnVuY3Rpb24oZCxiLGope3ZhciBnPWRbdGhpcy5uYW1lXSgpLGMsZSxhLGg7Zy5hZGQoYi5yZWFkKGopLnJlY29yZHMpO2M9dGhpcy5hc3NvY2lhdGVkTW9kZWwucHJvdG90eXBlLmFzc29jaWF0aW9ucy5maW5kQnkoZnVuY3Rpb24oaSl7cmV0dXJuIGkudHlwZT09PSJiZWxvbmdzVG8iJiZpLmFzc29jaWF0ZWROYW1lPT09ZC4kY2xhc3NOYW1lfSk7aWYoYyl7ZT1nLmRhdGEuaXRlbXM7YT1lLmxlbmd0aDtmb3IoaD0wO2g8YTtoKyspe2VbaF1bYy5pbnN0YW5jZU5hbWVdPWR9fX19KTtFeHQuZGVmaW5lKCJFeHQuZGF0YS5wcm94eS5Qcm94eSIse2FsaWFzOiJwcm94eS5wcm94eSIsYWx0ZXJuYXRlQ2xhc3NOYW1lOlsiRXh0LmRhdGEuRGF0YVByb3h5IiwiRXh0LmRhdGEuUHJveHkiXSx1c2VzOlsiRXh0LmRhdGEuQmF0Y2giLCJFeHQuZGF0YS5PcGVyYXRpb24iLCJFeHQuZGF0YS5Nb2RlbCJdLG1peGluczp7b2JzZXJ2YWJsZToiRXh0LnV0aWwuT2JzZXJ2YWJsZSJ9LGJhdGNoT3JkZXI6ImNyZWF0ZSx1cGRhdGUsZGVzdHJveSIsYmF0Y2hBY3Rpb25zOnRydWUsZGVmYXVsdFJlYWRlclR5cGU6Impzb24iLGRlZmF1bHRXcml0ZXJUeXBlOiJqc29uIixpc1Byb3h5OnRydWUsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7YT1hfHx7fTtpZihhLm1vZGVsPT09dW5kZWZpbmVkKXtkZWxldGUgYS5tb2RlbH1FeHQuYXBwbHkodGhpcyxhKTt0aGlzLm1peGlucy5vYnNlcnZhYmxlLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7aWYodGhpcy5tb2RlbCE9PXVuZGVmaW5lZCYmISh0aGlzLm1vZGVsIGluc3RhbmNlb2YgRXh0LmRhdGEuTW9kZWwpKXt0aGlzLnNldE1vZGVsKHRoaXMubW9kZWwpfX0sc2V0TW9kZWw6ZnVuY3Rpb24oYixjKXt0aGlzLm1vZGVsPUV4dC5Nb2RlbE1hbmFnZXIuZ2V0TW9kZWwoYik7dmFyIGE9dGhpcy5yZWFkZXIsZD10aGlzLndyaXRlcjt0aGlzLnNldFJlYWRlcihhKTt0aGlzLnNldFdyaXRlcihkKTtpZihjJiZ0aGlzLnN0b3JlKXt0aGlzLnN0b3JlLnNldE1vZGVsKHRoaXMubW9kZWwpfX0sZ2V0TW9kZWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2RlbH0sc2V0UmVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoYT09PXVuZGVmaW5lZHx8dHlwZW9mIGE9PSJzdHJpbmciKXthPXt0eXBlOmF9fWlmKGEuaXNSZWFkZXIpe2Euc2V0TW9kZWwoYi5tb2RlbCl9ZWxzZXtFeHQuYXBwbHlJZihhLHtwcm94eTpiLG1vZGVsOmIubW9kZWwsdHlwZTpiLmRlZmF1bHRSZWFkZXJUeXBlfSk7YT1FeHQuY3JlYXRlQnlBbGlhcygicmVhZGVyLiIrYS50eXBlLGEpfWlmKGEub25NZXRhQ2hhbmdlKXthLm9uTWV0YUNoYW5nZT1FeHQuRnVuY3Rpb24uY3JlYXRlU2VxdWVuY2UoYS5vbk1ldGFDaGFuZ2UsdGhpcy5vbk1ldGFDaGFuZ2UsdGhpcyl9Yi5yZWFkZXI9YTtyZXR1cm4gYi5yZWFkZXJ9LGdldFJlYWRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlYWRlcn0sb25NZXRhQ2hhbmdlOmZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KCJtZXRhY2hhbmdlIix0aGlzLGEpfSxzZXRXcml0ZXI6ZnVuY3Rpb24oYSl7aWYoYT09PXVuZGVmaW5lZHx8dHlwZW9mIGE9PSJzdHJpbmciKXthPXt0eXBlOmF9fWlmKCFhLmlzV3JpdGVyKXtFeHQuYXBwbHlJZihhLHttb2RlbDp0aGlzLm1vZGVsLHR5cGU6dGhpcy5kZWZhdWx0V3JpdGVyVHlwZX0pO2E9RXh0LmNyZWF0ZUJ5QWxpYXMoIndyaXRlci4iK2EudHlwZSxhKX10aGlzLndyaXRlcj1hO3JldHVybiB0aGlzLndyaXRlcn0sZ2V0V3JpdGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud3JpdGVyfSxjcmVhdGU6RXh0LmVtcHR5Rm4scmVhZDpFeHQuZW1wdHlGbix1cGRhdGU6RXh0LmVtcHR5Rm4sZGVzdHJveTpFeHQuZW1wdHlGbixiYXRjaDpmdW5jdGlvbihvLGwpe3ZhciBrPXRoaXMsaj1rLmJhdGNoQWN0aW9ucyxoLGMsZyxkLGUsbSxiLG4saTtpZihvLm9wZXJhdGlvbnM9PT11bmRlZmluZWQpe289e29wZXJhdGlvbnM6byxsaXN0ZW5lcnM6bH19aWYoby5iYXRjaCl7aWYoRXh0LmlzRGVmaW5lZChvLmJhdGNoLnJ1bk9wZXJhdGlvbikpe2g9RXh0LmFwcGx5SWYoby5iYXRjaCx7cHJveHk6ayxsaXN0ZW5lcnM6e319KX19ZWxzZXtvLmJhdGNoPXtwcm94eTprLGxpc3RlbmVyczpvLmxpc3RlbmVyc3x8e319fWlmKCFoKXtoPW5ldyBFeHQuZGF0YS5CYXRjaChvLmJhdGNoKX1oLm9uKCJjb21wbGV0ZSIsRXh0LmJpbmQoay5vbkJhdGNoQ29tcGxldGUsayxbb10sMCkpO2c9ay5iYXRjaE9yZGVyLnNwbGl0KCIsIik7ZD1nLmxlbmd0aDtmb3IobT0wO208ZDttKyspe2U9Z1ttXTtjPW8ub3BlcmF0aW9uc1tlXTtpZihjKXtpZihqKXtoLmFkZChuZXcgRXh0LmRhdGEuT3BlcmF0aW9uKHthY3Rpb246ZSxyZWNvcmRzOmN9KSl9ZWxzZXtuPWMubGVuZ3RoO2ZvcihiPTA7YjxuO2IrKyl7aT1jW2JdO2guYWRkKG5ldyBFeHQuZGF0YS5PcGVyYXRpb24oe2FjdGlvbjplLHJlY29yZHM6W2ldfSkpfX19fWguc3RhcnQoKTtyZXR1cm4gaH0sb25CYXRjaENvbXBsZXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9YS5zY29wZXx8dGhpcztpZihiLmhhc0V4Y2VwdGlvbil7aWYoRXh0LmlzRnVuY3Rpb24oYS5mYWlsdXJlKSl7RXh0LmNhbGxiYWNrKGEuZmFpbHVyZSxjLFtiLGFdKX19ZWxzZXtpZihFeHQuaXNGdW5jdGlvbihhLnN1Y2Nlc3MpKXtFeHQuY2FsbGJhY2soYS5zdWNjZXNzLGMsW2IsYV0pfX1pZihFeHQuaXNGdW5jdGlvbihhLmNhbGxiYWNrKSl7RXh0LmNhbGxiYWNrKGEuY2FsbGJhY2ssYyxbYixhXSl9fX0sZnVuY3Rpb24oKXtFeHQuZGF0YS5EYXRhUHJveHk9dGhpc30pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLnByb3h5LkNsaWVudCIse2V4dGVuZDoiRXh0LmRhdGEucHJveHkuUHJveHkiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmRhdGEuQ2xpZW50UHJveHkiLGNsZWFyOmZ1bmN0aW9uKCl7fX0pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLnByb3h5Lk1lbW9yeSIse2V4dGVuZDoiRXh0LmRhdGEucHJveHkuQ2xpZW50IixhbGlhczoicHJveHkubWVtb3J5IixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5kYXRhLk1lbW9yeVByb3h5Iixjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt0aGlzLmNhbGxQYXJlbnQoW2FdKTt0aGlzLnNldFJlYWRlcih0aGlzLnJlYWRlcil9LHVwZGF0ZU9wZXJhdGlvbjpmdW5jdGlvbihiLGcsZCl7dmFyIGM9MCxlPWIuZ2V0UmVjb3JkcygpLGE9ZS5sZW5ndGg7Zm9yKGM7YzxhO2MrKyl7ZVtjXS5jb21taXQoKX1iLnNldENvbXBsZXRlZCgpO2Iuc2V0U3VjY2Vzc2Z1bCgpO0V4dC5jYWxsYmFjayhnLGR8fHRoaXMsW2JdKX0sY3JlYXRlOmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVPcGVyYXRpb24uYXBwbHkodGhpcyxhcmd1bWVudHMpfSx1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZU9wZXJhdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZU9wZXJhdGlvbi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHJlYWQ6ZnVuY3Rpb24oYyxnLGQpe3ZhciBlPXRoaXMsYj1lLmdldFJlYWRlcigpLGE9Yi5yZWFkKGUuZGF0YSk7RXh0LmFwcGx5KGMse3Jlc3VsdFNldDphfSk7Yy5zZXRDb21wbGV0ZWQoKTtjLnNldFN1Y2Nlc3NmdWwoKTtFeHQuY2FsbGJhY2soZyxkfHxlLFtjXSl9LGNsZWFyOkV4dC5lbXB0eUZufSk7RXh0LmRlZmluZSgiRXh0LmRhdGEucHJveHkuU2VydmVyIix7ZXh0ZW5kOiJFeHQuZGF0YS5wcm94eS5Qcm94eSIsYWxpYXM6InByb3h5LnNlcnZlciIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuZGF0YS5TZXJ2ZXJQcm94eSIsdXNlczpbIkV4dC5kYXRhLlJlcXVlc3QiXSxwYWdlUGFyYW06InBhZ2UiLHN0YXJ0UGFyYW06InN0YXJ0IixsaW1pdFBhcmFtOiJsaW1pdCIsZ3JvdXBQYXJhbToiZ3JvdXAiLHNvcnRQYXJhbToic29ydCIsZmlsdGVyUGFyYW06ImZpbHRlciIsZGlyZWN0aW9uUGFyYW06ImRpciIsc2ltcGxlU29ydE1vZGU6ZmFsc2Usbm9DYWNoZTp0cnVlLGNhY2hlU3RyaW5nOiJfZGMiLHRpbWVvdXQ6MzAwMDAsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczthPWF8fHt9O2IuY2FsbFBhcmVudChbYV0pO2IuZXh0cmFQYXJhbXM9YS5leHRyYVBhcmFtc3x8e307Yi5hcGk9RXh0LmFwcGx5KHt9LGEuYXBpfHxiLmFwaSk7Yi5ub2NhY2hlPWIubm9DYWNoZX0sY3JlYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9SZXF1ZXN0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scmVhZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvUmVxdWVzdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHVwZGF0ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvUmVxdWVzdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb1JlcXVlc3QuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxzZXRFeHRyYVBhcmFtOmZ1bmN0aW9uKGEsYil7dGhpcy5leHRyYVBhcmFtc1thXT1ifSxidWlsZFJlcXVlc3Q6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcyxkPUV4dC5hcHBseUlmKGEucGFyYW1zfHx7fSxjLmV4dHJhUGFyYW1zfHx7fSksYjtkPUV4dC5hcHBseUlmKGQsYy5nZXRQYXJhbXMoYSkpO2lmKGEuaWQmJiFkLmlkKXtkLmlkPWEuaWR9Yj1uZXcgRXh0LmRhdGEuUmVxdWVzdCh7cGFyYW1zOmQsYWN0aW9uOmEuYWN0aW9uLHJlY29yZHM6YS5yZWNvcmRzLG9wZXJhdGlvbjphLHVybDphLnVybCxwcm94eTpjfSk7Yi51cmw9Yy5idWlsZFVybChiKTthLnJlcXVlc3Q9YjtyZXR1cm4gYn0scHJvY2Vzc1Jlc3BvbnNlOmZ1bmN0aW9uKGgsYSxjLGIsZyxpKXt2YXIgZT10aGlzLGQsajtpZihoPT09dHJ1ZSl7ZD1lLmdldFJlYWRlcigpO2QuYXBwbHlEZWZhdWx0cz1hLmFjdGlvbj09PSJyZWFkIjtqPWQucmVhZChlLmV4dHJhY3RSZXNwb25zZURhdGEoYikpO2lmKGouc3VjY2VzcyE9PWZhbHNlKXtFeHQuYXBwbHkoYSx7cmVzcG9uc2U6YixyZXN1bHRTZXQ6an0pO2EuY29tbWl0UmVjb3JkcyhqLnJlY29yZHMpO2Euc2V0Q29tcGxldGVkKCk7YS5zZXRTdWNjZXNzZnVsKCl9ZWxzZXthLnNldEV4Y2VwdGlvbihqLm1lc3NhZ2UpO2UuZmlyZUV2ZW50KCJleGNlcHRpb24iLHRoaXMsYixhKX19ZWxzZXtlLnNldEV4Y2VwdGlvbihhLGIpO2UuZmlyZUV2ZW50KCJleGNlcHRpb24iLHRoaXMsYixhKX1pZih0eXBlb2YgZz09ImZ1bmN0aW9uIil7Zy5jYWxsKGl8fGUsYSl9ZS5hZnRlclJlcXVlc3QoYyxoKX0sc2V0RXhjZXB0aW9uOmZ1bmN0aW9uKGIsYSl7Yi5zZXRFeGNlcHRpb24oe3N0YXR1czphLnN0YXR1cyxzdGF0dXNUZXh0OmEuc3RhdHVzVGV4dH0pfSxleHRyYWN0UmVzcG9uc2VEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxhcHBseUVuY29kaW5nOmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuZW5jb2RlKGEpfSxlbmNvZGVTb3J0ZXJzOmZ1bmN0aW9uKGQpe3ZhciBiPVtdLGM9ZC5sZW5ndGgsYT0wO2Zvcig7YTxjO2ErKyl7YlthXT17cHJvcGVydHk6ZFthXS5wcm9wZXJ0eSxkaXJlY3Rpb246ZFthXS5kaXJlY3Rpb259fXJldHVybiB0aGlzLmFwcGx5RW5jb2RpbmcoYil9LGVuY29kZUZpbHRlcnM6ZnVuY3Rpb24oZCl7dmFyIGI9W10sYz1kLmxlbmd0aCxhPTA7Zm9yKDthPGM7YSsrKXtiW2FdPXtwcm9wZXJ0eTpkW2FdLnByb3BlcnR5LHZhbHVlOmRbYV0udmFsdWV9fXJldHVybiB0aGlzLmFwcGx5RW5jb2RpbmcoYil9LGdldFBhcmFtczpmdW5jdGlvbihsKXt2YXIgcz10aGlzLHI9e30sbz1FeHQuaXNEZWZpbmVkLHA9bC5ncm91cGVycyxhPWwuc29ydGVycyxqPWwuZmlsdGVycyxoPWwucGFnZSxnPWwuc3RhcnQscT1sLmxpbWl0LGk9cy5zaW1wbGVTb3J0TW9kZSxuPXMucGFnZVBhcmFtLGQ9cy5zdGFydFBhcmFtLGI9cy5saW1pdFBhcmFtLGM9cy5ncm91cFBhcmFtLGU9cy5zb3J0UGFyYW0sbT1zLmZpbHRlclBhcmFtLGs9cy5kaXJlY3Rpb25QYXJhbTtpZihuJiZvKGgpKXtyW25dPWh9aWYoZCYmbyhnKSl7cltkXT1nfWlmKGImJm8ocSkpe3JbYl09cX1pZihjJiZwJiZwLmxlbmd0aD4wKXtyW2NdPXMuZW5jb2RlU29ydGVycyhwKX1pZihlJiZhJiZhLmxlbmd0aD4wKXtpZihpKXtyW2VdPWFbMF0ucHJvcGVydHk7cltrXT1hWzBdLmRpcmVjdGlvbn1lbHNle3JbZV09cy5lbmNvZGVTb3J0ZXJzKGEpfX1pZihtJiZqJiZqLmxlbmd0aD4wKXtyW21dPXMuZW5jb2RlRmlsdGVycyhqKX1yZXR1cm4gcn0sYnVpbGRVcmw6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWIuZ2V0VXJsKGMpO2lmKGIubm9DYWNoZSl7YT1FeHQudXJsQXBwZW5kKGEsRXh0LlN0cmluZy5mb3JtYXQoInswfT17MX0iLGIuY2FjaGVTdHJpbmcsRXh0LkRhdGUubm93KCkpKX1yZXR1cm4gYX0sZ2V0VXJsOmZ1bmN0aW9uKGEpe3JldHVybiBhLnVybHx8dGhpcy5hcGlbYS5hY3Rpb25dfHx0aGlzLnVybH0sZG9SZXF1ZXN0OmZ1bmN0aW9uKGEsYyxiKXt9LGFmdGVyUmVxdWVzdDpFeHQuZW1wdHlGbixvbkRlc3Ryb3k6ZnVuY3Rpb24oKXtFeHQuZGVzdHJveSh0aGlzLnJlYWRlcix0aGlzLndyaXRlcil9fSk7RXh0LmRlZmluZSgiRXh0LmRhdGEucHJveHkuSnNvblAiLHtleHRlbmQ6IkV4dC5kYXRhLnByb3h5LlNlcnZlciIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuZGF0YS5TY3JpcHRUYWdQcm94eSIsYWxpYXM6WyJwcm94eS5qc29ucCIsInByb3h5LnNjcmlwdHRhZyJdLHJlcXVpcmVzOlsiRXh0LmRhdGEuSnNvblAiXSxkZWZhdWx0V3JpdGVyVHlwZToiYmFzZSIsY2FsbGJhY2tLZXk6ImNhbGxiYWNrIixyZWNvcmRQYXJhbToicmVjb3JkcyIsYXV0b0FwcGVuZFBhcmFtczp0cnVlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7dGhpcy5hZGRFdmVudHMoImV4Y2VwdGlvbiIpO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxkb1JlcXVlc3Q6ZnVuY3Rpb24oYSxoLGIpe3ZhciBkPXRoaXMsZT1kLmdldFdyaXRlcigpLGM9ZC5idWlsZFJlcXVlc3QoYSksZz1jLnBhcmFtcztpZihhLmFsbG93V3JpdGUoKSl7Yz1lLndyaXRlKGMpfUV4dC5hcHBseShjLHtjYWxsYmFja0tleTpkLmNhbGxiYWNrS2V5LHRpbWVvdXQ6ZC50aW1lb3V0LHNjb3BlOmQsZGlzYWJsZUNhY2hpbmc6ZmFsc2UsY2FsbGJhY2s6ZC5jcmVhdGVSZXF1ZXN0Q2FsbGJhY2soYyxhLGgsYil9KTtpZihkLmF1dG9BcHBlbmRQYXJhbXMpe2MucGFyYW1zPXt9fWMuanNvbnA9RXh0LmRhdGEuSnNvblAucmVxdWVzdChjKTtjLnBhcmFtcz1nO2Euc2V0U3RhcnRlZCgpO2QubGFzdFJlcXVlc3Q9YztyZXR1cm4gY30sY3JlYXRlUmVxdWVzdENhbGxiYWNrOmZ1bmN0aW9uKGQsYSxlLGIpe3ZhciBjPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGksZyxoKXtkZWxldGUgYy5sYXN0UmVxdWVzdDtjLnByb2Nlc3NSZXNwb25zZShpLGEsZCxnLGUsYil9fSxzZXRFeGNlcHRpb246ZnVuY3Rpb24oYixhKXtiLnNldEV4Y2VwdGlvbihiLnJlcXVlc3QuanNvbnAuZXJyb3JUeXBlKX0sYnVpbGRVcmw6ZnVuY3Rpb24oaCl7dmFyIGc9dGhpcyxiPWcuY2FsbFBhcmVudChhcmd1bWVudHMpLGo9RXh0LmFwcGx5KHt9LGgucGFyYW1zKSxlPWouZmlsdGVycyxhLGQsYztkZWxldGUgai5maWx0ZXJzO2lmKGcuYXV0b0FwcGVuZFBhcmFtcyl7Yj1FeHQudXJsQXBwZW5kKGIsRXh0Lk9iamVjdC50b1F1ZXJ5U3RyaW5nKGopKX1pZihlJiZlLmxlbmd0aCl7Zm9yKGM9MDtjPGUubGVuZ3RoO2MrKyl7ZD1lW2NdO2lmKGQudmFsdWUpe2I9RXh0LnVybEFwcGVuZChiLGQucHJvcGVydHkrIj0iK2QudmFsdWUpfX19YT1oLnJlY29yZHM7aWYoRXh0LmlzQXJyYXkoYSkmJmEubGVuZ3RoPjApe2I9RXh0LnVybEFwcGVuZChiLEV4dC5TdHJpbmcuZm9ybWF0KCJ7MH09ezF9IixnLnJlY29yZFBhcmFtLGcuZW5jb2RlUmVjb3JkcyhhKSkpfXJldHVybiBifSxkZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5hYm9ydCgpO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxhYm9ydDpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGFzdFJlcXVlc3Q7aWYoYSl7RXh0LmRhdGEuSnNvblAuYWJvcnQoYS5qc29ucCl9fSxlbmNvZGVSZWNvcmRzOmZ1bmN0aW9uKGIpe3ZhciBkPSIiLGM9MCxhPWIubGVuZ3RoO2Zvcig7YzxhO2MrKyl7ZCs9RXh0Lk9iamVjdC50b1F1ZXJ5U3RyaW5nKGJbY10uZ2V0RGF0YSgpKX1yZXR1cm4gZH19KTtFeHQuZGVmaW5lKCJFeHQuZGF0YS5wcm94eS5XZWJTdG9yYWdlIix7ZXh0ZW5kOiJFeHQuZGF0YS5wcm94eS5DbGllbnQiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmRhdGEuV2ViU3RvcmFnZVByb3h5IixyZXF1aXJlczpbIkV4dC5kYXRhLlNlcXVlbnRpYWxJZEdlbmVyYXRvciJdLGlkOnVuZGVmaW5lZCxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLmNhY2hlPXt9O3RoaXMuaWQ9dGhpcy5pZHx8KHRoaXMuc3RvcmU/dGhpcy5zdG9yZS5zdG9yZUlkOnVuZGVmaW5lZCk7dGhpcy5pbml0aWFsaXplKCl9LGNyZWF0ZTpmdW5jdGlvbihlLGssbCl7dmFyIGo9dGhpcyxkPWUucmVjb3JkcyxjPWQubGVuZ3RoLGE9ai5nZXRJZHMoKSxiLGgsZztlLnNldFN0YXJ0ZWQoKTtpZihqLmlzSGllcmFyY2hpY2FsPT09dW5kZWZpbmVkKXtqLmlzSGllcmFyY2hpY2FsPSEhZFswXS5pc05vZGU7aWYoai5pc0hpZXJhcmNoaWNhbCl7ai5nZXRTdG9yYWdlT2JqZWN0KCkuc2V0SXRlbShqLmdldFRyZWVLZXkoKSx0cnVlKX19Zm9yKGc9MDtnPGM7ZysrKXtoPWRbZ107aWYoaC5waGFudG9tKXtoLnBoYW50b209ZmFsc2U7Yj1qLmdldE5leHRJZCgpfWVsc2V7Yj1oLmdldElkKCl9ai5zZXRSZWNvcmQoaCxiKTtoLmNvbW1pdCgpO2EucHVzaChiKX1qLnNldElkcyhhKTtlLnNldENvbXBsZXRlZCgpO2Uuc2V0U3VjY2Vzc2Z1bCgpO2lmKHR5cGVvZiBrPT0iZnVuY3Rpb24iKXtrLmNhbGwobHx8aixlKX19LHJlYWQ6ZnVuY3Rpb24oZyxtLG8pe3ZhciBsPXRoaXMsZT1bXSxqPTAsbj10cnVlLGQ9bC5tb2RlbCxhLGMsayxoLGI7Zy5zZXRTdGFydGVkKCk7aWYobC5pc0hpZXJhcmNoaWNhbCl7ZT1sLmdldFRyZWVEYXRhKCl9ZWxzZXthPWwuZ2V0SWRzKCk7Yz1hLmxlbmd0aDtiPWcuaWQ7aWYoYil7aD1sLmdldFJlY29yZChiKTtrPW5ldyBkKGgsYixoKTtpZihrKXtlLnB1c2goayl9ZWxzZXtuPWZhbHNlfX1lbHNle2Zvcig7ajxjO2orKyl7Yj1hW2pdO2g9bC5nZXRSZWNvcmQoYik7ZS5wdXNoKG5ldyBkKGgsYixoKSl9fX1pZihuKXtnLnNldFN1Y2Nlc3NmdWwoKX1nLnNldENvbXBsZXRlZCgpO2cucmVzdWx0U2V0PUV4dC5jcmVhdGUoIkV4dC5kYXRhLlJlc3VsdFNldCIse3JlY29yZHM6ZSx0b3RhbDplLmxlbmd0aCxsb2FkZWQ6dHJ1ZX0pO2lmKHR5cGVvZiBtPT0iZnVuY3Rpb24iKXttLmNhbGwob3x8bCxnKX19LHVwZGF0ZTpmdW5jdGlvbihlLGosayl7dmFyIGQ9ZS5yZWNvcmRzLGM9ZC5sZW5ndGgsYT10aGlzLmdldElkcygpLGgsYixnO2Uuc2V0U3RhcnRlZCgpO2ZvcihnPTA7ZzxjO2crKyl7aD1kW2ddO3RoaXMuc2V0UmVjb3JkKGgpO2guY29tbWl0KCk7Yj1oLmdldElkKCk7aWYoYiE9PXVuZGVmaW5lZCYmRXh0LkFycmF5LmluZGV4T2YoYSxiKT09LTEpe2EucHVzaChiKX19dGhpcy5zZXRJZHMoYSk7ZS5zZXRDb21wbGV0ZWQoKTtlLnNldFN1Y2Nlc3NmdWwoKTtpZih0eXBlb2Ygaj09ImZ1bmN0aW9uIil7ai5jYWxsKGt8fHRoaXMsZSl9fSxkZXN0cm95OmZ1bmN0aW9uKGQsayxsKXt2YXIgZz10aGlzLGM9ZC5yZWNvcmRzLGE9Zy5nZXRJZHMoKSxoPWEubGVuZ3RoLG09W10saj17fSxlPWMubGVuZ3RoLGI7ZC5zZXRTdGFydGVkKCk7Zm9yKDtlLS07KXtFeHQuYXBwbHkoaixnLnJlbW92ZVJlY29yZChjW2VdKSl9Zm9yKGU9MDtlPGg7ZSsrKXtiPWFbZV07aWYoIWpbYl0pe20ucHVzaChiKX19Zy5zZXRJZHMobSk7ZC5zZXRDb21wbGV0ZWQoKTtkLnNldFN1Y2Nlc3NmdWwoKTtpZih0eXBlb2Ygaz09ImZ1bmN0aW9uIil7ay5jYWxsKGx8fGcsZCl9fSxnZXRSZWNvcmQ6ZnVuY3Rpb24oZCl7dmFyIGI9dGhpcyxhPWIuY2FjaGUsYz0hYVtkXT9FeHQuZGVjb2RlKGIuZ2V0U3RvcmFnZU9iamVjdCgpLmdldEl0ZW0oYi5nZXRSZWNvcmRLZXkoZCkpKTphW2RdO2lmKCFjKXtyZXR1cm4gbnVsbH1hW2RdPWM7Y1tiLm1vZGVsLnByb3RvdHlwZS5pZFByb3BlcnR5XT1kO3JldHVybiBjfSxzZXRSZWNvcmQ6ZnVuY3Rpb24oayxjKXtpZihjKXtrLnNldElkKGMpfWVsc2V7Yz1rLmdldElkKCl9dmFyIG09dGhpcyxhPWsuZGF0YSxoPXt9LGo9bS5tb2RlbCxsPWoucHJvdG90eXBlLmZpZWxkcy5pdGVtcyxkPWwubGVuZ3RoLGc9MCxuLGIsZSxvO2Zvcig7ZzxkO2crKyl7bj1sW2ddO2I9bi5uYW1lO2lmKG4ucGVyc2lzdCl7aFtiXT1hW2JdfX1kZWxldGUgaFttLm1vZGVsLnByb3RvdHlwZS5pZFByb3BlcnR5XTtpZihrLmlzTm9kZSYmay5nZXQoImRlcHRoIik9PT0xKXtkZWxldGUgaC5wYXJlbnRJZH1lPW0uZ2V0U3RvcmFnZU9iamVjdCgpO289bS5nZXRSZWNvcmRLZXkoYyk7bS5jYWNoZVtjXT1oO2UucmVtb3ZlSXRlbShvKTtlLnNldEl0ZW0obyxFeHQuZW5jb2RlKGgpKX0scmVtb3ZlUmVjb3JkOmZ1bmN0aW9uKGEpe3ZhciBkPXRoaXMsZz1hLmdldElkKCksYj17fSxjLGU7YltnXT1hO2QuZ2V0U3RvcmFnZU9iamVjdCgpLnJlbW92ZUl0ZW0oZC5nZXRSZWNvcmRLZXkoZykpO2RlbGV0ZSBkLmNhY2hlW2ddO2lmKGEuY2hpbGROb2Rlcyl7ZT1hLmNoaWxkTm9kZXM7Zm9yKGM9ZS5sZW5ndGg7Yy0tOyl7RXh0LmFwcGx5KGIsZC5yZW1vdmVSZWNvcmQoZVtjXSkpfX1yZXR1cm4gYn0sZ2V0UmVjb3JkS2V5OmZ1bmN0aW9uKGEpe2lmKGEuaXNNb2RlbCl7YT1hLmdldElkKCl9cmV0dXJuIEV4dC5TdHJpbmcuZm9ybWF0KCJ7MH0tezF9Iix0aGlzLmlkLGEpfSxnZXRSZWNvcmRDb3VudGVyS2V5OmZ1bmN0aW9uKCl7cmV0dXJuIEV4dC5TdHJpbmcuZm9ybWF0KCJ7MH0tY291bnRlciIsdGhpcy5pZCl9LGdldFRyZWVLZXk6ZnVuY3Rpb24oKXtyZXR1cm4gRXh0LlN0cmluZy5mb3JtYXQoInswfS10cmVlIix0aGlzLmlkKX0sZ2V0SWRzOmZ1bmN0aW9uKCl7dmFyIGc9dGhpcyxkPShnLmdldFN0b3JhZ2VPYmplY3QoKS5nZXRJdGVtKGcuaWQpfHwiIikuc3BsaXQoIiwiKSxiPWcubW9kZWwsZT1kLmxlbmd0aCxhPWIucHJvdG90eXBlLmZpZWxkcy5nZXQoYi5wcm90b3R5cGUuaWRQcm9wZXJ0eSkudHlwZS50eXBlPT09InN0cmluZyIsYztpZihlPT0xJiZkWzBdPT09IiIpe2Q9W119ZWxzZXtmb3IoYz0wO2M8ZTtjKyspe2RbY109YT9kW2NdOitkW2NdfX1yZXR1cm4gZH0sc2V0SWRzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0U3RvcmFnZU9iamVjdCgpLGM9YS5qb2luKCIsIik7Yi5yZW1vdmVJdGVtKHRoaXMuaWQpO2lmKCFFeHQuaXNFbXB0eShjKSl7Yi5zZXRJdGVtKHRoaXMuaWQsYyl9fSxnZXROZXh0SWQ6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGU9ZC5nZXRTdG9yYWdlT2JqZWN0KCksYz1kLmdldFJlY29yZENvdW50ZXJLZXkoKSxiPWQubW9kZWwsYT1iLnByb3RvdHlwZS5maWVsZHMuZ2V0KGIucHJvdG90eXBlLmlkUHJvcGVydHkpLnR5cGUudHlwZT09PSJzdHJpbmciLGc7Zz1kLmlkR2VuZXJhdG9yLmdlbmVyYXRlKCk7ZS5zZXRJdGVtKGMsZyk7aWYoIWEpe2c9K2d9cmV0dXJuIGd9LGdldFRyZWVEYXRhOmZ1bmN0aW9uKCl7dmFyIG49dGhpcyxhPW4uZ2V0SWRzKCksZT1hLmxlbmd0aCxqPVtdLGI9e30sbz1bXSxrPTAsaD1uLm1vZGVsLHE9aC5wcm90b3R5cGUuaWRQcm9wZXJ0eSxnLG0scCxsLGQsYztmb3IoO2s8ZTtrKyspe2M9YVtrXTttPW4uZ2V0UmVjb3JkKGMpO2oucHVzaChtKTtiW2NdPW07aWYoIW0ucGFyZW50SWQpe28ucHVzaChtKX19Zz1vLmxlbmd0aDtFeHQuQXJyYXkuc29ydChqLG4uc29ydEJ5UGFyZW50SWQpO2ZvcihrPWc7azxlO2srKyl7bT1qW2tdO2w9bS5wYXJlbnRJZDtpZighcHx8cFtxXSE9PWwpe3A9YltsXTtwLmNoaWxkcmVuPWQ9W119ZC5wdXNoKG0pfWZvcihrPWU7ay0tOyl7bT1qW2tdO2lmKCFtLmNoaWxkcmVuJiYhbS5sZWFmKXttLmxvYWRlZD10cnVlfX1mb3Ioaz1nO2stLTspe209b1trXTtvW2tdPW5ldyBoKG0sbVtxXSxtKX1yZXR1cm4gb30sc29ydEJ5UGFyZW50SWQ6ZnVuY3Rpb24oYixhKXtyZXR1cm4oYi5wYXJlbnRJZHx8MCktKGEucGFyZW50SWR8fDApfSxpbml0aWFsaXplOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuZ2V0U3RvcmFnZU9iamVjdCgpLGM9K2EuZ2V0SXRlbShiLmdldFJlY29yZENvdW50ZXJLZXkoKSk7YS5zZXRJdGVtKGIuaWQsYS5nZXRJdGVtKGIuaWQpfHwiIik7aWYoYS5nZXRJdGVtKGIuZ2V0VHJlZUtleSgpKSl7Yi5pc0hpZXJhcmNoaWNhbD10cnVlfWIuaWRHZW5lcmF0b3I9bmV3IEV4dC5kYXRhLlNlcXVlbnRpYWxJZEdlbmVyYXRvcih7c2VlZDpjP2MrMToxfSl9LGNsZWFyOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxlPWQuZ2V0U3RvcmFnZU9iamVjdCgpLGM9ZC5nZXRJZHMoKSxhPWMubGVuZ3RoLGI7Zm9yKGI9MDtiPGE7YisrKXtlLnJlbW92ZUl0ZW0oZC5nZXRSZWNvcmRLZXkoY1tiXSkpfWUucmVtb3ZlSXRlbShkLmdldFJlY29yZENvdW50ZXJLZXkoKSk7ZS5yZW1vdmVJdGVtKGQuZ2V0VHJlZUtleSgpKTtlLnJlbW92ZUl0ZW0oZC5pZCk7ZC5jYWNoZT17fX0sZ2V0U3RvcmFnZU9iamVjdDpmdW5jdGlvbigpe319KTtFeHQuZGVmaW5lKCJFeHQuZGF0YS5wcm94eS5Mb2NhbFN0b3JhZ2UiLHtleHRlbmQ6IkV4dC5kYXRhLnByb3h5LldlYlN0b3JhZ2UiLGFsaWFzOiJwcm94eS5sb2NhbHN0b3JhZ2UiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmRhdGEuTG9jYWxTdG9yYWdlUHJveHkiLGdldFN0b3JhZ2VPYmplY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LmxvY2FsU3RvcmFnZX19KTtFeHQuZGVmaW5lKCJFeHQuZGF0YS5wcm94eS5TZXNzaW9uU3RvcmFnZSIse2V4dGVuZDoiRXh0LmRhdGEucHJveHkuV2ViU3RvcmFnZSIsYWxpYXM6InByb3h5LnNlc3Npb25zdG9yYWdlIixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5kYXRhLlNlc3Npb25TdG9yYWdlUHJveHkiLGdldFN0b3JhZ2VPYmplY3Q6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93LnNlc3Npb25TdG9yYWdlfX0pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLnJlYWRlci5SZWFkZXIiLHtyZXF1aXJlczpbIkV4dC5kYXRhLlJlc3VsdFNldCJdLGFsdGVybmF0ZUNsYXNzTmFtZTpbIkV4dC5kYXRhLlJlYWRlciIsIkV4dC5kYXRhLkRhdGFSZWFkZXIiXSxtaXhpbnM6e29ic2VydmFibGU6IkV4dC51dGlsLk9ic2VydmFibGUifSx0b3RhbFByb3BlcnR5OiJ0b3RhbCIsc3VjY2Vzc1Byb3BlcnR5OiJzdWNjZXNzIixyb290OiIiLGltcGxpY2l0SW5jbHVkZXM6dHJ1ZSxyZWFkUmVjb3Jkc09uRmFpbHVyZTp0cnVlLGlzUmVhZGVyOnRydWUsYXBwbHlEZWZhdWx0czp0cnVlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5taXhpbnMub2JzZXJ2YWJsZS5jb25zdHJ1Y3Rvci5jYWxsKGIsYSk7Yi5maWVsZENvdW50PTA7Yi5tb2RlbD1FeHQuTW9kZWxNYW5hZ2VyLmdldE1vZGVsKGIubW9kZWwpO2lmKGIubW9kZWwmJmIubW9kZWwucHJvdG90eXBlLmZpZWxkcyl7Yi5idWlsZEV4dHJhY3RvcnMoKX10aGlzLmFkZEV2ZW50cygiZXhjZXB0aW9uIil9LHNldE1vZGVsOmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcztiLm1vZGVsPUV4dC5Nb2RlbE1hbmFnZXIuZ2V0TW9kZWwoYSk7Yi5idWlsZEV4dHJhY3RvcnModHJ1ZSk7aWYoYyYmYi5wcm94eSl7Yi5wcm94eS5zZXRNb2RlbChiLm1vZGVsLHRydWUpfX0scmVhZDpmdW5jdGlvbihhKXt2YXIgYjtpZihhKXtiPWEucmVzcG9uc2VUZXh0P3RoaXMuZ2V0UmVzcG9uc2VEYXRhKGEpOnRoaXMucmVhZFJlY29yZHMoYSl9cmV0dXJuIGJ8fHRoaXMubnVsbFJlc3VsdFNldH0scmVhZFJlY29yZHM6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcyxpLGIsYSxnLGUsaCxqO2lmKGQuZmllbGRDb3VudCE9PWQuZ2V0RmllbGRzKCkubGVuZ3RoKXtkLmJ1aWxkRXh0cmFjdG9ycyh0cnVlKX1kLnJhd0RhdGE9YztjPWQuZ2V0RGF0YShjKTtpPXRydWU7Yj0wO2E9W107aWYoZC5zdWNjZXNzUHJvcGVydHkpe2g9ZC5nZXRTdWNjZXNzKGMpO2lmKGg9PT1mYWxzZXx8aD09PSJmYWxzZSIpe2k9ZmFsc2V9fWlmKGQubWVzc2FnZVByb3BlcnR5KXtqPWQuZ2V0TWVzc2FnZShjKX1pZihkLnJlYWRSZWNvcmRzT25GYWlsdXJlfHxpKXtnPUV4dC5pc0FycmF5KGMpP2M6ZC5nZXRSb290KGMpO2lmKGcpe2U9Zy5sZW5ndGh9aWYoZC50b3RhbFByb3BlcnR5KXtoPXBhcnNlSW50KGQuZ2V0VG90YWwoYyksMTApO2lmKCFpc05hTihoKSl7ZT1ofX1pZihnKXthPWQuZXh0cmFjdERhdGEoZyk7Yj1hLmxlbmd0aH19cmV0dXJuIG5ldyBFeHQuZGF0YS5SZXN1bHRTZXQoe3RvdGFsOmV8fGIsY291bnQ6YixyZWNvcmRzOmEsc3VjY2VzczppLG1lc3NhZ2U6an0pfSxleHRyYWN0RGF0YTpmdW5jdGlvbihrKXt2YXIgaj10aGlzLGQ9W10sYj1qLm1vZGVsLGE9ay5sZW5ndGgsZSxjLGgsZztpZighay5sZW5ndGgmJkV4dC5pc09iamVjdChrKSl7az1ba107YT0xfWZvcihnPTA7ZzxhO2crKyl7Yz1rW2ddO2g9bmV3IGIodW5kZWZpbmVkLGouZ2V0SWQoYyksYyxlPXt9KTtoLnBoYW50b209ZmFsc2U7ai5jb252ZXJ0UmVjb3JkRGF0YShlLGMsaCk7ZC5wdXNoKGgpO2lmKGouaW1wbGljaXRJbmNsdWRlcyl7ai5yZWFkQXNzb2NpYXRlZChoLGMpfX1yZXR1cm4gZH0scmVhZEFzc29jaWF0ZWQ6ZnVuY3Rpb24oaCxlKXt2YXIgZD1oLmFzc29jaWF0aW9ucy5pdGVtcyxnPTAsYT1kLmxlbmd0aCxjLGIsayxqO2Zvcig7ZzxhO2crKyl7Yz1kW2ddO2I9dGhpcy5nZXRBc3NvY2lhdGVkRGF0YVJvb3QoZSxjLmFzc29jaWF0aW9uS2V5fHxjLm5hbWUpO2lmKGIpe2o9Yy5nZXRSZWFkZXIoKTtpZighail7az1jLmFzc29jaWF0ZWRNb2RlbC5wcm94eTtpZihrKXtqPWsuZ2V0UmVhZGVyKCl9ZWxzZXtqPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHttb2RlbDpjLmFzc29jaWF0ZWROYW1lfSl9fWMucmVhZChoLGosYil9fX0sZ2V0QXNzb2NpYXRlZERhdGFSb290OmZ1bmN0aW9uKGIsYSl7cmV0dXJuIGJbYV19LGdldEZpZWxkczpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZGVsLnByb3RvdHlwZS5maWVsZHMuaXRlbXN9LGdldERhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LGdldFJvb3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LGdldFJlc3BvbnNlRGF0YTpmdW5jdGlvbihhKXt9LG9uTWV0YUNoYW5nZTpmdW5jdGlvbihlKXt2YXIgZD10aGlzLGI9ZS5maWVsZHN8fGQuZ2V0RmllbGRzKCksYyxhO2QubWV0YURhdGE9ZTtkLnJvb3Q9ZS5yb290fHxkLnJvb3Q7ZC5pZFByb3BlcnR5PWUuaWRQcm9wZXJ0eXx8ZC5pZFByb3BlcnR5O2QudG90YWxQcm9wZXJ0eT1lLnRvdGFsUHJvcGVydHl8fGQudG90YWxQcm9wZXJ0eTtkLnN1Y2Nlc3NQcm9wZXJ0eT1lLnN1Y2Nlc3NQcm9wZXJ0eXx8ZC5zdWNjZXNzUHJvcGVydHk7ZC5tZXNzYWdlUHJvcGVydHk9ZS5tZXNzYWdlUHJvcGVydHl8fGQubWVzc2FnZVByb3BlcnR5O2E9ZS5jbGllbnRJZFByb3BlcnR5O2lmKGQubW9kZWwpe2QubW9kZWwuc2V0RmllbGRzKGIsZC5pZFByb3BlcnR5LGEpO2Quc2V0TW9kZWwoZC5tb2RlbCx0cnVlKX1lbHNle2M9RXh0LmRlZmluZSgiRXh0LmRhdGEucmVhZGVyLkpzb24tTW9kZWwiK0V4dC5pZCgpLHtleHRlbmQ6IkV4dC5kYXRhLk1vZGVsIixmaWVsZHM6YixjbGllbnRJZFByb3BlcnR5OmF9KTtpZihkLmlkUHJvcGVydHkpe2MuaWRQcm9wZXJ0eT1kLmlkUHJvcGVydHl9ZC5zZXRNb2RlbChjLHRydWUpfX0sZ2V0SWRQcm9wZXJ0eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkUHJvcGVydHl8fHRoaXMubW9kZWwucHJvdG90eXBlLmlkUHJvcGVydHl9LGJ1aWxkRXh0cmFjdG9yczpmdW5jdGlvbihiKXt2YXIgZz10aGlzLGo9Zy5nZXRJZFByb3BlcnR5KCksaT1nLnRvdGFsUHJvcGVydHksZT1nLnN1Y2Nlc3NQcm9wZXJ0eSxoPWcubWVzc2FnZVByb3BlcnR5LGQsYyxhO2lmKGI9PT10cnVlKXtkZWxldGUgZy5jb252ZXJ0UmVjb3JkRGF0YX1pZihnLmNvbnZlcnRSZWNvcmREYXRhKXtyZXR1cm59aWYoaSl7Zy5nZXRUb3RhbD1nLmNyZWF0ZUFjY2Vzc29yKGkpfWlmKGUpe2cuZ2V0U3VjY2Vzcz1nLmNyZWF0ZUFjY2Vzc29yKGUpfWlmKGgpe2cuZ2V0TWVzc2FnZT1nLmNyZWF0ZUFjY2Vzc29yKGgpfWlmKGope2M9Zy5tb2RlbC5wcm90b3R5cGUuZmllbGRzLmdldChqKTtpZihjKXthPWMubWFwcGluZztqPShhIT09dW5kZWZpbmVkJiZhIT09bnVsbCk/YTpqfWQ9Zy5jcmVhdGVBY2Nlc3NvcihqKTtnLmdldElkPWZ1bmN0aW9uKGspe3ZhciBsPWQuY2FsbChnLGspO3JldHVybihsPT09dW5kZWZpbmVkfHxsPT09IiIpP251bGw6bH19ZWxzZXtnLmdldElkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fWcuY29udmVydFJlY29yZERhdGE9Zy5idWlsZFJlY29yZERhdGFFeHRyYWN0b3IoKX0sYnVpbGRSZWNvcmREYXRhRXh0cmFjdG9yOmZ1bmN0aW9uKCl7dmFyIGo9dGhpcyxsPWoubW9kZWwucHJvdG90eXBlLGg9bC5jbGllbnRJZFByb3BlcnR5LGc9bC5maWVsZHMuaXRlbXMsZD1nLmxlbmd0aCxhPVtdLGMsZT0wLGssYj1bInZhciBtZSA9IHRoaXMsXG4iLCIgICAgZmllbGRzID0gbWUubW9kZWwucHJvdG90eXBlLmZpZWxkcyxcbiIsIiAgICB2YWx1ZSxcbiIsIiAgICBpbnRlcm5hbElkIl07Zm9yKGU9MDtlPGQ7ZSsrKXtrPWdbZV07YVtlXT0iX19maWVsZCIrZTtiLnB1c2goIixcbiAgICAiLGFbZV0sJyA9IGZpZWxkcy5nZXQoIicsay5uYW1lLCciKScpfWIucHVzaCgiO1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGRlc3QsIHNvdXJjZSwgcmVjb3JkKSB7XG4iKTtmb3IoZT0wO2U8ZDtlKyspe2s9Z1tlXTtjPWFbZV07Yi5wdXNoKCIgICAgICAgIHZhbHVlID0gIixqLmNyZWF0ZUZpZWxkQWNjZXNzRXhwcmVzc2lvbihrLGMsInNvdXJjZSIpLCI7XG4iKTtpZihrLmRlZmF1bHRWYWx1ZSE9PXVuZGVmaW5lZCl7Yi5wdXNoKCIgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4iKTtiLnB1c2goIiAgICAgICAgICAgIGlmIChtZS5hcHBseURlZmF1bHRzKSB7XG4iKTtiLnB1c2goJyAgICAgICAgICAgICAgICBkZXN0WyInK2submFtZSsnIl0gPSAnLChrLmNvbnZlcnQ/YVtlXSsiLmNvbnZlcnQoIithW2VdKyIuZGVmYXVsdFZhbHVlLCByZWNvcmQpIjooYVtlXSsiLmRlZmF1bHRWYWx1ZSIpKSwiO1xuIik7Yi5wdXNoKCIgICAgICAgICAgICB9XG4iKTtiLnB1c2goIiAgICAgICAgfSBlbHNlIHtcbiIpO2IucHVzaCgnICAgICAgICAgICAgZGVzdFsiJytrLm5hbWUrJyJdID0gJywoay5jb252ZXJ0P2FbZV0rIi5jb252ZXJ0KHZhbHVlLCByZWNvcmQpIjoidmFsdWUiKSwiO1xuIik7Yi5wdXNoKCIgICAgICAgIH1cbiIpfWVsc2V7Yi5wdXNoKCIgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4iKTtiLnB1c2goJyAgICAgICAgICAgIGRlc3RbIicray5uYW1lKyciXSA9ICcsKGsuY29udmVydD9hW2VdKyIuY29udmVydCh2YWx1ZSwgcmVjb3JkKSI6InZhbHVlIiksIjtcbiIpO2IucHVzaCgiICAgICAgICB9XG4iKX19aWYoaCl7Yi5wdXNoKCIgICAgICAgIGlmIChyZWNvcmQgJiYgKGludGVybmFsSWQgPSAiK2ouY3JlYXRlRmllbGRBY2Nlc3NFeHByZXNzaW9uKHttYXBwaW5nOmh9LG51bGwsInNvdXJjZSIpKyIpKSB7XG4iKTtiLnB1c2goIiAgICAgICAgICAgIHJlY29yZC5pbnRlcm5hbElkID0gaW50ZXJuYWxJZDtcbiAgICAgICAgfVxuIil9Yi5wdXNoKCIgICAgfTsiKTtyZXR1cm4gRXh0LmZ1bmN0aW9uRmFjdG9yeShiLmpvaW4oIiIpKS5jYWxsKGopfSxkZXN0cm95UmVhZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkZWxldGUgYS5wcm94eTtkZWxldGUgYS5tb2RlbDtkZWxldGUgYS5jb252ZXJ0UmVjb3JkRGF0YTtkZWxldGUgYS5nZXRJZDtkZWxldGUgYS5nZXRUb3RhbDtkZWxldGUgYS5nZXRTdWNjZXNzO2RlbGV0ZSBhLmdldE1lc3NhZ2V9fSxmdW5jdGlvbigpe0V4dC5hcHBseSh0aGlzLnByb3RvdHlwZSx7bnVsbFJlc3VsdFNldDpuZXcgRXh0LmRhdGEuUmVzdWx0U2V0KHt0b3RhbDowLGNvdW50OjAscmVjb3JkczpbXSxzdWNjZXNzOnRydWV9KX0pfSk7RXh0LmRlZmluZSgiRXh0LmRhdGEucmVhZGVyLkpzb24iLHtleHRlbmQ6IkV4dC5kYXRhLnJlYWRlci5SZWFkZXIiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmRhdGEuSnNvblJlYWRlciIsYWxpYXM6InJlYWRlci5qc29uIixyb290OiIiLHVzZVNpbXBsZUFjY2Vzc29yczpmYWxzZSxyZWFkUmVjb3JkczpmdW5jdGlvbihhKXtpZihhLm1ldGFEYXRhKXt0aGlzLm9uTWV0YUNoYW5nZShhLm1ldGFEYXRhKX10aGlzLmpzb25EYXRhPWE7cmV0dXJuIHRoaXMuY2FsbFBhcmVudChbYV0pfSxnZXRSZXNwb25zZURhdGE6ZnVuY3Rpb24oYSl7dmFyIGQsYjt0cnl7ZD1FeHQuZGVjb2RlKGEucmVzcG9uc2VUZXh0KTtyZXR1cm4gdGhpcy5yZWFkUmVjb3JkcyhkKX1jYXRjaChjKXtiPW5ldyBFeHQuZGF0YS5SZXN1bHRTZXQoe3RvdGFsOjAsY291bnQ6MCxyZWNvcmRzOltdLHN1Y2Nlc3M6ZmFsc2UsbWVzc2FnZTpjLm1lc3NhZ2V9KTt0aGlzLmZpcmVFdmVudCgiZXhjZXB0aW9uIix0aGlzLGEsYik7RXh0LkxvZ2dlci53YXJuKCJVbmFibGUgdG8gcGFyc2UgdGhlIEpTT04gcmV0dXJuZWQgYnkgdGhlIHNlcnZlciIpO3JldHVybiBifX0sYnVpbGRFeHRyYWN0b3JzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihhLnJvb3Qpe2EuZ2V0Um9vdD1hLmNyZWF0ZUFjY2Vzc29yKGEucm9vdCl9ZWxzZXthLmdldFJvb3Q9ZnVuY3Rpb24oYil7cmV0dXJuIGJ9fX0sZXh0cmFjdERhdGE6ZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy5yZWNvcmQsZD1bXSxjLGI7aWYoZSl7Yz1hLmxlbmd0aDtpZighYyYmRXh0LmlzT2JqZWN0KGEpKXtjPTE7YT1bYV19Zm9yKGI9MDtiPGM7YisrKXtkW2JdPWFbYl1bZV19fWVsc2V7ZD1hfXJldHVybiB0aGlzLmNhbGxQYXJlbnQoW2RdKX0sY3JlYXRlQWNjZXNzb3I6KGZ1bmN0aW9uKCl7dmFyIGE9L1tcW1wuXS87cmV0dXJuIGZ1bmN0aW9uKGMpe2lmKEV4dC5pc0VtcHR5KGMpKXtyZXR1cm4gRXh0LmVtcHR5Rm59aWYoRXh0LmlzRnVuY3Rpb24oYykpe3JldHVybiBjfWlmKHRoaXMudXNlU2ltcGxlQWNjZXNzb3JzIT09dHJ1ZSl7dmFyIGI9U3RyaW5nKGMpLnNlYXJjaChhKTtpZihiPj0wKXtyZXR1cm4gRXh0LmZ1bmN0aW9uRmFjdG9yeSgib2JqIiwicmV0dXJuIG9iaiIrKGI+MD8iLiI6IiIpK2MpfX1yZXR1cm4gZnVuY3Rpb24oZCl7cmV0dXJuIGRbY119fX0oKSksY3JlYXRlRmllbGRBY2Nlc3NFeHByZXNzaW9uOihmdW5jdGlvbigpe3ZhciBhPS9bXFtcLl0vO3JldHVybiBmdW5jdGlvbihpLGQsYyl7dmFyIGU9dGhpcyxnPShpLm1hcHBpbmchPT1udWxsKSxoPWc/aS5tYXBwaW5nOmkubmFtZSxiLGo7aWYodHlwZW9mIGg9PT0iZnVuY3Rpb24iKXtiPWQrIi5tYXBwaW5nKCIrYysiLCB0aGlzKSJ9ZWxzZXtpZih0aGlzLnVzZVNpbXBsZUFjY2Vzc29ycz09PXRydWV8fCgoaj1TdHJpbmcoaCkuc2VhcmNoKGEpKTwwKSl7aWYoIWd8fGlzTmFOKGgpKXtoPSciJytoKyciJ31iPWMrIlsiK2grIl0ifWVsc2V7Yj1jKyhqPjA/Ii4iOiIiKStofX1yZXR1cm4gYn19KCkpfSk7RXh0LmRlZmluZSgiRXh0LmRhdGEucmVhZGVyLkFycmF5Iix7ZXh0ZW5kOiJFeHQuZGF0YS5yZWFkZXIuSnNvbiIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuZGF0YS5BcnJheVJlYWRlciIsYWxpYXM6InJlYWRlci5hcnJheSIsdG90YWxQcm9wZXJ0eTp1bmRlZmluZWQsc3VjY2Vzc1Byb3BlcnR5OnVuZGVmaW5lZCxjcmVhdGVGaWVsZEFjY2Vzc0V4cHJlc3Npb246ZnVuY3Rpb24oZSxjLGIpe3ZhciBkPShlLm1hcHBpbmc9PW51bGwpP2Uub3JpZ2luYWxJbmRleDplLm1hcHBpbmcsYTtpZih0eXBlb2YgZD09PSJmdW5jdGlvbiIpe2E9YysiLm1hcHBpbmcoIitiKyIsIHRoaXMpIn1lbHNle2lmKGlzTmFOKGQpKXtkPSciJytkKyciJ31hPWIrIlsiK2QrIl0ifXJldHVybiBhfX0pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLnJlYWRlci5YbWwiLHtleHRlbmQ6IkV4dC5kYXRhLnJlYWRlci5SZWFkZXIiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmRhdGEuWG1sUmVhZGVyIixhbGlhczoicmVhZGVyLnhtbCIsY3JlYXRlQWNjZXNzb3I6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZihFeHQuaXNFbXB0eShiKSl7cmV0dXJuIEV4dC5lbXB0eUZufWlmKEV4dC5pc0Z1bmN0aW9uKGIpKXtyZXR1cm4gYn1yZXR1cm4gZnVuY3Rpb24oYyl7cmV0dXJuIGEuZ2V0Tm9kZVZhbHVlKEV4dC5Eb21RdWVyeS5zZWxlY3ROb2RlKGIsYykpfX0sZ2V0Tm9kZVZhbHVlOmZ1bmN0aW9uKGEpe2lmKGEmJmEuZmlyc3RDaGlsZCl7cmV0dXJuIGEuZmlyc3RDaGlsZC5ub2RlVmFsdWV9cmV0dXJuIHVuZGVmaW5lZH0sZ2V0UmVzcG9uc2VEYXRhOmZ1bmN0aW9uKGEpe3ZhciBjPWEucmVzcG9uc2VYTUwsYixkO2lmKCFjKXtkPSJYTUwgZGF0YSBub3QgZm91bmQgaW4gdGhlIHJlc3BvbnNlIjtiPW5ldyBFeHQuZGF0YS5SZXN1bHRTZXQoe3RvdGFsOjAsY291bnQ6MCxyZWNvcmRzOltdLHN1Y2Nlc3M6ZmFsc2UsbWVzc2FnZTpkfSk7dGhpcy5maXJlRXZlbnQoImV4Y2VwdGlvbiIsdGhpcyxhLGIpO0V4dC5Mb2dnZXIud2FybihkKTtyZXR1cm4gYn1yZXR1cm4gdGhpcy5yZWFkUmVjb3JkcyhjKX0sZ2V0RGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gYS5kb2N1bWVudEVsZW1lbnR8fGF9LGdldFJvb3Q6ZnVuY3Rpb24oYil7dmFyIGM9Yi5ub2RlTmFtZSxhPXRoaXMucm9vdDtpZighYXx8KGMmJmM9PWEpKXtyZXR1cm4gYn1lbHNle2lmKEV4dC5Eb21RdWVyeS5pc1htbChiKSl7cmV0dXJuIEV4dC5Eb21RdWVyeS5zZWxlY3ROb2RlKGEsYil9fX0sZXh0cmFjdERhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5yZWNvcmQ7aWYoYiE9YS5ub2RlTmFtZSl7YT1FeHQuRG9tUXVlcnkuc2VsZWN0KGIsYSl9ZWxzZXthPVthXX1yZXR1cm4gdGhpcy5jYWxsUGFyZW50KFthXSl9LGdldEFzc29jaWF0ZWREYXRhUm9vdDpmdW5jdGlvbihiLGEpe3JldHVybiBFeHQuRG9tUXVlcnkuc2VsZWN0KGEsYilbMF19LHJlYWRSZWNvcmRzOmZ1bmN0aW9uKGEpe2lmKEV4dC5pc0FycmF5KGEpKXthPWFbMF19dGhpcy54bWxEYXRhPWE7cmV0dXJuIHRoaXMuY2FsbFBhcmVudChbYV0pfSxjcmVhdGVGaWVsZEFjY2Vzc0V4cHJlc3Npb246ZnVuY3Rpb24oZSxkLGMpe3ZhciBiPWUubWFwcGluZ3x8ZS5uYW1lLGE7aWYodHlwZW9mIGI9PT0iZnVuY3Rpb24iKXthPWQrIi5tYXBwaW5nKCIrYysiLCB0aGlzKSJ9ZWxzZXthPSdtZS5nZXROb2RlVmFsdWUoRXh0LkRvbVF1ZXJ5LnNlbGVjdE5vZGUoIicrYisnIiwgJytjKyIpKSJ9cmV0dXJuIGF9fSk7RXh0LmRlZmluZSgiRXh0LmRhdGEud3JpdGVyLkpzb24iLHtleHRlbmQ6IkV4dC5kYXRhLndyaXRlci5Xcml0ZXIiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmRhdGEuSnNvbldyaXRlciIsYWxpYXM6IndyaXRlci5qc29uIixyb290OnVuZGVmaW5lZCxlbmNvZGU6ZmFsc2UsYWxsb3dTaW5nbGU6dHJ1ZSx3cml0ZVJlY29yZHM6ZnVuY3Rpb24oYixjKXt2YXIgYT10aGlzLnJvb3Q7aWYodGhpcy5hbGxvd1NpbmdsZSYmYy5sZW5ndGg9PTEpe2M9Y1swXX1pZih0aGlzLmVuY29kZSl7aWYoYSl7Yi5wYXJhbXNbYV09RXh0LmVuY29kZShjKX1lbHNle319ZWxzZXtiLmpzb25EYXRhPWIuanNvbkRhdGF8fHt9O2lmKGEpe2IuanNvbkRhdGFbYV09Y31lbHNle2IuanNvbkRhdGE9Y319cmV0dXJuIGJ9fSk7RXh0LmRlZmluZSgiRXh0LmRpcmVjdC5Qcm92aWRlciIse2FsaWFzOiJkaXJlY3QucHJvdmlkZXIiLG1peGluczp7b2JzZXJ2YWJsZToiRXh0LnV0aWwuT2JzZXJ2YWJsZSJ9LGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7RXh0LmFwcGx5KGIsYSk7Yi5hZGRFdmVudHMoImNvbm5lY3QiLCJkaXNjb25uZWN0IiwiZGF0YSIsImV4Y2VwdGlvbiIpO2IubWl4aW5zLm9ic2VydmFibGUuY29uc3RydWN0b3IuY2FsbChiLGEpfSxpc0Nvbm5lY3RlZDpmdW5jdGlvbigpe3JldHVybiBmYWxzZX0sY29ubmVjdDpFeHQuZW1wdHlGbixkaXNjb25uZWN0OkV4dC5lbXB0eUZufSk7RXh0LmRlZmluZSgiRXh0LmRpcmVjdC5Kc29uUHJvdmlkZXIiLHtleHRlbmQ6IkV4dC5kaXJlY3QuUHJvdmlkZXIiLGFsaWFzOiJkaXJlY3QuanNvbnByb3ZpZGVyIix1c2VzOlsiRXh0LmRpcmVjdC5FeGNlcHRpb25FdmVudCJdLHBhcnNlUmVzcG9uc2U6ZnVuY3Rpb24oYSl7aWYoIUV4dC5pc0VtcHR5KGEucmVzcG9uc2VUZXh0KSl7aWYoRXh0LmlzT2JqZWN0KGEucmVzcG9uc2VUZXh0KSl7cmV0dXJuIGEucmVzcG9uc2VUZXh0fXJldHVybiBFeHQuZGVjb2RlKGEucmVzcG9uc2VUZXh0KX1yZXR1cm4gbnVsbH0sY3JlYXRlRXZlbnRzOmZ1bmN0aW9uKGIpe3ZhciBoPW51bGwsZD1bXSxnLGM9MCxhO3RyeXtoPXRoaXMucGFyc2VSZXNwb25zZShiKX1jYXRjaChqKXtnPW5ldyBFeHQuZGlyZWN0LkV4Y2VwdGlvbkV2ZW50KHtkYXRhOmoseGhyOmIsY29kZTpFeHQuZGlyZWN0Lk1hbmFnZXIuc2VsZi5leGNlcHRpb25zLlBBUlNFLG1lc3NhZ2U6IkVycm9yIHBhcnNpbmcganNvbiByZXNwb25zZTogXG5cbiAiK2h9KTtyZXR1cm5bZ119aWYoRXh0LmlzQXJyYXkoaCkpe2ZvcihhPWgubGVuZ3RoO2M8YTsrK2Mpe2QucHVzaCh0aGlzLmNyZWF0ZUV2ZW50KGhbY10pKX19ZWxzZXtkLnB1c2godGhpcy5jcmVhdGVFdmVudChoKSl9cmV0dXJuIGR9LGNyZWF0ZUV2ZW50OmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuY3JlYXRlKCJkaXJlY3QuIithLnR5cGUsYSl9fSk7RXh0LmRlZmluZSgiRXh0LmRpcmVjdC5Qb2xsaW5nUHJvdmlkZXIiLHtleHRlbmQ6IkV4dC5kaXJlY3QuSnNvblByb3ZpZGVyIixhbGlhczoiZGlyZWN0LnBvbGxpbmdwcm92aWRlciIsdXNlczpbIkV4dC5kaXJlY3QuRXhjZXB0aW9uRXZlbnQiXSxyZXF1aXJlczpbIkV4dC5BamF4IiwiRXh0LnV0aWwuRGVsYXllZFRhc2siXSxpbnRlcnZhbDozMDAwLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3RoaXMuYWRkRXZlbnRzKCJiZWZvcmVwb2xsIiwicG9sbCIpfSxpc0Nvbm5lY3RlZDpmdW5jdGlvbigpe3JldHVybiAhIXRoaXMucG9sbFRhc2t9LGNvbm5lY3Q6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi51cmw7aWYoYSYmIWIucG9sbFRhc2spe2IucG9sbFRhc2s9RXh0LlRhc2tNYW5hZ2VyLnN0YXJ0KHtydW46ZnVuY3Rpb24oKXtpZihiLmZpcmVFdmVudCgiYmVmb3JlcG9sbCIsYikhPT1mYWxzZSl7aWYoRXh0LmlzRnVuY3Rpb24oYSkpe2EoYi5iYXNlUGFyYW1zKX1lbHNle0V4dC5BamF4LnJlcXVlc3Qoe3VybDphLGNhbGxiYWNrOmIub25EYXRhLHNjb3BlOmIscGFyYW1zOmIuYmFzZVBhcmFtc30pfX19LGludGVydmFsOmIuaW50ZXJ2YWwsc2NvcGU6Yn0pO2IuZmlyZUV2ZW50KCJjb25uZWN0IixiKX1lbHNle2lmKCFhKXt9fX0sZGlzY29ubmVjdDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5wb2xsVGFzayl7RXh0LlRhc2tNYW5hZ2VyLnN0b3AoYS5wb2xsVGFzayk7ZGVsZXRlIGEucG9sbFRhc2s7YS5maXJlRXZlbnQoImRpc2Nvbm5lY3QiLGEpfX0sb25EYXRhOmZ1bmN0aW9uKGUsaCxiKXt2YXIgZz10aGlzLGQ9MCxhLGM7aWYoaCl7Yz1nLmNyZWF0ZUV2ZW50cyhiKTtmb3IoYT1jLmxlbmd0aDtkPGE7KytkKXtnLmZpcmVFdmVudCgiZGF0YSIsZyxjW2RdKX19ZWxzZXtnLmZpcmVFdmVudCgiZGF0YSIsZyxuZXcgRXh0LmRpcmVjdC5FeGNlcHRpb25FdmVudCh7ZGF0YTpudWxsLGNvZGU6RXh0LmRpcmVjdC5NYW5hZ2VyLnNlbGYuZXhjZXB0aW9ucy5UUkFOU1BPUlQsbWVzc2FnZToiVW5hYmxlIHRvIGNvbm5lY3QgdG8gdGhlIHNlcnZlci4iLHhocjpifSkpfX19KTtFeHQubnMoIkV4dC5meCIpO0V4dC5yZXF1aXJlKCJFeHQuZnguQ3ViaWNCZXppZXIiLGZ1bmN0aW9uKCl7dmFyIGU9TWF0aCxoPWUuUEksZD1lLnBvdyxiPWUuc2luLGc9ZS5zcXJ0LGE9ZS5hYnMsYz0xLjcwMTU4O0V4dC5meC5FYXNpbmc9e307RXh0LmFwcGx5KEV4dC5meC5FYXNpbmcse2xpbmVhcjpmdW5jdGlvbihpKXtyZXR1cm4gaX0sZWFzZTpmdW5jdGlvbihsKXt2YXIgaT0wLjA3ODEzLWwvMixtPS0wLjI1LG89ZygwLjAwNjYraSppKSxyPW8taSxrPWQoYShyKSwxLzMpKihyPDA/LTE6MSkscD0tby1pLGo9ZChhKHApLDEvMykqKHA8MD8tMToxKSxzPWsraiswLjI1O3JldHVybiBkKDEtcywyKSozKnMqMC4xKygxLXMpKjMqcypzK3MqcypzfSxlYXNlSW46ZnVuY3Rpb24oaSl7cmV0dXJuIGQoaSwxLjcpfSxlYXNlT3V0OmZ1bmN0aW9uKGkpe3JldHVybiBkKGksMC40OCl9LGVhc2VJbk91dDpmdW5jdGlvbihyKXt2YXIgbD0wLjQ4LXIvMS4wNCxrPWcoMC4xNzM0K2wqbCksaT1rLWwscD1kKGEoaSksMS8zKSooaTwwPy0xOjEpLG89LWstbCxtPWQoYShvKSwxLzMpKihvPDA/LTE6MSksaj1wK20rMC41O3JldHVybigxLWopKjMqaipqK2oqaipqfSxiYWNrSW46ZnVuY3Rpb24oaSl7cmV0dXJuIGkqaSooKGMrMSkqaS1jKX0sYmFja091dDpmdW5jdGlvbihpKXtpPWktMTtyZXR1cm4gaSppKigoYysxKSppK2MpKzF9LGVsYXN0aWNJbjpmdW5jdGlvbihrKXtpZihrPT09MHx8az09PTEpe3JldHVybiBrfXZhciBqPTAuMyxpPWovNDtyZXR1cm4gZCgyLC0xMCprKSpiKChrLWkpKigyKmgpL2opKzF9LGVsYXN0aWNPdXQ6ZnVuY3Rpb24oaSl7cmV0dXJuIDEtRXh0LmZ4LkVhc2luZy5lbGFzdGljSW4oMS1pKX0sYm91bmNlSW46ZnVuY3Rpb24oaSl7cmV0dXJuIDEtRXh0LmZ4LkVhc2luZy5ib3VuY2VPdXQoMS1pKX0sYm91bmNlT3V0OmZ1bmN0aW9uKG0pe3ZhciBqPTcuNTYyNSxrPTIuNzUsaTtpZihtPCgxL2spKXtpPWoqbSptfWVsc2V7aWYobTwoMi9rKSl7bS09KDEuNS9rKTtpPWoqbSptKzAuNzV9ZWxzZXtpZihtPCgyLjUvaykpe20tPSgyLjI1L2spO2k9aiptKm0rMC45Mzc1fWVsc2V7bS09KDIuNjI1L2spO2k9aiptKm0rMC45ODQzNzV9fX1yZXR1cm4gaX19KTtFeHQuYXBwbHkoRXh0LmZ4LkVhc2luZyx7ImJhY2staW4iOkV4dC5meC5FYXNpbmcuYmFja0luLCJiYWNrLW91dCI6RXh0LmZ4LkVhc2luZy5iYWNrT3V0LCJlYXNlLWluIjpFeHQuZnguRWFzaW5nLmVhc2VJbiwiZWFzZS1vdXQiOkV4dC5meC5FYXNpbmcuZWFzZU91dCwiZWxhc3RpYy1pbiI6RXh0LmZ4LkVhc2luZy5lbGFzdGljSW4sImVsYXN0aWMtb3V0IjpFeHQuZnguRWFzaW5nLmVsYXN0aWNJbiwiYm91bmNlLWluIjpFeHQuZnguRWFzaW5nLmJvdW5jZUluLCJib3VuY2Utb3V0IjpFeHQuZnguRWFzaW5nLmJvdW5jZU91dCwiZWFzZS1pbi1vdXQiOkV4dC5meC5FYXNpbmcuZWFzZUluT3V0fSl9KTtFeHQuZGVmaW5lKCJFeHQuZngudGFyZ2V0LkNvbXBvbmVudCIse2V4dGVuZDoiRXh0LmZ4LnRhcmdldC5UYXJnZXQiLHR5cGU6ImNvbXBvbmVudCIsZ2V0UHJvcE1ldGhvZDp7dG9wOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UG9zaXRpb24odHJ1ZSlbMV19LGxlZnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQb3NpdGlvbih0cnVlKVswXX0seDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBvc2l0aW9uKClbMF19LHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQb3NpdGlvbigpWzFdfSxoZWlnaHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRIZWlnaHQoKX0sd2lkdGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRXaWR0aCgpfSxvcGFjaXR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWwuZ2V0U3R5bGUoIm9wYWNpdHkiKX19LGNvbXBNZXRob2Q6e3RvcDoic2V0UG9zaXRpb24iLGxlZnQ6InNldFBvc2l0aW9uIix4OiJzZXRQYWdlUG9zaXRpb24iLHk6InNldFBhZ2VQb3NpdGlvbiIsaGVpZ2h0OiJzZXRTaXplIix3aWR0aDoic2V0U2l6ZSIsb3BhY2l0eToic2V0T3BhY2l0eSJ9LGdldEF0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm5bW3RoaXMudGFyZ2V0LGIhPT11bmRlZmluZWQ/Yjp0aGlzLmdldFByb3BNZXRob2RbYV0uY2FsbCh0aGlzLnRhcmdldCldXX0sc2V0QXR0cjpmdW5jdGlvbih0LGUsYil7dmFyIHI9dGhpcyxtPXIudGFyZ2V0LHE9dC5sZW5ndGgsdixuLGEsZyxkLHAsbCxjLHMsdSxrO2ZvcihnPTA7ZzxxO2crKyl7dj10W2ddLmF0dHJzO2ZvcihuIGluIHYpe2w9dltuXS5sZW5ndGg7cD17c2V0UG9zaXRpb246e30sc2V0UGFnZVBvc2l0aW9uOnt9LHNldFNpemU6e30sc2V0T3BhY2l0eTp7fX07Zm9yKGQ9MDtkPGw7ZCsrKXthPXZbbl1bZF07cFtyLmNvbXBNZXRob2Rbbl1dLnRhcmdldD1hWzBdO3Bbci5jb21wTWV0aG9kW25dXVtuXT1hWzFdfWlmKHAuc2V0UG9zaXRpb24udGFyZ2V0KXthPXAuc2V0UG9zaXRpb247Yz0oYS5sZWZ0PT09dW5kZWZpbmVkKT91bmRlZmluZWQ6cGFyc2VGbG9hdChhLmxlZnQpO3M9KGEudG9wPT09dW5kZWZpbmVkKT91bmRlZmluZWQ6cGFyc2VGbG9hdChhLnRvcCk7YS50YXJnZXQuc2V0UG9zaXRpb24oYyxzKX1pZihwLnNldFBhZ2VQb3NpdGlvbi50YXJnZXQpe2E9cC5zZXRQYWdlUG9zaXRpb247YS50YXJnZXQuc2V0UGFnZVBvc2l0aW9uKGEueCxhLnkpfWlmKHAuc2V0U2l6ZS50YXJnZXQpe2E9cC5zZXRTaXplO3U9KGEud2lkdGg9PT11bmRlZmluZWQpP2EudGFyZ2V0LmdldFdpZHRoKCk6cGFyc2VGbG9hdChhLndpZHRoKTtrPShhLmhlaWdodD09PXVuZGVmaW5lZCk/YS50YXJnZXQuZ2V0SGVpZ2h0KCk6cGFyc2VGbG9hdChhLmhlaWdodCk7aWYoYnx8ci5keW5hbWljKXthLnRhcmdldC5zZXRTaXplKHUsayl9ZWxzZXthLnRhcmdldC5lbC5zZXRTaXplKHUsayl9fWlmKHAuc2V0T3BhY2l0eS50YXJnZXQpe2E9cC5zZXRPcGFjaXR5O2EudGFyZ2V0LmVsLnNldFN0eWxlKCJvcGFjaXR5IixhLm9wYWNpdHkpfX19fX0pO0V4dC5kZWZpbmUoIkV4dC5meC50YXJnZXQuRWxlbWVudCIse2V4dGVuZDoiRXh0LmZ4LnRhcmdldC5UYXJnZXQiLHR5cGU6ImVsZW1lbnQiLGdldEVsVmFsOmZ1bmN0aW9uKGIsYSxjKXtpZihjPT11bmRlZmluZWQpe2lmKGE9PT0ieCIpe2M9Yi5nZXRYKCl9ZWxzZXtpZihhPT09InkiKXtjPWIuZ2V0WSgpfWVsc2V7aWYoYT09PSJzY3JvbGxUb3AiKXtjPWIuZ2V0U2Nyb2xsKCkudG9wfWVsc2V7aWYoYT09PSJzY3JvbGxMZWZ0Iil7Yz1iLmdldFNjcm9sbCgpLmxlZnR9ZWxzZXtpZihhPT09ImhlaWdodCIpe2M9Yi5nZXRIZWlnaHQoKX1lbHNle2lmKGE9PT0id2lkdGgiKXtjPWIuZ2V0V2lkdGgoKX1lbHNle2M9Yi5nZXRTdHlsZShhKX19fX19fX1yZXR1cm4gY30sZ2V0QXR0cjpmdW5jdGlvbihhLGMpe3ZhciBiPXRoaXMudGFyZ2V0O3JldHVybltbYix0aGlzLmdldEVsVmFsKGIsYSxjKV1dfSxzZXRBdHRyOmZ1bmN0aW9uKGwpe3ZhciBnPXRoaXMudGFyZ2V0LGs9bC5sZW5ndGgsbixoLGIsZSxjLGEsZCxtO2ZvcihlPTA7ZTxrO2UrKyl7bj1sW2VdLmF0dHJzO2ZvcihoIGluIG4pe2lmKG4uaGFzT3duUHJvcGVydHkoaCkpe2E9bltoXS5sZW5ndGg7Zm9yKGM9MDtjPGE7YysrKXtiPW5baF1bY107ZD1iWzBdO209YlsxXTtpZihoPT09IngiKXtkLnNldFgobSl9ZWxzZXtpZihoPT09InkiKXtkLnNldFkobSl9ZWxzZXtpZihoPT09InNjcm9sbFRvcCIpe2Quc2Nyb2xsVG8oInRvcCIsbSl9ZWxzZXtpZihoPT09InNjcm9sbExlZnQiKXtkLnNjcm9sbFRvKCJsZWZ0IixtKX1lbHNle2lmKGg9PT0id2lkdGgiKXtkLnNldFdpZHRoKG0pfWVsc2V7aWYoaD09PSJoZWlnaHQiKXtkLnNldEhlaWdodChtKX1lbHNle2Quc2V0U3R5bGUoaCxtKX19fX19fX19fX19fSk7RXh0LmRlZmluZSgiRXh0LmZ4LnRhcmdldC5Db21wb3NpdGVFbGVtZW50Iix7ZXh0ZW5kOiJFeHQuZngudGFyZ2V0LkVsZW1lbnQiLGlzQ29tcG9zaXRlOnRydWUsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7YS5pZD1hLmlkfHxFeHQuaWQobnVsbCwiZXh0LWNvbXBvc2l0ZS0iKTt0aGlzLmNhbGxQYXJlbnQoW2FdKX0sZ2V0QXR0cjpmdW5jdGlvbihhLGgpe3ZhciBiPVtdLGc9dGhpcy50YXJnZXQuZWxlbWVudHMsZT1nLmxlbmd0aCxjLGQ7Zm9yKGM9MDtjPGU7YysrKXtkPWdbY107aWYoZCl7ZD10aGlzLnRhcmdldC5nZXRFbGVtZW50KGQpO2IucHVzaChbZCx0aGlzLmdldEVsVmFsKGQsYSxoKV0pfX1yZXR1cm4gYn19KTtFeHQuZGVmaW5lKCJFeHQuZngudGFyZ2V0LkVsZW1lbnRDU1MiLHtleHRlbmQ6IkV4dC5meC50YXJnZXQuRWxlbWVudCIsc2V0QXR0cjpmdW5jdGlvbihuLGUpe3ZhciBxPXthdHRyczpbXSxkdXJhdGlvbjpbXSxlYXNpbmc6W119LG09bi5sZW5ndGgsZyxwLGssbCxjLGIsaCxkLGE7Zm9yKGg9MDtoPG07aCsrKXtwPW5baF07Yz1wLmR1cmF0aW9uO2w9cC5lYXNpbmc7cD1wLmF0dHJzO2ZvcihrIGluIHApe2lmKEV4dC5BcnJheS5pbmRleE9mKHEuYXR0cnMsayk9PS0xKXtxLmF0dHJzLnB1c2goay5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGkpe3JldHVybiItIitpLnRvTG93ZXJDYXNlKCl9KSk7cS5kdXJhdGlvbi5wdXNoKGMrIm1zIik7cS5lYXNpbmcucHVzaChsKX19fWc9cS5hdHRycy5qb2luKCIsIik7Yz1xLmR1cmF0aW9uLmpvaW4oIiwiKTtsPXEuZWFzaW5nLmpvaW4oIiwgIik7Zm9yKGg9MDtoPG07aCsrKXtwPW5baF0uYXR0cnM7Zm9yKGsgaW4gcCl7YT1wW2tdLmxlbmd0aDtmb3IoZD0wO2Q8YTtkKyspe2I9cFtrXVtkXTtiWzBdLnNldFN0eWxlKEV4dC5zdXBwb3J0cy5DU1MzUHJlZml4KyJUcmFuc2l0aW9uUHJvcGVydHkiLGU/IiI6Zyk7YlswXS5zZXRTdHlsZShFeHQuc3VwcG9ydHMuQ1NTM1ByZWZpeCsiVHJhbnNpdGlvbkR1cmF0aW9uIixlPyIiOmMpO2JbMF0uc2V0U3R5bGUoRXh0LnN1cHBvcnRzLkNTUzNQcmVmaXgrIlRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiIsZT8iIjpsKTtiWzBdLnNldFN0eWxlKGssYlsxXSk7aWYoZSl7Yj1iWzBdLmRvbS5vZmZzZXRXaWR0aH1lbHNle2JbMF0ub24oRXh0LnN1cHBvcnRzLkNTUzNUcmFuc2l0aW9uRW5kLGZ1bmN0aW9uKCl7dGhpcy5zZXRTdHlsZShFeHQuc3VwcG9ydHMuQ1NTM1ByZWZpeCsiVHJhbnNpdGlvblByb3BlcnR5IixudWxsKTt0aGlzLnNldFN0eWxlKEV4dC5zdXBwb3J0cy5DU1MzUHJlZml4KyJUcmFuc2l0aW9uRHVyYXRpb24iLG51bGwpO3RoaXMuc2V0U3R5bGUoRXh0LnN1cHBvcnRzLkNTUzNQcmVmaXgrIlRyYW5zaXRpb25UaW1pbmdGdW5jdGlvbiIsbnVsbCl9LGJbMF0se3NpbmdsZTp0cnVlfSl9fX19fX0pO0V4dC5kZWZpbmUoIkV4dC5meC50YXJnZXQuQ29tcG9zaXRlRWxlbWVudENTUyIse2V4dGVuZDoiRXh0LmZ4LnRhcmdldC5Db21wb3NpdGVFbGVtZW50IixyZXF1aXJlczpbIkV4dC5meC50YXJnZXQuRWxlbWVudENTUyJdLHNldEF0dHI6ZnVuY3Rpb24oKXtyZXR1cm4gRXh0LmZ4LnRhcmdldC5FbGVtZW50Q1NTLnByb3RvdHlwZS5zZXRBdHRyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KTtFeHQuZGVmaW5lKCJFeHQuZngudGFyZ2V0LlNwcml0ZSIse2V4dGVuZDoiRXh0LmZ4LnRhcmdldC5UYXJnZXQiLHR5cGU6ImRyYXciLGdldEZyb21QcmltOmZ1bmN0aW9uKGIsYSl7dmFyIGM7c3dpdGNoKGEpe2Nhc2Uicm90YXRlIjpjYXNlInJvdGF0aW9uIjpjPWIuYXR0ci5yb3RhdGlvbjtyZXR1cm57eDpjLnh8fDAseTpjLnl8fDAsZGVncmVlczpjLmRlZ3JlZXN8fDB9O2Nhc2Uic2NhbGUiOmNhc2Uic2NhbGluZyI6Yz1iLmF0dHIuc2NhbGluZztyZXR1cm57eDpjLnh8fDEseTpjLnl8fDEsY3g6Yy5jeHx8MCxjeTpjLmN5fHwwfTtjYXNlInRyYW5zbGF0ZSI6Y2FzZSJ0cmFuc2xhdGlvbiI6Yz1iLmF0dHIudHJhbnNsYXRpb247cmV0dXJue3g6Yy54fHwwLHk6Yy55fHwwfTtkZWZhdWx0OnJldHVybiBiLmF0dHJbYV19fSxnZXRBdHRyOmZ1bmN0aW9uKGEsYil7cmV0dXJuW1t0aGlzLnRhcmdldCxiIT11bmRlZmluZWQ/Yjp0aGlzLmdldEZyb21QcmltKHRoaXMudGFyZ2V0LGEpXV19LHNldEF0dHI6ZnVuY3Rpb24obSl7dmFyIGc9bS5sZW5ndGgsaz1bXSxiLGUscCxyLHEsbyxuLGQsYyxsLGgsYTtmb3IoZD0wO2Q8ZztkKyspe2I9bVtkXS5hdHRycztmb3IoZSBpbiBiKXtwPWJbZV07YT1wLmxlbmd0aDtmb3IoYz0wO2M8YTtjKyspe3E9cFtjXVswXTtyPXBbY11bMV07aWYoZT09PSJ0cmFuc2xhdGUifHxlPT09InRyYW5zbGF0aW9uIil7bj17eDpyLngseTpyLnl9fWVsc2V7aWYoZT09PSJyb3RhdGUifHxlPT09InJvdGF0aW9uIil7bD1yLng7aWYoaXNOYU4obCkpe2w9bnVsbH1oPXIueTtpZihpc05hTihoKSl7aD1udWxsfW49e2RlZ3JlZXM6ci5kZWdyZWVzLHg6bCx5Omh9fWVsc2V7aWYoZT09PSJzY2FsZSJ8fGU9PT0ic2NhbGluZyIpe2w9ci54O2lmKGlzTmFOKGwpKXtsPW51bGx9aD1yLnk7aWYoaXNOYU4oaCkpe2g9bnVsbH1uPXt4OmwseTpoLGN4OnIuY3gsY3k6ci5jeX19ZWxzZXtpZihlPT09IndpZHRoInx8ZT09PSJoZWlnaHQifHxlPT09IngifHxlPT09InkiKXtuPXBhcnNlRmxvYXQocil9ZWxzZXtuPXJ9fX19bz1FeHQuQXJyYXkuaW5kZXhPZihrLHEpO2lmKG89PS0xKXtrLnB1c2goW3Ese31dKTtvPWsubGVuZ3RoLTF9a1tvXVsxXVtlXT1ufX19Zz1rLmxlbmd0aDtmb3IoZD0wO2Q8ZztkKyspe2tbZF1bMF0uc2V0QXR0cmlidXRlcyhrW2RdWzFdKX10aGlzLnRhcmdldC5yZWRyYXcoKX19KTtFeHQuZGVmaW5lKCJFeHQuZngudGFyZ2V0LkNvbXBvc2l0ZVNwcml0ZSIse2V4dGVuZDoiRXh0LmZ4LnRhcmdldC5TcHJpdGUiLGdldEF0dHI6ZnVuY3Rpb24oYSxoKXt2YXIgYj1bXSxnPVtdLmNvbmNhdCh0aGlzLnRhcmdldC5pdGVtcyksZT1nLmxlbmd0aCxkLGM7Zm9yKGQ9MDtkPGU7ZCsrKXtjPWdbZF07Yi5wdXNoKFtjLGghPXVuZGVmaW5lZD9oOnRoaXMuZ2V0RnJvbVByaW0oYyxhKV0pfXJldHVybiBifX0pO0V4dC5kZWZpbmUoIkV4dC5sYXlvdXQuTGF5b3V0Iix7cmVxdWlyZXM6WyJFeHQuWFRlbXBsYXRlIl0sdXNlczpbIkV4dC5sYXlvdXQuQ29udGV4dCJdLGlzTGF5b3V0OnRydWUsaW5pdGlhbGl6ZWQ6ZmFsc2UscnVubmluZzpmYWxzZSxhdXRvU2l6ZVBvbGljeTp7c2V0c1dpZHRoOjAsc2V0c0hlaWdodDowfSxzdGF0aWNzOntsYXlvdXRzQnlUeXBlOnt9LGNyZWF0ZTpmdW5jdGlvbihnLGUpe3ZhciBrPUV4dC5DbGFzc01hbmFnZXIsYz10aGlzLmxheW91dHNCeVR5cGUsZCxoLGIsYSxpLGo7aWYoIWd8fHR5cGVvZiBnPT09InN0cmluZyIpe2k9Z3x8ZTtiPXt9fWVsc2V7aWYoZy5pc0xheW91dCl7cmV0dXJuIGd9ZWxzZXtiPWc7aT1nLnR5cGV8fGV9fWlmKCEoYT1jW2ldKSl7ZD0ibGF5b3V0LiIraTtoPWsuZ2V0TmFtZUJ5QWxpYXMoZCk7aWYoIWgpe2o9dHJ1ZX1hPWsuZ2V0KGgpO2lmKGp8fCFhKXtyZXR1cm4gay5pbnN0YW50aWF0ZUJ5QWxpYXMoZCxifHx7fSl9Y1tpXT1hfXJldHVybiBuZXcgYShiKX19LGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5pZD1FeHQuaWQobnVsbCxiLnR5cGUrIi0iKTtFeHQuYXBwbHkoYixhKTtiLmxheW91dENvdW50PTB9LGJlZ2luTGF5b3V0OkV4dC5lbXB0eUZuLGJlZ2luTGF5b3V0Q3ljbGU6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWIuY29udGV4dCxkO2lmKGIubGFzdFdpZHRoTW9kZWwhPWMud2lkdGhNb2RlbCl7aWYoYi5sYXN0V2lkdGhNb2RlbCl7ZD10cnVlfWIubGFzdFdpZHRoTW9kZWw9Yy53aWR0aE1vZGVsfWlmKGIubGFzdEhlaWdodE1vZGVsIT1jLmhlaWdodE1vZGVsKXtpZihiLmxhc3RXaWR0aE1vZGVsKXtkPXRydWV9Yi5sYXN0SGVpZ2h0TW9kZWw9Yy5oZWlnaHRNb2RlbH1pZihkKXsoYT1jLmNvbnRleHQpLmNsZWFyVHJpZ2dlcnMoYixmYWxzZSk7YS5jbGVhclRyaWdnZXJzKGIsdHJ1ZSk7Yi50cmlnZ2VyQ291bnQ9MH19LGZpbmlzaGVkTGF5b3V0OmZ1bmN0aW9uKCl7dGhpcy5vd25lckNvbnRleHQ9bnVsbH0scmVkb0xheW91dDpFeHQuZW1wdHlGbix1bmRvTGF5b3V0OkV4dC5lbXB0eUZuLGdldEFuaW1hdGVQb2xpY3k6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hbmltYXRlUG9saWN5fSxnZXRJdGVtU2l6ZVBvbGljeTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hdXRvU2l6ZVBvbGljeX0saXNJdGVtQm94UGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiBmYWxzZX0saXNJdGVtTGF5b3V0Um9vdDpmdW5jdGlvbihkKXt2YXIgYz1kLmdldFNpemVNb2RlbCgpLGI9Yy53aWR0aCxhPWMuaGVpZ2h0O2lmKCFkLmNvbXBvbmVudExheW91dC5sYXN0Q29tcG9uZW50U2l6ZSYmKGIuY2FsY3VsYXRlZHx8YS5jYWxjdWxhdGVkKSl7cmV0dXJuIGZhbHNlfXJldHVybiAhYi5zaHJpbmtXcmFwJiYhYS5zaHJpbmtXcmFwfSxpc0l0ZW1TaHJpbmtXcmFwOmZ1bmN0aW9uKGEpe3JldHVybiBhLnNocmlua1dyYXB9LGlzUnVubmluZzpmdW5jdGlvbigpe3JldHVybiAhIXRoaXMub3duZXJDb250ZXh0fSxnZXRJdGVtc1JlbmRlclRyZWU6ZnVuY3Rpb24oZCxiKXt2YXIgaD1kLmxlbmd0aCxlLGcsYyxhO2lmKGgpe2E9W107Zm9yKGU9MDtlPGg7KytlKXtnPWRbZV07aWYoIWcucmVuZGVyZWQpe2lmKGImJihiW2cuaWRdIT09dW5kZWZpbmVkKSl7Yz1iW2cuaWRdfWVsc2V7dGhpcy5jb25maWd1cmVJdGVtKGcpO2M9Zy5nZXRSZW5kZXJUcmVlKCk7aWYoYil7YltnLmlkXT1jfX1pZihjKXthLnB1c2goYyl9fX19cmV0dXJuIGF9LGZpbmlzaFJlbmRlcjpFeHQuZW1wdHlGbixmaW5pc2hSZW5kZXJJdGVtczpmdW5jdGlvbihlLGEpe3ZhciBkPWEubGVuZ3RoLGIsYztmb3IoYj0wO2I8ZDtiKyspe2M9YVtiXTtpZihjLnJlbmRlcmluZyl7Yy5maW5pc2hSZW5kZXIoYik7dGhpcy5hZnRlclJlbmRlckl0ZW0oYyl9fX0scmVuZGVyQ2hpbGRyZW46ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5nZXRMYXlvdXRJdGVtcygpLGM9Yi5nZXRSZW5kZXJUYXJnZXQoKTtiLnJlbmRlckl0ZW1zKGEsYyl9LHJlbmRlckl0ZW1zOmZ1bmN0aW9uKGEsZyl7dmFyIGU9dGhpcyxkPWEubGVuZ3RoLGI9MCxjO2lmKGQpe0V4dC5zdXNwZW5kTGF5b3V0cygpO2Zvcig7YjxkO2IrKyl7Yz1hW2JdO2lmKGMmJiFjLnJlbmRlcmVkKXtlLnJlbmRlckl0ZW0oYyxnLGIpfWVsc2V7aWYoIWUuaXNWYWxpZFBhcmVudChjLGcsYikpe2UubW92ZUl0ZW0oYyxnLGIpfWVsc2V7ZS5jb25maWd1cmVJdGVtKGMpfX19RXh0LnJlc3VtZUxheW91dHModHJ1ZSl9fSxpc1ZhbGlkUGFyZW50OmZ1bmN0aW9uKGQsZSxhKXt2YXIgYj1kLmVsP2QuZWwuZG9tOkV4dC5nZXREb20oZCksYz0oZSYmZS5kb20pfHxlO2lmKGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLmNsYXNzTmFtZS5pbmRleE9mKEV4dC5iYXNlQ1NTUHJlZml4KyJyZXNpemFibGUtd3JhcCIpIT09LTEpe2I9Yi5wYXJlbnROb2RlfWlmKGImJmMpe2lmKHR5cGVvZiBhPT0ibnVtYmVyIil7cmV0dXJuIGI9PT1jLmNoaWxkTm9kZXNbYV19cmV0dXJuIGIucGFyZW50Tm9kZT09PWN9cmV0dXJuIGZhbHNlfSxjb25maWd1cmVJdGVtOmZ1bmN0aW9uKGEpe2Eub3duZXJMYXlvdXQ9dGhpc30scmVuZGVySXRlbTpmdW5jdGlvbihiLGMsYSl7aWYoIWIucmVuZGVyZWQpe3RoaXMuY29uZmlndXJlSXRlbShiKTtiLnJlbmRlcihjLGEpO3RoaXMuYWZ0ZXJSZW5kZXJJdGVtKGIpfX0sbW92ZUl0ZW06ZnVuY3Rpb24oYixjLGEpe2M9Yy5kb218fGM7aWYodHlwZW9mIGE9PSJudW1iZXIiKXthPWMuY2hpbGROb2Rlc1thXX1jLmluc2VydEJlZm9yZShiLmVsLmRvbSxhfHxudWxsKTtiLmNvbnRhaW5lcj1FeHQuZ2V0KGMpO3RoaXMuY29uZmlndXJlSXRlbShiKX0sb25Db250ZW50Q2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5vd25lci51cGRhdGVMYXlvdXQoKTtyZXR1cm4gdHJ1ZX0saW5pdExheW91dDpmdW5jdGlvbigpe3RoaXMuaW5pdGlhbGl6ZWQ9dHJ1ZX0sc2V0T3duZXI6ZnVuY3Rpb24oYSl7dGhpcy5vd25lcj1hfSxnZXRMYXlvdXRJdGVtczpmdW5jdGlvbigpe3JldHVybltdfSxhZnRlclJlbmRlckl0ZW06RXh0LmVtcHR5Rm4sb25BZGQ6RXh0LmVtcHR5Rm4sb25SZW1vdmU6RXh0LmVtcHR5Rm4sb25EZXN0cm95OkV4dC5lbXB0eUZuLGFmdGVyUmVtb3ZlOmZ1bmN0aW9uKGUpe3ZhciBkPXRoaXMsYz1lLmVsLGI9ZC5vd25lcixhO2lmKGUucmVuZGVyZWQpe2E9W10uY29uY2F0KGQuaXRlbUNsc3x8W10pO2lmKGIuaXRlbUNscyl7YT1FeHQuQXJyYXkucHVzaChhLGIuaXRlbUNscyl9aWYoYS5sZW5ndGgpe2MucmVtb3ZlQ2xzKGEpfX1kZWxldGUgZS5vd25lckxheW91dH0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYjtpZihhLnRhcmdldENscyl7Yj1hLmdldFRhcmdldCgpO2lmKGIpe2IucmVtb3ZlQ2xzKGEudGFyZ2V0Q2xzKX19YS5vbkRlc3Ryb3koKX0sc29ydFdlaWdodGVkSXRlbXM6ZnVuY3Rpb24oYSxkKXtmb3IodmFyIGI9MCxjPWEubGVuZ3RoO2I8YzsrK2Ipe2FbYl0uJGk9Yn1FeHQuQXJyYXkuc29ydChhLGZ1bmN0aW9uKGcsZSl7dmFyIGg9ZS53ZWlnaHQtZy53ZWlnaHQ7aWYoIWgpe2g9Zy4kaS1lLiRpO2lmKGdbZF0pe2g9LWh9fXJldHVybiBofSk7Zm9yKGI9MDtiPGM7KytiKXtkZWxldGUgYVtiXS4kaX19fSxmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj17fTtjLnByb3RvdHlwZS5zaXplTW9kZWxzPWMuc2l6ZU1vZGVscz1iO3ZhciBhPWZ1bmN0aW9uKGcpe3ZhciBoPXRoaXMsZT1nLm5hbWU7RXh0LmFwcGx5KEV4dC5hcHBseShoLGQpLGcpO2hbZV09dHJ1ZTthW2VdPWJbZV09aDtoLmZpeGVkPSEoaC5hdXRvPWgubmF0dXJhbHx8aC5zaHJpbmtXcmFwKX07RXh0LmxheW91dC5TaXplTW9kZWw9YTt2YXIgZD17Y2FsY3VsYXRlZDpmYWxzZSxjb25maWd1cmVkOmZhbHNlLGNvbnN0cmFpbmVkTWF4OmZhbHNlLGNvbnN0cmFpbmVkTWluOmZhbHNlLG5hdHVyYWw6ZmFsc2Usc2hyaW5rV3JhcDpmYWxzZSxjYWxjdWxhdGVkRnJvbUNvbmZpZ3VyZWQ6ZmFsc2UsY2FsY3VsYXRlZEZyb21OYXR1cmFsOmZhbHNlLGNhbGN1bGF0ZWRGcm9tU2hyaW5rV3JhcDpmYWxzZSxuYW1lczpudWxsfTtuZXcgYSh7bmFtZToiY2FsY3VsYXRlZCJ9KTtuZXcgYSh7bmFtZToiY29uZmlndXJlZCIsbmFtZXM6e3dpZHRoOiJ3aWR0aCIsaGVpZ2h0OiJoZWlnaHQifX0pO25ldyBhKHtuYW1lOiJuYXR1cmFsIn0pO25ldyBhKHtuYW1lOiJzaHJpbmtXcmFwIn0pO25ldyBhKHtuYW1lOiJjYWxjdWxhdGVkRnJvbUNvbmZpZ3VyZWQiLGNvbmZpZ3VyZWQ6dHJ1ZSxuYW1lczp7d2lkdGg6IndpZHRoIixoZWlnaHQ6ImhlaWdodCJ9fSk7bmV3IGEoe25hbWU6ImNhbGN1bGF0ZWRGcm9tTmF0dXJhbCIsbmF0dXJhbDp0cnVlfSk7bmV3IGEoe25hbWU6ImNhbGN1bGF0ZWRGcm9tU2hyaW5rV3JhcCIsc2hyaW5rV3JhcDp0cnVlfSk7bmV3IGEoe25hbWU6ImNvbnN0cmFpbmVkTWF4Iixjb25maWd1cmVkOnRydWUsY29uc3RyYWluZWQ6dHJ1ZSxuYW1lczp7d2lkdGg6Im1heFdpZHRoIixoZWlnaHQ6Im1heEhlaWdodCJ9fSk7bmV3IGEoe25hbWU6ImNvbnN0cmFpbmVkTWluIixjb25maWd1cmVkOnRydWUsY29uc3RyYWluZWQ6dHJ1ZSxuYW1lczp7d2lkdGg6Im1pbldpZHRoIixoZWlnaHQ6Im1pbkhlaWdodCJ9fSl9KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbXBvbmVudC5Db21wb25lbnQiLHtleHRlbmQ6IkV4dC5sYXlvdXQuTGF5b3V0Iix0eXBlOiJjb21wb25lbnQiLGlzQ29tcG9uZW50TGF5b3V0OnRydWUsbnVsbEJveDp7fSx1c2VzQ29udGVudEhlaWdodDp0cnVlLHVzZXNDb250ZW50V2lkdGg6dHJ1ZSx1c2VzSGVpZ2h0OnRydWUsdXNlc1dpZHRoOnRydWUsYmVnaW5MYXlvdXRDeWNsZTpmdW5jdGlvbihjLHApe3ZhciBrPXRoaXMsYj1rLm93bmVyLGU9Yy5vd25lckN0Q29udGV4dCxnPWMuaGVpZ2h0TW9kZWwsaD1jLndpZHRoTW9kZWwsaT1iLmVsLmRvbT09PWRvY3VtZW50LmJvZHksZD1iLmxhc3RCb3h8fGsubnVsbEJveCxuPWIuZWwubGFzdEJveHx8ay5udWxsQm94LGE9IWksbSxvLGwsajtrLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihwKXtpZihrLnVzZXNDb250ZW50V2lkdGgpeysrYy5jb25zdW1lcnNDb250ZW50V2lkdGh9aWYoay51c2VzQ29udGVudEhlaWdodCl7KytjLmNvbnN1bWVyc0NvbnRlbnRIZWlnaHR9aWYoay51c2VzV2lkdGgpeysrYy5jb25zdW1lcnNXaWR0aH1pZihrLnVzZXNIZWlnaHQpeysrYy5jb25zdW1lcnNIZWlnaHR9aWYoZSYmIWUuaGFzUmF3Q29udGVudCl7bT1iLm93bmVyTGF5b3V0O2lmKG0udXNlc1dpZHRoKXsrK2MuY29uc3VtZXJzV2lkdGh9aWYobS51c2VzSGVpZ2h0KXsrK2MuY29uc3VtZXJzSGVpZ2h0fX19aWYoaC5jb25maWd1cmVkKXtsPWgubmFtZXMud2lkdGg7aWYoIWkpe2E9cD9iW2xdIT09bi53aWR0aDpoLmNvbnN0cmFpbmVkfWMuc2V0V2lkdGgoYltsXSxhKX1lbHNle2lmKGMuaXNUb3BMZXZlbCl7aWYoaC5jYWxjdWxhdGVkKXtvPWQud2lkdGg7Yy5zZXRXaWR0aChvLG8hPW4ud2lkdGgpfW89ZC54O2Muc2V0UHJvcCgieCIsbyxvIT1uLngpfX1pZihnLmNvbmZpZ3VyZWQpe2o9Zy5uYW1lcy5oZWlnaHQ7aWYoIWkpe2E9cD9iW2pdIT09bi5oZWlnaHQ6Zy5jb25zdHJhaW5lZH1jLnNldEhlaWdodChiW2pdLGEpfWVsc2V7aWYoYy5pc1RvcExldmVsKXtpZihnLmNhbGN1bGF0ZWQpe289ZC5oZWlnaHQ7Yy5zZXRIZWlnaHQobyxvIT1uLmhlaWdodCl9bz1kLnk7Yy5zZXRQcm9wKCJ5IixvLG8hPW4ueSl9fX0sZmluaXNoZWRMYXlvdXQ6ZnVuY3Rpb24oYil7dmFyIGg9dGhpcyxsPWIuY2hpbGRyZW4sYT1oLm93bmVyLGUsYyxrLGQsZyxqO2lmKGwpe2U9bC5sZW5ndGg7Zm9yKGM9MDtjPGU7YysrKXtrPWxbY107ay5lbC5sYXN0Qm94PWsucHJvcHN9fWIucHJldmlvdXNTaXplPWgubGFzdENvbXBvbmVudFNpemU7aC5sYXN0Q29tcG9uZW50U2l6ZT1hLmVsLmxhc3RCb3g9Zz1iLnByb3BzO2EubGFzdEJveD1kPXt9O2o9Zy54O2lmKGohPT11bmRlZmluZWQpe2QueD1qfWo9Zy55O2lmKGohPT11bmRlZmluZWQpe2QueT1qfWo9Zy53aWR0aDtpZihqIT09dW5kZWZpbmVkKXtkLndpZHRoPWp9aj1nLmhlaWdodDtpZihqIT09dW5kZWZpbmVkKXtkLmhlaWdodD1qfWguY2FsbFBhcmVudChhcmd1bWVudHMpfSxub3RpZnlPd25lcjpmdW5jdGlvbihkKXt2YXIgYz10aGlzLGE9Yy5sYXN0Q29tcG9uZW50U2l6ZSxlPWQucHJldmlvdXNTaXplLGI9W2Eud2lkdGgsYS5oZWlnaHRdO2lmKGUpe2IucHVzaChlLndpZHRoLGUuaGVpZ2h0KX1jLm93bmVyLmFmdGVyQ29tcG9uZW50TGF5b3V0LmFwcGx5KGMub3duZXIsYil9LGdldFRhcmdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm93bmVyLmVsfSxnZXRSZW5kZXJUYXJnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vd25lci5lbH0sY2FjaGVUYXJnZXRJbmZvOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMsZD1hLnRhcmdldEluZm8sYztpZighZCl7Yz1iLmdldEVsKCJnZXRUYXJnZXQiLGEpO2EudGFyZ2V0SW5mbz1kPXtwYWRkaW5nOmMuZ2V0UGFkZGluZ0luZm8oKSxib3JkZXI6Yy5nZXRCb3JkZXJJbmZvKCl9fXJldHVybiBkfSxtZWFzdXJlQXV0b0RpbWVuc2lvbnM6ZnVuY3Rpb24obSxpKXt2YXIgcj10aGlzLGE9ci5vd25lcixkPW0uaGVpZ2h0TW9kZWwsaD1tLndpZHRoTW9kZWwsYz1tLmJveFBhcmVudCxuPW0uaXNCb3hQYXJlbnQsYj1tLnByb3BzLGoscz17Z290V2lkdGg6ZmFsc2UsZ290SGVpZ2h0OmZhbHNlLGlzQ29udGFpbmVyOihqPSFtLmhhc1Jhd0NvbnRlbnQpfSxxPWl8fDMscCxlLGs9MCxnPTAsbCxvO2lmKGguc2hyaW5rV3JhcCYmbS5jb25zdW1lcnNDb250ZW50V2lkdGgpeysraztwPSEocSYxKTtpZihqKXtpZihwKXtzLmNvbnRlbnRXaWR0aD0wO3MuZ290V2lkdGg9dHJ1ZTsrK2d9ZWxzZXtpZigocy5jb250ZW50V2lkdGg9bS5nZXRQcm9wKCJjb250ZW50V2lkdGgiKSkhPT11bmRlZmluZWQpe3MuZ290V2lkdGg9dHJ1ZTsrK2d9fX1lbHNle289Yi5jb250ZW50V2lkdGg7aWYodHlwZW9mIG89PSJudW1iZXIiKXtzLmNvbnRlbnRXaWR0aD1vO3MuZ290V2lkdGg9dHJ1ZTsrK2d9ZWxzZXtpZihwKXtsPXRydWV9ZWxzZXtpZighbS5oYXNEb21Qcm9wKCJjb250YWluZXJDaGlsZHJlbkRvbmUiKSl7bD1mYWxzZX1lbHNle2lmKG58fCFjfHxjLndpZHRoTW9kZWwuc2hyaW5rV3JhcCl7bD10cnVlfWVsc2V7bD1jLmhhc0RvbVByb3AoIndpZHRoIil9fX1pZihsKXtpZighaXNOYU4ocy5jb250ZW50V2lkdGg9cD8wOnIubWVhc3VyZUNvbnRlbnRXaWR0aChtKSkpe20uc2V0Q29udGVudFdpZHRoKHMuY29udGVudFdpZHRoLHRydWUpO3MuZ290V2lkdGg9dHJ1ZTsrK2d9fX19fWVsc2V7aWYoaC5uYXR1cmFsJiZtLmNvbnN1bWVyc1dpZHRoKXsrK2s7bz1iLndpZHRoO2lmKHR5cGVvZiBvPT0ibnVtYmVyIil7cy53aWR0aD1vO3MuZ290V2lkdGg9dHJ1ZTsrK2d9ZWxzZXtpZihufHwhYyl7bD10cnVlfWVsc2V7bD1jLmhhc0RvbVByb3AoIndpZHRoIil9aWYobCl7aWYoIWlzTmFOKHMud2lkdGg9ci5tZWFzdXJlT3duZXJXaWR0aChtKSkpe20uc2V0V2lkdGgocy53aWR0aCxmYWxzZSk7cy5nb3RXaWR0aD10cnVlOysrZ319fX19aWYoZC5zaHJpbmtXcmFwJiZtLmNvbnN1bWVyc0NvbnRlbnRIZWlnaHQpeysraztlPSEocSYyKTtpZihqKXtpZihlKXtzLmNvbnRlbnRIZWlnaHQ9MDtzLmdvdEhlaWdodD10cnVlOysrZ31lbHNle2lmKChzLmNvbnRlbnRIZWlnaHQ9bS5nZXRQcm9wKCJjb250ZW50SGVpZ2h0IikpIT09dW5kZWZpbmVkKXtzLmdvdEhlaWdodD10cnVlOysrZ319fWVsc2V7bz1iLmNvbnRlbnRIZWlnaHQ7aWYodHlwZW9mIG89PSJudW1iZXIiKXtzLmNvbnRlbnRIZWlnaHQ9bztzLmdvdEhlaWdodD10cnVlOysrZ31lbHNle2lmKGUpe2w9dHJ1ZX1lbHNle2lmKCFtLmhhc0RvbVByb3AoImNvbnRhaW5lckNoaWxkcmVuRG9uZSIpKXtsPWZhbHNlfWVsc2V7aWYoYS5ub1dyYXApe2w9dHJ1ZX1lbHNle2lmKCFoLnNocmlua1dyYXApe2w9KG0uYm9keUNvbnRleHR8fG0pLmhhc0RvbVByb3AoIndpZHRoIil9ZWxzZXtpZihufHwhY3x8Yy53aWR0aE1vZGVsLnNocmlua1dyYXApe2w9dHJ1ZX1lbHNle2w9Yy5oYXNEb21Qcm9wKCJ3aWR0aCIpfX19fX1pZihsKXtpZighaXNOYU4ocy5jb250ZW50SGVpZ2h0PWU/MDpyLm1lYXN1cmVDb250ZW50SGVpZ2h0KG0pKSl7bS5zZXRDb250ZW50SGVpZ2h0KHMuY29udGVudEhlaWdodCx0cnVlKTtzLmdvdEhlaWdodD10cnVlOysrZ319fX19ZWxzZXtpZihkLm5hdHVyYWwmJm0uY29uc3VtZXJzSGVpZ2h0KXsrK2s7bz1iLmhlaWdodDtpZih0eXBlb2Ygbz09Im51bWJlciIpe3MuaGVpZ2h0PW87cy5nb3RIZWlnaHQ9dHJ1ZTsrK2d9ZWxzZXtpZihufHwhYyl7bD10cnVlfWVsc2V7bD1jLmhhc0RvbVByb3AoIndpZHRoIil9aWYobCl7aWYoIWlzTmFOKHMuaGVpZ2h0PXIubWVhc3VyZU93bmVySGVpZ2h0KG0pKSl7bS5zZXRIZWlnaHQocy5oZWlnaHQsZmFsc2UpO3MuZ290SGVpZ2h0PXRydWU7KytnfX19fX1pZihjKXttLm9uQm94TWVhc3VyZWQoKX1zLmdvdEFsbD1nPT1rO3JldHVybiBzfSxtZWFzdXJlQ29udGVudFdpZHRoOmZ1bmN0aW9uKGEpe3JldHVybiBhLmVsLmdldFdpZHRoKCktYS5nZXRGcmFtZUluZm8oKS53aWR0aH0sbWVhc3VyZUNvbnRlbnRIZWlnaHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZWwuZ2V0SGVpZ2h0KCktYS5nZXRGcmFtZUluZm8oKS5oZWlnaHR9LG1lYXN1cmVPd25lckhlaWdodDpmdW5jdGlvbihhKXtyZXR1cm4gYS5lbC5nZXRIZWlnaHQoKX0sbWVhc3VyZU93bmVyV2lkdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZWwuZ2V0V2lkdGgoKX19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbXBvbmVudC5BdXRvIix7YWxpYXM6ImxheW91dC5hdXRvY29tcG9uZW50IixleHRlbmQ6IkV4dC5sYXlvdXQuY29tcG9uZW50LkNvbXBvbmVudCIsdHlwZToiYXV0b2NvbXBvbmVudCIsc2V0SGVpZ2h0SW5Eb206ZmFsc2Usc2V0V2lkdGhJbkRvbTpmYWxzZSx3YWl0Rm9yT3V0ZXJIZWlnaHRJbkRvbTpmYWxzZSx3YWl0Rm9yT3V0ZXJXaWR0aEluRG9tOmZhbHNlLGJlZ2luTGF5b3V0Q3ljbGU6ZnVuY3Rpb24oZCxiKXt2YXIgYz10aGlzLGc9Yy5sYXN0V2lkdGhNb2RlbCxlPWMubGFzdEhlaWdodE1vZGVsLGE9Yy5vd25lcjtjLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihnJiZnLmZpeGVkJiZkLndpZHRoTW9kZWwuc2hyaW5rV3JhcCl7YS5lbC5zZXRXaWR0aChudWxsKX1pZihlJiZlLmZpeGVkJiZkLmhlaWdodE1vZGVsLnNocmlua1dyYXApe2EuZWwuc2V0SGVpZ2h0KG51bGwpfX0sY2FsY3VsYXRlOmZ1bmN0aW9uKGgpe3ZhciBnPXRoaXMsZT1nLm1lYXN1cmVBdXRvRGltZW5zaW9ucyhoKSxiPWguaGVpZ2h0TW9kZWwsYz1oLndpZHRoTW9kZWwsZCxhO2lmKGUuZ290V2lkdGgpe2lmKGMuc2hyaW5rV3JhcCl7Zy5wdWJsaXNoT3duZXJXaWR0aChoLGUuY29udGVudFdpZHRoKX1lbHNle2lmKGcucHVibGlzaElubmVyV2lkdGgpe2cucHVibGlzaElubmVyV2lkdGgoaCxlLndpZHRoKX19fWVsc2V7aWYoIWMuYXV0byYmZy5wdWJsaXNoSW5uZXJXaWR0aCl7ZD1nLndhaXRGb3JPdXRlcldpZHRoSW5Eb20/aC5nZXREb21Qcm9wKCJ3aWR0aCIpOmguZ2V0UHJvcCgid2lkdGgiKTtpZihkPT09dW5kZWZpbmVkKXtnLmRvbmU9ZmFsc2V9ZWxzZXtnLnB1Ymxpc2hJbm5lcldpZHRoKGgsZCl9fX1pZihlLmdvdEhlaWdodCl7aWYoYi5zaHJpbmtXcmFwKXtnLnB1Ymxpc2hPd25lckhlaWdodChoLGUuY29udGVudEhlaWdodCl9ZWxzZXtpZihnLnB1Ymxpc2hJbm5lckhlaWdodCl7Zy5wdWJsaXNoSW5uZXJIZWlnaHQoaCxlLmhlaWdodCl9fX1lbHNle2lmKCFiLmF1dG8mJmcucHVibGlzaElubmVySGVpZ2h0KXthPWcud2FpdEZvck91dGVySGVpZ2h0SW5Eb20/aC5nZXREb21Qcm9wKCJoZWlnaHQiKTpoLmdldFByb3AoImhlaWdodCIpO2lmKGE9PT11bmRlZmluZWQpe2cuZG9uZT1mYWxzZX1lbHNle2cucHVibGlzaElubmVySGVpZ2h0KGgsYSl9fX1pZighZS5nb3RBbGwpe2cuZG9uZT1mYWxzZX19LGNhbGN1bGF0ZU93bmVySGVpZ2h0RnJvbUNvbnRlbnRIZWlnaHQ6ZnVuY3Rpb24oYixhKXtyZXR1cm4gYStiLmdldEZyYW1lSW5mbygpLmhlaWdodH0sY2FsY3VsYXRlT3duZXJXaWR0aEZyb21Db250ZW50V2lkdGg6ZnVuY3Rpb24oYixhKXtyZXR1cm4gYStiLmdldEZyYW1lSW5mbygpLndpZHRofSxvbkNvbnN0cmFpblNpemU6ZnVuY3Rpb24oZCxjKXt2YXIgYT1jLmhlaWdodE1vZGVsLGI9Yy53aWR0aE1vZGVsO2lmKGEpe2QuaGVpZ2h0TW9kZWw9YX1pZihiKXtkLndpZHRoTW9kZWw9Yn19LHB1Ymxpc2hPd25lckhlaWdodDpmdW5jdGlvbihpLGcpe3ZhciBlPXRoaXMsYj1lLm93bmVyLGE9ZS5jYWxjdWxhdGVPd25lckhlaWdodEZyb21Db250ZW50SGVpZ2h0KGksZyksYyxoLGQ7aWYoaXNOYU4oYSkpe2UuZG9uZT1mYWxzZX1lbHNle2g9RXh0Lk51bWJlci5jb25zdHJhaW4oYSxiLm1pbkhlaWdodCxiLm1heEhlaWdodCk7aWYoaD09YSl7ZD1lLnNldEhlaWdodEluRG9tfWVsc2V7Yz1lLnNpemVNb2RlbHNbKGg8YSk/ImNvbnN0cmFpbmVkTWF4IjoiY29uc3RyYWluZWRNaW4iXTthPWg7aWYoaS5oZWlnaHRNb2RlbC5jYWxjdWxhdGVkRnJvbVNocmlua1dyYXApe2kuaGVpZ2h0TW9kZWw9Y31lbHNle2kuaW52YWxpZGF0ZSh7YmVmb3JlOmUub25Db25zdHJhaW5TaXplLGhlaWdodE1vZGVsOmN9KX19aS5zZXRIZWlnaHQoYSxkKX19LHB1Ymxpc2hPd25lcldpZHRoOmZ1bmN0aW9uKGgsYil7dmFyIGc9dGhpcyxhPWcub3duZXIsZT1nLmNhbGN1bGF0ZU93bmVyV2lkdGhGcm9tQ29udGVudFdpZHRoKGgsYiksYyxpLGQ7aWYoaXNOYU4oZSkpe2cuZG9uZT1mYWxzZX1lbHNle2k9RXh0Lk51bWJlci5jb25zdHJhaW4oZSxhLm1pbldpZHRoLGEubWF4V2lkdGgpO2lmKGk9PWUpe2Q9Zy5zZXRXaWR0aEluRG9tfWVsc2V7Yz1nLnNpemVNb2RlbHNbKGk8ZSk/ImNvbnN0cmFpbmVkTWF4IjoiY29uc3RyYWluZWRNaW4iXTtlPWk7aWYoaC53aWR0aE1vZGVsLmNhbGN1bGF0ZWRGcm9tU2hyaW5rV3JhcCl7aC53aWR0aE1vZGVsPWN9ZWxzZXtoLmludmFsaWRhdGUoe2JlZm9yZTpnLm9uQ29uc3RyYWluU2l6ZSx3aWR0aE1vZGVsOmN9KX19aC5zZXRXaWR0aChlLGQpfX19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbXBvbmVudC5EcmF3Iix7YWxpYXM6ImxheW91dC5kcmF3IixleHRlbmQ6IkV4dC5sYXlvdXQuY29tcG9uZW50LkF1dG8iLHR5cGU6ImRyYXciLG1lYXN1cmVDb250ZW50V2lkdGg6ZnVuY3Rpb24oYyl7dmFyIGQ9Yy50YXJnZXQsYT1kLnN1cmZhY2UsYj1jLmdldFBhZGRpbmdJbmZvKCksZT1jLnN1cmZhY2VCQm94fHwoYy5zdXJmYWNlQkJveD1hLml0ZW1zLmdldEJCb3goKSk7aWYoIWQudmlld0JveCl7aWYoZC5hdXRvU2l6ZSl7cmV0dXJuIGUud2lkdGgrYi53aWR0aH1lbHNle3JldHVybiBlLngrZS53aWR0aCtiLndpZHRofX1lbHNle2lmKGMuaGVpZ2h0TW9kZWwuc2hyaW5rV3JhcCl7cmV0dXJuIGIud2lkdGh9ZWxzZXtyZXR1cm4gZS53aWR0aC9lLmhlaWdodCooYy5nZXRQcm9wKCJjb250ZW50SGVpZ2h0IiktYi5oZWlnaHQpK2Iud2lkdGh9fX0sbWVhc3VyZUNvbnRlbnRIZWlnaHQ6ZnVuY3Rpb24oYyl7dmFyIGQ9Yy50YXJnZXQsYT1kLnN1cmZhY2UsYj1jLmdldFBhZGRpbmdJbmZvKCksZT1jLnN1cmZhY2VCQm94fHwoYy5zdXJmYWNlQkJveD1hLml0ZW1zLmdldEJCb3goKSk7aWYoIWMudGFyZ2V0LnZpZXdCb3gpe2lmKGQuYXV0b1NpemUpe3JldHVybiBlLmhlaWdodCtiLmhlaWdodH1lbHNle3JldHVybiBlLnkrZS5oZWlnaHQrYi5oZWlnaHR9fWVsc2V7aWYoYy53aWR0aE1vZGVsLnNocmlua1dyYXApe3JldHVybiBiLmhlaWdodH1lbHNle3JldHVybiBlLmhlaWdodC9lLndpZHRoKihjLmdldFByb3AoImNvbnRlbnRXaWR0aCIpLWIud2lkdGgpK2IuaGVpZ2h0fX19LHB1Ymxpc2hJbm5lcldpZHRoOmZ1bmN0aW9uKGIsYSl7Yi5zZXRDb250ZW50V2lkdGgoYS1iLmdldEZyYW1lSW5mbygpLndpZHRoLHRydWUpfSxwdWJsaXNoSW5uZXJIZWlnaHQ6ZnVuY3Rpb24oYixhKXtiLnNldENvbnRlbnRIZWlnaHQoYS1iLmdldEZyYW1lSW5mbygpLmhlaWdodCx0cnVlKX0sZmluaXNoZWRMYXlvdXQ6ZnVuY3Rpb24oYyl7dmFyIGI9Yy5wcm9wcyxhPWMuZ2V0UGFkZGluZ0luZm8oKTt0aGlzLm93bmVyLnNldFN1cmZhY2VTaXplKGIuY29udGVudFdpZHRoLWEud2lkdGgsYi5jb250ZW50SGVpZ2h0LWEuaGVpZ2h0KTt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX19KTtFeHQuZGVmaW5lKCJFeHQuc3RhdGUuUHJvdmlkZXIiLHttaXhpbnM6e29ic2VydmFibGU6IkV4dC51dGlsLk9ic2VydmFibGUifSxwcmVmaXg6ImV4dC0iLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe2E9YXx8e307dmFyIGI9dGhpcztFeHQuYXBwbHkoYixhKTtiLmFkZEV2ZW50cygic3RhdGVjaGFuZ2UiKTtiLnN0YXRlPXt9O2IubWl4aW5zLm9ic2VydmFibGUuY29uc3RydWN0b3IuY2FsbChiKX0sZ2V0OmZ1bmN0aW9uKGIsYSl7cmV0dXJuIHR5cGVvZiB0aGlzLnN0YXRlW2JdPT0idW5kZWZpbmVkIj9hOnRoaXMuc3RhdGVbYl19LGNsZWFyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7ZGVsZXRlIGIuc3RhdGVbYV07Yi5maXJlRXZlbnQoInN0YXRlY2hhbmdlIixiLGEsbnVsbCl9LHNldDpmdW5jdGlvbihhLGMpe3ZhciBiPXRoaXM7Yi5zdGF0ZVthXT1jO2IuZmlyZUV2ZW50KCJzdGF0ZWNoYW5nZSIsYixhLGMpfSxkZWNvZGVWYWx1ZTpmdW5jdGlvbihnKXt2YXIgYz10aGlzLGs9L14oYXxufGR8YnxzfG98ZSlcOiguKikkLyxiPWsuZXhlYyh1bmVzY2FwZShnKSksaCxkLGEsaixlLGk7aWYoIWJ8fCFiWzFdKXtyZXR1cm59ZD1iWzFdO2c9YlsyXTtzd2l0Y2goZCl7Y2FzZSJlIjpyZXR1cm4gbnVsbDtjYXNlIm4iOnJldHVybiBwYXJzZUZsb2F0KGcpO2Nhc2UiZCI6cmV0dXJuIG5ldyBEYXRlKERhdGUucGFyc2UoZykpO2Nhc2UiYiI6cmV0dXJuKGc9PSIxIik7Y2FzZSJhIjpoPVtdO2lmKGchPSIiKXtqPWcuc3BsaXQoIl4iKTtlPWoubGVuZ3RoO2ZvcihpPTA7aTxlO2krKyl7Zz1qW2ldO2gucHVzaChjLmRlY29kZVZhbHVlKGcpKX19cmV0dXJuIGg7Y2FzZSJvIjpoPXt9O2lmKGchPSIiKXtqPWcuc3BsaXQoIl4iKTtlPWoubGVuZ3RoO2ZvcihpPTA7aTxlO2krKyl7Zz1qW2ldO2E9Zy5zcGxpdCgiPSIpO2hbYVswXV09Yy5kZWNvZGVWYWx1ZShhWzFdKX19cmV0dXJuIGg7ZGVmYXVsdDpyZXR1cm4gZ319LGVuY29kZVZhbHVlOmZ1bmN0aW9uKGUpe3ZhciBnPSIiLGQ9MCxiLGEsYztpZihlPT1udWxsKXtyZXR1cm4iZToxIn1lbHNle2lmKHR5cGVvZiBlPT0ibnVtYmVyIil7Yj0ibjoiK2V9ZWxzZXtpZih0eXBlb2YgZT09ImJvb2xlYW4iKXtiPSJiOiIrKGU/IjEiOiIwIil9ZWxzZXtpZihFeHQuaXNEYXRlKGUpKXtiPSJkOiIrZS50b0dNVFN0cmluZygpfWVsc2V7aWYoRXh0LmlzQXJyYXkoZSkpe2ZvcihhPWUubGVuZ3RoO2Q8YTtkKyspe2crPXRoaXMuZW5jb2RlVmFsdWUoZVtkXSk7aWYoZCE9YS0xKXtnKz0iXiJ9fWI9ImE6IitnfWVsc2V7aWYodHlwZW9mIGU9PSJvYmplY3QiKXtmb3IoYyBpbiBlKXtpZih0eXBlb2YgZVtjXSE9ImZ1bmN0aW9uIiYmZVtjXSE9PXVuZGVmaW5lZCl7Zys9YysiPSIrdGhpcy5lbmNvZGVWYWx1ZShlW2NdKSsiXiJ9fWI9Im86IitnLnN1YnN0cmluZygwLGcubGVuZ3RoLTEpfWVsc2V7Yj0iczoiK2V9fX19fX1yZXR1cm4gZXNjYXBlKGIpfX0pO0V4dC5kZWZpbmUoIkV4dC5zdGF0ZS5Db29raWVQcm92aWRlciIse2V4dGVuZDoiRXh0LnN0YXRlLlByb3ZpZGVyIixjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IucGF0aD0iLyI7Yi5leHBpcmVzPW5ldyBEYXRlKG5ldyBEYXRlKCkuZ2V0VGltZSgpKygxMDAwKjYwKjYwKjI0KjcpKTtiLmRvbWFpbj1udWxsO2Iuc2VjdXJlPWZhbHNlO2IuY2FsbFBhcmVudChhcmd1bWVudHMpO2Iuc3RhdGU9Yi5yZWFkQ29va2llcygpfSxzZXQ6ZnVuY3Rpb24oYSxjKXt2YXIgYj10aGlzO2lmKHR5cGVvZiBjPT0idW5kZWZpbmVkInx8Yz09PW51bGwpe2IuY2xlYXIoYSk7cmV0dXJufWIuc2V0Q29va2llKGEsYyk7Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGNsZWFyOmZ1bmN0aW9uKGEpe3RoaXMuY2xlYXJDb29raWUoYSk7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LHJlYWRDb29raWVzOmZ1bmN0aW9uKCl7dmFyIGU9e30saj1kb2N1bWVudC5jb29raWUrIjsiLGQ9L1xzPyguKj8pPSguKj8pOy9nLGk9dGhpcy5wcmVmaXgsYT1pLmxlbmd0aCxoLGIsZzt3aGlsZSgoaD1kLmV4ZWMoaikpIT1udWxsKXtiPWhbMV07Zz1oWzJdO2lmKGImJmIuc3Vic3RyaW5nKDAsYSk9PWkpe2VbYi5zdWJzdHIoYSldPXRoaXMuZGVjb2RlVmFsdWUoZyl9fXJldHVybiBlfSxzZXRDb29raWU6ZnVuY3Rpb24oYSxjKXt2YXIgYj10aGlzO2RvY3VtZW50LmNvb2tpZT1iLnByZWZpeCthKyI9IitiLmVuY29kZVZhbHVlKGMpKygoYi5leHBpcmVzPT1udWxsKT8iIjooIjsgZXhwaXJlcz0iK2IuZXhwaXJlcy50b0dNVFN0cmluZygpKSkrKChiLnBhdGg9PW51bGwpPyIiOigiOyBwYXRoPSIrYi5wYXRoKSkrKChiLmRvbWFpbj09bnVsbCk/IiI6KCI7IGRvbWFpbj0iK2IuZG9tYWluKSkrKChiLnNlY3VyZT09dHJ1ZSk/Ijsgc2VjdXJlIjoiIil9LGNsZWFyQ29va2llOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7ZG9jdW1lbnQuY29va2llPWIucHJlZml4K2ErIj1udWxsOyBleHBpcmVzPVRodSwgMDEtSmFuLTcwIDAwOjAwOjAxIEdNVCIrKChiLnBhdGg9PW51bGwpPyIiOigiOyBwYXRoPSIrYi5wYXRoKSkrKChiLmRvbWFpbj09bnVsbCk/IiI6KCI7IGRvbWFpbj0iK2IuZG9tYWluKSkrKChiLnNlY3VyZT09dHJ1ZSk/Ijsgc2VjdXJlIjoiIil9fSk7RXh0LmRlZmluZSgiRXh0LnN0YXRlLkxvY2FsU3RvcmFnZVByb3ZpZGVyIix7ZXh0ZW5kOiJFeHQuc3RhdGUuUHJvdmlkZXIiLGFsaWFzOiJzdGF0ZS5sb2NhbHN0b3JhZ2UiLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTthLnN0b3JlPWEuZ2V0U3RvcmFnZU9iamVjdCgpO2Euc3RhdGU9YS5yZWFkTG9jYWxTdG9yYWdlKCl9LHJlYWRMb2NhbFN0b3JhZ2U6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLnN0b3JlLGU9MCxhPWMubGVuZ3RoLGg9dGhpcy5wcmVmaXgsYj1oLmxlbmd0aCxnPXt9LGQ7Zm9yKDtlPGE7KytlKXtkPWMua2V5KGUpO2lmKGQuc3Vic3RyaW5nKDAsYik9PWgpe2dbZC5zdWJzdHIoYildPXRoaXMuZGVjb2RlVmFsdWUoYy5nZXRJdGVtKGQpKX19cmV0dXJuIGd9LHNldDpmdW5jdGlvbihhLGMpe3ZhciBiPXRoaXM7Yi5jbGVhcihhKTtpZih0eXBlb2YgYz09InVuZGVmaW5lZCJ8fGM9PT1udWxsKXtyZXR1cm59Yi5zdG9yZS5zZXRJdGVtKGIucHJlZml4K2EsYi5lbmNvZGVWYWx1ZShjKSk7Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGNsZWFyOmZ1bmN0aW9uKGEpe3RoaXMuc3RvcmUucmVtb3ZlSXRlbSh0aGlzLnByZWZpeCthKTt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sZ2V0U3RvcmFnZU9iamVjdDpmdW5jdGlvbigpe3RyeXt2YXIgYT0ibG9jYWxTdG9yYWdlIiBpbiB3aW5kb3cmJndpbmRvdy5sb2NhbFN0b3JhZ2UhPT1udWxsO2lmKGEpe3JldHVybiB3aW5kb3cubG9jYWxTdG9yYWdlfX1jYXRjaChiKXtyZXR1cm4gZmFsc2V9fX0pO0V4dC5kZWZpbmUoIkV4dC5zdGF0ZS5NYW5hZ2VyIix7c2luZ2xldG9uOnRydWUscmVxdWlyZXM6WyJFeHQuc3RhdGUuUHJvdmlkZXIiXSxjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3RoaXMucHJvdmlkZXI9bmV3IEV4dC5zdGF0ZS5Qcm92aWRlcigpfSxzZXRQcm92aWRlcjpmdW5jdGlvbihhKXt0aGlzLnByb3ZpZGVyPWF9LGdldDpmdW5jdGlvbihiLGEpe3JldHVybiB0aGlzLnByb3ZpZGVyLmdldChiLGEpfSxzZXQ6ZnVuY3Rpb24oYSxiKXt0aGlzLnByb3ZpZGVyLnNldChhLGIpfSxjbGVhcjpmdW5jdGlvbihhKXt0aGlzLnByb3ZpZGVyLmNsZWFyKGEpfSxnZXRQcm92aWRlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3ZpZGVyfX0pO0V4dC5kZWZpbmUoIkV4dC5zdGF0ZS5TdGF0ZWZ1bCIse21peGluczp7b2JzZXJ2YWJsZToiRXh0LnV0aWwuT2JzZXJ2YWJsZSJ9LHJlcXVpcmVzOlsiRXh0LnN0YXRlLk1hbmFnZXIiXSxzdGF0ZWZ1bDpmYWxzZSxzYXZlRGVsYXk6MTAwLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YT1hfHx7fTtpZihhLnN0YXRlZnVsIT09dW5kZWZpbmVkKXtiLnN0YXRlZnVsPWEuc3RhdGVmdWx9aWYoYS5zYXZlRGVsYXkhPT11bmRlZmluZWQpe2Iuc2F2ZURlbGF5PWEuc2F2ZURlbGF5fWIuc3RhdGVJZD1iLnN0YXRlSWR8fGEuc3RhdGVJZDtpZighYi5zdGF0ZUV2ZW50cyl7Yi5zdGF0ZUV2ZW50cz1bXX1pZihhLnN0YXRlRXZlbnRzKXtiLnN0YXRlRXZlbnRzLmNvbmNhdChhLnN0YXRlRXZlbnRzKX10aGlzLmFkZEV2ZW50cygiYmVmb3Jlc3RhdGVyZXN0b3JlIiwic3RhdGVyZXN0b3JlIiwiYmVmb3Jlc3RhdGVzYXZlIiwic3RhdGVzYXZlIik7Yi5taXhpbnMub2JzZXJ2YWJsZS5jb25zdHJ1Y3Rvci5jYWxsKGIpO2lmKGIuc3RhdGVmdWwhPT1mYWxzZSl7Yi5hZGRTdGF0ZUV2ZW50cyhiLnN0YXRlRXZlbnRzKTtiLmluaXRTdGF0ZSgpfX0sYWRkU3RhdGVFdmVudHM6ZnVuY3Rpb24oYyl7dmFyIGU9dGhpcyxiLGQsYTtpZihlLnN0YXRlZnVsJiZlLmdldFN0YXRlSWQoKSl7aWYodHlwZW9mIGM9PSJzdHJpbmciKXtjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKX1hPWUuc3RhdGVFdmVudHNCeU5hbWV8fChlLnN0YXRlRXZlbnRzQnlOYW1lPXt9KTtmb3IoYj1jLmxlbmd0aDtiLS07KXtkPWNbYl07aWYoIWFbZF0pe2FbZF09MTtlLm9uKGQsZS5vblN0YXRlQ2hhbmdlLGUpfX19fSxvblN0YXRlQ2hhbmdlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxhPWMuc2F2ZURlbGF5LGQsYjtpZighYy5zdGF0ZWZ1bCl7cmV0dXJufWlmKGEpe2lmKCFjLnN0YXRlVGFzayl7ZD1FeHQuc3RhdGUuU3RhdGVmdWw7Yj1kLnJ1bm5lcnx8KGQucnVubmVyPW5ldyBFeHQudXRpbC5UYXNrUnVubmVyKCkpO2Muc3RhdGVUYXNrPWIubmV3VGFzayh7cnVuOmMuc2F2ZVN0YXRlLHNjb3BlOmMsaW50ZXJ2YWw6YSxyZXBlYXQ6MX0pfWMuc3RhdGVUYXNrLnN0YXJ0KCl9ZWxzZXtjLnNhdmVTdGF0ZSgpfX0sc2F2ZVN0YXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPWIuc3RhdGVmdWwmJmIuZ2V0U3RhdGVJZCgpLGE9Yi5oYXNMaXN0ZW5lcnMsYztpZihkKXtjPWIuZ2V0U3RhdGUoKXx8e307aWYoIWEuYmVmb3Jlc3RhdGVzYXZlfHxiLmZpcmVFdmVudCgiYmVmb3Jlc3RhdGVzYXZlIixiLGMpIT09ZmFsc2Upe0V4dC5zdGF0ZS5NYW5hZ2VyLnNldChkLGMpO2lmKGEuc3RhdGVzYXZlKXtiLmZpcmVFdmVudCgic3RhdGVzYXZlIixiLGMpfX19fSxnZXRTdGF0ZTpmdW5jdGlvbigpe3JldHVybiBudWxsfSxhcHBseVN0YXRlOmZ1bmN0aW9uKGEpe2lmKGEpe0V4dC5hcHBseSh0aGlzLGEpfX0sZ2V0U3RhdGVJZDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuc3RhdGVJZHx8KGEuYXV0b0dlbklkP251bGw6YS5pZCl9LGluaXRTdGF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZD1iLnN0YXRlZnVsJiZiLmdldFN0YXRlSWQoKSxhPWIuaGFzTGlzdGVuZXJzLGM7aWYoZCl7Yz1FeHQuc3RhdGUuTWFuYWdlci5nZXQoZCk7aWYoYyl7Yz1FeHQuYXBwbHkoe30sYyk7aWYoIWEuYmVmb3Jlc3RhdGVyZXN0b3JlfHxiLmZpcmVFdmVudCgiYmVmb3Jlc3RhdGVyZXN0b3JlIixiLGMpIT09ZmFsc2Upe2IuYXBwbHlTdGF0ZShjKTtpZihhLnN0YXRlcmVzdG9yZSl7Yi5maXJlRXZlbnQoInN0YXRlcmVzdG9yZSIsYixjKX19fX19LHNhdmVQcm9wVG9TdGF0ZTpmdW5jdGlvbihnLGUsZCl7dmFyIGI9dGhpcyxjPWJbZ10sYT1iLmluaXRpYWxDb25maWc7aWYoYi5oYXNPd25Qcm9wZXJ0eShnKSl7aWYoIWF8fGFbZ10hPT1jKXtpZihlKXtlW2R8fGddPWN9cmV0dXJuIHRydWV9fXJldHVybiBmYWxzZX0sc2F2ZVByb3BzVG9TdGF0ZTpmdW5jdGlvbihlLGMpe3ZhciBiPXRoaXMsYSxkO2lmKHR5cGVvZiBlPT0ic3RyaW5nIil7Yi5zYXZlUHJvcFRvU3RhdGUoZSxjKX1lbHNle2ZvcihhPTAsZD1lLmxlbmd0aDthPGQ7KythKXtiLnNhdmVQcm9wVG9TdGF0ZShlW2FdLGMpfX1yZXR1cm4gY30sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLnN0YXRlVGFzaztpZihhKXthLmRlc3Ryb3koKTtiLnN0YXRlVGFzaz1udWxsfWIuY2xlYXJMaXN0ZW5lcnMoKX19KTtFeHQuZGVmaW5lKCJFeHQudXRpbC5BYnN0cmFjdE1peGVkQ29sbGVjdGlvbiIse3JlcXVpcmVzOlsiRXh0LnV0aWwuRmlsdGVyIl0sbWl4aW5zOntvYnNlcnZhYmxlOiJFeHQudXRpbC5PYnNlcnZhYmxlIn0saXNNaXhlZENvbGxlY3Rpb246dHJ1ZSxnZW5lcmF0aW9uOjAsY29uc3RydWN0b3I6ZnVuY3Rpb24oYixhKXt2YXIgYz10aGlzO2MuaXRlbXM9W107Yy5tYXA9e307Yy5rZXlzPVtdO2MubGVuZ3RoPTA7Yy5hbGxvd0Z1bmN0aW9ucz1iPT09dHJ1ZTtpZihhKXtjLmdldEtleT1hfWMubWl4aW5zLm9ic2VydmFibGUuY29uc3RydWN0b3IuY2FsbChjKX0sYWxsb3dGdW5jdGlvbnM6ZmFsc2UsYWRkOmZ1bmN0aW9uKGIsZSl7dmFyIGQ9dGhpcyxnPWUsYz1iLGE7aWYoYXJndW1lbnRzLmxlbmd0aD09MSl7Zz1jO2M9ZC5nZXRLZXkoZyl9aWYodHlwZW9mIGMhPSJ1bmRlZmluZWQiJiZjIT09bnVsbCl7YT1kLm1hcFtjXTtpZih0eXBlb2YgYSE9InVuZGVmaW5lZCIpe3JldHVybiBkLnJlcGxhY2UoYyxnKX1kLm1hcFtjXT1nfWQuZ2VuZXJhdGlvbisrO2QubGVuZ3RoKys7ZC5pdGVtcy5wdXNoKGcpO2Qua2V5cy5wdXNoKGMpO2lmKGQuaGFzTGlzdGVuZXJzLmFkZCl7ZC5maXJlRXZlbnQoImFkZCIsZC5sZW5ndGgtMSxnLGMpfXJldHVybiBnfSxnZXRLZXk6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaWR9LHJlcGxhY2U6ZnVuY3Rpb24oYyxlKXt2YXIgZD10aGlzLGEsYjtpZihhcmd1bWVudHMubGVuZ3RoPT0xKXtlPWFyZ3VtZW50c1swXTtjPWQuZ2V0S2V5KGUpfWE9ZC5tYXBbY107aWYodHlwZW9mIGM9PSJ1bmRlZmluZWQifHxjPT09bnVsbHx8dHlwZW9mIGE9PSJ1bmRlZmluZWQiKXtyZXR1cm4gZC5hZGQoYyxlKX1kLmdlbmVyYXRpb24rKztiPWQuaW5kZXhPZktleShjKTtkLml0ZW1zW2JdPWU7ZC5tYXBbY109ZTtpZihkLmhhc0xpc3RlbmVycy5yZXBsYWNlKXtkLmZpcmVFdmVudCgicmVwbGFjZSIsYyxhLGUpfXJldHVybiBlfSxhZGRBbGw6ZnVuY3Rpb24oZyl7dmFyIGU9dGhpcyxkPTAsYixhLGM7aWYoYXJndW1lbnRzLmxlbmd0aD4xfHxFeHQuaXNBcnJheShnKSl7Yj1hcmd1bWVudHMubGVuZ3RoPjE/YXJndW1lbnRzOmc7Zm9yKGE9Yi5sZW5ndGg7ZDxhO2QrKyl7ZS5hZGQoYltkXSl9fWVsc2V7Zm9yKGMgaW4gZyl7aWYoZy5oYXNPd25Qcm9wZXJ0eShjKSl7aWYoZS5hbGxvd0Z1bmN0aW9uc3x8dHlwZW9mIGdbY10hPSJmdW5jdGlvbiIpe2UuYWRkKGMsZ1tjXSl9fX19fSxlYWNoOmZ1bmN0aW9uKGUsZCl7dmFyIGI9W10uY29uY2F0KHRoaXMuaXRlbXMpLGM9MCxhPWIubGVuZ3RoLGc7Zm9yKDtjPGE7YysrKXtnPWJbY107aWYoZS5jYWxsKGR8fGcsZyxjLGEpPT09ZmFsc2Upe2JyZWFrfX19LGVhY2hLZXk6ZnVuY3Rpb24oZSxkKXt2YXIgZz10aGlzLmtleXMsYj10aGlzLml0ZW1zLGM9MCxhPWcubGVuZ3RoO2Zvcig7YzxhO2MrKyl7ZS5jYWxsKGR8fHdpbmRvdyxnW2NdLGJbY10sYyxhKX19LGZpbmRCeTpmdW5jdGlvbihlLGQpe3ZhciBnPXRoaXMua2V5cyxiPXRoaXMuaXRlbXMsYz0wLGE9Yi5sZW5ndGg7Zm9yKDtjPGE7YysrKXtpZihlLmNhbGwoZHx8d2luZG93LGJbY10sZ1tjXSkpe3JldHVybiBiW2NdfX1yZXR1cm4gbnVsbH0sZmluZDpmdW5jdGlvbigpe2lmKEV4dC5pc0RlZmluZWQoRXh0Lmdsb2JhbC5jb25zb2xlKSl7RXh0Lmdsb2JhbC5jb25zb2xlLndhcm4oIkV4dC51dGlsLk1peGVkQ29sbGVjdGlvbjogZmluZCBoYXMgYmVlbiBkZXByZWNhdGVkLiBVc2UgZmluZEJ5IGluc3RlYWQuIil9cmV0dXJuIHRoaXMuZmluZEJ5LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saW5zZXJ0OmZ1bmN0aW9uKGEsYixlKXt2YXIgZD10aGlzLGM9YixnPWU7aWYoYXJndW1lbnRzLmxlbmd0aD09Mil7Zz1jO2M9ZC5nZXRLZXkoZyl9aWYoZC5jb250YWluc0tleShjKSl7ZC5zdXNwZW5kRXZlbnRzKCk7ZC5yZW1vdmVBdEtleShjKTtkLnJlc3VtZUV2ZW50cygpfWlmKGE+PWQubGVuZ3RoKXtyZXR1cm4gZC5hZGQoYyxnKX1kLmdlbmVyYXRpb24rKztkLmxlbmd0aCsrO0V4dC5BcnJheS5zcGxpY2UoZC5pdGVtcyxhLDAsZyk7aWYodHlwZW9mIGMhPSJ1bmRlZmluZWQiJiZjIT09bnVsbCl7ZC5tYXBbY109Z31FeHQuQXJyYXkuc3BsaWNlKGQua2V5cyxhLDAsYyk7aWYoZC5oYXNMaXN0ZW5lcnMuYWRkKXtkLmZpcmVFdmVudCgiYWRkIixhLGcsYyl9cmV0dXJuIGd9LHJlbW92ZTpmdW5jdGlvbihhKXt0aGlzLmdlbmVyYXRpb24rKztyZXR1cm4gdGhpcy5yZW1vdmVBdCh0aGlzLmluZGV4T2YoYSkpfSxyZW1vdmVBbGw6ZnVuY3Rpb24oYil7Yj1bXS5jb25jYXQoYik7dmFyIGMsYT1iLmxlbmd0aDtmb3IoYz0wO2M8YTtjKyspe3RoaXMucmVtb3ZlKGJbY10pfXJldHVybiB0aGlzfSxyZW1vdmVBdDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGQsYjtpZihhPGMubGVuZ3RoJiZhPj0wKXtjLmxlbmd0aC0tO2Q9Yy5pdGVtc1thXTtFeHQuQXJyYXkuZXJhc2UoYy5pdGVtcyxhLDEpO2I9Yy5rZXlzW2FdO2lmKHR5cGVvZiBiIT0idW5kZWZpbmVkIil7ZGVsZXRlIGMubWFwW2JdfUV4dC5BcnJheS5lcmFzZShjLmtleXMsYSwxKTtpZihjLmhhc0xpc3RlbmVycy5yZW1vdmUpe2MuZmlyZUV2ZW50KCJyZW1vdmUiLGQsYil9Yy5nZW5lcmF0aW9uKys7cmV0dXJuIGR9cmV0dXJuIGZhbHNlfSxyZW1vdmVBdEtleTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW1vdmVBdCh0aGlzLmluZGV4T2ZLZXkoYSkpfSxnZXRDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0saW5kZXhPZjpmdW5jdGlvbihhKXtyZXR1cm4gRXh0LkFycmF5LmluZGV4T2YodGhpcy5pdGVtcyxhKX0saW5kZXhPZktleTpmdW5jdGlvbihhKXtyZXR1cm4gRXh0LkFycmF5LmluZGV4T2YodGhpcy5rZXlzLGEpfSxnZXQ6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcyxhPWQubWFwW2JdLGM9YSE9PXVuZGVmaW5lZD9hOih0eXBlb2YgYj09Im51bWJlciIpP2QuaXRlbXNbYl06dW5kZWZpbmVkO3JldHVybiB0eXBlb2YgYyE9ImZ1bmN0aW9uInx8ZC5hbGxvd0Z1bmN0aW9ucz9jOm51bGx9LGdldEF0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLml0ZW1zW2FdfSxnZXRCeUtleTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYXBbYV19LGNvbnRhaW5zOmZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgdGhpcy5tYXBbdGhpcy5nZXRLZXkoYSldIT0idW5kZWZpbmVkIn0sY29udGFpbnNLZXk6ZnVuY3Rpb24oYSl7cmV0dXJuIHR5cGVvZiB0aGlzLm1hcFthXSE9InVuZGVmaW5lZCJ9LGNsZWFyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmxlbmd0aD0wO2EuaXRlbXM9W107YS5rZXlzPVtdO2EubWFwPXt9O2EuZ2VuZXJhdGlvbisrO2lmKGEuaGFzTGlzdGVuZXJzLmNsZWFyKXthLmZpcmVFdmVudCgiY2xlYXIiKX19LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlbXNbMF19LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVtc1t0aGlzLmxlbmd0aC0xXX0sc3VtOmZ1bmN0aW9uKGgsYixqLGEpe3ZhciBjPXRoaXMuZXh0cmFjdFZhbHVlcyhoLGIpLGc9Yy5sZW5ndGgsZT0wLGQ7aj1qfHwwO2E9KGF8fGE9PT0wKT9hOmctMTtmb3IoZD1qO2Q8PWE7ZCsrKXtlKz1jW2RdfXJldHVybiBlfSxjb2xsZWN0OmZ1bmN0aW9uKGssZSxoKXt2YXIgbD10aGlzLmV4dHJhY3RWYWx1ZXMoayxlKSxhPWwubGVuZ3RoLGI9e30sYz1bXSxqLGcsZDtmb3IoZD0wO2Q8YTtkKyspe2o9bFtkXTtnPVN0cmluZyhqKTtpZigoaHx8IUV4dC5pc0VtcHR5KGopKSYmIWJbZ10pe2JbZ109dHJ1ZTtjLnB1c2goail9fXJldHVybiBjfSxleHRyYWN0VmFsdWVzOmZ1bmN0aW9uKGMsYSl7dmFyIGI9dGhpcy5pdGVtcztpZihhKXtiPUV4dC5BcnJheS5wbHVjayhiLGEpfXJldHVybiBFeHQuQXJyYXkucGx1Y2soYixjKX0sZ2V0UmFuZ2U6ZnVuY3Rpb24oZyxhKXt2YXIgZT10aGlzLGM9ZS5pdGVtcyxiPVtdLGQ7aWYoYy5sZW5ndGg8MSl7cmV0dXJuIGJ9Zz1nfHwwO2E9TWF0aC5taW4odHlwZW9mIGE9PSJ1bmRlZmluZWQiP2UubGVuZ3RoLTE6YSxlLmxlbmd0aC0xKTtpZihnPD1hKXtmb3IoZD1nO2Q8PWE7ZCsrKXtiW2IubGVuZ3RoXT1jW2RdfX1lbHNle2ZvcihkPWc7ZD49YTtkLS0pe2JbYi5sZW5ndGhdPWNbZF19fXJldHVybiBifSxmaWx0ZXI6ZnVuY3Rpb24oZCxjLGcsYSl7dmFyIGI9W10sZTtpZihFeHQuaXNTdHJpbmcoZCkpe2IucHVzaChuZXcgRXh0LnV0aWwuRmlsdGVyKHtwcm9wZXJ0eTpkLHZhbHVlOmMsYW55TWF0Y2g6ZyxjYXNlU2Vuc2l0aXZlOmF9KSl9ZWxzZXtpZihFeHQuaXNBcnJheShkKXx8ZCBpbnN0YW5jZW9mIEV4dC51dGlsLkZpbHRlcil7Yj1iLmNvbmNhdChkKX19ZT1mdW5jdGlvbihoKXt2YXIgbj10cnVlLG89Yi5sZW5ndGgsaixtLGwsaztmb3Ioaj0wO2o8bztqKyspe209YltqXTtsPW0uZmlsdGVyRm47az1tLnNjb3BlO249biYmbC5jYWxsKGssaCl9cmV0dXJuIG59O3JldHVybiB0aGlzLmZpbHRlckJ5KGUpfSxmaWx0ZXJCeTpmdW5jdGlvbihlLGQpe3ZhciBqPXRoaXMsYT1uZXcgdGhpcy5zZWxmKCksaD1qLmtleXMsYj1qLml0ZW1zLGc9Yi5sZW5ndGgsYzthLmdldEtleT1qLmdldEtleTtmb3IoYz0wO2M8ZztjKyspe2lmKGUuY2FsbChkfHxqLGJbY10saFtjXSkpe2EuYWRkKGhbY10sYltjXSl9fXJldHVybiBhfSxmaW5kSW5kZXg6ZnVuY3Rpb24oYyxiLGUsZCxhKXtpZihFeHQuaXNFbXB0eShiLGZhbHNlKSl7cmV0dXJuIC0xfWI9dGhpcy5jcmVhdGVWYWx1ZU1hdGNoZXIoYixkLGEpO3JldHVybiB0aGlzLmZpbmRJbmRleEJ5KGZ1bmN0aW9uKGcpe3JldHVybiBnJiZiLnRlc3QoZ1tjXSl9LG51bGwsZSl9LGZpbmRJbmRleEJ5OmZ1bmN0aW9uKGUsZCxqKXt2YXIgaD10aGlzLGc9aC5rZXlzLGI9aC5pdGVtcyxjPWp8fDAsYT1iLmxlbmd0aDtmb3IoO2M8YTtjKyspe2lmKGUuY2FsbChkfHxoLGJbY10sZ1tjXSkpe3JldHVybiBjfX1yZXR1cm4gLTF9LGNyZWF0ZVZhbHVlTWF0Y2hlcjpmdW5jdGlvbihjLGUsYSxiKXtpZighYy5leGVjKXt2YXIgZD1FeHQuU3RyaW5nLmVzY2FwZVJlZ2V4O2M9U3RyaW5nKGMpO2lmKGU9PT10cnVlKXtjPWQoYyl9ZWxzZXtjPSJeIitkKGMpO2lmKGI9PT10cnVlKXtjKz0iJCJ9fWM9bmV3IFJlZ0V4cChjLGE/IiI6ImkiKX1yZXR1cm4gY30sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGc9bmV3IHRoaXMuc2VsZigpLGQ9ZS5rZXlzLGI9ZS5pdGVtcyxjPTAsYT1iLmxlbmd0aDtmb3IoO2M8YTtjKyspe2cuYWRkKGRbY10sYltjXSl9Zy5nZXRLZXk9ZS5nZXRLZXk7cmV0dXJuIGd9fSk7RXh0LmRlZmluZSgiRXh0LnV0aWwuR3JvdXBlciIse2V4dGVuZDoiRXh0LnV0aWwuU29ydGVyIixnZXRHcm91cFN0cmluZzpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXQodGhpcy5wcm9wZXJ0eSl9fSk7RXh0LmRlZmluZSgiRXh0LnV0aWwuSGFzaE1hcCIse21peGluczp7b2JzZXJ2YWJsZToiRXh0LnV0aWwuT2JzZXJ2YWJsZSJ9LGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe2E9YXx8e307dmFyIGM9dGhpcyxiPWEua2V5Rm47Yy5hZGRFdmVudHMoImFkZCIsImNsZWFyIiwicmVtb3ZlIiwicmVwbGFjZSIpO2MubWl4aW5zLm9ic2VydmFibGUuY29uc3RydWN0b3IuY2FsbChjLGEpO2MuY2xlYXIodHJ1ZSk7aWYoYil7Yy5nZXRLZXk9Yn19LGdldENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSxnZXREYXRhOmZ1bmN0aW9uKGEsYil7aWYoYj09PXVuZGVmaW5lZCl7Yj1hO2E9dGhpcy5nZXRLZXkoYil9cmV0dXJuW2EsYl19LGdldEtleTpmdW5jdGlvbihhKXtyZXR1cm4gYS5pZH0sYWRkOmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcztpZihjPT09dW5kZWZpbmVkKXtjPWE7YT1iLmdldEtleShjKX1pZihiLmNvbnRhaW5zS2V5KGEpKXtyZXR1cm4gYi5yZXBsYWNlKGEsYyl9Yi5tYXBbYV09YzsrK2IubGVuZ3RoO2lmKGIuaGFzTGlzdGVuZXJzLmFkZCl7Yi5maXJlRXZlbnQoImFkZCIsYixhLGMpfXJldHVybiBjfSxyZXBsYWNlOmZ1bmN0aW9uKGIsZCl7dmFyIGM9dGhpcyxlPWMubWFwLGE7aWYoZD09PXVuZGVmaW5lZCl7ZD1iO2I9Yy5nZXRLZXkoZCl9aWYoIWMuY29udGFpbnNLZXkoYikpe2MuYWRkKGIsZCl9YT1lW2JdO2VbYl09ZDtpZihjLmhhc0xpc3RlbmVycy5yZXBsYWNlKXtjLmZpcmVFdmVudCgicmVwbGFjZSIsYyxiLGQsYSl9cmV0dXJuIGR9LHJlbW92ZTpmdW5jdGlvbihiKXt2YXIgYT10aGlzLmZpbmRLZXkoYik7aWYoYSE9PXVuZGVmaW5lZCl7cmV0dXJuIHRoaXMucmVtb3ZlQXRLZXkoYSl9cmV0dXJuIGZhbHNlfSxyZW1vdmVBdEtleTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM7aWYoYi5jb250YWluc0tleShhKSl7Yz1iLm1hcFthXTtkZWxldGUgYi5tYXBbYV07LS1iLmxlbmd0aDtpZihiLmhhc0xpc3RlbmVycy5yZW1vdmUpe2IuZmlyZUV2ZW50KCJyZW1vdmUiLGIsYSxjKX1yZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5tYXBbYV19LGNsZWFyOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5tYXA9e307Yi5sZW5ndGg9MDtpZihhIT09dHJ1ZSYmYi5oYXNMaXN0ZW5lcnMuY2xlYXIpe2IuZmlyZUV2ZW50KCJjbGVhciIsYil9cmV0dXJuIGJ9LGNvbnRhaW5zS2V5OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1hcFthXSE9PXVuZGVmaW5lZH0sY29udGFpbnM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuY29udGFpbnNLZXkodGhpcy5maW5kS2V5KGEpKX0sZ2V0S2V5czpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEFycmF5KHRydWUpfSxnZXRWYWx1ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRBcnJheShmYWxzZSl9LGdldEFycmF5OmZ1bmN0aW9uKGQpe3ZhciBhPVtdLGIsYz10aGlzLm1hcDtmb3IoYiBpbiBjKXtpZihjLmhhc093blByb3BlcnR5KGIpKXthLnB1c2goZD9iOmNbYl0pfX1yZXR1cm4gYX0sZWFjaDpmdW5jdGlvbihkLGMpe3ZhciBhPUV4dC5hcHBseSh7fSx0aGlzLm1hcCksYixlPXRoaXMubGVuZ3RoO2M9Y3x8dGhpcztmb3IoYiBpbiBhKXtpZihhLmhhc093blByb3BlcnR5KGIpKXtpZihkLmNhbGwoYyxiLGFbYl0sZSk9PT1mYWxzZSl7YnJlYWt9fX1yZXR1cm4gdGhpc30sY2xvbmU6ZnVuY3Rpb24oKXt2YXIgYz1uZXcgdGhpcy5zZWxmKCksYj10aGlzLm1hcCxhO2Muc3VzcGVuZEV2ZW50cygpO2ZvcihhIGluIGIpe2lmKGIuaGFzT3duUHJvcGVydHkoYSkpe2MuYWRkKGEsYlthXSl9fWMucmVzdW1lRXZlbnRzKCk7cmV0dXJuIGN9LGZpbmRLZXk6ZnVuY3Rpb24oYil7dmFyIGEsYz10aGlzLm1hcDtmb3IoYSBpbiBjKXtpZihjLmhhc093blByb3BlcnR5KGEpJiZjW2FdPT09Yil7cmV0dXJuIGF9fXJldHVybiB1bmRlZmluZWR9fSk7RXh0LmRlZmluZSgiRXh0LkFic3RyYWN0TWFuYWdlciIse3JlcXVpcmVzOlsiRXh0LnV0aWwuSGFzaE1hcCJdLHR5cGVOYW1lOiJ0eXBlIixjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXtFeHQuYXBwbHkodGhpcyxhfHx7fSk7dGhpcy5hbGw9bmV3IEV4dC51dGlsLkhhc2hNYXAoKTt0aGlzLnR5cGVzPXt9fSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYWxsLmdldChhKX0scmVnaXN0ZXI6ZnVuY3Rpb24oYSl7dGhpcy5hbGwuYWRkKGEpfSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGEpe3RoaXMuYWxsLnJlbW92ZShhKX0scmVnaXN0ZXJUeXBlOmZ1bmN0aW9uKGIsYSl7dGhpcy50eXBlc1tiXT1hO2FbdGhpcy50eXBlTmFtZV09Yn0saXNSZWdpc3RlcmVkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnR5cGVzW2FdIT09dW5kZWZpbmVkfSxjcmVhdGU6ZnVuY3Rpb24oYSxkKXt2YXIgYj1hW3RoaXMudHlwZU5hbWVdfHxhLnR5cGV8fGQsYz10aGlzLnR5cGVzW2JdO3JldHVybiBuZXcgYyhhKX0sb25BdmFpbGFibGU6ZnVuY3Rpb24oZSxjLGIpe3ZhciBhPXRoaXMuYWxsLGQ7aWYoYS5jb250YWluc0tleShlKSl7ZD1hLmdldChlKTtjLmNhbGwoYnx8ZCxkKX1lbHNle2Eub24oImFkZCIsZnVuY3Rpb24oaSxnLGgpe2lmKGc9PWUpe2MuY2FsbChifHxoLGgpO2EudW4oImFkZCIsYyxiKX19KX19LGVhY2g6ZnVuY3Rpb24oYixhKXt0aGlzLmFsbC5lYWNoKGIsYXx8dGhpcyl9LGdldENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWxsLmdldENvdW50KCl9fSk7RXh0LmRlZmluZSgiRXh0LkNvbXBvbmVudE1hbmFnZXIiLHtleHRlbmQ6IkV4dC5BYnN0cmFjdE1hbmFnZXIiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LkNvbXBvbmVudE1nciIsc2luZ2xldG9uOnRydWUsdHlwZU5hbWU6Inh0eXBlIixjcmVhdGU6ZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYT09InN0cmluZyIpe3JldHVybiBFeHQud2lkZ2V0KGEpfWlmKGEuaXNDb21wb25lbnQpe3JldHVybiBhfXJldHVybiBFeHQud2lkZ2V0KGEueHR5cGV8fGIsYSl9LHJlZ2lzdGVyVHlwZTpmdW5jdGlvbihiLGEpe3RoaXMudHlwZXNbYl09YTthW3RoaXMudHlwZU5hbWVdPWI7YS5wcm90b3R5cGVbdGhpcy50eXBlTmFtZV09Yn19KTtFeHQuZGVmaW5lKCJFeHQuQWJzdHJhY3RDb21wb25lbnQiLHtyZXF1aXJlczpbIkV4dC5Db21wb25lbnRRdWVyeSIsIkV4dC5Db21wb25lbnRNYW5hZ2VyIiwiRXh0LnV0aWwuUHJvdG9FbGVtZW50Il0sbWl4aW5zOntvYnNlcnZhYmxlOiJFeHQudXRpbC5PYnNlcnZhYmxlIixhbmltYXRlOiJFeHQudXRpbC5BbmltYXRlIixlbGVtZW50Q3Q6IkV4dC51dGlsLkVsZW1lbnRDb250YWluZXIiLHJlbmRlcmFibGU6IkV4dC51dGlsLlJlbmRlcmFibGUiLHN0YXRlOiJFeHQuc3RhdGUuU3RhdGVmdWwifSx1c2VzOlsiRXh0LlBsdWdpbk1hbmFnZXIiLCJFeHQuRWxlbWVudCIsIkV4dC5Eb21IZWxwZXIiLCJFeHQuWFRlbXBsYXRlIiwiRXh0LkNvbXBvbmVudFF1ZXJ5IiwiRXh0LkNvbXBvbmVudExvYWRlciIsIkV4dC5FdmVudE1hbmFnZXIiLCJFeHQubGF5b3V0LkNvbnRleHQiLCJFeHQubGF5b3V0LkxheW91dCIsIkV4dC5sYXlvdXQuY29tcG9uZW50LkF1dG8iLCJFeHQuTG9hZE1hc2siLCJFeHQuWkluZGV4TWFuYWdlciJdLHN0YXRpY3M6e0FVVE9fSUQ6MTAwMCxwZW5kaW5nTGF5b3V0czpudWxsLGxheW91dFN1c3BlbmRDb3VudDowLGNhbmNlbExheW91dDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnJ1bm5pbmdMYXlvdXRDb250ZXh0fHx0aGlzLnBlbmRpbmdMYXlvdXRzO2lmKGIpe2IuY2FuY2VsQ29tcG9uZW50KGEpfX0sZmx1c2hMYXlvdXRzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIucGVuZGluZ0xheW91dHM7aWYoYSYmYS5pbnZhbGlkUXVldWUubGVuZ3RoKXtiLnBlbmRpbmdMYXlvdXRzPW51bGw7Yi5ydW5uaW5nTGF5b3V0Q29udGV4dD1hO0V4dC5vdmVycmlkZShhLHtydW5Db21wbGV0ZTpmdW5jdGlvbigpe2IucnVubmluZ0xheW91dENvbnRleHQ9bnVsbDtyZXR1cm4gdGhpcy5jYWxsUGFyZW50KCl9fSk7YS5ydW4oKX19LHJlc3VtZUxheW91dHM6ZnVuY3Rpb24oYSl7aWYodGhpcy5sYXlvdXRTdXNwZW5kQ291bnQmJiEtLXRoaXMubGF5b3V0U3VzcGVuZENvdW50KXtpZihhKXt0aGlzLmZsdXNoTGF5b3V0cygpfX19LHN1c3BlbmRMYXlvdXRzOmZ1bmN0aW9uKCl7Kyt0aGlzLmxheW91dFN1c3BlbmRDb3VudH0sdXBkYXRlTGF5b3V0OmZ1bmN0aW9uKGIsZSl7dmFyIGM9dGhpcyxhPWMucnVubmluZ0xheW91dENvbnRleHQsZDtpZihhKXthLnF1ZXVlSW52YWxpZGF0ZShiKX1lbHNle2Q9Yy5wZW5kaW5nTGF5b3V0c3x8KGMucGVuZGluZ0xheW91dHM9bmV3IEV4dC5sYXlvdXQuQ29udGV4dCgpKTtkLnF1ZXVlSW52YWxpZGF0ZShiKTtpZighZSYmIWMubGF5b3V0U3VzcGVuZENvdW50JiYhYi5pc0xheW91dFN1c3BlbmRlZCgpKXtjLmZsdXNoTGF5b3V0cygpfX19fSxpc0NvbXBvbmVudDp0cnVlLGdldEF1dG9JZDpmdW5jdGlvbigpe3RoaXMuYXV0b0dlbklkPXRydWU7cmV0dXJuICsrRXh0LkFic3RyYWN0Q29tcG9uZW50LkFVVE9fSUR9LGRlZmVyTGF5b3V0czpmYWxzZSxhdXRvR2VuSWQ6ZmFsc2UscmVuZGVyVHBsOiJ7JXRoaXMucmVuZGVyQ29udGVudChvdXQsdmFsdWVzKSV9IixmcmFtZVNpemU6e2xlZnQ6MCx0b3A6MCxyaWdodDowLGJvdHRvbTowLHdpZHRoOjAsaGVpZ2h0OjB9LHRwbFdyaXRlTW9kZToib3ZlcndyaXRlIixiYXNlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJjb21wb25lbnQiLGRpc2FibGVkQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJpdGVtLWRpc2FibGVkIix1aToiZGVmYXVsdCIsdWlDbHM6W10saGlkZGVuOmZhbHNlLGRpc2FibGVkOmZhbHNlLGRyYWdnYWJsZTpmYWxzZSxmbG9hdGluZzpmYWxzZSxoaWRlTW9kZToiZGlzcGxheSIsc3R5bGVIdG1sQ29udGVudDpmYWxzZSxzdHlsZUh0bWxDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImh0bWwiLGF1dG9TaG93OmZhbHNlLGF1dG9SZW5kZXI6ZmFsc2UsYWxsb3dEb21Nb3ZlOnRydWUscmVuZGVyZWQ6ZmFsc2UsY29tcG9uZW50TGF5b3V0Q291bnRlcjowLHNocmlua1dyYXA6Mix3ZWlnaHQ6MCxtYXNrT25EaXNhYmxlOnRydWUsX2lzTGF5b3V0Um9vdDpmYWxzZSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihjKXt2YXIgZT10aGlzLGQsYSxiO2lmKGMpe0V4dC5hcHBseShlLGMpO2I9ZS54aG9va3M7aWYoYil7ZGVsZXRlIGUueGhvb2tzO0V4dC5vdmVycmlkZShlLGIpfX1lbHNle2M9e319ZS5pbml0aWFsQ29uZmlnPWM7ZS5taXhpbnMuZWxlbWVudEN0LmNvbnN0cnVjdG9yLmNhbGwoZSk7ZS5hZGRFdmVudHMoImJlZm9yZWFjdGl2YXRlIiwiYWN0aXZhdGUiLCJiZWZvcmVkZWFjdGl2YXRlIiwiZGVhY3RpdmF0ZSIsImFkZGVkIiwiZGlzYWJsZSIsImVuYWJsZSIsImJlZm9yZXNob3ciLCJzaG93IiwiYmVmb3JlaGlkZSIsImhpZGUiLCJyZW1vdmVkIiwiYmVmb3JlcmVuZGVyIiwicmVuZGVyIiwiYWZ0ZXJyZW5kZXIiLCJib3hyZWFkeSIsImJlZm9yZWRlc3Ryb3kiLCJkZXN0cm95IiwicmVzaXplIiwibW92ZSIsImZvY3VzIiwiYmx1ciIpO2UuZ2V0SWQoKTtlLnNldHVwUHJvdG9FbCgpO2lmKGUuY2xzKXtlLmluaXRpYWxDbHM9ZS5jbHM7ZS5wcm90b0VsLmFkZENscyhlLmNscyl9aWYoZS5zdHlsZSl7ZS5pbml0aWFsU3R5bGU9ZS5zdHlsZTtlLnByb3RvRWwuc2V0U3R5bGUoZS5zdHlsZSl9ZS5tb25zPVtdO2UucmVuZGVyRGF0YT1lLnJlbmRlckRhdGF8fHt9O2UucmVuZGVyU2VsZWN0b3JzPWUucmVuZGVyU2VsZWN0b3JzfHx7fTtpZihlLnBsdWdpbnMpe2UucGx1Z2lucz1bXS5jb25jYXQoZS5wbHVnaW5zKTtlLmNvbnN0cnVjdFBsdWdpbnMoKX1pZighZS5oYXNMaXN0ZW5lcnMpe2UuaGFzTGlzdGVuZXJzPW5ldyBlLkhhc0xpc3RlbmVycygpfWUuaW5pdENvbXBvbmVudCgpO0V4dC5Db21wb25lbnRNYW5hZ2VyLnJlZ2lzdGVyKGUpO2UubWl4aW5zLm9ic2VydmFibGUuY29uc3RydWN0b3IuY2FsbChlKTtlLm1peGlucy5zdGF0ZS5jb25zdHJ1Y3Rvci5jYWxsKGUsYyk7dGhpcy5hZGRTdGF0ZUV2ZW50cygicmVzaXplIik7aWYoZS5wbHVnaW5zKXtlLnBsdWdpbnM9W10uY29uY2F0KGUucGx1Z2lucyk7Zm9yKGQ9MCxhPWUucGx1Z2lucy5sZW5ndGg7ZDxhO2QrKyl7ZS5wbHVnaW5zW2RdPWUuaW5pdFBsdWdpbihlLnBsdWdpbnNbZF0pfX1lLmxvYWRlcj1lLmdldExvYWRlcigpO2lmKGUucmVuZGVyVG8pe2UucmVuZGVyKGUucmVuZGVyVG8pfWlmKGUuYXV0b1Nob3cpe2Uuc2hvdygpfX0saW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3RoaXMuY29uc3RydWN0UGx1Z2lucygpO3RoaXMuc2V0U2l6ZSh0aGlzLndpZHRoLHRoaXMuaGVpZ2h0KX0sZ2V0U3RhdGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9bnVsbCxhPWIuZ2V0U2l6ZU1vZGVsKCk7aWYoYS53aWR0aC5jb25maWd1cmVkKXtjPWIuYWRkUHJvcGVydHlUb1N0YXRlKGMsIndpZHRoIil9aWYoYS5oZWlnaHQuY29uZmlndXJlZCl7Yz1iLmFkZFByb3BlcnR5VG9TdGF0ZShjLCJoZWlnaHQiKX1yZXR1cm4gY30sYWRkUHJvcGVydHlUb1N0YXRlOmZ1bmN0aW9uKGUsZCxjKXt2YXIgYj10aGlzLGE9YXJndW1lbnRzLmxlbmd0aDtpZihhPT0zfHxiLmhhc093blByb3BlcnR5KGQpKXtpZihhPDMpe2M9YltkXX1pZihjIT09Yi5pbml0aWFsQ29uZmlnW2RdKXsoZXx8KGU9e30pKVtkXT1jfX1yZXR1cm4gZX0sc2hvdzpFeHQuZW1wdHlGbixhbmltYXRlOmZ1bmN0aW9uKGIpe3ZhciBrPXRoaXMsZSxnLGQscCxvLG0sbCxqLG4saSxjLGE7Yj1ifHx7fTtvPWIudG98fHt9O2lmKEV4dC5meC5NYW5hZ2VyLmhhc0Z4QmxvY2soay5pZCkpe3JldHVybiBrfWU9RXh0LmlzRGVmaW5lZChvLndpZHRoKTtpZihlKXtwPUV4dC5OdW1iZXIuY29uc3RyYWluKG8ud2lkdGgsay5taW5XaWR0aCxrLm1heFdpZHRoKX1nPUV4dC5pc0RlZmluZWQoby5oZWlnaHQpO2lmKGcpe2Q9RXh0Lk51bWJlci5jb25zdHJhaW4oby5oZWlnaHQsay5taW5IZWlnaHQsay5tYXhIZWlnaHQpfWlmKCFiLmR5bmFtaWMmJihlfHxnKSl7aj0oYi5mcm9tP2IuZnJvbS53aWR0aDp1bmRlZmluZWQpfHxrLmdldFdpZHRoKCk7bj1qO2k9KGIuZnJvbT9iLmZyb20uaGVpZ2h0OnVuZGVmaW5lZCl8fGsuZ2V0SGVpZ2h0KCk7Yz1pO2E9ZmFsc2U7aWYoZyYmZD5pKXtjPWQ7YT10cnVlfWlmKGUmJnA+ail7bj1wO2E9dHJ1ZX1pZihhKXttPSFFeHQuaXNOdW1iZXIoay53aWR0aCk7bD0hRXh0LmlzTnVtYmVyKGsuaGVpZ2h0KTtrLnNldFNpemUobixjKTtrLmVsLnNldFNpemUoaixpKTtpZihtKXtkZWxldGUgay53aWR0aH1pZihsKXtkZWxldGUgay5oZWlnaHR9fWlmKGUpe28ud2lkdGg9cH1pZihnKXtvLmhlaWdodD1kfX1yZXR1cm4gay5taXhpbnMuYW5pbWF0ZS5hbmltYXRlLmFwcGx5KGssYXJndW1lbnRzKX0sb25IaWRlOmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVMYXlvdXQoe2lzUm9vdDpmYWxzZX0pfSxvblNob3c6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUxheW91dCh7aXNSb290OmZhbHNlfSl9LGNvbnN0cnVjdFBsdWdpbjpmdW5jdGlvbihhKXtpZihhLnB0eXBlJiZ0eXBlb2YgYS5pbml0IT0iZnVuY3Rpb24iKXthLmNtcD10aGlzO2E9RXh0LlBsdWdpbk1hbmFnZXIuY3JlYXRlKGEpfWVsc2V7aWYodHlwZW9mIGE9PSJzdHJpbmciKXthPUV4dC5QbHVnaW5NYW5hZ2VyLmNyZWF0ZSh7cHR5cGU6YSxjbXA6dGhpc30pfX1yZXR1cm4gYX0sY29uc3RydWN0UGx1Z2luczpmdW5jdGlvbigpe3ZhciBkPXRoaXMsYj1kLnBsdWdpbnMsYyxhO2lmKGIpe2ZvcihjPTAsYT1iLmxlbmd0aDtjPGE7YysrKXtiW2NdPWQuY29uc3RydWN0UGx1Z2luKGJbY10pfX19LGluaXRQbHVnaW46ZnVuY3Rpb24oYSl7YS5pbml0KHRoaXMpO3JldHVybiBhfSx1cGRhdGVBcmlhOkV4dC5lbXB0eUZuLHJlZ2lzdGVyRmxvYXRpbmdJdGVtOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7aWYoIWEuZmxvYXRpbmdJdGVtcyl7YS5mbG9hdGluZ0l0ZW1zPW5ldyBFeHQuWkluZGV4TWFuYWdlcihhKX1hLmZsb2F0aW5nSXRlbXMucmVnaXN0ZXIoYil9LHVucmVnaXN0ZXJGbG9hdGluZ0l0ZW06ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZihhLmZsb2F0aW5nSXRlbXMpe2EuZmxvYXRpbmdJdGVtcy51bnJlZ2lzdGVyKGIpfX0sbGF5b3V0U3VzcGVuZENvdW50OjAsc3VzcGVuZExheW91dHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKCFhLnJlbmRlcmVkKXtyZXR1cm59aWYoKythLmxheW91dFN1c3BlbmRDb3VudD09MSl7YS5zdXNwZW5kTGF5b3V0PXRydWV9fSxyZXN1bWVMYXlvdXRzOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7aWYoIWEucmVuZGVyZWQpe3JldHVybn1pZighLS1hLmxheW91dFN1c3BlbmRDb3VudCl7YS5zdXNwZW5kTGF5b3V0PWZhbHNlO2lmKGImJiFhLmlzTGF5b3V0U3VzcGVuZGVkKCkpe2EudXBkYXRlTGF5b3V0KGIpfX19LHNldHVwUHJvdG9FbDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1bYi5iYXNlQ2xzLGIuZ2V0Q29tcG9uZW50TGF5b3V0KCkudGFyZ2V0Q2xzXTtpZihFeHQuaXNEZWZpbmVkKGIuY21wQ2xzKSl7aWYoRXh0LmlzRGVmaW5lZChFeHQuZ2xvYmFsLmNvbnNvbGUpKXtFeHQuZ2xvYmFsLmNvbnNvbGUud2FybigiRXh0LkNvbXBvbmVudDogY21wQ2xzIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgY29tcG9uZW50Q2xzLiIpfWIuY29tcG9uZW50Q2xzPWIuY21wQ2xzO2RlbGV0ZSBiLmNtcENsc31pZihiLmNvbXBvbmVudENscyl7YS5wdXNoKGIuY29tcG9uZW50Q2xzKX1lbHNle2IuY29tcG9uZW50Q2xzPWIuYmFzZUNsc31iLnByb3RvRWw9bmV3IEV4dC51dGlsLlByb3RvRWxlbWVudCh7Y2xzOmEuam9pbigiICIpfSl9LHNldFVJOmZ1bmN0aW9uKGcpe3ZhciBlPXRoaXMsYj1FeHQuQXJyYXkuY2xvbmUoZS51aUNscyksaD1bXSxkPVtdLGEsYztmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKXthPWJbY107ZD1kLmNvbmNhdChlLnJlbW92ZUNsc1dpdGhVSShhLHRydWUpKTtoLnB1c2goYSl9aWYoZC5sZW5ndGgpe2UucmVtb3ZlQ2xzKGQpfWUucmVtb3ZlVUlGcm9tRWxlbWVudCgpO2UudWk9ZztlLmFkZFVJVG9FbGVtZW50KCk7ZD1bXTtmb3IoYz0wO2M8aC5sZW5ndGg7YysrKXthPWhbY107ZD1kLmNvbmNhdChlLmFkZENsc1dpdGhVSShhLHRydWUpKX1pZihkLmxlbmd0aCl7ZS5hZGRDbHMoZCl9aWYoZS5yZW5kZXJlZCl7ZS51cGRhdGVMYXlvdXQoKX19LGFkZENsc1dpdGhVSTpmdW5jdGlvbihjLGgpe3ZhciBnPXRoaXMsZT1bXSxkLGI9MCxhO2lmKHR5cGVvZiBjPT09InN0cmluZyIpe2M9KGMuaW5kZXhPZigiICIpPDApP1tjXTpFeHQuU3RyaW5nLnNwbGl0V29yZHMoYyl9ZD1jLmxlbmd0aDtnLnVpQ2xzPUV4dC5BcnJheS5jbG9uZShnLnVpQ2xzKTtmb3IoO2I8ZDtiKyspe2E9Y1tiXTtpZihhJiYhZy5oYXNVSUNscyhhKSl7Zy51aUNscy5wdXNoKGEpO2U9ZS5jb25jYXQoZy5hZGRVSUNsc1RvRWxlbWVudChhKSl9fWlmKGghPT10cnVlKXtnLmFkZENscyhlKX1yZXR1cm4gZX0scmVtb3ZlQ2xzV2l0aFVJOmZ1bmN0aW9uKGMsaCl7dmFyIGc9dGhpcyxlPVtdLGI9MCxkLGE7aWYodHlwZW9mIGM9PT0ic3RyaW5nIil7Yz0oYy5pbmRleE9mKCIgIik8MCk/W2NdOkV4dC5TdHJpbmcuc3BsaXRXb3JkcyhjKX1kPWMubGVuZ3RoO2ZvcihiPTA7YjxkO2IrKyl7YT1jW2JdO2lmKGEmJmcuaGFzVUlDbHMoYSkpe2cudWlDbHM9RXh0LkFycmF5LnJlbW92ZShnLnVpQ2xzLGEpO2U9ZS5jb25jYXQoZy5yZW1vdmVVSUNsc0Zyb21FbGVtZW50KGEpKX19aWYoaCE9PXRydWUpe2cucmVtb3ZlQ2xzKGUpfXJldHVybiBlfSxoYXNVSUNsczpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi51aUNsc3x8W107cmV0dXJuIEV4dC5BcnJheS5jb250YWlucyhjLGEpfSxmcmFtZUVsZW1lbnRzQXJyYXk6WyJ0bCIsInRjIiwidHIiLCJtbCIsIm1jIiwibXIiLCJibCIsImJjIiwiYnIiXSxhZGRVSUNsc1RvRWxlbWVudDpmdW5jdGlvbihtKXt2YXIgaz10aGlzLGI9ay5iYXNlQ2xzKyItIitrLnVpKyItIittLG49W0V4dC5iYXNlQ1NTUHJlZml4K20say5iYXNlQ2xzKyItIittLGJdLGw9ay5mcmFtZUVsZW1lbnRDbHMsaCxnLGUsYSxkLGo7aWYoay5mcmFtZSYmIUV4dC5zdXBwb3J0cy5DU1MzQm9yZGVyUmFkaXVzKXtoPWsuZnJhbWVFbGVtZW50c0FycmF5O2c9aC5sZW5ndGg7ZT0wO2Zvcig7ZTxnO2UrKyl7ZD1oW2VdO2E9a1siZnJhbWUiK2QudG9VcHBlckNhc2UoKV07aj1iKyItIitkO2lmKGEmJmEuZG9tKXthLmFkZENscyhqKX1lbHNle2lmKEV4dC5BcnJheS5pbmRleE9mKGxbZF0saik9PS0xKXtsW2RdLnB1c2goail9fX19ay5mcmFtZUVsZW1lbnRDbHM9bDtyZXR1cm4gbn0scmVtb3ZlVUlDbHNGcm9tRWxlbWVudDpmdW5jdGlvbihtKXt2YXIgaz10aGlzLGI9ay5iYXNlQ2xzKyItIitrLnVpKyItIittLG49W0V4dC5iYXNlQ1NTUHJlZml4K20say5iYXNlQ2xzKyItIittLGJdLGw9ay5mcmFtZUVsZW1lbnRDbHMsaCxnLGUsYSxkLGo7aWYoay5mcmFtZSYmIUV4dC5zdXBwb3J0cy5DU1MzQm9yZGVyUmFkaXVzKXtoPWsuZnJhbWVFbGVtZW50c0FycmF5O2c9aC5sZW5ndGg7ZT0wO2Zvcig7ZTxnO2UrKyl7ZD1oW2VdO2E9a1siZnJhbWUiK2QudG9VcHBlckNhc2UoKV07aj1iKyItIitkO2lmKGEmJmEuZG9tKXthLmFkZENscyhqKX1lbHNle0V4dC5BcnJheS5yZW1vdmUobFtkXSxqKX19fWsuZnJhbWVFbGVtZW50Q2xzPWw7cmV0dXJuIG59LGFkZFVJVG9FbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGo9dGhpcyxrPWouYmFzZUNscysiLSIrai51aSxsPWouZnJhbWVFbGVtZW50Q2xzLGcsZSxkLGEsYixoO2ouYWRkQ2xzKGspO2lmKGouZnJhbWUmJiFFeHQuc3VwcG9ydHMuQ1NTM0JvcmRlclJhZGl1cyl7Zz1qLmZyYW1lRWxlbWVudHNBcnJheTtlPWcubGVuZ3RoO2Q9MDtmb3IoO2Q8ZTtkKyspe2I9Z1tkXTthPWpbImZyYW1lIitiLnRvVXBwZXJDYXNlKCldO2g9aysiLSIrYjtpZihhKXthLmFkZENscyhoKX1lbHNle2lmKCFFeHQuQXJyYXkuY29udGFpbnMobFtiXSxoKSl7bFtiXS5wdXNoKGgpfX19fX0scmVtb3ZlVUlGcm9tRWxlbWVudDpmdW5jdGlvbigpe3ZhciBqPXRoaXMsaz1qLmJhc2VDbHMrIi0iK2oudWksbD1qLmZyYW1lRWxlbWVudENscyxnLGUsZCxhLGIsaDtqLnJlbW92ZUNscyhrKTtpZihqLmZyYW1lJiYhRXh0LnN1cHBvcnRzLkNTUzNCb3JkZXJSYWRpdXMpe2c9ai5mcmFtZUVsZW1lbnRzQXJyYXk7ZT1nLmxlbmd0aDtkPTA7Zm9yKDtkPGU7ZCsrKXtiPWdbZF07YT1qWyJmcmFtZSIrYi50b1VwcGVyQ2FzZSgpXTtoPWsrIi0iK2I7aWYoYSl7YS5yZW1vdmVDbHMoaCl9ZWxzZXtFeHQuQXJyYXkucmVtb3ZlKGxbYl0saCl9fX19LGdldFRwbDpmdW5jdGlvbihhKXtyZXR1cm4gRXh0LlhUZW1wbGF0ZS5nZXRUcGwodGhpcyxhKX0saW5pdFN0eWxlczpmdW5jdGlvbihqKXt2YXIgZD10aGlzLGI9RXh0LkVsZW1lbnQsZz1kLnBhZGRpbmcsYz1kLm1hcmdpbixoPWQueCxlPWQueSxhLGk7aWYoZyE9PXVuZGVmaW5lZCl7ai5zZXRTdHlsZSgicGFkZGluZyIsYi51bml0aXplQm94KChnPT09dHJ1ZSk/NTpnKSl9aWYoYyE9PXVuZGVmaW5lZCl7ai5zZXRTdHlsZSgibWFyZ2luIixiLnVuaXRpemVCb3goKGM9PT10cnVlKT81OmMpKX1pZihkLmJvcmRlciE9PXVuZGVmaW5lZCl7ZC5zZXRCb3JkZXIoZC5ib3JkZXIsail9aWYoZC5jbHMmJmQuY2xzIT1kLmluaXRpYWxDbHMpe2ouYWRkQ2xzKGQuY2xzKTtkZWxldGUgZC5jbHM7ZGVsZXRlIGQuaW5pdGlhbENsc31pZihkLnN0eWxlJiZkLnN0eWxlIT1kLmluaXRpYWxTdHlsZSl7ai5zZXRTdHlsZShkLnN0eWxlKTtkZWxldGUgZC5zdHlsZTtkZWxldGUgZC5pbml0aWFsU3R5bGV9aWYoaCE9PXVuZGVmaW5lZCl7ai5zZXRTdHlsZSgibGVmdCIsaCsicHgiKX1pZihlIT09dW5kZWZpbmVkKXtqLnNldFN0eWxlKCJ0b3AiLGUrInB4Iil9aWYoIWQuZ2V0RnJhbWVJbmZvKCkmJkV4dC5pc0JvcmRlckJveCl7YT1kLndpZHRoO2k9ZC5oZWlnaHQ7aWYoYSE9PXVuZGVmaW5lZCl7ai5zZXRTdHlsZSgid2lkdGgiLCh0eXBlb2YgYT09PSJudW1iZXIiKT9hKyJweCI6YSl9aWYoaSE9PXVuZGVmaW5lZCl7ai5zZXRTdHlsZSgiaGVpZ2h0IiwodHlwZW9mIGk9PT0ibnVtYmVyIik/aSsicHgiOmkpfX19LGluaXRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGU9Yy5hZnRlclJlbmRlckV2ZW50cyxiLGQsYT1mdW5jdGlvbihnKXtjLm1vbihiLGcpfTtpZihlKXtmb3IoZCBpbiBlKXtpZihlLmhhc093blByb3BlcnR5KGQpKXtiPWNbZF07aWYoYiYmYi5vbil7RXh0LmVhY2goZVtkXSxhKX19fX1jLmFkZEZvY3VzTGlzdGVuZXIoKX0sYWRkRm9jdXNMaXN0ZW5lcjpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj1jLmdldEZvY3VzRWwoKSxhO2lmKGIpe2lmKGIuaXNDb21wb25lbnQpe3JldHVybiBiLmFkZEZvY3VzTGlzdGVuZXIoKX1hPWIubmVlZHNUYWJJbmRleCgpO2lmKCFjLmZvY3VzTGlzdGVuZXJBZGRlZCYmKCFhfHxFeHQuRm9jdXNNYW5hZ2VyLmVuYWJsZWQpKXtpZihhKXtiLmRvbS50YWJJbmRleD0tMX1iLm9uKHtmb2N1czpjLm9uRm9jdXMsYmx1cjpjLm9uQmx1cixzY29wZTpjfSk7Yy5mb2N1c0xpc3RlbmVyQWRkZWQ9dHJ1ZX19fSxnZXRGb2N1c0VsOkV4dC5lbXB0eUZuLGlzRm9jdXNhYmxlOmZ1bmN0aW9uKGQpe3ZhciBiPXRoaXMsYTtpZigoYi5mb2N1c2FibGUhPT1mYWxzZSkmJihhPWIuZ2V0Rm9jdXNFbCgpKSYmYi5yZW5kZXJlZCYmIWIuZGVzdHJveWluZyYmIWIuaXNEZXN0cm95ZWQmJiFiLmRpc2FibGVkJiZiLmlzVmlzaWJsZSh0cnVlKSl7aWYoYS5pc0NvbXBvbmVudCl7cmV0dXJuIGEuaXNGb2N1c2FibGUoKX1yZXR1cm4gYSYmYS5kb20mJmEuaXNWaXNpYmxlKCl9fSxwcmVGb2N1czpFeHQuZW1wdHlGbixvbkZvY3VzOmZ1bmN0aW9uKGQpe3ZhciBjPXRoaXMsYj1jLmZvY3VzQ2xzLGE9Yy5nZXRGb2N1c0VsKCk7aWYoIWMuZGlzYWJsZWQpe2MucHJlRm9jdXMoZCk7aWYoYiYmYSl7YS5hZGRDbHMoYy5hZGRDbHNXaXRoVUkoYix0cnVlKSl9aWYoIWMuaGFzRm9jdXMpe2MuaGFzRm9jdXM9dHJ1ZTtjLmZpcmVFdmVudCgiZm9jdXMiLGMsZCl9fX0sYmVmb3JlQmx1cjpFeHQuZW1wdHlGbixvbkJsdXI6ZnVuY3Rpb24oZCl7dmFyIGM9dGhpcyxiPWMuZm9jdXNDbHMsYT1jLmdldEZvY3VzRWwoKTtpZihjLmRlc3Ryb3lpbmcpe3JldHVybn1jLmJlZm9yZUJsdXIoZCk7aWYoYiYmYSl7YS5yZW1vdmVDbHMoYy5yZW1vdmVDbHNXaXRoVUkoYix0cnVlKSl9aWYoYy52YWxpZGF0ZU9uQmx1cil7Yy52YWxpZGF0ZSgpfWMuaGFzRm9jdXM9ZmFsc2U7Yy5maXJlRXZlbnQoImJsdXIiLGMsZCk7Yy5wb3N0Qmx1cihkKX0scG9zdEJsdXI6RXh0LmVtcHR5Rm4saXM6ZnVuY3Rpb24oYSl7cmV0dXJuIEV4dC5Db21wb25lbnRRdWVyeS5pcyh0aGlzLGEpfSx1cDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLmdldEJ1YmJsZVRhcmdldCgpO2lmKGIpe2Zvcig7YTthPWEuZ2V0QnViYmxlVGFyZ2V0KCkpe2lmKEV4dC5Db21wb25lbnRRdWVyeS5pcyhhLGIpKXtyZXR1cm4gYX19fXJldHVybiBhfSxuZXh0U2libGluZzpmdW5jdGlvbihiKXt2YXIgZz10aGlzLm93bmVyQ3QsZCxlLGEsaDtpZihnKXtkPWcuaXRlbXM7YT1kLmluZGV4T2YodGhpcykrMTtpZihhKXtpZihiKXtmb3IoZT1kLmdldENvdW50KCk7YTxlO2ErKyl7aWYoKGg9ZC5nZXRBdChhKSkuaXMoYikpe3JldHVybiBofX19ZWxzZXtpZihhPGQuZ2V0Q291bnQoKSl7cmV0dXJuIGQuZ2V0QXQoYSl9fX19cmV0dXJuIG51bGx9LHByZXZpb3VzU2libGluZzpmdW5jdGlvbihiKXt2YXIgZT10aGlzLm93bmVyQ3QsZCxhLGc7aWYoZSl7ZD1lLml0ZW1zO2E9ZC5pbmRleE9mKHRoaXMpO2lmKGEhPS0xKXtpZihiKXtmb3IoLS1hO2E+PTA7YS0tKXtpZigoZz1kLmdldEF0KGEpKS5pcyhiKSl7cmV0dXJuIGd9fX1lbHNle2lmKGEpe3JldHVybiBkLmdldEF0KC0tYSl9fX19cmV0dXJuIG51bGx9LHByZXZpb3VzTm9kZTpmdW5jdGlvbihiLGQpe3ZhciBoPXRoaXMsYSxnLGUsYztpZihkJiZoLmlzKGIpKXtyZXR1cm4gaH1pZihoLm93bmVyQ3Qpe2ZvcihnPWgub3duZXJDdC5pdGVtcy5pdGVtcyxlPUV4dC5BcnJheS5pbmRleE9mKGcsaCktMTtlPi0xO2UtLSl7Yz1nW2VdO2lmKGMucXVlcnkpe2E9Yy5xdWVyeShiKTthPWFbYS5sZW5ndGgtMV07aWYoYSl7cmV0dXJuIGF9aWYoYy5pcyhiKSl7cmV0dXJuIGN9fX1yZXR1cm4gaC5vd25lckN0LnByZXZpb3VzTm9kZShiLHRydWUpfX0sbmV4dE5vZGU6ZnVuY3Rpb24oYyxlKXt2YXIgaj10aGlzLGIsaCxhLGcsZDtpZihlJiZqLmlzKGMpKXtyZXR1cm4gan1pZihqLm93bmVyQ3Qpe2ZvcihoPWoub3duZXJDdC5pdGVtcyxnPWguaW5kZXhPZihqKSsxLGg9aC5pdGVtcyxhPWgubGVuZ3RoO2c8YTtnKyspe2Q9aFtnXTtpZihkLmlzKGMpKXtyZXR1cm4gZH1pZihkLmRvd24pe2I9ZC5kb3duKGMpO2lmKGIpe3JldHVybiBifX19cmV0dXJuIGoub3duZXJDdC5uZXh0Tm9kZShjKX19LGdldElkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaWR8fCh0aGlzLmlkPSJleHQtY29tcC0iKyh0aGlzLmdldEF1dG9JZCgpKSl9LGdldEl0ZW1JZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZW1JZHx8dGhpcy5pZH0sZ2V0RWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbH0sZ2V0VGFyZ2V0RWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mcmFtZUJvZHl8fHRoaXMuZWx9LGdldE92ZXJmbG93U3R5bGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9bnVsbDtpZih0eXBlb2YgYi5hdXRvU2Nyb2xsPT0iYm9vbGVhbiIpe2E9e292ZXJmbG93OmIuYXV0b1Njcm9sbD8iYXV0byI6IiJ9fWVsc2V7aWYoYi5vdmVyZmxvd1ghPT11bmRlZmluZWR8fGIub3ZlcmZsb3dZIT09dW5kZWZpbmVkKXthPXsib3ZlcmZsb3cteCI6KGIub3ZlcmZsb3dYfHwiIiksIm92ZXJmbG93LXkiOihiLm92ZXJmbG93WXx8IiIpfX19aWYoYSYmKEV4dC5pc0lFNnx8RXh0LmlzSUU3KSl7YS5wb3NpdGlvbj0icmVsYXRpdmUifXJldHVybiBhfSxpc1hUeXBlOmZ1bmN0aW9uKGIsYSl7aWYoYSl7cmV0dXJuIHRoaXMueHR5cGU9PT1ifWVsc2V7cmV0dXJuIHRoaXMueHR5cGVzTWFwW2JdfX0sZ2V0WFR5cGVzOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5zZWxmLGQsYixhO2lmKCFjLnh0eXBlcyl7ZD1bXTtiPXRoaXM7d2hpbGUoYil7YT1iLnh0eXBlcztpZihhIT09dW5kZWZpbmVkKXtkLnVuc2hpZnQuYXBwbHkoZCxhKX1iPWIuc3VwZXJjbGFzc31jLnh0eXBlQ2hhaW49ZDtjLnh0eXBlcz1kLmpvaW4oIi8iKX1yZXR1cm4gYy54dHlwZXN9LHVwZGF0ZTpmdW5jdGlvbihiLGMsYSl7dmFyIGQ9dGhpcztpZihkLnRwbCYmIUV4dC5pc1N0cmluZyhiKSl7ZC5kYXRhPWI7aWYoZC5yZW5kZXJlZCl7ZC50cGxbZC50cGxXcml0ZU1vZGVdKGQuZ2V0VGFyZ2V0RWwoKSxifHx7fSl9fWVsc2V7ZC5odG1sPUV4dC5pc09iamVjdChiKT9FeHQuRG9tSGVscGVyLm1hcmt1cChiKTpiO2lmKGQucmVuZGVyZWQpe2QuZ2V0VGFyZ2V0RWwoKS51cGRhdGUoZC5odG1sLGMsYSl9fWlmKGQucmVuZGVyZWQpe2QudXBkYXRlTGF5b3V0KCl9fSxzZXRWaXNpYmxlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW2E/InNob3ciOiJoaWRlIl0oKX0saXNWaXNpYmxlOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsZT1jLGQ9Yy5yZW5kZXJlZCYmIWMuaGlkZGVuLGI9Yy5vd25lckN0O2MuaGlkZGVuQW5jZXN0b3I9ZmFsc2U7aWYoYy5kZXN0cm95ZWQpe3JldHVybiBmYWxzZX1pZihhJiZkJiZiKXt3aGlsZShiKXtpZihiLmhpZGRlbnx8KGIuY29sbGFwc2VkJiYhKGIuZ2V0RG9ja2VkSXRlbXMmJkV4dC5BcnJheS5jb250YWlucyhiLmdldERvY2tlZEl0ZW1zKCksZSkpKSl7Yy5oaWRkZW5BbmNlc3Rvcj1iO2Q9ZmFsc2U7YnJlYWt9ZT1iO2I9Yi5vd25lckN0fX1yZXR1cm4gZH0sb25Cb3hSZWFkeTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5kaXNhYmxlT25Cb3hSZWFkeSl7YS5vbkRpc2FibGUoKX1lbHNle2lmKGEuZW5hYmxlT25Cb3hSZWFkeSl7YS5vbkVuYWJsZSgpfX1pZihhLnJlc2l6YWJsZSl7YS5pbml0UmVzaXphYmxlKGEucmVzaXphYmxlKX1pZihhLmRyYWdnYWJsZSl7YS5pbml0RHJhZ2dhYmxlKCl9fSxlbmFibGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztkZWxldGUgYi5kaXNhYmxlT25Cb3hSZWFkeTtiLnJlbW92ZUNscyhiLmRpc2FibGVkQ2xzKTtpZihiLnJlbmRlcmVkKXtiLm9uRW5hYmxlKCl9ZWxzZXtiLmVuYWJsZU9uQm94UmVhZHk9dHJ1ZX1iLmRpc2FibGVkPWZhbHNlO2RlbGV0ZSBiLnJlc2V0RGlzYWJsZTtpZihhIT09dHJ1ZSl7Yi5maXJlRXZlbnQoImVuYWJsZSIsYil9cmV0dXJuIGJ9LGRpc2FibGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztkZWxldGUgYi5lbmFibGVPbkJveFJlYWR5O2IuYWRkQ2xzKGIuZGlzYWJsZWRDbHMpO2lmKGIucmVuZGVyZWQpe2Iub25EaXNhYmxlKCl9ZWxzZXtiLmRpc2FibGVPbkJveFJlYWR5PXRydWV9Yi5kaXNhYmxlZD10cnVlO2lmKGEhPT10cnVlKXtkZWxldGUgYi5yZXNldERpc2FibGU7Yi5maXJlRXZlbnQoImRpc2FibGUiLGIpfXJldHVybiBifSxvbkVuYWJsZTpmdW5jdGlvbigpe2lmKHRoaXMubWFza09uRGlzYWJsZSl7dGhpcy5lbC5kb20uZGlzYWJsZWQ9ZmFsc2U7dGhpcy51bm1hc2soKX19LG9uRGlzYWJsZTpmdW5jdGlvbigpe2lmKHRoaXMubWFza09uRGlzYWJsZSl7dGhpcy5lbC5kb20uZGlzYWJsZWQ9dHJ1ZTt0aGlzLm1hc2soKX19LG1hc2s6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmxhc3RCb3gsYz10aGlzLmdldE1hc2tUYXJnZXQoKSxhPVtdO2lmKGIpe2FbMl09Yi5oZWlnaHR9Yy5tYXNrLmFwcGx5KGMsYSl9LHVubWFzazpmdW5jdGlvbigpe3RoaXMuZ2V0TWFza1RhcmdldCgpLnVubWFzaygpfSxnZXRNYXNrVGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWx9LGlzRGlzYWJsZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kaXNhYmxlZH0sc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbYT8iZGlzYWJsZSI6ImVuYWJsZSJdKCl9LGlzSGlkZGVuOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGlkZGVufSxhZGRDbHM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcyxiPWMucmVuZGVyZWQ/Yy5lbDpjLnByb3RvRWw7Yi5hZGRDbHMuYXBwbHkoYixhcmd1bWVudHMpO3JldHVybiBjfSxhZGRDbGFzczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZENscy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGhhc0NsczpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGI9Yy5yZW5kZXJlZD9jLmVsOmMucHJvdG9FbDtyZXR1cm4gYi5oYXNDbHMuYXBwbHkoYixhcmd1bWVudHMpfSxyZW1vdmVDbHM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcyxiPWMucmVuZGVyZWQ/Yy5lbDpjLnByb3RvRWw7Yi5yZW1vdmVDbHMuYXBwbHkoYixhcmd1bWVudHMpO3JldHVybiBjfSxhZGRPdmVyQ2xzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZighYS5kaXNhYmxlZCl7YS5lbC5hZGRDbHMoYS5vdmVyQ2xzKX19LHJlbW92ZU92ZXJDbHM6ZnVuY3Rpb24oKXt0aGlzLmVsLnJlbW92ZUNscyh0aGlzLm92ZXJDbHMpfSxhZGRMaXN0ZW5lcjpmdW5jdGlvbihiLGcsZSxhKXt2YXIgaD10aGlzLGQsYztpZihFeHQuaXNTdHJpbmcoYikmJihFeHQuaXNPYmplY3QoZyl8fGEmJmEuZWxlbWVudCkpe2lmKGEuZWxlbWVudCl7ZD1nO2c9e307Z1tiXT1kO2I9YS5lbGVtZW50O2lmKGUpe2cuc2NvcGU9ZX1mb3IoYyBpbiBhKXtpZihhLmhhc093blByb3BlcnR5KGMpKXtpZihoLmV2ZW50T3B0aW9uc1JlLnRlc3QoYykpe2dbY109YVtjXX19fX1pZihoW2JdJiZoW2JdLm9uKXtoLm1vbihoW2JdLGcpfWVsc2V7aC5hZnRlclJlbmRlckV2ZW50cz1oLmFmdGVyUmVuZGVyRXZlbnRzfHx7fTtpZighaC5hZnRlclJlbmRlckV2ZW50c1tiXSl7aC5hZnRlclJlbmRlckV2ZW50c1tiXT1bXX1oLmFmdGVyUmVuZGVyRXZlbnRzW2JdLnB1c2goZyl9fXJldHVybiBoLm1peGlucy5vYnNlcnZhYmxlLmFkZExpc3RlbmVyLmFwcGx5KGgsYXJndW1lbnRzKX0scmVtb3ZlTWFuYWdlZExpc3RlbmVySXRlbTpmdW5jdGlvbihiLGEsaSxkLGcsZSl7dmFyIGg9dGhpcyxjPWEub3B0aW9ucz9hLm9wdGlvbnMuZWxlbWVudDpudWxsO2lmKGMpe2M9aFtjXTtpZihjJiZjLnVuKXtpZihifHwoYS5pdGVtPT09aSYmYS5lbmFtZT09PWQmJighZ3x8YS5mbj09PWcpJiYoIWV8fGEuc2NvcGU9PT1lKSkpe2MudW4oYS5lbmFtZSxhLmZuLGEuc2NvcGUpO2lmKCFiKXtFeHQuQXJyYXkucmVtb3ZlKGgubWFuYWdlZExpc3RlbmVycyxhKX19fX1lbHNle3JldHVybiBoLm1peGlucy5vYnNlcnZhYmxlLnJlbW92ZU1hbmFnZWRMaXN0ZW5lckl0ZW0uYXBwbHkoaCxhcmd1bWVudHMpfX0sZ2V0QnViYmxlVGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3duZXJDdH0saXNGbG9hdGluZzpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZsb2F0aW5nfSxpc0RyYWdnYWJsZTpmdW5jdGlvbigpe3JldHVybiAhIXRoaXMuZHJhZ2dhYmxlfSxpc0Ryb3BwYWJsZTpmdW5jdGlvbigpe3JldHVybiAhIXRoaXMuZHJvcHBhYmxlfSxvbkFkZGVkOmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcztiLm93bmVyQ3Q9YTtpZihiLmhhc0xpc3RlbmVycy5hZGRlZCl7Yi5maXJlRXZlbnQoImFkZGVkIixiLGEsYyl9fSxvblJlbW92ZWQ6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZihhLmhhc0xpc3RlbmVycy5yZW1vdmVkKXthLmZpcmVFdmVudCgicmVtb3ZlZCIsYSxhLm93bmVyQ3QpfWRlbGV0ZSBhLm93bmVyQ3Q7ZGVsZXRlIGEub3duZXJMYXlvdXR9LGJlZm9yZURlc3Ryb3k6RXh0LmVtcHR5Rm4sb25SZXNpemU6RXh0LmVtcHR5Rm4sc2V0U2l6ZTpmdW5jdGlvbihiLGEpe3ZhciBjPXRoaXM7aWYoYiYmdHlwZW9mIGI9PSJvYmplY3QiKXthPWIuaGVpZ2h0O2I9Yi53aWR0aH1pZih0eXBlb2YgYj09Im51bWJlciIpe2Mud2lkdGg9RXh0Lk51bWJlci5jb25zdHJhaW4oYixjLm1pbldpZHRoLGMubWF4V2lkdGgpfWVsc2V7aWYoYj09PW51bGwpe2RlbGV0ZSBjLndpZHRofX1pZih0eXBlb2YgYT09Im51bWJlciIpe2MuaGVpZ2h0PUV4dC5OdW1iZXIuY29uc3RyYWluKGEsYy5taW5IZWlnaHQsYy5tYXhIZWlnaHQpfWVsc2V7aWYoYT09PW51bGwpe2RlbGV0ZSBjLmhlaWdodH19aWYoYy5yZW5kZXJlZCYmYy5pc1Zpc2libGUoKSl7Yy51cGRhdGVMYXlvdXQoe2lzUm9vdDpmYWxzZX0pfXJldHVybiBjfSxpc0xheW91dFJvb3Q6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5vd25lckxheW91dDtpZighYnx8YS5faXNMYXlvdXRSb290fHxhLmZsb2F0aW5nKXtyZXR1cm4gdHJ1ZX1yZXR1cm4gYi5pc0l0ZW1MYXlvdXRSb290KGEpfSxpc0xheW91dFN1c3BlbmRlZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYjt3aGlsZShhKXtpZihhLmxheW91dFN1c3BlbmRDb3VudHx8YS5zdXNwZW5kTGF5b3V0KXtyZXR1cm4gdHJ1ZX1iPWEub3duZXJMYXlvdXQ7aWYoIWIpe2JyZWFrfWE9Yi5vd25lcn1yZXR1cm4gZmFsc2V9LHVwZGF0ZUxheW91dDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGQsYT1iJiZiLmlzUm9vdDtpZighYy5yZW5kZXJlZHx8Yy5sYXlvdXRTdXNwZW5kQ291bnR8fGMuc3VzcGVuZExheW91dCl7cmV0dXJufWlmKGMuaGlkZGVuKXtFeHQuQWJzdHJhY3RDb21wb25lbnQuY2FuY2VsTGF5b3V0KGMpfWVsc2V7aWYodHlwZW9mIGEhPSJib29sZWFuIil7YT1jLmlzTGF5b3V0Um9vdCgpfX1pZihhfHwhYy5vd25lckxheW91dHx8IWMub3duZXJMYXlvdXQub25Db250ZW50Q2hhbmdlKGMpKXtpZighYy5pc0xheW91dFN1c3BlbmRlZCgpKXtkPShiJiZiLmhhc093blByb3BlcnR5KCJkZWZlciIpKT9iLmRlZmVyOmMuZGVmZXJMYXlvdXRzO0V4dC5BYnN0cmFjdENvbXBvbmVudC51cGRhdGVMYXlvdXQoYyxkKX19fSxnZXRTaXplTW9kZWw6ZnVuY3Rpb24oZSl7dmFyIGk9dGhpcyxhPUV4dC5sYXlvdXQuU2l6ZU1vZGVsLGs9aS5jb21wb25lbnRMYXlvdXQub3duZXJDb250ZXh0LGIsbCxjLGosZyxoLGQ7aWYoayl7ZD1rLndpZHRoTW9kZWw7Yz1rLmhlaWdodE1vZGVsfWlmKCFkfHwhYyl7Yj0odHlwZW9mIGkud2lkdGg9PSJudW1iZXIiKTtsPSh0eXBlb2YgaS5oZWlnaHQ9PSJudW1iZXIiKTtpZihpLmZsb2F0aW5nfHwhKGo9aS5vd25lckxheW91dCkpe2lmKGIpe2Q9YS5jb25maWd1cmVkfWlmKGwpe2M9YS5jb25maWd1cmVkfWc9RXh0LmxheW91dC5MYXlvdXQucHJvdG90eXBlLmF1dG9TaXplUG9saWN5O2g9aS5mbG9hdGluZz8zOmkuc2hyaW5rV3JhcH1lbHNle2c9ai5nZXRJdGVtU2l6ZVBvbGljeShpLGUpO2g9ai5pc0l0ZW1TaHJpbmtXcmFwKGkpfWg9KGg9PT10cnVlKT8zOihofHwwKTtpZihoIT09Myl7aWYoIWUpe2U9aS5vd25lckN0JiZpLm93bmVyQ3QuZ2V0U2l6ZU1vZGVsKCl9aWYoZSl7aHw9KGUud2lkdGguc2hyaW5rV3JhcD8xOjApfChlLmhlaWdodC5zaHJpbmtXcmFwPzI6MCl9fWlmKCFkKXtpZighZy5zZXRzV2lkdGgpe2lmKGIpe2Q9YS5jb25maWd1cmVkfWVsc2V7ZD0oaCYxKT9hLnNocmlua1dyYXA6YS5uYXR1cmFsfX1lbHNle2lmKGcucmVhZHNXaWR0aCl7aWYoYil7ZD1hLmNhbGN1bGF0ZWRGcm9tQ29uZmlndXJlZH1lbHNle2Q9KGgmMSk/YS5jYWxjdWxhdGVkRnJvbVNocmlua1dyYXA6YS5jYWxjdWxhdGVkRnJvbU5hdHVyYWx9fWVsc2V7ZD1hLmNhbGN1bGF0ZWR9fX1pZighYyl7aWYoIWcuc2V0c0hlaWdodCl7aWYobCl7Yz1hLmNvbmZpZ3VyZWR9ZWxzZXtjPShoJjIpP2Euc2hyaW5rV3JhcDphLm5hdHVyYWx9fWVsc2V7aWYoZy5yZWFkc0hlaWdodCl7aWYobCl7Yz1hLmNhbGN1bGF0ZWRGcm9tQ29uZmlndXJlZH1lbHNle2M9KGgmMik/YS5jYWxjdWxhdGVkRnJvbVNocmlua1dyYXA6YS5jYWxjdWxhdGVkRnJvbU5hdHVyYWx9fWVsc2V7Yz1hLmNhbGN1bGF0ZWR9fX19cmV0dXJue3dpZHRoOmQsaGVpZ2h0OmN9fSxpc0Rlc2NlbmRhbnQ6ZnVuY3Rpb24oYSl7aWYoYS5pc0NvbnRhaW5lcil7Zm9yKHZhciBiPXRoaXMub3duZXJDdDtiO2I9Yi5vd25lckN0KXtpZihiPT09YSl7cmV0dXJuIHRydWV9fX1yZXR1cm4gZmFsc2V9LGRvQ29tcG9uZW50TGF5b3V0OmZ1bmN0aW9uKCl7dGhpcy51cGRhdGVMYXlvdXQoKTtyZXR1cm4gdGhpc30sZm9yY2VDb21wb25lbnRMYXlvdXQ6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZUxheW91dCgpfSxzZXRDb21wb25lbnRMYXlvdXQ6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5jb21wb25lbnRMYXlvdXQ7aWYoYSYmYS5pc0xheW91dCYmYSE9Yil7YS5zZXRPd25lcihudWxsKX10aGlzLmNvbXBvbmVudExheW91dD1iO2Iuc2V0T3duZXIodGhpcyl9LGdldENvbXBvbmVudExheW91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoIWEuY29tcG9uZW50TGF5b3V0fHwhYS5jb21wb25lbnRMYXlvdXQuaXNMYXlvdXQpe2Euc2V0Q29tcG9uZW50TGF5b3V0KEV4dC5sYXlvdXQuTGF5b3V0LmNyZWF0ZShhLmNvbXBvbmVudExheW91dCwiYXV0b2NvbXBvbmVudCIpKX1yZXR1cm4gYS5jb21wb25lbnRMYXlvdXR9LGFmdGVyQ29tcG9uZW50TGF5b3V0OmZ1bmN0aW9uKGMsYSxiLGUpe3ZhciBkPXRoaXM7aWYoKytkLmNvbXBvbmVudExheW91dENvdW50ZXI9PT0xKXtkLmFmdGVyRmlyc3RMYXlvdXQoYyxhKX1pZihkLmhhc0xpc3RlbmVycy5yZXNpemUmJihjIT09Ynx8YSE9PWUpKXtkLmZpcmVFdmVudCgicmVzaXplIixkLGMsYSxiLGUpfX0sYmVmb3JlQ29tcG9uZW50TGF5b3V0OmZ1bmN0aW9uKGIsYSl7cmV0dXJuIHRydWV9LHNldFBvc2l0aW9uOmZ1bmN0aW9uKGEsZSxiKXt2YXIgYz10aGlzLGQ9Yy5iZWZvcmVTZXRQb3NpdGlvbi5hcHBseShjLGFyZ3VtZW50cyk7aWYoZCYmYy5yZW5kZXJlZCl7ZD1jLmNvbnZlcnRQb3NpdGlvbihkKTtpZihiKXtjLnN0b3BBbmltYXRpb24oKTtjLmFuaW1hdGUoRXh0LmFwcGx5KHtkdXJhdGlvbjoxMDAwLGxpc3RlbmVyczp7YWZ0ZXJhbmltYXRlOkV4dC5GdW5jdGlvbi5iaW5kKGMuYWZ0ZXJTZXRQb3NpdGlvbixjLFtkLmxlZnQsZC50b3BdKX0sdG86ZH0sYikpfWVsc2V7aWYoZC5sZWZ0IT09dW5kZWZpbmVkJiZkLnRvcCE9PXVuZGVmaW5lZCl7Yy5lbC5zZXRMZWZ0VG9wKGQubGVmdCxkLnRvcCl9ZWxzZXtpZihkLmxlZnQhPT11bmRlZmluZWQpe2MuZWwuc2V0TGVmdChkLmxlZnQpfWVsc2V7aWYoZC50b3AhPT11bmRlZmluZWQpe2MuZWwuc2V0VG9wKGQudG9wKX19fWMuYWZ0ZXJTZXRQb3NpdGlvbihkLmxlZnQsZC50b3ApfX1yZXR1cm4gY30sYmVmb3JlU2V0UG9zaXRpb246ZnVuY3Rpb24oYSxlLGIpe3ZhciBkLGM7aWYoIWF8fEV4dC5pc051bWJlcihhKSl7ZD17eDphLHk6ZSxhbmltOmJ9fWVsc2V7aWYoRXh0LmlzTnVtYmVyKGM9YVswXSkpe2Q9e3g6Yyx5OmFbMV0sYW5pbTplfX1lbHNle2Q9e3g6YS54LHk6YS55LGFuaW06ZX19fWQuaGFzWD1FeHQuaXNOdW1iZXIoZC54KTtkLmhhc1k9RXh0LmlzTnVtYmVyKGQueSk7dGhpcy54PWQueDt0aGlzLnk9ZC55O3JldHVybihkLmhhc1h8fGQuaGFzWSk/ZDpudWxsfSxhZnRlclNldFBvc2l0aW9uOmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcztiLm9uUG9zaXRpb24oYSxjKTtpZihiLmhhc0xpc3RlbmVycy5tb3ZlKXtiLmZpcmVFdmVudCgibW92ZSIsYixhLGMpfX0sY29udmVydFBvc2l0aW9uOmZ1bmN0aW9uKGQsYil7dmFyIGE9e30sYz1FeHQuRWxlbWVudDtpZihkLmhhc1gpe2EubGVmdD1iP2MuYWRkVW5pdHMoZC54KTpkLnh9aWYoZC5oYXNZKXthLnRvcD1iP2MuYWRkVW5pdHMoZC55KTpkLnl9cmV0dXJuIGF9LG9uUG9zaXRpb246RXh0LmVtcHR5Rm4sc2V0V2lkdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc2V0U2l6ZShhKX0sc2V0SGVpZ2h0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnNldFNpemUodW5kZWZpbmVkLGEpfSxnZXRTaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWwuZ2V0U2l6ZSgpfSxnZXRXaWR0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsLmdldFdpZHRoKCl9LGdldEhlaWdodDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsLmdldEhlaWdodCgpfSxnZXRMb2FkZXI6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9Yy5hdXRvTG9hZD8oRXh0LmlzT2JqZWN0KGMuYXV0b0xvYWQpP2MuYXV0b0xvYWQ6e3VybDpjLmF1dG9Mb2FkfSk6bnVsbCxhPWMubG9hZGVyfHxiO2lmKGEpe2lmKCFhLmlzTG9hZGVyKXtjLmxvYWRlcj1uZXcgRXh0LkNvbXBvbmVudExvYWRlcihFeHQuYXBwbHkoe3RhcmdldDpjLGF1dG9Mb2FkOmJ9LGEpKX1lbHNle2Euc2V0VGFyZ2V0KGMpfXJldHVybiBjLmxvYWRlcn1yZXR1cm4gbnVsbH0sc2V0RG9ja2VkOmZ1bmN0aW9uKGIsYyl7dmFyIGE9dGhpczthLmRvY2s9YjtpZihjJiZhLm93bmVyQ3QmJmEucmVuZGVyZWQpe2Eub3duZXJDdC51cGRhdGVMYXlvdXQoKX1yZXR1cm4gYX0sc2V0Qm9yZGVyOmZ1bmN0aW9uKGIsZCl7dmFyIGM9dGhpcyxhPSEhZDtpZihjLnJlbmRlcmVkfHxhKXtpZighYSl7ZD1jLmVsfWlmKCFiKXtiPTB9ZWxzZXtiPUV4dC5FbGVtZW50LnVuaXRpemVCb3goKGI9PT10cnVlKT8xOmIpfWQuc2V0U3R5bGUoImJvcmRlci13aWR0aCIsYik7aWYoIWEpe2MudXBkYXRlTGF5b3V0KCl9fWMuYm9yZGVyPWJ9LG9uRGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5tb25pdG9yUmVzaXplJiZFeHQuRXZlbnRNYW5hZ2VyLnJlc2l6ZUV2ZW50KXtFeHQuRXZlbnRNYW5hZ2VyLnJlc2l6ZUV2ZW50LnJlbW92ZUxpc3RlbmVyKGEuc2V0U2l6ZSxhKX1FeHQuZGVzdHJveShhLmNvbXBvbmVudExheW91dCxhLmxvYWRNYXNrLGEuZmxvYXRpbmdJdGVtcyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGI9ZC5yZW5kZXJTZWxlY3RvcnMsYSxjO2lmKCFkLmlzRGVzdHJveWVkKXtpZighZC5oYXNMaXN0ZW5lcnMuYmVmb3JlZGVzdHJveXx8ZC5maXJlRXZlbnQoImJlZm9yZWRlc3Ryb3kiLGQpIT09ZmFsc2Upe2QuZGVzdHJveWluZz10cnVlO2QuYmVmb3JlRGVzdHJveSgpO2lmKGQuZmxvYXRpbmcpe2RlbGV0ZSBkLmZsb2F0UGFyZW50O2lmKGQuekluZGV4TWFuYWdlcil7ZC56SW5kZXhNYW5hZ2VyLnVucmVnaXN0ZXIoZCl9fWVsc2V7aWYoZC5vd25lckN0JiZkLm93bmVyQ3QucmVtb3ZlKXtkLm93bmVyQ3QucmVtb3ZlKGQsZmFsc2UpfX1kLm9uRGVzdHJveSgpO0V4dC5kZXN0cm95KGQucGx1Z2lucyk7aWYoZC5oYXNMaXN0ZW5lcnMuZGVzdHJveSl7ZC5maXJlRXZlbnQoImRlc3Ryb3kiLGQpfUV4dC5Db21wb25lbnRNYW5hZ2VyLnVucmVnaXN0ZXIoZCk7ZC5taXhpbnMuc3RhdGUuZGVzdHJveS5jYWxsKGQpO2QuY2xlYXJMaXN0ZW5lcnMoKTtpZihkLnJlbmRlcmVkKXtFeHQuQWJzdHJhY3RDb21wb25lbnQuY2FuY2VsTGF5b3V0KGQpO2lmKCFkLnByZXNlcnZlRWxPbkRlc3Ryb3kpe2QuZWwucmVtb3ZlKCl9ZC5taXhpbnMuZWxlbWVudEN0LmRlc3Ryb3kuY2FsbChkKTtpZihiKXtmb3IoYSBpbiBiKXtpZihiLmhhc093blByb3BlcnR5KGEpKXtjPWRbYV07aWYoYyl7ZGVsZXRlIGRbYV07Yy5yZW1vdmUoKX19fX1kZWxldGUgZC5lbDtkZWxldGUgZC5mcmFtZUJvZHk7ZGVsZXRlIGQucmVuZGVyZWR9ZC5kZXN0cm95aW5nPWZhbHNlO2QuaXNEZXN0cm95ZWQ9dHJ1ZX19fSxnZXRQbHVnaW46ZnVuY3Rpb24oYil7dmFyIGM9MCxhPXRoaXMucGx1Z2lucyxkPWEubGVuZ3RoO2Zvcig7YzxkO2MrKyl7aWYoYVtjXS5wbHVnaW5JZD09PWIpe3JldHVybiBhW2NdfX19LGlzRGVzY2VuZGFudE9mOmZ1bmN0aW9uKGEpe3JldHVybiAhIXRoaXMuZmluZFBhcmVudEJ5KGZ1bmN0aW9uKGIpe3JldHVybiBiPT09YX0pfX0sZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY3JlYXRlQWxpYXMoe29uOiJhZGRMaXN0ZW5lciIscHJldjoicHJldmlvdXNTaWJsaW5nIixuZXh0OiJuZXh0U2libGluZyJ9KTtFeHQucmVzdW1lTGF5b3V0cz1mdW5jdGlvbihiKXthLnJlc3VtZUxheW91dHMoYil9O0V4dC5zdXNwZW5kTGF5b3V0cz1mdW5jdGlvbigpe2Euc3VzcGVuZExheW91dHMoKX07RXh0LmJhdGNoTGF5b3V0cz1mdW5jdGlvbihjLGIpe2Euc3VzcGVuZExheW91dHMoKTtjLmNhbGwoYik7YS5yZXN1bWVMYXlvdXRzKHRydWUpfX0pO0V4dC5kZWZpbmUoIkV4dC5Nb2RlbE1hbmFnZXIiLHtleHRlbmQ6IkV4dC5BYnN0cmFjdE1hbmFnZXIiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0Lk1vZGVsTWdyIixyZXF1aXJlczpbIkV4dC5kYXRhLmFzc29jaWF0aW9uLkFzc29jaWF0aW9uIl0sc2luZ2xldG9uOnRydWUsdHlwZU5hbWU6Im10eXBlIixhc3NvY2lhdGlvblN0YWNrOltdLHJlZ2lzdGVyVHlwZTpmdW5jdGlvbihjLGIpe3ZhciBkPWIucHJvdG90eXBlLGE7aWYoZCYmZC5pc01vZGVsKXthPWJ9ZWxzZXtpZighYi5leHRlbmQpe2IuZXh0ZW5kPSJFeHQuZGF0YS5Nb2RlbCJ9YT1FeHQuZGVmaW5lKGMsYil9dGhpcy50eXBlc1tjXT1hO3JldHVybiBhfSxvbk1vZGVsRGVmaW5lZDpmdW5jdGlvbihjKXt2YXIgYT10aGlzLmFzc29jaWF0aW9uU3RhY2ssZz1hLmxlbmd0aCxlPVtdLGIsZCxoO2ZvcihkPTA7ZDxnO2QrKyl7Yj1hW2RdO2lmKGIuYXNzb2NpYXRlZE1vZGVsPT1jLm1vZGVsTmFtZSl7ZS5wdXNoKGIpfX1mb3IoZD0wLGc9ZS5sZW5ndGg7ZDxnO2QrKyl7aD1lW2RdO3RoaXMudHlwZXNbaC5vd25lck1vZGVsXS5wcm90b3R5cGUuYXNzb2NpYXRpb25zLmFkZChFeHQuZGF0YS5hc3NvY2lhdGlvbi5Bc3NvY2lhdGlvbi5jcmVhdGUoaCkpO0V4dC5BcnJheS5yZW1vdmUoYSxoKX19LHJlZ2lzdGVyRGVmZXJyZWRBc3NvY2lhdGlvbjpmdW5jdGlvbihhKXt0aGlzLmFzc29jaWF0aW9uU3RhY2sucHVzaChhKX0sZ2V0TW9kZWw6ZnVuY3Rpb24oYil7dmFyIGE9YjtpZih0eXBlb2YgYT09InN0cmluZyIpe2E9dGhpcy50eXBlc1thXX1yZXR1cm4gYX0sY3JlYXRlOmZ1bmN0aW9uKGIsYSxkKXt2YXIgYz10eXBlb2YgYT09ImZ1bmN0aW9uIj9hOnRoaXMudHlwZXNbYXx8Yi5uYW1lXTtyZXR1cm4gbmV3IGMoYixkKX19LGZ1bmN0aW9uKCl7RXh0LnJlZ01vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuTW9kZWxNYW5hZ2VyLnJlZ2lzdGVyVHlwZS5hcHBseSh0aGlzLk1vZGVsTWFuYWdlcixhcmd1bWVudHMpfX0pO0V4dC5kZWZpbmUoIkV4dC5QbHVnaW5NYW5hZ2VyIix7ZXh0ZW5kOiJFeHQuQWJzdHJhY3RNYW5hZ2VyIixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5QbHVnaW5NZ3IiLHNpbmdsZXRvbjp0cnVlLHR5cGVOYW1lOiJwdHlwZSIsY3JlYXRlOmZ1bmN0aW9uKGEsYil7aWYoYS5pbml0KXtyZXR1cm4gYX1lbHNle3JldHVybiBFeHQuY3JlYXRlQnlBbGlhcygicGx1Z2luLiIrKGEucHR5cGV8fGIpLGEpfX0sZmluZEJ5VHlwZTpmdW5jdGlvbihjLGcpe3ZhciBlPVtdLGI9dGhpcy50eXBlcyxhLGQ7Zm9yKGEgaW4gYil7aWYoIWIuaGFzT3duUHJvcGVydHkoYSkpe2NvbnRpbnVlfWQ9YlthXTtpZihkLnR5cGU9PWMmJighZ3x8KGc9PT10cnVlJiZkLmlzRGVmYXVsdCkpKXtlLnB1c2goZCl9fXJldHVybiBlfX0sZnVuY3Rpb24oKXtFeHQucHJlZz1mdW5jdGlvbigpe3JldHVybiBFeHQuUGx1Z2luTWFuYWdlci5yZWdpc3RlclR5cGUuYXBwbHkoRXh0LlBsdWdpbk1hbmFnZXIsYXJndW1lbnRzKX19KTtFeHQuZGVmaW5lKCJFeHQuZnguUXVldWUiLHtyZXF1aXJlczpbIkV4dC51dGlsLkhhc2hNYXAiXSxjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3RoaXMudGFyZ2V0cz1uZXcgRXh0LnV0aWwuSGFzaE1hcCgpO3RoaXMuZnhRdWV1ZT17fX0sZ2V0RnhEZWZhdWx0czpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRhcmdldHMuZ2V0KGEpO2lmKGIpe3JldHVybiBiLmZ4RGVmYXVsdHN9cmV0dXJue319LHNldEZ4RGVmYXVsdHM6ZnVuY3Rpb24oYSxjKXt2YXIgYj10aGlzLnRhcmdldHMuZ2V0KGEpO2lmKGIpe2IuZnhEZWZhdWx0cz1FeHQuYXBwbHkoYi5meERlZmF1bHRzfHx7fSxjKX19LHN0b3BBbmltYXRpb246ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcyxhPWQuZ2V0RnhRdWV1ZShiKSxjPWEubGVuZ3RoO3doaWxlKGMpe2FbYy0xXS5lbmQoKTtjLS19fSxnZXRBY3RpdmVBbmltYXRpb246ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5nZXRGeFF1ZXVlKGIpO3JldHVybihhJiYhIWEubGVuZ3RoKT9hWzBdOmZhbHNlfSxoYXNGeEJsb2NrOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuZ2V0RnhRdWV1ZShiKTtyZXR1cm4gYSYmYVswXSYmYVswXS5ibG9ja30sZ2V0RnhRdWV1ZTpmdW5jdGlvbihiKXtpZighYil7cmV0dXJuIGZhbHNlfXZhciBjPXRoaXMsYT1jLmZ4UXVldWVbYl0sZD1jLnRhcmdldHMuZ2V0KGIpO2lmKCFkKXtyZXR1cm4gZmFsc2V9aWYoIWEpe2MuZnhRdWV1ZVtiXT1bXTtpZihkLnR5cGUhPSJlbGVtZW50Iil7ZC50YXJnZXQub24oImRlc3Ryb3kiLGZ1bmN0aW9uKCl7Yy5meFF1ZXVlW2JdPVtdfSl9fXJldHVybiBjLmZ4UXVldWVbYl19LHF1ZXVlRng6ZnVuY3Rpb24oZCl7dmFyIGM9dGhpcyxlPWQudGFyZ2V0LGEsYjtpZighZSl7cmV0dXJufWE9Yy5nZXRGeFF1ZXVlKGUuZ2V0SWQoKSk7Yj1hLmxlbmd0aDtpZihiKXtpZihkLmNvbmN1cnJlbnQpe2QucGF1c2VkPWZhbHNlfWVsc2V7YVtiLTFdLm9uKCJhZnRlcmFuaW1hdGUiLGZ1bmN0aW9uKCl7ZC5wYXVzZWQ9ZmFsc2V9KX19ZWxzZXtkLnBhdXNlZD1mYWxzZX1kLm9uKCJhZnRlcmFuaW1hdGUiLGZ1bmN0aW9uKCl7RXh0LkFycmF5LnJlbW92ZShhLGQpO2lmKGQucmVtb3ZlKXtpZihlLnR5cGU9PSJlbGVtZW50Iil7dmFyIGc9RXh0LmdldChlLmlkKTtpZihnKXtnLnJlbW92ZSgpfX19fSx0aGlzKTthLnB1c2goZCl9fSk7RXh0LmRlZmluZSgiRXh0LnV0aWwuTHJ1Q2FjaGUiLHtleHRlbmQ6IkV4dC51dGlsLkhhc2hNYXAiLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe0V4dC5hcHBseSh0aGlzLGEpO3RoaXMuY2FsbFBhcmVudChbYV0pfSxhZGQ6ZnVuY3Rpb24oYixlKXt2YXIgZD10aGlzLGE9ZC5maW5kS2V5KGUpLGM7aWYoYSl7ZC51bmxpbmtFbnRyeShjPWQubWFwW2FdKTtjLnByZXY9ZC5sYXN0O2MubmV4dD1udWxsfWVsc2V7Yz17cHJldjpkLmxhc3QsbmV4dDpudWxsLGtleTpiLHZhbHVlOmV9fWlmKGQubGFzdCl7ZC5sYXN0Lm5leHQ9Y31lbHNle2QuZmlyc3Q9Y31kLmxhc3Q9YztkLmNhbGxQYXJlbnQoW2IsY10pO2QucHJ1bmUoKTtyZXR1cm4gZX0saW5zZXJ0QmVmb3JlOmZ1bmN0aW9uKGIsZyxjKXt2YXIgZT10aGlzLGEsZDtpZihjPXRoaXMubWFwW3RoaXMuZmluZEtleShjKV0pe2E9ZS5maW5kS2V5KGcpO2lmKGEpe2UudW5saW5rRW50cnkoZD1lLm1hcFthXSl9ZWxzZXtkPXtwcmV2OmMucHJldixuZXh0OmMsa2V5OmIsdmFsdWU6Z319aWYoYy5wcmV2KXtkLnByZXYubmV4dD1kfWVsc2V7ZS5maXJzdD1kfWQubmV4dD1jO2MucHJldj1kO2UucHJ1bmUoKTtyZXR1cm4gZ31lbHNle3JldHVybiBlLmFkZChiLGcpfX0sZ2V0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMubWFwW2FdO2lmKGIpe2lmKGIubmV4dCl7dGhpcy5tb3ZlVG9FbmQoYil9cmV0dXJuIGIudmFsdWV9fSxyZW1vdmVBdEtleTpmdW5jdGlvbihhKXt0aGlzLnVubGlua0VudHJ5KHRoaXMubWFwW2FdKTtyZXR1cm4gdGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGNsZWFyOmZ1bmN0aW9uKGEpe3RoaXMuZmlyc3Q9dGhpcy5sYXN0PW51bGw7cmV0dXJuIHRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSx1bmxpbmtFbnRyeTpmdW5jdGlvbihhKXtpZihhKXtpZihhLm5leHQpe2EubmV4dC5wcmV2PWEucHJldn1lbHNle3RoaXMubGFzdD1hLnByZXZ9aWYoYS5wcmV2KXthLnByZXYubmV4dD1hLm5leHR9ZWxzZXt0aGlzLmZpcnN0PWEubmV4dH1hLnByZXY9YS5uZXh0PW51bGx9fSxtb3ZlVG9FbmQ6ZnVuY3Rpb24oYSl7dGhpcy51bmxpbmtFbnRyeShhKTtpZihhLnByZXY9dGhpcy5sYXN0KXt0aGlzLmxhc3QubmV4dD1hfWVsc2V7dGhpcy5maXJzdD1hfXRoaXMubGFzdD1hfSxnZXRBcnJheTpmdW5jdGlvbihjKXt2YXIgYT1bXSxiPXRoaXMuZmlyc3Q7d2hpbGUoYil7YS5wdXNoKGM/Yi5rZXk6Yi52YWx1ZSk7Yj1iLm5leHR9cmV0dXJuIGF9LGVhY2g6ZnVuY3Rpb24oYyxiLGEpe3ZhciBnPXRoaXMsZT1hP2cubGFzdDpnLmZpcnN0LGQ9Zy5sZW5ndGg7Yj1ifHxnO3doaWxlKGUpe2lmKGMuY2FsbChiLGUua2V5LGUudmFsdWUsZCk9PT1mYWxzZSl7YnJlYWt9ZT1hP2UucHJldjplLm5leHR9cmV0dXJuIGd9LGZpbmRLZXk6ZnVuY3Rpb24oYil7dmFyIGEsYz10aGlzLm1hcDtmb3IoYSBpbiBjKXtpZihjLmhhc093blByb3BlcnR5KGEpJiZjW2FdLnZhbHVlPT09Yil7cmV0dXJuIGF9fXJldHVybiB1bmRlZmluZWR9LHBydW5lOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEubWF4U2l6ZT8oYS5sZW5ndGgtYS5tYXhTaXplKTowO2lmKGI+MCl7Zm9yKDthLmZpcnN0JiZiO2ItLSl7YS5yZW1vdmVBdEtleShhLmZpcnN0LmtleSl9fX19KTtFeHQuZGVmaW5lKCJFeHQudXRpbC5Qb2ludCIse2V4dGVuZDoiRXh0LnV0aWwuUmVnaW9uIixzdGF0aWNzOntmcm9tRXZlbnQ6ZnVuY3Rpb24oYSl7YT0oYS5jaGFuZ2VkVG91Y2hlcyYmYS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg+MCk/YS5jaGFuZ2VkVG91Y2hlc1swXTphO3JldHVybiBuZXcgdGhpcyhhLnBhZ2VYLGEucGFnZVkpfX0sY29uc3RydWN0b3I6ZnVuY3Rpb24oYSxiKXt0aGlzLmNhbGxQYXJlbnQoW2IsYSxiLGFdKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4iUG9pbnRbIit0aGlzLngrIiwiK3RoaXMueSsiXSJ9LGVxdWFsczpmdW5jdGlvbihhKXtyZXR1cm4odGhpcy54PT1hLngmJnRoaXMueT09YS55KX0saXNXaXRoaW46ZnVuY3Rpb24oYixhKXtpZighRXh0LmlzT2JqZWN0KGEpKXthPXt4OmEseTphfX1yZXR1cm4odGhpcy54PD1iLngrYS54JiZ0aGlzLng+PWIueC1hLngmJnRoaXMueTw9Yi55K2EueSYmdGhpcy55Pj1iLnktYS55KX0scm91bmRlZEVxdWFsczpmdW5jdGlvbihhKXtyZXR1cm4oTWF0aC5yb3VuZCh0aGlzLngpPT1NYXRoLnJvdW5kKGEueCkmJk1hdGgucm91bmQodGhpcy55KT09TWF0aC5yb3VuZChhLnkpKX19LGZ1bmN0aW9uKCl7dGhpcy5wcm90b3R5cGUudHJhbnNsYXRlPUV4dC51dGlsLlJlZ2lvbi5wcm90b3R5cGUudHJhbnNsYXRlQnl9KTtFeHQuZGVmaW5lKCJFeHQudXRpbC5Tb3J0YWJsZSIse2lzU29ydGFibGU6dHJ1ZSxkZWZhdWx0U29ydERpcmVjdGlvbjoiQVNDIixyZXF1aXJlczpbIkV4dC51dGlsLlNvcnRlciJdLGluaXRTb3J0YWJsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLnNvcnRlcnM7YS5zb3J0ZXJzPW5ldyBFeHQudXRpbC5BYnN0cmFjdE1peGVkQ29sbGVjdGlvbihmYWxzZSxmdW5jdGlvbihjKXtyZXR1cm4gYy5pZHx8Yy5wcm9wZXJ0eX0pO2lmKGIpe2Euc29ydGVycy5hZGRBbGwoYS5kZWNvZGVTb3J0ZXJzKGIpKX19LHNvcnQ6ZnVuY3Rpb24oaCxnLGMsZSl7dmFyIGQ9dGhpcyxpLGIsYTtpZihFeHQuaXNBcnJheShoKSl7ZT1jO2M9ZzthPWh9ZWxzZXtpZihFeHQuaXNPYmplY3QoaCkpe2U9YztjPWc7YT1baF19ZWxzZXtpZihFeHQuaXNTdHJpbmcoaCkpe2k9ZC5zb3J0ZXJzLmdldChoKTtpZighaSl7aT17cHJvcGVydHk6aCxkaXJlY3Rpb246Z307YT1baV19ZWxzZXtpZihnPT09dW5kZWZpbmVkKXtpLnRvZ2dsZSgpfWVsc2V7aS5zZXREaXJlY3Rpb24oZyl9fX19fWlmKGEmJmEubGVuZ3RoKXthPWQuZGVjb2RlU29ydGVycyhhKTtpZihFeHQuaXNTdHJpbmcoYykpe2lmKGM9PT0icHJlcGVuZCIpe2g9ZC5zb3J0ZXJzLmNsb25lKCkuaXRlbXM7ZC5zb3J0ZXJzLmNsZWFyKCk7ZC5zb3J0ZXJzLmFkZEFsbChhKTtkLnNvcnRlcnMuYWRkQWxsKGgpfWVsc2V7ZC5zb3J0ZXJzLmFkZEFsbChhKX19ZWxzZXtkLnNvcnRlcnMuY2xlYXIoKTtkLnNvcnRlcnMuYWRkQWxsKGEpfX1pZihlIT09ZmFsc2Upe2Qub25CZWZvcmVTb3J0KGEpO2g9ZC5zb3J0ZXJzLml0ZW1zO2lmKGgubGVuZ3RoKXtkLmRvU29ydChkLmdlbmVyYXRlQ29tcGFyYXRvcigpKX19cmV0dXJuIGh9LGdlbmVyYXRlQ29tcGFyYXRvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMuc29ydGVycy5nZXRSYW5nZSgpO3JldHVybiBhLmxlbmd0aD90aGlzLmNyZWF0ZUNvbXBhcmF0b3IoYSk6dGhpcy5lbXB0eUNvbXBhcmF0b3J9LGNyZWF0ZUNvbXBhcmF0b3I6ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGQsYyl7dmFyIGI9YVswXS5zb3J0KGQsYyksZz1hLmxlbmd0aCxlPTE7Zm9yKDtlPGc7ZSsrKXtiPWJ8fGFbZV0uc29ydC5jYWxsKHRoaXMsZCxjKX1yZXR1cm4gYn19LGVtcHR5Q29tcGFyYXRvcjpmdW5jdGlvbigpe3JldHVybiAwfSxvbkJlZm9yZVNvcnQ6RXh0LmVtcHR5Rm4sZGVjb2RlU29ydGVyczpmdW5jdGlvbihnKXtpZighRXh0LmlzQXJyYXkoZykpe2lmKGc9PT11bmRlZmluZWQpe2c9W119ZWxzZXtnPVtnXX19dmFyIGQ9Zy5sZW5ndGgsaD1FeHQudXRpbC5Tb3J0ZXIsYT10aGlzLm1vZGVsP3RoaXMubW9kZWwucHJvdG90eXBlLmZpZWxkczpudWxsLGUsYixjO2ZvcihjPTA7YzxkO2MrKyl7Yj1nW2NdO2lmKCEoYiBpbnN0YW5jZW9mIGgpKXtpZihFeHQuaXNTdHJpbmcoYikpe2I9e3Byb3BlcnR5OmJ9fUV4dC5hcHBseUlmKGIse3Jvb3Q6dGhpcy5zb3J0Um9vdCxkaXJlY3Rpb246IkFTQyJ9KTtpZihiLmZuKXtiLnNvcnRlckZuPWIuZm59aWYodHlwZW9mIGI9PSJmdW5jdGlvbiIpe2I9e3NvcnRlckZuOmJ9fWlmKGEmJiFiLnRyYW5zZm9ybSl7ZT1hLmdldChiLnByb3BlcnR5KTtiLnRyYW5zZm9ybT1lP2Uuc29ydFR5cGU6dW5kZWZpbmVkfWdbY109bmV3IEV4dC51dGlsLlNvcnRlcihiKX19cmV0dXJuIGd9LGdldFNvcnRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3J0ZXJzLml0ZW1zfX0pO0V4dC5kZWZpbmUoIkV4dC51dGlsLk1peGVkQ29sbGVjdGlvbiIse2V4dGVuZDoiRXh0LnV0aWwuQWJzdHJhY3RNaXhlZENvbGxlY3Rpb24iLG1peGluczp7c29ydGFibGU6IkV4dC51dGlsLlNvcnRhYmxlIn0sY29uc3RydWN0b3I6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2EuYWRkRXZlbnRzKCJzb3J0Iik7YS5taXhpbnMuc29ydGFibGUuaW5pdFNvcnRhYmxlLmNhbGwoYSl9LGRvU29ydDpmdW5jdGlvbihhKXt0aGlzLnNvcnRCeShhKX0sX3NvcnQ6ZnVuY3Rpb24obCxhLGspe3ZhciBqPXRoaXMsZCxlLGI9U3RyaW5nKGEpLnRvVXBwZXJDYXNlKCk9PSJERVNDIj8tMToxLGg9W10sbT1qLmtleXMsZz1qLml0ZW1zO2s9a3x8ZnVuY3Rpb24oaSxjKXtyZXR1cm4gaS1jfTtmb3IoZD0wLGU9Zy5sZW5ndGg7ZDxlO2QrKyl7aFtoLmxlbmd0aF09e2tleTptW2RdLHZhbHVlOmdbZF0saW5kZXg6ZH19RXh0LkFycmF5LnNvcnQoaCxmdW5jdGlvbihpLGMpe3ZhciBuPWsoaVtsXSxjW2xdKSpiO2lmKG49PT0wKXtuPShpLmluZGV4PGMuaW5kZXg/LTE6MSl9cmV0dXJuIG59KTtmb3IoZD0wLGU9aC5sZW5ndGg7ZDxlO2QrKyl7Z1tkXT1oW2RdLnZhbHVlO21bZF09aFtkXS5rZXl9ai5maXJlRXZlbnQoInNvcnQiLGopfSxzb3J0Qnk6ZnVuY3Rpb24oYyl7dmFyIGg9dGhpcyxiPWguaXRlbXMsZz1oLmtleXMsZT1iLmxlbmd0aCxhPVtdLGQ7Zm9yKGQ9MDtkPGU7ZCsrKXthW2RdPXtrZXk6Z1tkXSx2YWx1ZTpiW2RdLGluZGV4OmR9fUV4dC5BcnJheS5zb3J0KGEsZnVuY3Rpb24oaixpKXt2YXIgaz1jKGoudmFsdWUsaS52YWx1ZSk7aWYoaz09PTApe2s9KGouaW5kZXg8aS5pbmRleD8tMToxKX1yZXR1cm4ga30pO2ZvcihkPTA7ZDxlO2QrKyl7YltkXT1hW2RdLnZhbHVlO2dbZF09YVtkXS5rZXl9aC5maXJlRXZlbnQoInNvcnQiLGgsYixnKX0sZmluZEluc2VydGlvbkluZGV4OmZ1bmN0aW9uKGUsZCl7dmFyIGc9dGhpcyxiPWcuaXRlbXMsaT0wLGE9Yi5sZW5ndGgtMSxjLGg7aWYoIWQpe2Q9Zy5nZW5lcmF0ZUNvbXBhcmF0b3IoKX13aGlsZShpPD1hKXtjPShpK2EpPj4xO2g9ZChlLGJbY10pO2lmKGg+PTApe2k9YysxfWVsc2V7aWYoaDwwKXthPWMtMX19fXJldHVybiBpfSxyZW9yZGVyOmZ1bmN0aW9uKGQpe3ZhciBoPXRoaXMsYj1oLml0ZW1zLGM9MCxnPWIubGVuZ3RoLGE9W10sZT1bXSxpO2guc3VzcGVuZEV2ZW50cygpO2ZvcihpIGluIGQpe2FbZFtpXV09YltpXX1mb3IoYz0wO2M8ZztjKyspe2lmKGRbY109PXVuZGVmaW5lZCl7ZS5wdXNoKGJbY10pfX1mb3IoYz0wO2M8ZztjKyspe2lmKGFbY109PXVuZGVmaW5lZCl7YVtjXT1lLnNoaWZ0KCl9fWguY2xlYXIoKTtoLmFkZEFsbChhKTtoLnJlc3VtZUV2ZW50cygpO2guZmlyZUV2ZW50KCJzb3J0IixoKX0sc29ydEJ5S2V5OmZ1bmN0aW9uKGEsYil7dGhpcy5fc29ydCgia2V5IixhLGJ8fGZ1bmN0aW9uKGQsYyl7dmFyIGc9U3RyaW5nKGQpLnRvVXBwZXJDYXNlKCksZT1TdHJpbmcoYykudG9VcHBlckNhc2UoKTtyZXR1cm4gZz5lPzE6KGc8ZT8tMTowKX0pfX0pO0V4dC5kZWZpbmUoIkV4dC5jb250YWluZXIuRG9ja2luZ0NvbnRhaW5lciIse3JlcXVpcmVzOlsiRXh0LnV0aWwuTWl4ZWRDb2xsZWN0aW9uIiwiRXh0LkVsZW1lbnQiXSxpc0RvY2tpbmdDb250YWluZXI6dHJ1ZSxkZWZhdWx0RG9ja1dlaWdodHM6e3RvcDp7cmVuZGVyOjEsdmlzdWFsOjF9LGxlZnQ6e3JlbmRlcjozLHZpc3VhbDo1fSxyaWdodDp7cmVuZGVyOjUsdmlzdWFsOjd9LGJvdHRvbTp7cmVuZGVyOjcsdmlzdWFsOjN9fSxkb2NrT3JkZXI6e3RvcDotMSxsZWZ0Oi0xLHJpZ2h0OjEsYm90dG9tOjF9LGFkZERvY2tlZDpmdW5jdGlvbihhLGcpe3ZhciBlPXRoaXMsYj0wLGQsYzthPWUucHJlcGFyZUl0ZW1zKGEpO2M9YS5sZW5ndGg7Zm9yKDtiPGM7YisrKXtkPWFbYl07ZC5kb2NrPWQuZG9ja3x8InRvcCI7aWYoZyE9PXVuZGVmaW5lZCl7ZS5kb2NrZWRJdGVtcy5pbnNlcnQoZytiLGQpfWVsc2V7ZS5kb2NrZWRJdGVtcy5hZGQoZCl9aWYoZC5vbkFkZGVkIT09RXh0LmVtcHR5Rm4pe2Qub25BZGRlZChlLGIpfWlmKGUub25Eb2NrZWRBZGQhPT1FeHQuZW1wdHlGbil7ZS5vbkRvY2tlZEFkZChkKX19aWYoZS5yZW5kZXJlZCYmIWUuc3VzcGVuZExheW91dCl7ZS51cGRhdGVMYXlvdXQoKX1yZXR1cm4gYX0sZGVzdHJveURvY2tlZEl0ZW1zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5kb2NrZWRJdGVtcyxiO2lmKGEpe3doaWxlKChiPWEuZmlyc3QoKSkpe3RoaXMucmVtb3ZlRG9ja2VkKGIsdHJ1ZSl9fX0sZG9SZW5kZXJEb2NrZWRJdGVtczpmdW5jdGlvbihjLGcsaCl7dmFyIGU9Zy4kY29tcCxkPWUuY29tcG9uZW50TGF5b3V0LGIsYTtpZihkLmdldERvY2tlZEl0ZW1zJiYhZy4kc2tpcERvY2tlZEl0ZW1zKXtiPWQuZ2V0RG9ja2VkSXRlbXMoInJlbmRlciIsIWgpO2E9YiYmZC5nZXRJdGVtc1JlbmRlclRyZWUoYik7aWYoYSl7RXh0LkRvbUhlbHBlci5nZW5lcmF0ZU1hcmt1cChhLGMpfX19LGdldERvY2tlZENvbXBvbmVudDpmdW5jdGlvbihhKXtpZihFeHQuaXNPYmplY3QoYSkpe2E9YS5nZXRJdGVtSWQoKX1yZXR1cm4gdGhpcy5kb2NrZWRJdGVtcy5nZXQoYSl9LGdldERvY2tlZEl0ZW1zOmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5nZXRDb21wb25lbnRMYXlvdXQoKS5nZXREb2NrZWRJdGVtcygicmVuZGVyIixjKTtpZihhJiZiLmxlbmd0aCl7Yj1FeHQuQ29tcG9uZW50UXVlcnkucXVlcnkoYSxiKX1yZXR1cm4gYn0sZ2V0RG9ja2luZ1JlZkl0ZW1zOmZ1bmN0aW9uKGIsZSl7dmFyIGE9YiYmIiosKiAqIixkPXRoaXMuZ2V0RG9ja2VkSXRlbXMoYSx0cnVlKSxjO2QucHVzaC5hcHBseShkLGUpO2M9dGhpcy5nZXREb2NrZWRJdGVtcyhhLGZhbHNlKTtkLnB1c2guYXBwbHkoZCxjKTtyZXR1cm4gZH0saW5pdERvY2tpbmdJdGVtczpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmRvY2tlZEl0ZW1zO2IuZG9ja2VkSXRlbXM9bmV3IEV4dC51dGlsLkFic3RyYWN0TWl4ZWRDb2xsZWN0aW9uKGZhbHNlLGIuZ2V0Q29tcG9uZW50SWQpO2lmKGEpe2IuYWRkRG9ja2VkKGEpfX0saW5zZXJ0RG9ja2VkOmZ1bmN0aW9uKGIsYSl7dGhpcy5hZGREb2NrZWQoYSxiKX0sb25Eb2NrZWRBZGQ6RXh0LmVtcHR5Rm4sb25Eb2NrZWRSZW1vdmU6RXh0LmVtcHR5Rm4scmVtb3ZlRG9ja2VkOmZ1bmN0aW9uKGUsYil7dmFyIGQ9dGhpcyxjLGE7aWYoIWQuZG9ja2VkSXRlbXMuY29udGFpbnMoZSkpe3JldHVybiBlfWM9ZC5jb21wb25lbnRMYXlvdXQ7YT1jJiZkLnJlbmRlcmVkO2lmKGEpe2Mub25SZW1vdmUoZSl9ZC5kb2NrZWRJdGVtcy5yZW1vdmUoZSk7ZS5vblJlbW92ZWQoKTtkLm9uRG9ja2VkUmVtb3ZlKGUpO2lmKGI9PT10cnVlfHwoYiE9PWZhbHNlJiZkLmF1dG9EZXN0cm95KSl7ZS5kZXN0cm95KCl9ZWxzZXtpZihhKXtjLmFmdGVyUmVtb3ZlKGUpfX1pZighZC5kZXN0cm95aW5nJiYhZC5zdXNwZW5kTGF5b3V0KXtkLnVwZGF0ZUxheW91dCgpfXJldHVybiBlfSxzZXR1cERvY2tpbmdSZW5kZXJUcGw6ZnVuY3Rpb24oYSl7YS5yZW5kZXJEb2NrZWRJdGVtcz10aGlzLmRvUmVuZGVyRG9ja2VkSXRlbXN9fSk7RXh0LmRlZmluZSgiRXh0LmRhdGEuQWJzdHJhY3RTdG9yZSIse3JlcXVpcmVzOlsiRXh0LnV0aWwuTWl4ZWRDb2xsZWN0aW9uIiwiRXh0LmRhdGEucHJveHkuUHJveHkiLCJFeHQuZGF0YS5PcGVyYXRpb24iLCJFeHQudXRpbC5GaWx0ZXIiXSxtaXhpbnM6e29ic2VydmFibGU6IkV4dC51dGlsLk9ic2VydmFibGUiLHNvcnRhYmxlOiJFeHQudXRpbC5Tb3J0YWJsZSJ9LHN0YXRpY3M6e2NyZWF0ZTpmdW5jdGlvbihhKXtpZighYS5pc1N0b3JlKXtpZighYS50eXBlKXthLnR5cGU9InN0b3JlIn1hPUV4dC5jcmVhdGVCeUFsaWFzKCJzdG9yZS4iK2EudHlwZSxhKX1yZXR1cm4gYX19LHJlbW90ZVNvcnQ6ZmFsc2UscmVtb3RlRmlsdGVyOmZhbHNlLGF1dG9Mb2FkOnVuZGVmaW5lZCxhdXRvU3luYzpmYWxzZSxiYXRjaFVwZGF0ZU1vZGU6Im9wZXJhdGlvbiIsZmlsdGVyT25Mb2FkOnRydWUsc29ydE9uTG9hZDp0cnVlLGltcGxpY2l0TW9kZWw6ZmFsc2UsZGVmYXVsdFByb3h5VHlwZToibWVtb3J5Iixpc0Rlc3Ryb3llZDpmYWxzZSxpc1N0b3JlOnRydWUsc29ydFJvb3Q6ImRhdGEiLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsYjtFeHQuYXBwbHkoYyxhKTtjLnJlbW92ZWQ9W107Yy5taXhpbnMub2JzZXJ2YWJsZS5jb25zdHJ1Y3Rvci5hcHBseShjLGFyZ3VtZW50cyk7Yy5tb2RlbD1FeHQuTW9kZWxNYW5hZ2VyLmdldE1vZGVsKGMubW9kZWwpO0V4dC5hcHBseUlmKGMse21vZGVsRGVmYXVsdHM6e319KTtpZighYy5tb2RlbCYmYy5maWVsZHMpe2MubW9kZWw9RXh0LmRlZmluZSgiRXh0LmRhdGEuU3RvcmUuSW1wbGljaXRNb2RlbC0iKyhjLnN0b3JlSWR8fEV4dC5pZCgpKSx7ZXh0ZW5kOiJFeHQuZGF0YS5Nb2RlbCIsZmllbGRzOmMuZmllbGRzLHByb3h5OmMucHJveHl8fGMuZGVmYXVsdFByb3h5VHlwZX0pO2RlbGV0ZSBjLmZpZWxkcztjLmltcGxpY2l0TW9kZWw9dHJ1ZX1jLnNldFByb3h5KGMucHJveHl8fGMubW9kZWwuZ2V0UHJveHkoKSk7Yy5wcm94eS5vbigibWV0YWNoYW5nZSIsYy5vbk1ldGFDaGFuZ2UsYyk7aWYoYy5pZCYmIWMuc3RvcmVJZCl7Yy5zdG9yZUlkPWMuaWQ7ZGVsZXRlIGMuaWR9aWYoYy5zdG9yZUlkKXtFeHQuZGF0YS5TdG9yZU1hbmFnZXIucmVnaXN0ZXIoYyl9Yy5taXhpbnMuc29ydGFibGUuaW5pdFNvcnRhYmxlLmNhbGwoYyk7Yj1jLmRlY29kZUZpbHRlcnMoYy5maWx0ZXJzKTtjLmZpbHRlcnM9bmV3IEV4dC51dGlsLk1peGVkQ29sbGVjdGlvbigpO2MuZmlsdGVycy5hZGRBbGwoYil9LHNldFByb3h5OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoYSBpbnN0YW5jZW9mIEV4dC5kYXRhLnByb3h5LlByb3h5KXthLnNldE1vZGVsKGIubW9kZWwpfWVsc2V7aWYoRXh0LmlzU3RyaW5nKGEpKXthPXt0eXBlOmF9fUV4dC5hcHBseUlmKGEse21vZGVsOmIubW9kZWx9KTthPUV4dC5jcmVhdGVCeUFsaWFzKCJwcm94eS4iK2EudHlwZSxhKX1iLnByb3h5PWE7cmV0dXJuIGIucHJveHl9LGdldFByb3h5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJveHl9LG9uTWV0YUNoYW5nZTpmdW5jdGlvbihhLGIpe3RoaXMuZmlyZUV2ZW50KCJtZXRhY2hhbmdlIix0aGlzLGIpfSxjcmVhdGU6ZnVuY3Rpb24oZSxjKXt2YXIgZD10aGlzLGE9RXh0Lk1vZGVsTWFuYWdlci5jcmVhdGUoRXh0LmFwcGx5SWYoZSxkLm1vZGVsRGVmYXVsdHMpLGQubW9kZWwubW9kZWxOYW1lKSxiO2M9Y3x8e307RXh0LmFwcGx5SWYoYyx7YWN0aW9uOiJjcmVhdGUiLHJlY29yZHM6W2FdfSk7Yj1uZXcgRXh0LmRhdGEuT3BlcmF0aW9uKGMpO2QucHJveHkuY3JlYXRlKGIsZC5vblByb3h5V3JpdGUsZCk7cmV0dXJuIGF9LHJlYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sb2FkLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sdXBkYXRlOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsYTtiPWJ8fHt9O0V4dC5hcHBseUlmKGIse2FjdGlvbjoidXBkYXRlIixyZWNvcmRzOmMuZ2V0VXBkYXRlZFJlY29yZHMoKX0pO2E9bmV3IEV4dC5kYXRhLk9wZXJhdGlvbihiKTtyZXR1cm4gYy5wcm94eS51cGRhdGUoYSxjLm9uUHJveHlXcml0ZSxjKX0sb25Qcm94eVdyaXRlOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsZD1iLndhc1N1Y2Nlc3NmdWwoKSxhPWIuZ2V0UmVjb3JkcygpO3N3aXRjaChiLmFjdGlvbil7Y2FzZSJjcmVhdGUiOmMub25DcmVhdGVSZWNvcmRzKGEsYixkKTticmVhaztjYXNlInVwZGF0ZSI6Yy5vblVwZGF0ZVJlY29yZHMoYSxiLGQpO2JyZWFrO2Nhc2UiZGVzdHJveSI6Yy5vbkRlc3Ryb3lSZWNvcmRzKGEsYixkKTticmVha31pZihkKXtjLmZpcmVFdmVudCgid3JpdGUiLGMsYik7Yy5maXJlRXZlbnQoImRhdGFjaGFuZ2VkIixjKTtjLmZpcmVFdmVudCgicmVmcmVzaCIsYyl9RXh0LmNhbGxiYWNrKGIuY2FsbGJhY2ssYi5zY29wZXx8YyxbYSxiLGRdKX0sb25DcmVhdGVSZWNvcmRzOkV4dC5lbXB0eUZuLG9uVXBkYXRlUmVjb3JkczpFeHQuZW1wdHlGbixvbkRlc3Ryb3lSZWNvcmRzOmZ1bmN0aW9uKGIsYSxjKXtpZihjKXt0aGlzLnJlbW92ZWQ9W119fSxkZXN0cm95OmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsYTtiPWJ8fHt9O0V4dC5hcHBseUlmKGIse2FjdGlvbjoiZGVzdHJveSIscmVjb3JkczpjLmdldFJlbW92ZWRSZWNvcmRzKCl9KTthPW5ldyBFeHQuZGF0YS5PcGVyYXRpb24oYik7cmV0dXJuIGMucHJveHkuZGVzdHJveShhLGMub25Qcm94eVdyaXRlLGMpfSxvbkJhdGNoT3BlcmF0aW9uQ29tcGxldGU6ZnVuY3Rpb24oYixhKXtyZXR1cm4gdGhpcy5vblByb3h5V3JpdGUoYSl9LG9uQmF0Y2hDb21wbGV0ZTpmdW5jdGlvbihjLGEpe3ZhciBnPXRoaXMsYj1jLm9wZXJhdGlvbnMsZT1iLmxlbmd0aCxkO2cuc3VzcGVuZEV2ZW50cygpO2ZvcihkPTA7ZDxlO2QrKyl7Zy5vblByb3h5V3JpdGUoYltkXSl9Zy5yZXN1bWVFdmVudHMoKTtnLmZpcmVFdmVudCgiZGF0YWNoYW5nZWQiLGcpO2cuZmlyZUV2ZW50KCJyZWZyZXNoIixnKX0sb25CYXRjaEV4Y2VwdGlvbjpmdW5jdGlvbihiLGEpe30sZmlsdGVyTmV3OmZ1bmN0aW9uKGEpe3JldHVybiBhLnBoYW50b209PT10cnVlJiZhLmlzVmFsaWQoKX0sZ2V0TmV3UmVjb3JkczpmdW5jdGlvbigpe3JldHVybltdfSxnZXRVcGRhdGVkUmVjb3JkczpmdW5jdGlvbigpe3JldHVybltdfSxnZXRNb2RpZmllZFJlY29yZHM6ZnVuY3Rpb24oKXtyZXR1cm5bXS5jb25jYXQodGhpcy5nZXROZXdSZWNvcmRzKCksdGhpcy5nZXRVcGRhdGVkUmVjb3JkcygpKX0sZmlsdGVyVXBkYXRlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXJ0eT09PXRydWUmJmEucGhhbnRvbSE9PXRydWUmJmEuaXNWYWxpZCgpfSxnZXRSZW1vdmVkUmVjb3JkczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnJlbW92ZWR9LGZpbHRlcjpmdW5jdGlvbihhLGIpe30sZGVjb2RlRmlsdGVyczpmdW5jdGlvbihlKXtpZighRXh0LmlzQXJyYXkoZSkpe2lmKGU9PT11bmRlZmluZWQpe2U9W119ZWxzZXtlPVtlXX19dmFyIGQ9ZS5sZW5ndGgsYT1FeHQudXRpbC5GaWx0ZXIsYixjO2ZvcihjPTA7YzxkO2MrKyl7Yj1lW2NdO2lmKCEoYiBpbnN0YW5jZW9mIGEpKXtFeHQuYXBwbHkoYix7cm9vdDoiZGF0YSJ9KTtpZihiLmZuKXtiLmZpbHRlckZuPWIuZm59aWYodHlwZW9mIGI9PSJmdW5jdGlvbiIpe2I9e2ZpbHRlckZuOmJ9fWVbY109bmV3IGEoYil9fXJldHVybiBlfSxjbGVhckZpbHRlcjpmdW5jdGlvbihhKXt9LGlzRmlsdGVyZWQ6ZnVuY3Rpb24oKXt9LGZpbHRlckJ5OmZ1bmN0aW9uKGIsYSl7fSxzeW5jOmZ1bmN0aW9uKGMpe3ZhciBlPXRoaXMsYj17fSxnPWUuZ2V0TmV3UmVjb3JkcygpLGQ9ZS5nZXRVcGRhdGVkUmVjb3JkcygpLGE9ZS5nZXRSZW1vdmVkUmVjb3JkcygpLGg9ZmFsc2U7aWYoZy5sZW5ndGg+MCl7Yi5jcmVhdGU9ZztoPXRydWV9aWYoZC5sZW5ndGg+MCl7Yi51cGRhdGU9ZDtoPXRydWV9aWYoYS5sZW5ndGg+MCl7Yi5kZXN0cm95PWE7aD10cnVlfWlmKGgmJmUuZmlyZUV2ZW50KCJiZWZvcmVzeW5jIixiKSE9PWZhbHNlKXtjPWN8fHt9O2UucHJveHkuYmF0Y2goRXh0LmFwcGx5KGMse29wZXJhdGlvbnM6YixsaXN0ZW5lcnM6ZS5nZXRCYXRjaExpc3RlbmVycygpfSkpfXJldHVybiBlfSxnZXRCYXRjaExpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT17c2NvcGU6YixleGNlcHRpb246Yi5vbkJhdGNoRXhjZXB0aW9ufTtpZihiLmJhdGNoVXBkYXRlTW9kZT09Im9wZXJhdGlvbiIpe2Eub3BlcmF0aW9uY29tcGxldGU9Yi5vbkJhdGNoT3BlcmF0aW9uQ29tcGxldGV9ZWxzZXthLmNvbXBsZXRlPWIub25CYXRjaENvbXBsZXRlfXJldHVybiBhfSxzYXZlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3luYy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGxvYWQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxhO2I9Ynx8e307Yi5hY3Rpb249Yi5hY3Rpb258fCJyZWFkIjtiLmZpbHRlcnM9Yi5maWx0ZXJzfHxjLmZpbHRlcnMuaXRlbXM7Yi5zb3J0ZXJzPWIuc29ydGVyc3x8Yy5nZXRTb3J0ZXJzKCk7YT1uZXcgRXh0LmRhdGEuT3BlcmF0aW9uKGIpO2lmKGMuZmlyZUV2ZW50KCJiZWZvcmVsb2FkIixjLGEpIT09ZmFsc2Upe2MubG9hZGluZz10cnVlO2MucHJveHkucmVhZChhLGMub25Qcm94eUxvYWQsYyl9cmV0dXJuIGN9LGFmdGVyRWRpdDpmdW5jdGlvbihhLGUpe3ZhciBkPXRoaXMsYixjO2lmKGQuYXV0b1N5bmMmJiFkLmF1dG9TeW5jU3VzcGVuZGVkKXtmb3IoYj1lLmxlbmd0aDtiLS07KXtpZihhLmZpZWxkcy5nZXQoZVtiXSkucGVyc2lzdCl7Yz10cnVlO2JyZWFrfX1pZihjKXtkLnN5bmMoKX19ZC5maXJlRXZlbnQoInVwZGF0ZSIsZCxhLEV4dC5kYXRhLk1vZGVsLkVESVQsZSl9LGFmdGVyUmVqZWN0OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KCJ1cGRhdGUiLHRoaXMsYSxFeHQuZGF0YS5Nb2RlbC5SRUpFQ1QsbnVsbCl9LGFmdGVyQ29tbWl0OmZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KCJ1cGRhdGUiLHRoaXMsYSxFeHQuZGF0YS5Nb2RlbC5DT01NSVQsbnVsbCl9LGRlc3Ryb3lTdG9yZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoIWEuaXNEZXN0cm95ZWQpe2lmKGEuc3RvcmVJZCl7RXh0LmRhdGEuU3RvcmVNYW5hZ2VyLnVucmVnaXN0ZXIoYSl9YS5jbGVhckRhdGEoKTthLmRhdGE9YS50cmVlPWEuc29ydGVycz1hLmZpbHRlcnM9YS5ncm91cGVycz1udWxsO2lmKGEucmVhZGVyKXthLnJlYWRlci5kZXN0cm95UmVhZGVyKCl9YS5wcm94eT1hLnJlYWRlcj1hLndyaXRlcj1udWxsO2EuY2xlYXJMaXN0ZW5lcnMoKTthLmlzRGVzdHJveWVkPXRydWU7aWYoYS5pbXBsaWNpdE1vZGVsKXtFeHQuZGVzdHJveShhLm1vZGVsKX1lbHNle2EubW9kZWw9bnVsbH19fSxkb1NvcnQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZihiLnJlbW90ZVNvcnQpe2IubG9hZCgpfWVsc2V7Yi5kYXRhLnNvcnRCeShhKTtiLmZpcmVFdmVudCgiZGF0YWNoYW5nZWQiLGIpO2IuZmlyZUV2ZW50KCJyZWZyZXNoIixiKX19LGNsZWFyRGF0YTpFeHQuZW1wdHlGbixnZXRDb3VudDpFeHQuZW1wdHlGbixnZXRCeUlkOkV4dC5lbXB0eUZuLHJlbW92ZUFsbDpFeHQuZW1wdHlGbixpc0xvYWRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLmxvYWRpbmd9LHN1c3BlbmRBdXRvU3luYzpmdW5jdGlvbigpe3RoaXMuYXV0b1N5bmNTdXNwZW5kZWQ9dHJ1ZX0scmVzdW1lQXV0b1N5bmM6ZnVuY3Rpb24oKXt0aGlzLmF1dG9TeW5jU3VzcGVuZGVkPWZhbHNlfX0pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLkVycm9ycyIse2V4dGVuZDoiRXh0LnV0aWwuTWl4ZWRDb2xsZWN0aW9uIixpc1ZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoPT09MH0sZ2V0QnlGaWVsZDpmdW5jdGlvbihlKXt2YXIgZD1bXSxhLGMsYjtmb3IoYj0wO2I8dGhpcy5sZW5ndGg7YisrKXthPXRoaXMuaXRlbXNbYl07aWYoYS5maWVsZD09ZSl7ZC5wdXNoKGEpfX1yZXR1cm4gZH19KTtFeHQuZGVmaW5lKCJFeHQuZGF0YS5Nb2RlbCIse2FsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmRhdGEuUmVjb3JkIixtaXhpbnM6e29ic2VydmFibGU6IkV4dC51dGlsLk9ic2VydmFibGUifSxyZXF1aXJlczpbIkV4dC5Nb2RlbE1hbmFnZXIiLCJFeHQuZGF0YS5JZEdlbmVyYXRvciIsIkV4dC5kYXRhLkZpZWxkIiwiRXh0LmRhdGEuRXJyb3JzIiwiRXh0LmRhdGEuT3BlcmF0aW9uIiwiRXh0LmRhdGEudmFsaWRhdGlvbnMiLCJFeHQudXRpbC5NaXhlZENvbGxlY3Rpb24iXSxjb21wYXJlQ29udmVydEZpZWxkczpmdW5jdGlvbihhLGQpe3ZhciBjPWEuY29udmVydCYmYS50eXBlJiZhLmNvbnZlcnQhPT1hLnR5cGUuY29udmVydCxiPWQuY29udmVydCYmZC50eXBlJiZkLmNvbnZlcnQhPT1kLnR5cGUuY29udmVydDtpZihjJiYhYil7cmV0dXJuIDF9aWYoIWMmJmIpe3JldHVybiAtMX1yZXR1cm4gMH0saXRlbU5hbWVGbjpmdW5jdGlvbihhKXtyZXR1cm4gYS5uYW1lfSxvbkNsYXNzRXh0ZW5kZWQ6ZnVuY3Rpb24oYixjLGEpe3ZhciBkPWEub25CZWZvcmVDcmVhdGVkO2Eub25CZWZvcmVDcmVhdGVkPWZ1bmN0aW9uKGcsQyl7dmFyIEI9dGhpcyxEPUV4dC5nZXRDbGFzc05hbWUoZykscT1nLnByb3RvdHlwZSx3PWcucHJvdG90eXBlLnN1cGVyY2xhc3MsaD1DLnZhbGlkYXRpb25zfHxbXSxzPUMuZmllbGRzfHxbXSx4PUMuYXNzb2NpYXRpb25zfHxbXSxlPWZ1bmN0aW9uKEYsSCl7dmFyIEc9MCxFLEk7aWYoRil7Rj1FeHQuQXJyYXkuZnJvbShGKTtmb3IoRT1GLmxlbmd0aDtHPEU7KytHKXtJPUZbR107aWYoIUV4dC5pc09iamVjdChJKSl7ST17bW9kZWw6SX19SS50eXBlPUg7eC5wdXNoKEkpfX19LHQ9Qy5pZGdlbix6PW5ldyBFeHQudXRpbC5NaXhlZENvbGxlY3Rpb24oZmFsc2UscS5pdGVtTmFtZUZuKSx5PW5ldyBFeHQudXRpbC5NaXhlZENvbGxlY3Rpb24oZmFsc2UscS5pdGVtTmFtZUZuKSxwPXcudmFsaWRhdGlvbnMsQT13LmZpZWxkcyxsPXcuYXNzb2NpYXRpb25zLGosdixuLG89W10sbT1DLmlkUHJvcGVydHl8fGcucHJvdG90eXBlLmlkUHJvcGVydHksdT1mdW5jdGlvbihGLEUsaSl7dmFyIEcsSDtpZih6LmV2ZW50cy5hZGQuZmlyaW5nKXtIPUY7Rz1FfWVsc2V7Rz1pO0g9RS5vcmlnaW5hbEluZGV4fUcub3JpZ2luYWxJbmRleD1IO2lmKEcubWFwcGluZz09PW18fChHLm1hcHBpbmc9PW51bGwmJkcubmFtZT09PW0pKXtHLmRlZmF1bHRWYWx1ZT11bmRlZmluZWR9fSxyPUMucHJveHl8fGcucHJvdG90eXBlLnByb3h5fHxnLnByb3RvdHlwZS5kZWZhdWx0UHJveHlUeXBlLGs9ZnVuY3Rpb24oKXt6LnNvcnRCeShxLmNvbXBhcmVDb252ZXJ0RmllbGRzKX07Zy5tb2RlbE5hbWU9RDtxLm1vZGVsTmFtZT1EO2lmKHApe2g9cC5jb25jYXQoaCl9Qy52YWxpZGF0aW9ucz1oO2lmKEEpe3M9QS5pdGVtcy5jb25jYXQocyl9ei5vbih7YWRkOnUscmVwbGFjZTp1fSk7Zm9yKHY9MCxuPXMubGVuZ3RoO3Y8bjsrK3Ype3ouYWRkKG5ldyBFeHQuZGF0YS5GaWVsZChzW3ZdKSl9aWYoIXouZ2V0KG0pKXt6LmFkZChuZXcgRXh0LmRhdGEuRmllbGQobSkpfWsoKTt6Lm9uKHthZGQ6ayxyZXBsYWNlOmt9KTtDLmZpZWxkcz16O2lmKHQpe0MuaWRnZW49RXh0LmRhdGEuSWRHZW5lcmF0b3IuZ2V0KHQpfWUoQy5iZWxvbmdzVG8sImJlbG9uZ3NUbyIpO2RlbGV0ZSBDLmJlbG9uZ3NUbztlKEMuaGFzTWFueSwiaGFzTWFueSIpO2RlbGV0ZSBDLmhhc01hbnk7ZShDLmhhc09uZSwiaGFzT25lIik7ZGVsZXRlIEMuaGFzT25lO2lmKGwpe3g9bC5pdGVtcy5jb25jYXQoeCl9Zm9yKHY9MCxuPXgubGVuZ3RoO3Y8bjsrK3Ype28ucHVzaCgiYXNzb2NpYXRpb24uIit4W3ZdLnR5cGUudG9Mb3dlckNhc2UoKSl9aWYociYmIXIuaXNQcm94eSl7by5wdXNoKCJwcm94eS4iKyh0eXBlb2Ygcj09PSJzdHJpbmciP3I6ci50eXBlKSl9RXh0LnJlcXVpcmUobyxmdW5jdGlvbigpe0V4dC5Nb2RlbE1hbmFnZXIucmVnaXN0ZXJUeXBlKEQsZyk7Zm9yKHY9MCxuPXgubGVuZ3RoO3Y8bjsrK3Ype2o9eFt2XTtFeHQuYXBwbHkoaix7b3duZXJNb2RlbDpELGFzc29jaWF0ZWRNb2RlbDpqLm1vZGVsfSk7aWYoRXh0Lk1vZGVsTWFuYWdlci5nZXRNb2RlbChqLm1vZGVsKT09PXVuZGVmaW5lZCl7RXh0Lk1vZGVsTWFuYWdlci5yZWdpc3RlckRlZmVycmVkQXNzb2NpYXRpb24oail9ZWxzZXt5LmFkZChFeHQuZGF0YS5hc3NvY2lhdGlvbi5Bc3NvY2lhdGlvbi5jcmVhdGUoaikpfX1DLmFzc29jaWF0aW9ucz15O2QuY2FsbChCLGcsQyxhKTtnLnNldFByb3h5KHIpO0V4dC5Nb2RlbE1hbmFnZXIub25Nb2RlbERlZmluZWQoZyl9KX19LGluaGVyaXRhYmxlU3RhdGljczp7c2V0UHJveHk6ZnVuY3Rpb24oYSl7aWYoIWEuaXNQcm94eSl7aWYodHlwZW9mIGE9PSJzdHJpbmciKXthPXt0eXBlOmF9fWE9RXh0LmNyZWF0ZUJ5QWxpYXMoInByb3h5LiIrYS50eXBlLGEpfWEuc2V0TW9kZWwodGhpcyk7dGhpcy5wcm94eT10aGlzLnByb3RvdHlwZS5wcm94eT1hO3JldHVybiBhfSxnZXRQcm94eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3h5fSxzZXRGaWVsZHM6ZnVuY3Rpb24oYyxkLGIpe3ZhciBqPXRoaXMsaD1qLnByb3RvdHlwZSxnPWguZmllbGRzLGE9Yz9jLmxlbmd0aDowLGU9MDtpZihkKXtoLmlkUHJvcGVydHk9ZH1pZihiKXtoLmNsaWVudElkUHJvcGVydHk9Yn1pZihnKXtnLmNsZWFyKCl9ZWxzZXtnPWoucHJvdG90eXBlLmZpZWxkcz1uZXcgRXh0LnV0aWwuTWl4ZWRDb2xsZWN0aW9uKGZhbHNlLGZ1bmN0aW9uKGkpe3JldHVybiBpLm5hbWV9KX1mb3IoO2U8YTtlKyspe2cuYWRkKG5ldyBFeHQuZGF0YS5GaWVsZChjW2VdKSl9aWYoIWcuZ2V0KGguaWRQcm9wZXJ0eSkpe2cuYWRkKG5ldyBFeHQuZGF0YS5GaWVsZChoLmlkUHJvcGVydHkpKX1qLmZpZWxkcz1nO3JldHVybiBnfSxnZXRGaWVsZHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm90b3R5cGUuZmllbGRzLml0ZW1zfSxsb2FkOmZ1bmN0aW9uKGcsYyl7Yz1FeHQuYXBwbHkoe30sYyk7Yz1FeHQuYXBwbHlJZihjLHthY3Rpb246InJlYWQiLGlkOmd9KTt2YXIgYj1uZXcgRXh0LmRhdGEuT3BlcmF0aW9uKGMpLGQ9Yy5zY29wZXx8dGhpcyxhPW51bGwsZTtlPWZ1bmN0aW9uKGgpe2lmKGgud2FzU3VjY2Vzc2Z1bCgpKXthPWguZ2V0UmVjb3JkcygpWzBdO0V4dC5jYWxsYmFjayhjLnN1Y2Nlc3MsZCxbYSxoXSl9ZWxzZXtFeHQuY2FsbGJhY2soYy5mYWlsdXJlLGQsW2EsaF0pfUV4dC5jYWxsYmFjayhjLmNhbGxiYWNrLGQsW2EsaF0pfTt0aGlzLnByb3h5LnJlYWQoYixlLHRoaXMpfX0sc3RhdGljczp7UFJFRklYOiJleHQtcmVjb3JkIixBVVRPX0lEOjEsRURJVDoiZWRpdCIsUkVKRUNUOiJyZWplY3QiLENPTU1JVDoiY29tbWl0IixpZDpmdW5jdGlvbihhKXt2YXIgYj1bdGhpcy5QUkVGSVgsIi0iLHRoaXMuQVVUT19JRCsrXS5qb2luKCIiKTthLnBoYW50b209dHJ1ZTthLmludGVybmFsSWQ9YjtyZXR1cm4gYn19LGlkZ2VuOntpc0dlbmVyYXRvcjp0cnVlLHR5cGU6ImRlZmF1bHQiLGdlbmVyYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGdldFJlY0lkOmZ1bmN0aW9uKGEpe3JldHVybiBhLm1vZGVsTmFtZSsiLSIrYS5pbnRlcm5hbElkfX0sZWRpdGluZzpmYWxzZSxkaXJ0eTpmYWxzZSxwZXJzaXN0ZW5jZVByb3BlcnR5OiJkYXRhIixldmVudGVkOmZhbHNlLGlzTW9kZWw6dHJ1ZSxwaGFudG9tOmZhbHNlLGlkUHJvcGVydHk6ImlkIixjbGllbnRJZFByb3BlcnR5Om51bGwsZGVmYXVsdFByb3h5VHlwZToiYWpheCIsY29uc3RydWN0b3I6ZnVuY3Rpb24oaixkLG8sYil7aj1qfHx7fTt2YXIgbD10aGlzLGssZSxtLGEsbixnLGMsaDtsLmludGVybmFsSWQ9KGR8fGQ9PT0wKT9kOkV4dC5kYXRhLk1vZGVsLmlkKGwpO2wucmF3PW87aWYoIWwuZGF0YSl7bC5kYXRhPXt9fWwubW9kaWZpZWQ9e307aWYobC5wZXJzaXN0YW5jZVByb3BlcnR5KXtsLnBlcnNpc3RlbmNlUHJvcGVydHk9bC5wZXJzaXN0YW5jZVByb3BlcnR5fWxbbC5wZXJzaXN0ZW5jZVByb3BlcnR5XT1ifHx7fTtsLm1peGlucy5vYnNlcnZhYmxlLmNvbnN0cnVjdG9yLmNhbGwobCk7aWYoIWIpe2s9bC5maWVsZHMuaXRlbXM7ZT1rLmxlbmd0aDtoPTA7Yz1sW2wucGVyc2lzdGVuY2VQcm9wZXJ0eV07aWYoRXh0LmlzQXJyYXkoaikpe2Zvcig7aDxlO2grKyl7bT1rW2hdO2E9bS5uYW1lO249altoXTtpZihuPT09dW5kZWZpbmVkKXtuPW0uZGVmYXVsdFZhbHVlfWlmKG0uY29udmVydCl7bj1tLmNvbnZlcnQobixsKX1pZihuIT09dW5kZWZpbmVkKXtjW2FdPW59fX1lbHNle2Zvcig7aDxlO2grKyl7bT1rW2hdO2E9bS5uYW1lO249althXTtpZihuPT09dW5kZWZpbmVkKXtuPW0uZGVmYXVsdFZhbHVlfWlmKG0uY29udmVydCl7bj1tLmNvbnZlcnQobixsKX1pZihuIT09dW5kZWZpbmVkKXtjW2FdPW59fX19bC5zdG9yZXM9W107aWYobC5nZXRJZCgpKXtsLnBoYW50b209ZmFsc2V9ZWxzZXtpZihsLnBoYW50b20pe2c9bC5pZGdlbi5nZW5lcmF0ZSgpO2lmKGchPT1udWxsKXtsLnNldElkKGcpfX19bC5kaXJ0eT1mYWxzZTtsLm1vZGlmaWVkPXt9O2lmKHR5cGVvZiBsLmluaXQ9PSJmdW5jdGlvbiIpe2wuaW5pdCgpfWwuaWQ9bC5pZGdlbi5nZXRSZWNJZChsKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzW3RoaXMucGVyc2lzdGVuY2VQcm9wZXJ0eV1bYV19LF9zaW5nbGVQcm9wOnt9LHNldDpmdW5jdGlvbihyLGIpe3ZhciBqPXRoaXMsaD1qW2oucGVyc2lzdGVuY2VQcm9wZXJ0eV0saT1qLmZpZWxkcyxxPWoubW9kaWZpZWQsbz0odHlwZW9mIHI9PSJzdHJpbmciKSxwLGssZyxuLGUsYSxjLGQsbCxtO2lmKG8pe209ai5fc2luZ2xlUHJvcDttW3JdPWJ9ZWxzZXttPXJ9Zm9yKGEgaW4gbSl7aWYobS5oYXNPd25Qcm9wZXJ0eShhKSl7bD1tW2FdO2lmKGkmJihrPWkuZ2V0KGEpKSYmay5jb252ZXJ0KXtsPWsuY29udmVydChsLGopfXA9aFthXTtpZihqLmlzRXF1YWwocCxsKSl7Y29udGludWV9aFthXT1sOyhlfHwoZT1bXSkpLnB1c2goYSk7aWYoayYmay5wZXJzaXN0KXtpZihxLmhhc093blByb3BlcnR5KGEpKXtpZihqLmlzRXF1YWwocVthXSxsKSl7ZGVsZXRlIHFbYV07ai5kaXJ0eT1mYWxzZTtmb3IobiBpbiBxKXtpZihxLmhhc093blByb3BlcnR5KG4pKXtqLmRpcnR5PXRydWU7YnJlYWt9fX19ZWxzZXtqLmRpcnR5PXRydWU7cVthXT1wfX1pZihhPT1qLmlkUHJvcGVydHkpe2c9dHJ1ZTtjPXA7ZD1sfX19aWYobyl7ZGVsZXRlIG1bcl19aWYoZyl7ai5maXJlRXZlbnQoImlkY2hhbmdlZCIsaixjLGQpfWlmKCFqLmVkaXRpbmcmJmUpe2ouYWZ0ZXJFZGl0KGUpfXJldHVybiBlfHxudWxsfSxjb3B5RnJvbTpmdW5jdGlvbihnKXtpZihnKXt2YXIgZT10aGlzLGM9ZS5maWVsZHMuaXRlbXMsaz1jLmxlbmd0aCxoLGE9MCxkPWVbZS5wZXJzaXN0ZW5jZVByb3BlcnR5XSxiPWdbZy5wZXJzaXN0ZW5jZVByb3BlcnR5XSxqO2Zvcig7YTxrO2ErKyl7aD1jW2FdO2o9YltoLm5hbWVdO2lmKGohPT11bmRlZmluZWQpe2RbaC5uYW1lXT1qfX1pZihlLnBoYW50b20mJiFnLnBoYW50b20pe2Uuc2V0SWQoZy5nZXRJZCgpKX19fSxpc0VxdWFsOmZ1bmN0aW9uKGQsYyl7aWYoRXh0LmlzRGF0ZShkKSYmRXh0LmlzRGF0ZShjKSl7cmV0dXJuIEV4dC5EYXRlLmlzRXF1YWwoZCxjKX1yZXR1cm4gZD09PWN9LGJlZ2luRWRpdDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoIWEuZWRpdGluZyl7YS5lZGl0aW5nPXRydWU7YS5kaXJ0eVNhdmU9YS5kaXJ0eTthLmRhdGFTYXZlPUV4dC5hcHBseSh7fSxhW2EucGVyc2lzdGVuY2VQcm9wZXJ0eV0pO2EubW9kaWZpZWRTYXZlPUV4dC5hcHBseSh7fSxhLm1vZGlmaWVkKX19LGNhbmNlbEVkaXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuZWRpdGluZyl7YS5lZGl0aW5nPWZhbHNlO2EubW9kaWZpZWQ9YS5tb2RpZmllZFNhdmU7YVthLnBlcnNpc3RlbmNlUHJvcGVydHldPWEuZGF0YVNhdmU7YS5kaXJ0eT1hLmRpcnR5U2F2ZTtkZWxldGUgYS5tb2RpZmllZFNhdmU7ZGVsZXRlIGEuZGF0YVNhdmU7ZGVsZXRlIGEuZGlydHlTYXZlfX0sZW5kRWRpdDpmdW5jdGlvbihhLGMpe3ZhciBiPXRoaXMsZDtpZihiLmVkaXRpbmcpe2IuZWRpdGluZz1mYWxzZTtpZighYyl7Yz1iLmdldE1vZGlmaWVkRmllbGROYW1lcygpfWQ9Yi5kaXJ0eXx8Yy5sZW5ndGg+MDtkZWxldGUgYi5tb2RpZmllZFNhdmU7ZGVsZXRlIGIuZGF0YVNhdmU7ZGVsZXRlIGIuZGlydHlTYXZlO2lmKGQmJmEhPT10cnVlKXtiLmFmdGVyRWRpdChjKX19fSxnZXRNb2RpZmllZEZpZWxkTmFtZXM6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGM9ZC5kYXRhU2F2ZSxlPWRbZC5wZXJzaXN0ZW5jZVByb3BlcnR5XSxhPVtdLGI7Zm9yKGIgaW4gZSl7aWYoZS5oYXNPd25Qcm9wZXJ0eShiKSl7aWYoIWQuaXNFcXVhbChlW2JdLGNbYl0pKXthLnB1c2goYil9fX1yZXR1cm4gYX0sZ2V0Q2hhbmdlczpmdW5jdGlvbigpe3ZhciBhPXRoaXMubW9kaWZpZWQsYj17fSxjO2ZvcihjIGluIGEpe2lmKGEuaGFzT3duUHJvcGVydHkoYykpe2JbY109dGhpcy5nZXQoYyl9fXJldHVybiBifSxpc01vZGlmaWVkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1vZGlmaWVkLmhhc093blByb3BlcnR5KGEpfSxzZXREaXJ0eTpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYT1jLmZpZWxkcy5pdGVtcyxnPWEubGVuZ3RoLGUsYixkO2MuZGlydHk9dHJ1ZTtmb3IoZD0wO2Q8ZztkKyspe2U9YVtkXTtpZihlLnBlcnNpc3Qpe2I9ZS5uYW1lO2MubW9kaWZpZWRbYl09Yy5nZXQoYil9fX0scmVqZWN0OmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsYj1jLm1vZGlmaWVkLGQ7Zm9yKGQgaW4gYil7aWYoYi5oYXNPd25Qcm9wZXJ0eShkKSl7aWYodHlwZW9mIGJbZF0hPSJmdW5jdGlvbiIpe2NbYy5wZXJzaXN0ZW5jZVByb3BlcnR5XVtkXT1iW2RdfX19Yy5kaXJ0eT1mYWxzZTtjLmVkaXRpbmc9ZmFsc2U7Yy5tb2RpZmllZD17fTtpZihhIT09dHJ1ZSl7Yy5hZnRlclJlamVjdCgpfX0sY29tbWl0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5waGFudG9tPWIuZGlydHk9Yi5lZGl0aW5nPWZhbHNlO2IubW9kaWZpZWQ9e307aWYoYSE9PXRydWUpe2IuYWZ0ZXJDb21taXQoKX19LGNvcHk6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gbmV3IGIuc2VsZihFeHQuYXBwbHkoe30sYltiLnBlcnNpc3RlbmNlUHJvcGVydHldKSxhKX0sc2V0UHJveHk6ZnVuY3Rpb24oYSl7aWYoIWEuaXNQcm94eSl7aWYodHlwZW9mIGE9PT0ic3RyaW5nIil7YT17dHlwZTphfX1hPUV4dC5jcmVhdGVCeUFsaWFzKCJwcm94eS4iK2EudHlwZSxhKX1hLnNldE1vZGVsKHRoaXMuc2VsZik7dGhpcy5wcm94eT1hO3JldHVybiBhfSxnZXRQcm94eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3h5fSx2YWxpZGF0ZTpmdW5jdGlvbigpe3ZhciBrPW5ldyBFeHQuZGF0YS5FcnJvcnMoKSxjPXRoaXMudmFsaWRhdGlvbnMsZT1FeHQuZGF0YS52YWxpZGF0aW9ucyxiLGQsaixhLGgsZztpZihjKXtiPWMubGVuZ3RoO2ZvcihnPTA7ZzxiO2crKyl7ZD1jW2ddO2o9ZC5maWVsZHx8ZC5uYW1lO2g9ZC50eXBlO2E9ZVtoXShkLHRoaXMuZ2V0KGopKTtpZighYSl7ay5hZGQoe2ZpZWxkOmosbWVzc2FnZTpkLm1lc3NhZ2V8fGVbaCsiTWVzc2FnZSJdfSl9fX1yZXR1cm4ga30saXNWYWxpZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbGlkYXRlKCkuaXNWYWxpZCgpfSxzYXZlOmZ1bmN0aW9uKG0pe209RXh0LmFwcGx5KHt9LG0pO3ZhciBnPXRoaXMsYj1nLnBoYW50b20/ImNyZWF0ZSI6InVwZGF0ZSIsbD1tLnNjb3BlfHxnLGo9Zy5zdG9yZXMsYz0wLGUsaCxkLGEsaztFeHQuYXBwbHkobSx7cmVjb3JkczpbZ10sYWN0aW9uOmJ9KTthPW5ldyBFeHQuZGF0YS5PcGVyYXRpb24obSk7az1mdW5jdGlvbihpKXtkPVtnLGldO2lmKGkud2FzU3VjY2Vzc2Z1bCgpKXtmb3IoZT1qLmxlbmd0aDtjPGU7YysrKXtoPWpbY107aC5maXJlRXZlbnQoIndyaXRlIixoLGkpO2guZmlyZUV2ZW50KCJkYXRhY2hhbmdlZCIsaCl9RXh0LmNhbGxiYWNrKG0uc3VjY2VzcyxsLGQpfWVsc2V7RXh0LmNhbGxiYWNrKG0uZmFpbHVyZSxsLGQpfUV4dC5jYWxsYmFjayhtLmNhbGxiYWNrLGwsZCl9O2cuZ2V0UHJveHkoKVtiXShhLGssZyk7cmV0dXJuIGd9LGRlc3Ryb3k6ZnVuY3Rpb24obCl7bD1FeHQuYXBwbHkoe30sbCk7dmFyIGU9dGhpcyxrPWwuc2NvcGV8fGUsaD1lLnN0b3JlcyxiPTAsZCxnLGMsYSxqO0V4dC5hcHBseShsLHtyZWNvcmRzOltlXSxhY3Rpb246ImRlc3Ryb3kifSk7YT1uZXcgRXh0LmRhdGEuT3BlcmF0aW9uKGwpO2o9ZnVuY3Rpb24oaSl7Yz1bZSxpXTtpZihpLndhc1N1Y2Nlc3NmdWwoKSl7Zm9yKGQ9aC5sZW5ndGg7YjxkO2IrKyl7Zz1oW2JdO2cuZmlyZUV2ZW50KCJ3cml0ZSIsZyxpKTtnLmZpcmVFdmVudCgiZGF0YWNoYW5nZWQiLGcpfWUuY2xlYXJMaXN0ZW5lcnMoKTtFeHQuY2FsbGJhY2sobC5zdWNjZXNzLGssYyl9ZWxzZXtFeHQuY2FsbGJhY2sobC5mYWlsdXJlLGssYyl9RXh0LmNhbGxiYWNrKGwuY2FsbGJhY2ssayxjKX07ZS5nZXRQcm94eSgpLmRlc3Ryb3koYSxqLGUpO3JldHVybiBlfSxnZXRJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldCh0aGlzLmlkUHJvcGVydHkpfSxnZXRPYnNlcnZhYmxlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pZH0sc2V0SWQ6ZnVuY3Rpb24oYSl7dGhpcy5zZXQodGhpcy5pZFByb3BlcnR5LGEpO3RoaXMucGhhbnRvbT0hKGF8fGE9PT0wKX0sam9pbjpmdW5jdGlvbihhKXtFeHQuQXJyYXkuaW5jbHVkZSh0aGlzLnN0b3JlcyxhKTt0aGlzLnN0b3JlPXRoaXMuc3RvcmVzWzBdfSx1bmpvaW46ZnVuY3Rpb24oYSl7RXh0LkFycmF5LnJlbW92ZSh0aGlzLnN0b3JlcyxhKTt0aGlzLnN0b3JlPXRoaXMuc3RvcmVzWzBdfHxudWxsfSxhZnRlckVkaXQ6ZnVuY3Rpb24oYSl7dGhpcy5jYWxsU3RvcmUoImFmdGVyRWRpdCIsYSl9LGFmdGVyUmVqZWN0OmZ1bmN0aW9uKCl7dGhpcy5jYWxsU3RvcmUoImFmdGVyUmVqZWN0Iil9LGFmdGVyQ29tbWl0OmZ1bmN0aW9uKCl7dGhpcy5jYWxsU3RvcmUoImFmdGVyQ29tbWl0Iil9LGNhbGxTdG9yZTpmdW5jdGlvbihnKXt2YXIgZD1FeHQuQXJyYXkuY2xvbmUoYXJndW1lbnRzKSxiPXRoaXMuc3RvcmVzLGU9MCxhPWIubGVuZ3RoLGMsaDtkWzBdPXRoaXM7Zm9yKDtlPGE7KytlKXtjPWJbZV07aWYoYyYmdHlwZW9mIGNbZ109PSJmdW5jdGlvbiIpe2NbZ10uYXBwbHkoYyxkKX1oPWMudHJlZVN0b3JlO2lmKGgmJnR5cGVvZiBoW2ddPT0iZnVuY3Rpb24iKXtoW2ddLmFwcGx5KGgsZCl9fX0sZ2V0RGF0YTpmdW5jdGlvbihjKXt2YXIgZD10aGlzLGE9ZC5maWVsZHMuaXRlbXMsaD1hLmxlbmd0aCxnPXt9LGIsZTtmb3IoZT0wO2U8aDtlKyspe2I9YVtlXS5uYW1lO2dbYl09ZC5nZXQoYil9aWYoYz09PXRydWUpe0V4dC5hcHBseShnLGQuZ2V0QXNzb2NpYXRlZERhdGEoKSl9cmV0dXJuIGd9LGdldEFzc29jaWF0ZWREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJlcGFyZUFzc29jaWF0ZWREYXRhKHt9LDEpfSxwcmVwYXJlQXNzb2NpYXRlZERhdGE6ZnVuY3Rpb24odyx6KXt2YXIgeT10aGlzLHQ9eS5hc3NvY2lhdGlvbnMuaXRlbXMsZT10Lmxlbmd0aCx4PXt9LHE9W10sdj1bXSxtPVtdLHAsYixhLG4sZyxsLGssdSxoLGMscyxyLGQsQTtmb3Iocz0wO3M8ZTtzKyspe2M9dFtzXTt1PWMuYXNzb2NpYXRpb25JZDtrPXdbdV07aWYoayYmayE9PXope2NvbnRpbnVlfXdbdV09ejtkPWMudHlwZTtBPWMubmFtZTtpZihkPT0iaGFzTWFueSIpe3A9eVtjLnN0b3JlTmFtZV07eFtBXT1bXTtpZihwJiZwLmdldENvdW50KCk+MCl7Yj1wLmRhdGEuaXRlbXM7aD1iLmxlbmd0aDtmb3Iocj0wO3I8aDtyKyspe2E9YltyXTt4W0FdW3JdPWEuZ2V0RGF0YSgpO3EucHVzaChhKTt2LnB1c2goQSk7bS5wdXNoKHIpfX19ZWxzZXtpZihkPT0iYmVsb25nc1RvInx8ZD09Imhhc09uZSIpe2E9eVtjLmluc3RhbmNlTmFtZV07aWYoYSE9PXVuZGVmaW5lZCl7eFtBXT1hLmdldERhdGEoKTtxLnB1c2goYSk7di5wdXNoKEEpO20ucHVzaCgtMSl9fX19Zm9yKHM9MCxoPXEubGVuZ3RoO3M8aDsrK3Mpe2E9cVtzXTtuPXhbdltzXV07Zz1tW3NdO2w9YS5wcmVwYXJlQXNzb2NpYXRlZERhdGEodyx6KzEpO2lmKGc9PT0tMSl7RXh0LmFwcGx5KG4sbCl9ZWxzZXtFeHQuYXBwbHkobltnXSxsKX19cmV0dXJuIHh9fSk7RXh0LmRlZmluZSgiRXh0LmRhdGEuU3RvcmVNYW5hZ2VyIix7ZXh0ZW5kOiJFeHQudXRpbC5NaXhlZENvbGxlY3Rpb24iLGFsdGVybmF0ZUNsYXNzTmFtZTpbIkV4dC5TdG9yZU1nciIsIkV4dC5kYXRhLlN0b3JlTWdyIiwiRXh0LlN0b3JlTWFuYWdlciJdLHNpbmdsZXRvbjp0cnVlLHVzZXM6WyJFeHQuZGF0YS5BcnJheVN0b3JlIl0scmVnaXN0ZXI6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiOyhiPWFyZ3VtZW50c1thXSk7YSsrKXt0aGlzLmFkZChiKX19LHVucmVnaXN0ZXI6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiOyhiPWFyZ3VtZW50c1thXSk7YSsrKXt0aGlzLnJlbW92ZSh0aGlzLmxvb2t1cChiKSl9fSxsb29rdXA6ZnVuY3Rpb24oYyl7aWYoRXh0LmlzQXJyYXkoYykpe3ZhciBiPVsiZmllbGQxIl0sZT0hRXh0LmlzQXJyYXkoY1swXSksZz1jLGQsYTtpZihlKXtnPVtdO2ZvcihkPTAsYT1jLmxlbmd0aDtkPGE7KytkKXtnLnB1c2goW2NbZF1dKX19ZWxzZXtmb3IoZD0yLGE9Y1swXS5sZW5ndGg7ZDw9YTsrK2Qpe2IucHVzaCgiZmllbGQiK2QpfX1yZXR1cm4gbmV3IEV4dC5kYXRhLkFycmF5U3RvcmUoe2RhdGE6ZyxmaWVsZHM6YixhdXRvRGVzdHJveTp0cnVlLGF1dG9DcmVhdGVkOnRydWUsZXhwYW5kZWQ6ZX0pfWlmKEV4dC5pc1N0cmluZyhjKSl7cmV0dXJuIHRoaXMuZ2V0KGMpfWVsc2V7cmV0dXJuIEV4dC5kYXRhLkFic3RyYWN0U3RvcmUuY3JlYXRlKGMpfX0sZ2V0S2V5OmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0b3JlSWR9fSxmdW5jdGlvbigpe0V4dC5yZWdTdG9yZT1mdW5jdGlvbihjLGIpe3ZhciBhO2lmKEV4dC5pc09iamVjdChjKSl7Yj1jfWVsc2V7Yi5zdG9yZUlkPWN9aWYoYiBpbnN0YW5jZW9mIEV4dC5kYXRhLlN0b3JlKXthPWJ9ZWxzZXthPW5ldyBFeHQuZGF0YS5TdG9yZShiKX1yZXR1cm4gRXh0LmRhdGEuU3RvcmVNYW5hZ2VyLnJlZ2lzdGVyKGEpfTtFeHQuZ2V0U3RvcmU9ZnVuY3Rpb24oYSl7cmV0dXJuIEV4dC5kYXRhLlN0b3JlTWFuYWdlci5sb29rdXAoYSl9fSk7RXh0LmRlZmluZSgiRXh0LmRhdGEuVHJlZVN0b3JlIix7ZXh0ZW5kOiJFeHQuZGF0YS5BYnN0cmFjdFN0b3JlIixhbGlhczoic3RvcmUudHJlZSIscmVxdWlyZXM6WyJFeHQudXRpbC5Tb3J0ZXIiLCJFeHQuZGF0YS5UcmVlIiwiRXh0LmRhdGEuTm9kZUludGVyZmFjZSJdLGNsZWFyT25Mb2FkOnRydWUsY2xlYXJSZW1vdmVkT25Mb2FkOnRydWUsbm9kZVBhcmFtOiJub2RlIixkZWZhdWx0Um9vdElkOiJyb290IixkZWZhdWx0Um9vdFByb3BlcnR5OiJjaGlsZHJlbiIsZm9sZGVyU29ydDpmYWxzZSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihjKXt2YXIgZD10aGlzLGIsYTtjPUV4dC5hcHBseSh7fSxjKTthPWMuZmllbGRzfHxkLmZpZWxkcztpZighYSl7Yy5maWVsZHM9W3tuYW1lOiJ0ZXh0Iix0eXBlOiJzdHJpbmcifV19ZC5jYWxsUGFyZW50KFtjXSk7ZC50cmVlPW5ldyBFeHQuZGF0YS5UcmVlKCk7ZC5yZWxheUV2ZW50cyhkLnRyZWUsWyJhcHBlbmQiLCJyZW1vdmUiLCJtb3ZlIiwiaW5zZXJ0IiwiYmVmb3JlYXBwZW5kIiwiYmVmb3JlcmVtb3ZlIiwiYmVmb3JlbW92ZSIsImJlZm9yZWluc2VydCIsImV4cGFuZCIsImNvbGxhcHNlIiwiYmVmb3JlZXhwYW5kIiwiYmVmb3JlY29sbGFwc2UiLCJzb3J0Iiwicm9vdGNoYW5nZSJdKTtkLnRyZWUub24oe3Njb3BlOmQscmVtb3ZlOmQub25Ob2RlUmVtb3ZlLGJlZm9yZWV4cGFuZDpkLm9uQmVmb3JlTm9kZUV4cGFuZCxiZWZvcmVjb2xsYXBzZTpkLm9uQmVmb3JlTm9kZUNvbGxhcHNlLGFwcGVuZDpkLm9uTm9kZUFkZGVkLGluc2VydDpkLm9uTm9kZUFkZGVkLHNvcnQ6ZC5vbk5vZGVTb3J0fSk7ZC5vbkJlZm9yZVNvcnQoKTtiPWQucm9vdDtpZihiKXtkZWxldGUgZC5yb290O2Quc2V0Um9vdE5vZGUoYil9aWYoRXh0LmlzRGVmaW5lZChkLm5vZGVQYXJhbWV0ZXIpKXtpZihFeHQuaXNEZWZpbmVkKEV4dC5nbG9iYWwuY29uc29sZSkpe0V4dC5nbG9iYWwuY29uc29sZS53YXJuKCJFeHQuZGF0YS5UcmVlU3RvcmU6IG5vZGVQYXJhbWV0ZXIgaGFzIGJlZW4gZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBub2RlUGFyYW0gaW5zdGVhZC4iKX1kLm5vZGVQYXJhbT1kLm5vZGVQYXJhbWV0ZXI7ZGVsZXRlIGQubm9kZVBhcmFtZXRlcn19LHNldFByb3h5OmZ1bmN0aW9uKGMpe3ZhciBhLGI7aWYoYyBpbnN0YW5jZW9mIEV4dC5kYXRhLnByb3h5LlByb3h5KXtiPUV4dC5pc0VtcHR5KGMuZ2V0UmVhZGVyKCkucm9vdCl9ZWxzZXtpZihFeHQuaXNTdHJpbmcoYykpe2I9dHJ1ZX1lbHNle2E9Yy5yZWFkZXI7Yj0hKGEmJiFFeHQuaXNFbXB0eShhLnJvb3QpKX19Yz10aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihiKXthPWMuZ2V0UmVhZGVyKCk7YS5yb290PXRoaXMuZGVmYXVsdFJvb3RQcm9wZXJ0eTthLmJ1aWxkRXh0cmFjdG9ycyh0cnVlKX19LG9uQmVmb3JlU29ydDpmdW5jdGlvbigpe2lmKHRoaXMuZm9sZGVyU29ydCl7dGhpcy5zb3J0KHtwcm9wZXJ0eToibGVhZiIsZGlyZWN0aW9uOiJBU0MifSwicHJlcGVuZCIsZmFsc2UpfX0sb25CZWZvcmVOb2RlRXhwYW5kOmZ1bmN0aW9uKGIsYyxhKXtpZihiLmlzTG9hZGVkKCkpe0V4dC5jYWxsYmFjayhjLGF8fGIsW2IuY2hpbGROb2Rlc10pfWVsc2V7aWYoYi5pc0xvYWRpbmcoKSl7dGhpcy5vbigibG9hZCIsZnVuY3Rpb24oKXtFeHQuY2FsbGJhY2soYyxhfHxiLFtiLmNoaWxkTm9kZXNdKX0sdGhpcyx7c2luZ2xlOnRydWV9KX1lbHNle3RoaXMucmVhZCh7bm9kZTpiLGNhbGxiYWNrOmZ1bmN0aW9uKCl7RXh0LmNhbGxiYWNrKGMsYXx8YixbYi5jaGlsZE5vZGVzXSl9fSl9fX0sZ2V0TmV3UmVjb3JkczpmdW5jdGlvbigpe3JldHVybiBFeHQuQXJyYXkuZmlsdGVyKHRoaXMudHJlZS5mbGF0dGVuKCksdGhpcy5maWx0ZXJOZXcpfSxnZXRVcGRhdGVkUmVjb3JkczpmdW5jdGlvbigpe3JldHVybiBFeHQuQXJyYXkuZmlsdGVyKHRoaXMudHJlZS5mbGF0dGVuKCksdGhpcy5maWx0ZXJVcGRhdGVkKX0sb25CZWZvcmVOb2RlQ29sbGFwc2U6ZnVuY3Rpb24oYixjLGEpe2MuY2FsbChhfHxiLGIuY2hpbGROb2Rlcyl9LG9uTm9kZVJlbW92ZTpmdW5jdGlvbihiLGQsYSl7dmFyIGM9dGhpcyxlPWMucmVtb3ZlZDtpZighZC5pc1JlcGxhY2UmJkV4dC5BcnJheS5pbmRleE9mKGUsZCk9PS0xKXtlLnB1c2goZCl9aWYoYy5hdXRvU3luYyYmIWMuYXV0b1N5bmNTdXNwZW5kZWQmJiFhKXtjLnN5bmMoKX19LG9uTm9kZUFkZGVkOmZ1bmN0aW9uKGMsZSl7dmFyIGQ9dGhpcyxiPWQuZ2V0UHJveHkoKSxhPWIuZ2V0UmVhZGVyKCksZz1lLnJhd3x8ZVtlLnBlcnNpc3RlbmNlUHJvcGVydHldLGg7RXh0LkFycmF5LnJlbW92ZShkLnJlbW92ZWQsZSk7aWYoIWUuaXNMZWFmKCkpe2g9YS5nZXRSb290KGcpO2lmKGgpe2QuZmlsbE5vZGUoZSxhLmV4dHJhY3REYXRhKGgpKTtkZWxldGUgZ1thLnJvb3RdfX1pZihkLmF1dG9TeW5jJiYhZC5hdXRvU3luY1N1c3BlbmRlZCYmKGUucGhhbnRvbXx8ZS5kaXJ0eSkpe2Quc3luYygpfX0sb25Ob2RlU29ydDpmdW5jdGlvbigpe2lmKHRoaXMuYXV0b1N5bmMmJiF0aGlzLmF1dG9TeW5jU3VzcGVuZGVkKXt0aGlzLnN5bmMoKX19LHNldFJvb3ROb2RlOmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpczthPWF8fHt9O2lmKCFhLmlzTW9kZWwpe0V4dC5hcHBseUlmKGEse2lkOmIuZGVmYXVsdFJvb3RJZCx0ZXh0OiJSb290IixhbGxvd0RyYWc6ZmFsc2V9KTtFeHQuZGF0YS5Ob2RlSW50ZXJmYWNlLmRlY29yYXRlKGIubW9kZWwpO2E9RXh0Lk1vZGVsTWFuYWdlci5jcmVhdGUoYSxiLm1vZGVsKX1lbHNle2lmKGEuaXNNb2RlbCYmIWEuaXNOb2RlKXtFeHQuZGF0YS5Ob2RlSW50ZXJmYWNlLmRlY29yYXRlKGIubW9kZWwpfX1iLmdldFByb3h5KCkuZ2V0UmVhZGVyKCkuYnVpbGRFeHRyYWN0b3JzKHRydWUpO2IudHJlZS5zZXRSb290Tm9kZShhKTtpZihjIT09dHJ1ZSYmIWEuaXNMb2FkZWQoKSYmKGIuYXV0b0xvYWQ9PT10cnVlfHxhLmlzRXhwYW5kZWQoKSkpe2IubG9hZCh7bm9kZTphfSl9cmV0dXJuIGF9LGdldFJvb3ROb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudHJlZS5nZXRSb290Tm9kZSgpfSxnZXROb2RlQnlJZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50cmVlLmdldE5vZGVCeUlkKGEpfSxsb2FkOmZ1bmN0aW9uKGIpe2I9Ynx8e307Yi5wYXJhbXM9Yi5wYXJhbXN8fHt9O3ZhciBkPXRoaXMsYz1iLm5vZGV8fGQudHJlZS5nZXRSb290Tm9kZSgpLGE7aWYoIWMpe2M9ZC5zZXRSb290Tm9kZSh7ZXhwYW5kZWQ6dHJ1ZX0sdHJ1ZSl9aWYoZC5jbGVhck9uTG9hZCl7aWYoZC5jbGVhclJlbW92ZWRPbkxvYWQpe2QuY2xlYXJSZW1vdmVkKGMpfWQudHJlZS51bigicmVtb3ZlIixkLm9uTm9kZVJlbW92ZSxkKTtjLnJlbW92ZUFsbChmYWxzZSk7ZC50cmVlLm9uKCJyZW1vdmUiLGQub25Ob2RlUmVtb3ZlLGQpfUV4dC5hcHBseUlmKGIse25vZGU6Y30pO2IucGFyYW1zW2Qubm9kZVBhcmFtXT1jP2MuZ2V0SWQoKToicm9vdCI7aWYoYyl7Yy5zZXQoImxvYWRpbmciLHRydWUpfXJldHVybiBkLmNhbGxQYXJlbnQoW2JdKX0sY2xlYXJSZW1vdmVkOmZ1bmN0aW9uKGIpe3ZhciBrPXRoaXMsZT1rLnJlbW92ZWQsYT1iLmdldElkKCksZD1lLmxlbmd0aCxjPWQsbj17fSxoPVtdLG09e30saixnLGw7aWYoYj09PWsuZ2V0Um9vdE5vZGUoKSl7ay5yZW1vdmVkPVtdO3JldHVybn1mb3IoO2MtLTspe2o9ZVtjXTttW2ouZ2V0SWQoKV09an1mb3IoYz1kO2MtLTspe2o9ZVtjXTtnPWo7d2hpbGUoZyYmZy5nZXRJZCgpIT09YSl7bD1nLmdldCgicGFyZW50SWQiKTtnPWcucGFyZW50Tm9kZXx8ay5nZXROb2RlQnlJZChsKXx8bVtsXX1pZihnKXtuW2ouZ2V0SWQoKV09an19Zm9yKGM9MDtjPGQ7YysrKXtqPWVbY107aWYoIW5bai5nZXRJZCgpXSl7aC5wdXNoKGopfX1rLnJlbW92ZWQ9aH0sZmlsbE5vZGU6ZnVuY3Rpb24oYixjKXt2YXIgaD10aGlzLGU9Yz9jLmxlbmd0aDowLGc9aC5zb3J0ZXJzLGQsayxqPWZhbHNlLGE9ZSYmaC5zb3J0T25Mb2FkJiYhaC5yZW1vdGVTb3J0JiZnJiZnLml0ZW1zJiZnLml0ZW1zLmxlbmd0aCxtLGw7Zm9yKGQ9MTtkPGU7ZCsrKXttPWNbZF07bD1jW2QtMV07aj1tW20ucGVyc2lzdGVuY2VQcm9wZXJ0eV0uaW5kZXghPWxbbC5wZXJzaXN0ZW5jZVByb3BlcnR5XS5pbmRleDtpZihqKXticmVha319aWYoYSl7aWYoail7aC5zb3J0ZXJzLmluc2VydCgwLGguaW5kZXhTb3J0ZXIpfWs9bmV3IEV4dC51dGlsLk1peGVkQ29sbGVjdGlvbigpO2suYWRkQWxsKGMpO2suc29ydChoLnNvcnRlcnMuaXRlbXMpO2M9ay5pdGVtcztoLnNvcnRlcnMucmVtb3ZlKGguaW5kZXhTb3J0ZXIpfWVsc2V7aWYoail7RXh0LkFycmF5LnNvcnQoYyxoLnNvcnRCeUluZGV4KX19Yi5zZXQoImxvYWRlZCIsdHJ1ZSk7Zm9yKGQ9MDtkPGU7ZCsrKXtiLmFwcGVuZENoaWxkKGNbZF0sdW5kZWZpbmVkLHRydWUpfXJldHVybiBjfSxzb3J0QnlJbmRleDpmdW5jdGlvbihiLGEpe3JldHVybiBiW2IucGVyc2lzdGVuY2VQcm9wZXJ0eV0uaW5kZXgtYVthLnBlcnNpc3RlbmNlUHJvcGVydHldLmluZGV4fSxvblByb3h5TG9hZDpmdW5jdGlvbihjKXt2YXIgaj10aGlzLGU9Yy53YXNTdWNjZXNzZnVsKCksYj1jLmdldFJlY29yZHMoKSxhPWMubm9kZSxoLGssZyxkO2oubG9hZGluZz1mYWxzZTthLnNldCgibG9hZGluZyIsZmFsc2UpO2lmKGUpe2lmKCFqLmNsZWFyT25Mb2FkKXtiPWouY2xlYW5SZWNvcmRzKGEsYil9Yj1qLmZpbGxOb2RlKGEsYil9ai5maXJlRXZlbnQoInJlYWQiLGosYy5ub2RlLGIsZSk7ai5maXJlRXZlbnQoImxvYWQiLGosYy5ub2RlLGIsZSk7RXh0LmNhbGxiYWNrKGMuY2FsbGJhY2ssYy5zY29wZXx8aixbYixjLGVdKX0sY2xlYW5SZWNvcmRzOmZ1bmN0aW9uKGcsYil7dmFyIGU9e30saj1nLmNoaWxkTm9kZXMsZD0wLGE9ai5sZW5ndGgsYz1bXSxoO2Zvcig7ZDxhOysrZCl7ZVtqW2RdLmdldElkKCldPXRydWV9Zm9yKGQ9MCxhPWIubGVuZ3RoO2Q8YTsrK2Qpe2g9YltkXTtpZighZVtoLmdldElkKCldKXtjLnB1c2goaCl9fXJldHVybiBjfSxyZW1vdmVBbGw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFJvb3ROb2RlKCk7aWYoYSl7YS5kZXN0cm95KHRydWUpfXRoaXMuZmlyZUV2ZW50KCJjbGVhciIsdGhpcyl9LGRvU29ydDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKGIucmVtb3RlU29ydCl7Yi5sb2FkKCl9ZWxzZXtiLnRyZWUuc29ydChhLHRydWUpO2IuZmlyZUV2ZW50KCJkYXRhY2hhbmdlZCIsYik7Yi5maXJlRXZlbnQoInJlZnJlc2giLGIpfWIuZmlyZUV2ZW50KCJzb3J0IixiKX19LGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5wcm90b3R5cGU7YS5pbmRleFNvcnRlcj1uZXcgRXh0LnV0aWwuU29ydGVyKHtzb3J0ZXJGbjphLnNvcnRCeUluZGV4fSl9KTtFeHQuZGVmaW5lKCJFeHQuZGF0YS5wcm94eS5BamF4Iix7cmVxdWlyZXM6WyJFeHQudXRpbC5NaXhlZENvbGxlY3Rpb24iLCJFeHQuQWpheCJdLGV4dGVuZDoiRXh0LmRhdGEucHJveHkuU2VydmVyIixhbGlhczoicHJveHkuYWpheCIsYWx0ZXJuYXRlQ2xhc3NOYW1lOlsiRXh0LmRhdGEuSHR0cFByb3h5IiwiRXh0LmRhdGEuQWpheFByb3h5Il0sYWN0aW9uTWV0aG9kczp7Y3JlYXRlOiJQT1NUIixyZWFkOiJHRVQiLHVwZGF0ZToiUE9TVCIsZGVzdHJveToiUE9TVCJ9LGRvUmVxdWVzdDpmdW5jdGlvbihhLGUsYil7dmFyIGQ9dGhpcy5nZXRXcml0ZXIoKSxjPXRoaXMuYnVpbGRSZXF1ZXN0KGEsZSxiKTtpZihhLmFsbG93V3JpdGUoKSl7Yz1kLndyaXRlKGMpfUV4dC5hcHBseShjLHtoZWFkZXJzOnRoaXMuaGVhZGVycyx0aW1lb3V0OnRoaXMudGltZW91dCxzY29wZTp0aGlzLGNhbGxiYWNrOnRoaXMuY3JlYXRlUmVxdWVzdENhbGxiYWNrKGMsYSxlLGIpLG1ldGhvZDp0aGlzLmdldE1ldGhvZChjKSxkaXNhYmxlQ2FjaGluZzpmYWxzZX0pO0V4dC5BamF4LnJlcXVlc3QoYyk7cmV0dXJuIGN9LGdldE1ldGhvZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hY3Rpb25NZXRob2RzW2EuYWN0aW9uXX0sY3JlYXRlUmVxdWVzdENhbGxiYWNrOmZ1bmN0aW9uKGQsYSxlLGIpe3ZhciBjPXRoaXM7cmV0dXJuIGZ1bmN0aW9uKGgsaSxnKXtjLnByb2Nlc3NSZXNwb25zZShpLGEsZCxnLGUsYil9fX0sZnVuY3Rpb24oKXtFeHQuZGF0YS5IdHRwUHJveHk9dGhpc30pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLlN0b3JlIix7ZXh0ZW5kOiJFeHQuZGF0YS5BYnN0cmFjdFN0b3JlIixhbGlhczoic3RvcmUuc3RvcmUiLHJlcXVpcmVzOlsiRXh0LmRhdGEuU3RvcmVNYW5hZ2VyIiwiRXh0LmRhdGEuTW9kZWwiLCJFeHQuZGF0YS5wcm94eS5BamF4IiwiRXh0LmRhdGEucHJveHkuTWVtb3J5IiwiRXh0LmRhdGEucmVhZGVyLkpzb24iLCJFeHQuZGF0YS53cml0ZXIuSnNvbiIsIkV4dC51dGlsLkxydUNhY2hlIl0sdXNlczpbIkV4dC5Nb2RlbE1hbmFnZXIiLCJFeHQudXRpbC5Hcm91cGVyIl0scmVtb3RlU29ydDpmYWxzZSxyZW1vdGVGaWx0ZXI6ZmFsc2UscmVtb3RlR3JvdXA6ZmFsc2UsZ3JvdXBGaWVsZDp1bmRlZmluZWQsZ3JvdXBEaXI6IkFTQyIsdHJhaWxpbmdCdWZmZXJab25lOjI1LGxlYWRpbmdCdWZmZXJab25lOjIwMCxwYWdlU2l6ZTp1bmRlZmluZWQsY3VycmVudFBhZ2U6MSxjbGVhck9uUGFnZUxvYWQ6dHJ1ZSxsb2FkaW5nOmZhbHNlLHNvcnRPbkZpbHRlcjp0cnVlLGJ1ZmZlcmVkOmZhbHNlLHB1cmdlUGFnZUNvdW50OjUsY2xlYXJSZW1vdmVkT25Mb2FkOnRydWUsZGVmYXVsdFBhZ2VTaXplOjI1LHN0YXRpY3M6e3JlY29yZElkRm46ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaW50ZXJuYWxJZH0scmVjb3JkSW5kZXhGbjpmdW5jdGlvbihhKXtyZXR1cm4gYS5pbmRleH19LG9uQ2xhc3NFeHRlbmRlZDpmdW5jdGlvbihiLGQsYSl7dmFyIGM9ZC5tb2RlbCxlO2lmKHR5cGVvZiBjPT0ic3RyaW5nIil7ZT1hLm9uQmVmb3JlQ3JlYXRlZDthLm9uQmVmb3JlQ3JlYXRlZD1mdW5jdGlvbigpe3ZhciBoPXRoaXMsZz1hcmd1bWVudHM7RXh0LnJlcXVpcmUoYyxmdW5jdGlvbigpe2UuYXBwbHkoaCxnKX0pfX19LGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGIpe2I9RXh0Lk9iamVjdC5tZXJnZSh7fSxiKTt2YXIgZD10aGlzLGc9Yi5ncm91cGVyc3x8ZC5ncm91cGVycyxhPWIuZ3JvdXBGaWVsZHx8ZC5ncm91cEZpZWxkLGMsZTtlPWIuZGF0YXx8ZC5kYXRhO2QuZGF0YT1uZXcgRXh0LnV0aWwuTWl4ZWRDb2xsZWN0aW9uKGZhbHNlLEV4dC5kYXRhLlN0b3JlLnJlY29yZElkRm4pO2lmKGUpe2QuaW5saW5lRGF0YT1lO2RlbGV0ZSBiLmRhdGF9aWYoIWcmJmEpe2c9W3twcm9wZXJ0eTphLGRpcmVjdGlvbjpiLmdyb3VwRGlyfHxkLmdyb3VwRGlyfV19ZGVsZXRlIGIuZ3JvdXBlcnM7ZC5ncm91cGVycz1uZXcgRXh0LnV0aWwuTWl4ZWRDb2xsZWN0aW9uKCk7ZC5ncm91cGVycy5hZGRBbGwoZC5kZWNvZGVHcm91cGVycyhnKSk7dGhpcy5jYWxsUGFyZW50KFtiXSk7aWYoZC5idWZmZXJlZCl7ZC5wYWdlTWFwPW5ldyBkLlBhZ2VNYXAoe3BhZ2VTaXplOmQucGFnZVNpemUsbWF4U2l6ZTpkLnB1cmdlUGFnZUNvdW50LGxpc3RlbmVyczp7Y2xlYXI6ZC5jYW5jZWxBbGxQcmVmZXRjaGVzLHNjb3BlOmR9fSk7ZC5wYWdlUmVxdWVzdHM9e307ZC5zb3J0T25Mb2FkPWZhbHNlO2QuZmlsdGVyT25Mb2FkPWZhbHNlfWlmKGQuZ3JvdXBlcnMuaXRlbXMubGVuZ3RoKXtkLnNvcnQoZC5ncm91cGVycy5pdGVtcywicHJlcGVuZCIsZmFsc2UpfWM9ZC5wcm94eTtlPWQuaW5saW5lRGF0YTtpZighZC5idWZmZXJlZCYmIWQucGFnZVNpemUpe2QucGFnZVNpemU9ZC5kZWZhdWx0UGFnZVNpemV9aWYoZSl7aWYoYyBpbnN0YW5jZW9mIEV4dC5kYXRhLnByb3h5Lk1lbW9yeSl7Yy5kYXRhPWU7ZC5yZWFkKCl9ZWxzZXtkLmFkZC5hcHBseShkLFtlXSl9ZC5zb3J0KCk7ZGVsZXRlIGQuaW5saW5lRGF0YX1lbHNle2lmKGQuYXV0b0xvYWQpe0V4dC5kZWZlcihkLmxvYWQsMTAsZCxbdHlwZW9mIGQuYXV0b0xvYWQ9PT0ib2JqZWN0Ij9kLmF1dG9Mb2FkOnVuZGVmaW5lZF0pfX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXtpZih0aGlzLnBhZ2VNYXApe3RoaXMucGFnZU1hcC5jbGVhcigpfXRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxvbkJlZm9yZVNvcnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdyb3VwZXJzO2lmKGEuZ2V0Q291bnQoKT4wKXt0aGlzLnNvcnQoYS5pdGVtcywicHJlcGVuZCIsZmFsc2UpfX0sZGVjb2RlR3JvdXBlcnM6ZnVuY3Rpb24oZSl7aWYoIUV4dC5pc0FycmF5KGUpKXtpZihlPT09dW5kZWZpbmVkKXtlPVtdfWVsc2V7ZT1bZV19fXZhciBkPWUubGVuZ3RoLGc9RXh0LnV0aWwuR3JvdXBlcixiLGMsYT1bXTtmb3IoYz0wO2M8ZDtjKyspe2I9ZVtjXTtpZighKGIgaW5zdGFuY2VvZiBnKSl7aWYoRXh0LmlzU3RyaW5nKGIpKXtiPXtwcm9wZXJ0eTpifX1iPUV4dC5hcHBseSh7cm9vdDoiZGF0YSIsZGlyZWN0aW9uOiJBU0MifSxiKTtpZihiLmZuKXtiLnNvcnRlckZuPWIuZm59aWYodHlwZW9mIGI9PSJmdW5jdGlvbiIpe2I9e3NvcnRlckZuOmJ9fWEucHVzaChuZXcgZyhiKSl9ZWxzZXthLnB1c2goYil9fXJldHVybiBhfSxncm91cDpmdW5jdGlvbihlLGcpe3ZhciBkPXRoaXMsYz1mYWxzZSxiLGE7aWYoRXh0LmlzQXJyYXkoZSkpe2E9ZX1lbHNle2lmKEV4dC5pc09iamVjdChlKSl7YT1bZV19ZWxzZXtpZihFeHQuaXNTdHJpbmcoZSkpe2I9ZC5ncm91cGVycy5nZXQoZSk7aWYoIWIpe2I9e3Byb3BlcnR5OmUsZGlyZWN0aW9uOmd9O2E9W2JdfWVsc2V7aWYoZz09PXVuZGVmaW5lZCl7Yi50b2dnbGUoKX1lbHNle2Iuc2V0RGlyZWN0aW9uKGcpfX19fX1pZihhJiZhLmxlbmd0aCl7Yz10cnVlO2E9ZC5kZWNvZGVHcm91cGVycyhhKTtkLmdyb3VwZXJzLmNsZWFyKCk7ZC5ncm91cGVycy5hZGRBbGwoYSl9aWYoZC5yZW1vdGVHcm91cCl7ZC5sb2FkKHtzY29wZTpkLGNhbGxiYWNrOmQuZmlyZUdyb3VwQ2hhbmdlfSl9ZWxzZXtkLnNvcnQobnVsbCxudWxsLG51bGwsYyk7ZC5maXJlR3JvdXBDaGFuZ2UoKX19LGNsZWFyR3JvdXBpbmc6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGU9ZC5ncm91cGVycy5pdGVtcyxjPWUubGVuZ3RoLGEsYjtmb3IoYj0wO2I8YztiKyspe2E9ZVtiXTtkLnNvcnRlcnMucmVtb3ZlKGEpfWQuZ3JvdXBlcnMuY2xlYXIoKTtpZihkLnJlbW90ZUdyb3VwKXtkLmxvYWQoe3Njb3BlOmQsY2FsbGJhY2s6ZC5maXJlR3JvdXBDaGFuZ2V9KX1lbHNle2Quc29ydCgpO2QuZmlyZUV2ZW50KCJncm91cGNoYW5nZSIsZCxkLmdyb3VwZXJzKX19LGlzR3JvdXBlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdyb3VwZXJzLmdldENvdW50KCk+MH0sZmlyZUdyb3VwQ2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5maXJlRXZlbnQoImdyb3VwY2hhbmdlIix0aGlzLHRoaXMuZ3JvdXBlcnMpfSxnZXRHcm91cHM6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcy5kYXRhLml0ZW1zLGE9ZC5sZW5ndGgsYz1bXSxrPXt9LGcsaCxqLGU7Zm9yKGU9MDtlPGE7ZSsrKXtnPWRbZV07aD10aGlzLmdldEdyb3VwU3RyaW5nKGcpO2o9a1toXTtpZihqPT09dW5kZWZpbmVkKXtqPXtuYW1lOmgsY2hpbGRyZW46W119O2MucHVzaChqKTtrW2hdPWp9ai5jaGlsZHJlbi5wdXNoKGcpfXJldHVybiBiP2tbYl06Y30sZ2V0R3JvdXBzRm9yR3JvdXBlcjpmdW5jdGlvbihnLGIpe3ZhciBkPWcubGVuZ3RoLGU9W10sYSxjLGosayxoO2ZvcihoPTA7aDxkO2grKyl7aj1nW2hdO2M9Yi5nZXRHcm91cFN0cmluZyhqKTtpZihjIT09YSl7az17bmFtZTpjLGdyb3VwZXI6YixyZWNvcmRzOltdfTtlLnB1c2goayl9ay5yZWNvcmRzLnB1c2goaik7YT1jfXJldHVybiBlfSxnZXRHcm91cHNGb3JHcm91cGVySW5kZXg6ZnVuY3Rpb24oYyxqKXt2YXIgZz10aGlzLGg9Zy5ncm91cGVycyxiPWguZ2V0QXQoaiksYT1nLmdldEdyb3Vwc0Zvckdyb3VwZXIoYyxiKSxlPWEubGVuZ3RoLGQ7aWYoaisxPGgubGVuZ3RoKXtmb3IoZD0wO2Q8ZTtkKyspe2FbZF0uY2hpbGRyZW49Zy5nZXRHcm91cHNGb3JHcm91cGVySW5kZXgoYVtkXS5yZWNvcmRzLGorMSl9fWZvcihkPTA7ZDxlO2QrKyl7YVtkXS5kZXB0aD1qfXJldHVybiBhfSxnZXRHcm91cERhdGE6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZihhIT09ZmFsc2Upe2Iuc29ydCgpfXJldHVybiBiLmdldEdyb3Vwc0Zvckdyb3VwZXJJbmRleChiLmRhdGEuaXRlbXMsMCl9LGdldEdyb3VwU3RyaW5nOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ3JvdXBlcnMuZmlyc3QoKTtpZihiKXtyZXR1cm4gYS5nZXQoYi5wcm9wZXJ0eSl9cmV0dXJuIiJ9LGluc2VydDpmdW5jdGlvbihkLGMpe3ZhciBoPXRoaXMsZz1mYWxzZSxlLGIsYTtjPVtdLmNvbmNhdChjKTtmb3IoZT0wLGE9Yy5sZW5ndGg7ZTxhO2UrKyl7Yj1oLmNyZWF0ZU1vZGVsKGNbZV0pO2Iuc2V0KGgubW9kZWxEZWZhdWx0cyk7Y1tlXT1iO2guZGF0YS5pbnNlcnQoZCtlLGIpO2Iuam9pbihoKTtnPWd8fGIucGhhbnRvbT09PXRydWV9aWYoaC5zbmFwc2hvdCl7aC5zbmFwc2hvdC5hZGRBbGwoYyl9aWYoaC5yZXF1aXJlU29ydCl7aC5zdXNwZW5kRXZlbnRzKCk7aC5zb3J0KCk7aC5yZXN1bWVFdmVudHMoKX1oLmZpcmVFdmVudCgiYWRkIixoLGMsZCk7aC5maXJlRXZlbnQoImRhdGFjaGFuZ2VkIixoKTtpZihoLmF1dG9TeW5jJiZnJiYhaC5hdXRvU3luY1N1c3BlbmRlZCl7aC5zeW5jKCl9fSxhZGQ6ZnVuY3Rpb24oYil7aWYoIUV4dC5pc0FycmF5KGIpKXtiPUFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShhcmd1bWVudHMpfWVsc2V7Yj1iLnNsaWNlKDApfXZhciBlPXRoaXMsYz0wLGQ9Yi5sZW5ndGgsYSxnPWUuc29ydGVycyYmZS5zb3J0ZXJzLml0ZW1zLmxlbmd0aDtpZihnJiZkPT09MSl7cmV0dXJuW2UuYWRkU29ydGVkKGUuY3JlYXRlTW9kZWwoYlswXSkpXX1mb3IoO2M8ZDtjKyspe2E9ZS5jcmVhdGVNb2RlbChiW2NdKTtiW2NdPWF9aWYoZyl7ZS5yZXF1aXJlU29ydD10cnVlfWUuaW5zZXJ0KGUuZGF0YS5sZW5ndGgsYik7ZGVsZXRlIGUucmVxdWlyZVNvcnQ7cmV0dXJuIGJ9LGFkZFNvcnRlZDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGI9Yy5kYXRhLmZpbmRJbnNlcnRpb25JbmRleChhLGMuZ2VuZXJhdGVDb21wYXJhdG9yKCkpO2MuaW5zZXJ0KGIsYSk7cmV0dXJuIGF9LGNyZWF0ZU1vZGVsOmZ1bmN0aW9uKGEpe2lmKCFhLmlzTW9kZWwpe2E9RXh0Lk1vZGVsTWFuYWdlci5jcmVhdGUoYSx0aGlzLm1vZGVsKX1yZXR1cm4gYX0sZWFjaDpmdW5jdGlvbihlLGMpe3ZhciBnPXRoaXMuZGF0YS5pdGVtcyxiPWcubGVuZ3RoLGEsaDtmb3IoaD0wO2g8YjtoKyspe2E9Z1toXTtpZihlLmNhbGwoY3x8YSxhLGgsYik9PT1mYWxzZSl7YnJlYWt9fX0scmVtb3ZlOmZ1bmN0aW9uKGIsayl7aWYoIUV4dC5pc0FycmF5KGIpKXtiPVtiXX1rPWs9PT10cnVlO3ZhciBnPXRoaXMsaD1mYWxzZSxjPTAsYT1iLmxlbmd0aCxqLGUsZDtmb3IoO2M8YTtjKyspe2Q9YltjXTtlPWcuZGF0YS5pbmRleE9mKGQpO2lmKGcuc25hcHNob3Qpe2cuc25hcHNob3QucmVtb3ZlKGQpfWlmKGU+LTEpe2o9ZC5waGFudG9tPT09dHJ1ZTtpZighayYmIWope2cucmVtb3ZlZC5wdXNoKGQpfWQudW5qb2luKGcpO2cuZGF0YS5yZW1vdmUoZCk7aD1ofHwhajtnLmZpcmVFdmVudCgicmVtb3ZlIixnLGQsZSl9fWcuZmlyZUV2ZW50KCJkYXRhY2hhbmdlZCIsZyk7aWYoIWsmJmcuYXV0b1N5bmMmJmgmJiFnLmF1dG9TeW5jU3VzcGVuZGVkKXtnLnN5bmMoKX19LHJlbW92ZUF0OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuZ2V0QXQoYik7aWYoYSl7dGhpcy5yZW1vdmUoYSl9fSxsb2FkOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YT1hfHx7fTtpZih0eXBlb2YgYT09ImZ1bmN0aW9uIil7YT17Y2FsbGJhY2s6YX19YS5ncm91cGVycz1hLmdyb3VwZXJzfHxiLmdyb3VwZXJzLml0ZW1zO2EucGFnZT1hLnBhZ2V8fGIuY3VycmVudFBhZ2U7YS5zdGFydD0oYS5zdGFydCE9PXVuZGVmaW5lZCk/YS5zdGFydDooYi5jdXJyZW50UGFnZS0xKSpiLnBhZ2VTaXplO2EubGltaXQ9YS5saW1pdHx8Yi5wYWdlU2l6ZTthLmFkZFJlY29yZHM9YS5hZGRSZWNvcmRzfHxmYWxzZTtpZihiLmJ1ZmZlcmVkKXtyZXR1cm4gYi5sb2FkVG9QcmVmZXRjaChhKX1yZXR1cm4gYi5jYWxsUGFyZW50KFthXSl9LG9uUHJveHlMb2FkOmZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMsYz1iLmdldFJlc3VsdFNldCgpLGE9Yi5nZXRSZWNvcmRzKCksZT1iLndhc1N1Y2Nlc3NmdWwoKTtpZihjKXtkLnRvdGFsQ291bnQ9Yy50b3RhbH1pZihlKXtkLmxvYWRSZWNvcmRzKGEsYil9ZC5sb2FkaW5nPWZhbHNlO2QuZmlyZUV2ZW50KCJsb2FkIixkLGEsZSk7ZC5maXJlRXZlbnQoInJlYWQiLGQsYSxiLndhc1N1Y2Nlc3NmdWwoKSk7RXh0LmNhbGxiYWNrKGIuY2FsbGJhY2ssYi5zY29wZXx8ZCxbYSxiLGVdKX0sZ2V0TmV3UmVjb3JkczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuZmlsdGVyQnkodGhpcy5maWx0ZXJOZXcpLml0ZW1zfSxnZXRVcGRhdGVkUmVjb3JkczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGEuZmlsdGVyQnkodGhpcy5maWx0ZXJVcGRhdGVkKS5pdGVtc30sZmlsdGVyOmZ1bmN0aW9uKGUsZyl7aWYoRXh0LmlzU3RyaW5nKGUpKXtlPXtwcm9wZXJ0eTplLHZhbHVlOmd9fXZhciBkPXRoaXMsYT1kLmRlY29kZUZpbHRlcnMoZSksYj0wLGg9ZC5zb3J0ZXJzLmxlbmd0aCYmZC5zb3J0T25GaWx0ZXImJiFkLnJlbW90ZVNvcnQsYz1hLmxlbmd0aDtmb3IoO2I8YztiKyspe2QuZmlsdGVycy5yZXBsYWNlKGFbYl0pfWlmKGQucmVtb3RlRmlsdGVyKXtpZihkLmJ1ZmZlcmVkKXtkLnBhZ2VNYXAuY2xlYXIoKTtkLmxvYWRQYWdlKDEpfWVsc2V7ZC5jdXJyZW50UGFnZT0xO2QubG9hZCgpfX1lbHNle2lmKGQuZmlsdGVycy5nZXRDb3VudCgpKXtkLnNuYXBzaG90PWQuc25hcHNob3R8fGQuZGF0YS5jbG9uZSgpO2QuZGF0YT1kLmRhdGEuZmlsdGVyKGQuZmlsdGVycy5pdGVtcyk7aWYoaCl7ZC5zb3J0KCl9ZWxzZXtkLmZpcmVFdmVudCgiZGF0YWNoYW5nZWQiLGQpO2QuZmlyZUV2ZW50KCJyZWZyZXNoIixkKX19fX0sY2xlYXJGaWx0ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLmZpbHRlcnMuY2xlYXIoKTtpZihiLnJlbW90ZUZpbHRlcil7aWYoYSl7cmV0dXJufWlmKGIuYnVmZmVyZWQpe2IucGFnZU1hcC5jbGVhcigpO2IubG9hZFBhZ2UoMSl9ZWxzZXtiLmN1cnJlbnRQYWdlPTE7Yi5sb2FkKCl9fWVsc2V7aWYoYi5pc0ZpbHRlcmVkKCkpe2IuZGF0YT1iLnNuYXBzaG90LmNsb25lKCk7ZGVsZXRlIGIuc25hcHNob3Q7aWYoYSE9PXRydWUpe2IuZmlyZUV2ZW50KCJkYXRhY2hhbmdlZCIsYik7Yi5maXJlRXZlbnQoInJlZnJlc2giLGIpfX19fSxpc0ZpbHRlcmVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zbmFwc2hvdDtyZXR1cm4gISFhJiZhIT09dGhpcy5kYXRhfSxmaWx0ZXJCeTpmdW5jdGlvbihiLGEpe3ZhciBjPXRoaXM7Yy5zbmFwc2hvdD1jLnNuYXBzaG90fHxjLmRhdGEuY2xvbmUoKTtjLmRhdGE9Yy5xdWVyeUJ5KGIsYXx8Yyk7Yy5maXJlRXZlbnQoImRhdGFjaGFuZ2VkIixjKTtjLmZpcmVFdmVudCgicmVmcmVzaCIsYyl9LHF1ZXJ5Qnk6ZnVuY3Rpb24oYixhKXt2YXIgYz10aGlzLGQ9Yy5zbmFwc2hvdHx8Yy5kYXRhO3JldHVybiBkLmZpbHRlckJ5KGIsYXx8Yyl9LGxvYWREYXRhOmZ1bmN0aW9uKGgsYSl7dmFyIGM9dGhpcy5tb2RlbCxnPWgubGVuZ3RoLGU9W10sZCxiO2ZvcihkPTA7ZDxnO2QrKyl7Yj1oW2RdO2lmKCEoYiBpbnN0YW5jZW9mIEV4dC5kYXRhLk1vZGVsKSl7Yj1FeHQuTW9kZWxNYW5hZ2VyLmNyZWF0ZShiLGMpfWUucHVzaChiKX10aGlzLmxvYWRSZWNvcmRzKGUse2FkZFJlY29yZHM6YX0pfSxsb2FkUmF3RGF0YTpmdW5jdGlvbihlLGIpe3ZhciBkPXRoaXMsYT1kLnByb3h5LnJlYWRlci5yZWFkKGUpLGM9YS5yZWNvcmRzO2lmKGEuc3VjY2Vzcyl7ZC50b3RhbENvdW50PWEudG90YWw7ZC5sb2FkUmVjb3JkcyhjLHthZGRSZWNvcmRzOmJ9KTtkLmZpcmVFdmVudCgibG9hZCIsZCxjLHRydWUpfX0sbG9hZFJlY29yZHM6ZnVuY3Rpb24oYixjKXt2YXIgZz10aGlzLGQ9MCxlPWIubGVuZ3RoLGg9KGM9Y3x8e30pLnN0YXJ0LGE9Zy5zbmFwc2hvdDtpZighYy5hZGRSZWNvcmRzKXtkZWxldGUgZy5zbmFwc2hvdDtnLmNsZWFyRGF0YSh0cnVlKX1lbHNle2lmKGEpe2EuYWRkQWxsKGIpfX1nLmRhdGEuYWRkQWxsKGIpO2lmKHR5cGVvZiBoIT0idW5kZWZpbmVkIil7Zm9yKDtkPGU7ZCsrKXtiW2RdLmluZGV4PWgrZDtiW2RdLmpvaW4oZyl9fWVsc2V7Zm9yKDtkPGU7ZCsrKXtiW2RdLmpvaW4oZyl9fWcuc3VzcGVuZEV2ZW50cygpO2lmKGcuZmlsdGVyT25Mb2FkJiYhZy5yZW1vdGVGaWx0ZXIpe2cuZmlsdGVyKCl9aWYoZy5zb3J0T25Mb2FkJiYhZy5yZW1vdGVTb3J0KXtnLnNvcnQoKX1nLnJlc3VtZUV2ZW50cygpO2cuZmlyZUV2ZW50KCJkYXRhY2hhbmdlZCIsZyk7Zy5maXJlRXZlbnQoInJlZnJlc2giLGcpfSxsb2FkUGFnZTpmdW5jdGlvbihjLGEpe3ZhciBiPXRoaXM7Yi5jdXJyZW50UGFnZT1jO2E9RXh0LmFwcGx5KHtwYWdlOmMsc3RhcnQ6KGMtMSkqYi5wYWdlU2l6ZSxsaW1pdDpiLnBhZ2VTaXplLGFkZFJlY29yZHM6IWIuY2xlYXJPblBhZ2VMb2FkfSxhKTtpZihiLmJ1ZmZlcmVkKXtyZXR1cm4gYi5sb2FkVG9QcmVmZXRjaChhKX1iLnJlYWQoYSl9LG5leHRQYWdlOmZ1bmN0aW9uKGEpe3RoaXMubG9hZFBhZ2UodGhpcy5jdXJyZW50UGFnZSsxLGEpfSxwcmV2aW91c1BhZ2U6ZnVuY3Rpb24oYSl7dGhpcy5sb2FkUGFnZSh0aGlzLmN1cnJlbnRQYWdlLTEsYSl9LGNsZWFyRGF0YTpmdW5jdGlvbihkKXt2YXIgYz10aGlzLGE9Yy5kYXRhLml0ZW1zLGI9YS5sZW5ndGg7d2hpbGUoYi0tKXthW2JdLnVuam9pbihjKX1jLmRhdGEuY2xlYXIoKTtpZihkIT09dHJ1ZXx8Yy5jbGVhclJlbW92ZWRPbkxvYWQpe2MucmVtb3ZlZD1bXX19LGxvYWRUb1ByZWZldGNoOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsYj1mdW5jdGlvbigpe2lmKGMucmFuZ2VDYWNoZWQoYS5zdGFydCxhLmxpbWl0LTEpKXtjLnBhZ2VNYXAudW4oInBhZ2VBZGRlZCIsYik7Yy5ndWFyYW50ZWVSYW5nZShhLnN0YXJ0LChjLnZpZXdTaXplfHxjLnBhZ2VTaXplKS0xKX19O2MucGFnZU1hcC5vbigicGFnZUFkZGVkIixiKTtyZXR1cm4gYy5wcmVmZXRjaChhfHx7fSl9LHByZWZldGNoOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMsYT1kLnBhZ2VTaXplLGI7aWYoYSl7aWYoZC5sYXN0UGFnZVNpemUmJmEhPWQubGFzdFBhZ2VTaXplKXtFeHQuZXJyb3IucmFpc2UoInBhZ2VTaXplIGNhbm5vdCBiZSBkeW5hbWljYWxseSBhbHRlcmVkIil9aWYoIWQucGFnZU1hcC5wYWdlU2l6ZSl7ZC5wYWdlTWFwLnBhZ2VTaXplPWF9fWVsc2V7ZC5wYWdlU2l6ZT1kLnBhZ2VNYXAucGFnZVNpemU9YT1jLmxpbWl0fWQubGFzdFBhZ2VTaXplPWE7aWYoIWMucGFnZSl7Yy5wYWdlPWQuZ2V0UGFnZUZyb21SZWNvcmRJbmRleChjLnN0YXJ0KTtjLnN0YXJ0PShjLnBhZ2UtMSkqYTtjLmxpbWl0PU1hdGguY2VpbChjLmxpbWl0L2EpKmF9aWYoIWQucGFnZVJlcXVlc3RzW2MucGFnZV0pe2M9RXh0LmFwcGx5KHthY3Rpb246InJlYWQiLGZpbHRlcnM6ZC5maWx0ZXJzLml0ZW1zLHNvcnRlcnM6ZC5zb3J0ZXJzLml0ZW1zLGdlbmVyYXRpb246ZC5wYWdlTWFwLmdlbmVyYXRpb259LGMpO2I9bmV3IEV4dC5kYXRhLk9wZXJhdGlvbihjKTtpZihkLmZpcmVFdmVudCgiYmVmb3JlcHJlZmV0Y2giLGQsYikhPT1mYWxzZSl7ZC5sb2FkaW5nPXRydWU7ZC5wYWdlUmVxdWVzdHNbYy5wYWdlXT1kLnByb3h5LnJlYWQoYixkLm9uUHJveHlQcmVmZXRjaCxkKX19cmV0dXJuIGR9LGNhbmNlbEFsbFByZWZldGNoZXM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGE9Yy5wYWdlUmVxdWVzdHMsYixkO2lmKGMucGFnZU1hcC5ldmVudHMucGFnZWFkZGVkKXtjLnBhZ2VNYXAuZXZlbnRzLnBhZ2VhZGRlZC5jbGVhckxpc3RlbmVycygpfWZvcihkIGluIGEpe2lmKGEuaGFzT3duUHJvcGVydHkoZCkpe2I9YVtkXTtkZWxldGUgYVtkXTtkZWxldGUgYi5jYWxsYmFja319fSxwcmVmZXRjaFBhZ2U6ZnVuY3Rpb24oZSxiKXt2YXIgZD10aGlzLGE9ZC5wYWdlU2l6ZXx8ZC5kZWZhdWx0UGFnZVNpemUsZz0oZS0xKSpkLnBhZ2VTaXplLGM9ZC50b3RhbENvdW50O2lmKGMhPT11bmRlZmluZWQmJmQuZ2V0Q291bnQoKT09PWMpe3JldHVybn1kLnByZWZldGNoKEV4dC5hcHBseSh7cGFnZTplLHN0YXJ0OmcsbGltaXQ6YX0sYikpfSxvblByb3h5UHJlZmV0Y2g6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcyxjPWIuZ2V0UmVzdWx0U2V0KCksYT1iLmdldFJlY29yZHMoKSxnPWIud2FzU3VjY2Vzc2Z1bCgpLGU9Yi5wYWdlO2lmKGIuZ2VuZXJhdGlvbj09PWQucGFnZU1hcC5nZW5lcmF0aW9uKXtpZihjKXtkLnRvdGFsQ291bnQ9Yy50b3RhbDtkLmZpcmVFdmVudCgidG90YWxjb3VudGNoYW5nZSIsZC50b3RhbENvdW50KX1pZihlIT09dW5kZWZpbmVkKXtkZWxldGUgZC5wYWdlUmVxdWVzdHNbZV19aWYoZyl7ZC5jYWNoZVBhZ2UoYSxiLnBhZ2UpfWQubG9hZGluZz1mYWxzZTtkLmZpcmVFdmVudCgicHJlZmV0Y2giLGQsYSxnLGIpO0V4dC5jYWxsYmFjayhiLmNhbGxiYWNrLGIuc2NvcGV8fGQsW2EsYixnXSl9fSxjYWNoZVBhZ2U6ZnVuY3Rpb24oYSxjKXt2YXIgYj10aGlzO2lmKCFFeHQuaXNEZWZpbmVkKGIudG90YWxDb3VudCkpe2IudG90YWxDb3VudD1hLmxlbmd0aDtiLmZpcmVFdmVudCgidG90YWxjb3VudGNoYW5nZSIsYi50b3RhbENvdW50KX1iLnBhZ2VNYXAuYWRkUGFnZShjLGEpfSxyYW5nZUNhY2hlZDpmdW5jdGlvbihiLGEpe3JldHVybiB0aGlzLnBhZ2VNYXAmJnRoaXMucGFnZU1hcC5oYXNSYW5nZShiLGEpfSxwYWdlQ2FjaGVkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnBhZ2VNYXAmJnRoaXMucGFnZU1hcC5oYXNQYWdlKGEpfSxyYW5nZVNhdGlzZmllZDpmdW5jdGlvbihiLGEpe3JldHVybiB0aGlzLnJhbmdlQ2FjaGVkKGIsYSl9LGdldFBhZ2VGcm9tUmVjb3JkSW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGguZmxvb3IoYS90aGlzLnBhZ2VTaXplKSsxfSxvbkd1YXJhbnRlZWRSYW5nZTpmdW5jdGlvbihkKXt2YXIgZT10aGlzLGI9ZS5nZXRUb3RhbENvdW50KCksZz1kLnByZWZldGNoU3RhcnQsYT0oKGItMSk8ZC5wcmVmZXRjaEVuZCk/Yi0xOmQucHJlZmV0Y2hFbmQsYzthPU1hdGgubWF4KDAsYSk7Yz1lLnBhZ2VNYXAuZ2V0UmFuZ2UoZyxhKTtlLmZpcmVFdmVudCgiZ3VhcmFudGVlZHJhbmdlIixjLGcsYSk7aWYoZC5jYil7ZC5jYi5jYWxsKGQuc2NvcGV8fGUsYyxnLGEpfX0scHJlZmV0Y2hSYW5nZTpmdW5jdGlvbihnLGIpe3ZhciBkPXRoaXMsYyxhLGU7aWYoIWQucmFuZ2VDYWNoZWQoZyxiKSl7Yz1kLmdldFBhZ2VGcm9tUmVjb3JkSW5kZXgoZyk7YT1kLmdldFBhZ2VGcm9tUmVjb3JkSW5kZXgoYik7ZC5wYWdlTWFwLm1heFNpemU9ZC5wdXJnZVBhZ2VDb3VudD8oYS1jKzEpK2QucHVyZ2VQYWdlQ291bnQ6MDtmb3IoZT1jO2U8PWE7ZSsrKXtpZighZC5wYWdlQ2FjaGVkKGUpKXtkLnByZWZldGNoUGFnZShlKX19fX0sZ3VhcmFudGVlUmFuZ2U6ZnVuY3Rpb24oaSxjLGEsZyl7Yz0oYz50aGlzLnRvdGFsQ291bnQpP3RoaXMudG90YWxDb3VudC0xOmM7dmFyIGg9dGhpcyxlPWgubGFzdFJlcXVlc3RTdGFydCxkPXtwcmVmZXRjaFN0YXJ0OmkscHJlZmV0Y2hFbmQ6YyxjYjphLHNjb3BlOmd9LGI7aC5sYXN0UmVxdWVzdFN0YXJ0PWk7aWYoaC5yYW5nZUNhY2hlZChpLGMpKXtpZihpPGUpe2k9TWF0aC5tYXgoaS1oLmxlYWRpbmdCdWZmZXJab25lLDApO2M9TWF0aC5taW4oYytoLnRyYWlsaW5nQnVmZmVyWm9uZSxoLnRvdGFsQ291bnQtMSl9ZWxzZXtpPU1hdGgubWF4KE1hdGgubWluKGktaC50cmFpbGluZ0J1ZmZlclpvbmUsaC50b3RhbENvdW50LWgucGFnZVNpemUpLDApO2M9TWF0aC5taW4oYytoLmxlYWRpbmdCdWZmZXJab25lLGgudG90YWxDb3VudC0xKX1pZighaC5yYW5nZUNhY2hlZChpLGMpKXtoLnByZWZldGNoUmFuZ2UoaSxjKX1oLm9uR3VhcmFudGVlZFJhbmdlKGQpfWVsc2V7aC5maXJlRXZlbnQoImNhY2hlbWlzcyIsaCxpLGMpO2k9TWF0aC5taW4oTWF0aC5tYXgoTWF0aC5mbG9vcihpLSgoaC5sZWFkaW5nQnVmZmVyWm9uZStoLnRyYWlsaW5nQnVmZmVyWm9uZSkvMikpLDApLGgudG90YWxDb3VudC1oLnBhZ2VTaXplKTtjPU1hdGgubWluKE1hdGgubWF4KE1hdGguY2VpbChjKygoaC5sZWFkaW5nQnVmZmVyWm9uZStoLnRyYWlsaW5nQnVmZmVyWm9uZSkvMikpLDApLGgudG90YWxDb3VudC0xKTtiPWZ1bmN0aW9uKGssail7aWYoaC5yYW5nZUNhY2hlZChkLnByZWZldGNoU3RhcnQsZC5wcmVmZXRjaEVuZCkpe2guZmlyZUV2ZW50KCJjYWNoZWZpbGxlZCIsaCxpLGMpO2gucGFnZU1hcC51bigicGFnZUFkZGVkIixiKTtoLm9uR3VhcmFudGVlZFJhbmdlKGQpfX07aC5wYWdlTWFwLm9uKCJwYWdlQWRkZWQiLGIpO2gucHJlZmV0Y2hSYW5nZShkLnByZWZldGNoU3RhcnQsZC5wcmVmZXRjaEVuZCk7aC5wcmVmZXRjaFJhbmdlKGksYyl9fSxzb3J0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIucGFnZU1hcDtpZihiLmJ1ZmZlcmVkKXtpZihiLnJlbW90ZVNvcnQpe2EuY2xlYXIoKTtiLmNhbGxQYXJlbnQoYXJndW1lbnRzKX1lbHNle2IuY2FsbFBhcmVudChhcmd1bWVudHMpfX1lbHNle2IuY2FsbFBhcmVudChhcmd1bWVudHMpfX0sZG9Tb3J0OmZ1bmN0aW9uKGIpe3ZhciBlPXRoaXMsYSxkLGM7aWYoZS5yZW1vdGVTb3J0KXtpZihlLmJ1ZmZlcmVkKXtlLnBhZ2VNYXAuY2xlYXIoKTtlLmxvYWRQYWdlKDEpfWVsc2V7ZS5sb2FkKCl9fWVsc2V7ZS5kYXRhLnNvcnRCeShiKTtpZighZS5idWZmZXJlZCl7YT1lLmdldFJhbmdlKCk7ZD1hLmxlbmd0aDtjPTA7Zm9yKDtjPGQ7YysrKXthW2NdLmluZGV4PWN9fWUuZmlyZUV2ZW50KCJkYXRhY2hhbmdlZCIsZSk7ZS5maXJlRXZlbnQoInJlZnJlc2giLGUpfX0sZmluZDpmdW5jdGlvbihlLGQsaCxnLGEsYyl7dmFyIGI9dGhpcy5jcmVhdGVGaWx0ZXJGbihlLGQsZyxhLGMpO3JldHVybiBiP3RoaXMuZGF0YS5maW5kSW5kZXhCeShiLG51bGwsaCk6LTF9LGZpbmRSZWNvcmQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5maW5kLmFwcGx5KGIsYXJndW1lbnRzKTtyZXR1cm4gYSE9PS0xP2IuZ2V0QXQoYSk6bnVsbH0sY3JlYXRlRmlsdGVyRm46ZnVuY3Rpb24oZCxjLGUsYSxiKXtpZihFeHQuaXNFbXB0eShjKSl7cmV0dXJuIGZhbHNlfWM9dGhpcy5kYXRhLmNyZWF0ZVZhbHVlTWF0Y2hlcihjLGUsYSxiKTtyZXR1cm4gZnVuY3Rpb24oZyl7cmV0dXJuIGMudGVzdChnLmRhdGFbZF0pfX0sZmluZEV4YWN0OmZ1bmN0aW9uKGIsYSxjKXtyZXR1cm4gdGhpcy5kYXRhLmZpbmRJbmRleEJ5KGZ1bmN0aW9uKGQpe3JldHVybiBkLmlzRXF1YWwoZC5nZXQoYiksYSl9LHRoaXMsYyl9LGZpbmRCeTpmdW5jdGlvbihiLGEsYyl7cmV0dXJuIHRoaXMuZGF0YS5maW5kSW5kZXhCeShiLGEsYyl9LGNvbGxlY3Q6ZnVuY3Rpb24oYixhLGMpe3ZhciBkPXRoaXMsZT0oYz09PXRydWUmJmQuc25hcHNob3QpP2Quc25hcHNob3Q6ZC5kYXRhO3JldHVybiBlLmNvbGxlY3QoYiwiZGF0YSIsYSl9LGdldENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YS5sZW5ndGh8fDB9LGdldFRvdGFsQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b3RhbENvdW50fHwwfSxnZXRBdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kYXRhLmdldEF0KGEpfSxnZXRSYW5nZTpmdW5jdGlvbihiLGEpe3JldHVybiB0aGlzLmRhdGEuZ2V0UmFuZ2UoYixhKX0sZ2V0QnlJZDpmdW5jdGlvbihhKXtyZXR1cm4odGhpcy5zbmFwc2hvdHx8dGhpcy5kYXRhKS5maW5kQnkoZnVuY3Rpb24oYil7cmV0dXJuIGIuZ2V0SWQoKT09PWF9KX0saW5kZXhPZjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kYXRhLmluZGV4T2YoYSl9LGluZGV4T2ZUb3RhbDpmdW5jdGlvbihhKXt2YXIgYj1hLmluZGV4O2lmKGJ8fGI9PT0wKXtyZXR1cm4gYn1yZXR1cm4gdGhpcy5pbmRleE9mKGEpfSxpbmRleE9mSWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5kZXhPZih0aGlzLmdldEJ5SWQoYSkpfSxyZW1vdmVBbGw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLmNsZWFyRGF0YSgpO2lmKGIuc25hcHNob3Qpe2Iuc25hcHNob3QuY2xlYXIoKX1pZihiLnBhZ2VNYXApe2IucGFnZU1hcC5jbGVhcigpfWlmKGEhPT10cnVlKXtiLmZpcmVFdmVudCgiY2xlYXIiLGIpfX0sZmlyc3Q6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZihhJiZiLmlzR3JvdXBlZCgpKXtyZXR1cm4gYi5hZ2dyZWdhdGUoZnVuY3Rpb24oYyl7cmV0dXJuIGMubGVuZ3RoP2NbMF06dW5kZWZpbmVkfSxiLHRydWUpfWVsc2V7cmV0dXJuIGIuZGF0YS5maXJzdCgpfX0sbGFzdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKGEmJmIuaXNHcm91cGVkKCkpe3JldHVybiBiLmFnZ3JlZ2F0ZShmdW5jdGlvbihkKXt2YXIgYz1kLmxlbmd0aDtyZXR1cm4gYz9kW2MtMV06dW5kZWZpbmVkfSxiLHRydWUpfWVsc2V7cmV0dXJuIGIuZGF0YS5sYXN0KCl9fSxzdW06ZnVuY3Rpb24oYyxhKXt2YXIgYj10aGlzO2lmKGEmJmIuaXNHcm91cGVkKCkpe3JldHVybiBiLmFnZ3JlZ2F0ZShiLmdldFN1bSxiLHRydWUsW2NdKX1lbHNle3JldHVybiBiLmdldFN1bShiLmRhdGEuaXRlbXMsYyl9fSxnZXRTdW06ZnVuY3Rpb24oYixlKXt2YXIgZD0wLGM9MCxhPWIubGVuZ3RoO2Zvcig7YzxhOysrYyl7ZCs9YltjXS5nZXQoZSl9cmV0dXJuIGR9LGNvdW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoYSYmYi5pc0dyb3VwZWQoKSl7cmV0dXJuIGIuYWdncmVnYXRlKGZ1bmN0aW9uKGMpe3JldHVybiBjLmxlbmd0aH0sYix0cnVlKX1lbHNle3JldHVybiBiLmdldENvdW50KCl9fSxtaW46ZnVuY3Rpb24oYyxhKXt2YXIgYj10aGlzO2lmKGEmJmIuaXNHcm91cGVkKCkpe3JldHVybiBiLmFnZ3JlZ2F0ZShiLmdldE1pbixiLHRydWUsW2NdKX1lbHNle3JldHVybiBiLmdldE1pbihiLmRhdGEuaXRlbXMsYyl9fSxnZXRNaW46ZnVuY3Rpb24oYixnKXt2YXIgZD0xLGE9Yi5sZW5ndGgsZSxjO2lmKGE+MCl7Yz1iWzBdLmdldChnKX1mb3IoO2Q8YTsrK2Qpe2U9YltkXS5nZXQoZyk7aWYoZTxjKXtjPWV9fXJldHVybiBjfSxtYXg6ZnVuY3Rpb24oYyxhKXt2YXIgYj10aGlzO2lmKGEmJmIuaXNHcm91cGVkKCkpe3JldHVybiBiLmFnZ3JlZ2F0ZShiLmdldE1heCxiLHRydWUsW2NdKX1lbHNle3JldHVybiBiLmdldE1heChiLmRhdGEuaXRlbXMsYyl9fSxnZXRNYXg6ZnVuY3Rpb24oYyxnKXt2YXIgZD0xLGI9Yy5sZW5ndGgsZSxhO2lmKGI+MCl7YT1jWzBdLmdldChnKX1mb3IoO2Q8YjsrK2Qpe2U9Y1tkXS5nZXQoZyk7aWYoZT5hKXthPWV9fXJldHVybiBhfSxhdmVyYWdlOmZ1bmN0aW9uKGMsYSl7dmFyIGI9dGhpcztpZihhJiZiLmlzR3JvdXBlZCgpKXtyZXR1cm4gYi5hZ2dyZWdhdGUoYi5nZXRBdmVyYWdlLGIsdHJ1ZSxbY10pfWVsc2V7cmV0dXJuIGIuZ2V0QXZlcmFnZShiLmRhdGEuaXRlbXMsYyl9fSxnZXRBdmVyYWdlOmZ1bmN0aW9uKGIsZSl7dmFyIGM9MCxhPWIubGVuZ3RoLGQ9MDtpZihiLmxlbmd0aD4wKXtmb3IoO2M8YTsrK2Mpe2QrPWJbY10uZ2V0KGUpfXJldHVybiBkL2F9cmV0dXJuIDB9LGFnZ3JlZ2F0ZTpmdW5jdGlvbihoLGssZSxnKXtnPWd8fFtdO2lmKGUmJnRoaXMuaXNHcm91cGVkKCkpe3ZhciBhPXRoaXMuZ2V0R3JvdXBzKCksYz0wLGQ9YS5sZW5ndGgsYj17fSxqO2Zvcig7YzxkOysrYyl7aj1hW2NdO2Jbai5uYW1lXT1oLmFwcGx5KGt8fHRoaXMsW2ouY2hpbGRyZW5dLmNvbmNhdChnKSl9cmV0dXJuIGJ9ZWxzZXtyZXR1cm4gaC5hcHBseShrfHx0aGlzLFt0aGlzLmRhdGEuaXRlbXNdLmNvbmNhdChnKSl9fSxjb21taXRDaGFuZ2VzOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxkPWMuZ2V0TW9kaWZpZWRSZWNvcmRzKCksYT1kLmxlbmd0aCxiPTA7Zm9yKDtiPGE7YisrKXtkW2JdLmNvbW1pdCgpfWMucmVtb3ZlZC5sZW5ndGg9MH0sZmlsdGVyTmV3T25seTpmdW5jdGlvbihhKXtyZXR1cm4gYS5waGFudG9tPT09dHJ1ZX0sZ2V0UmVqZWN0UmVjb3JkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZGF0YS5maWx0ZXJCeSh0aGlzLmZpbHRlck5ld09ubHkpLml0ZW1zO3JldHVybiBhLmNvbmNhdCh0aGlzLmdldFVwZGF0ZWRSZWNvcmRzKCkpfSxyZWplY3RDaGFuZ2VzOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxkPWMuZ2V0UmVqZWN0UmVjb3JkcygpLGE9ZC5sZW5ndGgsYj0wLGU7Zm9yKDtiPGE7YisrKXtlPWRbYl07ZS5yZWplY3QoKTtpZihlLnBoYW50b20pe2MucmVtb3ZlKGUpfX1kPWMucmVtb3ZlZDthPWQubGVuZ3RoO2ZvcihiPTA7YjxhO2IrKyl7ZT1kW2JdO2MuaW5zZXJ0KGUuaW5kZXh8fDAsZSk7ZS5yZWplY3QoKX1jLnJlbW92ZWQubGVuZ3RoPTB9fSxmdW5jdGlvbigpe0V4dC5yZWdTdG9yZSgiZXh0LWVtcHR5LXN0b3JlIix7ZmllbGRzOltdLHByb3h5OiJtZW1vcnkifSk7dGhpcy5wcm90b3R5cGUuUGFnZU1hcD1uZXcgRXh0LkNsYXNzKHtleHRlbmQ6IkV4dC51dGlsLkxydUNhY2hlIixjbGVhcjpmdW5jdGlvbihhKXt0aGlzLmdlbmVyYXRpb249KHRoaXMuZ2VuZXJhdGlvbnx8MCkrMTt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sZ2V0UGFnZUZyb21SZWNvcmRJbmRleDp0aGlzLnByb3RvdHlwZS5nZXRQYWdlRnJvbVJlY29yZEluZGV4LGFkZFBhZ2U6ZnVuY3Rpb24oYixhKXt0aGlzLmFkZChiLGEpO3RoaXMuZmlyZUV2ZW50KCJwYWdlQWRkZWQiLGIsYSl9LGdldFBhZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0KGEpfSxoYXNSYW5nZTpmdW5jdGlvbihkLGIpe3ZhciBjPXRoaXMuZ2V0UGFnZUZyb21SZWNvcmRJbmRleChkKSxhPXRoaXMuZ2V0UGFnZUZyb21SZWNvcmRJbmRleChiKTtmb3IoO2M8PWE7YysrKXtpZighdGhpcy5oYXNQYWdlKGMpKXtyZXR1cm4gZmFsc2V9fXJldHVybiB0cnVlfSxoYXNQYWdlOmZ1bmN0aW9uKGEpe3JldHVybiAhIXRoaXMubWFwW2FdfSxnZXRSYW5nZTpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLmhhc1JhbmdlKGEsYikpe0V4dC5FcnJvci5yYWlzZSgiUGFnZU1hcCBhc2tlZCBmb3IgcmFuZ2Ugd2hpY2ggaXQgZG9lcyBub3QgaGF2ZSIpfXZhciBrPXRoaXMsZz1rLmdldFBhZ2VGcm9tUmVjb3JkSW5kZXgoYSksbj1rLmdldFBhZ2VGcm9tUmVjb3JkSW5kZXgoYiksYz0oZy0xKSprLnBhZ2VTaXplLG89KG4qay5wYWdlU2l6ZSktMSxqPWcscD1bXSxtLGgsbCxkPTAsZTtmb3IoO2o8PW47aisrKXtpZihqPT1nKXttPWEtYztsPXRydWV9ZWxzZXttPTA7bD1mYWxzZX1pZihqPT1uKXtoPWsucGFnZVNpemUtKG8tYik7bD10cnVlfWlmKGwpe0V4dC5BcnJheS5wdXNoKHAsRXh0LkFycmF5LnNsaWNlKGsuZ2V0UGFnZShqKSxtLGgpKX1lbHNle0V4dC5BcnJheS5wdXNoKHAsay5nZXRQYWdlKGopKX19Zm9yKGU9cC5sZW5ndGg7ZDxlO2QrKyl7cFtkXS5pbmRleD1hKyt9cmV0dXJuIHB9fSl9KTtFeHQuZGVmaW5lKCJFeHQuZGF0YS5BcnJheVN0b3JlIix7ZXh0ZW5kOiJFeHQuZGF0YS5TdG9yZSIsYWxpYXM6InN0b3JlLmFycmF5IixyZXF1aXJlczpbIkV4dC5kYXRhLnByb3h5Lk1lbW9yeSIsIkV4dC5kYXRhLnJlYWRlci5BcnJheSJdLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe2E9RXh0LmFwcGx5KHtwcm94eTp7dHlwZToibWVtb3J5IixyZWFkZXI6ImFycmF5In19LGEpO3RoaXMuY2FsbFBhcmVudChbYV0pfSxsb2FkRGF0YTpmdW5jdGlvbihlLGEpe2lmKHRoaXMuZXhwYW5kRGF0YT09PXRydWUpe3ZhciBkPVtdLGI9MCxjPWUubGVuZ3RoO2Zvcig7YjxjO2IrKyl7ZFtkLmxlbmd0aF09W2VbYl1dfWU9ZH10aGlzLmNhbGxQYXJlbnQoW2UsYV0pfX0sZnVuY3Rpb24oKXtFeHQuZGF0YS5TaW1wbGVTdG9yZT1FeHQuZGF0YS5BcnJheVN0b3JlfSk7RXh0LmRlZmluZSgiRXh0LmRhdGEuQnVmZmVyU3RvcmUiLHtleHRlbmQ6IkV4dC5kYXRhLlN0b3JlIixhbGlhczoic3RvcmUuYnVmZmVyIixzb3J0T25Mb2FkOmZhbHNlLGZpbHRlck9uTG9hZDpmYWxzZSxjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe0V4dC5FcnJvci5yYWlzZSgiVGhlIEJ1ZmZlclN0b3JlIGNsYXNzIGhhcyBiZWVuIGRlcHJlY2F0ZWQuIEluc3RlYWQsIHNwZWNpZnkgdGhlIGJ1ZmZlcmVkIGNvbmZpZyBvcHRpb24gb24gRXh0LmRhdGEuU3RvcmUiKX19KTtFeHQuZGVmaW5lKCJFeHQuZGF0YS5Kc29uUFN0b3JlIix7ZXh0ZW5kOiJFeHQuZGF0YS5TdG9yZSIsYWxpYXM6InN0b3JlLmpzb25wIixyZXF1aXJlczpbIkV4dC5kYXRhLnByb3h5Lkpzb25QIiwiRXh0LmRhdGEucmVhZGVyLkpzb24iXSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXthPUV4dC5hcHBseSh7cHJveHk6e3R5cGU6Impzb25wIixyZWFkZXI6Impzb24ifX0sYSk7dGhpcy5jYWxsUGFyZW50KFthXSl9fSk7RXh0LmRlZmluZSgiRXh0LmRhdGEuSnNvblN0b3JlIix7ZXh0ZW5kOiJFeHQuZGF0YS5TdG9yZSIsYWxpYXM6InN0b3JlLmpzb24iLHJlcXVpcmVzOlsiRXh0LmRhdGEucHJveHkuQWpheCIsIkV4dC5kYXRhLnJlYWRlci5Kc29uIiwiRXh0LmRhdGEud3JpdGVyLkpzb24iXSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXthPUV4dC5hcHBseSh7cHJveHk6e3R5cGU6ImFqYXgiLHJlYWRlcjoianNvbiIsd3JpdGVyOiJqc29uIn19LGEpO3RoaXMuY2FsbFBhcmVudChbYV0pfX0pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLk5vZGVTdG9yZSIse2V4dGVuZDoiRXh0LmRhdGEuU3RvcmUiLGFsaWFzOiJzdG9yZS5ub2RlIixyZXF1aXJlczpbIkV4dC5kYXRhLk5vZGVJbnRlcmZhY2UiXSxub2RlOm51bGwscmVjdXJzaXZlOmZhbHNlLHJvb3RWaXNpYmxlOmZhbHNlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsYjthPWF8fHt9O0V4dC5hcHBseShjLGEpO2EucHJveHk9e3R5cGU6InByb3h5In07Yy5jYWxsUGFyZW50KFthXSk7Yj1jLm5vZGU7aWYoYil7Yy5ub2RlPW51bGw7Yy5zZXROb2RlKGIpfX0sc2V0Tm9kZTpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2lmKGEubm9kZSYmYS5ub2RlIT1iKXthLm11bihhLm5vZGUse2V4cGFuZDphLm9uTm9kZUV4cGFuZCxjb2xsYXBzZTphLm9uTm9kZUNvbGxhcHNlLGFwcGVuZDphLm9uTm9kZUFwcGVuZCxpbnNlcnQ6YS5vbk5vZGVJbnNlcnQscmVtb3ZlOmEub25Ob2RlUmVtb3ZlLHNvcnQ6YS5vbk5vZGVTb3J0LHNjb3BlOmF9KTthLm5vZGU9bnVsbH1pZihiKXtFeHQuZGF0YS5Ob2RlSW50ZXJmYWNlLmRlY29yYXRlKGIuc2VsZik7YS5yZW1vdmVBbGwoKTtpZihhLnJvb3RWaXNpYmxlKXthLmFkZChiKX1lbHNle2lmKCFiLmlzRXhwYW5kZWQoKSYmYS50cmVlU3RvcmUuYXV0b0xvYWQhPT1mYWxzZSl7Yi5leHBhbmQoKX19YS5tb24oYix7ZXhwYW5kOmEub25Ob2RlRXhwYW5kLGNvbGxhcHNlOmEub25Ob2RlQ29sbGFwc2UsYXBwZW5kOmEub25Ob2RlQXBwZW5kLGluc2VydDphLm9uTm9kZUluc2VydCxyZW1vdmU6YS5vbk5vZGVSZW1vdmUsc29ydDphLm9uTm9kZVNvcnQsc2NvcGU6YX0pO2Eubm9kZT1iO2lmKGIuaXNFeHBhbmRlZCgpJiZiLmlzTG9hZGVkKCkpe2Eub25Ob2RlRXhwYW5kKGIsYi5jaGlsZE5vZGVzLHRydWUpfX19LG9uTm9kZVNvcnQ6ZnVuY3Rpb24oYixjKXt2YXIgYT10aGlzO2lmKChhLmluZGV4T2YoYikhPT0tMXx8KGI9PT1hLm5vZGUmJiFhLnJvb3RWaXNpYmxlKSYmYi5pc0V4cGFuZGVkKCkpKXthLm9uTm9kZUNvbGxhcHNlKGIsYyx0cnVlKTthLm9uTm9kZUV4cGFuZChiLGMsdHJ1ZSl9fSxvbk5vZGVFeHBhbmQ6ZnVuY3Rpb24oZyxkLGMpe3ZhciBqPXRoaXMsYT1qLmluZGV4T2YoZykrMSxoPWQ/ZC5sZW5ndGg6MCxlLGI7aWYoIWoucmVjdXJzaXZlJiZnIT09ai5ub2RlKXtyZXR1cm59aWYoZyE9PXRoaXMubm9kZSYmIWouaXNWaXNpYmxlKGcpKXtyZXR1cm59aWYoIWMmJmouZmlyZUV2ZW50KCJiZWZvcmVleHBhbmQiLGcsZCxhKT09PWZhbHNlKXtyZXR1cm59aWYoaCl7ai5pbnNlcnQoYSxkKTtmb3IoZT0wO2U8aDtlKyspe2I9ZFtlXTtpZihiLmlzRXhwYW5kZWQoKSl7aWYoYi5pc0xvYWRlZCgpKXtqLm9uTm9kZUV4cGFuZChiLGIuY2hpbGROb2Rlcyx0cnVlKX1lbHNle2Iuc2V0KCJleHBhbmRlZCIsZmFsc2UpO2IuZXhwYW5kKCl9fX19aWYoIWMpe2ouZmlyZUV2ZW50KCJleHBhbmQiLGcsZCl9fSxvbk5vZGVDb2xsYXBzZTpmdW5jdGlvbihnLGMsYil7dmFyIGo9dGhpcyxoPWMubGVuZ3RoLGU9ai5pbmRleE9mKGcpKzEsZCxhO2lmKCFqLnJlY3Vyc2l2ZSYmZyE9PWoubm9kZSl7cmV0dXJufWlmKCFiJiZqLmZpcmVFdmVudCgiYmVmb3JlY29sbGFwc2UiLGcsYyxlKT09PWZhbHNlKXtyZXR1cm59Zm9yKGQ9MDtkPGg7ZCsrKXthPWNbZF07ai5yZW1vdmUoYSk7aWYoYS5pc0V4cGFuZGVkKCkpe2oub25Ob2RlQ29sbGFwc2UoYSxhLmNoaWxkTm9kZXMsdHJ1ZSl9fWlmKCFiKXtqLmZpcmVFdmVudCgiY29sbGFwc2UiLGcsYyxlKX19LG9uTm9kZUFwcGVuZDpmdW5jdGlvbihkLGcsYil7dmFyIGU9dGhpcyxhLGM7aWYoZS5pc1Zpc2libGUoZykpe2lmKGI9PT0wKXthPWR9ZWxzZXtjPWcucHJldmlvdXNTaWJsaW5nO3doaWxlKGMuaXNFeHBhbmRlZCgpJiZjLmxhc3RDaGlsZCl7Yz1jLmxhc3RDaGlsZH1hPWN9ZS5pbnNlcnQoZS5pbmRleE9mKGEpKzEsZyk7aWYoIWcuaXNMZWFmKCkmJmcuaXNFeHBhbmRlZCgpKXtpZihnLmlzTG9hZGVkKCkpe2Uub25Ob2RlRXhwYW5kKGcsZy5jaGlsZE5vZGVzLHRydWUpfWVsc2V7Zy5zZXQoImV4cGFuZGVkIixmYWxzZSk7Zy5leHBhbmQoKX19fX0sb25Ob2RlSW5zZXJ0OmZ1bmN0aW9uKGMsZSxhKXt2YXIgZD10aGlzLGI9dGhpcy5pbmRleE9mKGEpO2lmKGIhPS0xJiZkLmlzVmlzaWJsZShlKSl7ZC5pbnNlcnQoYixlKTtpZighZS5pc0xlYWYoKSYmZS5pc0V4cGFuZGVkKCkpe2lmKGUuaXNMb2FkZWQoKSl7ZC5vbk5vZGVFeHBhbmQoZSxlLmNoaWxkTm9kZXMsdHJ1ZSl9ZWxzZXtlLnNldCgiZXhwYW5kZWQiLGZhbHNlKTtlLmV4cGFuZCgpfX19fSxvbk5vZGVSZW1vdmU6ZnVuY3Rpb24oYixkLGEpe3ZhciBjPXRoaXM7aWYoYy5pbmRleE9mKGQpIT0tMSl7aWYoIWQuaXNMZWFmKCkmJmQuaXNFeHBhbmRlZCgpKXtjLm9uTm9kZUNvbGxhcHNlKGQsZC5jaGlsZE5vZGVzLHRydWUpfWMucmVtb3ZlKGQpfX0saXNWaXNpYmxlOmZ1bmN0aW9uKGIpe3ZhciBhPWIucGFyZW50Tm9kZTt3aGlsZShhKXtpZihhPT09dGhpcy5ub2RlJiYhdGhpcy5yb290VmlzaWJsZSYmYS5pc0V4cGFuZGVkKCkpe3JldHVybiB0cnVlfWlmKHRoaXMuaW5kZXhPZihhKT09PS0xfHwhYS5pc0V4cGFuZGVkKCkpe3JldHVybiBmYWxzZX1hPWEucGFyZW50Tm9kZX1yZXR1cm4gdHJ1ZX19KTtFeHQuZGVmaW5lKCJFeHQuZGF0YS5YbWxTdG9yZSIse2V4dGVuZDoiRXh0LmRhdGEuU3RvcmUiLGFsaWFzOiJzdG9yZS54bWwiLHJlcXVpcmVzOlsiRXh0LmRhdGEucHJveHkuQWpheCIsIkV4dC5kYXRhLnJlYWRlci5YbWwiLCJFeHQuZGF0YS53cml0ZXIuWG1sIl0sY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7YT1FeHQuYXBwbHkoe3Byb3h5Ont0eXBlOiJhamF4IixyZWFkZXI6InhtbCIsd3JpdGVyOiJ4bWwifX0sYSk7dGhpcy5jYWxsUGFyZW50KFthXSl9fSk7RXh0LmRlZmluZSgiRXh0LmRhdGEucHJveHkuUmVzdCIse2V4dGVuZDoiRXh0LmRhdGEucHJveHkuQWpheCIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuZGF0YS5SZXN0UHJveHkiLGFsaWFzOiJwcm94eS5yZXN0IixhcHBlbmRJZDp0cnVlLGJhdGNoQWN0aW9uczpmYWxzZSxidWlsZFVybDpmdW5jdGlvbihnKXt2YXIgZT10aGlzLGM9Zy5vcGVyYXRpb24sYj1jLnJlY29yZHN8fFtdLGE9YlswXSxoPWUuZm9ybWF0LGQ9ZS5nZXRVcmwoZyksaT1hP2EuZ2V0SWQoKTpjLmlkO2lmKGUuYXBwZW5kSWQmJmkpe2lmKCFkLm1hdGNoKC9cLyQvKSl7ZCs9Ii8ifWQrPWl9aWYoaCl7aWYoIWQubWF0Y2goL1wuJC8pKXtkKz0iLiJ9ZCs9aH1nLnVybD1kO3JldHVybiBlLmNhbGxQYXJlbnQoYXJndW1lbnRzKX19LGZ1bmN0aW9uKCl7RXh0LmFwcGx5KHRoaXMucHJvdG90eXBlLHthY3Rpb25NZXRob2RzOntjcmVhdGU6IlBPU1QiLHJlYWQ6IkdFVCIsdXBkYXRlOiJQVVQiLGRlc3Ryb3k6IkRFTEVURSJ9fSl9KTtFeHQuZGVmaW5lKCJFeHQuZGlyZWN0Lk1hbmFnZXIiLHtzaW5nbGV0b246dHJ1ZSxtaXhpbnM6e29ic2VydmFibGU6IkV4dC51dGlsLk9ic2VydmFibGUifSxyZXF1aXJlczpbIkV4dC51dGlsLk1peGVkQ29sbGVjdGlvbiJdLHN0YXRpY3M6e2V4Y2VwdGlvbnM6e1RSQU5TUE9SVDoieGhyIixQQVJTRToicGFyc2UiLExPR0lOOiJsb2dpbiIsU0VSVkVSOiJleGNlcHRpb24ifX0sY29uc3RydWN0b3I6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuYWRkRXZlbnRzKCJldmVudCIsImV4Y2VwdGlvbiIpO2EudHJhbnNhY3Rpb25zPW5ldyBFeHQudXRpbC5NaXhlZENvbGxlY3Rpb24oKTthLnByb3ZpZGVycz1uZXcgRXh0LnV0aWwuTWl4ZWRDb2xsZWN0aW9uKCk7YS5taXhpbnMub2JzZXJ2YWJsZS5jb25zdHJ1Y3Rvci5jYWxsKGEpfSxhZGRQcm92aWRlcjpmdW5jdGlvbihlKXt2YXIgZD10aGlzLGI9YXJndW1lbnRzLGM9MCxhO2lmKGIubGVuZ3RoPjEpe2ZvcihhPWIubGVuZ3RoO2M8YTsrK2Mpe2QuYWRkUHJvdmlkZXIoYltjXSl9cmV0dXJufWlmKCFlLmlzUHJvdmlkZXIpe2U9RXh0LmNyZWF0ZSgiZGlyZWN0LiIrZS50eXBlKyJwcm92aWRlciIsZSl9ZC5wcm92aWRlcnMuYWRkKGUpO2Uub24oImRhdGEiLGQub25Qcm92aWRlckRhdGEsZCk7aWYoIWUuaXNDb25uZWN0ZWQoKSl7ZS5jb25uZWN0KCl9cmV0dXJuIGV9LGdldFByb3ZpZGVyOmZ1bmN0aW9uKGEpe3JldHVybiBhLmlzUHJvdmlkZXI/YTp0aGlzLnByb3ZpZGVycy5nZXQoYSl9LHJlbW92ZVByb3ZpZGVyOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT1iLnByb3ZpZGVycztjPWMuaXNQcm92aWRlcj9jOmEuZ2V0KGMpO2lmKGMpe2MudW4oImRhdGEiLGIub25Qcm92aWRlckRhdGEsYik7YS5yZW1vdmUoYyk7cmV0dXJuIGN9cmV0dXJuIG51bGx9LGFkZFRyYW5zYWN0aW9uOmZ1bmN0aW9uKGEpe3RoaXMudHJhbnNhY3Rpb25zLmFkZChhKTtyZXR1cm4gYX0scmVtb3ZlVHJhbnNhY3Rpb246ZnVuY3Rpb24oYSl7YT10aGlzLmdldFRyYW5zYWN0aW9uKGEpO3RoaXMudHJhbnNhY3Rpb25zLnJlbW92ZShhKTtyZXR1cm4gYX0sZ2V0VHJhbnNhY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuIEV4dC5pc09iamVjdChhKT9hOnRoaXMudHJhbnNhY3Rpb25zLmdldChhKX0sb25Qcm92aWRlckRhdGE6ZnVuY3Rpb24oZSxkKXt2YXIgYz10aGlzLGI9MCxhO2lmKEV4dC5pc0FycmF5KGQpKXtmb3IoYT1kLmxlbmd0aDtiPGE7KytiKXtjLm9uUHJvdmlkZXJEYXRhKGUsZFtiXSl9cmV0dXJufWlmKGQubmFtZSYmZC5uYW1lIT0iZXZlbnQiJiZkLm5hbWUhPSJleGNlcHRpb24iKXtjLmZpcmVFdmVudChkLm5hbWUsZCl9ZWxzZXtpZihkLnN0YXR1cz09PWZhbHNlKXtjLmZpcmVFdmVudCgiZXhjZXB0aW9uIixkKX19Yy5maXJlRXZlbnQoImV2ZW50IixkLGUpfSxwYXJzZU1ldGhvZDpmdW5jdGlvbihjKXtpZihFeHQuaXNTdHJpbmcoYykpe3ZhciBlPWMuc3BsaXQoIi4iKSxiPTAsYT1lLmxlbmd0aCxkPXdpbmRvdzt3aGlsZShkJiZiPGEpe2Q9ZFtlW2JdXTsrK2J9Yz1FeHQuaXNGdW5jdGlvbihkKT9kOm51bGx9cmV0dXJuIGN8fG51bGx9fSxmdW5jdGlvbigpe0V4dC5EaXJlY3Q9RXh0LmRpcmVjdC5NYW5hZ2VyfSk7RXh0LmRlZmluZSgiRXh0LmRhdGEucHJveHkuRGlyZWN0Iix7ZXh0ZW5kOiJFeHQuZGF0YS5wcm94eS5TZXJ2ZXIiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmRhdGEuRGlyZWN0UHJveHkiLGFsaWFzOiJwcm94eS5kaXJlY3QiLHJlcXVpcmVzOlsiRXh0LmRpcmVjdC5NYW5hZ2VyIl0scGFyYW1PcmRlcjp1bmRlZmluZWQscGFyYW1zQXNIYXNoOnRydWUsZGlyZWN0Rm46dW5kZWZpbmVkLHBhcmFtT3JkZXJSZTovW1xzLHxdLyxjb25zdHJ1Y3RvcjpmdW5jdGlvbihiKXt2YXIgZT10aGlzLGEsZCxjO2UuY2FsbFBhcmVudChhcmd1bWVudHMpO2E9ZS5wYXJhbU9yZGVyO2lmKEV4dC5pc1N0cmluZyhhKSl7ZS5wYXJhbU9yZGVyPWEuc3BsaXQoZS5wYXJhbU9yZGVyUmUpfWQ9ZS5kaXJlY3RGbjtpZihkKXtlLmRpcmVjdEZuPUV4dC5kaXJlY3QuTWFuYWdlci5wYXJzZU1ldGhvZChkKX1jPWUuYXBpO2ZvcihkIGluIGMpe2lmKGMuaGFzT3duUHJvcGVydHkoZCkpe2NbZF09RXh0LmRpcmVjdC5NYW5hZ2VyLnBhcnNlTWV0aG9kKGNbZF0pfX19LGRvUmVxdWVzdDpmdW5jdGlvbihkLGosayl7dmFyIGg9dGhpcyxiPWguZ2V0V3JpdGVyKCksZT1oLmJ1aWxkUmVxdWVzdChkLGosayksaT1oLmFwaVtlLmFjdGlvbl18fGguZGlyZWN0Rm4sYz1lLnBhcmFtcyxnPVtdLGE7aWYoZC5hbGxvd1dyaXRlKCkpe2U9Yi53cml0ZShlKX1pZihkLmFjdGlvbj09InJlYWQiKXthPWkuZGlyZWN0Q2ZnLm1ldGhvZDtnPWEuZ2V0QXJncyhjLGgucGFyYW1PcmRlcixoLnBhcmFtc0FzSGFzaCl9ZWxzZXtnLnB1c2goZS5qc29uRGF0YSl9RXh0LmFwcGx5KGUse2FyZ3M6ZyxkaXJlY3RGbjppfSk7Zy5wdXNoKGguY3JlYXRlUmVxdWVzdENhbGxiYWNrKGUsZCxqLGspLGgpO2kuYXBwbHkod2luZG93LGcpfSxhcHBseUVuY29kaW5nOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxjcmVhdGVSZXF1ZXN0Q2FsbGJhY2s6ZnVuY3Rpb24oZCxhLGUsYil7dmFyIGM9dGhpcztyZXR1cm4gZnVuY3Rpb24oaCxnKXtjLnByb2Nlc3NSZXNwb25zZShnLnN0YXR1cyxhLGQsZyxlLGIpfX0sZXh0cmFjdFJlc3BvbnNlRGF0YTpmdW5jdGlvbihhKXtyZXR1cm4gRXh0LmlzRGVmaW5lZChhLnJlc3VsdCk/YS5yZXN1bHQ6YS5kYXRhfSxzZXRFeGNlcHRpb246ZnVuY3Rpb24oYixhKXtiLnNldEV4Y2VwdGlvbihhLm1lc3NhZ2UpfSxidWlsZFVybDpmdW5jdGlvbigpe3JldHVybiIifX0pO0V4dC5kZWZpbmUoIkV4dC5kYXRhLkRpcmVjdFN0b3JlIix7ZXh0ZW5kOiJFeHQuZGF0YS5TdG9yZSIsYWxpYXM6InN0b3JlLmRpcmVjdCIscmVxdWlyZXM6WyJFeHQuZGF0YS5wcm94eS5EaXJlY3QiXSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXthPUV4dC5hcHBseSh7fSxhKTtpZighYS5wcm94eSl7dmFyIGI9e3R5cGU6ImRpcmVjdCIscmVhZGVyOnt0eXBlOiJqc29uIn19O0V4dC5jb3B5VG8oYixhLCJwYXJhbU9yZGVyLHBhcmFtc0FzSGFzaCxkaXJlY3RGbixhcGksc2ltcGxlU29ydE1vZGUiKTtFeHQuY29weVRvKGIucmVhZGVyLGEsInRvdGFsUHJvcGVydHkscm9vdCxpZFByb3BlcnR5Iik7YS5wcm94eT1ifXRoaXMuY2FsbFBhcmVudChbYV0pfX0pO0V4dC5kZWZpbmUoIkV4dC5kaXJlY3QuRXZlbnQiLHthbGlhczoiZGlyZWN0LmV2ZW50IixyZXF1aXJlczpbIkV4dC5kaXJlY3QuTWFuYWdlciJdLHN0YXR1czp0cnVlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe0V4dC5hcHBseSh0aGlzLGEpfSxnZXREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGF0YX19KTtFeHQuZGVmaW5lKCJFeHQuZGlyZWN0LlJlbW90aW5nRXZlbnQiLHtleHRlbmQ6IkV4dC5kaXJlY3QuRXZlbnQiLGFsaWFzOiJkaXJlY3QucnBjIixnZXRUcmFuc2FjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRyYW5zYWN0aW9ufHxFeHQuZGlyZWN0Lk1hbmFnZXIuZ2V0VHJhbnNhY3Rpb24odGhpcy50aWQpfX0pO0V4dC5kZWZpbmUoIkV4dC5kaXJlY3QuRXhjZXB0aW9uRXZlbnQiLHtleHRlbmQ6IkV4dC5kaXJlY3QuUmVtb3RpbmdFdmVudCIsYWxpYXM6ImRpcmVjdC5leGNlcHRpb24iLHN0YXR1czpmYWxzZX0pO0V4dC5kZWZpbmUoIkV4dC5kaXJlY3QuUmVtb3RpbmdQcm92aWRlciIse2FsaWFzOiJkaXJlY3QucmVtb3Rpbmdwcm92aWRlciIsZXh0ZW5kOiJFeHQuZGlyZWN0Lkpzb25Qcm92aWRlciIscmVxdWlyZXM6WyJFeHQudXRpbC5NaXhlZENvbGxlY3Rpb24iLCJFeHQudXRpbC5EZWxheWVkVGFzayIsIkV4dC5kaXJlY3QuVHJhbnNhY3Rpb24iLCJFeHQuZGlyZWN0LlJlbW90aW5nTWV0aG9kIl0sZW5hYmxlQnVmZmVyOjEwLG1heFJldHJpZXM6MSx0aW1lb3V0OnVuZGVmaW5lZCxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IuY2FsbFBhcmVudChhcmd1bWVudHMpO2IuYWRkRXZlbnRzKCJiZWZvcmVjYWxsIiwiY2FsbCIpO2IubmFtZXNwYWNlPShFeHQuaXNTdHJpbmcoYi5uYW1lc3BhY2UpKT9FeHQubnMoYi5uYW1lc3BhY2UpOmIubmFtZXNwYWNlfHx3aW5kb3c7Yi50cmFuc2FjdGlvbnM9bmV3IEV4dC51dGlsLk1peGVkQ29sbGVjdGlvbigpO2IuY2FsbEJ1ZmZlcj1bXX0saW5pdEFQSTpmdW5jdGlvbigpe3ZhciBoPXRoaXMuYWN0aW9ucyxlPXRoaXMubmFtZXNwYWNlLGcsYixjLGQsYSxqO2ZvcihnIGluIGgpe2lmKGguaGFzT3duUHJvcGVydHkoZykpe2I9ZVtnXTtpZighYil7Yj1lW2ddPXt9fWM9aFtnXTtmb3IoZD0wLGE9Yy5sZW5ndGg7ZDxhOysrZCl7aj1uZXcgRXh0LmRpcmVjdC5SZW1vdGluZ01ldGhvZChjW2RdKTtiW2oubmFtZV09dGhpcy5jcmVhdGVIYW5kbGVyKGcsail9fX19LGNyZWF0ZUhhbmRsZXI6ZnVuY3Rpb24oYyxkKXt2YXIgYj10aGlzLGE7aWYoIWQuZm9ybUhhbmRsZXIpe2E9ZnVuY3Rpb24oKXtiLmNvbmZpZ3VyZVJlcXVlc3QoYyxkLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywwKSl9fWVsc2V7YT1mdW5jdGlvbihnLGgsZSl7Yi5jb25maWd1cmVGb3JtUmVxdWVzdChjLGQsZyxoLGUpfX1hLmRpcmVjdENmZz17YWN0aW9uOmMsbWV0aG9kOmR9O3JldHVybiBhfSxpc0Nvbm5lY3RlZDpmdW5jdGlvbigpe3JldHVybiAhIXRoaXMuY29ubmVjdGVkfSxjb25uZWN0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLnVybCl7YS5pbml0QVBJKCk7YS5jb25uZWN0ZWQ9dHJ1ZTthLmZpcmVFdmVudCgiY29ubmVjdCIsYSl9ZWxzZXtpZighYS51cmwpe319fSxkaXNjb25uZWN0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLmNvbm5lY3RlZCl7YS5jb25uZWN0ZWQ9ZmFsc2U7YS5maXJlRXZlbnQoImRpc2Nvbm5lY3QiLGEpfX0scnVuQ2FsbGJhY2s6ZnVuY3Rpb24oZSxiKXt2YXIgZD0hIWIuc3RhdHVzLGM9ZD8ic3VjY2VzcyI6ImZhaWx1cmUiLGcsYTtpZihlJiZlLmNhbGxiYWNrKXtnPWUuY2FsbGJhY2s7YT1FeHQuaXNEZWZpbmVkKGIucmVzdWx0KT9iLnJlc3VsdDpiLmRhdGE7aWYoRXh0LmlzRnVuY3Rpb24oZykpe2coYSxiLGQpfWVsc2V7RXh0LmNhbGxiYWNrKGdbY10sZy5zY29wZSxbYSxiLGRdKTtFeHQuY2FsbGJhY2soZy5jYWxsYmFjayxnLnNjb3BlLFthLGIsZF0pfX19LG9uRGF0YTpmdW5jdGlvbihsLGosYyl7dmFyIGc9dGhpcyxkPTAsZSxrLGEsYixoO2lmKGope2s9Zy5jcmVhdGVFdmVudHMoYyk7Zm9yKGU9ay5sZW5ndGg7ZDxlOysrZCl7YT1rW2RdO2I9Zy5nZXRUcmFuc2FjdGlvbihhKTtnLmZpcmVFdmVudCgiZGF0YSIsZyxhKTtpZihiKXtnLnJ1bkNhbGxiYWNrKGIsYSx0cnVlKTtFeHQuZGlyZWN0Lk1hbmFnZXIucmVtb3ZlVHJhbnNhY3Rpb24oYil9fX1lbHNle2g9W10uY29uY2F0KGwudHJhbnNhY3Rpb24pO2ZvcihlPWgubGVuZ3RoO2Q8ZTsrK2Qpe2I9Zy5nZXRUcmFuc2FjdGlvbihoW2RdKTtpZihiJiZiLnJldHJ5Q291bnQ8Zy5tYXhSZXRyaWVzKXtiLnJldHJ5KCl9ZWxzZXthPW5ldyBFeHQuZGlyZWN0LkV4Y2VwdGlvbkV2ZW50KHtkYXRhOm51bGwsdHJhbnNhY3Rpb246Yixjb2RlOkV4dC5kaXJlY3QuTWFuYWdlci5zZWxmLmV4Y2VwdGlvbnMuVFJBTlNQT1JULG1lc3NhZ2U6IlVuYWJsZSB0byBjb25uZWN0IHRvIHRoZSBzZXJ2ZXIuIix4aHI6Y30pO2cuZmlyZUV2ZW50KCJkYXRhIixnLGEpO2lmKGIpe2cucnVuQ2FsbGJhY2soYixhLGZhbHNlKTtFeHQuZGlyZWN0Lk1hbmFnZXIucmVtb3ZlVHJhbnNhY3Rpb24oYil9fX19fSxnZXRUcmFuc2FjdGlvbjpmdW5jdGlvbihhKXtyZXR1cm4gYSYmYS50aWQ/RXh0LmRpcmVjdC5NYW5hZ2VyLmdldFRyYW5zYWN0aW9uKGEudGlkKTpudWxsfSxjb25maWd1cmVSZXF1ZXN0OmZ1bmN0aW9uKGQsYSxnKXt2YXIgaD10aGlzLGM9YS5nZXRDYWxsRGF0YShnKSxlPWMuZGF0YSxpPWMuY2FsbGJhY2ssaj1jLnNjb3BlLGI7Yj1uZXcgRXh0LmRpcmVjdC5UcmFuc2FjdGlvbih7cHJvdmlkZXI6aCxhcmdzOmcsYWN0aW9uOmQsbWV0aG9kOmEubmFtZSxkYXRhOmUsY2FsbGJhY2s6aiYmRXh0LmlzRnVuY3Rpb24oaSk/RXh0LkZ1bmN0aW9uLmJpbmQoaSxqKTppfSk7aWYoaC5maXJlRXZlbnQoImJlZm9yZWNhbGwiLGgsYixhKSE9PWZhbHNlKXtFeHQuZGlyZWN0Lk1hbmFnZXIuYWRkVHJhbnNhY3Rpb24oYik7aC5xdWV1ZVRyYW5zYWN0aW9uKGIpO2guZmlyZUV2ZW50KCJjYWxsIixoLGIsYSl9fSxnZXRDYWxsRGF0YTpmdW5jdGlvbihhKXtyZXR1cm57YWN0aW9uOmEuYWN0aW9uLG1ldGhvZDphLm1ldGhvZCxkYXRhOmEuZGF0YSx0eXBlOiJycGMiLHRpZDphLmlkfX0sc2VuZFJlcXVlc3Q6ZnVuY3Rpb24oaCl7dmFyIGc9dGhpcyxlPXt1cmw6Zy51cmwsY2FsbGJhY2s6Zy5vbkRhdGEsc2NvcGU6Zyx0cmFuc2FjdGlvbjpoLHRpbWVvdXQ6Zy50aW1lb3V0fSxiLGQ9Zy5lbmFibGVVcmxFbmNvZGUsYz0wLGEsajtpZihFeHQuaXNBcnJheShoKSl7Yj1bXTtmb3IoYT1oLmxlbmd0aDtjPGE7KytjKXtiLnB1c2goZy5nZXRDYWxsRGF0YShoW2NdKSl9fWVsc2V7Yj1nLmdldENhbGxEYXRhKGgpfWlmKGQpe2o9e307altFeHQuaXNTdHJpbmcoZCk/ZDoiZGF0YSJdPUV4dC5lbmNvZGUoYik7ZS5wYXJhbXM9an1lbHNle2UuanNvbkRhdGE9Yn1FeHQuQWpheC5yZXF1ZXN0KGUpfSxxdWV1ZVRyYW5zYWN0aW9uOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT1iLmVuYWJsZUJ1ZmZlcjtpZihjLmZvcm0pe2Iuc2VuZEZvcm1SZXF1ZXN0KGMpO3JldHVybn1iLmNhbGxCdWZmZXIucHVzaChjKTtpZihhKXtpZighYi5jYWxsVGFzayl7Yi5jYWxsVGFzaz1uZXcgRXh0LnV0aWwuRGVsYXllZFRhc2soYi5jb21iaW5lQW5kU2VuZCxiKX1iLmNhbGxUYXNrLmRlbGF5KEV4dC5pc051bWJlcihhKT9hOjEwKX1lbHNle2IuY29tYmluZUFuZFNlbmQoKX19LGNvbWJpbmVBbmRTZW5kOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5jYWxsQnVmZmVyLGE9Yi5sZW5ndGg7aWYoYT4wKXt0aGlzLnNlbmRSZXF1ZXN0KGE9PTE/YlswXTpiKTt0aGlzLmNhbGxCdWZmZXI9W119fSxjb25maWd1cmVGb3JtUmVxdWVzdDpmdW5jdGlvbihlLGEsYixpLGope3ZhciBoPXRoaXMsYz1uZXcgRXh0LmRpcmVjdC5UcmFuc2FjdGlvbih7cHJvdmlkZXI6aCxhY3Rpb246ZSxtZXRob2Q6YS5uYW1lLGFyZ3M6W2IsaSxqXSxjYWxsYmFjazpqJiZFeHQuaXNGdW5jdGlvbihpKT9FeHQuRnVuY3Rpb24uYmluZChpLGopOmksaXNGb3JtOnRydWV9KSxnLGQ7aWYoaC5maXJlRXZlbnQoImJlZm9yZWNhbGwiLGgsYyxhKSE9PWZhbHNlKXtFeHQuZGlyZWN0Lk1hbmFnZXIuYWRkVHJhbnNhY3Rpb24oYyk7Zz1TdHJpbmcoYi5nZXRBdHRyaWJ1dGUoImVuY3R5cGUiKSkudG9Mb3dlckNhc2UoKT09Im11bHRpcGFydC9mb3JtLWRhdGEiO2Q9e2V4dFRJRDpjLmlkLGV4dEFjdGlvbjplLGV4dE1ldGhvZDphLm5hbWUsZXh0VHlwZToicnBjIixleHRVcGxvYWQ6U3RyaW5nKGcpfTtFeHQuYXBwbHkoYyx7Zm9ybTpFeHQuZ2V0RG9tKGIpLGlzVXBsb2FkOmcscGFyYW1zOmkmJkV4dC5pc09iamVjdChpLnBhcmFtcyk/RXh0LmFwcGx5KGQsaS5wYXJhbXMpOmR9KTtoLmZpcmVFdmVudCgiY2FsbCIsaCxjLGEpO2guc2VuZEZvcm1SZXF1ZXN0KGMpfX0sc2VuZEZvcm1SZXF1ZXN0OmZ1bmN0aW9uKGEpe0V4dC5BamF4LnJlcXVlc3Qoe3VybDp0aGlzLnVybCxwYXJhbXM6YS5wYXJhbXMsY2FsbGJhY2s6dGhpcy5vbkRhdGEsc2NvcGU6dGhpcyxmb3JtOmEuZm9ybSxpc1VwbG9hZDphLmlzVXBsb2FkLHRyYW5zYWN0aW9uOmF9KX19KTtFeHQuZGVmaW5lKCJFeHQuZHJhdy5Db21wb3NpdGVTcHJpdGUiLHtleHRlbmQ6IkV4dC51dGlsLk1peGVkQ29sbGVjdGlvbiIsbWl4aW5zOnthbmltYXRlOiJFeHQudXRpbC5BbmltYXRlIn0sYXV0b0Rlc3Ryb3k6ZmFsc2UsaXNDb21wb3NpdGVTcHJpdGU6dHJ1ZSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2E9YXx8e307RXh0LmFwcGx5KGIsYSk7Yi5hZGRFdmVudHMoIm1vdXNlZG93biIsIm1vdXNldXAiLCJtb3VzZW92ZXIiLCJtb3VzZW91dCIsImNsaWNrIik7Yi5pZD1FeHQuaWQobnVsbCwiZXh0LXNwcml0ZS1ncm91cC0iKTtiLmNhbGxQYXJlbnQoKX0sb25DbGljazpmdW5jdGlvbihhKXt0aGlzLmZpcmVFdmVudCgiY2xpY2siLGEpfSxvbk1vdXNlVXA6ZnVuY3Rpb24oYSl7dGhpcy5maXJlRXZlbnQoIm1vdXNldXAiLGEpfSxvbk1vdXNlRG93bjpmdW5jdGlvbihhKXt0aGlzLmZpcmVFdmVudCgibW91c2Vkb3duIixhKX0sb25Nb3VzZU92ZXI6ZnVuY3Rpb24oYSl7dGhpcy5maXJlRXZlbnQoIm1vdXNlb3ZlciIsYSl9LG9uTW91c2VPdXQ6ZnVuY3Rpb24oYSl7dGhpcy5maXJlRXZlbnQoIm1vdXNlb3V0IixhKX0sYXR0YWNoRXZlbnRzOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7Yi5vbih7c2NvcGU6YSxtb3VzZWRvd246YS5vbk1vdXNlRG93bixtb3VzZXVwOmEub25Nb3VzZVVwLG1vdXNlb3ZlcjphLm9uTW91c2VPdmVyLG1vdXNlb3V0OmEub25Nb3VzZU91dCxjbGljazphLm9uQ2xpY2t9KX0sYWRkOmZ1bmN0aW9uKGIsYyl7dmFyIGE9dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dGhpcy5hdHRhY2hFdmVudHMoYSk7cmV0dXJuIGF9LGluc2VydDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxyZW1vdmU6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztiLnVuKHtzY29wZTphLG1vdXNlZG93bjphLm9uTW91c2VEb3duLG1vdXNldXA6YS5vbk1vdXNlVXAsbW91c2VvdmVyOmEub25Nb3VzZU92ZXIsbW91c2VvdXQ6YS5vbk1vdXNlT3V0LGNsaWNrOmEub25DbGlja30pO3JldHVybiBhLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sZ2V0QkJveDpmdW5jdGlvbigpe3ZhciBlPTAsbixqLGs9dGhpcy5pdGVtcyxnPXRoaXMubGVuZ3RoLGg9SW5maW5pdHksYz1oLG09LWgsYj1oLGw9LWgsZCxhO2Zvcig7ZTxnO2UrKyl7bj1rW2VdO2lmKG4uZWwmJiFuLmJib3hFeGNsdWRlZCl7aj1uLmdldEJCb3goKTtjPU1hdGgubWluKGMsai54KTtiPU1hdGgubWluKGIsai55KTttPU1hdGgubWF4KG0sai5oZWlnaHQrai55KTtsPU1hdGgubWF4KGwsai53aWR0aCtqLngpfX1yZXR1cm57eDpjLHk6YixoZWlnaHQ6bS1iLHdpZHRoOmwtY319LHNldEF0dHJpYnV0ZXM6ZnVuY3Rpb24oYyxlKXt2YXIgZD0wLGI9dGhpcy5pdGVtcyxhPXRoaXMubGVuZ3RoO2Zvcig7ZDxhO2QrKyl7YltkXS5zZXRBdHRyaWJ1dGVzKGMsZSl9cmV0dXJuIHRoaXN9LGhpZGU6ZnVuY3Rpb24oZCl7dmFyIGM9MCxiPXRoaXMuaXRlbXMsYT10aGlzLmxlbmd0aDtmb3IoO2M8YTtjKyspe2JbY10uaGlkZShkKX1yZXR1cm4gdGhpc30sc2hvdzpmdW5jdGlvbihkKXt2YXIgYz0wLGI9dGhpcy5pdGVtcyxhPXRoaXMubGVuZ3RoO2Zvcig7YzxhO2MrKyl7YltjXS5zaG93KGQpfXJldHVybiB0aGlzfSxyZWRyYXc6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGQ9MCxjPWUuaXRlbXMsYj1lLmdldFN1cmZhY2UoKSxhPWUubGVuZ3RoO2lmKGIpe2Zvcig7ZDxhO2QrKyl7Yi5yZW5kZXJJdGVtKGNbZF0pfX1yZXR1cm4gZX0sc2V0U3R5bGU6ZnVuY3Rpb24oZyl7dmFyIGM9MCxiPXRoaXMuaXRlbXMsYT10aGlzLmxlbmd0aCxlLGQ7Zm9yKDtjPGE7YysrKXtlPWJbY107ZD1lLmVsO2lmKGQpe2Quc2V0U3R5bGUoZyl9fX0sYWRkQ2xzOmZ1bmN0aW9uKGUpe3ZhciBkPTAsYz10aGlzLml0ZW1zLGI9dGhpcy5nZXRTdXJmYWNlKCksYT10aGlzLmxlbmd0aDtpZihiKXtmb3IoO2Q8YTtkKyspe2IuYWRkQ2xzKGNbZF0sZSl9fX0scmVtb3ZlQ2xzOmZ1bmN0aW9uKGUpe3ZhciBkPTAsYz10aGlzLml0ZW1zLGI9dGhpcy5nZXRTdXJmYWNlKCksYT10aGlzLmxlbmd0aDtpZihiKXtmb3IoO2Q8YTtkKyspe2IucmVtb3ZlQ2xzKGNbZF0sZSl9fX0sZ2V0U3VyZmFjZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZmlyc3QoKTtpZihhKXtyZXR1cm4gYS5zdXJmYWNlfXJldHVybiBudWxsfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxhPWQuZ2V0U3VyZmFjZSgpLGM9ZC5hdXRvRGVzdHJveSxiO2lmKGEpe3doaWxlKGQuZ2V0Q291bnQoKT4wKXtiPWQuZmlyc3QoKTtkLnJlbW92ZShiKTthLnJlbW92ZShiLGMpfX1kLmNsZWFyTGlzdGVuZXJzKCl9fSk7RXh0LmRlZmluZSgiRXh0LmNoYXJ0LkxlZ2VuZEl0ZW0iLHtleHRlbmQ6IkV4dC5kcmF3LkNvbXBvc2l0ZVNwcml0ZSIscmVxdWlyZXM6WyJFeHQuY2hhcnQuU2hhcGUiXSx4OjAseTowLHpJbmRleDo1MDAsYm9sZFJlOi9ib2xkXHNcZHsxLH0uKi9pLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3RoaXMuY3JlYXRlTGVnZW5kKGEpfSxjcmVhdGVMZWdlbmQ6ZnVuY3Rpb24ocyl7dmFyIHQ9dGhpcyxpPXMueUZpZWxkSW5kZXgsbD10LnNlcmllcyxhPWwudHlwZSxtPXQueUZpZWxkSW5kZXgsZD10LmxlZ2VuZCxwPXQuc3VyZmFjZSxxPWQueCt0Lngsbj1kLnkrdC55LGMsaz10LnpJbmRleCxiLGoscixlLG89ZmFsc2UsaD1FeHQuYXBwbHkobC5zZXJpZXNTdHlsZSxsLnN0eWxlKTtmdW5jdGlvbiBnKHUpe3ZhciB2PWxbdV07cmV0dXJuKEV4dC5pc0FycmF5KHYpP3ZbbV06dil9aj10LmFkZCgibGFiZWwiLHAuYWRkKHt0eXBlOiJ0ZXh0Iix4OjIwLHk6MCx6SW5kZXg6KGt8fDApKzIsZmlsbDpkLmxhYmVsQ29sb3IsZm9udDpkLmxhYmVsRm9udCx0ZXh0OmcoInRpdGxlIil8fGcoInlGaWVsZCIpLHN0eWxlOntjdXJzb3I6InBvaW50ZXIifX0pKTtpZihhPT09ImxpbmUifHxhPT09InNjYXR0ZXIiKXtpZihhPT09ImxpbmUiKXt0LmFkZCgibGluZSIscC5hZGQoe3R5cGU6InBhdGgiLHBhdGg6Ik0wLjUsMC41TDE2LjUsMC41Iix6SW5kZXg6KGt8fDApKzIsInN0cm9rZS13aWR0aCI6bC5saW5lV2lkdGgsInN0cm9rZS1saW5lam9pbiI6InJvdW5kIiwic3Ryb2tlLWRhc2hhcnJheSI6bC5kYXNoLHN0cm9rZTpoLnN0cm9rZXx8bC5nZXRMZWdlbmRDb2xvcihpKXx8IiMwMDAiLHN0eWxlOntjdXJzb3I6InBvaW50ZXIifX0pKX1pZihsLnNob3dNYXJrZXJzfHxhPT09InNjYXR0ZXIiKXtiPUV4dC5hcHBseShsLm1hcmtlclN0eWxlLGwubWFya2VyQ29uZmlnfHx7fSx7ZmlsbDpsLmdldExlZ2VuZENvbG9yKGkpfSk7dC5hZGQoIm1hcmtlciIsRXh0LmNoYXJ0LlNoYXBlW2IudHlwZV0ocCx7ZmlsbDpiLmZpbGwseDo4LjUseTowLjUsekluZGV4OihrfHwwKSsyLHJhZGl1czpiLnJhZGl1c3x8Yi5zaXplLHN0eWxlOntjdXJzb3I6InBvaW50ZXIifX0pKX19ZWxzZXt0LmFkZCgiYm94IixwLmFkZCh7dHlwZToicmVjdCIsekluZGV4OihrfHwwKSsyLHg6MCx5OjAsd2lkdGg6MTIsaGVpZ2h0OjEyLGZpbGw6bC5nZXRMZWdlbmRDb2xvcihpKSxzdHlsZTp7Y3Vyc29yOiJwb2ludGVyIn19KSl9dC5zZXRBdHRyaWJ1dGVzKHtoaWRkZW46ZmFsc2V9LHRydWUpO2M9dC5nZXRCQm94KCk7cj10LmFkZCgibWFzayIscC5hZGQoe3R5cGU6InJlY3QiLHg6Yy54LHk6Yy55LHdpZHRoOmMud2lkdGh8fDIwLGhlaWdodDpjLmhlaWdodHx8MjAsekluZGV4OihrfHwwKSsxLGZpbGw6dC5sZWdlbmQuYm94RmlsbCxzdHlsZTp7Y3Vyc29yOiJwb2ludGVyIn19KSk7dC5vbigibW91c2VvdmVyIixmdW5jdGlvbigpe2ouc2V0U3R5bGUoeyJmb250LXdlaWdodCI6ImJvbGQifSk7ci5zZXRTdHlsZSh7Y3Vyc29yOiJwb2ludGVyIn0pO2wuX2luZGV4PWk7bC5oaWdobGlnaHRJdGVtKCl9LHQpO3Qub24oIm1vdXNlb3V0IixmdW5jdGlvbigpe2ouc2V0U3R5bGUoeyJmb250LXdlaWdodCI6ZC5sYWJlbEZvbnQmJnQuYm9sZFJlLnRlc3QoZC5sYWJlbEZvbnQpPyJib2xkIjoibm9ybWFsIn0pO2wuX2luZGV4PWk7bC51bkhpZ2hsaWdodEl0ZW0oKX0sdCk7aWYoIWwudmlzaWJsZUluTGVnZW5kKGkpKXtvPXRydWU7ai5zZXRBdHRyaWJ1dGVzKHtvcGFjaXR5OjAuNX0sdHJ1ZSl9dC5vbigibW91c2Vkb3duIixmdW5jdGlvbigpe2lmKCFvKXtsLmhpZGVBbGwoaSk7ai5zZXRBdHRyaWJ1dGVzKHtvcGFjaXR5OjAuNX0sdHJ1ZSl9ZWxzZXtsLnNob3dBbGwoaSk7ai5zZXRBdHRyaWJ1dGVzKHtvcGFjaXR5OjF9LHRydWUpfW89IW99LHQpO3QudXBkYXRlUG9zaXRpb24oe3g6MCx5OjB9KX0sdXBkYXRlUG9zaXRpb246ZnVuY3Rpb24oYyl7dmFyIGc9dGhpcyxhPWcuaXRlbXMsZT1hLmxlbmd0aCxiPTAsZDtpZighYyl7Yz1nLmxlZ2VuZH1mb3IoO2I8ZTtiKyspe2Q9YVtiXTtzd2l0Y2goZC50eXBlKXtjYXNlInRleHQiOmQuc2V0QXR0cmlidXRlcyh7eDoyMCtjLngrZy54LHk6Yy55K2cueX0sdHJ1ZSk7YnJlYWs7Y2FzZSJyZWN0IjpkLnNldEF0dHJpYnV0ZXMoe3RyYW5zbGF0ZTp7eDpjLngrZy54LHk6Yy55K2cueS02fX0sdHJ1ZSk7YnJlYWs7ZGVmYXVsdDpkLnNldEF0dHJpYnV0ZXMoe3RyYW5zbGF0ZTp7eDpjLngrZy54LHk6Yy55K2cueX19LHRydWUpfX19fSk7RXh0LmRlZmluZSgiRXh0LmNoYXJ0LkxlZ2VuZCIse3JlcXVpcmVzOlsiRXh0LmNoYXJ0LkxlZ2VuZEl0ZW0iXSx2aXNpYmxlOnRydWUsdXBkYXRlOnRydWUscG9zaXRpb246ImJvdHRvbSIseDowLHk6MCxsYWJlbENvbG9yOiIjMDAwIixsYWJlbEZvbnQ6IjEycHggSGVsdmV0aWNhLCBzYW5zLXNlcmlmIixib3hTdHJva2U6IiMwMDAiLGJveFN0cm9rZVdpZHRoOjEsYm94RmlsbDoiI0ZGRiIsaXRlbVNwYWNpbmc6MTAscGFkZGluZzo1LHdpZHRoOjAsaGVpZ2h0OjAsYm94WkluZGV4OjEwMCxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKGEpe0V4dC5hcHBseShiLGEpfWIuaXRlbXM9W107Yi5pc1ZlcnRpY2FsPSgibGVmdHxyaWdodHxmbG9hdCIuaW5kZXhPZihiLnBvc2l0aW9uKSE9PS0xKTtiLm9yaWdYPWIueDtiLm9yaWdZPWIueX0sY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxhPWUuY2hhcnQuc2VyaWVzLml0ZW1zLGMsZCxiO2UuY3JlYXRlQm94KCk7aWYoZS5yZWJ1aWxkIT09ZmFsc2Upe2UuY3JlYXRlSXRlbXMoKX1pZighZS5jcmVhdGVkJiZlLmlzRGlzcGxheWVkKCkpe2UuY3JlYXRlZD10cnVlO2ZvcihjPTAsZD1hLmxlbmd0aDtjPGQ7YysrKXtiPWFbY107Yi5vbigidGl0bGVjaGFuZ2UiLGZ1bmN0aW9uKCl7ZS5jcmVhdGUoKTtlLnVwZGF0ZVBvc2l0aW9uKCl9KX19fSxpc0Rpc3BsYXllZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnZpc2libGUmJnRoaXMuY2hhcnQuc2VyaWVzLmZpbmRJbmRleCgic2hvd0luTGVnZW5kIix0cnVlKSE9PS0xfSxjcmVhdGVJdGVtczpmdW5jdGlvbigpe3ZhciBIPXRoaXMscz1ILmNoYXJ0LGI9cy5zZXJpZXMuaXRlbXMsbyxxLEE9cy5zdXJmYWNlLHU9SC5pdGVtcyxyPUgucGFkZGluZyxLPUguaXRlbVNwYWNpbmcsbT0yLEU9MCx6PTAsaD0wLEc9MCxkPUguaXNWZXJ0aWNhbCxnPU1hdGgsZT1nLmZsb29yLEo9Zy5tYXgsbD0wLEM9MCxEPXU/dS5sZW5ndGg6MCxwLG4sayxGLGEsdCx3LHYsYyxJLEI7aWYoRCl7Zm9yKDtDPEQ7QysrKXt1W0NdLmRlc3Ryb3koKX19dS5sZW5ndGg9W107Zm9yKEM9MCxvPWIubGVuZ3RoO0M8bztDKyspe3E9YltDXTtpZihxLnNob3dJbkxlZ2VuZCl7dj1bXS5jb25jYXQocS55RmllbGQpO2ZvcihCPTAsST12Lmxlbmd0aDtCPEk7QisrKXtjPXZbQl07Rj1uZXcgRXh0LmNoYXJ0LkxlZ2VuZEl0ZW0oe2xlZ2VuZDp0aGlzLHNlcmllczpxLHN1cmZhY2U6cy5zdXJmYWNlLHlGaWVsZEluZGV4OkJ9KTthPUYuZ2V0QkJveCgpO3c9YS53aWR0aDt0PWEuaGVpZ2h0O2lmKEMrQj09PTApe2s9ZD9yK3QvMjpyfWVsc2V7az1LLyhkPzI6MSl9Ri54PWUoZD9yOmgrayk7Ri55PWUoZD9HK2s6cit0LzIpO2grPXcraztHKz10K2s7RT1KKEUsdyk7ej1KKHosdCk7dS5wdXNoKEYpfX19SC53aWR0aD1lKChkP0U6aCkrcioyKTtpZihkJiZ1Lmxlbmd0aD09PTEpe209MX1ILmhlaWdodD1lKChkP0ctbSprOnopKyhyKjIpKTtILml0ZW1IZWlnaHQ9en0sZ2V0QkJveDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJue3g6TWF0aC5yb3VuZChhLngpLWEuYm94U3Ryb2tlV2lkdGgvMix5Ok1hdGgucm91bmQoYS55KS1hLmJveFN0cm9rZVdpZHRoLzIsd2lkdGg6YS53aWR0aCxoZWlnaHQ6YS5oZWlnaHR9fSxjcmVhdGVCb3g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGEsYztpZihiLmJveFNwcml0ZSl7Yi5ib3hTcHJpdGUuZGVzdHJveSgpfWM9Yi5nZXRCQm94KCk7aWYoaXNOYU4oYy53aWR0aCl8fGlzTmFOKGMuaGVpZ2h0KSl7Yi5ib3hTcHJpdGU9ZmFsc2U7cmV0dXJufWE9Yi5ib3hTcHJpdGU9Yi5jaGFydC5zdXJmYWNlLmFkZChFeHQuYXBwbHkoe3R5cGU6InJlY3QiLHN0cm9rZTpiLmJveFN0cm9rZSwic3Ryb2tlLXdpZHRoIjpiLmJveFN0cm9rZVdpZHRoLGZpbGw6Yi5ib3hGaWxsLHpJbmRleDpiLmJveFpJbmRleH0sYykpO2EucmVkcmF3KCl9LHVwZGF0ZVBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIHU9dGhpcyxwPXUuaXRlbXMscixqLGwsaCxuPXUud2lkdGh8fDAsYz11LmhlaWdodHx8MCxtPXUucGFkZGluZyxvPXUuY2hhcnQsaz1vLmNoYXJ0QkJveCxzPW8uaW5zZXRQYWRkaW5nLHQ9ay53aWR0aC0ocyoyKSxkPWsuaGVpZ2h0LShzKjIpLGc9ay54K3MsZT1rLnkrcyxxPW8uc3VyZmFjZSxiPU1hdGguZmxvb3IsYTtpZih1LmlzRGlzcGxheWVkKCkpe3N3aXRjaCh1LnBvc2l0aW9uKXtjYXNlImxlZnQiOmw9cztoPWIoZStkLzItYy8yKTticmVhaztjYXNlInJpZ2h0IjpsPWIocS53aWR0aC1uKS1zO2g9YihlK2QvMi1jLzIpO2JyZWFrO2Nhc2UidG9wIjpsPWIoZyt0LzItbi8yKTtoPXM7YnJlYWs7Y2FzZSJib3R0b20iOmw9YihnK3QvMi1uLzIpO2g9YihxLmhlaWdodC1jKS1zO2JyZWFrO2RlZmF1bHQ6bD1iKHUub3JpZ1gpK3M7aD1iKHUub3JpZ1kpK3N9dS54PWw7dS55PWg7Zm9yKHI9MCxqPXAubGVuZ3RoO3I8ajtyKyspe3Bbcl0udXBkYXRlUG9zaXRpb24oKX1hPXUuZ2V0QkJveCgpO2lmKGlzTmFOKGEud2lkdGgpfHxpc05hTihhLmhlaWdodCkpe2lmKHUuYm94U3ByaXRlKXt1LmJveFNwcml0ZS5oaWRlKHRydWUpfX1lbHNle2lmKCF1LmJveFNwcml0ZSl7dS5jcmVhdGVCb3goKX11LmJveFNwcml0ZS5zZXRBdHRyaWJ1dGVzKGEsdHJ1ZSk7dS5ib3hTcHJpdGUuc2hvdyh0cnVlKX19fSx0b2dnbGU6ZnVuY3Rpb24oYil7dmFyIGU9dGhpcyxkPTAsYz1lLml0ZW1zLGE9Yy5sZW5ndGg7aWYoZS5ib3hTcHJpdGUpe2lmKGIpe2UuYm94U3ByaXRlLnNob3codHJ1ZSl9ZWxzZXtlLmJveFNwcml0ZS5oaWRlKHRydWUpfX1mb3IoO2Q8YTsrK2Qpe2lmKGIpe2NbZF0uc2hvdyh0cnVlKX1lbHNle2NbZF0uaGlkZSh0cnVlKX19ZS52aXNpYmxlPWJ9fSk7RXh0LmRlZmluZSgiRXh0LmRyYXcuU3VyZmFjZSIse21peGluczp7b2JzZXJ2YWJsZToiRXh0LnV0aWwuT2JzZXJ2YWJsZSJ9LHJlcXVpcmVzOlsiRXh0LmRyYXcuQ29tcG9zaXRlU3ByaXRlIl0sdXNlczpbIkV4dC5kcmF3LmVuZ2luZS5TdmciLCJFeHQuZHJhdy5lbmdpbmUuVm1sIiwiRXh0LmRyYXcuZW5naW5lLlN2Z0V4cG9ydGVyIiwiRXh0LmRyYXcuZW5naW5lLkltYWdlRXhwb3J0ZXIiXSxzZXBhcmF0b3JSZTovWywgXSsvLHN0YXRpY3M6e2NyZWF0ZTpmdW5jdGlvbihiLGQpe2Q9ZHx8WyJTdmciLCJWbWwiXTt2YXIgYz0wLGE9ZC5sZW5ndGgsZTtmb3IoO2M8YTtjKyspe2lmKEV4dC5zdXBwb3J0c1tkW2NdXSE9PWZhbHNlKXtyZXR1cm4gRXh0LmNyZWF0ZSgiRXh0LmRyYXcuZW5naW5lLiIrZFtjXSxiKX19cmV0dXJuIGZhbHNlfSxzYXZlOmZ1bmN0aW9uKGIsYSl7dmFyIGQ9eyJpbWFnZS9wbmciOiJJbWFnZSIsImltYWdlL2pwZWciOiJJbWFnZSIsImltYWdlL3N2Zyt4bWwiOiJTdmcifSxjPWRbYi50eXBlXXx8IlN2ZyI7cmV0dXJuKEV4dC5kcmF3LmVuZ2luZVtjKyJFeHBvcnRlciJdKS5zZWxmLmdlbmVyYXRlKGIsYSl9fSxhdmFpbGFibGVBdHRyczp7Ymx1cjowLCJjbGlwLXJlY3QiOiIwIDAgMWU5IDFlOSIsY3Vyc29yOiJkZWZhdWx0IixjeDowLGN5OjAsImRvbWluYW50LWJhc2VsaW5lIjoiYXV0byIsZmlsbDoibm9uZSIsImZpbGwtb3BhY2l0eSI6MSxmb250OicxMHB4ICJBcmlhbCInLCJmb250LWZhbWlseSI6JyJBcmlhbCInLCJmb250LXNpemUiOiIxMCIsImZvbnQtc3R5bGUiOiJub3JtYWwiLCJmb250LXdlaWdodCI6NDAwLGdyYWRpZW50OiIiLGhlaWdodDowLGhpZGRlbjpmYWxzZSxocmVmOiJodHRwOi8vc2VuY2hhLmNvbS8iLG9wYWNpdHk6MSxwYXRoOiJNMCwwIixyYWRpdXM6MCxyeDowLHJ5OjAsc2NhbGU6IjEgMSIsc3JjOiIiLHN0cm9rZToibm9uZSIsInN0cm9rZS1kYXNoYXJyYXkiOiIiLCJzdHJva2UtbGluZWNhcCI6ImJ1dHQiLCJzdHJva2UtbGluZWpvaW4iOiJidXR0Iiwic3Ryb2tlLW1pdGVybGltaXQiOjAsInN0cm9rZS1vcGFjaXR5IjoxLCJzdHJva2Utd2lkdGgiOjEsdGFyZ2V0OiJfYmxhbmsiLHRleHQ6IiIsInRleHQtYW5jaG9yIjoibWlkZGxlIix0aXRsZToiRXh0IERyYXciLHdpZHRoOjAseDowLHk6MCx6SW5kZXg6MH0sY29udGFpbmVyOnVuZGVmaW5lZCxoZWlnaHQ6MzUyLHdpZHRoOjUxMix4OjAseTowLG9yZGVyU3ByaXRlc0J5WkluZGV4OnRydWUsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczthPWF8fHt9O0V4dC5hcHBseShiLGEpO2IuZG9tUmVmPUV4dC5nZXREb2MoKS5kb207Yi5jdXN0b21BdHRyaWJ1dGVzPXt9O2IuYWRkRXZlbnRzKCJtb3VzZWRvd24iLCJtb3VzZXVwIiwibW91c2VvdmVyIiwibW91c2VvdXQiLCJtb3VzZW1vdmUiLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsImNsaWNrIiwiZGJsY2xpY2siKTtiLm1peGlucy5vYnNlcnZhYmxlLmNvbnN0cnVjdG9yLmNhbGwoYik7Yi5nZXRJZCgpO2IuaW5pdEdyYWRpZW50cygpO2IuaW5pdEl0ZW1zKCk7aWYoYi5yZW5kZXJUbyl7Yi5yZW5kZXIoYi5yZW5kZXJUbyk7ZGVsZXRlIGIucmVuZGVyVG99Yi5pbml0QmFja2dyb3VuZChhLmJhY2tncm91bmQpfSxpbml0U3VyZmFjZTpFeHQuZW1wdHlGbixyZW5kZXJJdGVtOkV4dC5lbXB0eUZuLHJlbmRlckl0ZW1zOkV4dC5lbXB0eUZuLHNldFZpZXdCb3g6ZnVuY3Rpb24oYixkLGMsYSl7aWYoaXNGaW5pdGUoYikmJmlzRmluaXRlKGQpJiZpc0Zpbml0ZShjKSYmaXNGaW5pdGUoYSkpe3RoaXMudmlld0JveD17eDpiLHk6ZCx3aWR0aDpjLGhlaWdodDphfTt0aGlzLmFwcGx5Vmlld0JveCgpfX0sYWRkQ2xzOkV4dC5lbXB0eUZuLHJlbW92ZUNsczpFeHQuZW1wdHlGbixzZXRTdHlsZTpFeHQuZW1wdHlGbixpbml0R3JhZGllbnRzOmZ1bmN0aW9uKCl7aWYodGhpcy5oYXNPd25Qcm9wZXJ0eSgiZ3JhZGllbnRzIikpe3ZhciBhPXRoaXMuZ3JhZGllbnRzLGQ9YS5sZW5ndGgsYj10aGlzLmFkZEdyYWRpZW50LGM7aWYoYSl7Zm9yKGM9MDtjPGQ7YysrKXtpZihiLmNhbGwodGhpcyxhW2NdLGMsZCk9PT1mYWxzZSl7YnJlYWt9fX19fSxpbml0SXRlbXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLml0ZW1zO3RoaXMuaXRlbXM9bmV3IEV4dC5kcmF3LkNvbXBvc2l0ZVNwcml0ZSgpO3RoaXMuaXRlbXMuYXV0b0Rlc3Ryb3k9dHJ1ZTt0aGlzLmdyb3Vwcz1uZXcgRXh0LmRyYXcuQ29tcG9zaXRlU3ByaXRlKCk7aWYoYSl7dGhpcy5hZGQoYSl9fSxpbml0QmFja2dyb3VuZDpmdW5jdGlvbihiKXt2YXIgZT10aGlzLGQ9ZS53aWR0aCxhPWUuaGVpZ2h0LGcsaCxjO2lmKEV4dC5pc1N0cmluZyhiKSl7Yj17ZmlsbDpifX1pZihiKXtpZihiLmdyYWRpZW50KXtoPWIuZ3JhZGllbnQ7Zz1oLmlkO2UuYWRkR3JhZGllbnQoaCk7ZS5iYWNrZ3JvdW5kPWUuYWRkKHt0eXBlOiJyZWN0Iix4OjAseTowLHdpZHRoOmQsaGVpZ2h0OmEsZmlsbDoidXJsKCMiK2crIikiLHpJbmRleDotMX0pfWVsc2V7aWYoYi5maWxsKXtlLmJhY2tncm91bmQ9ZS5hZGQoe3R5cGU6InJlY3QiLHg6MCx5OjAsd2lkdGg6ZCxoZWlnaHQ6YSxmaWxsOmIuZmlsbCx6SW5kZXg6LTF9KX1lbHNle2lmKGIuaW1hZ2Upe2UuYmFja2dyb3VuZD1lLmFkZCh7dHlwZToiaW1hZ2UiLHg6MCx5OjAsd2lkdGg6ZCxoZWlnaHQ6YSxzcmM6Yi5pbWFnZSx6SW5kZXg6LTF9KX19fWUuYmFja2dyb3VuZC5iYm94RXhjbHVkZWQ9dHJ1ZX19LHNldFNpemU6ZnVuY3Rpb24oYSxiKXt0aGlzLmFwcGx5Vmlld0JveCgpfSxzY3J1YkF0dHJzOmZ1bmN0aW9uKGQpe3ZhciBjLGI9e30sYT17fSxlPWQuYXR0cjtmb3IoYyBpbiBlKXtpZih0aGlzLnRyYW5zbGF0ZUF0dHJzLmhhc093blByb3BlcnR5KGMpKXtiW3RoaXMudHJhbnNsYXRlQXR0cnNbY11dPWVbY107YVt0aGlzLnRyYW5zbGF0ZUF0dHJzW2NdXT10cnVlfWVsc2V7aWYodGhpcy5hdmFpbGFibGVBdHRycy5oYXNPd25Qcm9wZXJ0eShjKSYmIWFbY10pe2JbY109ZVtjXX19fXJldHVybiBifSxvbkNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMucHJvY2Vzc0V2ZW50KCJjbGljayIsYSl9LG9uRGJsQ2xpY2s6ZnVuY3Rpb24oYSl7dGhpcy5wcm9jZXNzRXZlbnQoImRibGNsaWNrIixhKX0sb25Nb3VzZVVwOmZ1bmN0aW9uKGEpe3RoaXMucHJvY2Vzc0V2ZW50KCJtb3VzZXVwIixhKX0sb25Nb3VzZURvd246ZnVuY3Rpb24oYSl7dGhpcy5wcm9jZXNzRXZlbnQoIm1vdXNlZG93biIsYSl9LG9uTW91c2VPdmVyOmZ1bmN0aW9uKGEpe3RoaXMucHJvY2Vzc0V2ZW50KCJtb3VzZW92ZXIiLGEpfSxvbk1vdXNlT3V0OmZ1bmN0aW9uKGEpe3RoaXMucHJvY2Vzc0V2ZW50KCJtb3VzZW91dCIsYSl9LG9uTW91c2VNb3ZlOmZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KCJtb3VzZW1vdmUiLGEpfSxvbk1vdXNlRW50ZXI6RXh0LmVtcHR5Rm4sb25Nb3VzZUxlYXZlOkV4dC5lbXB0eUZuLGFkZEdyYWRpZW50OkV4dC5lbXB0eUZuLGFkZDpmdW5jdGlvbigpe3ZhciBnPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyksaixkLGE9Zy5sZW5ndGg+MSxoLGIsYyxlLGs7aWYoYXx8RXh0LmlzQXJyYXkoZ1swXSkpe2g9YT9nOmdbMF07Yj1bXTtmb3IoYz0wLGU9aC5sZW5ndGg7YzxlO2MrKyl7az1oW2NdO2s9dGhpcy5hZGQoayk7Yi5wdXNoKGspfXJldHVybiBifWo9dGhpcy5wcmVwYXJlSXRlbXMoZ1swXSx0cnVlKVswXTt0aGlzLmluc2VydEJ5WkluZGV4KGopO3RoaXMub25BZGQoaik7cmV0dXJuIGp9LGluc2VydEJ5WkluZGV4OmZ1bmN0aW9uKGope3ZhciBnPXRoaXMsZD1nLml0ZW1zLml0ZW1zLGM9ZC5sZW5ndGgsaz1NYXRoLmNlaWwsaD1qLmF0dHIuekluZGV4LGk9YyxiPWktMSxlPTAsYTtpZihnLm9yZGVyU3ByaXRlc0J5WkluZGV4JiZjJiZoPGRbYl0uYXR0ci56SW5kZXgpe3doaWxlKGU8PWIpe2k9aygoZStiKS8yKTthPWRbaV0uYXR0ci56SW5kZXg7aWYoYT5oKXtiPWktMX1lbHNle2lmKGE8aCl7ZT1pKzF9ZWxzZXticmVha319fXdoaWxlKGk8YyYmZFtpXS5hdHRyLnpJbmRleDw9aCl7aSsrfX1nLml0ZW1zLmluc2VydChpLGopO3JldHVybiBpfSxvbkFkZDpmdW5jdGlvbihkKXt2YXIgZz1kLmdyb3VwLGI9ZC5kcmFnZ2FibGUsYSxlLGM7aWYoZyl7YT1bXS5jb25jYXQoZyk7ZT1hLmxlbmd0aDtmb3IoYz0wO2M8ZTtjKyspe2c9YVtjXTt0aGlzLmdldEdyb3VwKGcpLmFkZChkKX1kZWxldGUgZC5ncm91cH1pZihiKXtkLmluaXREcmFnZ2FibGUoKX19LHJlbW92ZTpmdW5jdGlvbihiLGUpe2lmKGIpe3RoaXMuaXRlbXMucmVtb3ZlKGIpO3ZhciBhPVtdLmNvbmNhdCh0aGlzLmdyb3Vwcy5pdGVtcyksZD1hLmxlbmd0aCxjO2ZvcihjPTA7YzxkO2MrKyl7YVtjXS5yZW1vdmUoYil9Yi5vblJlbW92ZSgpO2lmKGU9PT10cnVlKXtiLmRlc3Ryb3koKX19fSxyZW1vdmVBbGw6ZnVuY3Rpb24oZCl7dmFyIGE9dGhpcy5pdGVtcy5pdGVtcyxjPWEubGVuZ3RoLGI7Zm9yKGI9Yy0xO2I+LTE7Yi0tKXt0aGlzLnJlbW92ZShhW2JdLGQpfX0sb25SZW1vdmU6RXh0LmVtcHR5Rm4sb25EZXN0cm95OkV4dC5lbXB0eUZuLGFwcGx5Vmlld0JveDpmdW5jdGlvbigpe3ZhciBkPXRoaXMsbD1kLnZpZXdCb3gsYT1kLndpZHRofHwxLGg9ZC5oZWlnaHR8fDEsZyxlLGosYixpLGMsaztpZihsJiYoYXx8aCkpe2c9bC54O2U9bC55O2o9bC53aWR0aDtiPWwuaGVpZ2h0O2k9aC9iO2M9YS9qO2s9TWF0aC5taW4oYyxpKTtpZihqKms8YSl7Zy09KGEtaiprKS8yL2t9aWYoYiprPGgpe2UtPShoLWIqaykvMi9rfWQudmlld0JveFNoaWZ0PXtkeDotZyxkeTotZSxzY2FsZTprfTtpZihkLmJhY2tncm91bmQpe2QuYmFja2dyb3VuZC5zZXRBdHRyaWJ1dGVzKEV4dC5hcHBseSh7fSx7eDpnLHk6ZSx3aWR0aDphL2ssaGVpZ2h0Omgva30se2hpZGRlbjpmYWxzZX0pLHRydWUpfX1lbHNle2lmKGQuYmFja2dyb3VuZCYmYSYmaCl7ZC5iYWNrZ3JvdW5kLnNldEF0dHJpYnV0ZXMoRXh0LmFwcGx5KHt4OjAseTowLHdpZHRoOmEsaGVpZ2h0Omh9LHtoaWRkZW46ZmFsc2V9KSx0cnVlKX19fSxnZXRCQm94OmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpc1siZ2V0UGF0aCIrYS50eXBlXShhKTtpZihiKXthLmJib3gucGxhaW49YS5iYm94LnBsYWlufHxFeHQuZHJhdy5EcmF3LnBhdGhEaW1lbnNpb25zKGMpO3JldHVybiBhLmJib3gucGxhaW59aWYoYS5kaXJ0eVRyYW5zZm9ybSl7dGhpcy5hcHBseVRyYW5zZm9ybWF0aW9ucyhhLHRydWUpfWEuYmJveC50cmFuc2Zvcm09YS5iYm94LnRyYW5zZm9ybXx8RXh0LmRyYXcuRHJhdy5wYXRoRGltZW5zaW9ucyhFeHQuZHJhdy5EcmF3Lm1hcFBhdGgoYyxhLm1hdHJpeCkpO3JldHVybiBhLmJib3gudHJhbnNmb3JtfSx0cmFuc2Zvcm1Ub1ZpZXdCb3g6ZnVuY3Rpb24oYSxkKXtpZih0aGlzLnZpZXdCb3hTaGlmdCl7dmFyIGM9dGhpcyxiPWMudmlld0JveFNoaWZ0O3JldHVyblthL2Iuc2NhbGUtYi5keCxkL2Iuc2NhbGUtYi5keV19ZWxzZXtyZXR1cm5bYSxkXX19LGFwcGx5VHJhbnNmb3JtYXRpb25zOmZ1bmN0aW9uKGIsZCl7aWYoYi50eXBlPT0idGV4dCIpe2IuYmJveC50cmFuc2Zvcm09MDt0aGlzLnRyYW5zZm9ybShiLGZhbHNlKX1iLmRpcnR5VHJhbnNmb3JtPWZhbHNlO3ZhciBjPXRoaXMsYT1iLmF0dHI7aWYoYS50cmFuc2xhdGlvbi54IT1udWxsfHxhLnRyYW5zbGF0aW9uLnkhPW51bGwpe2MudHJhbnNsYXRlKGIpfWlmKGEuc2NhbGluZy54IT1udWxsfHxhLnNjYWxpbmcueSE9bnVsbCl7Yy5zY2FsZShiKX1pZihhLnJvdGF0aW9uLmRlZ3JlZXMhPW51bGwpe2Mucm90YXRlKGIpfWIuYmJveC50cmFuc2Zvcm09MDt0aGlzLnRyYW5zZm9ybShiLGQpO2IudHJhbnNmb3JtYXRpb25zPVtdfSxyb3RhdGU6ZnVuY3Rpb24oYSl7dmFyIGUsYj1hLmF0dHIucm90YXRpb24uZGVncmVlcyxkPWEuYXR0ci5yb3RhdGlvbi54LGM9YS5hdHRyLnJvdGF0aW9uLnk7aWYoIUV4dC5pc051bWJlcihkKXx8IUV4dC5pc051bWJlcihjKSl7ZT10aGlzLmdldEJCb3goYSx0cnVlKTtkPSFFeHQuaXNOdW1iZXIoZCk/ZS54K2Uud2lkdGgvMjpkO2M9IUV4dC5pc051bWJlcihjKT9lLnkrZS5oZWlnaHQvMjpjfWEudHJhbnNmb3JtYXRpb25zLnB1c2goe3R5cGU6InJvdGF0ZSIsZGVncmVlczpiLHg6ZCx5OmN9KX0sdHJhbnNsYXRlOmZ1bmN0aW9uKGIpe3ZhciBhPWIuYXR0ci50cmFuc2xhdGlvbi54fHwwLGM9Yi5hdHRyLnRyYW5zbGF0aW9uLnl8fDA7Yi50cmFuc2Zvcm1hdGlvbnMucHVzaCh7dHlwZToidHJhbnNsYXRlIix4OmEseTpjfSl9LHNjYWxlOmZ1bmN0aW9uKGIpe3ZhciBlLGE9Yi5hdHRyLnNjYWxpbmcueHx8MSxnPWIuYXR0ci5zY2FsaW5nLnl8fDEsZD1iLmF0dHIuc2NhbGluZy5jZW50ZXJYLGM9Yi5hdHRyLnNjYWxpbmcuY2VudGVyWTtpZighRXh0LmlzTnVtYmVyKGQpfHwhRXh0LmlzTnVtYmVyKGMpKXtlPXRoaXMuZ2V0QkJveChiLHRydWUpO2Q9IUV4dC5pc051bWJlcihkKT9lLngrZS53aWR0aC8yOmQ7Yz0hRXh0LmlzTnVtYmVyKGMpP2UueStlLmhlaWdodC8yOmN9Yi50cmFuc2Zvcm1hdGlvbnMucHVzaCh7dHlwZToic2NhbGUiLHg6YSx5OmcsY2VudGVyWDpkLGNlbnRlclk6Y30pfSxyZWN0UGF0aDpmdW5jdGlvbihhLGUsYixjLGQpe2lmKGQpe3JldHVybltbIk0iLGErZCxlXSxbImwiLGItZCoyLDBdLFsiYSIsZCxkLDAsMCwxLGQsZF0sWyJsIiwwLGMtZCoyXSxbImEiLGQsZCwwLDAsMSwtZCxkXSxbImwiLGQqMi1iLDBdLFsiYSIsZCxkLDAsMCwxLC1kLC1kXSxbImwiLDAsZCoyLWNdLFsiYSIsZCxkLDAsMCwxLGQsLWRdLFsieiJdXX1yZXR1cm5bWyJNIixhLGVdLFsibCIsYiwwXSxbImwiLDAsY10sWyJsIiwtYiwwXSxbInoiXV19LGVsbGlwc2VQYXRoOmZ1bmN0aW9uKGEsZCxjLGIpe2lmKGI9PW51bGwpe2I9Y31yZXR1cm5bWyJNIixhLGRdLFsibSIsMCwtYl0sWyJhIixjLGIsMCwxLDEsMCwyKmJdLFsiYSIsYyxiLDAsMSwxLDAsLTIqYl0sWyJ6Il1dfSxnZXRQYXRocGF0aDpmdW5jdGlvbihhKXtyZXR1cm4gYS5hdHRyLnBhdGh9LGdldFBhdGhjaXJjbGU6ZnVuY3Rpb24oYyl7dmFyIGI9Yy5hdHRyO3JldHVybiB0aGlzLmVsbGlwc2VQYXRoKGIueCxiLnksYi5yYWRpdXMsYi5yYWRpdXMpfSxnZXRQYXRoZWxsaXBzZTpmdW5jdGlvbihjKXt2YXIgYj1jLmF0dHI7cmV0dXJuIHRoaXMuZWxsaXBzZVBhdGgoYi54LGIueSxiLnJhZGl1c1h8fChiLndpZHRoLzIpfHwwLGIucmFkaXVzWXx8KGIuaGVpZ2h0LzIpfHwwKX0sZ2V0UGF0aHJlY3Q6ZnVuY3Rpb24oYyl7dmFyIGI9Yy5hdHRyO3JldHVybiB0aGlzLnJlY3RQYXRoKGIueHx8MCxiLnl8fDAsYi53aWR0aHx8MCxiLmhlaWdodHx8MCxiLnJ8fDApfSxnZXRQYXRoaW1hZ2U6ZnVuY3Rpb24oYyl7dmFyIGI9Yy5hdHRyO3JldHVybiB0aGlzLnJlY3RQYXRoKGIueHx8MCxiLnl8fDAsYi53aWR0aCxiLmhlaWdodCl9LGdldFBhdGh0ZXh0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0QkJveFRleHQoYSk7cmV0dXJuIHRoaXMucmVjdFBhdGgoYi54LGIueSxiLndpZHRoLGIuaGVpZ2h0KX0sY3JlYXRlR3JvdXA6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5ncm91cHMuZ2V0KGIpO2lmKCFhKXthPW5ldyBFeHQuZHJhdy5Db21wb3NpdGVTcHJpdGUoe3N1cmZhY2U6dGhpc30pO2EuaWQ9Ynx8RXh0LmlkKG51bGwsImV4dC1zdXJmYWNlLWdyb3VwLSIpO3RoaXMuZ3JvdXBzLmFkZChhKX1yZXR1cm4gYX0sZ2V0R3JvdXA6ZnVuY3Rpb24oYil7dmFyIGE7aWYodHlwZW9mIGI9PSJzdHJpbmciKXthPXRoaXMuZ3JvdXBzLmdldChiKTtpZighYSl7YT10aGlzLmNyZWF0ZUdyb3VwKGIpfX1lbHNle2E9Yn1yZXR1cm4gYX0scHJlcGFyZUl0ZW1zOmZ1bmN0aW9uKGEsYyl7YT1bXS5jb25jYXQoYSk7dmFyIGUsYixkO2ZvcihiPTAsZD1hLmxlbmd0aDtiPGQ7YisrKXtlPWFbYl07aWYoIShlIGluc3RhbmNlb2YgRXh0LmRyYXcuU3ByaXRlKSl7ZS5zdXJmYWNlPXRoaXM7YVtiXT10aGlzLmNyZWF0ZUl0ZW0oZSl9ZWxzZXtlLnN1cmZhY2U9dGhpc319cmV0dXJuIGF9LHNldFRleHQ6RXh0LmVtcHR5Rm4sY3JlYXRlSXRlbTpFeHQuZW1wdHlGbixnZXRJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlkfHwodGhpcy5pZD1FeHQuaWQobnVsbCwiZXh0LXN1cmZhY2UtIikpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztkZWxldGUgYS5kb21SZWY7aWYoYS5iYWNrZ3JvdW5kKXthLmJhY2tncm91bmQuZGVzdHJveSgpfWEucmVtb3ZlQWxsKHRydWUpO0V4dC5kZXN0cm95KGEuZ3JvdXBzLml0ZW1zKX19KTtFeHQuZGVmaW5lKCJFeHQuZnguTWFuYWdlciIse3NpbmdsZXRvbjp0cnVlLHJlcXVpcmVzOlsiRXh0LnV0aWwuTWl4ZWRDb2xsZWN0aW9uIiwiRXh0LmZ4LnRhcmdldC5FbGVtZW50IiwiRXh0LmZ4LnRhcmdldC5FbGVtZW50Q1NTIiwiRXh0LmZ4LnRhcmdldC5Db21wb3NpdGVFbGVtZW50IiwiRXh0LmZ4LnRhcmdldC5Db21wb3NpdGVFbGVtZW50Q1NTIiwiRXh0LmZ4LnRhcmdldC5TcHJpdGUiLCJFeHQuZngudGFyZ2V0LkNvbXBvc2l0ZVNwcml0ZSIsIkV4dC5meC50YXJnZXQuQ29tcG9uZW50Il0sbWl4aW5zOntxdWV1ZToiRXh0LmZ4LlF1ZXVlIn0sY29uc3RydWN0b3I6ZnVuY3Rpb24oKXt0aGlzLml0ZW1zPW5ldyBFeHQudXRpbC5NaXhlZENvbGxlY3Rpb24oKTt0aGlzLm1peGlucy5xdWV1ZS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpfSxpbnRlcnZhbDoxNixmb3JjZUpTOnRydWUsY3JlYXRlVGFyZ2V0OmZ1bmN0aW9uKGQpe3ZhciBiPXRoaXMsYz0hYi5mb3JjZUpTJiZFeHQuc3VwcG9ydHMuVHJhbnNpdGlvbnMsYTtiLnVzZUNTUzM9YztpZihkKXtpZihkLnRhZ05hbWV8fEV4dC5pc1N0cmluZyhkKXx8ZC5pc0ZseSl7ZD1FeHQuZ2V0KGQpO2E9bmV3IEV4dC5meC50YXJnZXRbIkVsZW1lbnQiKyhjPyJDU1MiOiIiKV0oZCl9ZWxzZXtpZihkLmRvbSl7YT1uZXcgRXh0LmZ4LnRhcmdldFsiRWxlbWVudCIrKGM/IkNTUyI6IiIpXShkKX1lbHNle2lmKGQuaXNDb21wb3NpdGUpe2E9bmV3IEV4dC5meC50YXJnZXRbIkNvbXBvc2l0ZUVsZW1lbnQiKyhjPyJDU1MiOiIiKV0oZCl9ZWxzZXtpZihkLmlzU3ByaXRlKXthPW5ldyBFeHQuZngudGFyZ2V0LlNwcml0ZShkKX1lbHNle2lmKGQuaXNDb21wb3NpdGVTcHJpdGUpe2E9bmV3IEV4dC5meC50YXJnZXQuQ29tcG9zaXRlU3ByaXRlKGQpfWVsc2V7aWYoZC5pc0NvbXBvbmVudCl7YT1uZXcgRXh0LmZ4LnRhcmdldC5Db21wb25lbnQoZCl9ZWxzZXtpZihkLmlzQW5pbVRhcmdldCl7cmV0dXJuIGR9ZWxzZXtyZXR1cm4gbnVsbH19fX19fX1iLnRhcmdldHMuYWRkKGEpO3JldHVybiBhfWVsc2V7cmV0dXJuIG51bGx9fSxhZGRBbmltOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMuaXRlbXMsYT10aGlzLnRhc2s7Yi5hZGQoYy5pZCxjKTtpZighYSYmYi5sZW5ndGgpe2E9dGhpcy50YXNrPXtydW46dGhpcy5ydW5uZXIsaW50ZXJ2YWw6dGhpcy5pbnRlcnZhbCxzY29wZTp0aGlzfTtFeHQuVGFza01hbmFnZXIuc3RhcnQoYSl9fSxyZW1vdmVBbmltOmZ1bmN0aW9uKGQpe3ZhciBjPXRoaXMsYj1jLml0ZW1zLGE9Yy50YXNrO2IucmVtb3ZlQXRLZXkoZC5pZCk7aWYoYSYmIWIubGVuZ3RoKXtFeHQuVGFza01hbmFnZXIuc3RvcChhKTtkZWxldGUgYy50YXNrfX0scnVubmVyOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxiPWQuaXRlbXMuZ2V0UmFuZ2UoKSxjPTAsYT1iLmxlbmd0aCxlO2QudGFyZ2V0QXJyPXt9O2QudGltZXN0YW1wPW5ldyBEYXRlKCk7Zm9yKDtjPGE7YysrKXtlPWJbY107aWYoZS5pc1JlYWR5KCkpe2Quc3RhcnRBbmltKGUpfX1mb3IoYz0wO2M8YTtjKyspe2U9YltjXTtpZihlLmlzUnVubmluZygpKXtkLnJ1bkFuaW0oZSl9fWQuYXBwbHlQZW5kaW5nQXR0cnMoKX0sc3RhcnRBbmltOmZ1bmN0aW9uKGEpe2Euc3RhcnQodGhpcy50aW1lc3RhbXApfSxydW5BbmltOmZ1bmN0aW9uKGUpe2lmKCFlKXtyZXR1cm59dmFyIGQ9dGhpcyxiPWUudGFyZ2V0LmdldElkKCksaD1kLnVzZUNTUzMmJmUudGFyZ2V0LnR5cGU9PSJlbGVtZW50IixhPWQudGltZXN0YW1wLWUuc3RhcnRUaW1lLGM9KGE+PWUuZHVyYXRpb24pLGcsaTtnPXRoaXMuY29sbGVjdFRhcmdldERhdGEoZSxhLGgsYyk7aWYoaCl7ZS50YXJnZXQuc2V0QXR0cihnLmFuaW1zW2UuaWRdLmF0dHJpYnV0ZXMsdHJ1ZSk7ZC5jb2xsZWN0VGFyZ2V0RGF0YShlLGUuZHVyYXRpb24saCxjKTtlLnBhdXNlZD10cnVlO2c9ZS50YXJnZXQudGFyZ2V0O2lmKGUudGFyZ2V0LmlzQ29tcG9zaXRlKXtnPWUudGFyZ2V0LnRhcmdldC5sYXN0KCl9aT17fTtpW0V4dC5zdXBwb3J0cy5DU1MzVHJhbnNpdGlvbkVuZF09ZS5sYXN0RnJhbWU7aS5zY29wZT1lO2kuc2luZ2xlPXRydWU7Zy5vbihpKX19LGNvbGxlY3RUYXJnZXREYXRhOmZ1bmN0aW9uKGMsYSxlLGcpe3ZhciBiPWMudGFyZ2V0LmdldElkKCksZD10aGlzLnRhcmdldEFycltiXTtpZighZCl7ZD10aGlzLnRhcmdldEFycltiXT17aWQ6YixlbDpjLnRhcmdldCxhbmltczp7fX19ZC5hbmltc1tjLmlkXT17aWQ6Yy5pZCxhbmltOmMsZWxhcHNlZDphLGlzTGFzdEZyYW1lOmcsYXR0cmlidXRlczpbe2R1cmF0aW9uOmMuZHVyYXRpb24sZWFzaW5nOihlJiZjLnJldmVyc2UpP2MuZWFzaW5nRm4ucmV2ZXJzZSgpLnRvQ1NTMygpOmMuZWFzaW5nLGF0dHJzOmMucnVuQW5pbShhKX1dfTtyZXR1cm4gZH0sYXBwbHlQZW5kaW5nQXR0cnM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnRhcmdldEFycixnLGMsYixkLGE7Zm9yKGMgaW4gZSl7aWYoZS5oYXNPd25Qcm9wZXJ0eShjKSl7Zz1lW2NdO2ZvcihhIGluIGcuYW5pbXMpe2lmKGcuYW5pbXMuaGFzT3duUHJvcGVydHkoYSkpe2I9Zy5hbmltc1thXTtkPWIuYW5pbTtpZihiLmF0dHJpYnV0ZXMmJmQuaXNSdW5uaW5nKCkpe2cuZWwuc2V0QXR0cihiLmF0dHJpYnV0ZXMsZmFsc2UsYi5pc0xhc3RGcmFtZSk7aWYoYi5pc0xhc3RGcmFtZSl7ZC5sYXN0RnJhbWUoKX19fX19fX19KTtFeHQuZGVmaW5lKCJFeHQuZnguQW5pbWF0b3IiLHttaXhpbnM6e29ic2VydmFibGU6IkV4dC51dGlsLk9ic2VydmFibGUifSxyZXF1aXJlczpbIkV4dC5meC5NYW5hZ2VyIl0saXNBbmltYXRvcjp0cnVlLGR1cmF0aW9uOjI1MCxkZWxheTowLGRlbGF5U3RhcnQ6MCxkeW5hbWljOmZhbHNlLGVhc2luZzoiZWFzZSIscnVubmluZzpmYWxzZSxwYXVzZWQ6ZmFsc2UsZGFtcGVyOjEsaXRlcmF0aW9uczoxLGN1cnJlbnRJdGVyYXRpb246MCxrZXlmcmFtZVN0ZXA6MCxhbmltS2V5RnJhbWVzUkU6L14oZnJvbXx0b3xcZCslPykkLyxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2E9RXh0LmFwcGx5KGIsYXx8e30pO2IuY29uZmlnPWE7Yi5pZD1FeHQuaWQobnVsbCwiZXh0LWFuaW1hdG9yLSIpO2IuYWRkRXZlbnRzKCJiZWZvcmVhbmltYXRlIiwia2V5ZnJhbWUiLCJhZnRlcmFuaW1hdGUiKTtiLm1peGlucy5vYnNlcnZhYmxlLmNvbnN0cnVjdG9yLmNhbGwoYixhKTtiLnRpbWVsaW5lPVtdO2IuY3JlYXRlVGltZWxpbmUoYi5rZXlmcmFtZXMpO2lmKGIudGFyZ2V0KXtiLmFwcGx5QW5pbWF0b3IoYi50YXJnZXQpO0V4dC5meC5NYW5hZ2VyLmFkZEFuaW0oYil9fSxzb3J0ZXI6ZnVuY3Rpb24oZCxjKXtyZXR1cm4gZC5wY3QtYy5wY3R9LGNyZWF0ZVRpbWVsaW5lOmZ1bmN0aW9uKGcpe3ZhciBrPXRoaXMsbj1bXSxsPWsudG98fHt9LGM9ay5kdXJhdGlvbixvLGEsZSxqLG0sYixkLGg7Zm9yKG0gaW4gZyl7aWYoZy5oYXNPd25Qcm9wZXJ0eShtKSYmay5hbmltS2V5RnJhbWVzUkUudGVzdChtKSl7aD17YXR0cnM6RXh0LmFwcGx5KGdbbV0sbCl9O2lmKG09PSJmcm9tIil7bT0wfWVsc2V7aWYobT09InRvIil7bT0xMDB9fWgucGN0PXBhcnNlSW50KG0sMTApO24ucHVzaChoKX19RXh0LkFycmF5LnNvcnQobixrLnNvcnRlcik7aj1uLmxlbmd0aDtmb3IoZT0wO2U8ajtlKyspe289KG5bZS0xXSk/YyoobltlLTFdLnBjdC8xMDApOjA7YT1jKihuW2VdLnBjdC8xMDApO2sudGltZWxpbmUucHVzaCh7ZHVyYXRpb246YS1vLGF0dHJzOm5bZV0uYXR0cnN9KX19LGFwcGx5QW5pbWF0b3I6ZnVuY3Rpb24oZSl7dmFyIGs9dGhpcyxsPVtdLG89ay50aW1lbGluZSxnPWsucmV2ZXJzZSxqPW8ubGVuZ3RoLGIsaCxhLGQsbixtLGM7aWYoay5maXJlRXZlbnQoImJlZm9yZWFuaW1hdGUiLGspIT09ZmFsc2Upe2ZvcihjPTA7YzxqO2MrKyl7Yj1vW2NdO249Yi5hdHRycztoPW4uZWFzaW5nfHxrLmVhc2luZzthPW4uZGFtcGVyfHxrLmRhbXBlcjtkZWxldGUgbi5lYXNpbmc7ZGVsZXRlIG4uZGFtcGVyO2I9bmV3IEV4dC5meC5BbmltKHt0YXJnZXQ6ZSxlYXNpbmc6aCxkYW1wZXI6YSxkdXJhdGlvbjpiLmR1cmF0aW9uLHBhdXNlZDp0cnVlLHRvOm59KTtsLnB1c2goYil9ay5hbmltYXRpb25zPWw7ay50YXJnZXQ9Yi50YXJnZXQ7Zm9yKGM9MDtjPGotMTtjKyspe2I9bFtjXTtiLm5leHRBbmltPWxbYysxXTtiLm9uKCJhZnRlcmFuaW1hdGUiLGZ1bmN0aW9uKCl7dGhpcy5uZXh0QW5pbS5wYXVzZWQ9ZmFsc2V9KTtiLm9uKCJhZnRlcmFuaW1hdGUiLGZ1bmN0aW9uKCl7dGhpcy5maXJlRXZlbnQoImtleWZyYW1lIix0aGlzLCsrdGhpcy5rZXlmcmFtZVN0ZXApfSxrKX1sW2otMV0ub24oImFmdGVyYW5pbWF0ZSIsZnVuY3Rpb24oKXt0aGlzLmxhc3RGcmFtZSgpfSxrKX19LHN0YXJ0OmZ1bmN0aW9uKGQpe3ZhciBlPXRoaXMsYz1lLmRlbGF5LGI9ZS5kZWxheVN0YXJ0LGE7aWYoYyl7aWYoIWIpe2UuZGVsYXlTdGFydD1kO3JldHVybn1lbHNle2E9ZC1iO2lmKGE8Yyl7cmV0dXJufWVsc2V7ZD1uZXcgRGF0ZShiLmdldFRpbWUoKStjKX19fWlmKGUuZmlyZUV2ZW50KCJiZWZvcmVhbmltYXRlIixlKSE9PWZhbHNlKXtlLnN0YXJ0VGltZT1kO2UucnVubmluZz10cnVlO2UuYW5pbWF0aW9uc1tlLmtleWZyYW1lU3RlcF0ucGF1c2VkPWZhbHNlfX0sbGFzdEZyYW1lOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxhPWMuaXRlcmF0aW9ucyxiPWMuY3VycmVudEl0ZXJhdGlvbjtiKys7aWYoYjxhKXtjLnN0YXJ0VGltZT1uZXcgRGF0ZSgpO2MuY3VycmVudEl0ZXJhdGlvbj1iO2Mua2V5ZnJhbWVTdGVwPTA7Yy5hcHBseUFuaW1hdG9yKGMudGFyZ2V0KTtjLmFuaW1hdGlvbnNbYy5rZXlmcmFtZVN0ZXBdLnBhdXNlZD1mYWxzZX1lbHNle2MuY3VycmVudEl0ZXJhdGlvbj0wO2MuZW5kKCl9fSxlbmQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZmlyZUV2ZW50KCJhZnRlcmFuaW1hdGUiLGEsYS5zdGFydFRpbWUsbmV3IERhdGUoKS1hLnN0YXJ0VGltZSl9LGlzUmVhZHk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXVzZWQ9PT1mYWxzZSYmdGhpcy5ydW5uaW5nPT09ZmFsc2UmJnRoaXMuaXRlcmF0aW9ucz4wfSxpc1J1bm5pbmc6ZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2V9fSk7RXh0LmRlZmluZSgiRXh0LmZ4LkFuaW0iLHttaXhpbnM6e29ic2VydmFibGU6IkV4dC51dGlsLk9ic2VydmFibGUifSxyZXF1aXJlczpbIkV4dC5meC5NYW5hZ2VyIiwiRXh0LmZ4LkFuaW1hdG9yIiwiRXh0LmZ4LkVhc2luZyIsIkV4dC5meC5DdWJpY0JlemllciIsIkV4dC5meC5Qcm9wZXJ0eUhhbmRsZXIiXSxpc0FuaW1hdGlvbjp0cnVlLGR1cmF0aW9uOjI1MCxkZWxheTowLGRlbGF5U3RhcnQ6MCxkeW5hbWljOmZhbHNlLGVhc2luZzoiZWFzZSIsZGFtcGVyOjEsYmV6aWVyUkU6L14oPzpjdWJpYy0pP2JlemllclwoKFteLF0rKSwoW14sXSspLChbXixdKyksKFteXCldKylcKS8scmV2ZXJzZTpmYWxzZSxydW5uaW5nOmZhbHNlLHBhdXNlZDpmYWxzZSxpdGVyYXRpb25zOjEsYWx0ZXJuYXRlOmZhbHNlLGN1cnJlbnRJdGVyYXRpb246MCxzdGFydFRpbWU6MCxmcmFtZUNvdW50OjAsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjO2E9YXx8e307aWYoYS5rZXlmcmFtZXMpe3JldHVybiBuZXcgRXh0LmZ4LkFuaW1hdG9yKGEpfUV4dC5hcHBseShiLGEpO2lmKGIuZnJvbT09PXVuZGVmaW5lZCl7Yi5mcm9tPXt9fWIucHJvcEhhbmRsZXJzPXt9O2IuY29uZmlnPWE7Yi50YXJnZXQ9RXh0LmZ4Lk1hbmFnZXIuY3JlYXRlVGFyZ2V0KGIudGFyZ2V0KTtiLmVhc2luZ0ZuPUV4dC5meC5FYXNpbmdbYi5lYXNpbmddO2IudGFyZ2V0LmR5bmFtaWM9Yi5keW5hbWljO2lmKCFiLmVhc2luZ0ZuKXtiLmVhc2luZ0ZuPVN0cmluZyhiLmVhc2luZykubWF0Y2goYi5iZXppZXJSRSk7aWYoYi5lYXNpbmdGbiYmYi5lYXNpbmdGbi5sZW5ndGg9PTUpe2M9Yi5lYXNpbmdGbjtiLmVhc2luZ0ZuPUV4dC5meC5DdWJpY0Jlemllci5jdWJpY0JlemllcigrY1sxXSwrY1syXSwrY1szXSwrY1s0XSl9fWIuaWQ9RXh0LmlkKG51bGwsImV4dC1hbmltLSIpO2IuYWRkRXZlbnRzKCJiZWZvcmVhbmltYXRlIiwiYWZ0ZXJhbmltYXRlIiwibGFzdGZyYW1lIik7Yi5taXhpbnMub2JzZXJ2YWJsZS5jb25zdHJ1Y3Rvci5jYWxsKGIpO0V4dC5meC5NYW5hZ2VyLmFkZEFuaW0oYil9LHNldEF0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gRXh0LmZ4Lk1hbmFnZXIuaXRlbXMuZ2V0KHRoaXMuaWQpLnNldEF0dHIodGhpcy50YXJnZXQsYSxiKX0saW5pdEF0dHJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxoPWUuZnJvbSxpPWUudG8sZz1lLmluaXRpYWxGcm9tfHx7fSxjPXt9LGEsYixqLGQ7Zm9yKGQgaW4gaSl7aWYoaS5oYXNPd25Qcm9wZXJ0eShkKSl7YT1lLnRhcmdldC5nZXRBdHRyKGQsaFtkXSk7Yj1pW2RdO2lmKCFFeHQuZnguUHJvcGVydHlIYW5kbGVyW2RdKXtpZihFeHQuaXNPYmplY3QoYikpe2o9ZS5wcm9wSGFuZGxlcnNbZF09RXh0LmZ4LlByb3BlcnR5SGFuZGxlci5vYmplY3R9ZWxzZXtqPWUucHJvcEhhbmRsZXJzW2RdPUV4dC5meC5Qcm9wZXJ0eUhhbmRsZXIuZGVmYXVsdEhhbmRsZXJ9fWVsc2V7aj1lLnByb3BIYW5kbGVyc1tkXT1FeHQuZnguUHJvcGVydHlIYW5kbGVyW2RdfWNbZF09ai5nZXQoYSxiLGUuZGFtcGVyLGdbZF0sZCl9fWUuY3VycmVudEF0dHJzPWN9LHN0YXJ0OmZ1bmN0aW9uKGQpe3ZhciBlPXRoaXMsYz1lLmRlbGF5LGI9ZS5kZWxheVN0YXJ0LGE7aWYoYyl7aWYoIWIpe2UuZGVsYXlTdGFydD1kO3JldHVybn1lbHNle2E9ZC1iO2lmKGE8Yyl7cmV0dXJufWVsc2V7ZD1uZXcgRGF0ZShiLmdldFRpbWUoKStjKX19fWlmKGUuZmlyZUV2ZW50KCJiZWZvcmVhbmltYXRlIixlKSE9PWZhbHNlKXtlLnN0YXJ0VGltZT1kO2lmKCFlLnBhdXNlZCYmIWUuY3VycmVudEF0dHJzKXtlLmluaXRBdHRycygpfWUucnVubmluZz10cnVlO2UuZnJhbWVDb3VudD0wfX0scnVuQW5pbTpmdW5jdGlvbihsKXt2YXIgaT10aGlzLGs9aS5jdXJyZW50QXR0cnMsZD1pLmR1cmF0aW9uLGM9aS5lYXNpbmdGbixiPWkucHJvcEhhbmRsZXJzLGc9e30saCxqLGUsYTtpZihsPj1kKXtsPWQ7YT10cnVlfWlmKGkucmV2ZXJzZSl7bD1kLWx9Zm9yKGUgaW4gayl7aWYoay5oYXNPd25Qcm9wZXJ0eShlKSl7aj1rW2VdO2g9YT8xOmMobC9kKTtnW2VdPWJbZV0uc2V0KGosaCl9fWkuZnJhbWVDb3VudCsrO3JldHVybiBnfSxsYXN0RnJhbWU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGE9Yy5pdGVyYXRpb25zLGI9Yy5jdXJyZW50SXRlcmF0aW9uO2IrKztpZihiPGEpe2lmKGMuYWx0ZXJuYXRlKXtjLnJldmVyc2U9IWMucmV2ZXJzZX1jLnN0YXJ0VGltZT1uZXcgRGF0ZSgpO2MuY3VycmVudEl0ZXJhdGlvbj1iO2MucGF1c2VkPWZhbHNlfWVsc2V7Yy5jdXJyZW50SXRlcmF0aW9uPTA7Yy5lbmQoKTtjLmZpcmVFdmVudCgibGFzdGZyYW1lIixjLGMuc3RhcnRUaW1lKX19LGVuZFdhc0NhbGxlZDowLGVuZDpmdW5jdGlvbigpe2lmKHRoaXMuZW5kV2FzQ2FsbGVkKyspe3JldHVybn12YXIgYT10aGlzO2Euc3RhcnRUaW1lPTA7YS5wYXVzZWQ9ZmFsc2U7YS5ydW5uaW5nPWZhbHNlO0V4dC5meC5NYW5hZ2VyLnJlbW92ZUFuaW0oYSk7YS5maXJlRXZlbnQoImFmdGVyYW5pbWF0ZSIsYSxhLnN0YXJ0VGltZSk7RXh0LmNhbGxiYWNrKGEuY2FsbGJhY2ssYS5zY29wZSxbYSxhLnN0YXJ0VGltZV0pfSxpc1JlYWR5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF1c2VkPT09ZmFsc2UmJnRoaXMucnVubmluZz09PWZhbHNlJiZ0aGlzLml0ZXJhdGlvbnM+MH0saXNSdW5uaW5nOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGF1c2VkPT09ZmFsc2UmJnRoaXMucnVubmluZz09PXRydWUmJnRoaXMuaXNBbmltYXRvciE9PXRydWV9fSk7RXh0LmVuYWJsZUZ4PXRydWU7RXh0LmRlZmluZSgiRXh0LmNoYXJ0LkhpZ2hsaWdodCIse3JlcXVpcmVzOlsiRXh0LmZ4LkFuaW0iXSxoaWdobGlnaHQ6ZmFsc2UsaGlnaGxpZ2h0Q2ZnOntmaWxsOiIjZmRkIiwic3Ryb2tlLXdpZHRoIjo1LHN0cm9rZToiI2Y1NSJ9LGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe2lmKGEuaGlnaGxpZ2h0KXtpZihhLmhpZ2hsaWdodCE9PXRydWUpe3RoaXMuaGlnaGxpZ2h0Q2ZnPUV4dC5tZXJnZSh0aGlzLmhpZ2hsaWdodENmZyxhLmhpZ2hsaWdodCl9fX0saGlnaGxpZ2h0SXRlbTpmdW5jdGlvbihrKXtpZighayl7cmV0dXJufXZhciBnPXRoaXMsaj1rLnNwcml0ZSxhPUV4dC5tZXJnZSh7fSxnLmhpZ2hsaWdodENmZyxnLmhpZ2hsaWdodCksZD1nLmNoYXJ0LnN1cmZhY2UsYz1nLmNoYXJ0LmFuaW1hdGUsYixpLGgsZTtpZighZy5oaWdobGlnaHR8fCFqfHxqLl9oaWdobGlnaHRlZCl7cmV0dXJufWlmKGouX2FuaW0pe2ouX2FuaW0ucGF1c2VkPXRydWV9ai5faGlnaGxpZ2h0ZWQ9dHJ1ZTtpZighai5fZGVmYXVsdHMpe2ouX2RlZmF1bHRzPUV4dC5hcHBseSh7fSxqLmF0dHIpO2k9e307aD17fTtmb3IoYiBpbiBhKXtpZighKGIgaW4gai5fZGVmYXVsdHMpKXtqLl9kZWZhdWx0c1tiXT1kLmF2YWlsYWJsZUF0dHJzW2JdfWlbYl09ai5fZGVmYXVsdHNbYl07aFtiXT1hW2JdO2lmKEV4dC5pc09iamVjdChhW2JdKSl7aVtiXT17fTtoW2JdPXt9O0V4dC5hcHBseShqLl9kZWZhdWx0c1tiXSxqLmF0dHJbYl0pO0V4dC5hcHBseShpW2JdLGouX2RlZmF1bHRzW2JdKTtmb3IoZSBpbiBqLl9kZWZhdWx0c1tiXSl7aWYoIShlIGluIGFbYl0pKXtoW2JdW2VdPWlbYl1bZV19ZWxzZXtoW2JdW2VdPWFbYl1bZV19fWZvcihlIGluIGFbYl0pe2lmKCEoZSBpbiBoW2JdKSl7aFtiXVtlXT1hW2JdW2VdfX19fWouX2Zyb209aTtqLl90bz1oO2ouX2VuZFN0eWxlPWh9aWYoYyl7ai5fYW5pbT1uZXcgRXh0LmZ4LkFuaW0oe3RhcmdldDpqLGZyb206ai5fZnJvbSx0bzpqLl90byxkdXJhdGlvbjoxNTB9KX1lbHNle2ouc2V0QXR0cmlidXRlcyhqLl90byx0cnVlKX19LHVuSGlnaGxpZ2h0SXRlbTpmdW5jdGlvbigpe2lmKCF0aGlzLmhpZ2hsaWdodHx8IXRoaXMuaXRlbXMpe3JldHVybn12YXIgaj10aGlzLGg9ai5pdGVtcyxnPWgubGVuZ3RoLGE9RXh0Lm1lcmdlKHt9LGouaGlnaGxpZ2h0Q2ZnLGouaGlnaGxpZ2h0KSxjPWouY2hhcnQuYW5pbWF0ZSxlPTAsZCxiLGs7Zm9yKDtlPGc7ZSsrKXtpZighaFtlXSl7Y29udGludWV9az1oW2VdLnNwcml0ZTtpZihrJiZrLl9oaWdobGlnaHRlZCl7aWYoay5fYW5pbSl7ay5fYW5pbS5wYXVzZWQ9dHJ1ZX1kPXt9O2ZvcihiIGluIGEpe2lmKEV4dC5pc09iamVjdChrLl9kZWZhdWx0c1tiXSkpe2RbYl09e307RXh0LmFwcGx5KGRbYl0say5fZGVmYXVsdHNbYl0pfWVsc2V7ZFtiXT1rLl9kZWZhdWx0c1tiXX19aWYoYyl7ay5fZW5kU3R5bGU9ZDtrLl9hbmltPW5ldyBFeHQuZnguQW5pbSh7dGFyZ2V0OmssdG86ZCxkdXJhdGlvbjoxNTB9KX1lbHNle2suc2V0QXR0cmlidXRlcyhkLHRydWUpfWRlbGV0ZSBrLl9oaWdobGlnaHRlZH19fSxjbGVhbkhpZ2hsaWdodHM6ZnVuY3Rpb24oKXtpZighdGhpcy5oaWdobGlnaHQpe3JldHVybn12YXIgZD10aGlzLmdyb3VwLGM9dGhpcy5tYXJrZXJHcm91cCxiPTAsYTtmb3IoYT1kLmdldENvdW50KCk7YjxhO2IrKyl7ZGVsZXRlIGQuZ2V0QXQoYikuX2RlZmF1bHRzfWlmKGMpe2ZvcihhPWMuZ2V0Q291bnQoKTtiPGE7YisrKXtkZWxldGUgYy5nZXRBdChiKS5fZGVmYXVsdHN9fX19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LkNvbnRleHQiLHtyZXF1aXJlczpbIkV4dC51dGlsLlF1ZXVlIiwiRXh0LmxheW91dC5Db250ZXh0SXRlbSIsIkV4dC5sYXlvdXQuTGF5b3V0IiwiRXh0LmZ4LkFuaW0iLCJFeHQuZnguTWFuYWdlciJdLGN1cnJlbnRPd25lckN0Q29udGV4dDpudWxsLHJlbWFpbmluZ0xheW91dHM6MCxzdGF0ZTowLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7RXh0LmFwcGx5KGIsYSk7Yi5pdGVtcz17fTtiLmxheW91dHM9e307Yi5ibG9ja0NvdW50PTA7Yi5jeWNsZUNvdW50PTA7Yi5mbHVzaENvdW50PTA7Yi5jYWxjQ291bnQ9MDtiLmFuaW1hdGVRdWV1ZT1iLm5ld1F1ZXVlKCk7Yi5jb21wbGV0aW9uUXVldWU9Yi5uZXdRdWV1ZSgpO2IuZmluYWxpemVRdWV1ZT1iLm5ld1F1ZXVlKCk7Yi5maW5pc2hRdWV1ZT1iLm5ld1F1ZXVlKCk7Yi5mbHVzaFF1ZXVlPWIubmV3UXVldWUoKTtiLmludmFsaWRhdGVEYXRhPXt9O2IubGF5b3V0UXVldWU9Yi5uZXdRdWV1ZSgpO2IuaW52YWxpZFF1ZXVlPVtdO2IudHJpZ2dlcnM9e2RhdGE6e30sZG9tOnt9fX0sY2FsbExheW91dDpmdW5jdGlvbihiLGEpe3RoaXMuY3VycmVudExheW91dD1iO3ZhciBjPXRoaXMuZ2V0Q21wKGIub3duZXIpO2JbYV0oYyl9LGNhbmNlbENvbXBvbmVudDpmdW5jdGlvbihoLGEpe3ZhciBuPXRoaXMsZz1oLGo9IWguaXNDb21wb25lbnQsYj1qP2cubGVuZ3RoOjEsZCxjLG0sbCxlLHEsbyxwLHI7Zm9yKGQ9MDtkPGI7KytkKXtpZihqKXtoPWdbZF19aWYoIWEpe289bi5pbnZhbGlkUXVldWU7bT1vLmxlbmd0aDtpZihtKXtuLmludmFsaWRRdWV1ZT1xPVtdO2ZvcihjPTA7YzxtOysrYyl7cD1vW2NdO3I9cC5pdGVtLnRhcmdldDtpZihyIT1oJiYhci5pc0Rlc2NlbmRhbnQoaCkpe3EucHVzaChwKX19fX1lPWguY29tcG9uZW50TGF5b3V0O24uY2FuY2VsTGF5b3V0KGUpO2lmKGUuZ2V0TGF5b3V0SXRlbXMpe2w9ZS5nZXRMYXlvdXRJdGVtcygpO2lmKGwubGVuZ3RoKXtuLmNhbmNlbENvbXBvbmVudChsLHRydWUpfX1pZihoLmlzQ29udGFpbmVyJiYhaC5jb2xsYXBzZWQpe2U9aC5sYXlvdXQ7bi5jYW5jZWxMYXlvdXQoZSk7bD1lLmdldFZpc2libGVJdGVtcygpO2lmKGwubGVuZ3RoKXtuLmNhbmNlbENvbXBvbmVudChsLHRydWUpfX19fSxjYW5jZWxMYXlvdXQ6ZnVuY3Rpb24oYil7dmFyIGE9dGhpczthLmNvbXBsZXRpb25RdWV1ZS5yZW1vdmUoYik7YS5maW5hbGl6ZVF1ZXVlLnJlbW92ZShiKTthLmZpbmlzaFF1ZXVlLnJlbW92ZShiKTthLmxheW91dFF1ZXVlLnJlbW92ZShiKTtpZihiLnJ1bm5pbmcpe2EubGF5b3V0RG9uZShiKX1iLm93bmVyQ29udGV4dD1udWxsfSxjbGVhclRyaWdnZXJzOmZ1bmN0aW9uKGcsaCl7dmFyIGE9Zy5pZCxqPXRoaXMudHJpZ2dlcnNbaD8iZG9tIjoiZGF0YSJdW2FdLGI9KGomJmoubGVuZ3RoKXx8MCxlLGQsayxjO2ZvcihkPTA7ZDxiOysrZCl7Yz1qW2RdO2s9Yy5pdGVtO2U9aD9rLmRvbVRyaWdnZXJzOmsudHJpZ2dlcnM7ZGVsZXRlIGVbYy5wcm9wXVthXX19LGZpbmlzaEludmFsaWRhdGU6ZnVuY3Rpb24oYixlLGEpe2lmKGJbYV0pe3ZhciBkPXRoaXMsYz1kLmN1cnJlbnRMYXlvdXQ7ZC5jdXJyZW50TGF5b3V0PWIubGF5b3V0fHxudWxsO2JbYV0oZSxiKTtkLmN1cnJlbnRMYXlvdXQ9Y319LGZsdXNoOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxhPWQuZmx1c2hRdWV1ZS5jbGVhcigpLGM9YS5sZW5ndGgsYjtpZihjKXsrK2QuZmx1c2hDb3VudDtmb3IoYj0wO2I8YzsrK2Ipe2FbYl0uZmx1c2goKX19fSxmbHVzaEFuaW1hdGlvbnM6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGI9ZC5hbmltYXRlUXVldWUuY2xlYXIoKSxhPWIubGVuZ3RoLGM7aWYoYSl7Zm9yKGM9MDtjPGE7YysrKXtpZihiW2NdLnRhcmdldC5hbmltYXRlIT09ZmFsc2Upe2JbY10uZmx1c2hBbmltYXRpb25zKCl9fUV4dC5meC5NYW5hZ2VyLnJ1bm5lcigpfX0sZmx1c2hJbnZhbGlkYXRlczpmdW5jdGlvbigpe3ZhciBoPXRoaXMsYT1oLmludmFsaWRRdWV1ZSxnPWEmJmEubGVuZ3RoLGIsZSxkLGM7aC5pbnZhbGlkUXVldWU9W107aWYoZyl7ZT1bXTtmb3IoYz0wO2M8ZzsrK2Mpe2I9KGQ9YVtjXSkuaXRlbS50YXJnZXQ7aWYoIWIuY29udGFpbmVyLmlzRGV0YWNoZWRCb2R5KXtlLnB1c2goYik7aWYoZC5vcHRpb25zKXtoLmludmFsaWRhdGVEYXRhW2IuaWRdPWQub3B0aW9uc319fWguaW52YWxpZGF0ZShlLG51bGwpfX0sZmx1c2hMYXlvdXRzOmZ1bmN0aW9uKGgsYSxjKXt2YXIgZz10aGlzLGo9Yz9nW2hdLml0ZW1zOmdbaF0uY2xlYXIoKSxlPWoubGVuZ3RoLGIsZDtpZihlKXtmb3IoYj0wO2I8ZTsrK2Ipe2Q9altiXTtpZighZC5ydW5uaW5nKXtnLmNhbGxMYXlvdXQoZCxhKX19Zy5jdXJyZW50TGF5b3V0PW51bGx9fSxnZXRDbXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0SXRlbShhLGEuZWwpfSxnZXRFbDpmdW5jdGlvbihiLGEpe3ZhciBjPXRoaXMuZ2V0SXRlbShhLGEpO2lmKCFjLnBhcmVudCl7Yy5wYXJlbnQ9YjtpZihiLmNoaWxkcmVuLmxlbmd0aCl7Yi5jaGlsZHJlbi5wdXNoKGMpfWVsc2V7Yi5jaGlsZHJlbj1bY119fXJldHVybiBjfSxnZXRJdGVtOmZ1bmN0aW9uKGQsYil7dmFyIGU9Yi5pZCxhPXRoaXMuaXRlbXMsYz1hW2VdfHwoYVtlXT1uZXcgRXh0LmxheW91dC5Db250ZXh0SXRlbSh7Y29udGV4dDp0aGlzLHRhcmdldDpkLGVsOmIsb3duZXJDdENvbnRleHQ6dGhpcy5jdXJyZW50T3duZXJDdENvbnRleHR9KSk7cmV0dXJuIGN9LGhhbmRsZUZhaWx1cmU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmxheW91dHMsYixhO0V4dC5mYWlsZWRMYXlvdXRzPShFeHQuZmFpbGVkTGF5b3V0c3x8MCkrMTtmb3IoYSBpbiBjKXtiPWNbYV07aWYoYy5oYXNPd25Qcm9wZXJ0eShhKSl7Yi5ydW5uaW5nPWZhbHNlO2Iub3duZXJDb250ZXh0PW51bGx9fX0saW52YWxpZGF0ZTpmdW5jdGlvbihvLHEsbSl7dmFyIHo9dGhpcyxuPSFvLmlzQ29tcG9uZW50LGE9ei5pdGVtcyxiPXouc3RhdGU+MCxyPXouY3VycmVudE93bmVyQ3RDb250ZXh0LGgsdixlLHUsbCx0LHMseSx4LHAsZyxkLHcsYyxqO3ouY3VycmVudE93bmVyQ3RDb250ZXh0PXE7Zm9yKHQ9MCxnPW4/by5sZW5ndGg6MTt0PGc7Kyt0KXt5PW4/b1t0XTpvO2lmKHkucmVuZGVyZWQmJiF5LmhpZGRlbil7bD0heS5jb21wb25lbnRMYXlvdXQub3duZXJDb250ZXh0O3g9ei5nZXRDbXAoeSk7aWYobCl7aWYoeS5iZWZvcmVMYXlvdXQpe3kuYmVmb3JlTGF5b3V0KCl9aWYoYiYmIXEmJih1PXkub3duZXJDdCkpe3E9YVt1LmVsLmlkXX14LmluaXQocSl9aD12PWU9dHJ1ZTtkPXkuY29tcG9uZW50TGF5b3V0O2Qub3duZXJDb250ZXh0PXg7aWYoZC5nZXRMYXlvdXRJdGVtcyl7ZC5yZW5kZXJDaGlsZHJlbigpO3A9ZC5nZXRMYXlvdXRJdGVtcygpO2lmKHAubGVuZ3RoKXt6LmludmFsaWRhdGUocCx4LHRydWUpO2g9ZmFsc2V9fWlmKHkuaXNDb250YWluZXImJiF5LmNvbGxhcHNlZCl7dz15LmxheW91dDt3Lm93bmVyQ29udGV4dD14O3cucmVuZGVyQ2hpbGRyZW4oKTtlPWZhbHNlO3A9dy5nZXRWaXNpYmxlSXRlbXMoKTtpZihwLmxlbmd0aCl7ei5pbnZhbGlkYXRlKHAseCx0cnVlKTt2PWZhbHNlfX1lbHNle3c9bnVsbH1pZihsKXt4Lmhhc1Jhd0NvbnRlbnQ9dHJ1ZTtpZih4LnRhcmdldC5pc0NvbnRhaW5lcil7aWYoeC50YXJnZXQuaXRlbXMuaXRlbXMubGVuZ3RofHwheC50YXJnZXQuZ2V0VGFyZ2V0RWwoKS5kb20uZmlyc3RDaGlsZCl7eC5oYXNSYXdDb250ZW50PWZhbHNlfX19ZWxzZXt4LmRvSW52YWxpZGF0ZShtKTtwPXguY2hpbGRyZW47Zm9yKHM9cC5sZW5ndGg7cy0tOyl7cFtzXS5kb0ludmFsaWRhdGUodHJ1ZSl9fWM9eC5wcm9wcztpZihoKXtjLmNvbXBvbmVudENoaWxkcmVuRG9uZT10cnVlO2lmKHYpe2MuY2hpbGRyZW5Eb25lPXRydWV9fWlmKHYpe2MuY29udGFpbmVyQ2hpbGRyZW5Eb25lPXRydWV9aWYoZSl7Yy5jb250YWluZXJMYXlvdXREb25lPXRydWV9aj16LmludmFsaWRhdGVEYXRhW3guaWRdO2lmKGope2RlbGV0ZSB6LmludmFsaWRhdGVEYXRhW3guaWRdO2lmKGouc3RhdGUpe0V4dC5hcHBseSh4LnN0YXRlLGouc3RhdGUpfXouZmluaXNoSW52YWxpZGF0ZShqLHgsImJlZm9yZSIpfXoucmVzZXRMYXlvdXQoZCx4LGwpO2lmKHcpe3oucmVzZXRMYXlvdXQodyx4LGwpfWlmKGope3ouZmluaXNoSW52YWxpZGF0ZShqLHgsImFmdGVyIil9aWYoeC5ib3hDaGlsZHJlbiYmeC53aWR0aE1vZGVsLnNocmlua1dyYXApe3guZWwuc2V0V2lkdGgoMTAwMDApO3guc3RhdGUuYmxvY2tzPSh4LnN0YXRlLmJsb2Nrc3x8MCkrMX1pZihsKXt4LmluaXRBbmltYXRlUG9saWN5KCl9fX16LmN1cnJlbnRPd25lckN0Q29udGV4dD1yfSxsYXlvdXREb25lOmZ1bmN0aW9uKGIpe3ZhciBjPWIub3duZXJDb250ZXh0LGE7Yi5ydW5uaW5nPWZhbHNlO2lmKGIuaXNDb21wb25lbnRMYXlvdXQpe2lmKGMubWVhc3VyZXNCb3gpe2Mub25Cb3hNZWFzdXJlZCgpfWMuc2V0UHJvcCgiZG9uZSIsdHJ1ZSk7YT1jLm93bmVyQ3RDb250ZXh0O2lmKGEpe2lmKGMudGFyZ2V0Lm93bmVyTGF5b3V0LmlzQ29tcG9uZW50TGF5b3V0KXtpZighLS1hLnJlbWFpbmluZ0NvbXBvbmVudENoaWxkTGF5b3V0cyl7YS5zZXRQcm9wKCJjb21wb25lbnRDaGlsZHJlbkRvbmUiLHRydWUpfX1lbHNle2lmKCEtLWEucmVtYWluaW5nQ29udGFpbmVyQ2hpbGRMYXlvdXRzKXthLnNldFByb3AoImNvbnRhaW5lckNoaWxkcmVuRG9uZSIsdHJ1ZSl9fWlmKCEtLWEucmVtYWluaW5nQ2hpbGRMYXlvdXRzKXthLnNldFByb3AoImNoaWxkcmVuRG9uZSIsdHJ1ZSl9fX1lbHNle2Muc2V0UHJvcCgiY29udGFpbmVyTGF5b3V0RG9uZSIsdHJ1ZSl9LS10aGlzLnJlbWFpbmluZ0xheW91dHM7Kyt0aGlzLnByb2dyZXNzQ291bnR9LG5ld1F1ZXVlOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBFeHQudXRpbC5RdWV1ZSgpfSxxdWV1ZUFuaW1hdGlvbjpmdW5jdGlvbihhKXt0aGlzLmFuaW1hdGVRdWV1ZS5hZGQoYSl9LHF1ZXVlQ29tcGxldGlvbjpmdW5jdGlvbihhKXt0aGlzLmNvbXBsZXRpb25RdWV1ZS5hZGQoYSl9LHF1ZXVlRmluYWxpemU6ZnVuY3Rpb24oYSl7dGhpcy5maW5hbGl6ZVF1ZXVlLmFkZChhKX0scXVldWVGbHVzaDpmdW5jdGlvbihhKXt0aGlzLmZsdXNoUXVldWUuYWRkKGEpfSxjaGFpbkZuczpmdW5jdGlvbihhLGUsYyl7dmFyIGI9YVtjXSxkPWVbY107cmV0dXJuIGZ1bmN0aW9uKGcpe2lmKGIpe2IuY2FsbChhLnNjb3BlfHxhLGcsYSl9ZC5jYWxsKGUuc2NvcGV8fGUsZyxlKX19LHF1ZXVlSW52YWxpZGF0ZTpmdW5jdGlvbihrLGwpe3ZhciBoPXRoaXMsaj1bXSxpPWguaW52YWxpZFF1ZXVlLGc9aS5sZW5ndGgsZCxiLGUsYSxjO2lmKGsuaXNDb21wb25lbnQpe2s9aC5nZXRDbXAoZD1rKX1lbHNle2Q9ay50YXJnZXR9d2hpbGUoZy0tKXtiPWlbZ107ZT1iLml0ZW0udGFyZ2V0O2lmKGQuaXNEZXNjZW5kYW50KGUpKXtyZXR1cm59aWYoZT09ZCl7aWYoIShhPWIub3B0aW9ucykpe2Iub3B0aW9ucz1sfWVsc2V7aWYobCl7aWYoIShjPWEuc3RhdGUpKXthLnN0YXRlPWwuc3RhdGV9ZWxzZXtpZihsLnN0YXRlKXtFeHQuYXBwbHkoYyxsLnN0YXRlKX19aWYobC5iZWZvcmUpe2EuYmVmb3JlPWguY2hhaW5GbnMoYSxsLCJiZWZvcmUiKX1pZihsLmFmdGVyKXthLmFmdGVyPWguY2hhaW5GbnMoYSxsLCJhZnRlciIpfX19cmV0dXJufWlmKCFlLmlzRGVzY2VuZGFudChkKSl7ai5wdXNoKGIpfX1qLnB1c2goe2l0ZW06ayxvcHRpb25zOmx9KTtoLmludmFsaWRRdWV1ZT1qfSxxdWV1ZUl0ZW1MYXlvdXRzOmZ1bmN0aW9uKGMpe3ZhciBhPWMuaXNDb21wb25lbnQ/YzpjLnRhcmdldCxiPWEuY29tcG9uZW50TGF5b3V0O2lmKCFiLnBlbmRpbmcmJiFiLmludmFsaWQmJiFiLmRvbmUpe3RoaXMucXVldWVMYXlvdXQoYil9Yj1hLmxheW91dDtpZihiJiYhYi5wZW5kaW5nJiYhYi5pbnZhbGlkJiYhYi5kb25lKXt0aGlzLnF1ZXVlTGF5b3V0KGIpfX0scXVldWVMYXlvdXQ6ZnVuY3Rpb24oYSl7dGhpcy5sYXlvdXRRdWV1ZS5hZGQoYSk7YS5wZW5kaW5nPXRydWV9LHJlc2V0TGF5b3V0OmZ1bmN0aW9uKGMsZCxlKXt2YXIgYj10aGlzLGE7Yi5jdXJyZW50TGF5b3V0PWM7Yy5kb25lPWZhbHNlO2MucGVuZGluZz10cnVlO2MuZmlyZWRUcmlnZ2Vycz0wO2IubGF5b3V0UXVldWUuYWRkKGMpO2lmKGUpe2IubGF5b3V0c1tjLmlkXT1jO2MucnVubmluZz10cnVlO2lmKGMuZmluaXNoZWRMYXlvdXQpe2IuZmluaXNoUXVldWUuYWRkKGMpfSsrYi5yZW1haW5pbmdMYXlvdXRzOysrYy5sYXlvdXRDb3VudDtjLmJlZ2luQ291bnQ9MDtjLmJsb2NrQ291bnQ9MDtjLmNhbGNDb3VudD0wO2MudHJpZ2dlckNvdW50PTA7aWYoYy5pc0NvbXBvbmVudExheW91dCYmKGE9ZC5vd25lckN0Q29udGV4dCkpe2lmKGQudGFyZ2V0Lm93bmVyTGF5b3V0LmlzQ29tcG9uZW50TGF5b3V0KXsrK2EucmVtYWluaW5nQ29tcG9uZW50Q2hpbGRMYXlvdXRzfWVsc2V7KythLnJlbWFpbmluZ0NvbnRhaW5lckNoaWxkTGF5b3V0c30rK2EucmVtYWluaW5nQ2hpbGRMYXlvdXRzfWlmKCFjLmluaXRpYWxpemVkKXtjLmluaXRMYXlvdXQoKX1jLmJlZ2luTGF5b3V0KGQpfWVsc2V7KytjLmJlZ2luQ291bnQ7aWYoIWMucnVubmluZyl7KytiLnJlbWFpbmluZ0xheW91dHM7Yy5ydW5uaW5nPXRydWU7aWYoYy5pc0NvbXBvbmVudExheW91dCl7ZC51bnNldFByb3AoImRvbmUiKTthPWQub3duZXJDdENvbnRleHQ7aWYoYSl7aWYoZC50YXJnZXQub3duZXJMYXlvdXQuaXNDb21wb25lbnRMYXlvdXQpe2lmKCsrYS5yZW1haW5pbmdDb21wb25lbnRDaGlsZExheW91dHM9PTEpe2EudW5zZXRQcm9wKCJjb21wb25lbnRDaGlsZHJlbkRvbmUiKX19ZWxzZXtpZigrK2EucmVtYWluaW5nQ29udGFpbmVyQ2hpbGRMYXlvdXRzPT0xKXthLnVuc2V0UHJvcCgiY29udGFpbmVyQ2hpbGRyZW5Eb25lIil9fWlmKCsrYS5yZW1haW5pbmdDaGlsZExheW91dHM9PTEpe2EudW5zZXRQcm9wKCJjaGlsZHJlbkRvbmUiKX19fWIuY29tcGxldGlvblF1ZXVlLnJlbW92ZShjKTtiLmZpbmFsaXplUXVldWUucmVtb3ZlKGMpfX1jLmJlZ2luTGF5b3V0Q3ljbGUoZCxlKX0scnVuOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPWZhbHNlLGE9MTAwO2MuZmx1c2hJbnZhbGlkYXRlcygpO2Muc3RhdGU9MTtjLnRvdGFsQ291bnQ9Yy5sYXlvdXRRdWV1ZS5nZXRDb3VudCgpO2MuZmx1c2goKTt3aGlsZSgoYy5yZW1haW5pbmdMYXlvdXRzfHxjLmludmFsaWRRdWV1ZS5sZW5ndGgpJiZhLS0pe2lmKGMuaW52YWxpZFF1ZXVlLmxlbmd0aCl7Yy5mbHVzaEludmFsaWRhdGVzKCl9aWYoYy5ydW5DeWNsZSgpKXtiPWZhbHNlfWVsc2V7aWYoIWIpe2MuZmx1c2goKTtiPXRydWU7Yy5mbHVzaExheW91dHMoImNvbXBsZXRpb25RdWV1ZSIsImNvbXBsZXRlTGF5b3V0Iil9ZWxzZXtjLnN0YXRlPTI7YnJlYWt9fWlmKCEoYy5yZW1haW5pbmdMYXlvdXRzfHxjLmludmFsaWRRdWV1ZS5sZW5ndGgpKXtjLmZsdXNoKCk7Yy5mbHVzaExheW91dHMoImNvbXBsZXRpb25RdWV1ZSIsImNvbXBsZXRlTGF5b3V0Iik7Yy5mbHVzaExheW91dHMoImZpbmFsaXplUXVldWUiLCJmaW5hbGl6ZUxheW91dCIpfX1yZXR1cm4gYy5ydW5Db21wbGV0ZSgpfSxydW5Db21wbGV0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5zdGF0ZT0yO2lmKGEucmVtYWluaW5nTGF5b3V0cyl7YS5oYW5kbGVGYWlsdXJlKCk7cmV0dXJuIGZhbHNlfWEuZmx1c2goKTthLmZsdXNoTGF5b3V0cygiZmluaXNoUXVldWUiLCJmaW5pc2hlZExheW91dCIsdHJ1ZSk7YS5mbHVzaExheW91dHMoImZpbmlzaFF1ZXVlIiwibm90aWZ5T3duZXIiKTthLmZsdXNoKCk7YS5mbHVzaEFuaW1hdGlvbnMoKTtyZXR1cm4gdHJ1ZX0scnVuQ3ljbGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGQ9Yy5sYXlvdXRRdWV1ZS5jbGVhcigpLGI9ZC5sZW5ndGgsYTsrK2MuY3ljbGVDb3VudDtjLnByb2dyZXNzQ291bnQ9MDtmb3IoYT0wO2E8YjsrK2Epe2MucnVuTGF5b3V0KGMuY3VycmVudExheW91dD1kW2FdKX1jLmN1cnJlbnRMYXlvdXQ9bnVsbDtyZXR1cm4gYy5wcm9ncmVzc0NvdW50PjB9LHJ1bkxheW91dDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLGM9YS5nZXRDbXAoYi5vd25lcik7Yi5wZW5kaW5nPWZhbHNlO2lmKGMuc3RhdGUuYmxvY2tzKXtyZXR1cm59Yi5kb25lPXRydWU7KytiLmNhbGNDb3VudDsrK2EuY2FsY0NvdW50O2IuY2FsY3VsYXRlKGMpO2lmKGIuZG9uZSl7YS5sYXlvdXREb25lKGIpO2lmKGIuY29tcGxldGVMYXlvdXQpe2EucXVldWVDb21wbGV0aW9uKGIpfWlmKGIuZmluYWxpemVMYXlvdXQpe2EucXVldWVGaW5hbGl6ZShiKX19ZWxzZXtpZighYi5wZW5kaW5nJiYhYi5pbnZhbGlkJiYhKGIuYmxvY2tDb3VudCtiLnRyaWdnZXJDb3VudC1iLmZpcmVkVHJpZ2dlcnMpKXthLnF1ZXVlTGF5b3V0KGIpfX19LHNldEl0ZW1TaXplOmZ1bmN0aW9uKGgsZyxiKXt2YXIgZD1oLGE9MSxjLGU7aWYoaC5pc0NvbXBvc2l0ZSl7ZD1oLmVsZW1lbnRzO2E9ZC5sZW5ndGg7aD1kWzBdfWVsc2V7aWYoIWguZG9tJiYhaC5lbCl7YT1kLmxlbmd0aDtoPWRbMF19fWZvcihlPTA7ZTxhOyl7Yz10aGlzLmdldChoKTtjLnNldFNpemUoZyxiKTtoPWRbKytlXX19fSk7RXh0LmRlZmluZSgiRXh0LnNlbGVjdGlvbi5Nb2RlbCIse2V4dGVuZDoiRXh0LnV0aWwuT2JzZXJ2YWJsZSIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuQWJzdHJhY3RTZWxlY3Rpb25Nb2RlbCIscmVxdWlyZXM6WyJFeHQuZGF0YS5TdG9yZU1hbmFnZXIiXSxtaXhpbnM6e2JpbmRhYmxlOiJFeHQudXRpbC5CaW5kYWJsZSJ9LGFsbG93RGVzZWxlY3Q6ZmFsc2Usc2VsZWN0ZWQ6bnVsbCxwcnVuZVJlbW92ZWQ6dHJ1ZSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2E9YXx8e307RXh0LmFwcGx5KGIsYSk7Yi5hZGRFdmVudHMoInNlbGVjdGlvbmNoYW5nZSIsImZvY3VzY2hhbmdlIik7Yi5tb2Rlcz17U0lOR0xFOnRydWUsU0lNUExFOnRydWUsTVVMVEk6dHJ1ZX07Yi5zZXRTZWxlY3Rpb25Nb2RlKGEubW9kZXx8Yi5tb2RlKTtiLnNlbGVjdGVkPW5ldyBFeHQudXRpbC5NaXhlZENvbGxlY3Rpb24oKTtiLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sYmluZFN0b3JlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztjLm1peGlucy5iaW5kYWJsZS5iaW5kU3RvcmUuYXBwbHkoYyxhcmd1bWVudHMpO2lmKGMuc3RvcmUmJiFiKXtjLnJlZnJlc2goKX19LGdldFN0b3JlTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm57YWRkOmEub25TdG9yZUFkZCxjbGVhcjphLm9uU3RvcmVDbGVhcixyZW1vdmU6YS5vblN0b3JlUmVtb3ZlLHVwZGF0ZTphLm9uU3RvcmVVcGRhdGV9fSxzZWxlY3RBbGw6ZnVuY3Rpb24oYil7dmFyIGU9dGhpcyxkPWUuc3RvcmUuZ2V0UmFuZ2UoKSxjPTAsYT1kLmxlbmd0aCxnPWUuZ2V0U2VsZWN0aW9uKCkubGVuZ3RoO2UuYnVsa0NoYW5nZT10cnVlO2Zvcig7YzxhO2MrKyl7ZS5kb1NlbGVjdChkW2NdLHRydWUsYil9ZGVsZXRlIGUuYnVsa0NoYW5nZTtlLm1heWJlRmlyZVNlbGVjdGlvbkNoYW5nZShlLmdldFNlbGVjdGlvbigpLmxlbmd0aCE9PWcpfSxkZXNlbGVjdEFsbDpmdW5jdGlvbihiKXt2YXIgZT10aGlzLGQ9ZS5nZXRTZWxlY3Rpb24oKSxjPTAsYT1kLmxlbmd0aCxnPWUuZ2V0U2VsZWN0aW9uKCkubGVuZ3RoO2UuYnVsa0NoYW5nZT10cnVlO2Zvcig7YzxhO2MrKyl7ZS5kb0Rlc2VsZWN0KGRbY10sYil9ZGVsZXRlIGUuYnVsa0NoYW5nZTtlLm1heWJlRmlyZVNlbGVjdGlvbkNoYW5nZShlLmdldFNlbGVjdGlvbigpLmxlbmd0aCE9PWcpfSxzZWxlY3RXaXRoRXZlbnQ6ZnVuY3Rpb24oYSxkLGMpe3ZhciBiPXRoaXM7c3dpdGNoKGIuc2VsZWN0aW9uTW9kZSl7Y2FzZSJNVUxUSSI6aWYoZC5jdHJsS2V5JiZiLmlzU2VsZWN0ZWQoYSkpe2IuZG9EZXNlbGVjdChhLGZhbHNlKX1lbHNle2lmKGQuc2hpZnRLZXkmJmIubGFzdEZvY3VzZWQpe2Iuc2VsZWN0UmFuZ2UoYi5sYXN0Rm9jdXNlZCxhLGQuY3RybEtleSl9ZWxzZXtpZihkLmN0cmxLZXkpe2IuZG9TZWxlY3QoYSx0cnVlLGZhbHNlKX1lbHNle2lmKGIuaXNTZWxlY3RlZChhKSYmIWQuc2hpZnRLZXkmJiFkLmN0cmxLZXkmJmIuc2VsZWN0ZWQuZ2V0Q291bnQoKT4xKXtiLmRvU2VsZWN0KGEsYyxmYWxzZSl9ZWxzZXtiLmRvU2VsZWN0KGEsZmFsc2UpfX19fWJyZWFrO2Nhc2UiU0lNUExFIjppZihiLmlzU2VsZWN0ZWQoYSkpe2IuZG9EZXNlbGVjdChhKX1lbHNle2IuZG9TZWxlY3QoYSx0cnVlKX1icmVhaztjYXNlIlNJTkdMRSI6aWYoYi5hbGxvd0Rlc2VsZWN0JiZiLmlzU2VsZWN0ZWQoYSkpe2IuZG9EZXNlbGVjdChhKX1lbHNle2IuZG9TZWxlY3QoYSxmYWxzZSl9YnJlYWt9fSxzZWxlY3RSYW5nZTpmdW5jdGlvbihsLGUsbSxjKXt2YXIgaj10aGlzLGs9ai5zdG9yZSxkPTAsaCxnLGEsYj1bXTtpZihqLmlzTG9ja2VkKCkpe3JldHVybn1pZighbSl7ai5kZXNlbGVjdEFsbCh0cnVlKX1pZighRXh0LmlzTnVtYmVyKGwpKXtsPWsuaW5kZXhPZihsKX1pZighRXh0LmlzTnVtYmVyKGUpKXtlPWsuaW5kZXhPZihlKX1pZihsPmUpe2c9ZTtlPWw7bD1nfWZvcihoPWw7aDw9ZTtoKyspe2lmKGouaXNTZWxlY3RlZChrLmdldEF0KGgpKSl7ZCsrfX1pZighYyl7YT0tMX1lbHNle2E9KGM9PSJ1cCIpP2w6ZX1mb3IoaD1sO2g8PWU7aCsrKXtpZihkPT0oZS1sKzEpKXtpZihoIT1hKXtqLmRvRGVzZWxlY3QoaCx0cnVlKX19ZWxzZXtiLnB1c2goay5nZXRBdChoKSl9fWouZG9NdWx0aVNlbGVjdChiLHRydWUpfSxzZWxlY3Q6ZnVuY3Rpb24oYixjLGEpe2lmKEV4dC5pc0RlZmluZWQoYikpe3RoaXMuZG9TZWxlY3QoYixjLGEpfX0sZGVzZWxlY3Q6ZnVuY3Rpb24oYixhKXt0aGlzLmRvRGVzZWxlY3QoYixhKX0sZG9TZWxlY3Q6ZnVuY3Rpb24oYyxlLGIpe3ZhciBkPXRoaXMsYTtpZihkLmxvY2tlZHx8IWQuc3RvcmUpe3JldHVybn1pZih0eXBlb2YgYz09PSJudW1iZXIiKXtjPVtkLnN0b3JlLmdldEF0KGMpXX1pZihkLnNlbGVjdGlvbk1vZGU9PSJTSU5HTEUiJiZjKXthPWMubGVuZ3RoP2NbMF06YztkLmRvU2luZ2xlU2VsZWN0KGEsYil9ZWxzZXtkLmRvTXVsdGlTZWxlY3QoYyxlLGIpfX0sZG9NdWx0aVNlbGVjdDpmdW5jdGlvbihhLGwsayl7dmFyIGg9dGhpcyxiPWguc2VsZWN0ZWQsaj1mYWxzZSxkPTAsZyxlO2lmKGgubG9ja2VkKXtyZXR1cm59YT0hRXh0LmlzQXJyYXkoYSk/W2FdOmE7Zz1hLmxlbmd0aDtpZighbCYmYi5nZXRDb3VudCgpPjApe2lmKGguZG9EZXNlbGVjdChoLmdldFNlbGVjdGlvbigpLGspPT09ZmFsc2Upe3JldHVybn19ZnVuY3Rpb24gYygpe2IuYWRkKGUpO2o9dHJ1ZX1mb3IoO2Q8ZztkKyspe2U9YVtkXTtpZihsJiZoLmlzU2VsZWN0ZWQoZSkpe2NvbnRpbnVlfWgubGFzdFNlbGVjdGVkPWU7aC5vblNlbGVjdENoYW5nZShlLHRydWUsayxjKX1pZighaC5wcmV2ZW50Rm9jdXMpe2guc2V0TGFzdEZvY3VzZWQoZSxrKX1oLm1heWJlRmlyZVNlbGVjdGlvbkNoYW5nZShqJiYhayl9LGRvRGVzZWxlY3Q6ZnVuY3Rpb24oYSxrKXt2YXIgaj10aGlzLGI9ai5zZWxlY3RlZCxkPTAsaCxlLGw9MCxnPTA7aWYoai5sb2NrZWR8fCFqLnN0b3JlKXtyZXR1cm4gZmFsc2V9aWYodHlwZW9mIGE9PT0ibnVtYmVyIil7YT1bai5zdG9yZS5nZXRBdChhKV19ZWxzZXtpZighRXh0LmlzQXJyYXkoYSkpe2E9W2FdfX1mdW5jdGlvbiBjKCl7KytnO2IucmVtb3ZlKGUpfWg9YS5sZW5ndGg7Zm9yKDtkPGg7ZCsrKXtlPWFbZF07aWYoai5pc1NlbGVjdGVkKGUpKXtpZihqLmxhc3RTZWxlY3RlZD09ZSl7ai5sYXN0U2VsZWN0ZWQ9Yi5sYXN0KCl9KytsO2oub25TZWxlY3RDaGFuZ2UoZSxmYWxzZSxrLGMpfX1qLm1heWJlRmlyZVNlbGVjdGlvbkNoYW5nZShnPjAmJiFrKTtyZXR1cm4gZz09PWx9LGRvU2luZ2xlU2VsZWN0OmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcyxnPWZhbHNlLGM9ZC5zZWxlY3RlZDtpZihkLmxvY2tlZCl7cmV0dXJufWlmKGQuaXNTZWxlY3RlZChhKSl7cmV0dXJufWZ1bmN0aW9uIGUoKXtkLmJ1bGtDaGFuZ2U9dHJ1ZTtpZihjLmdldENvdW50KCk+MCYmZC5kb0Rlc2VsZWN0KGQubGFzdFNlbGVjdGVkLGIpPT09ZmFsc2Upe2RlbGV0ZSBkLmJ1bGtDaGFuZ2U7cmV0dXJuIGZhbHNlfWRlbGV0ZSBkLmJ1bGtDaGFuZ2U7Yy5hZGQoYSk7ZC5sYXN0U2VsZWN0ZWQ9YTtnPXRydWV9ZC5vblNlbGVjdENoYW5nZShhLHRydWUsYixlKTtpZihnKXtpZighYil7ZC5zZXRMYXN0Rm9jdXNlZChhKX1kLm1heWJlRmlyZVNlbGVjdGlvbkNoYW5nZSghYil9fSxzZXRMYXN0Rm9jdXNlZDpmdW5jdGlvbihjLGIpe3ZhciBkPXRoaXMsYT1kLmxhc3RGb2N1c2VkO2QubGFzdEZvY3VzZWQ9YztpZihjIT09YSl7ZC5vbkxhc3RGb2N1c0NoYW5nZWQoYSxjLGIpfX0saXNGb2N1c2VkOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpcy5nZXRMYXN0Rm9jdXNlZCgpfSxtYXliZUZpcmVTZWxlY3Rpb25DaGFuZ2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZihhJiYhYi5idWxrQ2hhbmdlKXtiLmZpcmVFdmVudCgic2VsZWN0aW9uY2hhbmdlIixiLGIuZ2V0U2VsZWN0aW9uKCkpfX0sZ2V0TGFzdFNlbGVjdGVkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGFzdFNlbGVjdGVkfSxnZXRMYXN0Rm9jdXNlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxhc3RGb2N1c2VkfSxnZXRTZWxlY3Rpb246ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RlZC5nZXRSYW5nZSgpfSxnZXRTZWxlY3Rpb25Nb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0aW9uTW9kZX0sc2V0U2VsZWN0aW9uTW9kZTpmdW5jdGlvbihhKXthPWE/YS50b1VwcGVyQ2FzZSgpOiJTSU5HTEUiO3RoaXMuc2VsZWN0aW9uTW9kZT10aGlzLm1vZGVzW2FdP2E6IlNJTkdMRSJ9LGlzTG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubG9ja2VkfSxzZXRMb2NrZWQ6ZnVuY3Rpb24oYSl7dGhpcy5sb2NrZWQ9ISFhfSxpc1NlbGVjdGVkOmZ1bmN0aW9uKGEpe2E9RXh0LmlzTnVtYmVyKGEpP3RoaXMuc3RvcmUuZ2V0QXQoYSk6YTtyZXR1cm4gdGhpcy5zZWxlY3RlZC5pbmRleE9mKGEpIT09LTF9LGhhc1NlbGVjdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGVkLmdldENvdW50KCk+MH0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBoPXRoaXMsYj1bXSxnPWguZ2V0U2VsZWN0aW9uKCksYT1nLmxlbmd0aCxlLGosZD0wLGM9dGhpcy5nZXRMYXN0Rm9jdXNlZCgpO2Zvcig7ZDxhO2QrKyl7ZT1nW2RdO2lmKCF0aGlzLnBydW5lUmVtb3ZlZHx8aC5zdG9yZS5pbmRleE9mKGUpIT09LTEpe2IucHVzaChlKX19aWYoaC5zZWxlY3RlZC5nZXRDb3VudCgpIT1iLmxlbmd0aCl7aj10cnVlfWguY2xlYXJTZWxlY3Rpb25zKCk7aWYoaC5zdG9yZS5pbmRleE9mKGMpIT09LTEpe3RoaXMuc2V0TGFzdEZvY3VzZWQoYyx0cnVlKX1pZihiLmxlbmd0aCl7aC5kb1NlbGVjdChiLGZhbHNlLHRydWUpfWgubWF5YmVGaXJlU2VsZWN0aW9uQ2hhbmdlKGopfSxjbGVhclNlbGVjdGlvbnM6ZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkLmNsZWFyKCk7dGhpcy5sYXN0U2VsZWN0ZWQ9bnVsbDt0aGlzLnNldExhc3RGb2N1c2VkKG51bGwpfSxvblN0b3JlQWRkOmZ1bmN0aW9uKCl7fSxvblN0b3JlQ2xlYXI6ZnVuY3Rpb24oKXtpZih0aGlzLnNlbGVjdGVkLmdldENvdW50PjApe3RoaXMuY2xlYXJTZWxlY3Rpb25zKCk7dGhpcy5tYXliZUZpcmVTZWxlY3Rpb25DaGFuZ2UodHJ1ZSl9fSxvblN0b3JlUmVtb3ZlOmZ1bmN0aW9uKGIsYSxjKXt2YXIgZT10aGlzLGQ9ZS5zZWxlY3RlZDtpZihlLmxvY2tlZHx8IWUucHJ1bmVSZW1vdmVkKXtyZXR1cm59aWYoZC5yZW1vdmUoYSkpe2lmKGUubGFzdFNlbGVjdGVkPT1hKXtlLmxhc3RTZWxlY3RlZD1udWxsfWlmKGUuZ2V0TGFzdEZvY3VzZWQoKT09YSl7ZS5zZXRMYXN0Rm9jdXNlZChudWxsKX1lLm1heWJlRmlyZVNlbGVjdGlvbkNoYW5nZSh0cnVlKX19LGdldENvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2VsZWN0ZWQuZ2V0Q291bnQoKX0sZGVzdHJveTpmdW5jdGlvbigpe30sb25TdG9yZVVwZGF0ZTpmdW5jdGlvbigpe30sb25TZWxlY3RDaGFuZ2U6ZnVuY3Rpb24oYSxjLGIpe30sb25MYXN0Rm9jdXNDaGFuZ2VkOmZ1bmN0aW9uKGIsYSl7dGhpcy5maXJlRXZlbnQoImZvY3VzY2hhbmdlIix0aGlzLGIsYSl9LG9uRWRpdG9yS2V5OmZ1bmN0aW9uKGIsYSl7fSxiaW5kQ29tcG9uZW50OmZ1bmN0aW9uKGEpe319KTtFeHQuZGVmaW5lKCJFeHQuc2VsZWN0aW9uLkRhdGFWaWV3TW9kZWwiLHtleHRlbmQ6IkV4dC5zZWxlY3Rpb24uTW9kZWwiLHJlcXVpcmVzOlsiRXh0LnV0aWwuS2V5TmF2Il0sZGVzZWxlY3RPbkNvbnRhaW5lckNsaWNrOnRydWUsZW5hYmxlS2V5TmF2OnRydWUsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dGhpcy5hZGRFdmVudHMoImJlZm9yZWRlc2VsZWN0IiwiYmVmb3Jlc2VsZWN0IiwiZGVzZWxlY3QiLCJzZWxlY3QiKTt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sYmluZENvbXBvbmVudDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9e3JlZnJlc2g6Yi5yZWZyZXNoLHNjb3BlOmJ9O2Iudmlldz1hO2IuYmluZFN0b3JlKGEuZ2V0U3RvcmUoKSk7Y1thLnRyaWdnZXJFdmVudF09Yi5vbkl0ZW1DbGljaztjW2EudHJpZ2dlckN0RXZlbnRdPWIub25Db250YWluZXJDbGljazthLm9uKGMpO2lmKGIuZW5hYmxlS2V5TmF2KXtiLmluaXRLZXlOYXYoYSl9fSxvbkl0ZW1DbGljazpmdW5jdGlvbihiLGEsZCxjLGcpe3RoaXMuc2VsZWN0V2l0aEV2ZW50KGEsZyl9LG9uQ29udGFpbmVyQ2xpY2s6ZnVuY3Rpb24oKXtpZih0aGlzLmRlc2VsZWN0T25Db250YWluZXJDbGljayl7dGhpcy5kZXNlbGVjdEFsbCgpfX0saW5pdEtleU5hdjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKCFhLnJlbmRlcmVkKXthLm9uKHtyZW5kZXI6RXh0LkZ1bmN0aW9uLmJpbmQoYi5pbml0S2V5TmF2LGIsW2FdKSxzaW5nbGU6dHJ1ZX0pO3JldHVybn1hLmVsLnNldCh7dGFiSW5kZXg6LTF9KTtiLmtleU5hdj1uZXcgRXh0LnV0aWwuS2V5TmF2KGEuZWwse2Rvd246RXh0LnBhc3MoYi5vbk5hdktleSxbMV0sYikscmlnaHQ6RXh0LnBhc3MoYi5vbk5hdktleSxbMV0sYiksbGVmdDpFeHQucGFzcyhiLm9uTmF2S2V5LFstMV0sYiksdXA6RXh0LnBhc3MoYi5vbk5hdktleSxbLTFdLGIpLHNjb3BlOmJ9KX0sb25OYXZLZXk6ZnVuY3Rpb24oZyl7Zz1nfHwxO3ZhciBlPXRoaXMsYj1lLnZpZXcsZD1lLmdldFNlbGVjdGlvbigpWzBdLGM9ZS52aWV3LnN0b3JlLmdldENvdW50KCksYTtpZihkKXthPWIuaW5kZXhPZihiLmdldE5vZGUoZCkpK2d9ZWxzZXthPTB9aWYoYTwwKXthPWMtMX1lbHNle2lmKGE+PWMpe2E9MH19ZS5zZWxlY3QoYSl9LG9uU2VsZWN0Q2hhbmdlOmZ1bmN0aW9uKGIsZSxkLGgpe3ZhciBnPXRoaXMsYT1nLnZpZXcsYz1lPyJzZWxlY3QiOiJkZXNlbGVjdCI7aWYoKGR8fGcuZmlyZUV2ZW50KCJiZWZvcmUiK2MsZyxiKSkhPT1mYWxzZSYmaCgpIT09ZmFsc2Upe2lmKGEpe2lmKGUpe2Eub25JdGVtU2VsZWN0KGIpfWVsc2V7YS5vbkl0ZW1EZXNlbGVjdChiKX19aWYoIWQpe2cuZmlyZUV2ZW50KGMsZyxiKX19fSxkZXN0cm95OmZ1bmN0aW9uKCl7RXh0LmRlc3Ryb3kodGhpcy5rZXlOYXYpO3RoaXMuY2FsbFBhcmVudCgpfX0pO0V4dC5kZWZpbmUoIkV4dC5Db21wb25lbnQiLHthbGlhczpbIndpZGdldC5jb21wb25lbnQiLCJ3aWRnZXQuYm94Il0sZXh0ZW5kOiJFeHQuQWJzdHJhY3RDb21wb25lbnQiLHJlcXVpcmVzOlsiRXh0LnV0aWwuRGVsYXllZFRhc2siXSx1c2VzOlsiRXh0LkxheWVyIiwiRXh0LnJlc2l6ZXIuUmVzaXplciIsIkV4dC51dGlsLkNvbXBvbmVudERyYWdnZXIiXSxtaXhpbnM6e2Zsb2F0aW5nOiJFeHQudXRpbC5GbG9hdGluZyJ9LHN0YXRpY3M6e0RJUkVDVElPTl9UT1A6InRvcCIsRElSRUNUSU9OX1JJR0hUOiJyaWdodCIsRElSRUNUSU9OX0JPVFRPTToiYm90dG9tIixESVJFQ1RJT05fTEVGVDoibGVmdCIsVkVSVElDQUxfRElSRUNUSU9OX1JlOi9eKD86dG9wfGJvdHRvbSkkLyxJTlZBTElEX0lEX0NIQVJTX1JlOi9bXC4sXHNdL2d9LHJlc2l6ZUhhbmRsZXM6ImFsbCIsZmxvYXRpbmc6ZmFsc2UsdG9Gcm9udE9uU2hvdzp0cnVlLGhpZGVNb2RlOiJkaXNwbGF5IixoaWRlUGFyZW50OmZhbHNlLGJ1YmJsZUV2ZW50czpbXSxhY3Rpb25Nb2RlOiJlbCIsbW9uUHJvcFJlOi9eKD86c2NvcGV8ZGVsYXl8YnVmZmVyfHNpbmdsZXxzdG9wRXZlbnR8cHJldmVudERlZmF1bHR8c3RvcFByb3BhZ2F0aW9ufG5vcm1hbGl6ZWR8YXJnc3xkZWxlZ2F0ZSkkLyxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2E9YXx8e307aWYoYS5pbml0aWFsQ29uZmlnKXtpZihhLmlzQWN0aW9uKXtiLmJhc2VBY3Rpb249YX1hPWEuaW5pdGlhbENvbmZpZ31lbHNle2lmKGEudGFnTmFtZXx8YS5kb218fEV4dC5pc1N0cmluZyhhKSl7YT17YXBwbHlUbzphLGlkOmEuaWR8fGF9fX1iLmNhbGxQYXJlbnQoW2FdKTtpZihiLmJhc2VBY3Rpb24pe2IuYmFzZUFjdGlvbi5hZGRDb21wb25lbnQoYil9fSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoKTtpZihhLmxpc3RlbmVycyl7YS5vbihhLmxpc3RlbmVycyk7YS5saXN0ZW5lcnM9bnVsbH1hLmVuYWJsZUJ1YmJsZShhLmJ1YmJsZUV2ZW50cyk7YS5tb25zPVtdfSxhZnRlclJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KCk7aWYoIShhLngmJmEueSkmJihhLnBhZ2VYfHxhLnBhZ2VZKSl7YS5zZXRQYWdlUG9zaXRpb24oYS5wYWdlWCxhLnBhZ2VZKX19LHNldEF1dG9TY3JvbGw6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLmF1dG9TY3JvbGw9ISFhO2lmKGIucmVuZGVyZWQpe2IuZ2V0VGFyZ2V0RWwoKS5zZXRTdHlsZShiLmdldE92ZXJmbG93U3R5bGUoKSl9Yi51cGRhdGVMYXlvdXQoKTtyZXR1cm4gYn0sc2V0T3ZlcmZsb3dYWTpmdW5jdGlvbihiLGEpe3ZhciBjPXRoaXMsZD1hcmd1bWVudHMubGVuZ3RoO2lmKGQpe2Mub3ZlcmZsb3dYPWJ8fCIiO2lmKGQ+MSl7Yy5vdmVyZmxvd1k9YXx8IiJ9fWlmKGMucmVuZGVyZWQpe2MuZ2V0VGFyZ2V0RWwoKS5zZXRTdHlsZShjLmdldE92ZXJmbG93U3R5bGUoKSl9Yy51cGRhdGVMYXlvdXQoKTtyZXR1cm4gY30sYmVmb3JlUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuZmxvYXRpbmcsYTtpZihjKXtiLmFkZENscyhFeHQuYmFzZUNTU1ByZWZpeCsibGF5ZXIiKTthPWMuY2xzO2lmKGEpe2IuYWRkQ2xzKGEpfX1yZXR1cm4gYi5jYWxsUGFyZW50KCl9LGFmdGVyQ29tcG9uZW50TGF5b3V0OmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYodGhpcy5mbG9hdGluZyl7dGhpcy5vbkFmdGVyRmxvYXRMYXlvdXQoKX19LG1ha2VGbG9hdGluZzpmdW5jdGlvbihhKXt0aGlzLm1peGlucy5mbG9hdGluZy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsYSl9LHdyYXBQcmltYXJ5RWw6ZnVuY3Rpb24oYSl7aWYodGhpcy5mbG9hdGluZyl7dGhpcy5tYWtlRmxvYXRpbmcoYSl9ZWxzZXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX19LGluaXRSZXNpemFibGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczthPUV4dC5hcHBseSh7dGFyZ2V0OmIsZHluYW1pYzpmYWxzZSxjb25zdHJhaW5UbzpiLmNvbnN0cmFpblRvfHwoYi5mbG9hdFBhcmVudD9iLmZsb2F0UGFyZW50LmdldFRhcmdldEVsKCk6bnVsbCksaGFuZGxlczpiLnJlc2l6ZUhhbmRsZXN9LGEpO2EudGFyZ2V0PWI7Yi5yZXNpemVyPW5ldyBFeHQucmVzaXplci5SZXNpemVyKGEpfSxnZXREcmFnRWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbH0saW5pdERyYWdnYWJsZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYT0oYy5yZXNpemVyJiZjLnJlc2l6ZXIuZWwhPT1jLmVsKT9jLnJlc2l6ZXJDb21wb25lbnQ9bmV3IEV4dC5Db21wb25lbnQoe2VsOmMucmVzaXplci5lbCxyZW5kZXJlZDp0cnVlLGNvbnRhaW5lcjpjLmNvbnRhaW5lcn0pOmMsYj1FeHQuYXBwbHlJZih7ZWw6YS5nZXREcmFnRWwoKSxjb25zdHJhaW5UbzpjLmNvbnN0cmFpbj8oYy5jb25zdHJhaW5Ub3x8KGMuZmxvYXRQYXJlbnQ/Yy5mbG9hdFBhcmVudC5nZXRUYXJnZXRFbCgpOmMuZWwuZ2V0U2NvcGVQYXJlbnQoKSkpOnVuZGVmaW5lZH0sYy5kcmFnZ2FibGUpO2lmKGMuY29uc3RyYWlufHxjLmNvbnN0cmFpbkRlbGVnYXRlKXtiLmNvbnN0cmFpbj1jLmNvbnN0cmFpbjtiLmNvbnN0cmFpbkRlbGVnYXRlPWMuY29uc3RyYWluRGVsZWdhdGV9Yy5kZD1uZXcgRXh0LnV0aWwuQ29tcG9uZW50RHJhZ2dlcihhLGIpfSxzY3JvbGxCeTpmdW5jdGlvbihiLGEsYyl7dmFyIGQ7aWYoKGQ9dGhpcy5nZXRUYXJnZXRFbCgpKSYmZC5kb20pe2Quc2Nyb2xsQnkuYXBwbHkoZCxhcmd1bWVudHMpfX0sc2V0TG9hZGluZzpmdW5jdGlvbihjLGQpe3ZhciBiPXRoaXMsYTtpZihiLnJlbmRlcmVkKXtFeHQuZGVzdHJveShiLmxvYWRNYXNrKTtiLmxvYWRNYXNrPW51bGw7aWYoYyE9PWZhbHNlJiYhYi5jb2xsYXBzZWQpe2lmKEV4dC5pc09iamVjdChjKSl7YT1FeHQuYXBwbHkoe30sYyl9ZWxzZXtpZihFeHQuaXNTdHJpbmcoYykpe2E9e21zZzpjfX1lbHNle2E9e319fWlmKGQpe0V4dC5hcHBseUlmKGEse3VzZVRhcmdldEVsOnRydWV9KX1iLmxvYWRNYXNrPW5ldyBFeHQuTG9hZE1hc2soYixhKTtiLmxvYWRNYXNrLnNob3coKX19cmV0dXJuIGIubG9hZE1hc2t9LGJlZm9yZVNldFBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIuY2FsbFBhcmVudChhcmd1bWVudHMpLGE7aWYoYyl7YT1iLmFkanVzdFBvc2l0aW9uKGMueCxjLnkpO2MueD1hLng7Yy55PWEueX1yZXR1cm4gY3x8bnVsbH0sYWZ0ZXJTZXRQb3NpdGlvbjpmdW5jdGlvbihiLGEpe3RoaXMub25Qb3NpdGlvbihiLGEpO3RoaXMuZmlyZUV2ZW50KCJtb3ZlIix0aGlzLGIsYSl9LHNob3dBdDpmdW5jdGlvbihhLGQsYil7dmFyIGM9dGhpcztpZighYy5yZW5kZXJlZCYmKGMuYXV0b1JlbmRlcnx8Yy5mbG9hdGluZykpe2MuZG9BdXRvUmVuZGVyKCl9aWYoYy5mbG9hdGluZyl7Yy5zZXRQb3NpdGlvbihhLGQsYil9ZWxzZXtjLnNldFBhZ2VQb3NpdGlvbihhLGQsYil9Yy5zaG93KCl9LHNldFBhZ2VQb3NpdGlvbjpmdW5jdGlvbihhLGcsYil7dmFyIGM9dGhpcyxkLGU7aWYoRXh0LmlzQXJyYXkoYSkpe2c9YVsxXTthPWFbMF19Yy5wYWdlWD1hO2MucGFnZVk9ZztpZihjLmZsb2F0aW5nKXtpZihjLmlzQ29udGFpbmVkRmxvYXRlcigpKXtlPWMuZmxvYXRQYXJlbnQuZ2V0VGFyZ2V0RWwoKS5nZXRWaWV3UmVnaW9uKCk7aWYoRXh0LmlzTnVtYmVyKGEpJiZFeHQuaXNOdW1iZXIoZS5sZWZ0KSl7YS09ZS5sZWZ0fWlmKEV4dC5pc051bWJlcihnKSYmRXh0LmlzTnVtYmVyKGUudG9wKSl7Zy09ZS50b3B9fWVsc2V7ZD1jLmVsLnRyYW5zbGF0ZVBvaW50cyhhLGcpO2E9ZC5sZWZ0O2c9ZC50b3B9Yy5zZXRQb3NpdGlvbihhLGcsYil9ZWxzZXtkPWMuZWwudHJhbnNsYXRlUG9pbnRzKGEsZyk7Yy5zZXRQb3NpdGlvbihkLmxlZnQsZC50b3AsYil9cmV0dXJuIGN9LGlzQ29udGFpbmVkRmxvYXRlcjpmdW5jdGlvbigpe3JldHVybih0aGlzLmZsb2F0aW5nJiZ0aGlzLmZsb2F0UGFyZW50KX0sZ2V0Qm94OmZ1bmN0aW9uKGIpe3ZhciBjPWI/dGhpcy5nZXRQb3NpdGlvbihiKTp0aGlzLmVsLmdldFhZKCksYT10aGlzLmdldFNpemUoKTthLng9Y1swXTthLnk9Y1sxXTtyZXR1cm4gYX0sdXBkYXRlQm94OmZ1bmN0aW9uKGEpe3RoaXMuc2V0U2l6ZShhLndpZHRoLGEuaGVpZ2h0KTt0aGlzLnNldFBhZ2VQb3NpdGlvbihhLngsYS55KTtyZXR1cm4gdGhpc30sZ2V0T3V0ZXJTaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5lbDtyZXR1cm57d2lkdGg6YS5nZXRXaWR0aCgpK2EuZ2V0TWFyZ2luKCJsciIpLGhlaWdodDphLmdldEhlaWdodCgpK2EuZ2V0TWFyZ2luKCJ0YiIpfX0sYWRqdXN0UG9zaXRpb246ZnVuY3Rpb24oYSxkKXt2YXIgYj10aGlzLGM7aWYoYi5pc0NvbnRhaW5lZEZsb2F0ZXIoKSl7Yz1iLmZsb2F0UGFyZW50LmdldFRhcmdldEVsKCkuZ2V0Vmlld1JlZ2lvbigpO2ErPWMubGVmdDtkKz1jLnRvcH1yZXR1cm57eDphLHk6ZH19LGdldFBvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsYj1jLmVsLGUsZD1jLmlzQ29udGFpbmVkRmxvYXRlcigpLGc7aWYoKGE9PT10cnVlKXx8IWQpe3JldHVybltiLmdldExlZnQodHJ1ZSksYi5nZXRUb3AodHJ1ZSldfWlmKGMueCE9PXVuZGVmaW5lZCYmYy55IT09dW5kZWZpbmVkKXtlPVtjLngsYy55XX1lbHNle2U9Yy5lbC5nZXRYWSgpO2lmKGQpe2c9Yy5mbG9hdFBhcmVudC5nZXRUYXJnZXRFbCgpLmdldFZpZXdSZWdpb24oKTtlWzBdLT1nLmxlZnQ7ZVsxXS09Zy50b3B9fXJldHVybiBlfSxnZXRJZDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYjtpZighYS5pZCl7Yj1hLmdldFhUeXBlKCk7aWYoYil7Yj1iLnJlcGxhY2UoRXh0LkNvbXBvbmVudC5JTlZBTElEX0lEX0NIQVJTX1JlLCItIil9ZWxzZXtiPUV4dC5uYW1lLnRvTG93ZXJDYXNlKCkrIi1jb21wIn1hLmlkPWIrIi0iK2EuZ2V0QXV0b0lkKCl9cmV0dXJuIGEuaWR9LHNob3c6ZnVuY3Rpb24oZCxhLGIpe3ZhciBjPXRoaXMsZT1jLnJlbmRlcmVkO2lmKGUmJmMuaXNWaXNpYmxlKCkpe2lmKGMudG9Gcm9udE9uU2hvdyYmYy5mbG9hdGluZyl7Yy50b0Zyb250KCl9fWVsc2V7aWYoYy5maXJlRXZlbnQoImJlZm9yZXNob3ciLGMpIT09ZmFsc2Upe2MuaGlkZGVuPWZhbHNlO2lmKCFlJiYoYy5hdXRvUmVuZGVyfHxjLmZsb2F0aW5nKSl7Yy5kb0F1dG9SZW5kZXIoKTtlPWMucmVuZGVyZWR9aWYoZSl7Yy5iZWZvcmVTaG93KCk7Yy5vblNob3cuYXBwbHkoYyxhcmd1bWVudHMpO2MuYWZ0ZXJTaG93LmFwcGx5KGMsYXJndW1lbnRzKX19fXJldHVybiBjfSxiZWZvcmVTaG93OkV4dC5lbXB0eUZuLG9uU2hvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5lbC5zaG93KCk7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYS5mbG9hdGluZyYmYS5jb25zdHJhaW4pe2EuZG9Db25zdHJhaW4oKX19LGFmdGVyU2hvdzpmdW5jdGlvbihoLGIsZSl7dmFyIGc9dGhpcyxhLGMsZDtoPWh8fGcuYW5pbWF0ZVRhcmdldDtpZighZy5naG9zdCl7aD1udWxsfWlmKGgpe2g9aC5lbD9oLmVsOkV4dC5nZXQoaCk7Yz1nLmVsLmdldEJveCgpO2E9aC5nZXRCb3goKTtnLmVsLmFkZENscyhFeHQuYmFzZUNTU1ByZWZpeCsiaGlkZS1vZmZzZXRzIik7ZD1nLmdob3N0KCk7ZC5lbC5zdG9wQW5pbWF0aW9uKCk7ZC5lbC5zZXRYKC0xMDAwMCk7ZC5lbC5hbmltYXRlKHtmcm9tOmEsdG86YyxsaXN0ZW5lcnM6e2FmdGVyYW5pbWF0ZTpmdW5jdGlvbigpe2RlbGV0ZSBkLmNvbXBvbmVudExheW91dC5sYXN0Q29tcG9uZW50U2l6ZTtnLnVuZ2hvc3QoKTtnLmVsLnJlbW92ZUNscyhFeHQuYmFzZUNTU1ByZWZpeCsiaGlkZS1vZmZzZXRzIik7Zy5vblNob3dDb21wbGV0ZShiLGUpfX19KX1lbHNle2cub25TaG93Q29tcGxldGUoYixlKX19LG9uU2hvd0NvbXBsZXRlOmZ1bmN0aW9uKGEsYil7dmFyIGM9dGhpcztpZihjLmZsb2F0aW5nKXtjLnRvRnJvbnQoKTtjLm9uRmxvYXRTaG93KCl9RXh0LmNhbGxiYWNrKGEsYnx8Yyk7Yy5maXJlRXZlbnQoInNob3ciLGMpO2RlbGV0ZSBjLmhpZGRlbkJ5TGF5b3V0fSxoaWRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnNob3dPblBhcmVudFNob3c9ZmFsc2U7aWYoIShhLnJlbmRlcmVkJiYhYS5pc1Zpc2libGUoKSkmJmEuZmlyZUV2ZW50KCJiZWZvcmVoaWRlIixhKSE9PWZhbHNlKXthLmhpZGRlbj10cnVlO2lmKGEucmVuZGVyZWQpe2Eub25IaWRlLmFwcGx5KGEsYXJndW1lbnRzKX19cmV0dXJuIGF9LG9uSGlkZTpmdW5jdGlvbihnLGEsZCl7dmFyIGU9dGhpcyxjLGI7Zz1nfHxlLmFuaW1hdGVUYXJnZXQ7aWYoIWUuZ2hvc3Qpe2c9bnVsbH1pZihnKXtnPWcuZWw/Zy5lbDpFeHQuZ2V0KGcpO2M9ZS5naG9zdCgpO2MuZWwuc3RvcEFuaW1hdGlvbigpO2I9Zy5nZXRCb3goKTtiLndpZHRoKz0icHgiO2IuaGVpZ2h0Kz0icHgiO2MuZWwuYW5pbWF0ZSh7dG86YixsaXN0ZW5lcnM6e2FmdGVyYW5pbWF0ZTpmdW5jdGlvbigpe2RlbGV0ZSBjLmNvbXBvbmVudExheW91dC5sYXN0Q29tcG9uZW50U2l6ZTtjLmVsLmhpZGUoKTtlLmFmdGVySGlkZShhLGQpfX19KX1lLmVsLmhpZGUoKTtpZighZyl7ZS5hZnRlckhpZGUoYSxkKX19LGFmdGVySGlkZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7ZGVsZXRlIGMuaGlkZGVuQnlMYXlvdXQ7RXh0LkFic3RyYWN0Q29tcG9uZW50LnByb3RvdHlwZS5vbkhpZGUuY2FsbCh0aGlzKTtFeHQuY2FsbGJhY2soYSxifHxjKTtjLmZpcmVFdmVudCgiaGlkZSIsYyl9LG9uRGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5yZW5kZXJlZCl7RXh0LmRlc3Ryb3koYS5wcm94eSxhLnByb3h5V3JhcCxhLnJlc2l6ZXIsYS5yZXNpemVyQ29tcG9uZW50KTtpZihhLmFjdGlvbk1vZGU9PSJjb250YWluZXIifHxhLnJlbW92ZU1vZGU9PSJjb250YWluZXIiKXthLmNvbnRhaW5lci5yZW1vdmUoKX19ZGVsZXRlIGEuZm9jdXNUYXNrO2EuY2FsbFBhcmVudCgpfSxkZWxldGVNZW1iZXJzOmZ1bmN0aW9uKCl7dmFyIGI9YXJndW1lbnRzLGE9Yi5sZW5ndGgsYz0wO2Zvcig7YzxhOysrYyl7ZGVsZXRlIHRoaXNbYltjXV19fSxmb2N1czpmdW5jdGlvbihkLGIpe3ZhciBjPXRoaXMsYSxlO2lmKGMucmVuZGVyZWQmJiFjLmlzRGVzdHJveWVkJiZjLmlzVmlzaWJsZSh0cnVlKSYmKGE9Yy5nZXRGb2N1c0VsKCkpKXtpZihhLmlzQ29tcG9uZW50KXtyZXR1cm4gYS5mb2N1cyhkLGIpfWlmKGIpe2lmKCFjLmZvY3VzVGFzayl7Yy5mb2N1c1Rhc2s9bmV3IEV4dC51dGlsLkRlbGF5ZWRUYXNrKGMuZm9jdXMpfWMuZm9jdXNUYXNrLmRlbGF5KEV4dC5pc051bWJlcihiKT9iOjEwLG51bGwsYyxbZCxmYWxzZV0pO3JldHVybiBjfWlmKChlPWEuZG9tKSl7aWYoYS5uZWVkc1RhYkluZGV4KCkpe2UudGFiSW5kZXg9LTF9YS5mb2N1cygpO2lmKGQ9PT10cnVlKXtlLnNlbGVjdCgpfX1pZihjLmZsb2F0aW5nKXtjLnRvRnJvbnQodHJ1ZSl9fXJldHVybiBjfSxjYW5jZWxGb2N1czpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZm9jdXNUYXNrO2lmKGEpe2EuY2FuY2VsKCl9fSxibHVyOmZ1bmN0aW9uKCl7dmFyIGE7aWYodGhpcy5yZW5kZXJlZCYmKGE9dGhpcy5nZXRGb2N1c0VsKCkpKXthLmJsdXIoKX1yZXR1cm4gdGhpc30sZ2V0RWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbH0sZ2V0UmVzaXplRWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbH0sZ2V0UG9zaXRpb25FbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsfSxnZXRBY3Rpb25FbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsfSxnZXRWaXNpYmlsaXR5RWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbH0sb25SZXNpemU6RXh0LmVtcHR5Rm4sZ2V0QnViYmxlVGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3duZXJDdHx8dGhpcy5mbG9hdFBhcmVudH0sZ2V0Q29udGVudFRhcmdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsfSxjbG9uZUNvbmZpZzpmdW5jdGlvbihjKXtjPWN8fHt9O3ZhciBkPWMuaWR8fEV4dC5pZCgpLGE9RXh0LmFwcGx5SWYoYyx0aGlzLmluaXRpYWxDb25maWcpLGI7YS5pZD1kO2I9RXh0LmdldENsYXNzKHRoaXMpO3JldHVybiBuZXcgYihhKX0sZ2V0WFR5cGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxmLnh0eXBlfSxmaW5kUGFyZW50Qnk6ZnVuY3Rpb24oYSl7dmFyIGI7Zm9yKGI9dGhpcy5nZXRCdWJibGVUYXJnZXQoKTtiJiYhYShiLHRoaXMpO2I9Yi5nZXRCdWJibGVUYXJnZXQoKSl7fXJldHVybiBifHxudWxsfSxmaW5kUGFyZW50QnlUeXBlOmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuaXNGdW5jdGlvbihhKT90aGlzLmZpbmRQYXJlbnRCeShmdW5jdGlvbihiKXtyZXR1cm4gYi5jb25zdHJ1Y3Rvcj09PWF9KTp0aGlzLnVwKGEpfSxidWJibGU6ZnVuY3Rpb24oYyxiLGEpe3ZhciBkPXRoaXM7d2hpbGUoZCl7aWYoYy5hcHBseShifHxkLGF8fFtkXSk9PT1mYWxzZSl7YnJlYWt9ZD1kLmdldEJ1YmJsZVRhcmdldCgpfXJldHVybiB0aGlzfSxnZXRQcm94eTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYjtpZighYS5wcm94eSl7Yj1FeHQuZ2V0Qm9keSgpO2lmKEV4dC5zY29wZVJlc2V0Q1NTKXthLnByb3h5V3JhcD1iPUV4dC5nZXRCb2R5KCkuY3JlYXRlQ2hpbGQoe2NsczpFeHQucmVzZXRDbHN9KX1hLnByb3h5PWEuZWwuY3JlYXRlUHJveHkoRXh0LmJhc2VDU1NQcmVmaXgrInByb3h5LWVsIixiLHRydWUpfXJldHVybiBhLnByb3h5fX0pO0V4dC5kZWZpbmUoIkV4dC5hcHAuRXZlbnRCdXMiLHtyZXF1aXJlczpbIkV4dC51dGlsLkV2ZW50IiwiRXh0LkNvbXBvbmVudCJdLG1peGluczp7b2JzZXJ2YWJsZToiRXh0LnV0aWwuT2JzZXJ2YWJsZSJ9LGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7dGhpcy5taXhpbnMub2JzZXJ2YWJsZS5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpO3RoaXMuYnVzPXt9O3ZhciBhPXRoaXM7RXh0Lm92ZXJyaWRlKEV4dC5Db21wb25lbnQse2ZpcmVFdmVudDpmdW5jdGlvbihiKXtpZihFeHQudXRpbC5PYnNlcnZhYmxlLnByb3RvdHlwZS5maXJlRXZlbnQuYXBwbHkodGhpcyxhcmd1bWVudHMpIT09ZmFsc2Upe3JldHVybiBhLmRpc3BhdGNoLmNhbGwoYSxiLHRoaXMsYXJndW1lbnRzKX1yZXR1cm4gZmFsc2V9fSl9LGRpc3BhdGNoOmZ1bmN0aW9uKGwsZyxrKXt2YXIgaD10aGlzLmJ1cyxtPWhbbF0sZCxjLGIsbixhLGUsajtpZihtKXtmb3IoZCBpbiBtKXtpZihtLmhhc093blByb3BlcnR5KGQpJiZnLmlzKGQpKXtjPW1bZF07Zm9yKGIgaW4gYyl7aWYoYy5oYXNPd25Qcm9wZXJ0eShiKSl7bj1jW2JdO2ZvcihlPTAsaj1uLmxlbmd0aDtlPGo7ZSsrKXthPW5bZV07aWYoYS5maXJlLmFwcGx5KGEsQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoaywxKSk9PT1mYWxzZSl7cmV0dXJuIGZhbHNlfX19fX19fXJldHVybiB0cnVlfSxjb250cm9sOmZ1bmN0aW9uKGwsaixlKXt2YXIgaD10aGlzLmJ1cyxpLG8sZyxkLG4sYyxtLGEsYixrO2lmKEV4dC5pc1N0cmluZyhsKSl7ZD1sO2w9e307bFtkXT1qO3RoaXMuY29udHJvbChsLG51bGwsZSk7cmV0dXJufWk9RXh0LnV0aWwuT2JzZXJ2YWJsZS5IYXNMaXN0ZW5lcnMucHJvdG90eXBlO2ZvcihkIGluIGwpe2lmKGwuaGFzT3duUHJvcGVydHkoZCkpe2I9bFtkXXx8e307Zm9yKGsgaW4gYil7aWYoYi5oYXNPd25Qcm9wZXJ0eShrKSl7bj17fTtjPWJba107bT1lO2E9bmV3IEV4dC51dGlsLkV2ZW50KGUsayk7aWYoRXh0LmlzT2JqZWN0KGMpKXtuPWM7Yz1uLmZuO209bi5zY29wZXx8ZTtkZWxldGUgbi5mbjtkZWxldGUgbi5zY29wZX1hLmFkZExpc3RlbmVyKGMsbSxuKTtpW2tdPTE7bz1oW2tdfHwoaFtrXT17fSk7bz1vW2RdfHwob1tkXT17fSk7Zz1vW2UuaWRdfHwob1tlLmlkXT1bXSk7Zy5wdXNoKGEpfX19fX19KTtFeHQuZGVmaW5lKCJFeHQuY2hhcnQuTWFza0xheWVyIix7ZXh0ZW5kOiJFeHQuQ29tcG9uZW50Iixjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXthPUV4dC5hcHBseShhfHx7fSx7c3R5bGU6InBvc2l0aW9uOmFic29sdXRlO2JhY2tncm91bmQtY29sb3I6Izg4ODtjdXJzb3I6bW92ZTtvcGFjaXR5OjAuNjtib3JkZXI6MXB4IHNvbGlkICMyMjI7In0pO3RoaXMuY2FsbFBhcmVudChbYV0pfSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTthLmFkZEV2ZW50cygibW91c2Vkb3duIiwibW91c2V1cCIsIm1vdXNlbW92ZSIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIil9LGluaXREcmFnZ2FibGU6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLmRkLm9uU3RhcnQ9ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWIuY29tcDt0aGlzLnN0YXJ0UG9zaXRpb249YS5nZXRQb3NpdGlvbih0cnVlKTtpZihhLmdob3N0JiYhYS5saXZlRHJhZyl7Yi5wcm94eT1hLmdob3N0KCk7Yi5kcmFnVGFyZ2V0PWIucHJveHkuaGVhZGVyLmVsfWlmKGIuY29uc3RyYWlufHxiLmNvbnN0cmFpbkRlbGVnYXRlKXtiLmNvbnN0cmFpblRvPWIuY2FsY3VsYXRlQ29uc3RyYWluUmVnaW9uKCl9fX19KTtFeHQuZGVmaW5lKCJFeHQuY2hhcnQuTWFzayIse3JlcXVpcmVzOlsiRXh0LmNoYXJ0Lk1hc2tMYXllciJdLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsYjtjLmFkZEV2ZW50cygic2VsZWN0Iik7aWYoYSl7RXh0LmFwcGx5KGMsYSl9aWYoYy5lbmFibGVNYXNrKXtjLm9uKCJhZnRlcnJlbmRlciIsZnVuY3Rpb24oKXt2YXIgZD1uZXcgRXh0LmNoYXJ0Lk1hc2tMYXllcih7cmVuZGVyVG86Yy5lbCxoaWRkZW46dHJ1ZX0pO2QuZWwub24oe21vdXNlbW92ZTpmdW5jdGlvbihnKXtjLm9uTW91c2VNb3ZlKGcpfSxtb3VzZXVwOmZ1bmN0aW9uKGcpe2MucmVzaXplZChnKX19KTtiPW5ldyBFeHQucmVzaXplci5SZXNpemVyKHtlbDpkLmVsLGhhbmRsZXM6ImFsbCIscGlubmVkOnRydWV9KTtiLm9uKHtyZXNpemU6ZnVuY3Rpb24oZyl7Yy5yZXNpemVkKGcpfX0pO2QuaW5pdERyYWdnYWJsZSgpO2MubWFza1R5cGU9Yy5tYXNrO2MubWFzaz1kO2MubWFza1Nwcml0ZT1jLnN1cmZhY2UuYWRkKHt0eXBlOiJwYXRoIixwYXRoOlsiTSIsMCwwXSx6SW5kZXg6MTAwMSxvcGFjaXR5OjAuNyxoaWRkZW46dHJ1ZSxzdHJva2U6IiM0NDQifSl9LGMse3NpbmdsZTp0cnVlfSl9fSxyZXNpemVkOmZ1bmN0aW9uKGQpe3ZhciBnPXRoaXMsbD1nLmJib3h8fGcuY2hhcnRCQm94LGo9bC54LGk9bC55LGE9bC53aWR0aCxtPWwuaGVpZ2h0LGM9Zy5tYXNrLmdldEJveCh0cnVlKSxoPU1hdGgubWF4LGI9TWF0aC5taW4sbj1jLngtaixrPWMueS1pO249aChuLGopO2s9aChrLGkpO249YihuLGEpO2s9YihrLG0pO2MueD1uO2MueT1rO2cuZmlyZUV2ZW50KCJzZWxlY3QiLGcsYyl9LG9uTW91c2VVcDpmdW5jdGlvbihjKXt2YXIgYT10aGlzLGQ9YS5iYm94fHxhLmNoYXJ0QkJveCxiPWEubWFza1NlbGVjdGlvbjthLm1hc2tNb3VzZURvd249ZmFsc2U7YS5tb3VzZURvd249ZmFsc2U7aWYoYS5tb3VzZU1vdmVkKXthLm9uTW91c2VNb3ZlKGMpO2EubW91c2VNb3ZlZD1mYWxzZTthLmZpcmVFdmVudCgic2VsZWN0IixhLHt4OmIueC1kLngseTpiLnktZC55LHdpZHRoOmIud2lkdGgsaGVpZ2h0OmIuaGVpZ2h0fSl9fSxvbk1vdXNlRG93bjpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2EubW91c2VEb3duPXRydWU7YS5tb3VzZU1vdmVkPWZhbHNlO2EubWFza01vdXNlRG93bj17eDpiLmdldFBhZ2VYKCktYS5lbC5nZXRYKCkseTpiLmdldFBhZ2VZKCktYS5lbC5nZXRZKCl9fSxvbk1vdXNlTW92ZTpmdW5jdGlvbih0KXt2YXIgdT10aGlzLG89dS5tYXNrVHlwZSxhPXUuYmJveHx8dS5jaGFydEJCb3gsaT1hLngsaD1hLnksYj1NYXRoLHE9Yi5mbG9vcixqPWIuYWJzLG49Yi5taW4scD1iLm1heCxrPXEoaCthLmhlaWdodCksbT1xKGkrYS53aWR0aCksZD10LmdldFBhZ2VYKCksYz10LmdldFBhZ2VZKCkscz1kLXUuZWwuZ2V0WCgpLHI9Yy11LmVsLmdldFkoKSxnPXUubWFza01vdXNlRG93bixsO3UubW91c2VNb3ZlZD11Lm1vdXNlRG93bjtzPXAocyxpKTtyPXAocixoKTtzPW4ocyxtKTtyPW4ocixrKTtpZihnJiZ1Lm1vdXNlRG93bil7aWYobz09Imhvcml6b250YWwiKXtyPWg7Zy55PWs7Yz11LmVsLmdldFkoKSthLmhlaWdodCt1Lmluc2V0UGFkZGluZ31lbHNle2lmKG89PSJ2ZXJ0aWNhbCIpe3M9aTtnLng9bX19bT1nLngtcztrPWcueS1yO2w9WyJNIixzLHIsImwiLG0sMCwwLGssLW0sMCwieiJdO3UubWFza1NlbGVjdGlvbj17eDptPjA/czpzK20seTprPjA/cjpyK2ssd2lkdGg6aihtKSxoZWlnaHQ6aihrKX07dS5tYXNrLnVwZGF0ZUJveCh1Lm1hc2tTZWxlY3Rpb24pO3UubWFzay5zaG93KCk7dS5tYXNrU3ByaXRlLnNldEF0dHJpYnV0ZXMoe2hpZGRlbjp0cnVlfSx0cnVlKX1lbHNle2lmKG89PSJob3Jpem9udGFsIil7bD1bIk0iLHMsaCwiTCIscyxrXX1lbHNle2lmKG89PSJ2ZXJ0aWNhbCIpe2w9WyJNIixpLHIsIkwiLG0scl19ZWxzZXtsPVsiTSIscyxoLCJMIixzLGssIk0iLGksciwiTCIsbSxyXX19dS5tYXNrU3ByaXRlLnNldEF0dHJpYnV0ZXMoe3BhdGg6bCxmaWxsOnUubWFza01vdXNlRG93bj91Lm1hc2tTcHJpdGUuc3Ryb2tlOmZhbHNlLCJzdHJva2Utd2lkdGgiOm89PT10cnVlPzE6MyxoaWRkZW46ZmFsc2V9LHRydWUpfX0sb25Nb3VzZUxlYXZlOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7YS5tb3VzZU1vdmVkPWZhbHNlO2EubW91c2VEb3duPWZhbHNlO2EubWFza01vdXNlRG93bj1mYWxzZTthLm1hc2suaGlkZSgpO2EubWFza1Nwcml0ZS5oaWRlKHRydWUpfX0pO0V4dC5kZWZpbmUoIkV4dC5kcmF3LkNvbXBvbmVudCIse2FsaWFzOiJ3aWRnZXQuZHJhdyIsZXh0ZW5kOiJFeHQuQ29tcG9uZW50IixyZXF1aXJlczpbIkV4dC5kcmF3LlN1cmZhY2UiLCJFeHQubGF5b3V0LmNvbXBvbmVudC5EcmF3Il0sZW5naW5lUHJpb3JpdHk6WyJTdmciLCJWbWwiXSxiYXNlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJzdXJmYWNlIixjb21wb25lbnRMYXlvdXQ6ImRyYXciLHZpZXdCb3g6dHJ1ZSxzaHJpbmtXcmFwOjMsYXV0b1NpemU6ZmFsc2UsaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3RoaXMuYWRkRXZlbnRzKCJtb3VzZWRvd24iLCJtb3VzZXVwIiwibW91c2Vtb3ZlIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiLCJjbGljayIsImRibGNsaWNrIil9LG9uUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxqPWQudmlld0JveCxiPWQuYXV0b1NpemUsaCxjLGEsaSxnLGU7ZC5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoZC5jcmVhdGVTdXJmYWNlKCkhPT1mYWxzZSl7Yz1kLnN1cmZhY2UuaXRlbXM7aWYoanx8Yil7aD1jLmdldEJCb3goKTthPWgud2lkdGg7aT1oLmhlaWdodDtnPWgueDtlPWgueTtpZihkLnZpZXdCb3gpe2Quc3VyZmFjZS5zZXRWaWV3Qm94KGcsZSxhLGkpfWVsc2V7ZC5hdXRvU2l6ZVN1cmZhY2UoKX19fX0sYXV0b1NpemVTdXJmYWNlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zdXJmYWNlLml0ZW1zLmdldEJCb3goKTt0aGlzLnNldFN1cmZhY2VTaXplKGEud2lkdGgsYS5oZWlnaHQpfSxzZXRTdXJmYWNlU2l6ZTpmdW5jdGlvbihiLGEpe3RoaXMuc3VyZmFjZS5zZXRTaXplKGIsYSk7aWYodGhpcy5hdXRvU2l6ZSl7dmFyIGM9dGhpcy5zdXJmYWNlLml0ZW1zLmdldEJCb3goKTt0aGlzLnN1cmZhY2Uuc2V0Vmlld0JveChjLngsYy55LSgrRXh0LmlzT3BlcmEpLGIsYSl9fSxjcmVhdGVTdXJmYWNlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxiPUV4dC5hcHBseUlmKHtyZW5kZXJUbzpkLmVsLGhlaWdodDpkLmhlaWdodCx3aWR0aDpkLndpZHRoLGl0ZW1zOmQuaXRlbXN9LGQuaW5pdGlhbENvbmZpZyksYTtkZWxldGUgYi5saXN0ZW5lcnM7YT1FeHQuZHJhdy5TdXJmYWNlLmNyZWF0ZShiKTtpZighYSl7cmV0dXJuIGZhbHNlfWQuc3VyZmFjZT1hO2Z1bmN0aW9uIGMoZSl7cmV0dXJuIGZ1bmN0aW9uKGcpe2QuZmlyZUV2ZW50KGUsZyl9fWEub24oe3Njb3BlOmQsbW91c2V1cDpjKCJtb3VzZXVwIiksbW91c2Vkb3duOmMoIm1vdXNlZG93biIpLG1vdXNlbW92ZTpjKCJtb3VzZW1vdmUiKSxtb3VzZWVudGVyOmMoIm1vdXNlZW50ZXIiKSxtb3VzZWxlYXZlOmMoIm1vdXNlbGVhdmUiKSxjbGljazpjKCJjbGljayIpLGRibGNsaWNrOmMoImRibGNsaWNrIil9KX0sb25EZXN0cm95OmZ1bmN0aW9uKCl7RXh0LmRlc3Ryb3kodGhpcy5zdXJmYWNlKTt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX19KTtFeHQuZGVmaW5lKCJFeHQuY2hhcnQuQ2hhcnQiLHthbGlhczoid2lkZ2V0LmNoYXJ0IixleHRlbmQ6IkV4dC5kcmF3LkNvbXBvbmVudCIsbWl4aW5zOnt0aGVtZU1hbmFnZXI6IkV4dC5jaGFydC50aGVtZS5UaGVtZSIsbWFzazoiRXh0LmNoYXJ0Lk1hc2siLG5hdmlnYXRpb246IkV4dC5jaGFydC5OYXZpZ2F0aW9uIixiaW5kYWJsZToiRXh0LnV0aWwuQmluZGFibGUifSx1c2VzOlsiRXh0LmNoYXJ0LnNlcmllcy5TZXJpZXMiXSxyZXF1aXJlczpbIkV4dC51dGlsLk1peGVkQ29sbGVjdGlvbiIsIkV4dC5kYXRhLlN0b3JlTWFuYWdlciIsIkV4dC5jaGFydC5MZWdlbmQiLCJFeHQuY2hhcnQudGhlbWUuQmFzZSIsIkV4dC5jaGFydC50aGVtZS5UaGVtZSIsIkV4dC51dGlsLkRlbGF5ZWRUYXNrIl0sdmlld0JveDpmYWxzZSxhbmltYXRlOmZhbHNlLGxlZ2VuZDpmYWxzZSxpbnNldFBhZGRpbmc6MTAsZW5naW5lUHJpb3JpdHk6WyJTdmciLCJWbWwiXSxiYWNrZ3JvdW5kOmZhbHNlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsYTtiPUV4dC5hcHBseSh7fSxiKTtjLmluaXRUaGVtZShiLnRoZW1lfHxjLnRoZW1lKTtpZihjLmdyYWRpZW50cyl7RXh0LmFwcGx5KGIse2dyYWRpZW50czpjLmdyYWRpZW50c30pfWlmKGMuYmFja2dyb3VuZCl7RXh0LmFwcGx5KGIse2JhY2tncm91bmQ6Yy5iYWNrZ3JvdW5kfSl9aWYoYi5hbmltYXRlKXthPXtlYXNpbmc6ImVhc2UiLGR1cmF0aW9uOjUwMH07aWYoRXh0LmlzT2JqZWN0KGIuYW5pbWF0ZSkpe2IuYW5pbWF0ZT1FeHQuYXBwbHlJZihiLmFuaW1hdGUsYSl9ZWxzZXtiLmFuaW1hdGU9YX19aWYoYi5lbmFibGVNYXNrKXtjLm1peGlucy5tYXNrLmNvbnN0cnVjdG9yLmNhbGwoYyxiKX1jLm1peGlucy5uYXZpZ2F0aW9uLmNvbnN0cnVjdG9yLmNhbGwoYyxiKTtjLmNhbGxQYXJlbnQoW2JdKX0sZ2V0Q2hhcnRTdG9yZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN1YnN0b3JlfHx0aGlzLnN0b3JlfSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjLGE7Yi5jYWxsUGFyZW50KCk7Yi5hZGRFdmVudHMoIml0ZW1tb3VzZWRvd24iLCJpdGVtbW91c2V1cCIsIml0ZW1tb3VzZW92ZXIiLCJpdGVtbW91c2VvdXQiLCJpdGVtY2xpY2siLCJpdGVtZGJsY2xpY2siLCJpdGVtZHJhZ3N0YXJ0IiwiaXRlbWRyYWciLCJpdGVtZHJhZ2VuZCIsImJlZm9yZXJlZnJlc2giLCJyZWZyZXNoIik7RXh0LmFwcGx5SWYoYix7em9vbTp7d2lkdGg6MSxoZWlnaHQ6MSx4OjAseTowfX0pO2IubWF4R3V0dGVyPVswLDBdO2Iuc3RvcmU9RXh0LmRhdGEuU3RvcmVNYW5hZ2VyLmxvb2t1cChiLnN0b3JlKTtjPWIuYXhlcztiLmF4ZXM9bmV3IEV4dC51dGlsLk1peGVkQ29sbGVjdGlvbihmYWxzZSxmdW5jdGlvbihkKXtyZXR1cm4gZC5wb3NpdGlvbn0pO2lmKGMpe2IuYXhlcy5hZGRBbGwoYyl9YT1iLnNlcmllcztiLnNlcmllcz1uZXcgRXh0LnV0aWwuTWl4ZWRDb2xsZWN0aW9uKGZhbHNlLGZ1bmN0aW9uKGQpe3JldHVybiBkLnNlcmllc0lkfHwoZC5zZXJpZXNJZD1FeHQuaWQobnVsbCwiZXh0LWNoYXJ0LXNlcmllcy0iKSl9KTtpZihhKXtiLnNlcmllcy5hZGRBbGwoYSl9aWYoYi5sZWdlbmQhPT1mYWxzZSl7Yi5sZWdlbmQ9bmV3IEV4dC5jaGFydC5MZWdlbmQoRXh0LmFwcGx5SWYoe2NoYXJ0OmJ9LGIubGVnZW5kKSl9Yi5vbih7bW91c2Vtb3ZlOmIub25Nb3VzZU1vdmUsbW91c2VsZWF2ZTpiLm9uTW91c2VMZWF2ZSxtb3VzZWRvd246Yi5vbk1vdXNlRG93bixtb3VzZXVwOmIub25Nb3VzZVVwLGNsaWNrOmIub25DbGljayxkYmxjbGljazpiLm9uRGJsQ2xpY2ssc2NvcGU6Yn0pfSxhZnRlckNvbXBvbmVudExheW91dDpmdW5jdGlvbihiLGEpe3ZhciBjPXRoaXM7aWYoRXh0LmlzTnVtYmVyKGIpJiZFeHQuaXNOdW1iZXIoYSkpe2MuY3VyV2lkdGg9YjtjLmN1ckhlaWdodD1hO2MucmVkcmF3KHRydWUpfXRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxyZWRyYXc6ZnVuY3Rpb24oYil7dmFyIGg9dGhpcyxnPWguc2VyaWVzLml0ZW1zLGQ9Zy5sZW5ndGgsYT1oLmF4ZXMuaXRlbXMsYz1hLmxlbmd0aCxlLGs9aC5jaGFydEJCb3g9e3g6MCx5OjAsaGVpZ2h0OmguY3VySGVpZ2h0LHdpZHRoOmguY3VyV2lkdGh9LGo9aC5sZWdlbmQ7aC5zdXJmYWNlLnNldFNpemUoay53aWR0aCxrLmhlaWdodCk7Zm9yKGU9MDtlPGQ7ZSsrKXtoLmluaXRpYWxpemVTZXJpZXMoZ1tlXSxlKX1mb3IoZT0wO2U8YztlKyspe2guaW5pdGlhbGl6ZUF4aXMoYVtlXSl9Zm9yKGU9MDtlPGM7ZSsrKXthW2VdLnByb2Nlc3NWaWV3KCl9Zm9yKGU9MDtlPGM7ZSsrKXthW2VdLmRyYXdBeGlzKHRydWUpfWlmKGohPT1mYWxzZSYmai52aXNpYmxlKXtpZihqLnVwZGF0ZXx8IWouY3JlYXRlZCl7ai5jcmVhdGUoKX19aC5hbGlnbkF4ZXMoKTtpZihqIT09ZmFsc2UmJmoudmlzaWJsZSl7ai51cGRhdGVQb3NpdGlvbigpfWguZ2V0TWF4R3V0dGVyKCk7aC5yZXNpemluZz0hIWI7Zm9yKGU9MDtlPGM7ZSsrKXthW2VdLmRyYXdBeGlzKCl9Zm9yKGU9MDtlPGQ7ZSsrKXtoLmRyYXdDaGFydHMoZ1tlXSl9aC5yZXNpemluZz1mYWxzZX0sYWZ0ZXJSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYixhPXRoaXM7dGhpcy5jYWxsUGFyZW50KCk7aWYoYS5jYXRlZ29yeU5hbWVzKXthLnNldENhdGVnb3J5TmFtZXMoYS5jYXRlZ29yeU5hbWVzKX1pZihhLnRpcFJlbmRlcmVyKXtiPWEuZ2V0RnVuY3Rpb25SZWYoYS50aXBSZW5kZXJlcik7YS5zZXRUaXBSZW5kZXJlcihiLmZuLGIuc2NvcGUpfWEuYmluZFN0b3JlKGEuc3RvcmUsdHJ1ZSk7YS5yZWZyZXNoKCl9LGdldEV2ZW50WFk6ZnVuY3Rpb24oZCl7dmFyIGM9dGhpcyxiPXRoaXMuc3VyZmFjZS5nZXRSZWdpb24oKSxoPWQuZ2V0WFkoKSxhPWhbMF0tYi5sZWZ0LGc9aFsxXS1iLnRvcDtyZXR1cm5bYSxnXX0sb25DbGljazpmdW5jdGlvbihhKXt0aGlzLmhhbmRsZUNsaWNrKCJpdGVtY2xpY2siLGEpfSxvbkRibENsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuaGFuZGxlQ2xpY2soIml0ZW1kYmxjbGljayIsYSl9LGhhbmRsZUNsaWNrOmZ1bmN0aW9uKGEsaCl7dmFyIGs9dGhpcyxnPWsuZ2V0RXZlbnRYWShoKSxkPWsuc2VyaWVzLml0ZW1zLGIsaixjLGw7Zm9yKGI9MCxqPWQubGVuZ3RoO2I8ajtiKyspe2M9ZFtiXTtpZihFeHQuZHJhdy5EcmF3LndpdGhpbkJveChnWzBdLGdbMV0sYy5iYm94KSl7aWYoYy5nZXRJdGVtRm9yUG9pbnQpe2w9Yy5nZXRJdGVtRm9yUG9pbnQoZ1swXSxnWzFdKTtpZihsKXtjLmZpcmVFdmVudChhLGwpfX19fX0sb25Nb3VzZURvd246ZnVuY3Rpb24oayl7dmFyIGo9dGhpcyxhPWouZ2V0RXZlbnRYWShrKSxiPWouc2VyaWVzLml0ZW1zLGQsaCxjLGc7aWYoai5lbmFibGVNYXNrKXtqLm1peGlucy5tYXNrLm9uTW91c2VEb3duLmNhbGwoaixrKX1mb3IoZD0wLGg9Yi5sZW5ndGg7ZDxoO2QrKyl7Yz1iW2RdO2lmKEV4dC5kcmF3LkRyYXcud2l0aGluQm94KGFbMF0sYVsxXSxjLmJib3gpKXtpZihjLmdldEl0ZW1Gb3JQb2ludCl7Zz1jLmdldEl0ZW1Gb3JQb2ludChhWzBdLGFbMV0pO2lmKGcpe2MuZmlyZUV2ZW50KCJpdGVtbW91c2Vkb3duIixnKX19fX19LG9uTW91c2VVcDpmdW5jdGlvbihrKXt2YXIgaj10aGlzLGE9ai5nZXRFdmVudFhZKGspLGI9ai5zZXJpZXMuaXRlbXMsZCxoLGMsZztpZihqLmVuYWJsZU1hc2spe2oubWl4aW5zLm1hc2sub25Nb3VzZVVwLmNhbGwoaixrKX1mb3IoZD0wLGg9Yi5sZW5ndGg7ZDxoO2QrKyl7Yz1iW2RdO2lmKEV4dC5kcmF3LkRyYXcud2l0aGluQm94KGFbMF0sYVsxXSxjLmJib3gpKXtpZihjLmdldEl0ZW1Gb3JQb2ludCl7Zz1jLmdldEl0ZW1Gb3JQb2ludChhWzBdLGFbMV0pO2lmKGcpe2MuZmlyZUV2ZW50KCJpdGVtbW91c2V1cCIsZyl9fX19fSxvbk1vdXNlTW92ZTpmdW5jdGlvbihoKXt2YXIgaz10aGlzLGQ9ay5nZXRFdmVudFhZKGgpLGM9ay5zZXJpZXMuaXRlbXMsYSxqLGIsbixsLGcsbTtpZihrLmVuYWJsZU1hc2spe2subWl4aW5zLm1hc2sub25Nb3VzZU1vdmUuY2FsbChrLGgpfWZvcihhPTAsaj1jLmxlbmd0aDthPGo7YSsrKXtiPWNbYV07aWYoRXh0LmRyYXcuRHJhdy53aXRoaW5Cb3goZFswXSxkWzFdLGIuYmJveCkpe2lmKGIuZ2V0SXRlbUZvclBvaW50KXtuPWIuZ2V0SXRlbUZvclBvaW50KGRbMF0sZFsxXSk7bD1iLl9sYXN0SXRlbUZvclBvaW50O2c9Yi5fbGFzdFN0b3JlSXRlbTttPWIuX2xhc3RTdG9yZUZpZWxkO2lmKG4hPT1sfHxuJiYobi5zdG9yZUl0ZW0hPWd8fG4uc3RvcmVGaWVsZCE9bSkpe2lmKGwpe2IuZmlyZUV2ZW50KCJpdGVtbW91c2VvdXQiLGwpO2RlbGV0ZSBiLl9sYXN0SXRlbUZvclBvaW50O2RlbGV0ZSBiLl9sYXN0U3RvcmVGaWVsZDtkZWxldGUgYi5fbGFzdFN0b3JlSXRlbX1pZihuKXtiLmZpcmVFdmVudCgiaXRlbW1vdXNlb3ZlciIsbik7Yi5fbGFzdEl0ZW1Gb3JQb2ludD1uO2IuX2xhc3RTdG9yZUl0ZW09bi5zdG9yZUl0ZW07Yi5fbGFzdFN0b3JlRmllbGQ9bi5zdG9yZUZpZWxkfX19fWVsc2V7bD1iLl9sYXN0SXRlbUZvclBvaW50O2lmKGwpe2IuZmlyZUV2ZW50KCJpdGVtbW91c2VvdXQiLGwpO2RlbGV0ZSBiLl9sYXN0SXRlbUZvclBvaW50O2RlbGV0ZSBiLl9sYXN0U3RvcmVGaWVsZDtkZWxldGUgYi5fbGFzdFN0b3JlSXRlbX19fX0sb25Nb3VzZUxlYXZlOmZ1bmN0aW9uKGgpe3ZhciBnPXRoaXMsYT1nLnNlcmllcy5pdGVtcyxjLGQsYjtpZihnLmVuYWJsZU1hc2spe2cubWl4aW5zLm1hc2sub25Nb3VzZUxlYXZlLmNhbGwoZyxoKX1mb3IoYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyl7Yj1hW2NdO2RlbGV0ZSBiLl9sYXN0SXRlbUZvclBvaW50fX0sZGVsYXlSZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZighYS5yZWZyZXNoVGFzayl7YS5yZWZyZXNoVGFzaz1uZXcgRXh0LnV0aWwuRGVsYXllZFRhc2soYS5yZWZyZXNoLGEpfWEucmVmcmVzaFRhc2suZGVsYXkoYS5yZWZyZXNoQnVmZmVyKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5yZW5kZXJlZCYmYS5jdXJXaWR0aCE9PXVuZGVmaW5lZCYmYS5jdXJIZWlnaHQhPT11bmRlZmluZWQpe2lmKGEuZmlyZUV2ZW50KCJiZWZvcmVyZWZyZXNoIixhKSE9PWZhbHNlKXthLnJlZHJhdygpO2EuZmlyZUV2ZW50KCJyZWZyZXNoIixhKX19fSxiaW5kU3RvcmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2MubWl4aW5zLmJpbmRhYmxlLmJpbmRTdG9yZS5hcHBseShjLGFyZ3VtZW50cyk7aWYoYy5zdG9yZSYmIWIpe2MucmVmcmVzaCgpfX0sZ2V0U3RvcmVMaXN0ZW5lcnM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLnJlZnJlc2gsYT10aGlzLmRlbGF5UmVmcmVzaDtyZXR1cm57cmVmcmVzaDpiLGFkZDphLHJlbW92ZTphLHVwZGF0ZTphLGNsZWFyOmJ9fSxpbml0aWFsaXplQXhpczpmdW5jdGlvbihiKXt2YXIgZT10aGlzLGs9ZS5jaGFydEJCb3gsaj1rLndpZHRoLGQ9ay5oZWlnaHQsaT1rLngsZz1rLnksYz1lLnRoZW1lQXR0cnMsYT17Y2hhcnQ6ZX07aWYoYyl7YS5heGlzU3R5bGU9RXh0LmFwcGx5KHt9LGMuYXhpcyk7YS5heGlzTGFiZWxMZWZ0U3R5bGU9RXh0LmFwcGx5KHt9LGMuYXhpc0xhYmVsTGVmdCk7YS5heGlzTGFiZWxSaWdodFN0eWxlPUV4dC5hcHBseSh7fSxjLmF4aXNMYWJlbFJpZ2h0KTthLmF4aXNMYWJlbFRvcFN0eWxlPUV4dC5hcHBseSh7fSxjLmF4aXNMYWJlbFRvcCk7YS5heGlzTGFiZWxCb3R0b21TdHlsZT1FeHQuYXBwbHkoe30sYy5heGlzTGFiZWxCb3R0b20pO2EuYXhpc1RpdGxlTGVmdFN0eWxlPUV4dC5hcHBseSh7fSxjLmF4aXNUaXRsZUxlZnQpO2EuYXhpc1RpdGxlUmlnaHRTdHlsZT1FeHQuYXBwbHkoe30sYy5heGlzVGl0bGVSaWdodCk7YS5heGlzVGl0bGVUb3BTdHlsZT1FeHQuYXBwbHkoe30sYy5heGlzVGl0bGVUb3ApO2EuYXhpc1RpdGxlQm90dG9tU3R5bGU9RXh0LmFwcGx5KHt9LGMuYXhpc1RpdGxlQm90dG9tKX1zd2l0Y2goYi5wb3NpdGlvbil7Y2FzZSJ0b3AiOkV4dC5hcHBseShhLHtsZW5ndGg6aix3aWR0aDpkLHg6aSx5Omd9KTticmVhaztjYXNlImJvdHRvbSI6RXh0LmFwcGx5KGEse2xlbmd0aDpqLHdpZHRoOmQseDppLHk6ZH0pO2JyZWFrO2Nhc2UibGVmdCI6RXh0LmFwcGx5KGEse2xlbmd0aDpkLHdpZHRoOmoseDppLHk6ZH0pO2JyZWFrO2Nhc2UicmlnaHQiOkV4dC5hcHBseShhLHtsZW5ndGg6ZCx3aWR0aDpqLHg6aix5OmR9KTticmVha31pZighYi5jaGFydCl7RXh0LmFwcGx5KGEsYik7Yj1lLmF4ZXMucmVwbGFjZShFeHQuY3JlYXRlQnlBbGlhcygiYXhpcy4iK2IudHlwZS50b0xvd2VyQ2FzZSgpLGEpKX1lbHNle0V4dC5hcHBseShiLGEpfX0sYWxpZ25BeGVzOmZ1bmN0aW9uKCl7dmFyIGw9dGhpcyxrPWwuYXhlcyxhPWsuaXRlbXMsZSxwPWwubGVnZW5kLGc9WyJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiXSxiLGgsaixyLG89bC5pbnNldFBhZGRpbmcsZD17dG9wOm8scmlnaHQ6byxib3R0b206byxsZWZ0Om99LG4scSxtO2Z1bmN0aW9uIGModCl7dmFyIHM9ay5maW5kSW5kZXgoInBvc2l0aW9uIix0KTtyZXR1cm4oczwwKT9udWxsOmsuZ2V0QXQocyl9Zm9yKGg9MCxqPWcubGVuZ3RoO2g8ajtoKyspe2I9Z1toXTtuPShiPT09ImxlZnQifHxiPT09InJpZ2h0Iik7ZT1jKGIpO2lmKHAhPT1mYWxzZSl7aWYocC5wb3NpdGlvbj09PWIpe3E9cC5nZXRCQm94KCk7ZFtiXSs9KG4/cS53aWR0aDpxLmhlaWdodCkrZFtiXX19aWYoZSYmZS5iYm94KXtxPWUuYmJveDtkW2JdKz0obj9xLndpZHRoOnEuaGVpZ2h0KX19cj17eDpkLmxlZnQseTpkLnRvcCx3aWR0aDpsLmN1cldpZHRoLWQubGVmdC1kLnJpZ2h0LGhlaWdodDpsLmN1ckhlaWdodC1kLnRvcC1kLmJvdHRvbX07bC5jaGFydEJCb3g9cjtmb3IoaD0wLGo9YS5sZW5ndGg7aDxqO2grKyl7ZT1hW2hdO209ZS5wb3NpdGlvbjtuPShtPT09ImxlZnQifHxtPT09InJpZ2h0Iik7ZS54PShtPT09InJpZ2h0Ij9yLngrci53aWR0aDpyLngpO2UueT0obT09PSJ0b3AiP3IueTpyLnkrci5oZWlnaHQpO2Uud2lkdGg9KG4/ci53aWR0aDpyLmhlaWdodCk7ZS5sZW5ndGg9KG4/ci5oZWlnaHQ6ci53aWR0aCl9fSxpbml0aWFsaXplU2VyaWVzOmZ1bmN0aW9uKGgsayl7dmFyIGo9dGhpcyxkPWoudGhlbWVBdHRycyxjLGUsbixwLG8sbT1bXSxnPTAsYixhPXtjaGFydDpqLHNlcmllc0lkOmguc2VyaWVzSWR9O2lmKGQpe249ZC5zZXJpZXNUaGVtZXM7bz1kLm1hcmtlclRoZW1lcztjPUV4dC5hcHBseSh7fSxkLnNlcmllcyk7ZT1FeHQuYXBwbHkoe30sZC5tYXJrZXIpO2Euc2VyaWVzU3R5bGU9RXh0LmFwcGx5KGMsbltrJW4ubGVuZ3RoXSk7YS5zZXJpZXNMYWJlbFN0eWxlPUV4dC5hcHBseSh7fSxkLnNlcmllc0xhYmVsKTthLm1hcmtlclN0eWxlPUV4dC5hcHBseShlLG9bayVvLmxlbmd0aF0pO2lmKGQuY29sb3JzKXthLmNvbG9yQXJyYXlTdHlsZT1kLmNvbG9yc31lbHNle209W107Zm9yKGI9bi5sZW5ndGg7ZzxiO2crKyl7cD1uW2ddO2lmKHAuZmlsbHx8cC5zdHJva2Upe20ucHVzaChwLmZpbGx8fHAuc3Ryb2tlKX19aWYobS5sZW5ndGgpe2EuY29sb3JBcnJheVN0eWxlPW19fWEuc2VyaWVzSWR4PWt9aWYoaCBpbnN0YW5jZW9mIEV4dC5jaGFydC5zZXJpZXMuU2VyaWVzKXtFeHQuYXBwbHkoaCxhKX1lbHNle0V4dC5hcHBseUlmKGEsaCk7aD1qLnNlcmllcy5yZXBsYWNlKEV4dC5jcmVhdGVCeUFsaWFzKCJzZXJpZXMuIitoLnR5cGUudG9Mb3dlckNhc2UoKSxhKSl9aWYoaC5pbml0aWFsaXplKXtoLmluaXRpYWxpemUoKX19LGdldE1heEd1dHRlcjpmdW5jdGlvbigpe3ZhciBnPXRoaXMsYT1nLnNlcmllcy5pdGVtcyxkLGUsYyxiPVswLDBdLGg7Zm9yKGQ9MCxlPWEubGVuZ3RoO2Q8ZTtkKyspe2M9YVtkXTtoPWMuZ2V0R3V0dGVycyYmYy5nZXRHdXR0ZXJzKCl8fFswLDBdO2JbMF09TWF0aC5tYXgoYlswXSxoWzBdKTtiWzFdPU1hdGgubWF4KGJbMV0saFsxXSl9Zy5tYXhHdXR0ZXI9Yn0sZHJhd0F4aXM6ZnVuY3Rpb24oYSl7YS5kcmF3QXhpcygpfSxkcmF3Q2hhcnRzOmZ1bmN0aW9uKGEpe2EudHJpZ2dlcmFmdGVycmVuZGVyPWZhbHNlO2EuZHJhd1NlcmllcygpO2lmKCF0aGlzLmFuaW1hdGUpe2EuZmlyZUV2ZW50KCJhZnRlcnJlbmRlciIpfX0sc2F2ZTpmdW5jdGlvbihhKXtyZXR1cm4gRXh0LmRyYXcuU3VyZmFjZS5zYXZlKGEsdGhpcy5zdXJmYWNlKX0sZGVzdHJveTpmdW5jdGlvbigpe0V4dC5kZXN0cm95KHRoaXMuc3VyZmFjZSk7dGhpcy5iaW5kU3RvcmUobnVsbCk7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9fSk7RXh0LmRlZmluZSgiRXh0LmNoYXJ0LlRpcFN1cmZhY2UiLHtleHRlbmQ6IkV4dC5kcmF3LkNvbXBvbmVudCIsc3ByaXRlQXJyYXk6ZmFsc2UscmVuZGVyRmlyc3Q6dHJ1ZSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt0aGlzLmNhbGxQYXJlbnQoW2FdKTtpZihhLnNwcml0ZXMpe3RoaXMuc3ByaXRlQXJyYXk9W10uY29uY2F0KGEuc3ByaXRlcyk7ZGVsZXRlIGEuc3ByaXRlc319LG9uUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPTAsYT0wLGQsZTt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtlPWMuc3ByaXRlQXJyYXk7aWYoYy5yZW5kZXJGaXJzdCYmZSl7Yy5yZW5kZXJGaXJzdD1mYWxzZTtmb3IoYT1lLmxlbmd0aDtiPGE7YisrKXtkPWMuc3VyZmFjZS5hZGQoZVtiXSk7ZC5zZXRBdHRyaWJ1dGVzKHtoaWRkZW46ZmFsc2V9LHRydWUpfX19fSk7RXh0LmRlZmluZSgiRXh0LmNoYXJ0LmF4aXMuQWJzdHJhY3QiLHtyZXF1aXJlczpbIkV4dC5jaGFydC5DaGFydCJdLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe2E9YXx8e307dmFyIGI9dGhpcyxjPWEucG9zaXRpb258fCJsZWZ0IjtjPWMuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYy5zdWJzdHJpbmcoMSk7YS5sYWJlbD1FeHQuYXBwbHkoYVsiYXhpc0xhYmVsIitjKyJTdHlsZSJdfHx7fSxhLmxhYmVsfHx7fSk7YS5heGlzVGl0bGVTdHlsZT1FeHQuYXBwbHkoYVsiYXhpc1RpdGxlIitjKyJTdHlsZSJdfHx7fSxhLmxhYmVsVGl0bGV8fHt9KTtFeHQuYXBwbHkoYixhKTtiLmZpZWxkcz1FeHQuQXJyYXkuZnJvbShiLmZpZWxkcyk7dGhpcy5jYWxsUGFyZW50KCk7Yi5sYWJlbHM9W107Yi5nZXRJZCgpO2IubGFiZWxHcm91cD1iLmNoYXJ0LnN1cmZhY2UuZ2V0R3JvdXAoYi5heGlzSWQrIi1sYWJlbHMiKX0sYWxpZ25tZW50Om51bGwsZ3JpZDpmYWxzZSxzdGVwczoxMCx4OjAseTowLG1pblZhbHVlOjAsbWF4VmFsdWU6MCxnZXRJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmF4aXNJZHx8KHRoaXMuYXhpc0lkPUV4dC5pZChudWxsLCJleHQtYXhpcy0iKSl9LHByb2Nlc3NWaWV3OkV4dC5lbXB0eUZuLGRyYXdBeGlzOkV4dC5lbXB0eUZuLGFkZERpc3BsYXlBbmRMYWJlbHM6RXh0LmVtcHR5Rm59KTtFeHQuZGVmaW5lKCJFeHQuY2hhcnQuYXhpcy5BeGlzIix7ZXh0ZW5kOiJFeHQuY2hhcnQuYXhpcy5BYnN0cmFjdCIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuY2hhcnQuQXhpcyIscmVxdWlyZXM6WyJFeHQuZHJhdy5EcmF3Il0sZm9yY2VNaW5NYXg6ZmFsc2UsZGFzaFNpemU6Myxwb3NpdGlvbjoiYm90dG9tIixza2lwRmlyc3Q6ZmFsc2UsbGVuZ3RoOjAsd2lkdGg6MCxhZGp1c3RFbmQ6dHJ1ZSxtYWpvclRpY2tTdGVwczpmYWxzZSxhcHBseURhdGE6RXh0LmVtcHR5Rm4sZ2V0UmFuZ2U6ZnVuY3Rpb24oKXt2YXIgQz10aGlzLHA9Qy5jaGFydCxsPXAuZ2V0Q2hhcnRTdG9yZSgpLEU9bC5kYXRhLml0ZW1zLG89cC5zZXJpZXMuaXRlbXMsRD1DLnBvc2l0aW9uLHEsYT1FeHQuY2hhcnQuc2VyaWVzLHY9W10sdT1JbmZpbml0eSx5PS1JbmZpbml0eSxjPUMucG9zaXRpb249PT0ibGVmdCJ8fEMucG9zaXRpb249PT0icmlnaHQiLHosbixkLHgsdyxtPUUubGVuZ3RoLGcsQj17fSx0PXt9LEE9dHJ1ZSxyLGgsZSxiLHM7cj1DLmZpZWxkcztmb3IoeD0wLG49ci5sZW5ndGg7eDxuO3grKyl7dFtyW3hdXT10cnVlfWZvcih6PTAsbj1vLmxlbmd0aDt6PG47eisrKXtpZihvW3pdLnNlcmllc0lzSGlkZGVuKXtjb250aW51ZX1pZighb1t6XS5nZXRBeGVzRm9yWEFuZFlGaWVsZHMpe2NvbnRpbnVlfXE9b1t6XS5nZXRBeGVzRm9yWEFuZFlGaWVsZHMoKTtpZihxLnhBeGlzJiZxLnhBeGlzIT09RCYmcS55QXhpcyYmcS55QXhpcyE9PUQpe2NvbnRpbnVlfWlmKGEuQmFyJiZvW3pdIGluc3RhbmNlb2YgYS5CYXImJiFvW3pdLmNvbHVtbil7cj1jP0V4dC5BcnJheS5mcm9tKG9bel0ueEZpZWxkKTpFeHQuQXJyYXkuZnJvbShvW3pdLnlGaWVsZCl9ZWxzZXtyPWM/RXh0LkFycmF5LmZyb20ob1t6XS55RmllbGQpOkV4dC5BcnJheS5mcm9tKG9bel0ueEZpZWxkKX1pZihDLmZpZWxkcy5sZW5ndGgpe2Zvcih4PTAsZD1yLmxlbmd0aDt4PGQ7eCsrKXtpZih0W3JbeF1dKXticmVha319aWYoeD09ZCl7Y29udGludWV9fWlmKGc9b1t6XS5zdGFja2VkKXtpZihhLkJhciYmb1t6XSBpbnN0YW5jZW9mIGEuQmFyKXtpZihvW3pdLmNvbHVtbiE9Yyl7Zz1mYWxzZTtBPWZhbHNlfX1lbHNle2lmKCFjKXtnPWZhbHNlO0E9ZmFsc2V9fX1pZihnKXtoPXt9O2Zvcih4PTA7eDxyLmxlbmd0aDt4Kyspe2lmKEEmJm9bel0uX19leGNsdWRlcyYmb1t6XS5fX2V4Y2x1ZGVzW3hdKXtjb250aW51ZX1pZighdFtyW3hdXSl7RXh0LkxvZ2dlci53YXJuKCJGaWVsZCBgIityW3hdKyJgIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGUgIitEKyIgYXhpcyBjb25maWcuIil9dFtyW3hdXT1oW3JbeF1dPXRydWV9di5wdXNoKHtmaWVsZHM6aCx2YWx1ZTowfSl9ZWxzZXtpZighcnx8ci5sZW5ndGg9PTApe3I9Qy5maWVsZHN9Zm9yKHg9MDt4PHIubGVuZ3RoO3grKyl7aWYoQSYmb1t6XS5fX2V4Y2x1ZGVzJiZvW3pdLl9fZXhjbHVkZXNbeF0pe2NvbnRpbnVlfXRbclt4XV09QltyW3hdXT10cnVlfX19Zm9yKHo9MDt6PG07eisrKXtlPUVbel07Zm9yKHc9MDt3PHYubGVuZ3RoO3crKyl7dlt3XS52YWx1ZT0wfWZvcihiIGluIHQpe3M9ZS5nZXQoYik7aWYoaXNOYU4ocykpe2NvbnRpbnVlfWlmKHM9PT11bmRlZmluZWQpe3M9MH1pZihCW2JdKXtpZih1PnMpe3U9c31pZih5PHMpe3k9c319Zm9yKHc9MDt3PHYubGVuZ3RoO3crKyl7aWYodlt3XS5maWVsZHNbYl0pe3Zbd10udmFsdWUrPXM7aWYodT4wKXt1PTB9aWYoeTx2W3ddLnZhbHVlKXt5PXZbd10udmFsdWV9fX19fWlmKCFpc0Zpbml0ZSh5KSl7eT1DLnByZXZNYXh8fDB9aWYoIWlzRmluaXRlKHUpKXt1PUMucHJldk1pbnx8MH1pZih1IT15JiYoeSE9TWF0aC5mbG9vcih5KSkpe3k9TWF0aC5mbG9vcih5KSsxfWlmKCFpc05hTihDLm1pbmltdW0pKXt1PUMubWluaW11bX1pZighaXNOYU4oQy5tYXhpbXVtKSl7eT1DLm1heGltdW19cmV0dXJue21pbjp1LG1heDp5fX0sY2FsY0VuZHM6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLGI9aS5maWVsZHMsYz1pLmdldFJhbmdlKCksaD1jLm1pbixhPWMubWF4LGUsZyxkO2Q9RXh0LmRyYXcuRHJhdy5zbmFwRW5kcyhoLGEsaS5tYWpvclRpY2tTdGVwcyE9PWZhbHNlPyhpLm1ham9yVGlja1N0ZXBzKzEpOmkuc3RlcHMsKGkubWFqb3JUaWNrU3RlcHM9PT1mYWxzZSkpO2U9ZC5mcm9tO2c9ZC50bztpZihpLmZvcmNlTWluTWF4KXtpZighaXNOYU4oYSkpe2QudG89YX1pZighaXNOYU4oaCkpe2QuZnJvbT1ofX1pZighaXNOYU4oaS5tYXhpbXVtKSl7ZC50bz1pLm1heGltdW19aWYoIWlzTmFOKGkubWluaW11bSkpe2QuZnJvbT1pLm1pbmltdW19ZC5zdGVwPShkLnRvLWQuZnJvbSkvKGctZSkqZC5zdGVwO2lmKGkuYWRqdXN0TWF4aW11bUJ5TWFqb3JVbml0KXtkLnRvPU1hdGguY2VpbChkLnRvL2Quc3RlcCkqZC5zdGVwO2Quc3RlcHM9KGQudG8tZC5mcm9tKS9kLnN0ZXB9aWYoaS5hZGp1c3RNaW5pbXVtQnlNYWpvclVuaXQpe2QuZnJvbT1NYXRoLmZsb29yKGQuZnJvbS9kLnN0ZXApKmQuc3RlcDtkLnN0ZXBzPShkLnRvLWQuZnJvbSkvZC5zdGVwfWkucHJldk1pbj1oPT1hPzA6aDtpLnByZXZNYXg9YTtyZXR1cm4gZH0sZHJhd0F4aXM6ZnVuY3Rpb24odSl7dmFyIEY9dGhpcyx2LHQsaz1GLngsaD1GLnksRD1GLmNoYXJ0Lm1heEd1dHRlclswXSxDPUYuY2hhcnQubWF4R3V0dGVyWzFdLGU9Ri5kYXNoU2l6ZSxCPUYubWlub3JUaWNrU3RlcHN8fDAsQT1GLm1pbm9yVGlja1N0ZXBzfHwwLGI9Ri5sZW5ndGgsRz1GLnBvc2l0aW9uLGc9W10sbj1mYWxzZSxjPUYuYXBwbHlEYXRhKCksZD1jLnN0ZXAsdz1jLnN0ZXBzLHM9Yy5mcm9tLGE9Yy50byx6LHIscSxwLG8sbSxsLEU7aWYoRi5oaWRkZW58fGlzTmFOKGQpfHwocz5hKSl7cmV0dXJufUYuZnJvbT1jLmZyb207Ri50bz1jLnRvO2lmKEc9PSJsZWZ0Inx8Rz09InJpZ2h0Iil7cj1NYXRoLmZsb29yKGspKzAuNTtwPVsiTSIscixoLCJsIiwwLC1iXTt6PWItKEMqMil9ZWxzZXtxPU1hdGguZmxvb3IoaCkrMC41O3A9WyJNIixrLHEsImwiLGIsMF07ej1iLShEKjIpfUU9dyYmei93O209TWF0aC5tYXgoQisxLDApO2w9TWF0aC5tYXgoQSsxLDApO2lmKEYudHlwZT09Ik51bWVyaWMifHxGLnR5cGU9PSJUaW1lIil7bj10cnVlO0YubGFiZWxzPVtjLmZyb21dfWlmKEc9PSJyaWdodCJ8fEc9PSJsZWZ0Iil7cT1oLUM7cj1rLSgoRz09ImxlZnQiKSplKjIpO3doaWxlKHE+PWgtQy16KXtwLnB1c2goIk0iLHIsTWF0aC5mbG9vcihxKSswLjUsImwiLGUqMisxLDApO2lmKHEhPWgtQyl7Zm9yKHY9MTt2PGw7disrKXtwLnB1c2goIk0iLHIrZSxNYXRoLmZsb29yKHErRSp2L2wpKzAuNSwibCIsZSsxLDApfX1nLnB1c2goW01hdGguZmxvb3IoayksTWF0aC5mbG9vcihxKV0pO3EtPUU7aWYobil7Ri5sYWJlbHMucHVzaChGLmxhYmVsc1tGLmxhYmVscy5sZW5ndGgtMV0rZCl9aWYoRT09PTApe2JyZWFrfX1pZihNYXRoLnJvdW5kKHErRS0oaC1DLXopKSl7cC5wdXNoKCJNIixyLE1hdGguZmxvb3IoaC1iK0MpKzAuNSwibCIsZSoyKzEsMCk7Zm9yKHY9MTt2PGw7disrKXtwLnB1c2goIk0iLHIrZSxNYXRoLmZsb29yKGgtYitDK0Uqdi9sKSswLjUsImwiLGUrMSwwKX1nLnB1c2goW01hdGguZmxvb3IoayksTWF0aC5mbG9vcihxKV0pO2lmKG4pe0YubGFiZWxzLnB1c2goRi5sYWJlbHNbRi5sYWJlbHMubGVuZ3RoLTFdK2QpfX19ZWxzZXtyPWsrRDtxPWgtKChHPT0idG9wIikqZSoyKTt3aGlsZShyPD1rK0Qreil7cC5wdXNoKCJNIixNYXRoLmZsb29yKHIpKzAuNSxxLCJsIiwwLGUqMisxKTtpZihyIT1rK0Qpe2Zvcih2PTE7djxtO3YrKyl7cC5wdXNoKCJNIixNYXRoLmZsb29yKHItRSp2L20pKzAuNSxxLCJsIiwwLGUrMSl9fWcucHVzaChbTWF0aC5mbG9vcihyKSxNYXRoLmZsb29yKGgpXSk7cis9RTtpZihuKXtGLmxhYmVscy5wdXNoKEYubGFiZWxzW0YubGFiZWxzLmxlbmd0aC0xXStkKX1pZihFPT09MCl7YnJlYWt9fWlmKE1hdGgucm91bmQoci1FLShrK0QreikpKXtwLnB1c2goIk0iLE1hdGguZmxvb3IoaytiLUQpKzAuNSxxLCJsIiwwLGUqMisxKTtmb3Iodj0xO3Y8bTt2Kyspe3AucHVzaCgiTSIsTWF0aC5mbG9vcihrK2ItRC1FKnYvbSkrMC41LHEsImwiLDAsZSsxKX1nLnB1c2goW01hdGguZmxvb3IociksTWF0aC5mbG9vcihoKV0pO2lmKG4pe0YubGFiZWxzLnB1c2goRi5sYWJlbHNbRi5sYWJlbHMubGVuZ3RoLTFdK2QpfX19aWYobil7Ri5sYWJlbHNbZy5sZW5ndGgtMV09KyhGLmxhYmVsc1tnLmxlbmd0aC0xXSkudG9GaXhlZCgxMCl9aWYoIUYuYXhpcyl7Ri5heGlzPUYuY2hhcnQuc3VyZmFjZS5hZGQoRXh0LmFwcGx5KHt0eXBlOiJwYXRoIixwYXRoOnB9LEYuYXhpc1N0eWxlKSl9Ri5heGlzLnNldEF0dHJpYnV0ZXMoe3BhdGg6cH0sdHJ1ZSk7Ri5pbmZsZWN0aW9ucz1nO2lmKCF1JiZGLmdyaWQpe0YuZHJhd0dyaWQoKX1GLmF4aXNCQm94PUYuYXhpcy5nZXRCQm94KCk7Ri5kcmF3TGFiZWwoKX0sZHJhd0dyaWQ6ZnVuY3Rpb24oKXt2YXIgdT10aGlzLG89dS5jaGFydC5zdXJmYWNlLGI9dS5ncmlkLGQ9Yi5vZGQsZT1iLmV2ZW4saD11LmluZmxlY3Rpb25zLGs9aC5sZW5ndGgtKChkfHxlKT8wOjEpLHY9dS5wb3NpdGlvbixjPXUuY2hhcnQubWF4R3V0dGVyLG49dS53aWR0aC0yLHM9ZmFsc2UscCxxLHI9MSxtPVtdLGcsYSxqLGw9W10sdD1bXTtpZigoY1sxXSE9PTAmJih2PT0ibGVmdCJ8fHY9PSJyaWdodCIpKXx8KGNbMF0hPT0wJiYodj09InRvcCJ8fHY9PSJib3R0b20iKSkpe3I9MDtrKyt9Zm9yKDtyPGs7cisrKXtwPWhbcl07cT1oW3ItMV07aWYoZHx8ZSl7bT0ociUyKT9sOnQ7Zz0oKHIlMik/ZDplKXx8e307YT0oZy5saW5lV2lkdGh8fGdbInN0cm9rZS13aWR0aCJdfHwwKS8yO2o9MiphO2lmKHY9PSJsZWZ0Iil7bS5wdXNoKCJNIixxWzBdKzErYSxxWzFdKzAuNS1hLCJMIixxWzBdKzErbi1hLHFbMV0rMC41LWEsIkwiLHBbMF0rMStuLWEscFsxXSswLjUrYSwiTCIscFswXSsxK2EscFsxXSswLjUrYSwiWiIpfWVsc2V7aWYodj09InJpZ2h0Iil7bS5wdXNoKCJNIixxWzBdLWEscVsxXSswLjUtYSwiTCIscVswXS1uK2EscVsxXSswLjUtYSwiTCIscFswXS1uK2EscFsxXSswLjUrYSwiTCIscFswXS1hLHBbMV0rMC41K2EsIloiKX1lbHNle2lmKHY9PSJ0b3AiKXttLnB1c2goIk0iLHFbMF0rMC41K2EscVsxXSsxK2EsIkwiLHFbMF0rMC41K2EscVsxXSsxK24tYSwiTCIscFswXSswLjUtYSxwWzFdKzErbi1hLCJMIixwWzBdKzAuNS1hLHBbMV0rMSthLCJaIil9ZWxzZXttLnB1c2goIk0iLHFbMF0rMC41K2EscVsxXS1hLCJMIixxWzBdKzAuNSthLHFbMV0tbithLCJMIixwWzBdKzAuNS1hLHBbMV0tbithLCJMIixwWzBdKzAuNS1hLHBbMV0tYSwiWiIpfX19fWVsc2V7aWYodj09ImxlZnQiKXttPW0uY29uY2F0KFsiTSIscFswXSswLjUscFsxXSswLjUsImwiLG4sMF0pfWVsc2V7aWYodj09InJpZ2h0Iil7bT1tLmNvbmNhdChbIk0iLHBbMF0tMC41LHBbMV0rMC41LCJsIiwtbiwwXSl9ZWxzZXtpZih2PT0idG9wIil7bT1tLmNvbmNhdChbIk0iLHBbMF0rMC41LHBbMV0rMC41LCJsIiwwLG5dKX1lbHNle209bS5jb25jYXQoWyJNIixwWzBdKzAuNSxwWzFdLTAuNSwibCIsMCwtbl0pfX19fX1pZihkfHxlKXtpZihsLmxlbmd0aCl7aWYoIXUuZ3JpZE9kZCYmbC5sZW5ndGgpe3UuZ3JpZE9kZD1vLmFkZCh7dHlwZToicGF0aCIscGF0aDpsfSl9dS5ncmlkT2RkLnNldEF0dHJpYnV0ZXMoRXh0LmFwcGx5KHtwYXRoOmwsaGlkZGVuOmZhbHNlfSxkfHx7fSksdHJ1ZSl9aWYodC5sZW5ndGgpe2lmKCF1LmdyaWRFdmVuKXt1LmdyaWRFdmVuPW8uYWRkKHt0eXBlOiJwYXRoIixwYXRoOnR9KX11LmdyaWRFdmVuLnNldEF0dHJpYnV0ZXMoRXh0LmFwcGx5KHtwYXRoOnQsaGlkZGVuOmZhbHNlfSxlfHx7fSksdHJ1ZSl9fWVsc2V7aWYobS5sZW5ndGgpe2lmKCF1LmdyaWRMaW5lcyl7dS5ncmlkTGluZXM9dS5jaGFydC5zdXJmYWNlLmFkZCh7dHlwZToicGF0aCIscGF0aDptLCJzdHJva2Utd2lkdGgiOnUubGluZVdpZHRofHwxLHN0cm9rZTp1LmdyaWRDb2xvcnx8IiNjY2MifSl9dS5ncmlkTGluZXMuc2V0QXR0cmlidXRlcyh7aGlkZGVuOmZhbHNlLHBhdGg6bX0sdHJ1ZSl9ZWxzZXtpZih1LmdyaWRMaW5lcyl7dS5ncmlkTGluZXMuaGlkZSh0cnVlKX19fX0sZ2V0T3JDcmVhdGVMYWJlbDpmdW5jdGlvbihjLGcpe3ZhciBkPXRoaXMsYj1kLmxhYmVsR3JvdXAsZT1iLmdldEF0KGMpLGE9ZC5jaGFydC5zdXJmYWNlO2lmKGUpe2lmKGchPWUuYXR0ci50ZXh0KXtlLnNldEF0dHJpYnV0ZXMoRXh0LmFwcGx5KHt0ZXh0Omd9LGQubGFiZWwpLHRydWUpO2UuX2Jib3g9ZS5nZXRCQm94KCl9fWVsc2V7ZT1hLmFkZChFeHQuYXBwbHkoe2dyb3VwOmIsdHlwZToidGV4dCIseDowLHk6MCx0ZXh0Omd9LGQubGFiZWwpKTthLnJlbmRlckl0ZW0oZSk7ZS5fYmJveD1lLmdldEJCb3goKX1pZihkLmxhYmVsLnJvdGF0aW9uKXtlLnNldEF0dHJpYnV0ZXMoe3JvdGF0aW9uOntkZWdyZWVzOjB9fSx0cnVlKTtlLl91YmJveD1lLmdldEJCb3goKTtlLnNldEF0dHJpYnV0ZXMoZC5sYWJlbCx0cnVlKX1lbHNle2UuX3ViYm94PWUuX2Jib3h9cmV0dXJuIGV9LHJlY3QycG9pbnRBcnJheTpmdW5jdGlvbihsKXt2YXIgYj10aGlzLmNoYXJ0LnN1cmZhY2UsZz1iLmdldEJCb3gobCx0cnVlKSxtPVtnLngsZy55XSxkPW0uc2xpY2UoKSxrPVtnLngrZy53aWR0aCxnLnldLGE9ay5zbGljZSgpLGo9W2cueCtnLndpZHRoLGcueStnLmhlaWdodF0sZT1qLnNsaWNlKCksaT1bZy54LGcueStnLmhlaWdodF0sYz1pLnNsaWNlKCksaD1sLm1hdHJpeDttWzBdPWgueC5hcHBseShoLGQpO21bMV09aC55LmFwcGx5KGgsZCk7a1swXT1oLnguYXBwbHkoaCxhKTtrWzFdPWgueS5hcHBseShoLGEpO2pbMF09aC54LmFwcGx5KGgsZSk7alsxXT1oLnkuYXBwbHkoaCxlKTtpWzBdPWgueC5hcHBseShoLGMpO2lbMV09aC55LmFwcGx5KGgsYyk7cmV0dXJuW20sayxqLGldfSxpbnRlcnNlY3Q6ZnVuY3Rpb24oYyxhKXt2YXIgZD10aGlzLnJlY3QycG9pbnRBcnJheShjKSxiPXRoaXMucmVjdDJwb2ludEFycmF5KGEpO3JldHVybiAhIUV4dC5kcmF3LkRyYXcuaW50ZXJzZWN0KGQsYikubGVuZ3RofSxkcmF3SG9yaXpvbnRhbExhYmVsczpmdW5jdGlvbigpe3ZhciBLPXRoaXMsZT1LLmxhYmVsLEU9TWF0aC5mbG9vcixDPU1hdGgubWF4LEQ9Sy5jaGFydC5heGVzLGo9Sy5jaGFydC5pbnNldFBhZGRpbmcsTD1LLnBvc2l0aW9uLG49Sy5pbmZsZWN0aW9ucyxzPW4ubGVuZ3RoLEo9Sy5sYWJlbHMsdj1LLmxhYmVsR3JvdXAsdz0wLGssRz1LLmNoYXJ0Lm1heEd1dHRlclsxXSxnLGMsQSxoLHIsYixGPTAsST1LLmFkanVzdEVuZCxhPUQuZmluZEluZGV4KCJwb3NpdGlvbiIsImxlZnQiKSE9LTEscT1ELmZpbmRJbmRleCgicG9zaXRpb24iLCJyaWdodCIpIT0tMSxILHosbSx1LGwscCx0LG8sQixkO3A9cy0xO0E9blswXTtkPUsuZ2V0T3JDcmVhdGVMYWJlbCgwLEsubGFiZWwucmVuZGVyZXIoSlswXSkpO2s9TWF0aC5mbG9vcihNYXRoLmFicyhNYXRoLnNpbihlLnJvdGF0ZSYmKGUucm90YXRlLmRlZ3JlZXMqTWF0aC5QSS8xODApfHwwKSkpO2ZvcihCPTA7QjxzO0IrKyl7QT1uW0JdO3U9Sy5sYWJlbC5yZW5kZXJlcihKW0JdKTtIPUsuZ2V0T3JDcmVhdGVMYWJlbChCLHUpO2M9SC5fYmJveDt3PUModyxjLmhlaWdodCtLLmRhc2hTaXplK0subGFiZWwucGFkZGluZyk7dD1FKEFbMF0tKGs/Yy5oZWlnaHQ6Yy53aWR0aCkvMik7aWYoSSYmSy5jaGFydC5tYXhHdXR0ZXJbMF09PTApe2lmKEI9PTAmJiFhKXt0PUFbMF19ZWxzZXtpZihCPT1wJiYhcSl7dD1NYXRoLm1pbih0LEFbMF0tYy53aWR0aCtqKX19fWlmKEw9PSJ0b3AiKXtvPUFbMV0tKEsuZGFzaFNpemUqMiktSy5sYWJlbC5wYWRkaW5nLShjLmhlaWdodC8yKX1lbHNle289QVsxXSsoSy5kYXNoU2l6ZSoyKStLLmxhYmVsLnBhZGRpbmcrKGMuaGVpZ2h0LzIpfUguc2V0QXR0cmlidXRlcyh7aGlkZGVuOmZhbHNlLHg6dCx5Om99LHRydWUpO2lmKEIhPTAmJihLLmludGVyc2VjdChILHIpfHxLLmludGVyc2VjdChILGQpKSl7aWYoQj09PXAmJmIhPT0wKXtyLmhpZGUodHJ1ZSl9ZWxzZXtILmhpZGUodHJ1ZSk7Y29udGludWV9fXI9SDtiPUJ9cmV0dXJuIHd9LGRyYXdWZXJ0aWNhbExhYmVsczpmdW5jdGlvbigpe3ZhciBIPXRoaXMsaj1ILmluZmxlY3Rpb25zLEk9SC5wb3NpdGlvbixtPWoubGVuZ3RoLHI9SC5jaGFydCxlPXIuaW5zZXRQYWRkaW5nLEc9SC5sYWJlbHMsQT0wLHY9TWF0aC5tYXgsej1NYXRoLmZsb29yLGM9TWF0aC5jZWlsLHc9SC5jaGFydC5heGVzLEQ9SC5jaGFydC5tYXhHdXR0ZXJbMV0sZCxiLHQsbixhLEM9MCxxPXcuZmluZEluZGV4KCJwb3NpdGlvbiIsInRvcCIpIT0tMSxCPXcuZmluZEluZGV4KCJwb3NpdGlvbiIsImJvdHRvbSIpIT0tMSxGPUguYWRqdXN0RW5kLEUscyxoLHAsZyxsLG8sayx1O2w9bTtmb3IodT0wO3U8bDt1Kyspe3Q9alt1XTtwPUgubGFiZWwucmVuZGVyZXIoR1t1XSk7RT1ILmdldE9yQ3JlYXRlTGFiZWwodSxwKTtiPUUuX2Jib3g7QT12KEEsYi53aWR0aCtILmRhc2hTaXplK0gubGFiZWwucGFkZGluZyk7az10WzFdO2lmKEYmJkQ8Yi5oZWlnaHQvMil7aWYodT09bC0xJiYhcSl7az1NYXRoLm1heChrLEgueS1ILmxlbmd0aCtjKGIuaGVpZ2h0LzIpLWUpfWVsc2V7aWYodT09MCYmIUIpe2s9SC55K0QteihiLmhlaWdodC8yKX19fWlmKEk9PSJsZWZ0Iil7bz10WzBdLWIud2lkdGgtSC5kYXNoU2l6ZS1ILmxhYmVsLnBhZGRpbmctMn1lbHNle289dFswXStILmRhc2hTaXplK0gubGFiZWwucGFkZGluZysyfUUuc2V0QXR0cmlidXRlcyhFeHQuYXBwbHkoe2hpZGRlbjpmYWxzZSx4Om8seTprfSxILmxhYmVsKSx0cnVlKTtpZih1IT0wJiZILmludGVyc2VjdChFLG4pKXtpZih1PT09bC0xJiZhIT09MCl7bi5oaWRlKHRydWUpfWVsc2V7RS5oaWRlKHRydWUpO2NvbnRpbnVlfX1uPUU7YT11fXJldHVybiBBfSxkcmF3TGFiZWw6ZnVuY3Rpb24oKXt2YXIgaD10aGlzLGE9aC5wb3NpdGlvbixiPWgubGFiZWxHcm91cCxqPWguaW5mbGVjdGlvbnMsZz0wLGU9MCxkLGM7aWYoYT09ImxlZnQifHxhPT0icmlnaHQiKXtnPWguZHJhd1ZlcnRpY2FsTGFiZWxzKCl9ZWxzZXtlPWguZHJhd0hvcml6b250YWxMYWJlbHMoKX1kPWIuZ2V0Q291bnQoKTtjPWoubGVuZ3RoO2Zvcig7YzxkO2MrKyl7Yi5nZXRBdChjKS5oaWRlKHRydWUpfWguYmJveD17fTtFeHQuYXBwbHkoaC5iYm94LGguYXhpc0JCb3gpO2guYmJveC5oZWlnaHQ9ZTtoLmJib3gud2lkdGg9ZztpZihFeHQuaXNTdHJpbmcoaC50aXRsZSkpe2guZHJhd1RpdGxlKGcsZSl9fSxlbGlwc2lzOmZ1bmN0aW9uKGQsaCxjLGUsYil7dmFyIGcsYTtpZihjPGUpe2QuaGlkZSh0cnVlKTtyZXR1cm4gZmFsc2V9d2hpbGUoaC5sZW5ndGg+NCl7aD1oLnN1YnN0cigwLGgubGVuZ3RoLTQpKyIuLi4iO2Quc2V0QXR0cmlidXRlcyh7dGV4dDpofSx0cnVlKTtnPWQuZ2V0QkJveCgpO2lmKGcud2lkdGg8Yyl7aWYodHlwZW9mIGI9PSJudW1iZXIiKXtkLnNldEF0dHJpYnV0ZXMoe3g6TWF0aC5mbG9vcihiLShnLndpZHRoLzIpKX0sdHJ1ZSl9YnJlYWt9fXJldHVybiB0cnVlfSxzZXRUaXRsZTpmdW5jdGlvbihhKXt0aGlzLnRpdGxlPWE7dGhpcy5kcmF3TGFiZWwoKX0sZHJhd1RpdGxlOmZ1bmN0aW9uKGwsbSl7dmFyIGg9dGhpcyxnPWgucG9zaXRpb24sYj1oLmNoYXJ0LnN1cmZhY2UsYz1oLmRpc3BsYXlTcHJpdGUsaz1oLnRpdGxlLGU9KGc9PSJsZWZ0Inx8Zz09InJpZ2h0Iiksaj1oLngsaT1oLnksYSxuLGQ7aWYoYyl7Yy5zZXRBdHRyaWJ1dGVzKHt0ZXh0Omt9LHRydWUpfWVsc2V7YT17dHlwZToidGV4dCIseDowLHk6MCx0ZXh0Omt9O2M9aC5kaXNwbGF5U3ByaXRlPWIuYWRkKEV4dC5hcHBseShhLGguYXhpc1RpdGxlU3R5bGUsaC5sYWJlbFRpdGxlKSk7Yi5yZW5kZXJJdGVtKGMpfW49Yy5nZXRCQm94KCk7ZD1oLmRhc2hTaXplK2gubGFiZWwucGFkZGluZztpZihlKXtpLT0oKGgubGVuZ3RoLzIpLShuLmhlaWdodC8yKSk7aWYoZz09ImxlZnQiKXtqLT0obCtkKyhuLndpZHRoLzIpKX1lbHNle2orPShsK2Qrbi53aWR0aC0obi53aWR0aC8yKSl9aC5iYm94LndpZHRoKz1uLndpZHRoKzEwfWVsc2V7ais9KGgubGVuZ3RoLzIpLShuLndpZHRoKjAuNSk7aWYoZz09InRvcCIpe2ktPShtK2QrKG4uaGVpZ2h0KjAuMykpfWVsc2V7aSs9KG0rZCsobi5oZWlnaHQqMC44KSl9aC5iYm94LmhlaWdodCs9bi5oZWlnaHQrMTB9Yy5zZXRBdHRyaWJ1dGVzKHt0cmFuc2xhdGU6e3g6aix5Oml9fSx0cnVlKX19KTtFeHQuZGVmaW5lKCJFeHQuY2hhcnQuYXhpcy5DYXRlZ29yeSIse2V4dGVuZDoiRXh0LmNoYXJ0LmF4aXMuQXhpcyIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuY2hhcnQuQ2F0ZWdvcnlBeGlzIixhbGlhczoiYXhpcy5jYXRlZ29yeSIsY2F0ZWdvcnlOYW1lczpudWxsLGNhbGN1bGF0ZUNhdGVnb3J5Q291bnQ6ZmFsc2Usc2V0TGFiZWxzOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5jaGFydC5nZXRDaGFydFN0b3JlKCksaj1jLmRhdGEuaXRlbXMsayxnLGIsYT10aGlzLmZpZWxkcyxoPWEubGVuZ3RoLGU7dGhpcy5sYWJlbHM9W107Zm9yKGs9MCxnPWoubGVuZ3RoO2s8ZztrKyspe2I9altrXTtmb3IoZT0wO2U8aDtlKyspe3RoaXMubGFiZWxzLnB1c2goYi5nZXQoYVtlXSkpfX19LGFwcGx5RGF0YTpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudCgpO3RoaXMuc2V0TGFiZWxzKCk7dmFyIGE9dGhpcy5jaGFydC5nZXRDaGFydFN0b3JlKCkuZ2V0Q291bnQoKTtyZXR1cm57ZnJvbTowLHRvOmEtMSxwb3dlcjoxLHN0ZXA6MSxzdGVwczphLTF9fX0pO0V4dC5kZWZpbmUoIkV4dC5jaGFydC5heGlzLkdhdWdlIix7ZXh0ZW5kOiJFeHQuY2hhcnQuYXhpcy5BYnN0cmFjdCIscG9zaXRpb246ImdhdWdlIixhbGlhczoiYXhpcy5nYXVnZSIsZHJhd0F4aXM6ZnVuY3Rpb24ocSl7dmFyIGo9dGhpcy5jaGFydCxhPWouc3VyZmFjZSxwPWouY2hhcnRCQm94LGQ9cC54KyhwLndpZHRoLzIpLGI9cC55K3AuaGVpZ2h0LGM9dGhpcy5tYXJnaW58fDEwLG09TWF0aC5taW4ocC53aWR0aCwyKnAuaGVpZ2h0KS8yK2MsaD1bXSxuLGw9dGhpcy5zdGVwcyxlLGc9TWF0aC5QSSxvPU1hdGguY29zLGs9TWF0aC5zaW47aWYodGhpcy5zcHJpdGVzJiYhai5yZXNpemluZyl7dGhpcy5kcmF3TGFiZWwoKTtyZXR1cm59aWYodGhpcy5tYXJnaW4+PTApe2lmKCF0aGlzLnNwcml0ZXMpe2ZvcihlPTA7ZTw9bDtlKyspe249YS5hZGQoe3R5cGU6InBhdGgiLHBhdGg6WyJNIixkKyhtLWMpKm8oZS9sKmctZyksYisobS1jKSprKGUvbCpnLWcpLCJMIixkK20qbyhlL2wqZy1nKSxiK20qayhlL2wqZy1nKSwiWiJdLHN0cm9rZToiI2NjYyJ9KTtuLnNldEF0dHJpYnV0ZXMoe2hpZGRlbjpmYWxzZX0sdHJ1ZSk7aC5wdXNoKG4pfX1lbHNle2g9dGhpcy5zcHJpdGVzO2ZvcihlPTA7ZTw9bDtlKyspe2hbZV0uc2V0QXR0cmlidXRlcyh7cGF0aDpbIk0iLGQrKG0tYykqbyhlL2wqZy1nKSxiKyhtLWMpKmsoZS9sKmctZyksIkwiLGQrbSpvKGUvbCpnLWcpLGIrbSprKGUvbCpnLWcpLCJaIl0sc3Ryb2tlOiIjY2NjIn0sdHJ1ZSl9fX10aGlzLnNwcml0ZXM9aDt0aGlzLmRyYXdMYWJlbCgpO2lmKHRoaXMudGl0bGUpe3RoaXMuZHJhd1RpdGxlKCl9fSxkcmF3VGl0bGU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGQ9ZS5jaGFydCxhPWQuc3VyZmFjZSxnPWQuY2hhcnRCQm94LGM9ZS50aXRsZVNwcml0ZSxiO2lmKCFjKXtlLnRpdGxlU3ByaXRlPWM9YS5hZGQoe3R5cGU6InRleHQiLHpJbmRleDoyfSl9Yy5zZXRBdHRyaWJ1dGVzKEV4dC5hcHBseSh7dGV4dDplLnRpdGxlfSxlLmxhYmVsfHx7fSksdHJ1ZSk7Yj1jLmdldEJCb3goKTtjLnNldEF0dHJpYnV0ZXMoe3g6Zy54KyhnLndpZHRoLzIpLShiLndpZHRoLzIpLHk6Zy55K2cuaGVpZ2h0LShiLmhlaWdodC8yKS00fSx0cnVlKX0sc2V0VGl0bGU6ZnVuY3Rpb24oYSl7dGhpcy50aXRsZT1hO3RoaXMuZHJhd1RpdGxlKCl9LGRyYXdMYWJlbDpmdW5jdGlvbigpe3ZhciBsPXRoaXMuY2hhcnQscD1sLnN1cmZhY2UsYj1sLmNoYXJ0QkJveCxqPWIueCsoYi53aWR0aC8yKSxoPWIueStiLmhlaWdodCxtPXRoaXMubWFyZ2lufHwxMCxkPU1hdGgubWluKGIud2lkdGgsMipiLmhlaWdodCkvMisyKm0sdT1NYXRoLnJvdW5kLG49W10sZyxzPXRoaXMubWF4aW11bXx8MCxrPXRoaXMubWluaW11bXx8MCxyPXRoaXMuc3RlcHMscT0wLHYsdD1NYXRoLlBJLGM9TWF0aC5jb3MsYT1NYXRoLnNpbixlPXRoaXMubGFiZWwsbz1lLnJlbmRlcmVyfHxmdW5jdGlvbihpKXtyZXR1cm4gaX07aWYoIXRoaXMubGFiZWxBcnJheSl7Zm9yKHE9MDtxPD1yO3ErKyl7dj0ocT09PTB8fHE9PT1yKT83OjA7Zz1wLmFkZCh7dHlwZToidGV4dCIsdGV4dDpvKHUoaytxL3IqKHMtaykpKSx4OmorZCpjKHEvcip0LXQpLHk6aCtkKmEocS9yKnQtdCktdiwidGV4dC1hbmNob3IiOiJtaWRkbGUiLCJzdHJva2Utd2lkdGgiOjAuMix6SW5kZXg6MTAsc3Ryb2tlOiIjMzMzIn0pO2cuc2V0QXR0cmlidXRlcyh7aGlkZGVuOmZhbHNlfSx0cnVlKTtuLnB1c2goZyl9fWVsc2V7bj10aGlzLmxhYmVsQXJyYXk7Zm9yKHE9MDtxPD1yO3ErKyl7dj0ocT09PTB8fHE9PT1yKT83OjA7bltxXS5zZXRBdHRyaWJ1dGVzKHt0ZXh0Om8odShrK3Evcioocy1rKSkpLHg6aitkKmMocS9yKnQtdCkseTpoK2QqYShxL3IqdC10KS12fSx0cnVlKX19dGhpcy5sYWJlbEFycmF5PW59fSk7RXh0LmRlZmluZSgiRXh0LmNoYXJ0LmF4aXMuTnVtZXJpYyIse2V4dGVuZDoiRXh0LmNoYXJ0LmF4aXMuQXhpcyIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuY2hhcnQuTnVtZXJpY0F4aXMiLHR5cGU6Im51bWVyaWMiLGFsaWFzOiJheGlzLm51bWVyaWMiLHVzZXM6WyJFeHQuZGF0YS5TdG9yZSJdLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMsYT0hIShjLmxhYmVsJiZjLmxhYmVsLnJlbmRlcmVyKSxiO2QuY2FsbFBhcmVudChbY10pO2I9ZC5sYWJlbDtpZihjLmNvbnN0cmFpbj09bnVsbCl7ZC5jb25zdHJhaW49KGMubWluaW11bSE9bnVsbCYmYy5tYXhpbXVtIT1udWxsKX1pZighYSl7Yi5yZW5kZXJlcj1mdW5jdGlvbihlKXtyZXR1cm4gZC5yb3VuZFRvRGVjaW1hbChlLGQuZGVjaW1hbHMpfX19LHJvdW5kVG9EZWNpbWFsOmZ1bmN0aW9uKGEsYyl7dmFyIGI9TWF0aC5wb3coMTAsY3x8MCk7cmV0dXJuIE1hdGguZmxvb3IoYSpiKS9ifSxtaW5pbXVtOk5hTixtYXhpbXVtOk5hTixjb25zdHJhaW46dHJ1ZSxkZWNpbWFsczoyLHNjYWxlOiJsaW5lYXIiLGRvQ29uc3RyYWluOmZ1bmN0aW9uKCl7dmFyIHU9dGhpcyxjPXUuY2hhcnQuc3RvcmUsaj1jLmRhdGEuaXRlbXMsdCx3LGIsZz11LmNoYXJ0LnNlcmllcy5pdGVtcyxrPXUuZmllbGRzLGU9ay5sZW5ndGgsaD11LmdldFJhbmdlKCksbj1oLm1pbixxPWgubWF4LHIsbyxhPVtdLHM9ZmFsc2UsbSx2PVtdLHA7Zm9yKHI9MCxvPWcubGVuZ3RoO3I8bztyKyspe2Fbcl09Z1tyXS5fX2V4Y2x1ZGVzO3M9c3x8Z1tyXS5zdGFja2VkfWZvcih0PTAsdz1qLmxlbmd0aDt0PHc7dCsrKXtwPXRydWU7Yj1qW3RdO2ZvcihyPTA7cjxlO3IrKyl7cD10cnVlO2lmKGFbcl0pe2NvbnRpbnVlfW09Yi5nZXQoa1tyXSk7aWYoIXMmJittPCtuKXtwPWZhbHNlO2JyZWFrfWlmKCFzJiYrbT4rcSl7cD1mYWxzZTticmVha319aWYocCl7di5wdXNoKGIpfX11LmNoYXJ0LnN1YnN0b3JlPUV4dC5jcmVhdGUoIkV4dC5kYXRhLlN0b3JlIix7bW9kZWw6Yy5tb2RlbCxkYXRhOnZ9KX0scG9zaXRpb246ImxlZnQiLGFkanVzdE1heGltdW1CeU1ham9yVW5pdDpmYWxzZSxhZGp1c3RNaW5pbXVtQnlNYWpvclVuaXQ6ZmFsc2UscHJvY2Vzc1ZpZXc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb25zdHJhaW47aWYoYil7YS5kb0NvbnN0cmFpbigpfX0sYXBwbHlEYXRhOmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KCk7cmV0dXJuIHRoaXMuY2FsY0VuZHMoKX19KTtFeHQuZGVmaW5lKCJFeHQuY2hhcnQuYXhpcy5SYWRpYWwiLHtleHRlbmQ6IkV4dC5jaGFydC5heGlzLkFic3RyYWN0Iixwb3NpdGlvbjoicmFkaWFsIixhbGlhczoiYXhpcy5yYWRpYWwiLGRyYXdBeGlzOmZ1bmN0aW9uKHUpe3ZhciBtPXRoaXMuY2hhcnQsYT1tLnN1cmZhY2UsdD1tLmNoYXJ0QkJveCxxPW0uc3RvcmUsYj1xLmdldENvdW50KCksZT10LngrKHQud2lkdGgvMiksYz10LnkrKHQuaGVpZ2h0LzIpLHA9TWF0aC5taW4odC53aWR0aCx0LmhlaWdodCkvMixrPVtdLHIsbz10aGlzLnN0ZXBzLGcsZCxoPU1hdGguUEkqMixzPU1hdGguY29zLG49TWF0aC5zaW47aWYodGhpcy5zcHJpdGVzJiYhbS5yZXNpemluZyl7dGhpcy5kcmF3TGFiZWwoKTtyZXR1cm59aWYoIXRoaXMuc3ByaXRlcyl7Zm9yKGc9MTtnPD1vO2crKyl7cj1hLmFkZCh7dHlwZToiY2lyY2xlIix4OmUseTpjLHJhZGl1czpNYXRoLm1heChwKmcvbywwKSxzdHJva2U6IiNjY2MifSk7ci5zZXRBdHRyaWJ1dGVzKHtoaWRkZW46ZmFsc2V9LHRydWUpO2sucHVzaChyKX1mb3IoZz0wO2c8YjtnKyspe3I9YS5hZGQoe3R5cGU6InBhdGgiLHBhdGg6WyJNIixlLGMsIkwiLGUrcCpzKGcvYipoKSxjK3AqbihnL2IqaCksIloiXSxzdHJva2U6IiNjY2MifSk7ci5zZXRBdHRyaWJ1dGVzKHtoaWRkZW46ZmFsc2V9LHRydWUpO2sucHVzaChyKX19ZWxzZXtrPXRoaXMuc3ByaXRlcztmb3IoZz0wO2c8bztnKyspe2tbZ10uc2V0QXR0cmlidXRlcyh7eDplLHk6YyxyYWRpdXM6TWF0aC5tYXgocCooZysxKS9vLDApLHN0cm9rZToiI2NjYyJ9LHRydWUpfWZvcihkPTA7ZDxiO2QrKyl7a1tnK2RdLnNldEF0dHJpYnV0ZXMoe3BhdGg6WyJNIixlLGMsIkwiLGUrcCpzKGQvYipoKSxjK3AqbihkL2IqaCksIloiXSxzdHJva2U6IiNjY2MifSx0cnVlKX19dGhpcy5zcHJpdGVzPWs7dGhpcy5kcmF3TGFiZWwoKX0sZHJhd0xhYmVsOmZ1bmN0aW9uKCl7dmFyIHc9dGhpcy5jaGFydCxjPXcuc2VyaWVzLml0ZW1zLHIsQj13LnN1cmZhY2UsYj13LmNoYXJ0QkJveCxsPXcuc3RvcmUsSj1sLmRhdGEuaXRlbXMscCxrLG89Yi54KyhiLndpZHRoLzIpLG49Yi55KyhiLmhlaWdodC8yKSxoPU1hdGgubWluKGIud2lkdGgsYi5oZWlnaHQpLzIsRj1NYXRoLm1heCxJPU1hdGgucm91bmQseD1bXSxtLHo9W10sZCxBPVtdLGcsdj0hdGhpcy5tYXhpbXVtLEg9dGhpcy5tYXhpbXVtfHwwLEc9dGhpcy5zdGVwcyxFPTAsRCx0LHMseT1NYXRoLlBJKjIsZT1NYXRoLmNvcyxhPU1hdGguc2luLEM9dGhpcy5sYWJlbC5kaXNwbGF5LHE9QyE9PSJub25lIix1PTEwO2lmKCFxKXtyZXR1cm59Zm9yKEU9MCxwPWMubGVuZ3RoO0U8cDtFKyspe3I9Y1tFXTt6LnB1c2goci55RmllbGQpO2c9ci54RmllbGR9Zm9yKEQ9MCxwPUoubGVuZ3RoO0Q8cDtEKyspe2s9SltEXTtpZih2KXtmb3IoRT0wLGQ9ei5sZW5ndGg7RTxkO0UrKyl7SD1GKCtrLmdldCh6W0VdKSxIKX19QS5wdXNoKGsuZ2V0KGcpKX1pZighdGhpcy5sYWJlbEFycmF5KXtpZihDIT0iY2F0ZWdvcmllcyIpe2ZvcihFPTE7RTw9RztFKyspe209Qi5hZGQoe3R5cGU6InRleHQiLHRleHQ6SShFL0cqSCkseDpvLHk6bi1oKkUvRywidGV4dC1hbmNob3IiOiJtaWRkbGUiLCJzdHJva2Utd2lkdGgiOjAuMSxzdHJva2U6IiMzMzMifSk7bS5zZXRBdHRyaWJ1dGVzKHtoaWRkZW46ZmFsc2V9LHRydWUpO3gucHVzaChtKX19aWYoQyE9InNjYWxlIil7Zm9yKEQ9MCxHPUEubGVuZ3RoO0Q8RztEKyspe3Q9ZShEL0cqeSkqKGgrdSk7cz1hKEQvRyp5KSooaCt1KTttPUIuYWRkKHt0eXBlOiJ0ZXh0Iix0ZXh0OkFbRF0seDpvK3QseTpuK3MsInRleHQtYW5jaG9yIjp0KnQ8PTAuMDAxPyJtaWRkbGUiOih0PDA/ImVuZCI6InN0YXJ0Iil9KTttLnNldEF0dHJpYnV0ZXMoe2hpZGRlbjpmYWxzZX0sdHJ1ZSk7eC5wdXNoKG0pfX19ZWxzZXt4PXRoaXMubGFiZWxBcnJheTtpZihDIT0iY2F0ZWdvcmllcyIpe2ZvcihFPTA7RTxHO0UrKyl7eFtFXS5zZXRBdHRyaWJ1dGVzKHt0ZXh0OkkoKEUrMSkvRypIKSx4Om8seTpuLWgqKEUrMSkvRywidGV4dC1hbmNob3IiOiJtaWRkbGUiLCJzdHJva2Utd2lkdGgiOjAuMSxzdHJva2U6IiMzMzMifSx0cnVlKX19aWYoQyE9InNjYWxlIil7Zm9yKEQ9MCxHPUEubGVuZ3RoO0Q8RztEKyspe3Q9ZShEL0cqeSkqKGgrdSk7cz1hKEQvRyp5KSooaCt1KTtpZih4W0UrRF0pe3hbRStEXS5zZXRBdHRyaWJ1dGVzKHt0eXBlOiJ0ZXh0Iix0ZXh0OkFbRF0seDpvK3QseTpuK3MsInRleHQtYW5jaG9yIjp0KnQ8PTAuMDAxPyJtaWRkbGUiOih0PDA/ImVuZCI6InN0YXJ0Iil9LHRydWUpfX19fXRoaXMubGFiZWxBcnJheT14fX0pO0V4dC5kZWZpbmUoIkV4dC5jaGFydC5heGlzLlRpbWUiLHtleHRlbmQ6IkV4dC5jaGFydC5heGlzLk51bWVyaWMiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmNoYXJ0LlRpbWVBeGlzIixhbGlhczoiYXhpcy50aW1lIix1c2VzOlsiRXh0LmRhdGEuU3RvcmUiXSxkYXRlRm9ybWF0OmZhbHNlLGZyb21EYXRlOmZhbHNlLHRvRGF0ZTpmYWxzZSxzdGVwOltFeHQuRGF0ZS5EQVksMV0sY29uc3RyYWluOmZhbHNlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsYSxkLGU7Yy5jYWxsUGFyZW50KFtiXSk7YT1jLmxhYmVsfHx7fTtlPXRoaXMuZGF0ZUZvcm1hdDtpZihlKXtpZihhLnJlbmRlcmVyKXtkPWEucmVuZGVyZXI7YS5yZW5kZXJlcj1mdW5jdGlvbihnKXtnPWQoZyk7cmV0dXJuIEV4dC5EYXRlLmZvcm1hdChuZXcgRGF0ZShkKGcpKSxlKX19ZWxzZXthLnJlbmRlcmVyPWZ1bmN0aW9uKGcpe3JldHVybiBFeHQuRGF0ZS5mb3JtYXQobmV3IERhdGUoZz4+MCksZSl9fX19LHByb2Nlc3NWaWV3OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLmZyb21EYXRlKXthLm1pbmltdW09K2EuZnJvbURhdGV9aWYoYS50b0RhdGUpe2EubWF4aW11bT0rYS50b0RhdGV9aWYoYS5jb25zdHJhaW4pe2EuZG9Db25zdHJhaW4oKX19LGNhbGNFbmRzOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxhLGI9Yy5zdGVwO2lmKGIpe2E9Yy5nZXRSYW5nZSgpO2E9RXh0LmRyYXcuRHJhdy5zbmFwRW5kc0J5RGF0ZUFuZFN0ZXAobmV3IERhdGUoYS5taW4pLG5ldyBEYXRlKGEubWF4KSxFeHQuaXNOdW1iZXIoYik/W0RhdGUuTUlMTEksYl06Yik7aWYoYy5taW5pbXVtKXthLmZyb209Yy5taW5pbXVtfWlmKGMubWF4aW11bSl7YS50bz1jLm1heGltdW19YS5zdGVwPShhLnRvLWEuZnJvbSkvYS5zdGVwcztyZXR1cm4gYX1lbHNle3JldHVybiBjLmNhbGxQYXJlbnQoYXJndW1lbnRzKX19fSk7RXh0LmRlZmluZSgiRXh0LmRyYXcuVGV4dCIse2V4dGVuZDoiRXh0LmRyYXcuQ29tcG9uZW50Iix1c2VzOlsiRXh0LnV0aWwuQ1NTIl0sYWxpYXM6IndpZGdldC50ZXh0Iix0ZXh0OiIiLGZvY3VzYWJsZTpmYWxzZSx2aWV3Qm94OmZhbHNlLGF1dG9TaXplOnRydWUsYmFzZUNsczpFeHQuYmFzZUNTU1ByZWZpeCsic3VyZmFjZSAiK0V4dC5iYXNlQ1NTUHJlZml4KyJkcmF3LXRleHQiLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EudGV4dENvbmZpZz1FeHQuYXBwbHkoe3R5cGU6InRleHQiLHRleHQ6YS50ZXh0LHJvdGF0ZTp7ZGVncmVlczphLmRlZ3JlZXN8fDB9fSxhLnRleHRTdHlsZSk7RXh0LmFwcGx5KGEudGV4dENvbmZpZyxhLmdldFN0eWxlcyhhLnN0eWxlU2VsZWN0b3JzfHxhLnN0eWxlU2VsZWN0b3IpKTthLmluaXRpYWxDb25maWcuaXRlbXM9W2EudGV4dENvbmZpZ107YS5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGdldFN0eWxlczpmdW5jdGlvbihkKXtkPUV4dC5BcnJheS5mcm9tKGQpO3ZhciBjPTAsYj1kLmxlbmd0aCxnLGUsaCxhPXt9O2Zvcig7YzxiO2MrKyl7Zz1FeHQudXRpbC5DU1MuZ2V0UnVsZShkW2NdKTtpZihnKXtlPWcuc3R5bGU7aWYoZSl7RXh0LmFwcGx5KGEseyJmb250LWZhbWlseSI6ZS5mb250RmFtaWx5LCJmb250LXdlaWdodCI6ZS5mb250V2VpZ2h0LCJsaW5lLWhlaWdodCI6ZS5saW5lSGVpZ2h0LCJmb250LXNpemUiOmUuZm9udFNpemUsZmlsbDplLmNvbG9yfSl9fX1yZXR1cm4gYX0sc2V0QW5nbGU6ZnVuY3Rpb24oZCl7dmFyIGM9dGhpcyxhLGI7aWYoYy5yZW5kZXJlZCl7YT1jLnN1cmZhY2U7Yj1hLml0ZW1zLml0ZW1zWzBdO2MuZGVncmVlcz1kO2Iuc2V0QXR0cmlidXRlcyh7cm90YXRlOntkZWdyZWVzOmR9fSx0cnVlKTtpZihjLmF1dG9TaXplfHxjLnZpZXdCb3gpe2MudXBkYXRlTGF5b3V0KCl9fWVsc2V7Yy5kZWdyZWVzPWR9fSxzZXRUZXh0OmZ1bmN0aW9uKGQpe3ZhciBjPXRoaXMsYSxiO2lmKGMucmVuZGVyZWQpe2E9Yy5zdXJmYWNlO2I9YS5pdGVtcy5pdGVtc1swXTtjLnRleHQ9ZHx8IiI7YS5yZW1vdmUoYik7Yy50ZXh0Q29uZmlnLnR5cGU9InRleHQiO2MudGV4dENvbmZpZy50ZXh0PWMudGV4dDtiPWEuYWRkKGMudGV4dENvbmZpZyk7Yi5zZXRBdHRyaWJ1dGVzKHtyb3RhdGU6e2RlZ3JlZXM6Yy5kZWdyZWVzfX0sdHJ1ZSk7aWYoYy5hdXRvU2l6ZXx8Yy52aWV3Qm94KXtjLnVwZGF0ZUxheW91dCgpfX1lbHNle2Mub24oe3JlbmRlcjpmdW5jdGlvbigpe2Muc2V0VGV4dChkKX0sc2luZ2xlOnRydWV9KX19fSk7RXh0LmRlZmluZSgiRXh0LkZvY3VzTWFuYWdlciIse3NpbmdsZXRvbjp0cnVlLGFsdGVybmF0ZUNsYXNzTmFtZTpbIkV4dC5Gb2N1c01nciJdLG1peGluczp7b2JzZXJ2YWJsZToiRXh0LnV0aWwuT2JzZXJ2YWJsZSJ9LHJlcXVpcmVzOlsiRXh0LkFic3RyYWN0Q29tcG9uZW50IiwiRXh0LkNvbXBvbmVudCIsIkV4dC5Db21wb25lbnRNYW5hZ2VyIiwiRXh0LkNvbXBvbmVudFF1ZXJ5IiwiRXh0LnV0aWwuSGFzaE1hcCIsIkV4dC51dGlsLktleU5hdiJdLGVuYWJsZWQ6ZmFsc2UsZm9jdXNFbGVtZW50Q2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmb2N1cy1lbGVtZW50Iixmb2N1c0ZyYW1lQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmb2N1cy1mcmFtZSIsd2hpdGVsaXN0OlsidGV4dGZpZWxkIl0sY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPUV4dC5Db21wb25lbnRRdWVyeTtiLm1peGlucy5vYnNlcnZhYmxlLmNvbnN0cnVjdG9yLmNhbGwoYixhKTtiLmFkZEV2ZW50cygiYmVmb3JlY29tcG9uZW50Zm9jdXMiLCJjb21wb25lbnRmb2N1cyIsImRpc2FibGUiLCJlbmFibGUiKTtiLmZvY3VzVGFzaz1uZXcgRXh0LnV0aWwuRGVsYXllZFRhc2soYi5oYW5kbGVDb21wb25lbnRGb2N1cyxiKTtFeHQub3ZlcnJpZGUoRXh0LkFic3RyYWN0Q29tcG9uZW50LHtvbkZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYi5lbmFibGVkJiZ0aGlzLmhhc0ZvY3VzKXtBcnJheS5wcm90b3R5cGUudW5zaGlmdC5jYWxsKGFyZ3VtZW50cyx0aGlzKTtiLm9uQ29tcG9uZW50Rm9jdXMuYXBwbHkoYixhcmd1bWVudHMpfX0sb25CbHVyOmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYi5lbmFibGVkJiYhdGhpcy5oYXNGb2N1cyl7QXJyYXkucHJvdG90eXBlLnVuc2hpZnQuY2FsbChhcmd1bWVudHMsdGhpcyk7Yi5vbkNvbXBvbmVudEJsdXIuYXBwbHkoYixhcmd1bWVudHMpfX0sb25EZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYi5lbmFibGVkKXtBcnJheS5wcm90b3R5cGUudW5zaGlmdC5jYWxsKGFyZ3VtZW50cyx0aGlzKTtiLm9uQ29tcG9uZW50RGVzdHJveS5hcHBseShiLGFyZ3VtZW50cyl9fX0pO0V4dC5vdmVycmlkZShFeHQuQ29tcG9uZW50LHthZnRlckhpZGU6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihiLmVuYWJsZWQpe0FycmF5LnByb3RvdHlwZS51bnNoaWZ0LmNhbGwoYXJndW1lbnRzLHRoaXMpO2Iub25Db21wb25lbnRIaWRlLmFwcGx5KGIsYXJndW1lbnRzKX19fSk7Yi5rZXlOYXY9bmV3IEV4dC51dGlsLktleU5hdihFeHQuZ2V0RG9jKCkse2Rpc2FibGVkOnRydWUsc2NvcGU6YixiYWNrc3BhY2U6Yi5mb2N1c0xhc3QsZW50ZXI6Yi5uYXZpZ2F0ZUluLGVzYzpiLm5hdmlnYXRlT3V0LHRhYjpiLm5hdmlnYXRlU2libGluZ3Msc3BhY2U6Yi5uYXZpZ2F0ZUluLGRlbDpiLmZvY3VzTGFzdCxsZWZ0OmIubmF2aWdhdGVTaWJsaW5ncyxyaWdodDpiLm5hdmlnYXRlU2libGluZ3MsZG93bjpiLm5hdmlnYXRlU2libGluZ3MsdXA6Yi5uYXZpZ2F0ZVNpYmxpbmdzfSk7Yi5mb2N1c0RhdGE9e307Yi5zdWJzY3JpYmVycz1uZXcgRXh0LnV0aWwuSGFzaE1hcCgpO2IuZm9jdXNDaGFpbj17fTtFeHQuYXBwbHkoYy5wc2V1ZG9zLHtmb2N1c2FibGU6ZnVuY3Rpb24oZSl7dmFyIGQ9ZS5sZW5ndGgsaD1bXSxnPTAsajtmb3IoO2c8ZDtnKyspe2o9ZVtnXTtpZihqLmlzRm9jdXNhYmxlKCkpe2gucHVzaChqKX19cmV0dXJuIGh9LG5leHRGb2N1czpmdW5jdGlvbihnLGUsail7aj1qfHwxO2U9cGFyc2VJbnQoZSwxMCk7dmFyIGQ9Zy5sZW5ndGgsaD1lLGs7Zm9yKDs7KXtpZigoaCs9aik+PWQpe2g9MH1lbHNle2lmKGg8MCl7aD1kLTF9fWlmKGg9PT1lKXtyZXR1cm5bXX1pZigoaz1nW2hdKS5pc0ZvY3VzYWJsZSgpKXtyZXR1cm5ba119fXJldHVybltdfSxwcmV2Rm9jdXM6ZnVuY3Rpb24oZSxkKXtyZXR1cm4gdGhpcy5uZXh0Rm9jdXMoZSxkLC0xKX0scm9vdDpmdW5jdGlvbihlKXt2YXIgZD1lLmxlbmd0aCxoPVtdLGc9MCxqO2Zvcig7ZzxkO2crKyl7aj1lW2ddO2lmKCFqLm93bmVyQ3Qpe2gucHVzaChqKX19cmV0dXJuIGh9fSl9LGFkZFhUeXBlVG9XaGl0ZWxpc3Q6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZihFeHQuaXNBcnJheShiKSl7RXh0LkFycmF5LmZvckVhY2goYixhLmFkZFhUeXBlVG9XaGl0ZWxpc3QsYSk7cmV0dXJufWlmKCFFeHQuQXJyYXkuY29udGFpbnMoYS53aGl0ZWxpc3QsYikpe2Eud2hpdGVsaXN0LnB1c2goYil9fSxjbGVhckNvbXBvbmVudDpmdW5jdGlvbihhKXtjbGVhclRpbWVvdXQodGhpcy5jbXBGb2N1c0RlbGF5KTtpZighYS5pc0Rlc3Ryb3llZCl7YS5ibHVyKCl9fSxkaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZighYS5lbmFibGVkKXtyZXR1cm59ZGVsZXRlIGEub3B0aW9uczthLmVuYWJsZWQ9ZmFsc2U7YS5yZW1vdmVET00oKTthLmtleU5hdi5kaXNhYmxlKCk7YS5maXJlRXZlbnQoImRpc2FibGUiLGEpfSxlbmFibGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZihhPT09dHJ1ZSl7YT17Zm9jdXNGcmFtZTp0cnVlfX1iLm9wdGlvbnM9YT1hfHx7fTtpZihiLmVuYWJsZWQpe3JldHVybn1iLmVuYWJsZWQ9dHJ1ZTtiLmluaXRET00oYSk7Yi5rZXlOYXYuZW5hYmxlKCk7Yi5mb2N1c0VsLmZvY3VzKCk7ZGVsZXRlIGIuZm9jdXNlZENtcDtiLmZpcmVFdmVudCgiZW5hYmxlIixiKX0sZm9jdXNMYXN0OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7aWYoYS5pc1doaXRlbGlzdGVkKGEuZm9jdXNlZENtcCkpe3JldHVybiB0cnVlfWlmKGEucHJldmlvdXNGb2N1c2VkQ21wKXthLnByZXZpb3VzRm9jdXNlZENtcC5mb2N1cygpfX0sZ2V0Um9vdENvbXBvbmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGM9RXh0LkNvbXBvbmVudFF1ZXJ5LGI9Yy5xdWVyeSgiOmZvY3VzYWJsZTpyb290Om5vdChbZmxvYXRpbmddKSIpLGQ9Yy5xdWVyeSgiOmZvY3VzYWJsZTpyb290W2Zsb2F0aW5nXSIpO2Quc29ydChmdW5jdGlvbihnLGUpe3JldHVybiBnLmVsLmdldFpJbmRleCgpPmUuZWwuZ2V0WkluZGV4KCl9KTtyZXR1cm4gZC5jb25jYXQoYil9LGluaXRET006ZnVuY3Rpb24oYyl7dmFyIGc9dGhpcyxiPWcuZm9jdXNGcmFtZUNscyxlPUV4dC5Db21wb25lbnRRdWVyeS5xdWVyeSgie2dldEZvY3VzRWwoKX06bm90KFtmb2N1c0xpc3RlbmVyQWRkZWRdKSIpLGQ9MCxhPWUubGVuZ3RoO2lmKCFFeHQuaXNSZWFkeSl7cmV0dXJuIEV4dC5vblJlYWR5KGcuaW5pdERPTSxnKX1mb3IoO2Q8YTtkKyspe2VbZF0uYWRkRm9jdXNMaXN0ZW5lcigpfWlmKCFnLmZvY3VzRWwpe2cuZm9jdXNFbD1FeHQuZ2V0Qm9keSgpO2cuZm9jdXNFbC5kb20udGFiSW5kZXg9LTF9aWYoIWcuZm9jdXNGcmFtZSYmYy5mb2N1c0ZyYW1lKXtnLmZvY3VzRnJhbWU9RXh0LmdldEJvZHkoKS5jcmVhdGVDaGlsZCh7Y2xzOmIsY2hpbGRyZW46W3tjbHM6YisiLXRvcCJ9LHtjbHM6YisiLWJvdHRvbSJ9LHtjbHM6YisiLWxlZnQifSx7Y2xzOmIrIi1yaWdodCJ9XSxzdHlsZToidG9wOiAtMTAwcHg7IGxlZnQ6IC0xMDBweDsifSk7Zy5mb2N1c0ZyYW1lLnNldFZpc2liaWxpdHlNb2RlKEV4dC5FbGVtZW50LkRJU1BMQVkpO2cuZm9jdXNGcmFtZS5oaWRlKCkuc2V0TGVmdFRvcCgwLDApfX0saXNXaGl0ZWxpc3RlZDpmdW5jdGlvbihhKXtyZXR1cm4gYSYmRXh0LkFycmF5LnNvbWUodGhpcy53aGl0ZWxpc3QsZnVuY3Rpb24oYil7cmV0dXJuIGEuaXNYVHlwZShiKX0pfSxuYXZpZ2F0ZUluOmZ1bmN0aW9uKGcpe3ZhciBjPXRoaXMsYT1jLmZvY3VzZWRDbXAsYixkO2lmKGMuaXNXaGl0ZWxpc3RlZChhKSl7cmV0dXJuIHRydWV9aWYoIWEpe2I9Yy5nZXRSb290Q29tcG9uZW50cygpWzBdO2lmKGIpe2lmKGIuZ2V0Rm9jdXNFbCgpPT09Yy5mb2N1c0VsKXtjLmZvY3VzRWwuYmx1cigpfWIuZm9jdXMoKX19ZWxzZXtkPWEuaGFzRm9jdXM/RXh0LkNvbXBvbmVudFF1ZXJ5LnF1ZXJ5KCI+OmZvY3VzYWJsZSIsYSlbMF06YTtpZihkKXtkLmZvY3VzKCl9ZWxzZXtpZihFeHQuaXNGdW5jdGlvbihhLm9uQ2xpY2spKXtnLmJ1dHRvbj0wO2Eub25DbGljayhnKTtpZihhLmlzVmlzaWJsZSh0cnVlKSl7YS5mb2N1cygpfWVsc2V7Yy5uYXZpZ2F0ZU91dCgpfX19fX0sbmF2aWdhdGVPdXQ6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhO2lmKCFiLmZvY3VzZWRDbXB8fCEoYT1iLmZvY3VzZWRDbXAudXAoIjpmb2N1c2FibGUiKSkpe2IuZm9jdXNFbC5mb2N1cygpfWVsc2V7YS5mb2N1cygpfXJldHVybiB0cnVlfSxuYXZpZ2F0ZVNpYmxpbmdzOmZ1bmN0aW9uKGksYixvKXt2YXIgaj10aGlzLGE9Ynx8aixwPWkuZ2V0S2V5KCksZz1FeHQuRXZlbnRPYmplY3Qsaz1pLnNoaWZ0S2V5fHxwPT1nLkxFRlR8fHA9PWcuVVAsYz1wPT1nLkxFRlR8fHA9PWcuUklHSFR8fHA9PWcuVVB8fHA9PWcuRE9XTixoPWs/InByZXYiOiJuZXh0IixuLGQsbSxsO209KGEuZm9jdXNlZENtcCYmYS5mb2N1c2VkQ21wLmNvbXApfHxhLmZvY3VzZWRDbXA7aWYoIW0mJiFvKXtyZXR1cm4gdHJ1ZX1pZihjJiZqLmlzV2hpdGVsaXN0ZWQobSkpe3JldHVybiB0cnVlfWlmKCFtfHxtLmlzKCI6cm9vdCIpKXtsPWouZ2V0Um9vdENvbXBvbmVudHMoKX1lbHNle289b3x8bS51cCgpO2lmKG8pe2w9by5nZXRSZWZJdGVtcygpfX1pZihsKXtuPW0/RXh0LkFycmF5LmluZGV4T2YobCxtKTotMTtkPUV4dC5Db21wb25lbnRRdWVyeS5xdWVyeSgiOiIraCsiRm9jdXMoIituKyIpIixsKVswXTtpZihkJiZtIT09ZCl7ZC5mb2N1cygpO3JldHVybiBkfX19LG9uQ29tcG9uZW50Qmx1cjpmdW5jdGlvbihiLGMpe3ZhciBhPXRoaXM7aWYoYS5mb2N1c2VkQ21wPT09Yil7YS5wcmV2aW91c0ZvY3VzZWRDbXA9YjtkZWxldGUgYS5mb2N1c2VkQ21wfWlmKGEuZm9jdXNGcmFtZSl7YS5mb2N1c0ZyYW1lLmhpZGUoKX19LG9uQ29tcG9uZW50Rm9jdXM6ZnVuY3Rpb24oZCxnKXt2YXIgYz10aGlzLGE9Yy5mb2N1c0NoYWluLGI7aWYoIWQuaXNGb2N1c2FibGUoKSl7Yy5jbGVhckNvbXBvbmVudChkKTtpZihhW2QuaWRdKXtyZXR1cm59Yj1kLnVwKCk7aWYoYil7YVtkLmlkXT10cnVlO2IuZm9jdXMoKX1yZXR1cm59Yy5mb2N1c0NoYWluPXt9O2MuZm9jdXNUYXNrLmRlbGF5KDEwLG51bGwsbnVsbCxbZCxkLmdldEZvY3VzRWwoKV0pfSxoYW5kbGVDb21wb25lbnRGb2N1czpmdW5jdGlvbihtLGkpe3ZhciBrPXRoaXMscCxhLGQsaCxvLGIsbCxlLGcsYyxuLGo7aWYoay5maXJlRXZlbnQoImJlZm9yZWNvbXBvbmVudGZvY3VzIixrLG0say5wcmV2aW91c0ZvY3VzZWRDbXApPT09ZmFsc2Upe2suY2xlYXJDb21wb25lbnQobSk7cmV0dXJufWsuZm9jdXNlZENtcD1tO2lmKGsuc2hvdWxkU2hvd0ZvY3VzRnJhbWUobSkpe3A9Ii4iK2suZm9jdXNGcmFtZUNscysiLSI7YT1rLmZvY3VzRnJhbWU7aD1pLmdldFBhZ2VCb3goKTtvPWgudG9wO2I9aC5sZWZ0O2w9aC53aWR0aDtlPWguaGVpZ2h0O2c9YS5jaGlsZChwKyJ0b3AiKTtjPWEuY2hpbGQocCsiYm90dG9tIik7bj1hLmNoaWxkKHArImxlZnQiKTtqPWEuY2hpbGQocCsicmlnaHQiKTtnLnNldFdpZHRoKGwpLnNldExlZnRUb3AoYixvKTtjLnNldFdpZHRoKGwpLnNldExlZnRUb3AoYixvK2UtMik7bi5zZXRIZWlnaHQoZS0yKS5zZXRMZWZ0VG9wKGIsbysyKTtqLnNldEhlaWdodChlLTIpLnNldExlZnRUb3AoYitsLTIsbysyKTthLnNob3coKX1rLmZpcmVFdmVudCgiY29tcG9uZW50Zm9jdXMiLGssbSxrLnByZXZpb3VzRm9jdXNlZENtcCl9LG9uQ29tcG9uZW50SGlkZTpmdW5jdGlvbihlKXt2YXIgZD10aGlzLGI9ZmFsc2UsYT1kLmZvY3VzZWRDbXAsYztpZihhKXtiPWUuaGFzRm9jdXN8fChlLmlzQ29udGFpbmVyJiZlLmlzQW5jZXN0b3IoZC5mb2N1c2VkQ21wKSl9ZC5jbGVhckNvbXBvbmVudChlKTtpZihiJiYoYz1lLnVwKCI6Zm9jdXNhYmxlIikpKXtjLmZvY3VzKCl9ZWxzZXtkLmZvY3VzRWwuZm9jdXMoKX19LG9uQ29tcG9uZW50RGVzdHJveTpmdW5jdGlvbigpe30scmVtb3ZlRE9NOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLmVuYWJsZWR8fGEuc3Vic2NyaWJlcnMubGVuZ3RoKXtyZXR1cm59RXh0LmRlc3Ryb3koYS5mb2N1c0ZyYW1lKTtkZWxldGUgYS5mb2N1c0VsO2RlbGV0ZSBhLmZvY3VzRnJhbWV9LHJlbW92ZVhUeXBlRnJvbVdoaXRlbGlzdDpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2lmKEV4dC5pc0FycmF5KGIpKXtFeHQuQXJyYXkuZm9yRWFjaChiLGEucmVtb3ZlWFR5cGVGcm9tV2hpdGVsaXN0LGEpO3JldHVybn1FeHQuQXJyYXkucmVtb3ZlKGEud2hpdGVsaXN0LGIpfSxzZXR1cFN1YnNjcmliZXJLZXlzOmZ1bmN0aW9uKGEsZyl7dmFyIGU9dGhpcyxkPWEuZ2V0Rm9jdXNFbCgpLGM9Zy5zY29wZSxiPXtiYWNrc3BhY2U6ZS5mb2N1c0xhc3QsZW50ZXI6ZS5uYXZpZ2F0ZUluLGVzYzplLm5hdmlnYXRlT3V0LHNjb3BlOmV9LGg9ZnVuY3Rpb24oaSl7aWYoZS5mb2N1c2VkQ21wPT09YSl7cmV0dXJuIGUubmF2aWdhdGVTaWJsaW5ncyhpLGUsYSl9ZWxzZXtyZXR1cm4gZS5uYXZpZ2F0ZVNpYmxpbmdzKGkpfX07RXh0Lml0ZXJhdGUoZyxmdW5jdGlvbihqLGkpe2Jbal09ZnVuY3Rpb24obCl7dmFyIGs9aChsKTtpZihFeHQuaXNGdW5jdGlvbihpKSYmaS5jYWxsKGN8fGEsbCxrKT09PXRydWUpe3JldHVybiB0cnVlfXJldHVybiBrfX0sZSk7cmV0dXJuIG5ldyBFeHQudXRpbC5LZXlOYXYoZCxiKX0sc2hvdWxkU2hvd0ZvY3VzRnJhbWU6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWIub3B0aW9uc3x8e30sZT1jLmdldEZvY3VzRWwoKSxkPUV4dC5nZXREb20oZSkudGFnTmFtZTtpZighYi5mb2N1c0ZyYW1lfHwhYyl7cmV0dXJuIGZhbHNlfWlmKGEuZm9jdXNGcmFtZSl7cmV0dXJuIHRydWV9aWYoYi5mb2N1c0RhdGFbYy5pZF0uZm9jdXNGcmFtZSl7cmV0dXJuIHRydWV9cmV0dXJuIGZhbHNlfX0pO0V4dC5kZWZpbmUoIkV4dC5JbWciLHtleHRlbmQ6IkV4dC5Db21wb25lbnQiLGFsaWFzOlsid2lkZ2V0LmltYWdlIiwid2lkZ2V0LmltYWdlY29tcG9uZW50Il0sYXV0b0VsOiJpbWciLHNyYzoiIixhbHQ6IiIsaW1nQ2xzOiIiLGdldEVsQ29uZmlnOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPWMuY2FsbFBhcmVudCgpLGE7aWYoYy5hdXRvRWw9PSJpbWciKXthPWJ9ZWxzZXtiLmNuPVthPXt0YWc6ImltZyIsaWQ6Yy5pZCsiLWltZyJ9XX1pZihjLmltZ0Nscyl7YS5jbHM9KGEuY2xzP2EuY2xzKyIgIjoiIikrYy5pbWdDbHN9YS5zcmM9Yy5zcmN8fEV4dC5CTEFOS19JTUFHRV9VUkw7aWYoYy5hbHQpe2EuYWx0PWMuYWx0fXJldHVybiBifSxvblJlbmRlcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYTtiLmNhbGxQYXJlbnQoYXJndW1lbnRzKTthPWIuZWw7Yi5pbWdFbD0oYi5hdXRvRWw9PSJpbWciKT9hOmEuZ2V0QnlJZChiLmlkKyItaW1nIil9LG9uRGVzdHJveTpmdW5jdGlvbigpe0V4dC5kZXN0cm95KHRoaXMuaW1nRWwpO3RoaXMuaW1nRWw9bnVsbDt0aGlzLmNhbGxQYXJlbnQoKX0sc2V0U3JjOmZ1bmN0aW9uKGMpe3ZhciBhPXRoaXMsYj1hLmltZ0VsO2Euc3JjPWM7aWYoYil7Yi5kb20uc3JjPWN8fEV4dC5CTEFOS19JTUFHRV9VUkx9fX0pO0V4dC5kZWZpbmUoIkV4dC5Mb2FkTWFzayIse2V4dGVuZDoiRXh0LkNvbXBvbmVudCIsYWxpYXM6IndpZGdldC5sb2FkbWFzayIsbWl4aW5zOntmbG9hdGluZzoiRXh0LnV0aWwuRmxvYXRpbmciLGJpbmRhYmxlOiJFeHQudXRpbC5CaW5kYWJsZSJ9LHVzZXM6WyJFeHQuZGF0YS5TdG9yZU1hbmFnZXIiXSxtc2c6IkxvYWRpbmcuLi4iLG1zZ0NsczpFeHQuYmFzZUNTU1ByZWZpeCsibWFzay1sb2FkaW5nIixtYXNrQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJtYXNrIix1c2VNc2c6dHJ1ZSx1c2VUYXJnZXRFbDpmYWxzZSxiYXNlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJtYXNrLW1zZyIsY2hpbGRFbHM6WyJtc2dFbCJdLHJlbmRlclRwbDonPGRpdiBpZD0ie2lkfS1tc2dFbCIgc3R5bGU9InBvc2l0aW9uOnJlbGF0aXZlIiBjbGFzcz0ie1t2YWx1ZXMuJGNvbXAubXNnQ2xzXX0iPjwvZGl2PicsZmxvYXRpbmc6e3NoYWRvdzoiZnJhbWUifSxmb2N1c09uVG9Gcm9udDpmYWxzZSxicmluZ1BhcmVudFRvRnJvbnQ6ZmFsc2UsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2lmKCFhLmlzQ29tcG9uZW50KXthPUV4dC5nZXQoYSk7dGhpcy5pc0VsZW1lbnQ9dHJ1ZX1jLm93bmVyQ3Q9YTtpZighdGhpcy5pc0VsZW1lbnQpe2MuYmluZENvbXBvbmVudChhKX1jLmNhbGxQYXJlbnQoW2JdKTtpZihjLnN0b3JlKXtjLmJpbmRTdG9yZShjLnN0b3JlLHRydWUpfX0sYmluZENvbXBvbmVudDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGI9e3Njb3BlOnRoaXMscmVzaXplOmMuc2l6ZU1hc2ssYWRkZWQ6Yy5vbkNvbXBvbmVudEFkZGVkLHJlbW92ZWQ6Yy5vbkNvbXBvbmVudFJlbW92ZWR9LGQ9RXh0LmNvbnRhaW5lci5Db250YWluZXIuaGllcmFyY2h5RXZlbnRTb3VyY2U7aWYoYS5mbG9hdGluZyl7Yi5tb3ZlPWMuc2l6ZU1hc2s7aWYoYS56SW5kZXhNYW5hZ2VyLmZyb250IT09YSl7Yy5yZXN0YWNrPXRydWU7Yy5hY3RpdmVPd25lcj1hfX1lbHNle2lmKGEub3duZXJDdCl7Yy5vbkNvbXBvbmVudEFkZGVkKGEub3duZXJDdCl9ZWxzZXtjLnByZXZlbnRCcmluZ1RvRnJvbnQ9dHJ1ZX19Yy5tb24oYSxiKTtjLm1vbihkLHtzaG93OmMub25Db250YWluZXJTaG93LGhpZGU6Yy5vbkNvbnRhaW5lckhpZGUsZXhwYW5kOmMub25Db250YWluZXJFeHBhbmQsY29sbGFwc2U6Yy5vbkNvbnRhaW5lckNvbGxhcHNlLHNjb3BlOmN9KX0sb25Db21wb25lbnRBZGRlZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2RlbGV0ZSBiLmFjdGl2ZU93bmVyO2IuZmxvYXRQYXJlbnQ9YTtpZighYS5mbG9hdGluZyl7YT1hLnVwKCJbZmxvYXRpbmddIil9aWYoYSl7Yi5hY3RpdmVPd25lcj1hO2IubW9uKGEsIm1vdmUiLGIuc2l6ZU1hc2ssYil9YT1iLmZsb2F0UGFyZW50Lm93bmVyQ3Q7aWYoYi5yZW5kZXJlZCYmYi5pc1Zpc2libGUoKSYmYSl7Yi5mbG9hdE93bmVyPWE7Yi5tb24oYSwiYWZ0ZXJsYXlvdXQiLGIuc2l6ZU1hc2ssYix7c2luZ2xlOnRydWV9KX19LG9uQ29tcG9uZW50UmVtb3ZlZDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGQ9Yy5hY3RpdmVPd25lcixiPWMuZmxvYXRPd25lcjtpZihkKXtjLm11bihkLCJtb3ZlIixjLnNpemVNYXNrLGMpfWlmKGIpe2MubXVuKGIsImFmdGVybGF5b3V0IixjLnNpemVNYXNrLGMpfWRlbGV0ZSBjLmFjdGl2ZU93bmVyO2RlbGV0ZSBjLmZsb2F0T3duZXJ9LGFmdGVyUmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dGhpcy5jb250YWluZXI9dGhpcy5mbG9hdFBhcmVudC5nZXRDb250ZW50VGFyZ2V0KCl9LG9uQ29udGFpbmVyU2hvdzpmdW5jdGlvbihhKXtpZih0aGlzLmlzQWN0aXZlQ29udGFpbmVyKGEpKXt0aGlzLm9uQ29tcG9uZW50U2hvdygpfX0sb25Db250YWluZXJIaWRlOmZ1bmN0aW9uKGEpe2lmKHRoaXMuaXNBY3RpdmVDb250YWluZXIoYSkpe3RoaXMub25Db21wb25lbnRIaWRlKCl9fSxvbkNvbnRhaW5lckV4cGFuZDpmdW5jdGlvbihhKXtpZih0aGlzLmlzQWN0aXZlQ29udGFpbmVyKGEpKXt0aGlzLm9uQ29tcG9uZW50U2hvdygpfX0sb25Db250YWluZXJDb2xsYXBzZTpmdW5jdGlvbihhKXtpZih0aGlzLmlzQWN0aXZlQ29udGFpbmVyKGEpKXt0aGlzLm9uQ29tcG9uZW50SGlkZSgpfX0saXNBY3RpdmVDb250YWluZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXNEZXNjZW5kYW50T2YoYSl9LG9uQ29tcG9uZW50SGlkZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5yZW5kZXJlZCYmYS5pc1Zpc2libGUoKSl7YS5oaWRlKCk7YS5zaG93TmV4dD10cnVlfX0sb25Db21wb25lbnRTaG93OmZ1bmN0aW9uKCl7aWYodGhpcy5zaG93TmV4dCl7dGhpcy5zaG93KCl9ZGVsZXRlIHRoaXMuc2hvd05leHR9LHNpemVNYXNrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiO2lmKGEucmVuZGVyZWQmJmEuaXNWaXNpYmxlKCkpe2EuY2VudGVyKCk7Yj1hLmdldE1hc2tUYXJnZXQoKTthLmdldE1hc2tFbCgpLnNob3coKS5zZXRTaXplKGIuZ2V0U2l6ZSgpKS5hbGlnblRvKGIsInRsLXRsIil9fSxiaW5kU3RvcmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzO2MubWl4aW5zLmJpbmRhYmxlLmJpbmRTdG9yZS5hcHBseShjLGFyZ3VtZW50cyk7YT1jLnN0b3JlO2lmKGEmJmEuaXNMb2FkaW5nKCkpe2Mub25CZWZvcmVMb2FkKCl9fSxnZXRTdG9yZUxpc3RlbmVyczpmdW5jdGlvbigpe3JldHVybntiZWZvcmVsb2FkOnRoaXMub25CZWZvcmVMb2FkLGxvYWQ6dGhpcy5vbkxvYWQsZXhjZXB0aW9uOnRoaXMub25Mb2FkLGNhY2hlbWlzczp0aGlzLm9uQmVmb3JlTG9hZCxjYWNoZWZpbGxlZDp0aGlzLm9uTG9hZH19LG9uRGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKHRoaXMubG9hZGluZyl7dGhpcy5vbkxvYWQoKX19LGdldE93bmVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3duZXJDdHx8dGhpcy5mbG9hdFBhcmVudH0sZ2V0TWFza1RhcmdldDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0T3duZXIoKTtyZXR1cm4gdGhpcy51c2VUYXJnZXRFbD9hLmdldFRhcmdldEVsKCk6YS5nZXRFbCgpfSxvbkJlZm9yZUxvYWQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGE9Yy5nZXRPd25lcigpLGI7aWYoIWMuZGlzYWJsZWQpe2MubG9hZGluZz10cnVlO2lmKGEuY29tcG9uZW50TGF5b3V0Q291bnRlcil7Yy5tYXliZVNob3coKX1lbHNle2I9YS5hZnRlckNvbXBvbmVudExheW91dDthLmFmdGVyQ29tcG9uZW50TGF5b3V0PWZ1bmN0aW9uKCl7YS5hZnRlckNvbXBvbmVudExheW91dD1iO2IuYXBwbHkoYSxhcmd1bWVudHMpO2MubWF5YmVTaG93KCl9fX19LG1heWJlU2hvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmdldE93bmVyKCk7aWYoIWEuaXNWaXNpYmxlKHRydWUpKXtiLnNob3dOZXh0PXRydWV9ZWxzZXtpZihiLmxvYWRpbmcmJmEucmVuZGVyZWQpe2Iuc2hvdygpfX19LGdldE1hc2tFbDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEubWFza0VsfHwoYS5tYXNrRWw9YS5lbC5pbnNlcnRTaWJsaW5nKHtjbHM6YS5tYXNrQ2xzLHN0eWxlOnt6SW5kZXg6YS5lbC5nZXRTdHlsZSgiekluZGV4IiktMn19LCJiZWZvcmUiKSl9LG9uU2hvdzpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLm1zZ0VsO2IuY2FsbFBhcmVudChhcmd1bWVudHMpO2IubG9hZGluZz10cnVlO2lmKGIudXNlTXNnKXthLnNob3coKS51cGRhdGUoYi5tc2cpfWVsc2V7YS5wYXJlbnQoKS5oaWRlKCl9fSxoaWRlOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0VsZW1lbnQpe3RoaXMub3duZXJDdC51bm1hc2soKTt0aGlzLmZpcmVFdmVudCgiaGlkZSIsdGhpcyk7cmV0dXJufWRlbGV0ZSB0aGlzLnNob3dOZXh0O3JldHVybiB0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sb25IaWRlOmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KCk7dGhpcy5nZXRNYXNrRWwoKS5oaWRlKCl9LHNob3c6ZnVuY3Rpb24oKXtpZih0aGlzLmlzRWxlbWVudCl7dGhpcy5vd25lckN0Lm1hc2sodGhpcy51c2VNc2c/dGhpcy5tc2c6IiIsdGhpcy5tc2dDbHMpO3RoaXMuZmlyZUV2ZW50KCJzaG93Iix0aGlzKTtyZXR1cm59cmV0dXJuIHRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxhZnRlclNob3c6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLnNpemVNYXNrKCl9LHNldFpJbmRleDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKGIucmVzdGFjayl7YT1wYXJzZUludChiLmFjdGl2ZU93bmVyLmVsLmdldFN0eWxlKCJ6SW5kZXgiKSwxMCkrMX1iLmdldE1hc2tFbCgpLnNldFN0eWxlKCJ6SW5kZXgiLGEtMSk7cmV0dXJuIGIubWl4aW5zLmZsb2F0aW5nLnNldFpJbmRleC5hcHBseShiLGFyZ3VtZW50cyl9LG9uTG9hZDpmdW5jdGlvbigpe3RoaXMubG9hZGluZz1mYWxzZTt0aGlzLmhpZGUoKX0sb25EZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLmlzRWxlbWVudCl7YS5vd25lckN0LnVubWFzaygpfUV4dC5kZXN0cm95KGEubWFza0VsKTthLmNhbGxQYXJlbnQoKX19KTtFeHQuZGVmaW5lKCJFeHQudmlldy5BYnN0cmFjdFZpZXciLHtleHRlbmQ6IkV4dC5Db21wb25lbnQiLHJlcXVpcmVzOlsiRXh0LkxvYWRNYXNrIiwiRXh0LmRhdGEuU3RvcmVNYW5hZ2VyIiwiRXh0LkNvbXBvc2l0ZUVsZW1lbnRMaXRlIiwiRXh0LkRvbVF1ZXJ5IiwiRXh0LnNlbGVjdGlvbi5EYXRhVmlld01vZGVsIl0sbWl4aW5zOntiaW5kYWJsZToiRXh0LnV0aWwuQmluZGFibGUifSxpbmhlcml0YWJsZVN0YXRpY3M6e2dldFJlY29yZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRCb3VuZFZpZXcoYSkuZ2V0UmVjb3JkKGEpfSxnZXRCb3VuZFZpZXc6ZnVuY3Rpb24oYSl7cmV0dXJuIEV4dC5nZXRDbXAoYS5ib3VuZFZpZXcpfX0sZGVmZXJJbml0aWFsUmVmcmVzaDp0cnVlLGl0ZW1DbHM6RXh0LmJhc2VDU1NQcmVmaXgrImRhdGF2aWV3LWl0ZW0iLGxvYWRpbmdUZXh0OiJMb2FkaW5nLi4uIixsb2FkTWFzazp0cnVlLGxvYWRpbmdVc2VNc2c6dHJ1ZSxzZWxlY3RlZEl0ZW1DbHM6RXh0LmJhc2VDU1NQcmVmaXgrIml0ZW0tc2VsZWN0ZWQiLGVtcHR5VGV4dDoiIixkZWZlckVtcHR5VGV4dDp0cnVlLHRyYWNrT3ZlcjpmYWxzZSxibG9ja1JlZnJlc2g6ZmFsc2UscHJlc2VydmVTY3JvbGxPblJlZnJlc2g6ZmFsc2UsbGFzdDpmYWxzZSx0cmlnZ2VyRXZlbnQ6Iml0ZW1jbGljayIsdHJpZ2dlckN0RXZlbnQ6ImNvbnRhaW5lcmNsaWNrIixhZGRDbXBFdmVudHM6ZnVuY3Rpb24oKXt9LGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGE9RXh0LmlzRGVmaW5lZCxkPWMuaXRlbVRwbCxiPXt9O2lmKGQpe2lmKEV4dC5pc0FycmF5KGQpKXtkPWQuam9pbigiIil9ZWxzZXtpZihFeHQuaXNPYmplY3QoZCkpe2I9RXh0LmFwcGx5KGIsZC5pbml0aWFsQ29uZmlnKTtkPWQuaHRtbH19aWYoIWMuaXRlbVNlbGVjdG9yKXtjLml0ZW1TZWxlY3Rvcj0iLiIrYy5pdGVtQ2xzfWQ9RXh0LlN0cmluZy5mb3JtYXQoJzx0cGwgZm9yPSIuIj48ZGl2IGNsYXNzPSJ7MH0iPnsxfTwvZGl2PjwvdHBsPicsYy5pdGVtQ2xzLGQpO2MudHBsPW5ldyBFeHQuWFRlbXBsYXRlKGQsYil9Yy5jYWxsUGFyZW50KCk7aWYoRXh0LmlzU3RyaW5nKGMudHBsKXx8RXh0LmlzQXJyYXkoYy50cGwpKXtjLnRwbD1uZXcgRXh0LlhUZW1wbGF0ZShjLnRwbCl9Yy5hZGRFdmVudHMoImJlZm9yZXJlZnJlc2giLCJyZWZyZXNoIiwidmlld3JlYWR5IiwiaXRlbXVwZGF0ZSIsIml0ZW1hZGQiLCJpdGVtcmVtb3ZlIik7Yy5hZGRDbXBFdmVudHMoKTtjLnN0b3JlPUV4dC5kYXRhLlN0b3JlTWFuYWdlci5sb29rdXAoYy5zdG9yZXx8ImV4dC1lbXB0eS1zdG9yZSIpO2MuYmluZFN0b3JlKGMuc3RvcmUsdHJ1ZSk7Yy5hbGw9bmV3IEV4dC5Db21wb3NpdGVFbGVtZW50TGl0ZSgpO2Muc2Nyb2xsU3RhdGU9e3RvcDowLGxlZnQ6MH07Yy5vbih7c2Nyb2xsOmMub25WaWV3U2Nyb2xsLGVsZW1lbnQ6ImVsIixzY29wZTpjfSl9LG9uUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPWMubG9hZE1hc2ssYT17bXNnOmMubG9hZGluZ1RleHQsbXNnQ2xzOmMubG9hZGluZ0Nscyx1c2VNc2c6Yy5sb2FkaW5nVXNlTXNnfTtjLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihiKXtpZihFeHQuaXNPYmplY3QoYikpe2E9RXh0LmFwcGx5KGEsYil9Yy5sb2FkTWFzaz1uZXcgRXh0LkxvYWRNYXNrKGMsYSk7Yy5sb2FkTWFzay5vbih7c2NvcGU6YyxiZWZvcmVzaG93OmMub25NYXNrQmVmb3JlU2hvdyxoaWRlOmMub25NYXNrSGlkZX0pfX0sb25Cb3hSZWFkeTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLnN0b3JlO2IuY2FsbFBhcmVudChhcmd1bWVudHMpO2IuZG9GaXJzdFJlZnJlc2goYi5zdG9yZSl9LG9uTWFza0JlZm9yZVNob3c6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5sb2FkaW5nSGVpZ2h0O2IuZ2V0U2VsZWN0aW9uTW9kZWwoKS5kZXNlbGVjdEFsbCgpO2IuYWxsLmNsZWFyKCk7aWYoYSYmYT5iLmdldEhlaWdodCgpKXtiLmhhc0xvYWRpbmdIZWlnaHQ9dHJ1ZTtiLm9sZE1pbkhlaWdodD1iLm1pbkhlaWdodDtiLm1pbkhlaWdodD1hO2IudXBkYXRlTGF5b3V0KCl9fSxvbk1hc2tIaWRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZighYS5kZXN0cm95aW5nJiZhLmhhc0xvYWRpbmdIZWlnaHQpe2EubWluSGVpZ2h0PWEub2xkTWluSGVpZ2h0O2EudXBkYXRlTGF5b3V0KCk7ZGVsZXRlIGEuaGFzTG9hZGluZ0hlaWdodH19LGFmdGVyUmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dGhpcy5nZXRTZWxlY3Rpb25Nb2RlbCgpLmJpbmRDb21wb25lbnQodGhpcyl9LGdldFNlbGVjdGlvbk1vZGVsOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPSJTSU5HTEUiO2lmKCFhLnNlbE1vZGVsKXthLnNlbE1vZGVsPXt9fWlmKGEuc2ltcGxlU2VsZWN0KXtiPSJTSU1QTEUifWVsc2V7aWYoYS5tdWx0aVNlbGVjdCl7Yj0iTVVMVEkifX1FeHQuYXBwbHlJZihhLnNlbE1vZGVsLHthbGxvd0Rlc2VsZWN0OmEuYWxsb3dEZXNlbGVjdCxtb2RlOmJ9KTtpZighYS5zZWxNb2RlbC5ldmVudHMpe2Euc2VsTW9kZWw9bmV3IEV4dC5zZWxlY3Rpb24uRGF0YVZpZXdNb2RlbChhLnNlbE1vZGVsKX1pZighYS5zZWxNb2RlbC5oYXNSZWxheVNldHVwKXthLnJlbGF5RXZlbnRzKGEuc2VsTW9kZWwsWyJzZWxlY3Rpb25jaGFuZ2UiLCJiZWZvcmVzZWxlY3QiLCJiZWZvcmVkZXNlbGVjdCIsInNlbGVjdCIsImRlc2VsZWN0IiwiZm9jdXNjaGFuZ2UiXSk7YS5zZWxNb2RlbC5oYXNSZWxheVNldHVwPXRydWV9aWYoYS5kaXNhYmxlU2VsZWN0aW9uKXthLnNlbE1vZGVsLmxvY2tlZD10cnVlfXJldHVybiBhLnNlbE1vZGVsfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxoLGIsZSxkLGcsYTtpZighYy5yZW5kZXJlZHx8Yy5pc0Rlc3Ryb3llZCl7cmV0dXJufWlmKCFjLmhhc0xpc3RlbmVycy5iZWZvcmVyZWZyZXNofHxjLmZpcmVFdmVudCgiYmVmb3JlcmVmcmVzaCIsYykhPT1mYWxzZSl7aD1jLmdldFRhcmdldEVsKCk7YT1jLnN0b3JlLmdldFJhbmdlKCk7Zz1oLmRvbTtpZighYy5wcmVzZXJ2ZVNjcm9sbE9uUmVmcmVzaCl7Yj1nLnBhcmVudE5vZGU7ZT1nLnN0eWxlLmRpc3BsYXk7Zy5zdHlsZS5kaXNwbGF5PSJub25lIjtkPWcubmV4dFNpYmxpbmc7Yi5yZW1vdmVDaGlsZChnKX1pZihjLnJlZnJlc2hDb3VudGVyKXtjLmNsZWFyVmlld0VsKCl9ZWxzZXtjLmZpeGVkTm9kZXM9aC5kb20uY2hpbGROb2Rlcy5sZW5ndGg7Yy5yZWZyZXNoQ291bnRlcj0xfWMudHBsLmFwcGVuZChoLGMuY29sbGVjdERhdGEoYSwwKSk7aWYoYS5sZW5ndGg8MSl7aWYoIWMuZGVmZXJFbXB0eVRleHR8fGMuaGFzU2tpcHBlZEVtcHR5VGV4dCl7RXh0LmNvcmUuRG9tSGVscGVyLmluc2VydEh0bWwoImJlZm9yZUVuZCIsaC5kb20sYy5lbXB0eVRleHQpfWMuYWxsLmNsZWFyKCl9ZWxzZXtjLmFsbC5maWxsKEV4dC5xdWVyeShjLmdldEl0ZW1TZWxlY3RvcigpLGguZG9tKSk7Yy51cGRhdGVJbmRleGVzKDApfWMuc2VsTW9kZWwucmVmcmVzaCgpO2MuaGFzU2tpcHBlZEVtcHR5VGV4dD10cnVlO2lmKCFjLnByZXNlcnZlU2Nyb2xsT25SZWZyZXNoKXtiLmluc2VydEJlZm9yZShnLGQpO2cuc3R5bGUuZGlzcGxheT1lfXRoaXMucmVmcmVzaFNpemUoKTtjLmZpcmVFdmVudCgicmVmcmVzaCIsYyk7aWYoIWMudmlld1JlYWR5KXtjLnZpZXdSZWFkeT10cnVlO2MuZmlyZUV2ZW50KCJ2aWV3cmVhZHkiLGMpfX19LHJlZnJlc2hTaXplOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRTaXplTW9kZWwoKTtpZihhLmhlaWdodC5zaHJpbmtXcmFwfHxhLndpZHRoLnNocmlua1dyYXApe3RoaXMudXBkYXRlTGF5b3V0KCl9fSxjbGVhclZpZXdFbDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmdldFRhcmdldEVsKCk7aWYoYi5maXhlZE5vZGVzKXt3aGlsZShhLmRvbS5jaGlsZE5vZGVzW2IuZml4ZWROb2Rlc10pe2EuZG9tLnJlbW92ZUNoaWxkKGEuZG9tLmNoaWxkTm9kZXNbYi5maXhlZE5vZGVzXSl9fWVsc2V7YS51cGRhdGUoIiIpfWIucmVmcmVzaENvdW50ZXIrK30sb25WaWV3U2Nyb2xsOkV4dC5lbXB0eUZuLHNhdmVTY3JvbGxTdGF0ZTpmdW5jdGlvbigpe2lmKHRoaXMucmVuZGVyZWQpe3ZhciBiPXRoaXMuZWwuZG9tLGE9dGhpcy5zY3JvbGxTdGF0ZTthLmxlZnQ9Yi5zY3JvbGxMZWZ0O2EudG9wPWIuc2Nyb2xsVG9wfX0scmVzdG9yZVNjcm9sbFN0YXRlOmZ1bmN0aW9uKCl7aWYodGhpcy5yZW5kZXJlZCl7dmFyIGI9dGhpcy5lbC5kb20sYT10aGlzLnNjcm9sbFN0YXRlO2Iuc2Nyb2xsTGVmdD1hLmxlZnQ7Yi5zY3JvbGxUb3A9YS50b3B9fSxwcmVwYXJlRGF0YTpmdW5jdGlvbihlLGQsYyl7dmFyIGIsYTtpZihjKXtiPWMuZ2V0QXNzb2NpYXRlZERhdGEoKTtmb3IoYSBpbiBiKXtpZihiLmhhc093blByb3BlcnR5KGEpKXtlW2FdPWJbYV19fX1yZXR1cm4gZX0sY29sbGVjdERhdGE6ZnVuY3Rpb24oYyxnKXt2YXIgZT1bXSxkPTAsYT1jLmxlbmd0aCxiO2Zvcig7ZDxhO2QrKyl7Yj1jW2RdO2VbZF09dGhpcy5wcmVwYXJlRGF0YShiLmRhdGEsZytkLGIpfXJldHVybiBlfSxidWZmZXJSZW5kZXI6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5yZW5kZXJCdWZmZXJ8fChjLnJlbmRlckJ1ZmZlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSk7Yy50cGwub3ZlcndyaXRlKGQsYy5jb2xsZWN0RGF0YShhLGIpKTtyZXR1cm4gRXh0LnF1ZXJ5KGMuZ2V0SXRlbVNlbGVjdG9yKCksZCl9LG9uVXBkYXRlOmZ1bmN0aW9uKGUsYSl7dmFyIGQ9dGhpcyxiLGM7aWYoZC5yZW5kZXJlZCl7Yj1kLnN0b3JlLmluZGV4T2YoYSk7aWYoYj4tMSl7Yz1kLmJ1ZmZlclJlbmRlcihbYV0sYilbMF07aWYoZC5nZXROb2RlKGEpKXtkLmFsbC5yZXBsYWNlRWxlbWVudChiLGMsdHJ1ZSk7ZC51cGRhdGVJbmRleGVzKGIsYik7ZC5zZWxNb2RlbC5yZWZyZXNoKCk7aWYoZC5oYXNMaXN0ZW5lcnMuaXRlbXVwZGF0ZSl7ZC5maXJlRXZlbnQoIml0ZW11cGRhdGUiLGEsYixjKX1yZXR1cm4gY319fX0sb25BZGQ6ZnVuY3Rpb24oZSxiLGMpe3ZhciBkPXRoaXMsYTtpZihkLnJlbmRlcmVkKXtpZihkLmFsbC5nZXRDb3VudCgpPT09MCl7ZC5yZWZyZXNoKCk7cmV0dXJufWE9ZC5idWZmZXJSZW5kZXIoYixjKTtkLmRvQWRkKGEsYixjKTtkLnNlbE1vZGVsLnJlZnJlc2goKTtkLnVwZGF0ZUluZGV4ZXMoYyk7dGhpcy5yZWZyZXNoU2l6ZSgpO2lmKGQuaGFzTGlzdGVuZXJzLml0ZW1hZGQpe2QuZmlyZUV2ZW50KCJpdGVtYWRkIixiLGMsYSl9fX0sZG9BZGQ6ZnVuY3Rpb24oYixhLGMpe3ZhciBkPXRoaXMuYWxsLGU9ZC5nZXRDb3VudCgpO2lmKGU9PT0wKXt0aGlzLmNsZWFyVmlld0VsKCk7dGhpcy5nZXRUYXJnZXRFbCgpLmFwcGVuZENoaWxkKGIpfWVsc2V7aWYoYzxlKXtpZihjPT09MCl7ZC5pdGVtKGMpLmluc2VydFNpYmxpbmcoYiwiYmVmb3JlIix0cnVlKX1lbHNle2QuaXRlbShjLTEpLmluc2VydFNpYmxpbmcoYiwiYWZ0ZXIiLHRydWUpfX1lbHNle2QubGFzdCgpLmluc2VydFNpYmxpbmcoYiwiYWZ0ZXIiLHRydWUpfX1FeHQuQXJyYXkuaW5zZXJ0KGQuZWxlbWVudHMsYyxiKX0sb25SZW1vdmU6ZnVuY3Rpb24oZCxhLGIpe3ZhciBjPXRoaXM7aWYoYy5yZW5kZXJlZCl7aWYoYy5zdG9yZS5nZXRDb3VudCgpPT09MCl7Yy5yZWZyZXNoKCl9ZWxzZXtjLmRvUmVtb3ZlKGEsYik7Yy51cGRhdGVJbmRleGVzKGIpfXRoaXMucmVmcmVzaFNpemUoKTtpZihjLmhhc0xpc3RlbmVycy5pdGVtcmVtb3ZlKXtjLmZpcmVFdmVudCgiaXRlbXJlbW92ZSIsYSxiKX19fSxkb1JlbW92ZTpmdW5jdGlvbihhLGIpe3RoaXMuYWxsLnJlbW92ZUVsZW1lbnQoYix0cnVlKX0scmVmcmVzaE5vZGU6ZnVuY3Rpb24oYSl7dGhpcy5vblVwZGF0ZSh0aGlzLnN0b3JlLHRoaXMuc3RvcmUuZ2V0QXQoYSkpfSx1cGRhdGVJbmRleGVzOmZ1bmN0aW9uKGUsZCl7dmFyIGM9dGhpcy5hbGwuZWxlbWVudHMsYT10aGlzLnN0b3JlLmdldFJhbmdlKCksYjtlPWV8fDA7ZD1kfHwoKGQ9PT0wKT8wOihjLmxlbmd0aC0xKSk7Zm9yKGI9ZTtiPD1kO2IrKyl7Y1tiXS52aWV3SW5kZXg9YjtjW2JdLnZpZXdSZWNvcmRJZD1hW2JdLmludGVybmFsSWQ7aWYoIWNbYl0uYm91bmRWaWV3KXtjW2JdLmJvdW5kVmlldz10aGlzLmlkfX19LGdldFN0b3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RvcmV9LGJpbmRTdG9yZTpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7Yy5taXhpbnMuYmluZGFibGUuYmluZFN0b3JlLmFwcGx5KGMsYXJndW1lbnRzKTtjLmdldFNlbGVjdGlvbk1vZGVsKCkuYmluZFN0b3JlKGMuc3RvcmUpO2lmKGMuY29tcG9uZW50TGF5b3V0Q291bnRlcil7Yy5kb0ZpcnN0UmVmcmVzaChhKX19LGRvRmlyc3RSZWZyZXNoOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoYSYmIWEubG9hZGluZyl7aWYoYi5kZWZlckluaXRpYWxSZWZyZXNoKXtFeHQuRnVuY3Rpb24uZGVmZXIoZnVuY3Rpb24oKXtpZighYi5pc0Rlc3Ryb3llZCl7Yi5yZWZyZXNoKCl9fSwxKX1lbHNle2IucmVmcmVzaCgpfX19LG9uVW5iaW5kU3RvcmU6ZnVuY3Rpb24oYSl7dGhpcy5zZXRNYXNrQmluZChudWxsKX0sb25CaW5kU3RvcmU6ZnVuY3Rpb24oYSl7dGhpcy5zZXRNYXNrQmluZChhKX0sc2V0TWFza0JpbmQ6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5sb2FkTWFzaztpZihhJiZhLmJpbmRTdG9yZSl7YS5iaW5kU3RvcmUoYil9fSxnZXRTdG9yZUxpc3RlbmVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJue3JlZnJlc2g6YS5vbkRhdGFSZWZyZXNoLGFkZDphLm9uQWRkLHJlbW92ZTphLm9uUmVtb3ZlLHVwZGF0ZTphLm9uVXBkYXRlLGNsZWFyOmEucmVmcmVzaH19LG9uRGF0YVJlZnJlc2g6ZnVuY3Rpb24oKXtpZih0aGlzLmJsb2NrUmVmcmVzaCE9PXRydWUpe3RoaXMucmVmcmVzaC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSxmaW5kSXRlbUJ5Q2hpbGQ6ZnVuY3Rpb24oYSl7cmV0dXJuIEV4dC5mbHkoYSkuZmluZFBhcmVudCh0aGlzLmdldEl0ZW1TZWxlY3RvcigpLHRoaXMuZ2V0VGFyZ2V0RWwoKSl9LGZpbmRUYXJnZXRCeUV2ZW50OmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldFRhcmdldCh0aGlzLmdldEl0ZW1TZWxlY3RvcigpLHRoaXMuZ2V0VGFyZ2V0RWwoKSl9LGdldFNlbGVjdGVkTm9kZXM6ZnVuY3Rpb24oKXt2YXIgYj1bXSxhPXRoaXMuc2VsTW9kZWwuZ2V0U2VsZWN0aW9uKCksZD1hLmxlbmd0aCxjPTA7Zm9yKDtjPGQ7YysrKXtiLnB1c2godGhpcy5nZXROb2RlKGFbY10pKX1yZXR1cm4gYn0sZ2V0UmVjb3JkczpmdW5jdGlvbihjKXt2YXIgYj1bXSxkPTAsYT1jLmxlbmd0aCxlPXRoaXMuc3RvcmUuZGF0YTtmb3IoO2Q8YTtkKyspe2JbYi5sZW5ndGhdPWUuZ2V0QnlLZXkoY1tkXS52aWV3UmVjb3JkSWQpfXJldHVybiBifSxnZXRSZWNvcmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuc3RvcmUuZGF0YS5nZXRCeUtleShFeHQuZ2V0RG9tKGEpLnZpZXdSZWNvcmRJZCl9LGlzU2VsZWN0ZWQ6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5nZXRSZWNvcmQoYik7cmV0dXJuIHRoaXMuc2VsTW9kZWwuaXNTZWxlY3RlZChhKX0sc2VsZWN0OmZ1bmN0aW9uKGIsYyxhKXt0aGlzLnNlbE1vZGVsLnNlbGVjdChiLGMsYSl9LGRlc2VsZWN0OmZ1bmN0aW9uKGIsYSl7dGhpcy5zZWxNb2RlbC5kZXNlbGVjdChiLGEpfSxnZXROb2RlOmZ1bmN0aW9uKGEpe2lmKCghYSYmYSE9PTApfHwhdGhpcy5yZW5kZXJlZCl7cmV0dXJuIG51bGx9aWYoRXh0LmlzU3RyaW5nKGEpKXtyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSl9aWYoRXh0LmlzTnVtYmVyKGEpKXtyZXR1cm4gdGhpcy5hbGwuZWxlbWVudHNbYV19aWYoYS5pc01vZGVsKXtyZXR1cm4gdGhpcy5nZXROb2RlQnlSZWNvcmQoYSl9cmV0dXJuIGF9LGdldE5vZGVCeVJlY29yZDpmdW5jdGlvbihhKXt2YXIgYz10aGlzLmFsbC5lbGVtZW50cyxkPWMubGVuZ3RoLGI9MDtmb3IoO2I8ZDtiKyspe2lmKGNbYl0udmlld1JlY29yZElkPT09YS5pbnRlcm5hbElkKXtyZXR1cm4gY1tiXX19cmV0dXJuIG51bGx9LGdldE5vZGVzOmZ1bmN0aW9uKGUsYSl7dmFyIGQ9dGhpcy5hbGwuZWxlbWVudHMsYj1bXSxjO2U9ZXx8MDthPSFFeHQuaXNEZWZpbmVkKGEpP01hdGgubWF4KGQubGVuZ3RoLTEsMCk6YTtpZihlPD1hKXtmb3IoYz1lO2M8PWEmJmRbY107YysrKXtiLnB1c2goZFtjXSl9fWVsc2V7Zm9yKGM9ZTtjPj1hJiZkW2NdO2MtLSl7Yi5wdXNoKGRbY10pfX1yZXR1cm4gYn0saW5kZXhPZjpmdW5jdGlvbihhKXthPXRoaXMuZ2V0Tm9kZShhKTtpZihFeHQuaXNOdW1iZXIoYS52aWV3SW5kZXgpKXtyZXR1cm4gYS52aWV3SW5kZXh9cmV0dXJuIHRoaXMuYWxsLmluZGV4T2YoYSl9LG9uRGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5hbGwuY2xlYXIoKTthLmNhbGxQYXJlbnQoKTthLmJpbmRTdG9yZShudWxsKTthLnNlbE1vZGVsLmRlc3Ryb3koKX0sb25JdGVtU2VsZWN0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZ2V0Tm9kZShhKTtpZihiKXtFeHQuZmx5KGIpLmFkZENscyh0aGlzLnNlbGVjdGVkSXRlbUNscyl9fSxvbkl0ZW1EZXNlbGVjdDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdldE5vZGUoYSk7aWYoYil7RXh0LmZseShiKS5yZW1vdmVDbHModGhpcy5zZWxlY3RlZEl0ZW1DbHMpfX0sZ2V0SXRlbVNlbGVjdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaXRlbVNlbGVjdG9yfX0sZnVuY3Rpb24oKXtFeHQuZGVwcmVjYXRlKCJleHRqcyIsIjQuMCIsZnVuY3Rpb24oKXtFeHQudmlldy5BYnN0cmFjdFZpZXcub3ZlcnJpZGUoe2dldFNlbGVjdGlvbkNvdW50OmZ1bmN0aW9uKCl7aWYoRXh0Lmdsb2JhbC5jb25zb2xlKXtFeHQuZ2xvYmFsLmNvbnNvbGUud2FybigiRGF0YVZpZXc6IGdldFNlbGVjdGlvbkNvdW50IHdpbGwgYmUgcmVtb3ZlZCwgcGxlYXNlIGludGVyYWN0IHdpdGggdGhlIEV4dC5zZWxlY3Rpb24uRGF0YVZpZXdNb2RlbCIpfXJldHVybiB0aGlzLnNlbE1vZGVsLmdldFNlbGVjdGlvbigpLmxlbmd0aH0sZ2V0U2VsZWN0ZWRSZWNvcmRzOmZ1bmN0aW9uKCl7aWYoRXh0Lmdsb2JhbC5jb25zb2xlKXtFeHQuZ2xvYmFsLmNvbnNvbGUud2FybigiRGF0YVZpZXc6IGdldFNlbGVjdGVkUmVjb3JkcyB3aWxsIGJlIHJlbW92ZWQsIHBsZWFzZSBpbnRlcmFjdCB3aXRoIHRoZSBFeHQuc2VsZWN0aW9uLkRhdGFWaWV3TW9kZWwiKX1yZXR1cm4gdGhpcy5zZWxNb2RlbC5nZXRTZWxlY3Rpb24oKX0sc2VsZWN0OmZ1bmN0aW9uKGEsYixkKXtpZihFeHQuZ2xvYmFsLmNvbnNvbGUpe0V4dC5nbG9iYWwuY29uc29sZS53YXJuKCJEYXRhVmlldzogc2VsZWN0IHdpbGwgYmUgcmVtb3ZlZCwgcGxlYXNlIGFjY2VzcyBzZWxlY3QgdGhyb3VnaCBhIERhdGFWaWV3J3MgU2VsZWN0aW9uTW9kZWwsIGllOiB2aWV3LmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KCkiKX12YXIgYz10aGlzLmdldFNlbGVjdGlvbk1vZGVsKCk7cmV0dXJuIGMuc2VsZWN0LmFwcGx5KGMsYXJndW1lbnRzKX0sY2xlYXJTZWxlY3Rpb25zOmZ1bmN0aW9uKCl7aWYoRXh0Lmdsb2JhbC5jb25zb2xlKXtFeHQuZ2xvYmFsLmNvbnNvbGUud2FybigiRGF0YVZpZXc6IGNsZWFyU2VsZWN0aW9ucyB3aWxsIGJlIHJlbW92ZWQsIHBsZWFzZSBhY2Nlc3MgZGVzZWxlY3RBbGwgdGhyb3VnaCBEYXRhVmlldydzIFNlbGVjdGlvbk1vZGVsLCBpZTogdmlldy5nZXRTZWxlY3Rpb25Nb2RlbCgpLmRlc2VsZWN0QWxsKCkiKX12YXIgYT10aGlzLmdldFNlbGVjdGlvbk1vZGVsKCk7cmV0dXJuIGEuZGVzZWxlY3RBbGwoKX19KX0pfSk7RXh0LmRlZmluZSgiRXh0LlNoYWRvdyIse3JlcXVpcmVzOlsiRXh0LlNoYWRvd1Bvb2wiXSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGQsZSxhO0V4dC5hcHBseShjLGIpO2lmKCFFeHQuaXNTdHJpbmcoYy5tb2RlKSl7Yy5tb2RlPWMuZGVmYXVsdE1vZGV9ZT1jLm9mZnNldDthPU1hdGguZmxvb3IoZS8yKTtjLm9wYWNpdHk9NTA7c3dpdGNoKGMubW9kZS50b0xvd2VyQ2FzZSgpKXtjYXNlImRyb3AiOmlmKEV4dC5zdXBwb3J0cy5DU1MzQm94U2hhZG93KXtkPXt0OmUsbDplLGg6LWUsdzotZX19ZWxzZXtkPXt0Oi1hLGw6LWEsaDotYSx3Oi1hfX1icmVhaztjYXNlInNpZGVzIjppZihFeHQuc3VwcG9ydHMuQ1NTM0JveFNoYWRvdyl7ZD17dDplLGw6MCxoOi1lLHc6MH19ZWxzZXtkPXt0Oi0oMSthKSxsOjErYS0yKmUsaDotMSx3OmEtMX19YnJlYWs7Y2FzZSJmcmFtZSI6aWYoRXh0LnN1cHBvcnRzLkNTUzNCb3hTaGFkb3cpe2Q9e3Q6MCxsOjAsaDowLHc6MH19ZWxzZXtkPXt0OjErYS0yKmUsbDoxK2EtMiplLGg6ZS1hLTEsdzplLWEtMX19YnJlYWt9Yy5hZGp1c3RzPWR9LG9mZnNldDo0LGRlZmF1bHRNb2RlOiJkcm9wIixib3hTaGFkb3dQcm9wZXJ0eTooZnVuY3Rpb24oKXt2YXIgYj0iYm94U2hhZG93IixhPWRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZTtpZighKCJib3hTaGFkb3ciIGluIGEpKXtpZigiV2Via2l0Qm94U2hhZG93IiBpbiBhKXtiPSJXZWJraXRCb3hTaGFkb3cifWVsc2V7aWYoIk1vekJveFNoYWRvdyIgaW4gYSl7Yj0iTW96Qm94U2hhZG93In19fXJldHVybiBifSgpKSxzaG93OmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYTtjPUV4dC5nZXQoYyk7aWYoIWIuZWwpe2IuZWw9RXh0LlNoYWRvd1Bvb2wucHVsbCgpO2lmKGIuZWwuZG9tLm5leHRTaWJsaW5nIT1jLmRvbSl7Yi5lbC5pbnNlcnRCZWZvcmUoYyl9fWE9KHBhcnNlSW50KGMuZ2V0U3R5bGUoInotaW5kZXgiKSwxMCktMSl8fDA7Yi5lbC5zZXRTdHlsZSgiei1pbmRleCIsYi56SW5kZXh8fGEpO2lmKEV4dC5pc0lFJiYhRXh0LnN1cHBvcnRzLkNTUzNCb3hTaGFkb3cpe2IuZWwuZG9tLnN0eWxlLmZpbHRlcj0icHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LmFscGhhKG9wYWNpdHk9IitiLm9wYWNpdHkrIikgcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkJsdXIocGl4ZWxyYWRpdXM9IisoYi5vZmZzZXQpKyIpIn1iLnJlYWxpZ24oYy5nZXRMZWZ0KHRydWUpLGMuZ2V0VG9wKHRydWUpLGMuZG9tLm9mZnNldFdpZHRoLGMuZG9tLm9mZnNldEhlaWdodCk7Yi5lbC5kb20uc3R5bGUuZGlzcGxheT0iYmxvY2sifSxpc1Zpc2libGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbD90cnVlOmZhbHNlfSxyZWFsaWduOmZ1bmN0aW9uKGIsbixrLGcpe2lmKCF0aGlzLmVsKXtyZXR1cm59dmFyIGE9dGhpcy5hZGp1c3RzLGk9dGhpcy5lbC5kb20saj1pLnN0eWxlLGMsZSxoLG07ai5sZWZ0PShiK2EubCkrInB4IjtqLnRvcD0obithLnQpKyJweCI7Yz1NYXRoLm1heChrK2EudywwKTtlPU1hdGgubWF4KGcrYS5oLDApO2g9YysicHgiO209ZSsicHgiO2lmKGoud2lkdGghPWh8fGouaGVpZ2h0IT1tKXtqLndpZHRoPWg7ai5oZWlnaHQ9bTtpZihFeHQuc3VwcG9ydHMuQ1NTM0JveFNoYWRvdyl7alt0aGlzLmJveFNoYWRvd1Byb3BlcnR5XT0iMCAwICIrdGhpcy5vZmZzZXQrInB4ICM4ODgifX19LGhpZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuZWwpe2EuZWwuZG9tLnN0eWxlLmRpc3BsYXk9Im5vbmUiO0V4dC5TaGFkb3dQb29sLnB1c2goYS5lbCk7ZGVsZXRlIGEuZWx9fSxzZXRaSW5kZXg6ZnVuY3Rpb24oYSl7dGhpcy56SW5kZXg9YTtpZih0aGlzLmVsKXt0aGlzLmVsLnNldFN0eWxlKCJ6LWluZGV4IixhKX19LHNldE9wYWNpdHk6ZnVuY3Rpb24oYSl7aWYodGhpcy5lbCl7aWYoRXh0LmlzSUUmJiFFeHQuc3VwcG9ydHMuQ1NTM0JveFNoYWRvdyl7YT1NYXRoLmZsb29yKGEqMTAwLzIpLzEwMH10aGlzLm9wYWNpdHk9YTt0aGlzLmVsLnNldE9wYWNpdHkoYSl9fX0pO0V4dC5kZWZpbmUoIkV4dC5kZC5EcmFnRHJvcCIse3JlcXVpcmVzOlsiRXh0LmRkLkRyYWdEcm9wTWFuYWdlciJdLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGMsYSxiKXtpZihjKXt0aGlzLmluaXQoYyxhLGIpfX0saWQ6bnVsbCxjb25maWc6bnVsbCxkcmFnRWxJZDpudWxsLGhhbmRsZUVsSWQ6bnVsbCxpbnZhbGlkSGFuZGxlVHlwZXM6bnVsbCxpbnZhbGlkSGFuZGxlSWRzOm51bGwsaW52YWxpZEhhbmRsZUNsYXNzZXM6bnVsbCxzdGFydFBhZ2VYOjAsc3RhcnRQYWdlWTowLGdyb3VwczpudWxsLGxvY2tlZDpmYWxzZSxsb2NrOmZ1bmN0aW9uKCl7dGhpcy5sb2NrZWQ9dHJ1ZX0sbW92ZU9ubHk6ZmFsc2UsdW5sb2NrOmZ1bmN0aW9uKCl7dGhpcy5sb2NrZWQ9ZmFsc2V9LGlzVGFyZ2V0OnRydWUscGFkZGluZzpudWxsLF9kb21SZWY6bnVsbCxfX3lnRHJhZ0Ryb3A6dHJ1ZSxjb25zdHJhaW5YOmZhbHNlLGNvbnN0cmFpblk6ZmFsc2UsbWluWDowLG1heFg6MCxtaW5ZOjAsbWF4WTowLG1haW50YWluT2Zmc2V0OmZhbHNlLHhUaWNrczpudWxsLHlUaWNrczpudWxsLHByaW1hcnlCdXR0b25Pbmx5OnRydWUsYXZhaWxhYmxlOmZhbHNlLGhhc091dGVySGFuZGxlczpmYWxzZSxiNFN0YXJ0RHJhZzpmdW5jdGlvbihhLGIpe30sc3RhcnREcmFnOmZ1bmN0aW9uKGEsYil7fSxiNERyYWc6ZnVuY3Rpb24oYSl7fSxvbkRyYWc6ZnVuY3Rpb24oYSl7fSxvbkRyYWdFbnRlcjpmdW5jdGlvbihhLGIpe30sYjREcmFnT3ZlcjpmdW5jdGlvbihhKXt9LG9uRHJhZ092ZXI6ZnVuY3Rpb24oYSxiKXt9LGI0RHJhZ091dDpmdW5jdGlvbihhKXt9LG9uRHJhZ091dDpmdW5jdGlvbihhLGIpe30sYjREcmFnRHJvcDpmdW5jdGlvbihhKXt9LG9uRHJhZ0Ryb3A6ZnVuY3Rpb24oYSxiKXt9LG9uSW52YWxpZERyb3A6ZnVuY3Rpb24oYSl7fSxiNEVuZERyYWc6ZnVuY3Rpb24oYSl7fSxlbmREcmFnOmZ1bmN0aW9uKGEpe30sYjRNb3VzZURvd246ZnVuY3Rpb24oYSl7fSxvbk1vdXNlRG93bjpmdW5jdGlvbihhKXt9LG9uTW91c2VVcDpmdW5jdGlvbihhKXt9LG9uQXZhaWxhYmxlOmZ1bmN0aW9uKCl7fSxkZWZhdWx0UGFkZGluZzp7bGVmdDowLHJpZ2h0OjAsdG9wOjAsYm90dG9tOjB9LGNvbnN0cmFpblRvOmZ1bmN0aW9uKGksZyxuKXtpZihFeHQuaXNOdW1iZXIoZykpe2c9e2xlZnQ6ZyxyaWdodDpnLHRvcDpnLGJvdHRvbTpnfX1nPWd8fHRoaXMuZGVmYXVsdFBhZGRpbmc7dmFyIGs9RXh0LmdldCh0aGlzLmdldEVsKCkpLmdldEJveCgpLGE9RXh0LmdldChpKSxtPWEuZ2V0U2Nyb2xsKCksaixkPWEuZG9tLGwsaCxlO2lmKGQ9PWRvY3VtZW50LmJvZHkpe2o9e3g6bS5sZWZ0LHk6bS50b3Asd2lkdGg6RXh0LkVsZW1lbnQuZ2V0Vmlld1dpZHRoKCksaGVpZ2h0OkV4dC5FbGVtZW50LmdldFZpZXdIZWlnaHQoKX19ZWxzZXtsPWEuZ2V0WFkoKTtqPXt4OmxbMF0seTpsWzFdLHdpZHRoOmQuY2xpZW50V2lkdGgsaGVpZ2h0OmQuY2xpZW50SGVpZ2h0fX1oPWsueS1qLnk7ZT1rLngtai54O3RoaXMucmVzZXRDb25zdHJhaW50cygpO3RoaXMuc2V0WENvbnN0cmFpbnQoZS0oZy5sZWZ0fHwwKSxqLndpZHRoLWUtay53aWR0aC0oZy5yaWdodHx8MCksdGhpcy54VGlja1NpemUpO3RoaXMuc2V0WUNvbnN0cmFpbnQoaC0oZy50b3B8fDApLGouaGVpZ2h0LWgtay5oZWlnaHQtKGcuYm90dG9tfHwwKSx0aGlzLnlUaWNrU2l6ZSl9LGdldEVsOmZ1bmN0aW9uKCl7aWYoIXRoaXMuX2RvbVJlZil7dGhpcy5fZG9tUmVmPUV4dC5nZXREb20odGhpcy5pZCl9cmV0dXJuIHRoaXMuX2RvbVJlZn0sZ2V0RHJhZ0VsOmZ1bmN0aW9uKCl7cmV0dXJuIEV4dC5nZXREb20odGhpcy5kcmFnRWxJZCl9LGluaXQ6ZnVuY3Rpb24oYyxhLGIpe3RoaXMuaW5pdFRhcmdldChjLGEsYik7RXh0LkV2ZW50TWFuYWdlci5vbih0aGlzLmlkLCJtb3VzZWRvd24iLHRoaXMuaGFuZGxlTW91c2VEb3duLHRoaXMpfSxpbml0VGFyZ2V0OmZ1bmN0aW9uKGMsYSxiKXt0aGlzLmNvbmZpZz1ifHx7fTt0aGlzLkRETUluc3RhbmNlPUV4dC5kZC5EcmFnRHJvcE1hbmFnZXI7dGhpcy5ncm91cHM9e307aWYodHlwZW9mIGMhPT0ic3RyaW5nIil7Yz1FeHQuaWQoYyl9dGhpcy5pZD1jO3RoaXMuYWRkVG9Hcm91cCgoYSk/YToiZGVmYXVsdCIpO3RoaXMuaGFuZGxlRWxJZD1jO3RoaXMuc2V0RHJhZ0VsSWQoYyk7dGhpcy5pbnZhbGlkSGFuZGxlVHlwZXM9e0E6IkEifTt0aGlzLmludmFsaWRIYW5kbGVJZHM9e307dGhpcy5pbnZhbGlkSGFuZGxlQ2xhc3Nlcz1bXTt0aGlzLmFwcGx5Q29uZmlnKCk7dGhpcy5oYW5kbGVPbkF2YWlsYWJsZSgpfSxhcHBseUNvbmZpZzpmdW5jdGlvbigpe3RoaXMucGFkZGluZz10aGlzLmNvbmZpZy5wYWRkaW5nfHxbMCwwLDAsMF07dGhpcy5pc1RhcmdldD0odGhpcy5jb25maWcuaXNUYXJnZXQhPT1mYWxzZSk7dGhpcy5tYWludGFpbk9mZnNldD0odGhpcy5jb25maWcubWFpbnRhaW5PZmZzZXQpO3RoaXMucHJpbWFyeUJ1dHRvbk9ubHk9KHRoaXMuY29uZmlnLnByaW1hcnlCdXR0b25Pbmx5IT09ZmFsc2UpfSxoYW5kbGVPbkF2YWlsYWJsZTpmdW5jdGlvbigpe3RoaXMuYXZhaWxhYmxlPXRydWU7dGhpcy5yZXNldENvbnN0cmFpbnRzKCk7dGhpcy5vbkF2YWlsYWJsZSgpfSxzZXRQYWRkaW5nOmZ1bmN0aW9uKGMsYSxkLGIpe2lmKCFhJiYwIT09YSl7dGhpcy5wYWRkaW5nPVtjLGMsYyxjXX1lbHNle2lmKCFkJiYwIT09ZCl7dGhpcy5wYWRkaW5nPVtjLGEsYyxhXX1lbHNle3RoaXMucGFkZGluZz1bYyxhLGQsYl19fX0sc2V0SW5pdFBvc2l0aW9uOmZ1bmN0aW9uKGQsYyl7dmFyIGU9dGhpcy5nZXRFbCgpLGIsYSxnO2lmKCF0aGlzLkRETUluc3RhbmNlLnZlcmlmeUVsKGUpKXtyZXR1cm59Yj1kfHwwO2E9Y3x8MDtnPUV4dC5FbGVtZW50LmdldFhZKGUpO3RoaXMuaW5pdFBhZ2VYPWdbMF0tYjt0aGlzLmluaXRQYWdlWT1nWzFdLWE7dGhpcy5sYXN0UGFnZVg9Z1swXTt0aGlzLmxhc3RQYWdlWT1nWzFdO3RoaXMuc2V0U3RhcnRQb3NpdGlvbihnKX0sc2V0U3RhcnRQb3NpdGlvbjpmdW5jdGlvbihiKXt2YXIgYT1ifHxFeHQuRWxlbWVudC5nZXRYWSh0aGlzLmdldEVsKCkpO3RoaXMuZGVsdGFTZXRYWT1udWxsO3RoaXMuc3RhcnRQYWdlWD1hWzBdO3RoaXMuc3RhcnRQYWdlWT1hWzFdfSxhZGRUb0dyb3VwOmZ1bmN0aW9uKGEpe3RoaXMuZ3JvdXBzW2FdPXRydWU7dGhpcy5ERE1JbnN0YW5jZS5yZWdEcmFnRHJvcCh0aGlzLGEpfSxyZW1vdmVGcm9tR3JvdXA6ZnVuY3Rpb24oYSl7aWYodGhpcy5ncm91cHNbYV0pe2RlbGV0ZSB0aGlzLmdyb3Vwc1thXX10aGlzLkRETUluc3RhbmNlLnJlbW92ZURERnJvbUdyb3VwKHRoaXMsYSl9LHNldERyYWdFbElkOmZ1bmN0aW9uKGEpe3RoaXMuZHJhZ0VsSWQ9YX0sc2V0SGFuZGxlRWxJZDpmdW5jdGlvbihhKXtpZih0eXBlb2YgYSE9PSJzdHJpbmciKXthPUV4dC5pZChhKX10aGlzLmhhbmRsZUVsSWQ9YTt0aGlzLkRETUluc3RhbmNlLnJlZ0hhbmRsZSh0aGlzLmlkLGEpfSxzZXRPdXRlckhhbmRsZUVsSWQ6ZnVuY3Rpb24oYSl7aWYodHlwZW9mIGEhPT0ic3RyaW5nIil7YT1FeHQuaWQoYSl9RXh0LkV2ZW50TWFuYWdlci5vbihhLCJtb3VzZWRvd24iLHRoaXMuaGFuZGxlTW91c2VEb3duLHRoaXMpO3RoaXMuc2V0SGFuZGxlRWxJZChhKTt0aGlzLmhhc091dGVySGFuZGxlcz10cnVlfSx1bnJlZzpmdW5jdGlvbigpe0V4dC5FdmVudE1hbmFnZXIudW4odGhpcy5pZCwibW91c2Vkb3duIix0aGlzLmhhbmRsZU1vdXNlRG93bix0aGlzKTt0aGlzLl9kb21SZWY9bnVsbDt0aGlzLkRETUluc3RhbmNlLl9yZW1vdmUodGhpcyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnVucmVnKCl9LGlzTG9ja2VkOmZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuRERNSW5zdGFuY2UuaXNMb2NrZWQoKXx8dGhpcy5sb2NrZWQpfSxoYW5kbGVNb3VzZURvd246ZnVuY3Rpb24oYixhKXtpZih0aGlzLnByaW1hcnlCdXR0b25Pbmx5JiZiLmJ1dHRvbiE9MCl7cmV0dXJufWlmKHRoaXMuaXNMb2NrZWQoKSl7cmV0dXJufXRoaXMuRERNSW5zdGFuY2UucmVmcmVzaENhY2hlKHRoaXMuZ3JvdXBzKTtpZih0aGlzLmhhc091dGVySGFuZGxlc3x8dGhpcy5ERE1JbnN0YW5jZS5pc092ZXJUYXJnZXQoYi5nZXRQb2ludCgpLHRoaXMpKXtpZih0aGlzLmNsaWNrVmFsaWRhdG9yKGIpKXt0aGlzLnNldFN0YXJ0UG9zaXRpb24oKTt0aGlzLmI0TW91c2VEb3duKGIpO3RoaXMub25Nb3VzZURvd24oYik7dGhpcy5ERE1JbnN0YW5jZS5oYW5kbGVNb3VzZURvd24oYix0aGlzKTt0aGlzLkRETUluc3RhbmNlLnN0b3BFdmVudChiKX19fSxjbGlja1ZhbGlkYXRvcjpmdW5jdGlvbihiKXt2YXIgYT1iLmdldFRhcmdldCgpO3JldHVybih0aGlzLmlzVmFsaWRIYW5kbGVDaGlsZChhKSYmKHRoaXMuaWQ9PXRoaXMuaGFuZGxlRWxJZHx8dGhpcy5ERE1JbnN0YW5jZS5oYW5kbGVXYXNDbGlja2VkKGEsdGhpcy5pZCkpKX0sYWRkSW52YWxpZEhhbmRsZVR5cGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS50b1VwcGVyQ2FzZSgpO3RoaXMuaW52YWxpZEhhbmRsZVR5cGVzW2JdPWJ9LGFkZEludmFsaWRIYW5kbGVJZDpmdW5jdGlvbihhKXtpZih0eXBlb2YgYSE9PSJzdHJpbmciKXthPUV4dC5pZChhKX10aGlzLmludmFsaWRIYW5kbGVJZHNbYV09YX0sYWRkSW52YWxpZEhhbmRsZUNsYXNzOmZ1bmN0aW9uKGEpe3RoaXMuaW52YWxpZEhhbmRsZUNsYXNzZXMucHVzaChhKX0scmVtb3ZlSW52YWxpZEhhbmRsZVR5cGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS50b1VwcGVyQ2FzZSgpO2RlbGV0ZSB0aGlzLmludmFsaWRIYW5kbGVUeXBlc1tiXX0scmVtb3ZlSW52YWxpZEhhbmRsZUlkOmZ1bmN0aW9uKGEpe2lmKHR5cGVvZiBhIT09InN0cmluZyIpe2E9RXh0LmlkKGEpfWRlbGV0ZSB0aGlzLmludmFsaWRIYW5kbGVJZHNbYV19LHJlbW92ZUludmFsaWRIYW5kbGVDbGFzczpmdW5jdGlvbihiKXtmb3IodmFyIGM9MCxhPXRoaXMuaW52YWxpZEhhbmRsZUNsYXNzZXMubGVuZ3RoO2M8YTsrK2Mpe2lmKHRoaXMuaW52YWxpZEhhbmRsZUNsYXNzZXNbY109PWIpe2RlbGV0ZSB0aGlzLmludmFsaWRIYW5kbGVDbGFzc2VzW2NdfX19LGlzVmFsaWRIYW5kbGVDaGlsZDpmdW5jdGlvbihkKXt2YXIgYz10cnVlLGgsYixhO3RyeXtoPWQubm9kZU5hbWUudG9VcHBlckNhc2UoKX1jYXRjaChnKXtoPWQubm9kZU5hbWV9Yz1jJiYhdGhpcy5pbnZhbGlkSGFuZGxlVHlwZXNbaF07Yz1jJiYhdGhpcy5pbnZhbGlkSGFuZGxlSWRzW2QuaWRdO2ZvcihiPTAsYT10aGlzLmludmFsaWRIYW5kbGVDbGFzc2VzLmxlbmd0aDtjJiZiPGE7KytiKXtjPSFFeHQuZmx5KGQpLmhhc0Nscyh0aGlzLmludmFsaWRIYW5kbGVDbGFzc2VzW2JdKX1yZXR1cm4gY30sc2V0WFRpY2tzOmZ1bmN0aW9uKGQsYSl7dGhpcy54VGlja3M9W107dGhpcy54VGlja1NpemU9YTt2YXIgYz17fSxiO2ZvcihiPXRoaXMuaW5pdFBhZ2VYO2I+PXRoaXMubWluWDtiPWItYSl7aWYoIWNbYl0pe3RoaXMueFRpY2tzW3RoaXMueFRpY2tzLmxlbmd0aF09YjtjW2JdPXRydWV9fWZvcihiPXRoaXMuaW5pdFBhZ2VYO2I8PXRoaXMubWF4WDtiPWIrYSl7aWYoIWNbYl0pe3RoaXMueFRpY2tzW3RoaXMueFRpY2tzLmxlbmd0aF09YjtjW2JdPXRydWV9fUV4dC5BcnJheS5zb3J0KHRoaXMueFRpY2tzLHRoaXMuRERNSW5zdGFuY2UubnVtZXJpY1NvcnQpfSxzZXRZVGlja3M6ZnVuY3Rpb24oZCxhKXt0aGlzLnlUaWNrcz1bXTt0aGlzLnlUaWNrU2l6ZT1hO3ZhciBjPXt9LGI7Zm9yKGI9dGhpcy5pbml0UGFnZVk7Yj49dGhpcy5taW5ZO2I9Yi1hKXtpZighY1tiXSl7dGhpcy55VGlja3NbdGhpcy55VGlja3MubGVuZ3RoXT1iO2NbYl09dHJ1ZX19Zm9yKGI9dGhpcy5pbml0UGFnZVk7Yjw9dGhpcy5tYXhZO2I9YithKXtpZighY1tiXSl7dGhpcy55VGlja3NbdGhpcy55VGlja3MubGVuZ3RoXT1iO2NbYl09dHJ1ZX19RXh0LkFycmF5LnNvcnQodGhpcy55VGlja3MsdGhpcy5ERE1JbnN0YW5jZS5udW1lcmljU29ydCl9LHNldFhDb25zdHJhaW50OmZ1bmN0aW9uKGMsYixhKXt0aGlzLmxlZnRDb25zdHJhaW50PWM7dGhpcy5yaWdodENvbnN0cmFpbnQ9Yjt0aGlzLm1pblg9dGhpcy5pbml0UGFnZVgtYzt0aGlzLm1heFg9dGhpcy5pbml0UGFnZVgrYjtpZihhKXt0aGlzLnNldFhUaWNrcyh0aGlzLmluaXRQYWdlWCxhKX10aGlzLmNvbnN0cmFpblg9dHJ1ZX0sY2xlYXJDb25zdHJhaW50czpmdW5jdGlvbigpe3RoaXMuY29uc3RyYWluWD1mYWxzZTt0aGlzLmNvbnN0cmFpblk9ZmFsc2U7dGhpcy5jbGVhclRpY2tzKCl9LGNsZWFyVGlja3M6ZnVuY3Rpb24oKXt0aGlzLnhUaWNrcz1udWxsO3RoaXMueVRpY2tzPW51bGw7dGhpcy54VGlja1NpemU9MDt0aGlzLnlUaWNrU2l6ZT0wfSxzZXRZQ29uc3RyYWludDpmdW5jdGlvbihhLGMsYil7dGhpcy50b3BDb25zdHJhaW50PWE7dGhpcy5ib3R0b21Db25zdHJhaW50PWM7dGhpcy5taW5ZPXRoaXMuaW5pdFBhZ2VZLWE7dGhpcy5tYXhZPXRoaXMuaW5pdFBhZ2VZK2M7aWYoYil7dGhpcy5zZXRZVGlja3ModGhpcy5pbml0UGFnZVksYil9dGhpcy5jb25zdHJhaW5ZPXRydWV9LHJlc2V0Q29uc3RyYWludHM6ZnVuY3Rpb24oKXtpZih0aGlzLmluaXRQYWdlWHx8dGhpcy5pbml0UGFnZVg9PT0wKXt2YXIgYj0odGhpcy5tYWludGFpbk9mZnNldCk/dGhpcy5sYXN0UGFnZVgtdGhpcy5pbml0UGFnZVg6MCxhPSh0aGlzLm1haW50YWluT2Zmc2V0KT90aGlzLmxhc3RQYWdlWS10aGlzLmluaXRQYWdlWTowO3RoaXMuc2V0SW5pdFBvc2l0aW9uKGIsYSl9ZWxzZXt0aGlzLnNldEluaXRQb3NpdGlvbigpfWlmKHRoaXMuY29uc3RyYWluWCl7dGhpcy5zZXRYQ29uc3RyYWludCh0aGlzLmxlZnRDb25zdHJhaW50LHRoaXMucmlnaHRDb25zdHJhaW50LHRoaXMueFRpY2tTaXplKX1pZih0aGlzLmNvbnN0cmFpblkpe3RoaXMuc2V0WUNvbnN0cmFpbnQodGhpcy50b3BDb25zdHJhaW50LHRoaXMuYm90dG9tQ29uc3RyYWludCx0aGlzLnlUaWNrU2l6ZSl9fSxnZXRUaWNrOmZ1bmN0aW9uKGgsZCl7aWYoIWQpe3JldHVybiBofWVsc2V7aWYoZFswXT49aCl7cmV0dXJuIGRbMF19ZWxzZXt2YXIgYixhLGMsZyxlO2ZvcihiPTAsYT1kLmxlbmd0aDtiPGE7KytiKXtjPWIrMTtpZihkW2NdJiZkW2NdPj1oKXtnPWgtZFtiXTtlPWRbY10taDtyZXR1cm4oZT5nKT9kW2JdOmRbY119fXJldHVybiBkW2QubGVuZ3RoLTFdfX19LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuKCJEcmFnRHJvcCAiK3RoaXMuaWQpfX0pO0V4dC5kZWZpbmUoIkV4dC5kZC5ERCIse2V4dGVuZDoiRXh0LmRkLkRyYWdEcm9wIixyZXF1aXJlczpbIkV4dC5kZC5EcmFnRHJvcE1hbmFnZXIiXSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihjLGEsYil7aWYoYyl7dGhpcy5pbml0KGMsYSxiKX19LHNjcm9sbDp0cnVlLGF1dG9PZmZzZXQ6ZnVuY3Rpb24oYyxiKXt2YXIgYT1jLXRoaXMuc3RhcnRQYWdlWCxkPWItdGhpcy5zdGFydFBhZ2VZO3RoaXMuc2V0RGVsdGEoYSxkKX0sc2V0RGVsdGE6ZnVuY3Rpb24oYixhKXt0aGlzLmRlbHRhWD1iO3RoaXMuZGVsdGFZPWF9LHNldERyYWdFbFBvczpmdW5jdGlvbihjLGIpe3ZhciBhPXRoaXMuZ2V0RHJhZ0VsKCk7dGhpcy5hbGlnbkVsV2l0aE1vdXNlKGEsYyxiKX0sYWxpZ25FbFdpdGhNb3VzZTpmdW5jdGlvbihiLGUsYyl7dmFyIGc9dGhpcy5nZXRUYXJnZXRDb29yZChlLGMpLGQ9Yi5kb20/YjpFeHQuZmx5KGIsIl9kZCIpLGw9ZC5nZXRTaXplKCksaT1FeHQuRWxlbWVudCxqLGEsayxoO2lmKCF0aGlzLmRlbHRhU2V0WFkpe2o9dGhpcy5jYWNoZWRWaWV3cG9ydFNpemU9e3dpZHRoOmkuZ2V0RG9jdW1lbnRXaWR0aCgpLGhlaWdodDppLmdldERvY3VtZW50SGVpZ2h0KCl9O2E9W01hdGgubWF4KDAsTWF0aC5taW4oZy54LGoud2lkdGgtbC53aWR0aCkpLE1hdGgubWF4KDAsTWF0aC5taW4oZy55LGouaGVpZ2h0LWwuaGVpZ2h0KSldO2Quc2V0WFkoYSk7az1kLmdldExlZnQodHJ1ZSk7aD1kLmdldFRvcCh0cnVlKTt0aGlzLmRlbHRhU2V0WFk9W2stZy54LGgtZy55XX1lbHNle2o9dGhpcy5jYWNoZWRWaWV3cG9ydFNpemU7ZC5zZXRMZWZ0VG9wKE1hdGgubWF4KDAsTWF0aC5taW4oZy54K3RoaXMuZGVsdGFTZXRYWVswXSxqLndpZHRoLWwud2lkdGgpKSxNYXRoLm1heCgwLE1hdGgubWluKGcueSt0aGlzLmRlbHRhU2V0WFlbMV0sai5oZWlnaHQtbC5oZWlnaHQpKSl9dGhpcy5jYWNoZVBvc2l0aW9uKGcueCxnLnkpO3RoaXMuYXV0b1Njcm9sbChnLngsZy55LGIub2Zmc2V0SGVpZ2h0LGIub2Zmc2V0V2lkdGgpO3JldHVybiBnfSxjYWNoZVBvc2l0aW9uOmZ1bmN0aW9uKGIsYSl7aWYoYil7dGhpcy5sYXN0UGFnZVg9Yjt0aGlzLmxhc3RQYWdlWT1hfWVsc2V7dmFyIGM9RXh0LkVsZW1lbnQuZ2V0WFkodGhpcy5nZXRFbCgpKTt0aGlzLmxhc3RQYWdlWD1jWzBdO3RoaXMubGFzdFBhZ2VZPWNbMV19fSxhdXRvU2Nyb2xsOmZ1bmN0aW9uKGwsayxlLG0pe2lmKHRoaXMuc2Nyb2xsKXt2YXIgbj1FeHQuRWxlbWVudC5nZXRWaWV3SGVpZ2h0KCksYj1FeHQuRWxlbWVudC5nZXRWaWV3V2lkdGgoKSxwPXRoaXMuRERNSW5zdGFuY2UuZ2V0U2Nyb2xsVG9wKCksZD10aGlzLkRETUluc3RhbmNlLmdldFNjcm9sbExlZnQoKSxqPWUrayxvPW0rbCxpPShuK3Atay10aGlzLmRlbHRhWSksZz0oYitkLWwtdGhpcy5kZWx0YVgpLGM9NDAsYT0oZG9jdW1lbnQuYWxsKT84MDozMDtpZihqPm4mJmk8Yyl7d2luZG93LnNjcm9sbFRvKGQscCthKX1pZihrPHAmJnA+MCYmay1wPGMpe3dpbmRvdy5zY3JvbGxUbyhkLHAtYSl9aWYobz5iJiZnPGMpe3dpbmRvdy5zY3JvbGxUbyhkK2EscCl9aWYobDxkJiZkPjAmJmwtZDxjKXt3aW5kb3cuc2Nyb2xsVG8oZC1hLHApfX19LGdldFRhcmdldENvb3JkOmZ1bmN0aW9uKGMsYil7dmFyIGE9Yy10aGlzLmRlbHRhWCxkPWItdGhpcy5kZWx0YVk7aWYodGhpcy5jb25zdHJhaW5YKXtpZihhPHRoaXMubWluWCl7YT10aGlzLm1pblh9aWYoYT50aGlzLm1heFgpe2E9dGhpcy5tYXhYfX1pZih0aGlzLmNvbnN0cmFpblkpe2lmKGQ8dGhpcy5taW5ZKXtkPXRoaXMubWluWX1pZihkPnRoaXMubWF4WSl7ZD10aGlzLm1heFl9fWE9dGhpcy5nZXRUaWNrKGEsdGhpcy54VGlja3MpO2Q9dGhpcy5nZXRUaWNrKGQsdGhpcy55VGlja3MpO3JldHVybnt4OmEseTpkfX0sYXBwbHlDb25maWc6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoKTt0aGlzLnNjcm9sbD0odGhpcy5jb25maWcuc2Nyb2xsIT09ZmFsc2UpfSxiNE1vdXNlRG93bjpmdW5jdGlvbihhKXt0aGlzLmF1dG9PZmZzZXQoYS5nZXRQYWdlWCgpLGEuZ2V0UGFnZVkoKSl9LGI0RHJhZzpmdW5jdGlvbihhKXt0aGlzLnNldERyYWdFbFBvcyhhLmdldFBhZ2VYKCksYS5nZXRQYWdlWSgpKX0sdG9TdHJpbmc6ZnVuY3Rpb24oKXtyZXR1cm4oIkREICIrdGhpcy5pZCl9fSk7RXh0LmRlZmluZSgiRXh0LmRkLkREUHJveHkiLHtleHRlbmQ6IkV4dC5kZC5ERCIsc3RhdGljczp7ZHJhZ0VsSWQ6InlnZGRmZGl2In0sY29uc3RydWN0b3I6ZnVuY3Rpb24oYyxhLGIpe2lmKGMpe3RoaXMuaW5pdChjLGEsYik7dGhpcy5pbml0RnJhbWUoKX19LHJlc2l6ZUZyYW1lOnRydWUsY2VudGVyRnJhbWU6ZmFsc2UsY3JlYXRlRnJhbWU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9ZG9jdW1lbnQuYm9keSxkLGM7aWYoIWF8fCFhLmZpcnN0Q2hpbGQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmNyZWF0ZUZyYW1lKCl9LDUwKTtyZXR1cm59ZD10aGlzLmdldERyYWdFbCgpO2lmKCFkKXtkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2QuaWQ9dGhpcy5kcmFnRWxJZDtjPWQuc3R5bGU7Yy5wb3NpdGlvbj0iYWJzb2x1dGUiO2MudmlzaWJpbGl0eT0iaGlkZGVuIjtjLmN1cnNvcj0ibW92ZSI7Yy5ib3JkZXI9IjJweCBzb2xpZCAjYWFhIjtjLnpJbmRleD05OTk7YS5pbnNlcnRCZWZvcmUoZCxhLmZpcnN0Q2hpbGQpfX0saW5pdEZyYW1lOmZ1bmN0aW9uKCl7dGhpcy5jcmVhdGVGcmFtZSgpfSxhcHBseUNvbmZpZzpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudCgpO3RoaXMucmVzaXplRnJhbWU9KHRoaXMuY29uZmlnLnJlc2l6ZUZyYW1lIT09ZmFsc2UpO3RoaXMuY2VudGVyRnJhbWU9KHRoaXMuY29uZmlnLmNlbnRlckZyYW1lKTt0aGlzLnNldERyYWdFbElkKHRoaXMuY29uZmlnLmRyYWdFbElkfHxFeHQuZGQuRERQcm94eS5kcmFnRWxJZCl9LHNob3dGcmFtZTpmdW5jdGlvbihlLGQpe3ZhciBjPXRoaXMuZ2V0RWwoKSxhPXRoaXMuZ2V0RHJhZ0VsKCksYj1hLnN0eWxlO3RoaXMuX3Jlc2l6ZVByb3h5KCk7aWYodGhpcy5jZW50ZXJGcmFtZSl7dGhpcy5zZXREZWx0YShNYXRoLnJvdW5kKHBhcnNlSW50KGIud2lkdGgsMTApLzIpLE1hdGgucm91bmQocGFyc2VJbnQoYi5oZWlnaHQsMTApLzIpKX10aGlzLnNldERyYWdFbFBvcyhlLGQpO0V4dC5mbHkoYSkuc2hvdygpfSxfcmVzaXplUHJveHk6ZnVuY3Rpb24oKXtpZih0aGlzLnJlc2l6ZUZyYW1lKXt2YXIgYT10aGlzLmdldEVsKCk7RXh0LmZseSh0aGlzLmdldERyYWdFbCgpKS5zZXRTaXplKGEub2Zmc2V0V2lkdGgsYS5vZmZzZXRIZWlnaHQpfX0sYjRNb3VzZURvd246ZnVuY3Rpb24oYil7dmFyIGE9Yi5nZXRQYWdlWCgpLGM9Yi5nZXRQYWdlWSgpO3RoaXMuYXV0b09mZnNldChhLGMpO3RoaXMuc2V0RHJhZ0VsUG9zKGEsYyl9LGI0U3RhcnREcmFnOmZ1bmN0aW9uKGEsYil7dGhpcy5zaG93RnJhbWUoYSxiKX0sYjRFbmREcmFnOmZ1bmN0aW9uKGEpe0V4dC5mbHkodGhpcy5nZXREcmFnRWwoKSkuaGlkZSgpfSxlbmREcmFnOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMuZ2V0RWwoKSxhPXRoaXMuZ2V0RHJhZ0VsKCk7YS5zdHlsZS52aXNpYmlsaXR5PSIiO3RoaXMuYmVmb3JlTW92ZSgpO2Iuc3R5bGUudmlzaWJpbGl0eT0iaGlkZGVuIjtFeHQuZGQuRERNLm1vdmVUb0VsKGIsYSk7YS5zdHlsZS52aXNpYmlsaXR5PSJoaWRkZW4iO2Iuc3R5bGUudmlzaWJpbGl0eT0iIjt0aGlzLmFmdGVyRHJhZygpfSxiZWZvcmVNb3ZlOmZ1bmN0aW9uKCl7fSxhZnRlckRyYWc6ZnVuY3Rpb24oKXt9LHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuKCJERFByb3h5ICIrdGhpcy5pZCl9fSk7RXh0LmRlZmluZSgiRXh0LmRkLkREVGFyZ2V0Iix7ZXh0ZW5kOiJFeHQuZGQuRHJhZ0Ryb3AiLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGMsYSxiKXtpZihjKXt0aGlzLmluaXRUYXJnZXQoYyxhLGIpfX0sZ2V0RHJhZ0VsOkV4dC5lbXB0eUZuLGlzVmFsaWRIYW5kbGVDaGlsZDpFeHQuZW1wdHlGbixzdGFydERyYWc6RXh0LmVtcHR5Rm4sZW5kRHJhZzpFeHQuZW1wdHlGbixvbkRyYWc6RXh0LmVtcHR5Rm4sb25EcmFnRHJvcDpFeHQuZW1wdHlGbixvbkRyYWdFbnRlcjpFeHQuZW1wdHlGbixvbkRyYWdPdXQ6RXh0LmVtcHR5Rm4sb25EcmFnT3ZlcjpFeHQuZW1wdHlGbixvbkludmFsaWREcm9wOkV4dC5lbXB0eUZuLG9uTW91c2VEb3duOkV4dC5lbXB0eUZuLG9uTW91c2VVcDpFeHQuZW1wdHlGbixzZXRYQ29uc3RyYWludDpFeHQuZW1wdHlGbixzZXRZQ29uc3RyYWludDpFeHQuZW1wdHlGbixyZXNldENvbnN0cmFpbnRzOkV4dC5lbXB0eUZuLGNsZWFyQ29uc3RyYWludHM6RXh0LmVtcHR5Rm4sY2xlYXJUaWNrczpFeHQuZW1wdHlGbixzZXRJbml0UG9zaXRpb246RXh0LmVtcHR5Rm4sc2V0RHJhZ0VsSWQ6RXh0LmVtcHR5Rm4sc2V0SGFuZGxlRWxJZDpFeHQuZW1wdHlGbixzZXRPdXRlckhhbmRsZUVsSWQ6RXh0LmVtcHR5Rm4sYWRkSW52YWxpZEhhbmRsZUNsYXNzOkV4dC5lbXB0eUZuLGFkZEludmFsaWRIYW5kbGVJZDpFeHQuZW1wdHlGbixhZGRJbnZhbGlkSGFuZGxlVHlwZTpFeHQuZW1wdHlGbixyZW1vdmVJbnZhbGlkSGFuZGxlQ2xhc3M6RXh0LmVtcHR5Rm4scmVtb3ZlSW52YWxpZEhhbmRsZUlkOkV4dC5lbXB0eUZuLHJlbW92ZUludmFsaWRIYW5kbGVUeXBlOkV4dC5lbXB0eUZuLHRvU3RyaW5nOmZ1bmN0aW9uKCl7cmV0dXJuKCJERFRhcmdldCAiK3RoaXMuaWQpfX0pO0V4dC5kZWZpbmUoIkV4dC5kZC5Ecm9wVGFyZ2V0Iix7ZXh0ZW5kOiJFeHQuZGQuRERUYXJnZXQiLHJlcXVpcmVzOlsiRXh0LmRkLlNjcm9sbE1hbmFnZXIiXSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihiLGEpe3RoaXMuZWw9RXh0LmdldChiKTtFeHQuYXBwbHkodGhpcyxhKTtpZih0aGlzLmNvbnRhaW5lclNjcm9sbCl7RXh0LmRkLlNjcm9sbE1hbmFnZXIucmVnaXN0ZXIodGhpcy5lbCl9dGhpcy5jYWxsUGFyZW50KFt0aGlzLmVsLmRvbSx0aGlzLmRkR3JvdXB8fHRoaXMuZ3JvdXAse2lzVGFyZ2V0OnRydWV9XSl9LGRyb3BBbGxvd2VkOkV4dC5iYXNlQ1NTUHJlZml4KyJkZC1kcm9wLW9rIixkcm9wTm90QWxsb3dlZDpFeHQuYmFzZUNTU1ByZWZpeCsiZGQtZHJvcC1ub2Ryb3AiLGlzVGFyZ2V0OnRydWUsaXNOb3RpZnlUYXJnZXQ6dHJ1ZSxub3RpZnlFbnRlcjpmdW5jdGlvbihhLGMsYil7aWYodGhpcy5vdmVyQ2xhc3Mpe3RoaXMuZWwuYWRkQ2xzKHRoaXMub3ZlckNsYXNzKX1yZXR1cm4gdGhpcy5kcm9wQWxsb3dlZH0sbm90aWZ5T3ZlcjpmdW5jdGlvbihhLGMsYil7cmV0dXJuIHRoaXMuZHJvcEFsbG93ZWR9LG5vdGlmeU91dDpmdW5jdGlvbihhLGMsYil7aWYodGhpcy5vdmVyQ2xhc3Mpe3RoaXMuZWwucmVtb3ZlQ2xzKHRoaXMub3ZlckNsYXNzKX19LG5vdGlmeURyb3A6ZnVuY3Rpb24oYSxjLGIpe3JldHVybiBmYWxzZX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudCgpO2lmKHRoaXMuY29udGFpbmVyU2Nyb2xsKXtFeHQuZGQuU2Nyb2xsTWFuYWdlci51bnJlZ2lzdGVyKHRoaXMuZWwpfX19KTtFeHQuZGVmaW5lKCJFeHQuZGQuRHJvcFpvbmUiLHtleHRlbmQ6IkV4dC5kZC5Ecm9wVGFyZ2V0IixyZXF1aXJlczpbIkV4dC5kZC5SZWdpc3RyeSJdLGdldFRhcmdldEZyb21FdmVudDpmdW5jdGlvbihhKXtyZXR1cm4gRXh0LmRkLlJlZ2lzdHJ5LmdldFRhcmdldEZyb21FdmVudChhKX0sb25Ob2RlRW50ZXI6ZnVuY3Rpb24oZCxhLGMsYil7fSxvbk5vZGVPdmVyOmZ1bmN0aW9uKGQsYSxjLGIpe3JldHVybiB0aGlzLmRyb3BBbGxvd2VkfSxvbk5vZGVPdXQ6ZnVuY3Rpb24oZCxhLGMsYil7fSxvbk5vZGVEcm9wOmZ1bmN0aW9uKGQsYSxjLGIpe3JldHVybiBmYWxzZX0sb25Db250YWluZXJPdmVyOmZ1bmN0aW9uKGEsYyxiKXtyZXR1cm4gdGhpcy5kcm9wTm90QWxsb3dlZH0sb25Db250YWluZXJEcm9wOmZ1bmN0aW9uKGEsYyxiKXtyZXR1cm4gZmFsc2V9LG5vdGlmeUVudGVyOmZ1bmN0aW9uKGEsYyxiKXtyZXR1cm4gdGhpcy5kcm9wTm90QWxsb3dlZH0sbm90aWZ5T3ZlcjpmdW5jdGlvbihhLGMsYil7dmFyIGQ9dGhpcy5nZXRUYXJnZXRGcm9tRXZlbnQoYyk7aWYoIWQpe2lmKHRoaXMubGFzdE92ZXJOb2RlKXt0aGlzLm9uTm9kZU91dCh0aGlzLmxhc3RPdmVyTm9kZSxhLGMsYik7dGhpcy5sYXN0T3Zlck5vZGU9bnVsbH1yZXR1cm4gdGhpcy5vbkNvbnRhaW5lck92ZXIoYSxjLGIpfWlmKHRoaXMubGFzdE92ZXJOb2RlIT1kKXtpZih0aGlzLmxhc3RPdmVyTm9kZSl7dGhpcy5vbk5vZGVPdXQodGhpcy5sYXN0T3Zlck5vZGUsYSxjLGIpfXRoaXMub25Ob2RlRW50ZXIoZCxhLGMsYik7dGhpcy5sYXN0T3Zlck5vZGU9ZH1yZXR1cm4gdGhpcy5vbk5vZGVPdmVyKGQsYSxjLGIpfSxub3RpZnlPdXQ6ZnVuY3Rpb24oYSxjLGIpe2lmKHRoaXMubGFzdE92ZXJOb2RlKXt0aGlzLm9uTm9kZU91dCh0aGlzLmxhc3RPdmVyTm9kZSxhLGMsYik7dGhpcy5sYXN0T3Zlck5vZGU9bnVsbH19LG5vdGlmeURyb3A6ZnVuY3Rpb24oYSxjLGIpe2lmKHRoaXMubGFzdE92ZXJOb2RlKXt0aGlzLm9uTm9kZU91dCh0aGlzLmxhc3RPdmVyTm9kZSxhLGMsYik7dGhpcy5sYXN0T3Zlck5vZGU9bnVsbH12YXIgZD10aGlzLmdldFRhcmdldEZyb21FdmVudChjKTtyZXR1cm4gZD90aGlzLm9uTm9kZURyb3AoZCxhLGMsYik6dGhpcy5vbkNvbnRhaW5lckRyb3AoYSxjLGIpfSx0cmlnZ2VyQ2FjaGVSZWZyZXNoOmZ1bmN0aW9uKCl7RXh0LmRkLkRETS5yZWZyZXNoQ2FjaGUodGhpcy5ncm91cHMpfX0pO0V4dC5kZWZpbmUoIkV4dC5kZC5TdGF0dXNQcm94eSIse2V4dGVuZDoiRXh0LkNvbXBvbmVudCIsYW5pbVJlcGFpcjpmYWxzZSxjaGlsZEVsczpbImdob3N0Il0scmVuZGVyVHBsOlsnPGRpdiBjbGFzcz0iJytFeHQuYmFzZUNTU1ByZWZpeCsnZGQtZHJvcC1pY29uIj48L2Rpdj48ZGl2IGlkPSJ7aWR9LWdob3N0IiBjbGFzcz0iJytFeHQuYmFzZUNTU1ByZWZpeCsnZGQtZHJhZy1naG9zdCI+PC9kaXY+J10sY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczthPWF8fHt9O0V4dC5hcHBseShiLHtoaWRlTW9kZToidmlzaWJpbGl0eSIsaGlkZGVuOnRydWUsZmxvYXRpbmc6dHJ1ZSxpZDpiLmlkfHxFeHQuaWQoKSxjbHM6RXh0LmJhc2VDU1NQcmVmaXgrImRkLWRyYWctcHJveHkgIit0aGlzLmRyb3BOb3RBbGxvd2VkLHNoYWRvdzphLnNoYWRvd3x8ZmFsc2UscmVuZGVyVG86RXh0LmdldERldGFjaGVkQm9keSgpfSk7Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dGhpcy5kcm9wU3RhdHVzPXRoaXMuZHJvcE5vdEFsbG93ZWR9LGRyb3BBbGxvd2VkOkV4dC5iYXNlQ1NTUHJlZml4KyJkZC1kcm9wLW9rIixkcm9wTm90QWxsb3dlZDpFeHQuYmFzZUNTU1ByZWZpeCsiZGQtZHJvcC1ub2Ryb3AiLHNldFN0YXR1czpmdW5jdGlvbihhKXthPWF8fHRoaXMuZHJvcE5vdEFsbG93ZWQ7aWYodGhpcy5kcm9wU3RhdHVzIT1hKXt0aGlzLmVsLnJlcGxhY2VDbHModGhpcy5kcm9wU3RhdHVzLGEpO3RoaXMuZHJvcFN0YXR1cz1hfX0scmVzZXQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxhPUV4dC5iYXNlQ1NTUHJlZml4KyJkZC1kcmFnLXByb3h5ICI7Yy5lbC5yZXBsYWNlQ2xzKGErYy5kcm9wQWxsb3dlZCxhK2MuZHJvcE5vdEFsbG93ZWQpO2MuZHJvcFN0YXR1cz1jLmRyb3BOb3RBbGxvd2VkO2lmKGIpe2MuZ2hvc3QudXBkYXRlKCIiKX19LHVwZGF0ZTpmdW5jdGlvbihhKXtpZih0eXBlb2YgYT09InN0cmluZyIpe3RoaXMuZ2hvc3QudXBkYXRlKGEpfWVsc2V7dGhpcy5naG9zdC51cGRhdGUoIiIpO2Euc3R5bGUubWFyZ2luPSIwIjt0aGlzLmdob3N0LmRvbS5hcHBlbmRDaGlsZChhKX12YXIgYj10aGlzLmdob3N0LmRvbS5maXJzdENoaWxkO2lmKGIpe0V4dC5mbHkoYikuc2V0U3R5bGUoImZsb2F0Iiwibm9uZSIpfX0sZ2V0R2hvc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5naG9zdH0saGlkZTpmdW5jdGlvbihhKXt0aGlzLmNhbGxQYXJlbnQoKTtpZihhKXt0aGlzLnJlc2V0KHRydWUpfX0sc3RvcDpmdW5jdGlvbigpe2lmKHRoaXMuYW5pbSYmdGhpcy5hbmltLmlzQW5pbWF0ZWQmJnRoaXMuYW5pbS5pc0FuaW1hdGVkKCkpe3RoaXMuYW5pbS5zdG9wKCl9fSxzeW5jOmZ1bmN0aW9uKCl7dGhpcy5lbC5zeW5jKCl9LHJlcGFpcjpmdW5jdGlvbihjLGQsYSl7dmFyIGI9dGhpcztiLmNhbGxiYWNrPWQ7Yi5zY29wZT1hO2lmKGMmJmIuYW5pbVJlcGFpciE9PWZhbHNlKXtiLmVsLmFkZENscyhFeHQuYmFzZUNTU1ByZWZpeCsiZGQtZHJhZy1yZXBhaXIiKTtiLmVsLmhpZGVVbmRlcnModHJ1ZSk7Yi5hbmltPWIuZWwuYW5pbWF0ZSh7ZHVyYXRpb246Yi5yZXBhaXJEdXJhdGlvbnx8NTAwLGVhc2luZzoiZWFzZS1vdXQiLHRvOnt4OmNbMF0seTpjWzFdfSxzdG9wQW5pbWF0aW9uOnRydWUsY2FsbGJhY2s6Yi5hZnRlclJlcGFpcixzY29wZTpifSl9ZWxzZXtiLmFmdGVyUmVwYWlyKCl9fSxhZnRlclJlcGFpcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5oaWRlKHRydWUpO2EuZWwucmVtb3ZlQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJkZC1kcmFnLXJlcGFpciIpO2lmKHR5cGVvZiBhLmNhbGxiYWNrPT0iZnVuY3Rpb24iKXthLmNhbGxiYWNrLmNhbGwoYS5zY29wZXx8YSl9ZGVsZXRlIGEuY2FsbGJhY2s7ZGVsZXRlIGEuc2NvcGV9fSk7RXh0LmRlZmluZSgiRXh0LmRkLkRyYWdTb3VyY2UiLHtleHRlbmQ6IkV4dC5kZC5ERFByb3h5IixyZXF1aXJlczpbIkV4dC5kZC5TdGF0dXNQcm94eSIsIkV4dC5kZC5EcmFnRHJvcE1hbmFnZXIiXSxkcm9wQWxsb3dlZDpFeHQuYmFzZUNTU1ByZWZpeCsiZGQtZHJvcC1vayIsZHJvcE5vdEFsbG93ZWQ6RXh0LmJhc2VDU1NQcmVmaXgrImRkLWRyb3Atbm9kcm9wIixhbmltUmVwYWlyOnRydWUscmVwYWlySGlnaGxpZ2h0Q29sb3I6ImMzZGFmOSIsY29uc3RydWN0b3I6ZnVuY3Rpb24oYixhKXt0aGlzLmVsPUV4dC5nZXQoYik7aWYoIXRoaXMuZHJhZ0RhdGEpe3RoaXMuZHJhZ0RhdGE9e319RXh0LmFwcGx5KHRoaXMsYSk7aWYoIXRoaXMucHJveHkpe3RoaXMucHJveHk9bmV3IEV4dC5kZC5TdGF0dXNQcm94eSh7aWQ6dGhpcy5lbC5pZCsiLWRyYWctc3RhdHVzLXByb3h5IixhbmltUmVwYWlyOnRoaXMuYW5pbVJlcGFpcn0pfXRoaXMuY2FsbFBhcmVudChbdGhpcy5lbC5kb20sdGhpcy5kZEdyb3VwfHx0aGlzLmdyb3VwLHtkcmFnRWxJZDp0aGlzLnByb3h5LmlkLHJlc2l6ZUZyYW1lOmZhbHNlLGlzVGFyZ2V0OmZhbHNlLHNjcm9sbDp0aGlzLnNjcm9sbD09PXRydWV9XSk7dGhpcy5kcmFnZ2luZz1mYWxzZX0sZ2V0RHJhZ0RhdGE6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZHJhZ0RhdGF9LG9uRHJhZ0VudGVyOmZ1bmN0aW9uKGMsZCl7dmFyIGI9RXh0LmRkLkRyYWdEcm9wTWFuYWdlci5nZXREREJ5SWQoZCksYTt0aGlzLmNhY2hlZFRhcmdldD1iO2lmKHRoaXMuYmVmb3JlRHJhZ0VudGVyKGIsYyxkKSE9PWZhbHNlKXtpZihiLmlzTm90aWZ5VGFyZ2V0KXthPWIubm90aWZ5RW50ZXIodGhpcyxjLHRoaXMuZHJhZ0RhdGEpO3RoaXMucHJveHkuc2V0U3RhdHVzKGEpfWVsc2V7dGhpcy5wcm94eS5zZXRTdGF0dXModGhpcy5kcm9wQWxsb3dlZCl9aWYodGhpcy5hZnRlckRyYWdFbnRlcil7dGhpcy5hZnRlckRyYWdFbnRlcihiLGMsZCl9fX0sYmVmb3JlRHJhZ0VudGVyOmZ1bmN0aW9uKGIsYSxjKXtyZXR1cm4gdHJ1ZX0sb25EcmFnT3ZlcjpmdW5jdGlvbihjLGQpe3ZhciBiPXRoaXMuY2FjaGVkVGFyZ2V0fHxFeHQuZGQuRHJhZ0Ryb3BNYW5hZ2VyLmdldEREQnlJZChkKSxhO2lmKHRoaXMuYmVmb3JlRHJhZ092ZXIoYixjLGQpIT09ZmFsc2Upe2lmKGIuaXNOb3RpZnlUYXJnZXQpe2E9Yi5ub3RpZnlPdmVyKHRoaXMsYyx0aGlzLmRyYWdEYXRhKTt0aGlzLnByb3h5LnNldFN0YXR1cyhhKX1pZih0aGlzLmFmdGVyRHJhZ092ZXIpe3RoaXMuYWZ0ZXJEcmFnT3ZlcihiLGMsZCl9fX0sYmVmb3JlRHJhZ092ZXI6ZnVuY3Rpb24oYixhLGMpe3JldHVybiB0cnVlfSxvbkRyYWdPdXQ6ZnVuY3Rpb24oYixjKXt2YXIgYT10aGlzLmNhY2hlZFRhcmdldHx8RXh0LmRkLkRyYWdEcm9wTWFuYWdlci5nZXREREJ5SWQoYyk7aWYodGhpcy5iZWZvcmVEcmFnT3V0KGEsYixjKSE9PWZhbHNlKXtpZihhLmlzTm90aWZ5VGFyZ2V0KXthLm5vdGlmeU91dCh0aGlzLGIsdGhpcy5kcmFnRGF0YSl9dGhpcy5wcm94eS5yZXNldCgpO2lmKHRoaXMuYWZ0ZXJEcmFnT3V0KXt0aGlzLmFmdGVyRHJhZ091dChhLGIsYyl9fXRoaXMuY2FjaGVkVGFyZ2V0PW51bGx9LGJlZm9yZURyYWdPdXQ6ZnVuY3Rpb24oYixhLGMpe3JldHVybiB0cnVlfSxvbkRyYWdEcm9wOmZ1bmN0aW9uKGIsYyl7dmFyIGE9dGhpcy5jYWNoZWRUYXJnZXR8fEV4dC5kZC5EcmFnRHJvcE1hbmFnZXIuZ2V0RERCeUlkKGMpO2lmKHRoaXMuYmVmb3JlRHJhZ0Ryb3AoYSxiLGMpIT09ZmFsc2Upe2lmKGEuaXNOb3RpZnlUYXJnZXQpe2lmKGEubm90aWZ5RHJvcCh0aGlzLGIsdGhpcy5kcmFnRGF0YSkhPT1mYWxzZSl7dGhpcy5vblZhbGlkRHJvcChhLGIsYyl9ZWxzZXt0aGlzLm9uSW52YWxpZERyb3AoYSxiLGMpfX1lbHNle3RoaXMub25WYWxpZERyb3AoYSxiLGMpfWlmKHRoaXMuYWZ0ZXJEcmFnRHJvcCl7dGhpcy5hZnRlckRyYWdEcm9wKGEsYixjKX19ZGVsZXRlIHRoaXMuY2FjaGVkVGFyZ2V0fSxiZWZvcmVEcmFnRHJvcDpmdW5jdGlvbihiLGEsYyl7cmV0dXJuIHRydWV9LG9uVmFsaWREcm9wOmZ1bmN0aW9uKGIsYSxjKXt0aGlzLmhpZGVQcm94eSgpO2lmKHRoaXMuYWZ0ZXJWYWxpZERyb3Ape3RoaXMuYWZ0ZXJWYWxpZERyb3AoYixhLGMpfX0sZ2V0UmVwYWlyWFk6ZnVuY3Rpb24oYixhKXtyZXR1cm4gdGhpcy5lbC5nZXRYWSgpfSxvbkludmFsaWREcm9wOmZ1bmN0aW9uKGIsYSxjKXt0aGlzLmJlZm9yZUludmFsaWREcm9wKGIsYSxjKTtpZih0aGlzLmNhY2hlZFRhcmdldCl7aWYodGhpcy5jYWNoZWRUYXJnZXQuaXNOb3RpZnlUYXJnZXQpe3RoaXMuY2FjaGVkVGFyZ2V0Lm5vdGlmeU91dCh0aGlzLGEsdGhpcy5kcmFnRGF0YSl9dGhpcy5jYWNoZVRhcmdldD1udWxsfXRoaXMucHJveHkucmVwYWlyKHRoaXMuZ2V0UmVwYWlyWFkoYSx0aGlzLmRyYWdEYXRhKSx0aGlzLmFmdGVyUmVwYWlyLHRoaXMpO2lmKHRoaXMuYWZ0ZXJJbnZhbGlkRHJvcCl7dGhpcy5hZnRlckludmFsaWREcm9wKGEsYyl9fSxhZnRlclJlcGFpcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoRXh0LmVuYWJsZUZ4KXthLmVsLmhpZ2hsaWdodChhLnJlcGFpckhpZ2hsaWdodENvbG9yKX1hLmRyYWdnaW5nPWZhbHNlfSxiZWZvcmVJbnZhbGlkRHJvcDpmdW5jdGlvbihiLGEsYyl7cmV0dXJuIHRydWV9LGhhbmRsZU1vdXNlRG93bjpmdW5jdGlvbihiKXtpZih0aGlzLmRyYWdnaW5nKXtyZXR1cm59dmFyIGE9dGhpcy5nZXREcmFnRGF0YShiKTtpZihhJiZ0aGlzLm9uQmVmb3JlRHJhZyhhLGIpIT09ZmFsc2Upe3RoaXMuZHJhZ0RhdGE9YTt0aGlzLnByb3h5LnN0b3AoKTt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX19LG9uQmVmb3JlRHJhZzpmdW5jdGlvbihhLGIpe3JldHVybiB0cnVlfSxvblN0YXJ0RHJhZzpFeHQuZW1wdHlGbixhbGlnbkVsV2l0aE1vdXNlOmZ1bmN0aW9uKCl7dGhpcy5wcm94eS5lbnN1cmVBdHRhY2hlZFRvQm9keSh0cnVlKTtyZXR1cm4gdGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LHN0YXJ0RHJhZzpmdW5jdGlvbihhLGIpe3RoaXMucHJveHkucmVzZXQoKTt0aGlzLnByb3h5LmhpZGRlbj1mYWxzZTt0aGlzLmRyYWdnaW5nPXRydWU7dGhpcy5wcm94eS51cGRhdGUoIiIpO3RoaXMub25Jbml0RHJhZyhhLGIpO3RoaXMucHJveHkuc2hvdygpfSxvbkluaXREcmFnOmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5lbC5kb20uY2xvbmVOb2RlKHRydWUpO2IuaWQ9RXh0LmlkKCk7dGhpcy5wcm94eS51cGRhdGUoYik7dGhpcy5vblN0YXJ0RHJhZyhhLGMpO3JldHVybiB0cnVlfSxnZXRQcm94eTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3h5fSxoaWRlUHJveHk6ZnVuY3Rpb24oKXt0aGlzLnByb3h5LmhpZGUoKTt0aGlzLnByb3h5LnJlc2V0KHRydWUpO3RoaXMuZHJhZ2dpbmc9ZmFsc2V9LHRyaWdnZXJDYWNoZVJlZnJlc2g6ZnVuY3Rpb24oKXtFeHQuZGQuRERNLnJlZnJlc2hDYWNoZSh0aGlzLmdyb3Vwcyl9LGI0RW5kRHJhZzpmdW5jdGlvbihhKXt9LGVuZERyYWc6ZnVuY3Rpb24oYSl7dGhpcy5vbkVuZERyYWcodGhpcy5kcmFnRGF0YSxhKX0sb25FbmREcmFnOmZ1bmN0aW9uKGEsYil7fSxhdXRvT2Zmc2V0OmZ1bmN0aW9uKGEsYil7dGhpcy5zZXREZWx0YSgtMTIsLTIwKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudCgpO0V4dC5kZXN0cm95KHRoaXMucHJveHkpfX0pO0V4dC5kZWZpbmUoIkV4dC5kcmF3LlNwcml0ZUREIix7ZXh0ZW5kOiJFeHQuZGQuRHJhZ1NvdXJjZSIsY29uc3RydWN0b3I6ZnVuY3Rpb24oYixhKXt2YXIgZD10aGlzLGM9Yi5lbDtkLnNwcml0ZT1iO2QuZWw9YztkLmRyYWdEYXRhPXtlbDpjLHNwcml0ZTpifTtkLmNhbGxQYXJlbnQoW2MsYV0pO2Quc3ByaXRlLnNldFN0eWxlKCJjdXJzb3IiLCJtb3ZlIil9LHNob3dGcmFtZTpFeHQuZW1wdHlGbixjcmVhdGVGcmFtZTpFeHQuZW1wdHlGbixnZXREcmFnRWw6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWx9LGdldFJlZ2lvbjpmdW5jdGlvbigpe3ZhciBqPXRoaXMsZz1qLmVsLG0sZCxjLG8sbixzLGEsayxoLHEscDtwPWouc3ByaXRlO3E9cC5nZXRCQm94KCk7dHJ5e209RXh0LkVsZW1lbnQuZ2V0WFkoZyl9Y2F0Y2goaSl7fWlmKCFtKXtyZXR1cm4gbnVsbH1kPW1bMF07Yz1kK3Eud2lkdGg7bz1tWzFdO249bytxLmhlaWdodDtyZXR1cm4gbmV3IEV4dC51dGlsLlJlZ2lvbihvLGMsbixkKX0sc3RhcnREcmFnOmZ1bmN0aW9uKGIsZCl7dmFyIGM9dGhpcyxhPWMuc3ByaXRlLmF0dHI7Yy5wcmV2PWMuc3ByaXRlLnN1cmZhY2UudHJhbnNmb3JtVG9WaWV3Qm94KGIsZCl9LG9uRHJhZzpmdW5jdGlvbihpKXt2YXIgaD1pLmdldFhZKCksZz10aGlzLGQ9Zy5zcHJpdGUsYT1kLmF0dHIsYyxiO2g9Zy5zcHJpdGUuc3VyZmFjZS50cmFuc2Zvcm1Ub1ZpZXdCb3goaFswXSxoWzFdKTtjPWhbMF0tZy5wcmV2WzBdO2I9aFsxXS1nLnByZXZbMV07ZC5zZXRBdHRyaWJ1dGVzKHt0cmFuc2xhdGU6e3g6YS50cmFuc2xhdGlvbi54K2MseTphLnRyYW5zbGF0aW9uLnkrYn19LHRydWUpO2cucHJldj1ofSxzZXREcmFnRWxQb3M6ZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2V9fSk7RXh0LmRlZmluZSgiRXh0LmRyYXcuU3ByaXRlIix7bWl4aW5zOntvYnNlcnZhYmxlOiJFeHQudXRpbC5PYnNlcnZhYmxlIixhbmltYXRlOiJFeHQudXRpbC5BbmltYXRlIn0scmVxdWlyZXM6WyJFeHQuZHJhdy5TcHJpdGVERCJdLGRpcnR5OmZhbHNlLGRpcnR5SGlkZGVuOmZhbHNlLGRpcnR5VHJhbnNmb3JtOmZhbHNlLGRpcnR5UGF0aDp0cnVlLGRpcnR5Rm9udDp0cnVlLHpJbmRleERpcnR5OnRydWUsaXNTcHJpdGU6dHJ1ZSx6SW5kZXg6MCxmb250UHJvcGVydGllczpbImZvbnQiLCJmb250LXNpemUiLCJmb250LXdlaWdodCIsImZvbnQtc3R5bGUiLCJmb250LWZhbWlseSIsInRleHQtYW5jaG9yIiwidGV4dCJdLHBhdGhQcm9wZXJ0aWVzOlsieCIsInkiLCJkIiwicGF0aCIsImhlaWdodCIsIndpZHRoIiwicmFkaXVzIiwiciIsInJ4IiwicnkiLCJjeCIsImN5Il0sY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpczthPUV4dC5tZXJnZSh7fSxhfHx7fSk7Yi5pZD1FeHQuaWQobnVsbCwiZXh0LXNwcml0ZS0iKTtiLnRyYW5zZm9ybWF0aW9ucz1bXTtFeHQuY29weVRvKHRoaXMsYSwic3VyZmFjZSxncm91cCx0eXBlLGRyYWdnYWJsZSIpO2IuYmJveD17fTtiLmF0dHI9e3pJbmRleDowLHRyYW5zbGF0aW9uOnt4Om51bGwseTpudWxsfSxyb3RhdGlvbjp7ZGVncmVlczpudWxsLHg6bnVsbCx5Om51bGx9LHNjYWxpbmc6e3g6bnVsbCx5Om51bGwsY3g6bnVsbCxjeTpudWxsfX07ZGVsZXRlIGEuc3VyZmFjZTtkZWxldGUgYS5ncm91cDtkZWxldGUgYS50eXBlO2RlbGV0ZSBhLmRyYWdnYWJsZTtiLnNldEF0dHJpYnV0ZXMoYSk7Yi5hZGRFdmVudHMoImJlZm9yZWRlc3Ryb3kiLCJkZXN0cm95IiwicmVuZGVyIiwibW91c2Vkb3duIiwibW91c2V1cCIsIm1vdXNlb3ZlciIsIm1vdXNlb3V0IiwibW91c2Vtb3ZlIiwiY2xpY2siKTtiLm1peGlucy5vYnNlcnZhYmxlLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0saW5pdERyYWdnYWJsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5kcmFnZ2FibGU9dHJ1ZTtpZighYS5lbCl7YS5zdXJmYWNlLmNyZWF0ZVNwcml0ZUVsZW1lbnQoYSl9YS5kZD1uZXcgRXh0LmRyYXcuU3ByaXRlREQoYSxFeHQuaXNCb29sZWFuKGEuZHJhZ2dhYmxlKT9udWxsOmEuZHJhZ2dhYmxlKTthLm9uKCJiZWZvcmVkZXN0cm95IixhLmRkLmRlc3Ryb3ksYS5kZCl9LHNldEF0dHJpYnV0ZXM6ZnVuY3Rpb24obCxvKXt2YXIgdD10aGlzLGo9dC5mb250UHJvcGVydGllcyxxPWoubGVuZ3RoLGg9dC5wYXRoUHJvcGVydGllcyxnPWgubGVuZ3RoLHI9ISF0LnN1cmZhY2UsYT1yJiZ0LnN1cmZhY2UuY3VzdG9tQXR0cmlidXRlc3x8e30sYz10LmF0dHIsYj1mYWxzZSxtLHAsayxkLHMsbix1LGU7bD1FeHQuYXBwbHkoe30sbCk7Zm9yKG0gaW4gYSl7aWYobC5oYXNPd25Qcm9wZXJ0eShtKSYmdHlwZW9mIGFbbV09PSJmdW5jdGlvbiIpe0V4dC5hcHBseShsLGFbbV0uYXBwbHkodCxbXS5jb25jYXQobFttXSkpKX19aWYoISFsLmhpZGRlbiE9PSEhYy5oaWRkZW4pe3QuZGlydHlIaWRkZW49dHJ1ZX1mb3IocD0wO3A8ZztwKyspe209aFtwXTtpZihtIGluIGwmJmxbbV0hPT1jW21dKXt0LmRpcnR5UGF0aD10cnVlO2I9dHJ1ZTticmVha319aWYoInpJbmRleCIgaW4gbCl7dC56SW5kZXhEaXJ0eT10cnVlfWlmKCJ0ZXh0IiBpbiBsKXt0LmRpcnR5Rm9udD10cnVlO2I9dHJ1ZX1mb3IocD0wO3A8cTtwKyspe209altwXTtpZihtIGluIGwmJmxbbV0hPT1jW21dKXt0LmRpcnR5Rm9udD10cnVlO2I9dHJ1ZTticmVha319az1sLnRyYW5zbGF0aW9ufHxsLnRyYW5zbGF0ZTtkZWxldGUgbC50cmFuc2xhdGU7ZGVsZXRlIGwudHJhbnNsYXRpb247ZD1jLnRyYW5zbGF0aW9uO2lmKGspe2lmKCgieCIgaW4gayYmay54IT09ZC54KXx8KCJ5IiBpbiBrJiZrLnkhPT1kLnkpKXt0LmRpcnR5VHJhbnNmb3JtPXRydWU7ZC54PWsueDtkLnk9ay55fX1zPWwucm90YXRpb258fGwucm90YXRlO249Yy5yb3RhdGlvbjtkZWxldGUgbC5yb3RhdGU7ZGVsZXRlIGwucm90YXRpb247aWYocyl7aWYoKCJ4IiBpbiBzJiZzLnghPT1uLngpfHwoInkiIGluIHMmJnMueSE9PW4ueSl8fCgiZGVncmVlcyIgaW4gcyYmcy5kZWdyZWVzIT09bi5kZWdyZWVzKSl7dC5kaXJ0eVRyYW5zZm9ybT10cnVlO24ueD1zLng7bi55PXMueTtuLmRlZ3JlZXM9cy5kZWdyZWVzfX11PWwuc2NhbGluZ3x8bC5zY2FsZTtlPWMuc2NhbGluZztkZWxldGUgbC5zY2FsZTtkZWxldGUgbC5zY2FsaW5nO2lmKHUpe2lmKCgieCIgaW4gdSYmdS54IT09ZS54KXx8KCJ5IiBpbiB1JiZ1LnkhPT1lLnkpfHwoImN4IiBpbiB1JiZ1LmN4IT09ZS5jeCl8fCgiY3kiIGluIHUmJnUuY3khPT1lLmN5KSl7dC5kaXJ0eVRyYW5zZm9ybT10cnVlO2UueD11Lng7ZS55PXUueTtlLmN4PXUuY3g7ZS5jeT11LmN5fX1pZighdC5kaXJ0eVRyYW5zZm9ybSYmYil7aWYoYy5zY2FsaW5nLng9PT1udWxsfHxjLnNjYWxpbmcueT09PW51bGx8fGMucm90YXRpb24ueT09PW51bGx8fGMucm90YXRpb24ueT09PW51bGwpe3QuZGlydHlUcmFuc2Zvcm09dHJ1ZX19RXh0LmFwcGx5KGMsbCk7dC5kaXJ0eT10cnVlO2lmKG89PT10cnVlJiZyKXt0LnJlZHJhdygpfXJldHVybiB0aGlzfSxnZXRCQm94OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3VyZmFjZS5nZXRCQm94KHRoaXMpfSxzZXRUZXh0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnN1cmZhY2Uuc2V0VGV4dCh0aGlzLGEpfSxoaWRlOmZ1bmN0aW9uKGEpe3RoaXMuc2V0QXR0cmlidXRlcyh7aGlkZGVuOnRydWV9LGEpO3JldHVybiB0aGlzfSxzaG93OmZ1bmN0aW9uKGEpe3RoaXMuc2V0QXR0cmlidXRlcyh7aGlkZGVuOmZhbHNlfSxhKTtyZXR1cm4gdGhpc30scmVtb3ZlOmZ1bmN0aW9uKCl7aWYodGhpcy5zdXJmYWNlKXt0aGlzLnN1cmZhY2UucmVtb3ZlKHRoaXMpO3JldHVybiB0cnVlfXJldHVybiBmYWxzZX0sb25SZW1vdmU6ZnVuY3Rpb24oKXt0aGlzLnN1cmZhY2Uub25SZW1vdmUodGhpcyl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuZmlyZUV2ZW50KCJiZWZvcmVkZXN0cm95IixhKSE9PWZhbHNlKXthLnJlbW92ZSgpO2Euc3VyZmFjZS5vbkRlc3Ryb3koYSk7YS5jbGVhckxpc3RlbmVycygpO2EuZmlyZUV2ZW50KCJkZXN0cm95Iil9fSxyZWRyYXc6ZnVuY3Rpb24oKXt0aGlzLnN1cmZhY2UucmVuZGVySXRlbSh0aGlzKTtyZXR1cm4gdGhpc30sc2V0U3R5bGU6ZnVuY3Rpb24oKXt0aGlzLmVsLnNldFN0eWxlLmFwcGx5KHRoaXMuZWwsYXJndW1lbnRzKTtyZXR1cm4gdGhpc30sYWRkQ2xzOmZ1bmN0aW9uKGEpe3RoaXMuc3VyZmFjZS5hZGRDbHModGhpcyxhKTtyZXR1cm4gdGhpc30scmVtb3ZlQ2xzOmZ1bmN0aW9uKGEpe3RoaXMuc3VyZmFjZS5yZW1vdmVDbHModGhpcyxhKTtyZXR1cm4gdGhpc319KTtFeHQuZGVmaW5lKCJFeHQuZHJhdy5lbmdpbmUuU3ZnIix7ZXh0ZW5kOiJFeHQuZHJhdy5TdXJmYWNlIixyZXF1aXJlczpbIkV4dC5kcmF3LkRyYXciLCJFeHQuZHJhdy5TcHJpdGUiLCJFeHQuZHJhdy5NYXRyaXgiLCJFeHQuRWxlbWVudCJdLGVuZ2luZToiU3ZnIix0cmltUmU6L15ccyt8XHMrJC9nLHNwYWNlc1JlOi9ccysvLHhsaW5rOiJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIix0cmFuc2xhdGVBdHRyczp7cmFkaXVzOiJyIixyYWRpdXNYOiJyeCIscmFkaXVzWToicnkiLHBhdGg6ImQiLGxpbmVXaWR0aDoic3Ryb2tlLXdpZHRoIixmaWxsT3BhY2l0eToiZmlsbC1vcGFjaXR5IixzdHJva2VPcGFjaXR5OiJzdHJva2Utb3BhY2l0eSIsc3Ryb2tlTGluZWpvaW46InN0cm9rZS1saW5lam9pbiJ9LHBhcnNlcnM6e30sbWluRGVmYXVsdHM6e2NpcmNsZTp7Y3g6MCxjeTowLHI6MCxmaWxsOiJub25lIixzdHJva2U6bnVsbCwic3Ryb2tlLXdpZHRoIjpudWxsLG9wYWNpdHk6bnVsbCwiZmlsbC1vcGFjaXR5IjpudWxsLCJzdHJva2Utb3BhY2l0eSI6bnVsbH0sZWxsaXBzZTp7Y3g6MCxjeTowLHJ4OjAscnk6MCxmaWxsOiJub25lIixzdHJva2U6bnVsbCwic3Ryb2tlLXdpZHRoIjpudWxsLG9wYWNpdHk6bnVsbCwiZmlsbC1vcGFjaXR5IjpudWxsLCJzdHJva2Utb3BhY2l0eSI6bnVsbH0scmVjdDp7eDowLHk6MCx3aWR0aDowLGhlaWdodDowLHJ4OjAscnk6MCxmaWxsOiJub25lIixzdHJva2U6bnVsbCwic3Ryb2tlLXdpZHRoIjpudWxsLG9wYWNpdHk6bnVsbCwiZmlsbC1vcGFjaXR5IjpudWxsLCJzdHJva2Utb3BhY2l0eSI6bnVsbH0sdGV4dDp7eDowLHk6MCwidGV4dC1hbmNob3IiOiJzdGFydCIsImZvbnQtZmFtaWx5IjpudWxsLCJmb250LXNpemUiOm51bGwsImZvbnQtd2VpZ2h0IjpudWxsLCJmb250LXN0eWxlIjpudWxsLGZpbGw6IiMwMDAiLHN0cm9rZTpudWxsLCJzdHJva2Utd2lkdGgiOm51bGwsb3BhY2l0eTpudWxsLCJmaWxsLW9wYWNpdHkiOm51bGwsInN0cm9rZS1vcGFjaXR5IjpudWxsfSxwYXRoOntkOiJNMCwwIixmaWxsOiJub25lIixzdHJva2U6bnVsbCwic3Ryb2tlLXdpZHRoIjpudWxsLG9wYWNpdHk6bnVsbCwiZmlsbC1vcGFjaXR5IjpudWxsLCJzdHJva2Utb3BhY2l0eSI6bnVsbH0saW1hZ2U6e3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MCxwcmVzZXJ2ZUFzcGVjdFJhdGlvOiJub25lIixvcGFjaXR5Om51bGx9fSxjcmVhdGVTdmdFbGVtZW50OmZ1bmN0aW9uKGQsYSl7dmFyIGM9dGhpcy5kb21SZWYuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsZCksYjtpZihhKXtmb3IoYiBpbiBhKXtjLnNldEF0dHJpYnV0ZShiLFN0cmluZyhhW2JdKSl9fXJldHVybiBjfSxjcmVhdGVTcHJpdGVFbGVtZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY3JlYXRlU3ZnRWxlbWVudChhLnR5cGUpO2IuaWQ9YS5pZDtpZihiLnN0eWxlKXtiLnN0eWxlLndlYmtpdFRhcEhpZ2hsaWdodENvbG9yPSJyZ2JhKDAsMCwwLDApIn1hLmVsPUV4dC5nZXQoYik7dGhpcy5hcHBseVpJbmRleChhKTthLm1hdHJpeD1uZXcgRXh0LmRyYXcuTWF0cml4KCk7YS5iYm94PXtwbGFpbjowLHRyYW5zZm9ybTowfTt0aGlzLmFwcGx5QXR0cnMoYSk7dGhpcy5hcHBseVRyYW5zZm9ybWF0aW9ucyhhKTthLmZpcmVFdmVudCgicmVuZGVyIixhKTtyZXR1cm4gYn0sZ2V0QkJveFRleHQ6ZnVuY3Rpb24oail7dmFyIGs9e30sZyxsLGEsYyxoLGI7aWYoaiYmai5lbCl7Yj1qLmVsLmRvbTt0cnl7az1iLmdldEJCb3goKTtyZXR1cm4ga31jYXRjaChkKXt9az17eDprLngseTpJbmZpbml0eSx3aWR0aDowLGhlaWdodDowfTtoPWIuZ2V0TnVtYmVyT2ZDaGFycygpO2ZvcihjPTA7YzxoO2MrKyl7Zz1iLmdldEV4dGVudE9mQ2hhcihjKTtrLnk9TWF0aC5taW4oZy55LGsueSk7bD1nLnkrZy5oZWlnaHQtay55O2suaGVpZ2h0PU1hdGgubWF4KGsuaGVpZ2h0LGwpO2E9Zy54K2cud2lkdGgtay54O2sud2lkdGg9TWF0aC5tYXgoay53aWR0aCxhKX1yZXR1cm4ga319LGhpZGU6ZnVuY3Rpb24oKXtFeHQuZ2V0KHRoaXMuZWwpLmhpZGUoKX0sc2hvdzpmdW5jdGlvbigpe0V4dC5nZXQodGhpcy5lbCkuc2hvdygpfSxoaWRlUHJpbTpmdW5jdGlvbihhKXt0aGlzLmFkZENscyhhLEV4dC5iYXNlQ1NTUHJlZml4KyJoaWRlLXZpc2liaWxpdHkiKX0sc2hvd1ByaW06ZnVuY3Rpb24oYSl7dGhpcy5yZW1vdmVDbHMoYSxFeHQuYmFzZUNTU1ByZWZpeCsiaGlkZS12aXNpYmlsaXR5Iil9LGdldERlZnM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGVmc3x8KHRoaXMuX2RlZnM9dGhpcy5jcmVhdGVTdmdFbGVtZW50KCJkZWZzIikpfSx0cmFuc2Zvcm06ZnVuY3Rpb24oayxhKXt2YXIgaD10aGlzLGo9bmV3IEV4dC5kcmF3Lk1hdHJpeCgpLGU9ay50cmFuc2Zvcm1hdGlvbnMsZD1lLmxlbmd0aCxjPTAsYixnO2Zvcig7YzxkO2MrKyl7Yj1lW2NdO2c9Yi50eXBlO2lmKGc9PSJ0cmFuc2xhdGUiKXtqLnRyYW5zbGF0ZShiLngsYi55KX1lbHNle2lmKGc9PSJyb3RhdGUiKXtqLnJvdGF0ZShiLmRlZ3JlZXMsYi54LGIueSl9ZWxzZXtpZihnPT0ic2NhbGUiKXtqLnNjYWxlKGIueCxiLnksYi5jZW50ZXJYLGIuY2VudGVyWSl9fX19ay5tYXRyaXg9ajtpZighYSl7ay5lbC5zZXQoe3RyYW5zZm9ybTpqLnRvU3ZnKCl9KX19LHNldFNpemU6ZnVuY3Rpb24oYyxhKXt2YXIgZD10aGlzLGI9ZC5lbDtjPStjfHxkLndpZHRoO2E9K2F8fGQuaGVpZ2h0O2Qud2lkdGg9YztkLmhlaWdodD1hO2Iuc2V0U2l6ZShjLGEpO2Iuc2V0KHt3aWR0aDpjLGhlaWdodDphfSk7ZC5jYWxsUGFyZW50KFtjLGFdKX0sZ2V0UmVnaW9uOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5lbC5nZXRYWSgpLGM9dGhpcy5iZ1JlY3QuZ2V0WFkoKSxiPU1hdGgubWF4LGE9YihlWzBdLGNbMF0pLGQ9YihlWzFdLGNbMV0pO3JldHVybntsZWZ0OmEsdG9wOmQscmlnaHQ6YSt0aGlzLndpZHRoLGJvdHRvbTpkK3RoaXMuaGVpZ2h0fX0sb25SZW1vdmU6ZnVuY3Rpb24oYSl7aWYoYS5lbCl7YS5lbC5kZXN0cm95KCk7ZGVsZXRlIGEuZWx9dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LHNldFZpZXdCb3g6ZnVuY3Rpb24oYixkLGMsYSl7aWYoaXNGaW5pdGUoYikmJmlzRmluaXRlKGQpJiZpc0Zpbml0ZShjKSYmaXNGaW5pdGUoYSkpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3RoaXMuZWwuZG9tLnNldEF0dHJpYnV0ZSgidmlld0JveCIsW2IsZCxjLGFdLmpvaW4oIiAiKSl9fSxyZW5kZXI6ZnVuY3Rpb24oYyl7dmFyIGc9dGhpcyxlLGIsZCxhLGgsaTtpZighZy5lbCl7ZT1nLndpZHRofHwwO2I9Zy5oZWlnaHR8fDA7ZD1nLmNyZWF0ZVN2Z0VsZW1lbnQoInN2ZyIse3htbG5zOiJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsdmVyc2lvbjoxLjEsd2lkdGg6ZSxoZWlnaHQ6Yn0pO2E9Zy5nZXREZWZzKCk7aD1nLmNyZWF0ZVN2Z0VsZW1lbnQoInJlY3QiLHt3aWR0aDoiMTAwJSIsaGVpZ2h0OiIxMDAlIixmaWxsOiIjMDAwIixzdHJva2U6Im5vbmUiLG9wYWNpdHk6MH0pO2lmKEV4dC5pc1NhZmFyaTMpe2k9Zy5jcmVhdGVTdmdFbGVtZW50KCJyZWN0Iix7eDotMTAseTotMTAsd2lkdGg6IjExMCUiLGhlaWdodDoiMTEwJSIsZmlsbDoibm9uZSIsc3Ryb2tlOiIjMDAwIn0pfWQuYXBwZW5kQ2hpbGQoYSk7aWYoRXh0LmlzU2FmYXJpMyl7ZC5hcHBlbmRDaGlsZChpKX1kLmFwcGVuZENoaWxkKGgpO2MuYXBwZW5kQ2hpbGQoZCk7Zy5lbD1FeHQuZ2V0KGQpO2cuYmdSZWN0PUV4dC5nZXQoaCk7aWYoRXh0LmlzU2FmYXJpMyl7Zy53ZWJraXRSZWN0PUV4dC5nZXQoaSk7Zy53ZWJraXRSZWN0LmhpZGUoKX1nLmVsLm9uKHtzY29wZTpnLG1vdXNldXA6Zy5vbk1vdXNlVXAsbW91c2Vkb3duOmcub25Nb3VzZURvd24sbW91c2VvdmVyOmcub25Nb3VzZU92ZXIsbW91c2VvdXQ6Zy5vbk1vdXNlT3V0LG1vdXNlbW92ZTpnLm9uTW91c2VNb3ZlLG1vdXNlZW50ZXI6Zy5vbk1vdXNlRW50ZXIsbW91c2VsZWF2ZTpnLm9uTW91c2VMZWF2ZSxjbGljazpnLm9uQ2xpY2ssZGJsY2xpY2s6Zy5vbkRibENsaWNrfSl9Zy5yZW5kZXJBbGwoKX0sb25Nb3VzZUVudGVyOmZ1bmN0aW9uKGEpe2lmKHRoaXMuZWwucGFyZW50KCkuZ2V0UmVnaW9uKCkuY29udGFpbnMoYS5nZXRQb2ludCgpKSl7dGhpcy5maXJlRXZlbnQoIm1vdXNlZW50ZXIiLGEpfX0sb25Nb3VzZUxlYXZlOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmVsLnBhcmVudCgpLmdldFJlZ2lvbigpLmNvbnRhaW5zKGEuZ2V0UG9pbnQoKSkpe3RoaXMuZmlyZUV2ZW50KCJtb3VzZWxlYXZlIixhKX19LHByb2Nlc3NFdmVudDpmdW5jdGlvbihiLGcpe3ZhciBkPWcuZ2V0VGFyZ2V0KCksYT10aGlzLnN1cmZhY2UsYzt0aGlzLmZpcmVFdmVudChiLGcpO2lmKGQubm9kZU5hbWU9PSJ0c3BhbiImJmQucGFyZW50Tm9kZSl7ZD1kLnBhcmVudE5vZGV9Yz10aGlzLml0ZW1zLmdldChkLmlkKTtpZihjKXtjLmZpcmVFdmVudChiLGMsZyl9fSx0dW5lVGV4dDpmdW5jdGlvbihrLGwpe3ZhciBhPWsuZWwuZG9tLGI9W10sbixoLG0sZCxlLGMsZyxqO2lmKGwuaGFzT3duUHJvcGVydHkoInRleHQiKSl7bT1rLnRzcGFucyYmRXh0LkFycmF5Lm1hcChrLnRzcGFucyxmdW5jdGlvbihpKXtyZXR1cm4gaS50ZXh0Q29udGVudH0pLmpvaW4oIiIpO2lmKCFrLnRzcGFuc3x8bC50ZXh0IT1tKXtiPXRoaXMuc2V0VGV4dChrLGwudGV4dCk7ay50c3BhbnM9Yn1lbHNle2I9ay50c3BhbnN8fFtdfX1pZihiLmxlbmd0aCl7bj10aGlzLmdldEJCb3hUZXh0KGspLmhlaWdodDtqPWsuZWwuZG9tLmdldEF0dHJpYnV0ZSgieCIpO2ZvcihkPTAsZT1iLmxlbmd0aDtkPGU7ZCsrKXtnPShFeHQuaXNGRjNfMHx8RXh0LmlzRkYzXzUpPzI6NDtiW2RdLnNldEF0dHJpYnV0ZSgieCIsaik7YltkXS5zZXRBdHRyaWJ1dGUoImR5IixkP24qMS4yOm4vZyl9ay5kaXJ0eT10cnVlfX0sc2V0VGV4dDpmdW5jdGlvbihrLGQpe3ZhciBoPXRoaXMsYT1rLmVsLmRvbSxiPVtdLG0saixsLGUsZyxjO3doaWxlKGEuZmlyc3RDaGlsZCl7YS5yZW1vdmVDaGlsZChhLmZpcnN0Q2hpbGQpfWM9U3RyaW5nKGQpLnNwbGl0KCJcbiIpO2ZvcihlPTAsZz1jLmxlbmd0aDtlPGc7ZSsrKXtsPWNbZV07aWYobCl7aj1oLmNyZWF0ZVN2Z0VsZW1lbnQoInRzcGFuIik7ai5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShFeHQuaHRtbERlY29kZShsKSkpO2EuYXBwZW5kQ2hpbGQoaik7YltlXT1qfX1yZXR1cm4gYn0scmVuZGVyQWxsOmZ1bmN0aW9uKCl7dGhpcy5pdGVtcy5lYWNoKHRoaXMucmVuZGVySXRlbSx0aGlzKX0scmVuZGVySXRlbTpmdW5jdGlvbihhKXtpZighdGhpcy5lbCl7cmV0dXJufWlmKCFhLmVsKXt0aGlzLmNyZWF0ZVNwcml0ZUVsZW1lbnQoYSl9aWYoYS56SW5kZXhEaXJ0eSl7dGhpcy5hcHBseVpJbmRleChhKX1pZihhLmRpcnR5KXt0aGlzLmFwcGx5QXR0cnMoYSk7aWYoYS5kaXJ0eVRyYW5zZm9ybSl7dGhpcy5hcHBseVRyYW5zZm9ybWF0aW9ucyhhKX19fSxyZWRyYXc6ZnVuY3Rpb24oYSl7YS5kaXJ0eT1hLnpJbmRleERpcnR5PXRydWU7dGhpcy5yZW5kZXJJdGVtKGEpfSxhcHBseUF0dHJzOmZ1bmN0aW9uKHIpe3ZhciBtPXRoaXMsYz1yLmVsLHE9ci5ncm91cCxqPXIuYXR0cixzPW0ucGFyc2VycyxnPW0uZ3JhZGllbnRzTWFwfHx7fSxrPUV4dC5pc1NhZmFyaSYmIUV4dC5pc1N0cmljdCxlLGgsbCxwLGQsbyxiLGEsbjtpZihxKXtlPVtdLmNvbmNhdChxKTtsPWUubGVuZ3RoO2ZvcihoPTA7aDxsO2grKyl7cT1lW2hdO20uZ2V0R3JvdXAocSkuYWRkKHIpfWRlbGV0ZSByLmdyb3VwfXA9bS5zY3J1YkF0dHJzKHIpfHx7fTtyLmJib3gucGxhaW49MDtyLmJib3gudHJhbnNmb3JtPTA7aWYoci50eXBlPT0iY2lyY2xlInx8ci50eXBlPT0iZWxsaXBzZSIpe3AuY3g9cC5jeHx8cC54O3AuY3k9cC5jeXx8cC55fWVsc2V7aWYoci50eXBlPT0icmVjdCIpe3Aucng9cC5yeT1wLnJ9ZWxzZXtpZihyLnR5cGU9PSJwYXRoIiYmcC5kKXtwLmQ9RXh0LmRyYXcuRHJhdy5wYXRoVG9TdHJpbmcoRXh0LmRyYXcuRHJhdy5wYXRoVG9BYnNvbHV0ZShwLmQpKX19fXIuZGlydHlQYXRoPWZhbHNlO2lmKHBbImNsaXAtcmVjdCJdKXttLnNldENsaXAocixwKTtkZWxldGUgcFsiY2xpcC1yZWN0Il19aWYoci50eXBlPT0idGV4dCImJnAuZm9udCYmci5kaXJ0eUZvbnQpe2Muc2V0KHtzdHlsZToiZm9udDogIitwLmZvbnR9KX1pZihyLnR5cGU9PSJpbWFnZSIpe2MuZG9tLnNldEF0dHJpYnV0ZU5TKG0ueGxpbmssImhyZWYiLHAuc3JjKX1FeHQuYXBwbHlJZihwLG0ubWluRGVmYXVsdHNbci50eXBlXSk7aWYoci5kaXJ0eUhpZGRlbil7KGouaGlkZGVuKT9tLmhpZGVQcmltKHIpOm0uc2hvd1ByaW0ocik7ci5kaXJ0eUhpZGRlbj1mYWxzZX1mb3IobyBpbiBwKXtpZihwLmhhc093blByb3BlcnR5KG8pJiZwW29dIT1udWxsKXtpZihrJiYoImNvbG9yfHN0cm9rZXxmaWxsIi5pbmRleE9mKG8pPi0xKSYmKHBbb10gaW4gZykpe3Bbb109Z1twW29dXX1pZihvPT0iaGlkZGVuIiYmci50eXBlPT0idGV4dCIpe2NvbnRpbnVlfWlmKG8gaW4gcyl7Yy5kb20uc2V0QXR0cmlidXRlKG8sc1tvXShwW29dLHIsbSkpfWVsc2V7Yy5kb20uc2V0QXR0cmlidXRlKG8scFtvXSl9fX1pZihyLnR5cGU9PSJ0ZXh0Iil7bS50dW5lVGV4dChyLHApfXIuZGlydHlGb250PWZhbHNlO2I9ai5zdHlsZTtpZihiKXtjLnNldFN0eWxlKGIpfXIuZGlydHk9ZmFsc2U7aWYoRXh0LmlzU2FmYXJpMyl7bS53ZWJraXRSZWN0LnNob3coKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bS53ZWJraXRSZWN0LmhpZGUoKX0pfX0sc2V0Q2xpcDpmdW5jdGlvbihiLGcpe3ZhciBlPXRoaXMsZD1nWyJjbGlwLXJlY3QiXSxhLGM7aWYoZCl7aWYoYi5jbGlwKXtiLmNsaXAucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIuY2xpcC5wYXJlbnROb2RlKX1hPWUuY3JlYXRlU3ZnRWxlbWVudCgiY2xpcFBhdGgiKTtjPWUuY3JlYXRlU3ZnRWxlbWVudCgicmVjdCIpO2EuaWQ9RXh0LmlkKG51bGwsImV4dC1jbGlwLSIpO2Muc2V0QXR0cmlidXRlKCJ4IixkLngpO2Muc2V0QXR0cmlidXRlKCJ5IixkLnkpO2Muc2V0QXR0cmlidXRlKCJ3aWR0aCIsZC53aWR0aCk7Yy5zZXRBdHRyaWJ1dGUoImhlaWdodCIsZC5oZWlnaHQpO2EuYXBwZW5kQ2hpbGQoYyk7ZS5nZXREZWZzKCkuYXBwZW5kQ2hpbGQoYSk7Yi5lbC5kb20uc2V0QXR0cmlidXRlKCJjbGlwLXBhdGgiLCJ1cmwoIyIrYS5pZCsiKSIpO2IuY2xpcD1jfX0sYXBwbHlaSW5kZXg6ZnVuY3Rpb24oZCl7dmFyIGc9dGhpcyxiPWcuaXRlbXMsYT1iLmluZGV4T2YoZCksZT1kLmVsLGM7aWYoZy5lbC5kb20uY2hpbGROb2Rlc1thKzJdIT09ZS5kb20pe2lmKGE+MCl7ZG97Yz1iLmdldEF0KC0tYSkuZWx9d2hpbGUoIWMmJmE+MCl9ZS5pbnNlcnRBZnRlcihjfHxnLmJnUmVjdCl9ZC56SW5kZXhEaXJ0eT1mYWxzZX0sY3JlYXRlSXRlbTpmdW5jdGlvbihhKXt2YXIgYj1uZXcgRXh0LmRyYXcuU3ByaXRlKGEpO2Iuc3VyZmFjZT10aGlzO3JldHVybiBifSxhZGRHcmFkaWVudDpmdW5jdGlvbihoKXtoPUV4dC5kcmF3LkRyYXcucGFyc2VHcmFkaWVudChoKTt2YXIgZT10aGlzLGQ9aC5zdG9wcy5sZW5ndGgsYT1oLnZlY3RvcixsPUV4dC5pc1NhZmFyaSYmIUV4dC5pc1N0cmljdCxqLGcsayxjLGI7Yj1lLmdyYWRpZW50c01hcHx8e307aWYoIWwpe2lmKGgudHlwZT09ImxpbmVhciIpe2o9ZS5jcmVhdGVTdmdFbGVtZW50KCJsaW5lYXJHcmFkaWVudCIpO2ouc2V0QXR0cmlidXRlKCJ4MSIsYVswXSk7ai5zZXRBdHRyaWJ1dGUoInkxIixhWzFdKTtqLnNldEF0dHJpYnV0ZSgieDIiLGFbMl0pO2ouc2V0QXR0cmlidXRlKCJ5MiIsYVszXSl9ZWxzZXtqPWUuY3JlYXRlU3ZnRWxlbWVudCgicmFkaWFsR3JhZGllbnQiKTtqLnNldEF0dHJpYnV0ZSgiY3giLGguY2VudGVyWCk7ai5zZXRBdHRyaWJ1dGUoImN5IixoLmNlbnRlclkpO2ouc2V0QXR0cmlidXRlKCJyIixoLnJhZGl1cyk7aWYoRXh0LmlzTnVtYmVyKGguZm9jYWxYKSYmRXh0LmlzTnVtYmVyKGguZm9jYWxZKSl7ai5zZXRBdHRyaWJ1dGUoImZ4IixoLmZvY2FsWCk7ai5zZXRBdHRyaWJ1dGUoImZ5IixoLmZvY2FsWSl9fWouaWQ9aC5pZDtlLmdldERlZnMoKS5hcHBlbmRDaGlsZChqKTtmb3IoYz0wO2M8ZDtjKyspe2c9aC5zdG9wc1tjXTtrPWUuY3JlYXRlU3ZnRWxlbWVudCgic3RvcCIpO2suc2V0QXR0cmlidXRlKCJvZmZzZXQiLGcub2Zmc2V0KyIlIik7ay5zZXRBdHRyaWJ1dGUoInN0b3AtY29sb3IiLGcuY29sb3IpO2suc2V0QXR0cmlidXRlKCJzdG9wLW9wYWNpdHkiLGcub3BhY2l0eSk7ai5hcHBlbmRDaGlsZChrKX19ZWxzZXtiWyJ1cmwoIyIraC5pZCsiKSJdPWguc3RvcHNbMF0uY29sb3J9ZS5ncmFkaWVudHNNYXA9Yn0saGFzQ2xzOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGImJigiICIrKGEuZWwuZG9tLmdldEF0dHJpYnV0ZSgiY2xhc3MiKXx8IiIpKyIgIikuaW5kZXhPZigiICIrYisiICIpIT0tMX0sYWRkQ2xzOmZ1bmN0aW9uKGUsaCl7dmFyIGc9ZS5lbCxkLGEsYyxiPVtdLGo9Zy5nZXRBdHRyaWJ1dGUoImNsYXNzIil8fCIiO2lmKCFFeHQuaXNBcnJheShoKSl7aWYodHlwZW9mIGg9PSJzdHJpbmciJiYhdGhpcy5oYXNDbHMoZSxoKSl7Zy5zZXQoeyJjbGFzcyI6aisiICIraH0pfX1lbHNle2ZvcihkPTAsYT1oLmxlbmd0aDtkPGE7ZCsrKXtjPWhbZF07aWYodHlwZW9mIGM9PSJzdHJpbmciJiYoIiAiK2orIiAiKS5pbmRleE9mKCIgIitjKyIgIik9PS0xKXtiLnB1c2goYyl9fWlmKGIubGVuZ3RoKXtnLnNldCh7ImNsYXNzIjoiICIrYi5qb2luKCIgIil9KX19fSxyZW1vdmVDbHM6ZnVuY3Rpb24oayxnKXt2YXIgaD10aGlzLGI9ay5lbCxkPWIuZ2V0QXR0cmlidXRlKCJjbGFzcyIpfHwiIixjLGosZSxsLGE7aWYoIUV4dC5pc0FycmF5KGcpKXtnPVtnXX1pZihkKXthPWQucmVwbGFjZShoLnRyaW1SZSwiICIpLnNwbGl0KGguc3BhY2VzUmUpO2ZvcihjPTAsZT1nLmxlbmd0aDtjPGU7YysrKXtsPWdbY107aWYodHlwZW9mIGw9PSJzdHJpbmciKXtsPWwucmVwbGFjZShoLnRyaW1SZSwiIik7aj1FeHQuQXJyYXkuaW5kZXhPZihhLGwpO2lmKGohPS0xKXtFeHQuQXJyYXkuZXJhc2UoYSxqLDEpfX19Yi5zZXQoeyJjbGFzcyI6YS5qb2luKCIgIil9KX19LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudCgpO2lmKGEuZWwpe2EuZWwucmVtb3ZlKCl9aWYoYS5fZGVmcyl7RXh0LmdldChhLl9kZWZzKS5kZXN0cm95KCl9aWYoYS5iZ1JlY3Qpe0V4dC5nZXQoYS5iZ1JlY3QpLmRlc3Ryb3koKX1pZihhLndlYmtpdFJlY3Qpe0V4dC5nZXQoYS53ZWJraXRSZWN0KS5kZXN0cm95KCl9ZGVsZXRlIGEuZWx9fSk7RXh0LmRlZmluZSgiRXh0LmRyYXcuZW5naW5lLlZtbCIse2V4dGVuZDoiRXh0LmRyYXcuU3VyZmFjZSIscmVxdWlyZXM6WyJFeHQuZHJhdy5EcmF3IiwiRXh0LmRyYXcuQ29sb3IiLCJFeHQuZHJhdy5TcHJpdGUiLCJFeHQuZHJhdy5NYXRyaXgiLCJFeHQuRWxlbWVudCJdLGVuZ2luZToiVm1sIixtYXA6e006Im0iLEw6ImwiLEM6ImMiLFo6IngiLG06InQiLGw6InIiLGM6InYiLHo6IngifSxiaXRlc1JlOi8oW2NsbXpdKSw/KFteY2xtel0qKS9naSx2YWxSZTovLT9bXixcc1wtXSsvZyxmaWxsVXJsUmU6L151cmxcKFxzKlsnIl0/KFteXCldKz8pWyciXT9ccypcKSQvaSxwYXRobGlrZTovXihwYXRofHJlY3QpJC8sTm9uVm1sUGF0aFJlOi9bYWhxc3R2XS9pZyxwYXJ0aWFsUGF0aFJlOi9bY2xtel0vZyxmb250RmFtaWx5UmU6L15bJyJdK3xbJyJdKyQvZyxiYXNlVm1sQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJ2bWwtYmFzZSIsdm1sR3JvdXBDbHM6RXh0LmJhc2VDU1NQcmVmaXgrInZtbC1ncm91cCIsc3ByaXRlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJ2bWwtc3ByaXRlIixtZWFzdXJlU3BhbkNsczpFeHQuYmFzZUNTU1ByZWZpeCsidm1sLW1lYXN1cmUtc3BhbiIsem9vbToyMTYwMCxjb29yZHNpemU6MTAwMCxjb29yZG9yaWdpbjoiMCAwIix6SW5kZXhTaGlmdDowLG9yZGVyU3ByaXRlc0J5WkluZGV4OmZhbHNlLHBhdGgydm1sOmZ1bmN0aW9uKHQpe3ZhciBuPXRoaXMsdT1uLk5vblZtbFBhdGhSZSxiPW4ubWFwLGU9bi52YWxSZSxzPW4uem9vbSxkPW4uYml0ZXNSZSxnPUV4dC5GdW5jdGlvbi5iaW5kKEV4dC5kcmF3LkRyYXcucGF0aFRvQWJzb2x1dGUsRXh0LmRyYXcuRHJhdyksbSxvLGMsYSxrLHEsaCxsO2lmKFN0cmluZyh0KS5tYXRjaCh1KSl7Zz1FeHQuRnVuY3Rpb24uYmluZChFeHQuZHJhdy5EcmF3LnBhdGgyY3VydmUsRXh0LmRyYXcuRHJhdyl9ZWxzZXtpZighU3RyaW5nKHQpLm1hdGNoKG4ucGFydGlhbFBhdGhSZSkpe209U3RyaW5nKHQpLnJlcGxhY2UoZCxmdW5jdGlvbihyLHcsail7dmFyIHY9W10saT13LnRvTG93ZXJDYXNlKCk9PSJtIixwPWJbd107ai5yZXBsYWNlKGUsZnVuY3Rpb24oeCl7aWYoaSYmdi5sZW5ndGg9PT0yKXtwKz12K2Jbdz09Im0iPyJsIjoiTCJdO3Y9W119di5wdXNoKE1hdGgucm91bmQoeCpzKSl9KTtyZXR1cm4gcCt2fSk7cmV0dXJuIG19fW89Zyh0KTttPVtdO2ZvcihrPTAscT1vLmxlbmd0aDtrPHE7aysrKXtjPW9ba107YT1vW2tdWzBdLnRvTG93ZXJDYXNlKCk7aWYoYT09InoiKXthPSJ4In1mb3IoaD0xLGw9Yy5sZW5ndGg7aDxsO2grKyl7YSs9TWF0aC5yb3VuZChjW2hdKm4uem9vbSkrKGghPWwtMT8iLCI6IiIpfW0ucHVzaChhKX1yZXR1cm4gbS5qb2luKCIgIil9LHRyYW5zbGF0ZUF0dHJzOntyYWRpdXM6InIiLHJhZGl1c1g6InJ4IixyYWRpdXNZOiJyeSIsbGluZVdpZHRoOiJzdHJva2Utd2lkdGgiLGZpbGxPcGFjaXR5OiJmaWxsLW9wYWNpdHkiLHN0cm9rZU9wYWNpdHk6InN0cm9rZS1vcGFjaXR5IixzdHJva2VMaW5lam9pbjoic3Ryb2tlLWxpbmVqb2luIn0sbWluRGVmYXVsdHM6e2NpcmNsZTp7ZmlsbDoibm9uZSIsc3Ryb2tlOm51bGwsInN0cm9rZS13aWR0aCI6bnVsbCxvcGFjaXR5Om51bGwsImZpbGwtb3BhY2l0eSI6bnVsbCwic3Ryb2tlLW9wYWNpdHkiOm51bGx9LGVsbGlwc2U6e2N4OjAsY3k6MCxyeDowLHJ5OjAsZmlsbDoibm9uZSIsc3Ryb2tlOm51bGwsInN0cm9rZS13aWR0aCI6bnVsbCxvcGFjaXR5Om51bGwsImZpbGwtb3BhY2l0eSI6bnVsbCwic3Ryb2tlLW9wYWNpdHkiOm51bGx9LHJlY3Q6e3g6MCx5OjAsd2lkdGg6MCxoZWlnaHQ6MCxyeDowLHJ5OjAsZmlsbDoibm9uZSIsc3Ryb2tlOm51bGwsInN0cm9rZS13aWR0aCI6bnVsbCxvcGFjaXR5Om51bGwsImZpbGwtb3BhY2l0eSI6bnVsbCwic3Ryb2tlLW9wYWNpdHkiOm51bGx9LHRleHQ6e3g6MCx5OjAsInRleHQtYW5jaG9yIjoic3RhcnQiLGZvbnQ6JzEwcHggIkFyaWFsIicsZmlsbDoiIzAwMCIsc3Ryb2tlOm51bGwsInN0cm9rZS13aWR0aCI6bnVsbCxvcGFjaXR5Om51bGwsImZpbGwtb3BhY2l0eSI6bnVsbCwic3Ryb2tlLW9wYWNpdHkiOm51bGx9LHBhdGg6e2Q6Ik0wLDAiLGZpbGw6Im5vbmUiLHN0cm9rZTpudWxsLCJzdHJva2Utd2lkdGgiOm51bGwsb3BhY2l0eTpudWxsLCJmaWxsLW9wYWNpdHkiOm51bGwsInN0cm9rZS1vcGFjaXR5IjpudWxsfSxpbWFnZTp7eDowLHk6MCx3aWR0aDowLGhlaWdodDowLHByZXNlcnZlQXNwZWN0UmF0aW86Im5vbmUiLG9wYWNpdHk6bnVsbH19LG9uTW91c2VFbnRlcjpmdW5jdGlvbihhKXt0aGlzLmZpcmVFdmVudCgibW91c2VlbnRlciIsYSl9LG9uTW91c2VMZWF2ZTpmdW5jdGlvbihhKXt0aGlzLmZpcmVFdmVudCgibW91c2VsZWF2ZSIsYSl9LHByb2Nlc3NFdmVudDpmdW5jdGlvbihiLGcpe3ZhciBkPWcuZ2V0VGFyZ2V0KCksYT10aGlzLnN1cmZhY2UsYzt0aGlzLmZpcmVFdmVudChiLGcpO2M9dGhpcy5pdGVtcy5nZXQoZC5pZCk7aWYoYyl7Yy5maXJlRXZlbnQoYixjLGcpfX0sY3JlYXRlU3ByaXRlRWxlbWVudDpmdW5jdGlvbihoKXt2YXIgZT10aGlzLGQ9aC5hdHRyLGc9aC50eXBlLGo9ZS56b29tLGI9aC52bWx8fChoLnZtbD17fSksaz1NYXRoLnJvdW5kLGM9KGc9PT0iaW1hZ2UiKT9lLmNyZWF0ZU5vZGUoImltYWdlIik6ZS5jcmVhdGVOb2RlKCJzaGFwZSIpLGwsaSxhO2MuY29vcmRzaXplPWorIiAiK2o7Yy5jb29yZG9yaWdpbj1kLmNvb3Jkb3JpZ2lufHwiMCAwIjtFeHQuZ2V0KGMpLmFkZENscyhlLnNwcml0ZUNscyk7aWYoZz09InRleHQiKXtiLnBhdGg9bD1lLmNyZWF0ZU5vZGUoInBhdGgiKTtsLnRleHRwYXRob2s9dHJ1ZTtiLnRleHRwYXRoPWE9ZS5jcmVhdGVOb2RlKCJ0ZXh0cGF0aCIpO2Eub249dHJ1ZTtjLmFwcGVuZENoaWxkKGEpO2MuYXBwZW5kQ2hpbGQobCl9Yy5pZD1oLmlkO2guZWw9RXh0LmdldChjKTtoLmVsLnNldFN0eWxlKCJ6SW5kZXgiLC1lLnpJbmRleFNoaWZ0KTtlLmVsLmFwcGVuZENoaWxkKGMpO2lmKGchPT0iaW1hZ2UiKXtpPWUuY3JlYXRlTm9kZSgic2tldyIpO2kub249dHJ1ZTtjLmFwcGVuZENoaWxkKGkpO2guc2tldz1pfWgubWF0cml4PW5ldyBFeHQuZHJhdy5NYXRyaXgoKTtoLmJib3g9e3BsYWluOm51bGwsdHJhbnNmb3JtOm51bGx9O3RoaXMuYXBwbHlBdHRycyhoKTt0aGlzLmFwcGx5VHJhbnNmb3JtYXRpb25zKGgpO2guZmlyZUV2ZW50KCJyZW5kZXIiLGgpO3JldHVybiBoLmVsfSxnZXRCQm94VGV4dDpmdW5jdGlvbihiKXt2YXIgYT1iLnZtbDtyZXR1cm57eDphLlgrKGEuYmJ4fHwwKS1hLlcvMix5OmEuWS1hLkgvMix3aWR0aDphLlcsaGVpZ2h0OmEuSH19LGFwcGx5QXR0cnM6ZnVuY3Rpb24obSl7dmFyIHM9dGhpcyxjPW0udm1sLGo9bS5ncm91cCxhPW0uYXR0cixiPW0uZWwsbz1iLmRvbSxwLHUscixuLGsscSxsLHQsZSxkLGgsZztpZihqKXtyPVtdLmNvbmNhdChqKTtrPXIubGVuZ3RoO2ZvcihuPTA7bjxrO24rKyl7aj1yW25dO3MuZ2V0R3JvdXAoaikuYWRkKG0pfWRlbGV0ZSBtLmdyb3VwfXE9cy5zY3J1YkF0dHJzKG0pfHx7fTtpZihtLnpJbmRleERpcnR5KXtzLnNldFpJbmRleChtKX1FeHQuYXBwbHlJZihxLHMubWluRGVmYXVsdHNbbS50eXBlXSk7aWYobS50eXBlPT0iaW1hZ2UiKXtFeHQuYXBwbHkobS5hdHRyLHt4OnEueCx5OnEueSx3aWR0aDpxLndpZHRoLGhlaWdodDpxLmhlaWdodH0pO2Iuc2V0U3R5bGUoe3dpZHRoOnEud2lkdGgrInB4IixoZWlnaHQ6cS5oZWlnaHQrInB4In0pO28uc3JjPXEuc3JjfWlmKG8uaHJlZil7by5ocmVmPXEuaHJlZn1pZihvLnRpdGxlKXtvLnRpdGxlPXEudGl0bGV9aWYoby50YXJnZXQpe28udGFyZ2V0PXEudGFyZ2V0fWlmKG8uY3Vyc29yKXtvLmN1cnNvcj1xLmN1cnNvcn1pZihtLmRpcnR5SGlkZGVuKXsocS5oaWRkZW4pP3MuaGlkZVByaW0obSk6cy5zaG93UHJpbShtKTttLmRpcnR5SGlkZGVuPWZhbHNlfWlmKG0uZGlydHlQYXRoKXtpZihtLnR5cGU9PSJjaXJjbGUifHxtLnR5cGU9PSJlbGxpcHNlIil7ZT1xLng7ZD1xLnk7aD1xLnJ4fHxxLnJ8fDA7Zz1xLnJ5fHxxLnJ8fDA7by5wYXRoPUV4dC5TdHJpbmcuZm9ybWF0KCJhcnswfSx7MX0sezJ9LHszfSx7NH0sezF9LHs0fSx7MX0iLE1hdGgucm91bmQoKGUtaCkqcy56b29tKSxNYXRoLnJvdW5kKChkLWcpKnMuem9vbSksTWF0aC5yb3VuZCgoZStoKSpzLnpvb20pLE1hdGgucm91bmQoKGQrZykqcy56b29tKSxNYXRoLnJvdW5kKGUqcy56b29tKSk7bS5kaXJ0eVBhdGg9ZmFsc2V9ZWxzZXtpZihtLnR5cGUhPT0idGV4dCImJm0udHlwZSE9PSJpbWFnZSIpe20uYXR0ci5wYXRoPXEucGF0aD1zLnNldFBhdGhzKG0scSl8fHEucGF0aDtvLnBhdGg9cy5wYXRoMnZtbChxLnBhdGgpO20uZGlydHlQYXRoPWZhbHNlfX19aWYoImNsaXAtcmVjdCIgaW4gcSl7cy5zZXRDbGlwKG0scSl9aWYobS50eXBlPT0idGV4dCIpe3Muc2V0VGV4dEF0dHJpYnV0ZXMobSxxKX1pZihxLm9wYWNpdHl8fHFbInN0cm9rZS1vcGFjaXR5Il18fHEuZmlsbCl7cy5zZXRGaWxsKG0scSl9aWYocS5zdHJva2V8fHFbInN0cm9rZS1vcGFjaXR5Il18fHEuZmlsbCl7cy5zZXRTdHJva2UobSxxKX1wPWEuc3R5bGU7aWYocCl7Yi5zZXRTdHlsZShwKX1tLmRpcnR5PWZhbHNlfSxzZXRaSW5kZXg6ZnVuY3Rpb24oZSl7dmFyIGg9dGhpcyxqPWUuYXR0ci56SW5kZXgsYj1oLnpJbmRleFNoaWZ0LGMsYSxnLGQ7aWYoajxiKXtjPWguaXRlbXMuaXRlbXM7YT1jLmxlbmd0aDtmb3IoZD0wO2Q8YTtkKyspe2lmKChqPWNbZF0uYXR0ci56SW5kZXgpJiZqPGIpe2I9an19aC56SW5kZXhTaGlmdD1iO2ZvcihkPTA7ZDxhO2QrKyl7Zz1jW2RdO2lmKGcuZWwpe2cuZWwuc2V0U3R5bGUoInpJbmRleCIsZy5hdHRyLnpJbmRleC1iKX1nLnpJbmRleERpcnR5PWZhbHNlfX1lbHNle2lmKGUuZWwpe2UuZWwuc2V0U3R5bGUoInpJbmRleCIsai1iKTtlLnpJbmRleERpcnR5PWZhbHNlfX19LHNldFBhdGhzOmZ1bmN0aW9uKGMsZCl7dmFyIGE9Yy5hdHRyLGI9Yy5hdHRyWyJzdHJva2Utd2lkdGgiXXx8MTtjLmJib3gucGxhaW49bnVsbDtjLmJib3gudHJhbnNmb3JtPW51bGw7aWYoYy50eXBlPT0iY2lyY2xlIil7YS5yeD1hLnJ5PWQucjtyZXR1cm4gRXh0LmRyYXcuRHJhdy5lbGxpcHNlUGF0aChjKX1lbHNle2lmKGMudHlwZT09ImVsbGlwc2UiKXthLnJ4PWQucng7YS5yeT1kLnJ5O3JldHVybiBFeHQuZHJhdy5EcmF3LmVsbGlwc2VQYXRoKGMpfWVsc2V7aWYoYy50eXBlPT0icmVjdCIpe2Eucng9YS5yeT1kLnI7cmV0dXJuIEV4dC5kcmF3LkRyYXcucmVjdFBhdGgoYyl9ZWxzZXtpZihjLnR5cGU9PSJwYXRoIiYmYS5wYXRoKXtyZXR1cm4gRXh0LmRyYXcuRHJhdy5wYXRoVG9BYnNvbHV0ZShhLnBhdGgpfX19fXJldHVybiBmYWxzZX0sc2V0RmlsbDpmdW5jdGlvbihrLGUpe3ZhciBoPXRoaXMsYz1rLmVsLmRvbSxqPWMuZmlsbCxiPWZhbHNlLGcsaSxhLGwsZDtpZighail7aj1jLmZpbGw9aC5jcmVhdGVOb2RlKCJmaWxsIik7Yj10cnVlfWlmKEV4dC5pc0FycmF5KGUuZmlsbCkpe2UuZmlsbD1lLmZpbGxbMF19aWYoZS5maWxsPT0ibm9uZSIpe2oub249ZmFsc2V9ZWxzZXtpZih0eXBlb2YgZS5vcGFjaXR5PT0ibnVtYmVyIil7ai5vcGFjaXR5PWUub3BhY2l0eX1pZih0eXBlb2YgZVsiZmlsbC1vcGFjaXR5Il09PSJudW1iZXIiKXtqLm9wYWNpdHk9ZVsiZmlsbC1vcGFjaXR5Il19ai5vbj10cnVlO2lmKHR5cGVvZiBlLmZpbGw9PSJzdHJpbmciKXthPWUuZmlsbC5tYXRjaChoLmZpbGxVcmxSZSk7aWYoYSl7YT1hWzFdO2lmKGEuY2hhckF0KDApPT0iIyIpe2k9aC5ncmFkaWVudHNDb2xsLmdldEJ5S2V5KGEuc3Vic3RyaW5nKDEpKX1pZihpKXtsPWUucm90YXRpb247ZD0tKGkuYW5nbGUrMjcwKyhsP2wuZGVncmVlczowKSklMzYwO2lmKGQ9PT0wKXtkPTE4MH1qLmFuZ2xlPWQ7ai50eXBlPSJncmFkaWVudCI7ai5tZXRob2Q9InNpZ21hIjtpZihqLmNvbG9ycyl7ai5jb2xvcnMudmFsdWU9aS5jb2xvcnN9ZWxzZXtqLmNvbG9ycz1pLmNvbG9yc319ZWxzZXtqLnNyYz1hO2oudHlwZT0idGlsZSJ9fWVsc2V7ai5jb2xvcj1FeHQuZHJhdy5Db2xvci50b0hleChlLmZpbGwpO2ouc3JjPSIiO2oudHlwZT0ic29saWQifX19aWYoYil7Yy5hcHBlbmRDaGlsZChqKX19LHNldFN0cm9rZTpmdW5jdGlvbihiLGgpe3ZhciBlPXRoaXMsZD1iLmVsLmRvbSxpPWIuc3Ryb2tlRWwsZz1mYWxzZSxjLGE7aWYoIWkpe2k9Yi5zdHJva2VFbD1lLmNyZWF0ZU5vZGUoInN0cm9rZSIpO2c9dHJ1ZX1pZihFeHQuaXNBcnJheShoLnN0cm9rZSkpe2guc3Ryb2tlPWguc3Ryb2tlWzBdfWlmKCFoLnN0cm9rZXx8aC5zdHJva2U9PSJub25lInx8aC5zdHJva2U9PTB8fGhbInN0cm9rZS13aWR0aCJdPT0wKXtpLm9uPWZhbHNlfWVsc2V7aS5vbj10cnVlO2lmKGguc3Ryb2tlJiYhaC5zdHJva2UubWF0Y2goZS5maWxsVXJsUmUpKXtpLmNvbG9yPUV4dC5kcmF3LkNvbG9yLnRvSGV4KGguc3Ryb2tlKX1pLmRhc2hzdHlsZT1oWyJzdHJva2UtZGFzaGFycmF5Il0/ImRhc2giOiJzb2xpZCI7aS5qb2luc3R5bGU9aFsic3Ryb2tlLWxpbmVqb2luIl07aS5lbmRjYXA9aFsic3Ryb2tlLWxpbmVjYXAiXXx8InJvdW5kIjtpLm1pdGVybGltaXQ9aFsic3Ryb2tlLW1pdGVybGltaXQiXXx8ODtjPXBhcnNlRmxvYXQoaFsic3Ryb2tlLXdpZHRoIl18fDEpKjAuNzU7YT1oWyJzdHJva2Utb3BhY2l0eSJdfHwxO2lmKEV4dC5pc051bWJlcihjKSYmYzwxKXtpLndlaWdodD0xO2kub3BhY2l0eT1hKmN9ZWxzZXtpLndlaWdodD1jO2kub3BhY2l0eT1hfX1pZihnKXtkLmFwcGVuZENoaWxkKGkpfX0sc2V0Q2xpcDpmdW5jdGlvbihiLGcpe3ZhciBlPXRoaXMsYz1iLmVsLGE9Yi5jbGlwRWwsZD1TdHJpbmcoZ1siY2xpcC1yZWN0Il0pLnNwbGl0KGUuc2VwYXJhdG9yUmUpO2lmKCFhKXthPWIuY2xpcEVsPWUuZWwuaW5zZXJ0Rmlyc3QoRXh0LmdldERvYygpLmRvbS5jcmVhdGVFbGVtZW50KCJkaXYiKSk7YS5hZGRDbHMoRXh0LmJhc2VDU1NQcmVmaXgrInZtbC1zcHJpdGUiKX1pZihkLmxlbmd0aD09NCl7ZFsyXT0rZFsyXSsoK2RbMF0pO2RbM109K2RbM10rKCtkWzFdKTthLnNldFN0eWxlKCJjbGlwIixFeHQuU3RyaW5nLmZvcm1hdCgicmVjdCh7MX1weCB7Mn1weCB7M31weCB7MH1weCkiLGRbMF0sZFsxXSxkWzJdLGRbM10pKTthLnNldFNpemUoZS5lbC53aWR0aCxlLmVsLmhlaWdodCl9ZWxzZXthLnNldFN0eWxlKCJjbGlwIiwiIil9fSxzZXRUZXh0QXR0cmlidXRlczpmdW5jdGlvbihpLGMpe3ZhciBoPXRoaXMsYT1pLnZtbCxlPWEudGV4dHBhdGguc3R5bGUsZz1oLnNwYW4uc3R5bGUsaj1oLnpvb20saz1NYXRoLnJvdW5kLGw9e2ZvbnRTaXplOiJmb250LXNpemUiLGZvbnRXZWlnaHQ6ImZvbnQtd2VpZ2h0Iixmb250U3R5bGU6ImZvbnQtc3R5bGUifSxiLGQ7aWYoaS5kaXJ0eUZvbnQpe2lmKGMuZm9udCl7ZS5mb250PWcuZm9udD1jLmZvbnR9aWYoY1siZm9udC1mYW1pbHkiXSl7ZS5mb250RmFtaWx5PSciJytjWyJmb250LWZhbWlseSJdLnNwbGl0KCIsIilbMF0ucmVwbGFjZShoLmZvbnRGYW1pbHlSZSwiIikrJyInO2cuZm9udEZhbWlseT1jWyJmb250LWZhbWlseSJdfWZvcihiIGluIGwpe2Q9Y1tsW2JdXTtpZihkKXtlW2JdPWdbYl09ZH19aC5zZXRUZXh0KGksYy50ZXh0KTtpZihhLnRleHRwYXRoLnN0cmluZyl7aC5zcGFuLmlubmVySFRNTD1TdHJpbmcoYS50ZXh0cGF0aC5zdHJpbmcpLnJlcGxhY2UoLzwvZywiJiM2MDsiKS5yZXBsYWNlKC8mL2csIiYjMzg7IikucmVwbGFjZSgvXG4vZywiPGJyLz4iKX1hLlc9aC5zcGFuLm9mZnNldFdpZHRoO2EuSD1oLnNwYW4ub2Zmc2V0SGVpZ2h0KzI7aWYoY1sidGV4dC1hbmNob3IiXT09Im1pZGRsZSIpe2VbInYtdGV4dC1hbGlnbiJdPSJjZW50ZXIifWVsc2V7aWYoY1sidGV4dC1hbmNob3IiXT09ImVuZCIpe2VbInYtdGV4dC1hbGlnbiJdPSJyaWdodCI7YS5iYng9LU1hdGgucm91bmQoYS5XLzIpfWVsc2V7ZVsidi10ZXh0LWFsaWduIl09ImxlZnQiO2EuYmJ4PU1hdGgucm91bmQoYS5XLzIpfX19YS5YPWMueDthLlk9Yy55O2EucGF0aC52PUV4dC5TdHJpbmcuZm9ybWF0KCJtezB9LHsxfWx7Mn0sezF9IixNYXRoLnJvdW5kKGEuWCpqKSxNYXRoLnJvdW5kKGEuWSpqKSxNYXRoLnJvdW5kKGEuWCpqKSsxKTtpLmJib3gucGxhaW49bnVsbDtpLmJib3gudHJhbnNmb3JtPW51bGw7aS5kaXJ0eUZvbnQ9ZmFsc2V9LHNldFRleHQ6ZnVuY3Rpb24oYSxiKXthLnZtbC50ZXh0cGF0aC5zdHJpbmc9RXh0Lmh0bWxEZWNvZGUoYil9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmVsLmhpZGUoKX0sc2hvdzpmdW5jdGlvbigpe3RoaXMuZWwuc2hvdygpfSxoaWRlUHJpbTpmdW5jdGlvbihhKXthLmVsLmFkZENscyhFeHQuYmFzZUNTU1ByZWZpeCsiaGlkZS12aXNpYmlsaXR5Iil9LHNob3dQcmltOmZ1bmN0aW9uKGEpe2EuZWwucmVtb3ZlQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJoaWRlLXZpc2liaWxpdHkiKX0sc2V0U2l6ZTpmdW5jdGlvbihiLGEpe3ZhciBjPXRoaXM7Yj1ifHxjLndpZHRoO2E9YXx8Yy5oZWlnaHQ7Yy53aWR0aD1iO2MuaGVpZ2h0PWE7aWYoYy5lbCl7aWYoYiE9dW5kZWZpbmVkKXtjLmVsLnNldFdpZHRoKGIpfWlmKGEhPXVuZGVmaW5lZCl7Yy5lbC5zZXRIZWlnaHQoYSl9fWMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxhcHBseVZpZXdCb3g6ZnVuY3Rpb24oKXt2YXIgZz10aGlzLGg9Zy52aWV3Qm94LGU9Zy53aWR0aCxiPWcuaGVpZ2h0LGMsYSxkO2cuY2FsbFBhcmVudCgpO2lmKGgmJihlfHxiKSl7Yz1nLml0ZW1zLml0ZW1zO2E9Yy5sZW5ndGg7Zm9yKGQ9MDtkPGE7ZCsrKXtnLmFwcGx5VHJhbnNmb3JtYXRpb25zKGNbZF0pfX19LG9uQWRkOmZ1bmN0aW9uKGEpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKHRoaXMuZWwpe3RoaXMucmVuZGVySXRlbShhKX19LG9uUmVtb3ZlOmZ1bmN0aW9uKGEpe2lmKGEuZWwpe2EuZWwucmVtb3ZlKCk7ZGVsZXRlIGEuZWx9dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LHJlbmRlcjpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGc9RXh0LmdldERvYygpLmRvbSxiO2lmKCFjLmNyZWF0ZU5vZGUpe3RyeXtpZighZy5uYW1lc3BhY2VzLnJ2bWwpe2cubmFtZXNwYWNlcy5hZGQoInJ2bWwiLCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbCIpfWMuY3JlYXRlTm9kZT1mdW5jdGlvbihlKXtyZXR1cm4gZy5jcmVhdGVFbGVtZW50KCI8cnZtbDoiK2UrJyBjbGFzcz0icnZtbCI+Jyl9fWNhdGNoKGQpe2MuY3JlYXRlTm9kZT1mdW5jdGlvbihlKXtyZXR1cm4gZy5jcmVhdGVFbGVtZW50KCI8IitlKycgeG1sbnM9InVybjpzY2hlbWFzLW1pY3Jvc29mdC5jb206dm1sIiBjbGFzcz0icnZtbCI+Jyl9fX1pZighYy5lbCl7Yj1nLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2MuZWw9RXh0LmdldChiKTtjLmVsLmFkZENscyhjLmJhc2VWbWxDbHMpO2Muc3Bhbj1nLmNyZWF0ZUVsZW1lbnQoInNwYW4iKTtFeHQuZ2V0KGMuc3BhbikuYWRkQ2xzKGMubWVhc3VyZVNwYW5DbHMpO2IuYXBwZW5kQ2hpbGQoYy5zcGFuKTtjLmVsLnNldFNpemUoYy53aWR0aHx8MCxjLmhlaWdodHx8MCk7YS5hcHBlbmRDaGlsZChiKTtjLmVsLm9uKHtzY29wZTpjLG1vdXNldXA6Yy5vbk1vdXNlVXAsbW91c2Vkb3duOmMub25Nb3VzZURvd24sbW91c2VvdmVyOmMub25Nb3VzZU92ZXIsbW91c2VvdXQ6Yy5vbk1vdXNlT3V0LG1vdXNlbW92ZTpjLm9uTW91c2VNb3ZlLG1vdXNlZW50ZXI6Yy5vbk1vdXNlRW50ZXIsbW91c2VsZWF2ZTpjLm9uTW91c2VMZWF2ZSxjbGljazpjLm9uQ2xpY2ssZGJsY2xpY2s6Yy5vbkRibENsaWNrfSl9Yy5yZW5kZXJBbGwoKX0scmVuZGVyQWxsOmZ1bmN0aW9uKCl7dGhpcy5pdGVtcy5lYWNoKHRoaXMucmVuZGVySXRlbSx0aGlzKX0scmVkcmF3OmZ1bmN0aW9uKGEpe2EuZGlydHk9dHJ1ZTt0aGlzLnJlbmRlckl0ZW0oYSl9LHJlbmRlckl0ZW06ZnVuY3Rpb24oYSl7aWYoIXRoaXMuZWwpe3JldHVybn1pZighYS5lbCl7dGhpcy5jcmVhdGVTcHJpdGVFbGVtZW50KGEpfWlmKGEuZGlydHkpe3RoaXMuYXBwbHlBdHRycyhhKTtpZihhLmRpcnR5VHJhbnNmb3JtKXt0aGlzLmFwcGx5VHJhbnNmb3JtYXRpb25zKGEpfX19LHJvdGF0aW9uQ29tcGVuc2F0aW9uOmZ1bmN0aW9uKGQsYyxhKXt2YXIgYj1uZXcgRXh0LmRyYXcuTWF0cml4KCk7Yi5yb3RhdGUoLWQsMC41LDAuNSk7cmV0dXJue3g6Yi54KGMsYSkseTpiLnkoYyxhKX19LHRyYW5zZm9ybTpmdW5jdGlvbih4LEkpe3ZhciBIPXRoaXMsYj1ILmdldEJCb3goeCx0cnVlKSxqPWIueCtiLndpZHRoKjAuNSxoPWIueStiLmhlaWdodCowLjUsQj1uZXcgRXh0LmRyYXcuTWF0cml4KCkscT14LnRyYW5zZm9ybWF0aW9ucyx2PXEubGVuZ3RoLEM9MCxvPTAsZD0xLGM9MSxuPSIiLGc9eC5lbCxFPWcuZG9tLHo9RS5zdHlsZSxhPUguem9vbSxrPXguc2tldyxEPUgudmlld0JveFNoaWZ0LEcsRixzLGwscixwLEEsdyx1LHQsZSxtO2Zvcig7Qzx2O0MrKyl7cz1xW0NdO2w9cy50eXBlO2lmKGw9PSJ0cmFuc2xhdGUiKXtCLnRyYW5zbGF0ZShzLngscy55KX1lbHNle2lmKGw9PSJyb3RhdGUiKXtCLnJvdGF0ZShzLmRlZ3JlZXMscy54LHMueSk7bys9cy5kZWdyZWVzfWVsc2V7aWYobD09InNjYWxlIil7Qi5zY2FsZShzLngscy55LHMuY2VudGVyWCxzLmNlbnRlclkpO2QqPXMueDtjKj1zLnl9fX19eC5tYXRyaXg9Qi5jbG9uZSgpO2lmKEkpe3JldHVybn1pZihEKXtCLnByZXBlbmQoRC5zY2FsZSwwLDAsRC5zY2FsZSxELmR4KkQuc2NhbGUsRC5keSpELnNjYWxlKX1pZih4LnR5cGUhPSJpbWFnZSImJmspe2sub3JpZ2luPSIwLDAiO2subWF0cml4PUIudG9TdHJpbmcoKTttPUIub2Zmc2V0KCk7aWYobVswXT4zMjc2Nyl7bVswXT0zMjc2N31lbHNle2lmKG1bMF08LTMyNzY4KXttWzBdPS0zMjc2OH19aWYobVsxXT4zMjc2Nyl7bVsxXT0zMjc2N31lbHNle2lmKG1bMV08LTMyNzY4KXttWzFdPS0zMjc2OH19ay5vZmZzZXQ9bX1lbHNle3ouZmlsdGVyPUIudG9GaWx0ZXIoKTt6LmxlZnQ9TWF0aC5taW4oQi54KGIueCxiLnkpLEIueChiLngrYi53aWR0aCxiLnkpLEIueChiLngsYi55K2IuaGVpZ2h0KSxCLngoYi54K2Iud2lkdGgsYi55K2IuaGVpZ2h0KSkrInB4Ijt6LnRvcD1NYXRoLm1pbihCLnkoYi54LGIueSksQi55KGIueCtiLndpZHRoLGIueSksQi55KGIueCxiLnkrYi5oZWlnaHQpLEIueShiLngrYi53aWR0aCxiLnkrYi5oZWlnaHQpKSsicHgifX0sY3JlYXRlSXRlbTpmdW5jdGlvbihhKXtyZXR1cm4gRXh0LmNyZWF0ZSgiRXh0LmRyYXcuU3ByaXRlIixhKX0sZ2V0UmVnaW9uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWwuZ2V0UmVnaW9uKCl9LGFkZENsczpmdW5jdGlvbihhLGIpe2lmKGEmJmEuZWwpe2EuZWwuYWRkQ2xzKGIpfX0scmVtb3ZlQ2xzOmZ1bmN0aW9uKGEsYil7aWYoYSYmYS5lbCl7YS5lbC5yZW1vdmVDbHMoYil9fSxhZGRHcmFkaWVudDpmdW5jdGlvbihnKXt2YXIgZD10aGlzLmdyYWRpZW50c0NvbGx8fCh0aGlzLmdyYWRpZW50c0NvbGw9RXh0LmNyZWF0ZSgiRXh0LnV0aWwuTWl4ZWRDb2xsZWN0aW9uIikpLGE9W10saj1FeHQuY3JlYXRlKCJFeHQudXRpbC5NaXhlZENvbGxlY3Rpb24iKSxsLGUsYixoLGssYztqLmFkZEFsbChnLnN0b3BzKTtqLnNvcnRCeUtleSgiQVNDIixmdW5jdGlvbihtLGkpe209cGFyc2VJbnQobSwxMCk7aT1wYXJzZUludChpLDEwKTtyZXR1cm4gbT5pPzE6KG08aT8tMTowKX0pO2w9ai5rZXlzO2U9ai5pdGVtcztiPWwubGVuZ3RoO2ZvcihjPTA7YzxiO2MrKyl7aD1sW2NdO2s9ZVtjXTthLnB1c2goaCsiJSAiK2suY29sb3IpfWQuYWRkKGcuaWQse2NvbG9yczphLmpvaW4oIiwiKSxhbmdsZTpnLmFuZ2xlfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGEuZWwpe2EuZWwucmVtb3ZlKCl9ZGVsZXRlIGEuZWx9fSk7RXh0LmRlZmluZSgiRXh0LmRkLkRyYWdab25lIix7ZXh0ZW5kOiJFeHQuZGQuRHJhZ1NvdXJjZSIsY29uc3RydWN0b3I6ZnVuY3Rpb24oYixhKXt0aGlzLmNhbGxQYXJlbnQoW2IsYV0pO2lmKHRoaXMuY29udGFpbmVyU2Nyb2xsKXtFeHQuZGQuU2Nyb2xsTWFuYWdlci5yZWdpc3Rlcih0aGlzLmVsKX19LGdldERyYWdEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuZGQuUmVnaXN0cnkuZ2V0SGFuZGxlRnJvbUV2ZW50KGEpfSxvbkluaXREcmFnOmZ1bmN0aW9uKGEsYil7dGhpcy5wcm94eS51cGRhdGUodGhpcy5kcmFnRGF0YS5kZGVsLmNsb25lTm9kZSh0cnVlKSk7dGhpcy5vblN0YXJ0RHJhZyhhLGIpO3JldHVybiB0cnVlfSxhZnRlclJlcGFpcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoRXh0LmVuYWJsZUZ4KXtFeHQuZmx5KGEuZHJhZ0RhdGEuZGRlbCkuaGlnaGxpZ2h0KGEucmVwYWlySGlnaGxpZ2h0Q29sb3IpfWEuZHJhZ2dpbmc9ZmFsc2V9LGdldFJlcGFpclhZOmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuZmx5KHRoaXMuZHJhZ0RhdGEuZGRlbCkuZ2V0WFkoKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudCgpO2lmKHRoaXMuY29udGFpbmVyU2Nyb2xsKXtFeHQuZGQuU2Nyb2xsTWFuYWdlci51bnJlZ2lzdGVyKHRoaXMuZWwpfX19KTtFeHQuZGVmaW5lKCJFeHQuZmxhc2guQ29tcG9uZW50Iix7ZXh0ZW5kOiJFeHQuQ29tcG9uZW50IixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5GbGFzaENvbXBvbmVudCIsYWxpYXM6IndpZGdldC5mbGFzaCIsZmxhc2hWZXJzaW9uOiI5LjAuMTE1IixiYWNrZ3JvdW5kQ29sb3I6IiNmZmZmZmYiLHdtb2RlOiJvcGFxdWUiLHN3ZldpZHRoOiIxMDAlIixzd2ZIZWlnaHQ6IjEwMCUiLGV4cHJlc3NJbnN0YWxsOmZhbHNlLHJlbmRlclRwbDpbJzxkaXYgaWQ9Intzd2ZJZH0iPjwvZGl2PiddLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoKTt0aGlzLmFkZEV2ZW50cygic3VjY2VzcyIsImZhaWx1cmUiKX0sYmVmb3JlUmVuZGVyOmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KCk7RXh0LmFwcGx5SWYodGhpcy5yZW5kZXJEYXRhLHtzd2ZJZDp0aGlzLmdldFN3ZklkKCl9KX0sYWZ0ZXJSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9RXh0LmFwcGx5KHt9LGIuZmxhc2hQYXJhbXMpLGM9RXh0LmFwcGx5KHt9LGIuZmxhc2hWYXJzKTtiLmNhbGxQYXJlbnQoKTtFeHQuYXBwbHkoe2FsbG93U2NyaXB0QWNjZXNzOiJhbHdheXMiLGJnY29sb3I6Yi5iYWNrZ3JvdW5kQ29sb3Isd21vZGU6Yi53bW9kZX0sYSk7RXh0LmFwcGx5KHthbGxvd2VkRG9tYWluOmRvY3VtZW50LmxvY2F0aW9uLmhvc3RuYW1lfSxjKTtuZXcgc3dmb2JqZWN0LmVtYmVkU1dGKGIudXJsLGIuZ2V0U3dmSWQoKSxiLnN3ZldpZHRoLGIuc3dmSGVpZ2h0LGIuZmxhc2hWZXJzaW9uLGIuZXhwcmVzc0luc3RhbGw/Yi5zdGF0aWNzLkVYUFJFU1NfSU5TVEFMTF9VUkw6dW5kZWZpbmVkLGMsYSxiLmZsYXNoQXR0cmlidXRlcyxFeHQuYmluZChiLnN3ZkNhbGxiYWNrLGIpKX0sc3dmQ2FsbGJhY2s6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZihiLnN1Y2Nlc3Mpe2Euc3dmPUV4dC5nZXQoYi5yZWYpO2Eub25TdWNjZXNzKCk7YS5maXJlRXZlbnQoInN1Y2Nlc3MiLGEpfWVsc2V7YS5vbkZhaWx1cmUoKTthLmZpcmVFdmVudCgiZmFpbHVyZSIsYSl9fSxnZXRTd2ZJZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN3ZklkfHwodGhpcy5zd2ZJZD0iZXh0c3dmIit0aGlzLmdldEF1dG9JZCgpKX0sb25TdWNjZXNzOmZ1bmN0aW9uKCl7dGhpcy5zd2Yuc2V0U3R5bGUoInZpc2liaWxpdHkiLCJpbmhlcml0Iil9LG9uRmFpbHVyZTpFeHQuZW1wdHlGbixiZWZvcmVEZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuc3dmO2lmKGEpe3N3Zm9iamVjdC5yZW1vdmVTV0YoYi5nZXRTd2ZJZCgpKTtFeHQuZGVzdHJveShhKTtkZWxldGUgYi5zd2Z9Yi5jYWxsUGFyZW50KCl9LHN0YXRpY3M6e0VYUFJFU1NfSU5TVEFMTF9VUkw6Imh0dHA6Ly9zd2ZvYmplY3QuZ29vZ2xlY29kZS5jb20vc3ZuL3RydW5rL3N3Zm9iamVjdC9leHByZXNzSW5zdGFsbC5zd2YifX0pO0V4dC5kZWZpbmUoIkV4dC5mb3JtLkNoZWNrYm94TWFuYWdlciIse2V4dGVuZDoiRXh0LnV0aWwuTWl4ZWRDb2xsZWN0aW9uIixzaW5nbGV0b246dHJ1ZSxnZXRCeU5hbWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZmlsdGVyQnkoZnVuY3Rpb24oYil7cmV0dXJuIGIubmFtZT09YX0pfSxnZXRXaXRoVmFsdWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5maWx0ZXJCeShmdW5jdGlvbihjKXtyZXR1cm4gYy5uYW1lPT1hJiZjLmlucHV0VmFsdWU9PWJ9KX0sZ2V0Q2hlY2tlZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5maWx0ZXJCeShmdW5jdGlvbihiKXtyZXR1cm4gYi5uYW1lPT1hJiZiLmNoZWNrZWR9KX19KTtFeHQuZGVmaW5lKCJFeHQuZm9ybS5MYWJlbCIse2V4dGVuZDoiRXh0LkNvbXBvbmVudCIsYWxpYXM6IndpZGdldC5sYWJlbCIscmVxdWlyZXM6WyJFeHQudXRpbC5Gb3JtYXQiXSxhdXRvRWw6ImxhYmVsIixtYXNrT25EaXNhYmxlOmZhbHNlLGdldEVsQ29uZmlnOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmh0bWw9YS50ZXh0P0V4dC51dGlsLkZvcm1hdC5odG1sRW5jb2RlKGEudGV4dCk6KGEuaHRtbHx8IiIpO3JldHVybiBFeHQuYXBwbHkoYS5jYWxsUGFyZW50KCkse2h0bWxGb3I6YS5mb3JJZHx8IiJ9KX0sc2V0VGV4dDpmdW5jdGlvbihjLGIpe3ZhciBhPXRoaXM7Yj1iIT09ZmFsc2U7aWYoYil7YS50ZXh0PWM7ZGVsZXRlIGEuaHRtbH1lbHNle2EuaHRtbD1jO2RlbGV0ZSBhLnRleHR9aWYoYS5yZW5kZXJlZCl7YS5lbC5kb20uaW5uZXJIVE1MPWIhPT1mYWxzZT9FeHQudXRpbC5Gb3JtYXQuaHRtbEVuY29kZShjKTpjfXJldHVybiB0aGlzfX0pO0V4dC5kZWZpbmUoIkV4dC5mb3JtLkxhYmVsYWJsZSIse3JlcXVpcmVzOlsiRXh0LlhUZW1wbGF0ZSJdLGF1dG9FbDp7dGFnOiJ0YWJsZSIsY2VsbHBhZGRpbmc6MH0sY2hpbGRFbHM6WyJsYWJlbENlbGwiLCJsYWJlbEVsIiwiYm9keUVsIiwiZXJyb3JFbCIsImlucHV0Um93Il0sbGFiZWxhYmxlUmVuZGVyVHBsOlsiPHRwbCBpZj1cImxhYmVsQWxpZ249PSd0b3AnXCI+IiwiPHRyPiIsJzx0ZCBpZD0ie2lkfS1sYWJlbENlbGwiIGNvbHNwYW49IjMiIHN0eWxlPSJ7bGFiZWxDZWxsU3R5bGV9IiB7bGFiZWxDZWxsQXR0cnN9PicsIntiZWZvcmVMYWJlbFRwbH0iLCc8bGFiZWwgaWQ9IntpZH0tbGFiZWxFbCIge2xhYmVsQXR0clRwbH08dHBsIGlmPSJpbnB1dElkIj4gZm9yPSJ7aW5wdXRJZH0iPC90cGw+IGNsYXNzPSJ7bGFiZWxDbHN9IicsJzx0cGwgaWY9ImxhYmVsU3R5bGUiPiBzdHlsZT0ie2xhYmVsU3R5bGV9IjwvdHBsPj4nLCJ7YmVmb3JlTGFiZWxUZXh0VHBsfSIsJzx0cGwgaWY9ImZpZWxkTGFiZWwiPntmaWVsZExhYmVsfXtsYWJlbFNlcGFyYXRvcn08L3RwbD4nLCJ7YWZ0ZXJMYWJlbFRleHRUcGx9IiwiPC9sYWJlbD4iLCJ7YWZ0ZXJMYWJlbFRwbH0iLCI8L3RkPiIsIjwvdHI+IiwiPC90cGw+IiwnPHRyIGlkPSJ7aWR9LWlucHV0Um93IiA8dHBsIGlmPSJpbkZvcm1MYXlvdXQiPmlkPSJ7aWR9IjwvdHBsPj4nLCc8dHBsIGlmPSJsYWJlbE9uTGVmdCI+JywnPHRkIGlkPSJ7aWR9LWxhYmVsQ2VsbCIgc3R5bGU9IntsYWJlbENlbGxTdHlsZX0iIHtsYWJlbENlbGxBdHRyc30+Jywie2JlZm9yZUxhYmVsVHBsfSIsJzxsYWJlbCBpZD0ie2lkfS1sYWJlbEVsIiB7bGFiZWxBdHRyVHBsfTx0cGwgaWY9ImlucHV0SWQiPiBmb3I9IntpbnB1dElkfSI8L3RwbD4gY2xhc3M9IntsYWJlbENsc30iJywnPHRwbCBpZj0ibGFiZWxTdHlsZSI+IHN0eWxlPSJ7bGFiZWxTdHlsZX0iPC90cGw+PicsIntiZWZvcmVMYWJlbFRleHRUcGx9IiwnPHRwbCBpZj0iZmllbGRMYWJlbCI+e2ZpZWxkTGFiZWx9e2xhYmVsU2VwYXJhdG9yfTwvdHBsPicsInthZnRlckxhYmVsVGV4dFRwbH0iLCI8L2xhYmVsPiIsInthZnRlckxhYmVsVHBsfSIsIjwvdGQ+IiwiPC90cGw+IiwnPHRkIGNsYXNzPSJ7YmFzZUJvZHlDbHN9IHtmaWVsZEJvZHlDbHN9IiBpZD0ie2lkfS1ib2R5RWwiIHJvbGU9InByZXNlbnRhdGlvbiIgY29sc3Bhbj0ie2JvZHlDb2xzcGFufSI+Jywie2JlZm9yZVN1YlRwbH0iLCJ7W3ZhbHVlcy4kY29tcC5nZXRTdWJUcGxNYXJrdXAoKV19Iiwie2FmdGVyU3ViVHBsfSIsIjwvdGQ+IiwiPHRwbCBpZj1cIm1zZ1RhcmdldD09J3NpZGUnXCI+IiwnPHRkIGlkPSJ7aWR9LWVycm9yRWwiIGNsYXNzPSJ7ZXJyb3JNc2dDbHN9IiBzdHlsZT0iZGlzcGxheTpub25lIiB3aWR0aD0ie2Vycm9ySWNvbldpZHRofSI+PC90ZD4nLCI8L3RwbD4iLCI8L3RyPiIsIjx0cGwgaWY9XCJtc2dUYXJnZXQ9PSd1bmRlcidcIj4iLCI8dHI+IiwnPHRwbCBpZj0ibGFiZWxPbkxlZnQiPicsIjx0ZD48L3RkPiIsIjwvdHBsPiIsJzx0ZCBpZD0ie2lkfS1lcnJvckVsIiBjbGFzcz0ie2Vycm9yTXNnQ2xhc3N9IiBjb2xzcGFuPSJ7W3ZhbHVlcy5sYWJlbE9uTGVmdCA/IDIgOiAzXX0iIHN0eWxlPSJkaXNwbGF5Om5vbmUiPjwvdGQ+JywiPC90cj4iLCI8L3RwbD4iLHtkaXNhYmxlRm9ybWF0czp0cnVlfV0sYWN0aXZlRXJyb3JzVHBsOlsnPHRwbCBpZj0iZXJyb3JzICYmIGVycm9ycy5sZW5ndGgiPicsJzx1bD48dHBsIGZvcj0iZXJyb3JzIj48bGk+ey59PC9saT48L3RwbD48L3VsPicsIjwvdHBsPiJdLGlzRmllbGRMYWJlbGFibGU6dHJ1ZSxmb3JtSXRlbUNsczpFeHQuYmFzZUNTU1ByZWZpeCsiZm9ybS1pdGVtIixsYWJlbENsczpFeHQuYmFzZUNTU1ByZWZpeCsiZm9ybS1pdGVtLWxhYmVsIixlcnJvck1zZ0NsczpFeHQuYmFzZUNTU1ByZWZpeCsiZm9ybS1lcnJvci1tc2ciLGJhc2VCb2R5Q2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmb3JtLWl0ZW0tYm9keSIsZmllbGRCb2R5Q2xzOiIiLGNsZWFyQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJjbGVhciIsaW52YWxpZENsczpFeHQuYmFzZUNTU1ByZWZpeCsiZm9ybS1pbnZhbGlkIixmaWVsZExhYmVsOnVuZGVmaW5lZCxsYWJlbEFsaWduOiJsZWZ0IixsYWJlbFdpZHRoOjEwMCxsYWJlbFBhZDo1LGxhYmVsU2VwYXJhdG9yOiI6IixoaWRlTGFiZWw6ZmFsc2UsaGlkZUVtcHR5TGFiZWw6dHJ1ZSxwcmV2ZW50TWFyazpmYWxzZSxhdXRvRml0RXJyb3JzOnRydWUsbXNnVGFyZ2V0OiJxdGlwIixub1dyYXA6dHJ1ZSxsYWJlbGFibGVJbnNlcnRpb25zOlsiYmVmb3JlTGFiZWxUcGwiLCJhZnRlckxhYmVsVHBsIiwiYmVmb3JlU3ViVHBsIiwiYWZ0ZXJTdWJUcGwiLCJiZWZvcmVMYWJlbFRleHRUcGwiLCJhZnRlckxhYmVsVGV4dFRwbCIsImxhYmVsQXR0clRwbCJdLGxhYmVsYWJsZVJlbmRlclByb3BzOiJhbGxvd0JsYW5rLGxhYmVsQWxpZ24sZmllbGRCb2R5Q2xzLGJhc2VCb2R5Q2xzLGNsZWFyQ2xzLGxhYmVsU2VwYXJhdG9yLG1zZ1RhcmdldCIsaW5pdExhYmVsYWJsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLnBhZGRpbmc7aWYoYil7YS5wYWRkaW5nPXVuZGVmaW5lZDthLmV4dHJhTWFyZ2lucz1FeHQuRWxlbWVudC5wYXJzZUJveChiKX1hLmFkZENscyhhLmZvcm1JdGVtQ2xzKTthLmxhc3RBY3RpdmVFcnJvcj0iIjthLmFkZEV2ZW50cygiZXJyb3JjaGFuZ2UiKX0sZ2V0RmllbGRMYWJlbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZpZWxkTGFiZWx8fCIifSxzZXRGaWVsZExhYmVsOmZ1bmN0aW9uKGIpe2I9Ynx8IiI7dmFyIGQ9dGhpcyxlPWQubGFiZWxTZXBhcmF0b3IsYT1kLmxhYmVsRWwsYztkLmZpZWxkTGFiZWw9YjtpZihkLnJlbmRlcmVkKXtpZihFeHQuaXNFbXB0eShiKSYmZC5oaWRlRW1wdHlMYWJlbCl7YS5wYXJlbnQoKS5zZXREaXNwbGF5ZWQoIm5vbmUiKX1lbHNle2lmKGUpe2M9Yi5zdWJzdHIoYi5sZW5ndGgtMSk7aWYoYyE9ZSl7Yis9ZX19YS51cGRhdGUoYik7YS5wYXJlbnQoKS5zZXREaXNwbGF5ZWQoIiIpfWQudXBkYXRlTGF5b3V0KCl9fSxnZXRJbnNlcnRpb25SZW5kZXJEYXRhOmZ1bmN0aW9uKGQsZSl7dmFyIGI9ZS5sZW5ndGgsYSxjO3doaWxlKGItLSl7YT1lW2JdO2M9dGhpc1thXTtpZihjKXtpZih0eXBlb2YgYyE9InN0cmluZyIpe2lmKCFjLmlzVGVtcGxhdGUpe2M9RXh0LlhUZW1wbGF0ZS5nZXRUcGwodGhpcyxhKX1jPWMuYXBwbHkoZCl9fWRbYV09Y3x8IiJ9cmV0dXJuIGR9LGdldExhYmVsYWJsZVJlbmRlckRhdGE6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGIsYztpZighRXh0LmZvcm0uTGFiZWxhYmxlLmVycm9ySWNvbldpZHRoKXtFeHQuZm9ybS5MYWJlbGFibGUuZXJyb3JJY29uV2lkdGg9KGM9RXh0LmdldEJvZHkoKS5jcmVhdGVDaGlsZCh7c3R5bGU6InBvc2l0aW9uOmFic29sdXRlIixjbHM6RXh0LmJhc2VDU1NQcmVmaXgrImZvcm0taW52YWxpZC1pY29uIn0pKS5nZXRXaWR0aCgpO2MucmVtb3ZlKCl9Yj1FeHQuY29weVRvKHtpbkZvcm1MYXlvdXQ6YS5vd25lckxheW91dCYmYS5vd25lckxheW91dC50eXBlPT09ImZvcm0iLGlucHV0SWQ6YS5nZXRJbnB1dElkKCksbGFiZWxPbkxlZnQ6YS5sYWJlbEFsaWduIT0idG9wIixmaWVsZExhYmVsOmEuZ2V0RmllbGRMYWJlbCgpLGxhYmVsQ2VsbFN0eWxlOmEuZ2V0TGFiZWxDZWxsU3R5bGUoKSxsYWJlbENlbGxBdHRyczphLmdldExhYmVsQ2VsbEF0dHJzKCksbGFiZWxDbHM6YS5nZXRMYWJlbENscygpLGxhYmVsU3R5bGU6YS5nZXRMYWJlbFN0eWxlKCksYm9keUNvbHNwYW46YS5nZXRCb2R5Q29sc3BhbigpLGVycm9yTXNnQ2xzOmEuZXJyb3JNc2dDbHMrKGEuYXV0b0ZpdEVycm9ycz8iIjoiICIrRXh0LmJhc2VDU1NQcmVmaXgrImV4dGVybmFsLWVycm9yLWljb24iKSxlcnJvckljb25XaWR0aDpFeHQuZm9ybS5MYWJlbGFibGUuZXJyb3JJY29uV2lkdGh9LGEsYS5sYWJlbGFibGVSZW5kZXJQcm9wcyx0cnVlKTthLmdldEluc2VydGlvblJlbmRlckRhdGEoYixhLmxhYmVsYWJsZUluc2VydGlvbnMpO3JldHVybiBifSxiZWZvcmVMYWJlbGFibGVSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEub3duZXJMYXlvdXQpe2EuYWRkQ2xzKEV4dC5iYXNlQ1NTUHJlZml4K2Eub3duZXJMYXlvdXQudHlwZSsiLWZvcm0taXRlbSIpfX0sb25MYWJlbGFibGVSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGQsYSxiPXt9O2lmKGMuZXh0cmFNYXJnaW5zKXtkPWMuZWwuZ2V0TWFyZ2luKCk7Zm9yKGEgaW4gZCl7aWYoZC5oYXNPd25Qcm9wZXJ0eShhKSl7YlsibWFyZ2luLSIrYV09KGRbYV0rYy5leHRyYU1hcmdpbnNbYV0pKyJweCJ9fWMuZWwuc2V0U3R5bGUoYil9fSxoYXNWaXNpYmxlTGFiZWw6ZnVuY3Rpb24oKXtpZih0aGlzLmhpZGVMYWJlbCl7cmV0dXJuIGZhbHNlfXJldHVybiAhKHRoaXMuaGlkZUVtcHR5TGFiZWwmJiF0aGlzLmdldEZpZWxkTGFiZWwoKSl9LGdldEJvZHlDb2xzcGFuOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPSFjLmhhc1Zpc2libGVMYWJlbCgpLGE7YT0oYnx8Yy5sYWJlbEFsaWduPT09InRvcCIpPzM6MjtpZihjLmhhc0FjdGl2ZUVycm9yKCkpe2EtLX1yZXR1cm4gYX0sZ2V0TGFiZWxDbHM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmxhYmVsQ2xzLGE9dGhpcy5sYWJlbENsc0V4dHJhO3JldHVybiBhP2IrIiAiK2E6Yn0sZ2V0TGFiZWxDZWxsU3R5bGU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5oaWRlTGFiZWx8fCghYi5maWVsZExhYmVsJiZiLmhpZGVFbXB0eUxhYmVsKTtyZXR1cm4gYT8iZGlzcGxheTpub25lOyI6IiJ9LGdldExhYmVsQ2VsbEF0dHJzOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPWMubGFiZWxBbGlnbixhPSIiO2lmKGIhPT0idG9wIil7YT0ndmFsaWduPSJ0b3AiIGhhbGlnbj0iJytiKyciIHdpZHRoPSInKyhjLmxhYmVsV2lkdGgrYy5sYWJlbFBhZCkrJyInfXJldHVybiBhKycgY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrJ2ZpZWxkLWxhYmVsLWNlbGwiJ30sZ2V0TGFiZWxTdHlsZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj1jLmxhYmVsUGFkLGE9IiI7aWYoYy5sYWJlbEFsaWduPT09InRvcCIpe2E9Im1hcmdpbi1ib3R0b206IitiKyJweDsifWVsc2V7aWYoYy5sYWJlbFdpZHRoKXthPSJ3aWR0aDoiK2MubGFiZWxXaWR0aCsicHg7In1hKz0ibWFyZ2luLXJpZ2h0OiIrYisicHg7In1yZXR1cm4gYSsoYy5sYWJlbFN0eWxlfHwiIil9LGdldFN1YlRwbE1hcmt1cDpmdW5jdGlvbigpe3JldHVybiIifSxnZXRJbnB1dElkOmZ1bmN0aW9uKCl7cmV0dXJuIiJ9LGdldEFjdGl2ZUVycm9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlRXJyb3J8fCIifSxoYXNBY3RpdmVFcnJvcjpmdW5jdGlvbigpe3JldHVybiAhIXRoaXMuZ2V0QWN0aXZlRXJyb3IoKX0sc2V0QWN0aXZlRXJyb3I6ZnVuY3Rpb24oYSl7dGhpcy5zZXRBY3RpdmVFcnJvcnMoYSl9LGdldEFjdGl2ZUVycm9yczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZUVycm9yc3x8W119LHNldEFjdGl2ZUVycm9yczpmdW5jdGlvbihhKXthPUV4dC5BcnJheS5mcm9tKGEpO3RoaXMuYWN0aXZlRXJyb3I9YVswXTt0aGlzLmFjdGl2ZUVycm9ycz1hO3RoaXMuYWN0aXZlRXJyb3I9dGhpcy5nZXRUcGwoImFjdGl2ZUVycm9yc1RwbCIpLmFwcGx5KHtlcnJvcnM6YX0pO3RoaXMucmVuZGVyQWN0aXZlRXJyb3IoKX0sdW5zZXRBY3RpdmVFcnJvcjpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLmFjdGl2ZUVycm9yO2RlbGV0ZSB0aGlzLmFjdGl2ZUVycm9yczt0aGlzLnJlbmRlckFjdGl2ZUVycm9yKCl9LHJlbmRlckFjdGl2ZUVycm9yOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPWMuZ2V0QWN0aXZlRXJyb3IoKSxhPSEhYjtpZihiIT09Yy5sYXN0QWN0aXZlRXJyb3Ipe2MuZmlyZUV2ZW50KCJlcnJvcmNoYW5nZSIsYyxiKTtjLmxhc3RBY3RpdmVFcnJvcj1ifWlmKGMucmVuZGVyZWQmJiFjLmlzRGVzdHJveWVkJiYhYy5wcmV2ZW50TWFyayl7Yy5lbFthPyJhZGRDbHMiOiJyZW1vdmVDbHMiXShjLmludmFsaWRDbHMpO2MuZ2V0QWN0aW9uRWwoKS5kb20uc2V0QXR0cmlidXRlKCJhcmlhLWludmFsaWQiLGEpO2lmKGMuZXJyb3JFbCl7Yy5lcnJvckVsLmRvbS5pbm5lckhUTUw9Yn19fSxzZXRGaWVsZERlZmF1bHRzOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsZCxhO2ZvcihhIGluIGMpe2lmKGMuaGFzT3duUHJvcGVydHkoYSkpe2Q9Y1thXTtpZighYi5oYXNPd25Qcm9wZXJ0eShhKSl7YlthXT1kfX19fX0pO0V4dC5kZWZpbmUoIkV4dC5mb3JtLlJhZGlvTWFuYWdlciIse2V4dGVuZDoiRXh0LnV0aWwuTWl4ZWRDb2xsZWN0aW9uIixzaW5nbGV0b246dHJ1ZSxnZXRCeU5hbWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5maWx0ZXJCeShmdW5jdGlvbihjKXtyZXR1cm4gYy5uYW1lPT1hJiZjLmdldEZvcm1JZCgpPT1ifSl9LGdldFdpdGhWYWx1ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIHRoaXMuZmlsdGVyQnkoZnVuY3Rpb24oZCl7cmV0dXJuIGQubmFtZT09YSYmZC5pbnB1dFZhbHVlPT1iJiZkLmdldEZvcm1JZCgpPT1jfSl9LGdldENoZWNrZWQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5maW5kQnkoZnVuY3Rpb24oYyl7cmV0dXJuIGMubmFtZT09YSYmYy5jaGVja2VkJiZjLmdldEZvcm1JZCgpPT1ifSl9fSk7RXh0LmRlZmluZSgiRXh0LmZvcm0uYWN0aW9uLkRpcmVjdFN1Ym1pdCIse2V4dGVuZDoiRXh0LmZvcm0uYWN0aW9uLlN1Ym1pdCIscmVxdWlyZXM6WyJFeHQuZGlyZWN0Lk1hbmFnZXIiXSxhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5mb3JtLkFjdGlvbi5EaXJlY3RTdWJtaXQiLGFsaWFzOiJmb3JtYWN0aW9uLmRpcmVjdHN1Ym1pdCIsdHlwZToiZGlyZWN0c3VibWl0Iixkb1N1Ym1pdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1FeHQuRnVuY3Rpb24uYmluZChiLm9uQ29tcGxldGUsYiksYT1iLmJ1aWxkRm9ybSgpO2IuZm9ybS5hcGkuc3VibWl0KGEsYyxiKTtFeHQucmVtb3ZlTm9kZShhKX0scHJvY2Vzc1Jlc3BvbnNlOmZ1bmN0aW9uKGEpe3JldHVybih0aGlzLnJlc3VsdD1hKX0sb25Db21wbGV0ZTpmdW5jdGlvbihiLGEpe2lmKGIpe3RoaXMub25TdWNjZXNzKGIpfWVsc2V7dGhpcy5vbkZhaWx1cmUobnVsbCl9fX0pO0V4dC5kZWZpbmUoIkV4dC5mb3JtLmFjdGlvbi5Mb2FkIix7ZXh0ZW5kOiJFeHQuZm9ybS5hY3Rpb24uQWN0aW9uIixyZXF1aXJlczpbIkV4dC5kYXRhLkNvbm5lY3Rpb24iXSxhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5mb3JtLkFjdGlvbi5Mb2FkIixhbGlhczoiZm9ybWFjdGlvbi5sb2FkIix0eXBlOiJsb2FkIixydW46ZnVuY3Rpb24oKXtFeHQuQWpheC5yZXF1ZXN0KEV4dC5hcHBseSh0aGlzLmNyZWF0ZUNhbGxiYWNrKCkse21ldGhvZDp0aGlzLmdldE1ldGhvZCgpLHVybDp0aGlzLmdldFVybCgpLGhlYWRlcnM6dGhpcy5oZWFkZXJzLHBhcmFtczp0aGlzLmdldFBhcmFtcygpfSkpfSxvblN1Y2Nlc3M6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5wcm9jZXNzUmVzcG9uc2UoYiksYz10aGlzLmZvcm07aWYoYT09PXRydWV8fCFhLnN1Y2Nlc3N8fCFhLmRhdGEpe3RoaXMuZmFpbHVyZVR5cGU9RXh0LmZvcm0uYWN0aW9uLkFjdGlvbi5MT0FEX0ZBSUxVUkU7Yy5hZnRlckFjdGlvbih0aGlzLGZhbHNlKTtyZXR1cm59Yy5jbGVhckludmFsaWQoKTtjLnNldFZhbHVlcyhhLmRhdGEpO2MuYWZ0ZXJBY3Rpb24odGhpcyx0cnVlKX0saGFuZGxlUmVzcG9uc2U6ZnVuY3Rpb24oYyl7dmFyIGE9dGhpcy5mb3JtLnJlYWRlcixiLGQ7aWYoYSl7Yj1hLnJlYWQoYyk7ZD1iLnJlY29yZHMmJmIucmVjb3Jkc1swXT9iLnJlY29yZHNbMF0uZGF0YTpudWxsO3JldHVybntzdWNjZXNzOmIuc3VjY2VzcyxkYXRhOmR9fXJldHVybiBFeHQuZGVjb2RlKGMucmVzcG9uc2VUZXh0KX19KTtFeHQuZGVmaW5lKCJFeHQuZm9ybS5hY3Rpb24uRGlyZWN0TG9hZCIse2V4dGVuZDoiRXh0LmZvcm0uYWN0aW9uLkxvYWQiLHJlcXVpcmVzOlsiRXh0LmRpcmVjdC5NYW5hZ2VyIl0sYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuZm9ybS5BY3Rpb24uRGlyZWN0TG9hZCIsYWxpYXM6ImZvcm1hY3Rpb24uZGlyZWN0bG9hZCIsdHlwZToiZGlyZWN0bG9hZCIscnVuOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxjPWQuZm9ybSxiPWMuYXBpLmxvYWQsZT1iLmRpcmVjdENmZy5tZXRob2QsYT1lLmdldEFyZ3MoZC5nZXRQYXJhbXMoKSxjLnBhcmFtT3JkZXIsYy5wYXJhbXNBc0hhc2gpO2EucHVzaChkLm9uQ29tcGxldGUsZCk7Yi5hcHBseSh3aW5kb3csYSl9LHByb2Nlc3NSZXNwb25zZTpmdW5jdGlvbihhKXtyZXR1cm4odGhpcy5yZXN1bHQ9YSl9LG9uQ29tcGxldGU6ZnVuY3Rpb24oYixhKXtpZihiKXt0aGlzLm9uU3VjY2VzcyhiKX1lbHNle3RoaXMub25GYWlsdXJlKG51bGwpfX19KTtFeHQuZGVmaW5lKCJFeHQuZm9ybS5hY3Rpb24uU3RhbmRhcmRTdWJtaXQiLHtleHRlbmQ6IkV4dC5mb3JtLmFjdGlvbi5TdWJtaXQiLGFsaWFzOiJmb3JtYWN0aW9uLnN0YW5kYXJkc3VibWl0Iixkb1N1Ym1pdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuYnVpbGRGb3JtKCk7YS5zdWJtaXQoKTtFeHQucmVtb3ZlTm9kZShhKX19KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5Db2x1bW5Db21wb25lbnRMYXlvdXQiLHtleHRlbmQ6IkV4dC5sYXlvdXQuY29tcG9uZW50LkF1dG8iLGFsaWFzOiJsYXlvdXQuY29sdW1uY29tcG9uZW50Iix0eXBlOiJjb2x1bW5jb21wb25lbnQiLHNldFdpZHRoSW5Eb206dHJ1ZSxnZXRDb250ZW50SGVpZ2h0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm93bmVyLmlzR3JvdXBIZWFkZXI/YS5nZXRQcm9wKCJjb250ZW50SGVpZ2h0Iik6dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGNhbGN1bGF0ZU93bmVySGVpZ2h0RnJvbUNvbnRlbnRIZWlnaHQ6ZnVuY3Rpb24oYyxiKXt2YXIgYT10aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZih0aGlzLm93bmVyLmlzR3JvdXBIZWFkZXIpe2ErPXRoaXMub3duZXIudGl0bGVFbC5kb20ub2Zmc2V0SGVpZ2h0fXJldHVybiBhfSxnZXRDb250ZW50V2lkdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMub3duZXIuaXNHcm91cEhlYWRlcj9hLmdldFByb3AoImNvbnRlbnRXaWR0aCIpOnRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxjYWxjdWxhdGVPd25lcldpZHRoRnJvbUNvbnRlbnRXaWR0aDpmdW5jdGlvbihiLGEpe3JldHVybiBhK2IuZ2V0UGFkZGluZ0luZm8oKS53aWR0aH19KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5mZWF0dXJlLkFic3RyYWN0U3VtbWFyeSIse2V4dGVuZDoiRXh0LmdyaWQuZmVhdHVyZS5GZWF0dXJlIixhbGlhczoiZmVhdHVyZS5hYnN0cmFjdHN1bW1hcnkiLHNob3dTdW1tYXJ5Um93OnRydWUsbmVzdGVkSWRSZTovXHtce2lkXH0oW1x3XC1dKilcfS9nLGluaXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZ3JpZC5vcHRpbWl6ZWRDb2x1bW5Nb3ZlPWZhbHNlO2Eudmlldy5tb24oYS52aWV3LnN0b3JlLHt1cGRhdGU6YS5vblN0b3JlVXBkYXRlLHNjb3BlOmF9KX0sb25TdG9yZVVwZGF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMudmlldztpZih0aGlzLnNob3dTdW1tYXJ5Um93KXthLnNhdmVTY3JvbGxTdGF0ZSgpO2EucmVmcmVzaCgpO2EucmVzdG9yZVNjcm9sbFN0YXRlKCl9fSx0b2dnbGVTdW1tYXJ5Um93OmZ1bmN0aW9uKGEpe3RoaXMuc2hvd1N1bW1hcnlSb3c9ISFhfSxnZXRTdW1tYXJ5RnJhZ21lbnRzOmZ1bmN0aW9uKCl7dmFyIGE9e307aWYodGhpcy5zaG93U3VtbWFyeVJvdyl7RXh0LmFwcGx5KGEse3ByaW50U3VtbWFyeVJvdzpFeHQuYmluZCh0aGlzLnByaW50U3VtbWFyeVJvdyx0aGlzKX0pfXJldHVybiBhfSxwcmludFN1bW1hcnlSb3c6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy52aWV3LmdldFRhYmxlQ2h1bmtlcigpLm1ldGFSb3dUcGwuam9pbigiIiksYz1FeHQuYmFzZUNTU1ByZWZpeDthPWEucmVwbGFjZShjKyJncmlkLXJvdyIsYysiZ3JpZC1yb3ctc3VtbWFyeSIpO2E9YS5yZXBsYWNlKCJ7e2lkfX0iLCJ7Z3JpZFN1bW1hcnlWYWx1ZX0iKTthPWEucmVwbGFjZSh0aGlzLm5lc3RlZElkUmUsIntpZCQxfSIpO2E9YS5yZXBsYWNlKCJ7W3RoaXMuZW1iZWRSb3dDbHMoKV19Iiwie3Jvd0Nsc30iKTthPWEucmVwbGFjZSgie1t0aGlzLmVtYmVkUm93QXR0cigpXX0iLCJ7cm93QXR0cn0iKTthPW5ldyBFeHQuWFRlbXBsYXRlKGEse2ZpcnN0T3JMYXN0Q2xzOkV4dC52aWV3LlRhYmxlQ2h1bmtlci5maXJzdE9yTGFzdENsc30pO3JldHVybiBhLmFwcGx5VGVtcGxhdGUoe2NvbHVtbnM6dGhpcy5nZXRQcmludERhdGEoYil9KX0sZ2V0Q29sdW1uVmFsdWU6ZnVuY3Rpb24oYyxhKXt2YXIgYj1FeHQuZ2V0Q21wKGMuaWQpLGU9YVtjLmlkXSxkPWIuc3VtbWFyeVJlbmRlcmVyO2lmKCFlJiZlIT09MCl7ZT0iXHUwMGEwIn1pZihkKXtlPWQuY2FsbChiLnNjb3BlfHx0aGlzLGUsYSxjLmRhdGFJbmRleCl9cmV0dXJuIGV9LGdldFN1bW1hcnk6ZnVuY3Rpb24oYSxiLGQsYyl7aWYoYil7aWYoRXh0LmlzRnVuY3Rpb24oYikpe3JldHVybiBhLmFnZ3JlZ2F0ZShiLG51bGwsYyl9c3dpdGNoKGIpe2Nhc2UiY291bnQiOnJldHVybiBhLmNvdW50KGMpO2Nhc2UibWluIjpyZXR1cm4gYS5taW4oZCxjKTtjYXNlIm1heCI6cmV0dXJuIGEubWF4KGQsYyk7Y2FzZSJzdW0iOnJldHVybiBhLnN1bShkLGMpO2Nhc2UiYXZlcmFnZSI6cmV0dXJuIGEuYXZlcmFnZShkLGMpO2RlZmF1bHQ6cmV0dXJuIGM/e306IiJ9fX19KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5mZWF0dXJlLkNodW5raW5nIix7ZXh0ZW5kOiJFeHQuZ3JpZC5mZWF0dXJlLkZlYXR1cmUiLGFsaWFzOiJmZWF0dXJlLmNodW5raW5nIixjaHVua1NpemU6MjAscm93SGVpZ2h0OkV4dC5pc0lFPzI3OjI2LHZpc2libGVDaHVuazowLGhhc0ZlYXR1cmVFdmVudDpmYWxzZSxhdHRhY2hFdmVudHM6ZnVuY3Rpb24oKXt0aGlzLnZpZXcuZWwub24oInNjcm9sbCIsdGhpcy5vbkJvZHlTY3JvbGwsdGhpcyx7YnVmZmVyOjMwMH0pfSxvbkJvZHlTY3JvbGw6ZnVuY3Rpb24oZyxjKXt2YXIgYj10aGlzLnZpZXcsZD1jLnNjcm9sbFRvcCxhPU1hdGguZmxvb3IoZC90aGlzLnJvd0hlaWdodC90aGlzLmNodW5rU2l6ZSk7aWYoYSE9PXRoaXMudmlzaWJsZUNodW5rKXt0aGlzLnZpc2libGVDaHVuaz1hO2IucmVmcmVzaCgpO2IuZWwuZG9tLnNjcm9sbFRvcD1kO2IuZWwuZG9tLnNjcm9sbFRvcD1kfX0sY29sbGVjdERhdGE6ZnVuY3Rpb24oZCxtLGwsayxqKXt2YXIgYz17ZnVsbFdpZHRoOmouZnVsbFdpZHRoLGNodW5rczpbXX0sZT1qLnJvd3MubGVuZ3RoLGI9MCxnPTAsYT10aGlzLnZpc2libGVDaHVuayxoLHAsbjtmb3IoO2I8ZTtiKz10aGlzLmNodW5rU2l6ZSxnKyspe2lmKGIrdGhpcy5jaHVua1NpemU+ZSl7bj1lLWJ9ZWxzZXtuPXRoaXMuY2h1bmtTaXplfWlmKGc+PWEtMSYmZzw9YSsxKXtwPWoucm93cy5zbGljZShiLGIrdGhpcy5jaHVua1NpemUpfWVsc2V7cD1bXX1jLmNodW5rcy5wdXNoKHtyb3dzOnAsZnVsbFdpZHRoOmssY2h1bmtIZWlnaHQ6bip0aGlzLnJvd0hlaWdodH0pfXJldHVybiBjfSxnZXRUYWJsZUZyYWdtZW50czpmdW5jdGlvbigpe3JldHVybntvcGVuVGFibGVXcmFwOmZ1bmN0aW9uKCl7cmV0dXJuJzx0cGwgZm9yPSJjaHVua3MiPjxkaXYgY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrJ2dyaWQtY2h1bmsiIHN0eWxlPSJoZWlnaHQ6IHtjaHVua0hlaWdodH1weDsiPid9LGNsb3NlVGFibGVXcmFwOmZ1bmN0aW9uKCl7cmV0dXJuIjwvZGl2PjwvdHBsPiJ9fX19KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5mZWF0dXJlLkdyb3VwaW5nU3VtbWFyeSIse2V4dGVuZDoiRXh0LmdyaWQuZmVhdHVyZS5Hcm91cGluZyIsYWxpYXM6ImZlYXR1cmUuZ3JvdXBpbmdzdW1tYXJ5IixtaXhpbnM6e3N1bW1hcnk6IkV4dC5ncmlkLmZlYXR1cmUuQWJzdHJhY3RTdW1tYXJ5In0saW5pdDpmdW5jdGlvbigpe3RoaXMubWl4aW5zLnN1bW1hcnkuaW5pdC5jYWxsKHRoaXMpfSxnZXRGZWF0dXJlVHBsOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYodGhpcy5zaG93U3VtbWFyeVJvdyl7YT1hLnJlcGxhY2UoIjwvdHBsPiIsIiIpO2ErPSJ7W3RoaXMucHJpbnRTdW1tYXJ5Um93KHhpbmRleCldfTwvdHBsPiJ9cmV0dXJuIGF9LGdldEZyYWdtZW50VHBsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuY2FsbFBhcmVudCgpO0V4dC5hcHBseShhLGIuZ2V0U3VtbWFyeUZyYWdtZW50cygpKTtpZihiLnNob3dTdW1tYXJ5Um93KXtiLnN1bW1hcnlHcm91cHM9Yi52aWV3LnN0b3JlLmdldEdyb3VwcygpO2Iuc3VtbWFyeURhdGE9Yi5nZW5lcmF0ZVN1bW1hcnlEYXRhKCl9cmV0dXJuIGF9LGdldFByaW50RGF0YTpmdW5jdGlvbihqKXt2YXIgaz10aGlzLGU9ay52aWV3LmhlYWRlckN0LmdldENvbHVtbnNGb3JUcGwoKSxoPTAsYj1lLmxlbmd0aCxnPVtdLGE9ay5zdW1tYXJ5R3JvdXBzW2otMV0ubmFtZSxkPWsuc3VtbWFyeURhdGFbYV0sYztmb3IoO2g8YjsrK2gpe2M9ZVtoXTtjLmdyaWRTdW1tYXJ5VmFsdWU9dGhpcy5nZXRDb2x1bW5WYWx1ZShjLGQpO2cucHVzaChjKX1yZXR1cm4gZ30sZ2VuZXJhdGVTdW1tYXJ5RGF0YTpmdW5jdGlvbigpe3ZhciB0PXRoaXMsdT17fSxuPXt9LGg9dC52aWV3LnN0b3JlLHI9dGhpcy5nZXRHcm91cEZpZWxkKCksYT1oLnByb3h5LnJlYWRlcixxPXQuc3VtbWFyeUdyb3VwcyxiPXQudmlldy5oZWFkZXJDdC5nZXRDb2x1bW5zRm9yVHBsKCksaixvLGUsYyxtLHYscCxrLGwsZyxkO2ZvcihvPTAsZT1xLmxlbmd0aDtvPGU7KytvKXt1W3Fbb10ubmFtZV09e319aWYodC5yZW1vdGVSb290JiZhLnJhd0RhdGEpe209YS5yb290O2Eucm9vdD10LnJlbW90ZVJvb3Q7YS5idWlsZEV4dHJhY3RvcnModHJ1ZSk7az1hLmdldFJvb3QoYS5yYXdEYXRhKTtnPWsubGVuZ3RoO2lmKCFhLmNvbnZlcnRSZWNvcmREYXRhKXthLmJ1aWxkRXh0cmFjdG9ycygpfWZvcihsPTA7bDxnO2wrKyl7ZD17fTthLmNvbnZlcnRSZWNvcmREYXRhKGQsa1tsXSk7bltkW3JdXT1kfWEucm9vdD1tO2EuYnVpbGRFeHRyYWN0b3JzKHRydWUpfWZvcihvPTAsZT1iLmxlbmd0aDtvPGU7KytvKXtwPUV4dC5nZXRDbXAoYltvXS5pZCk7Yz10LmdldFN1bW1hcnkoaCxwLnN1bW1hcnlUeXBlLHAuZGF0YUluZGV4LHRydWUpO2Zvcih2IGluIGMpe2lmKGMuaGFzT3duUHJvcGVydHkodikpe3Vbdl1bcC5pZF09Y1t2XX19Zm9yKHYgaW4gbil7aWYobi5oYXNPd25Qcm9wZXJ0eSh2KSl7aj1uW3ZdW3AuZGF0YUluZGV4XTtpZihqIT09dW5kZWZpbmVkJiZ1W3ZdIT09dW5kZWZpbmVkKXt1W3ZdW3AuaWRdPWp9fX19cmV0dXJuIHV9fSk7RXh0LmRlZmluZSgiRXh0LmdyaWQuZmVhdHVyZS5TdW1tYXJ5Iix7ZXh0ZW5kOiJFeHQuZ3JpZC5mZWF0dXJlLkFic3RyYWN0U3VtbWFyeSIsYWxpYXM6ImZlYXR1cmUuc3VtbWFyeSIsZ2V0RnJhZ21lbnRUcGw6ZnVuY3Rpb24oKXt0aGlzLnN1bW1hcnlEYXRhPXRoaXMuZ2VuZXJhdGVTdW1tYXJ5RGF0YSgpO3JldHVybiB0aGlzLmdldFN1bW1hcnlGcmFnbWVudHMoKX0sZ2V0VGFibGVGcmFnbWVudHM6ZnVuY3Rpb24oKXtpZih0aGlzLnNob3dTdW1tYXJ5Um93KXtyZXR1cm57Y2xvc2VSb3dzOnRoaXMuY2xvc2VSb3dzfX19LGNsb3NlUm93czpmdW5jdGlvbigpe3JldHVybiI8L3RwbD57W3RoaXMucHJpbnRTdW1tYXJ5Um93KCldfSJ9LGdldFByaW50RGF0YTpmdW5jdGlvbihhKXt2YXIgZz10aGlzLGM9Zy52aWV3LmhlYWRlckN0LmdldENvbHVtbnNGb3JUcGwoKSxiPTAsZT1jLmxlbmd0aCxoPVtdLGo9Zy5zdW1tYXJ5RGF0YSxkO2Zvcig7YjxlOysrYil7ZD1jW2JdO2QuZ3JpZFN1bW1hcnlWYWx1ZT10aGlzLmdldENvbHVtblZhbHVlKGQsaik7aC5wdXNoKGQpfXJldHVybiBofSxnZW5lcmF0ZVN1bW1hcnlEYXRhOmZ1bmN0aW9uKCl7dmFyIGg9dGhpcyxkPXt9LGo9aC52aWV3LnN0b3JlLGM9aC52aWV3LmhlYWRlckN0LmdldENvbHVtbnNGb3JUcGwoKSxlPTAsYT1jLmxlbmd0aCxiLGssZztmb3IoZT0wLGE9Yy5sZW5ndGg7ZTxhOysrZSl7Zz1FeHQuZ2V0Q21wKGNbZV0uaWQpO2RbZy5pZF09aC5nZXRTdW1tYXJ5KGosZy5zdW1tYXJ5VHlwZSxnLmRhdGFJbmRleCxmYWxzZSl9cmV0dXJuIGR9fSk7RXh0LmRlZmluZSgiRXh0LmdyaWQuaGVhZGVyLkRyYWdab25lIix7ZXh0ZW5kOiJFeHQuZGQuRHJhZ1pvbmUiLGNvbEhlYWRlckNsczpFeHQuYmFzZUNTU1ByZWZpeCsiY29sdW1uLWhlYWRlciIsbWF4UHJveHlXaWR0aDoxMjAsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dGhpcy5oZWFkZXJDdD1hO3RoaXMuZGRHcm91cD10aGlzLmdldERER3JvdXAoKTt0aGlzLmNhbGxQYXJlbnQoW2EuZWxdKTt0aGlzLnByb3h5LmVsLmFkZENscyhFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1jb2wtZGQiKX0sZ2V0RERHcm91cDpmdW5jdGlvbigpe3JldHVybiJoZWFkZXItZGQtem9uZS0iK3RoaXMuaGVhZGVyQ3QudXAoIltzY3JvbGxlck93bmVyXSIpLmlkfSxnZXREcmFnRGF0YTpmdW5jdGlvbihiKXt2YXIgZD1iLmdldFRhcmdldCgiLiIrdGhpcy5jb2xIZWFkZXJDbHMpLGEsYztpZihkKXthPUV4dC5nZXRDbXAoZC5pZCk7aWYoIXRoaXMuaGVhZGVyQ3QuZHJhZ2dpbmcmJmEuZHJhZ2dhYmxlJiYhKGEuaXNPbkxlZnRFZGdlKGIpfHxhLmlzT25SaWdodEVkZ2UoYikpKXtjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2MuaW5uZXJIVE1MPUV4dC5nZXRDbXAoZC5pZCkudGV4dDtyZXR1cm57ZGRlbDpjLGhlYWRlcjphfX19cmV0dXJuIGZhbHNlfSxvbkJlZm9yZURyYWc6ZnVuY3Rpb24oKXtyZXR1cm4gISh0aGlzLmhlYWRlckN0LmRyYWdnaW5nfHx0aGlzLmRpc2FibGVkKX0sb25Jbml0RHJhZzpmdW5jdGlvbigpe3RoaXMuaGVhZGVyQ3QuZHJhZ2dpbmc9dHJ1ZTt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sb25EcmFnRHJvcDpmdW5jdGlvbigpe3RoaXMuaGVhZGVyQ3QuZHJhZ2dpbmc9ZmFsc2U7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGFmdGVyUmVwYWlyOmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KCk7dGhpcy5oZWFkZXJDdC5kcmFnZ2luZz1mYWxzZX0sZ2V0UmVwYWlyWFk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kcmFnRGF0YS5oZWFkZXIuZWwuZ2V0WFkoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9dHJ1ZX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD1mYWxzZX19KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5oZWFkZXIuRHJvcFpvbmUiLHtleHRlbmQ6IkV4dC5kZC5Ecm9wWm9uZSIsY29sSGVhZGVyQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJjb2x1bW4taGVhZGVyIixwcm94eU9mZnNldHM6Wy00LC05XSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhKXt0aGlzLmhlYWRlckN0PWE7dGhpcy5kZEdyb3VwPXRoaXMuZ2V0RERHcm91cCgpO3RoaXMuY2FsbFBhcmVudChbYS5lbF0pfSxnZXREREdyb3VwOmZ1bmN0aW9uKCl7cmV0dXJuImhlYWRlci1kZC16b25lLSIrdGhpcy5oZWFkZXJDdC51cCgiW3Njcm9sbGVyT3duZXJdIikuaWR9LGdldFRhcmdldEZyb21FdmVudDpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRUYXJnZXQoIi4iK3RoaXMuY29sSGVhZGVyQ2xzKX0sZ2V0VG9wSW5kaWNhdG9yOmZ1bmN0aW9uKCl7aWYoIXRoaXMudG9wSW5kaWNhdG9yKXt0aGlzLnRvcEluZGljYXRvcj1FeHQuRG9tSGVscGVyLmFwcGVuZChFeHQuZ2V0Qm9keSgpLHtjbHM6ImNvbC1tb3ZlLXRvcCIsaHRtbDoiJiMxNjA7In0sdHJ1ZSl9cmV0dXJuIHRoaXMudG9wSW5kaWNhdG9yfSxnZXRCb3R0b21JbmRpY2F0b3I6ZnVuY3Rpb24oKXtpZighdGhpcy5ib3R0b21JbmRpY2F0b3Ipe3RoaXMuYm90dG9tSW5kaWNhdG9yPUV4dC5Eb21IZWxwZXIuYXBwZW5kKEV4dC5nZXRCb2R5KCkse2NsczoiY29sLW1vdmUtYm90dG9tIixodG1sOiImIzE2MDsifSx0cnVlKX1yZXR1cm4gdGhpcy5ib3R0b21JbmRpY2F0b3J9LGdldExvY2F0aW9uOmZ1bmN0aW9uKGQsYil7dmFyIGE9ZC5nZXRYWSgpWzBdLGM9RXh0LmZseShiKS5nZXRSZWdpb24oKSxoLGc7aWYoKGMucmlnaHQtYSk8PShjLnJpZ2h0LWMubGVmdCkvMil7aD0iYWZ0ZXIifWVsc2V7aD0iYmVmb3JlIn1yZXR1cm57cG9zOmgsaGVhZGVyOkV4dC5nZXRDbXAoYi5pZCksbm9kZTpifX0scG9zaXRpb25JbmRpY2F0b3I6ZnVuY3Rpb24oeCxwLHYpe3ZhciBhPXRoaXMuZ2V0TG9jYXRpb24odixwKSxyPWEuaGVhZGVyLGg9YS5wb3MsZz14Lm5leHRTaWJsaW5nKCJncmlkY29sdW1uOm5vdChbaGlkZGVuXSkiKSx1PXgucHJldmlvdXNTaWJsaW5nKCJncmlkY29sdW1uOm5vdChbaGlkZGVuXSkiKSxkLG0scyx0LGIsYyxsLG4seSx3LG8sayxxLGo7aWYoIXIuZHJhZ2dhYmxlJiZyLmdldEluZGV4KCk9PT0wKXtyZXR1cm4gZmFsc2V9dGhpcy5sYXN0TG9jYXRpb249YTtpZigoeCE9PXIpJiYoKGg9PT0iYmVmb3JlIiYmZyE9PXIpfHwoaD09PSJhZnRlciImJnUhPT1yKSkmJiFyLmlzRGVzY2VuZGFudE9mKHgpKXtvPUV4dC5kZC5EcmFnRHJvcE1hbmFnZXIuZ2V0UmVsYXRlZCh0aGlzKTtrPW8ubGVuZ3RoO3E9MDtmb3IoO3E8aztxKyspe2o9b1txXTtpZihqIT09dGhpcyYmai5pbnZhbGlkYXRlRHJvcCl7ai5pbnZhbGlkYXRlRHJvcCgpfX10aGlzLnZhbGlkPXRydWU7bT10aGlzLmdldFRvcEluZGljYXRvcigpO3M9dGhpcy5nZXRCb3R0b21JbmRpY2F0b3IoKTtpZihoPT09ImJlZm9yZSIpe3Q9InRsIjtiPSJibCJ9ZWxzZXt0PSJ0ciI7Yj0iYnIifWM9ci5lbC5nZXRBbmNob3JYWSh0KTtsPXIuZWwuZ2V0QW5jaG9yWFkoYik7bj10aGlzLmhlYWRlckN0LmVsO3k9bi5nZXRMZWZ0KCk7dz1uLmdldFJpZ2h0KCk7Y1swXT1FeHQuTnVtYmVyLmNvbnN0cmFpbihjWzBdLHksdyk7bFswXT1FeHQuTnVtYmVyLmNvbnN0cmFpbihsWzBdLHksdyk7Y1swXS09NDtjWzFdLT05O2xbMF0tPTQ7bS5zZXRYWShjKTtzLnNldFhZKGwpO20uc2hvdygpO3Muc2hvdygpfWVsc2V7dGhpcy5pbnZhbGlkYXRlRHJvcCgpfX0saW52YWxpZGF0ZURyb3A6ZnVuY3Rpb24oKXt0aGlzLnZhbGlkPWZhbHNlO3RoaXMuaGlkZUluZGljYXRvcnMoKX0sb25Ob2RlT3ZlcjpmdW5jdGlvbihiLGgsZyxjKXt2YXIgaT10aGlzLGQ9aS5oZWFkZXJDdCxhPXRydWUsaz1jLmhlYWRlcixqO2lmKGMuaGVhZGVyLmVsLmRvbT09PWIpe2E9ZmFsc2V9ZWxzZXtqPWkuZ2V0TG9jYXRpb24oZyxiKS5oZWFkZXI7YT0oay5vd25lckN0PT09ai5vd25lckN0KXx8KCFrLm93bmVyQ3Quc2VhbGVkJiYhai5vd25lckN0LnNlYWxlZCl9aWYoYSl7aS5wb3NpdGlvbkluZGljYXRvcihjLmhlYWRlcixiLGcpfWVsc2V7aS52YWxpZD1mYWxzZX1yZXR1cm4gaS52YWxpZD9pLmRyb3BBbGxvd2VkOmkuZHJvcE5vdEFsbG93ZWR9LGhpZGVJbmRpY2F0b3JzOmZ1bmN0aW9uKCl7dGhpcy5nZXRUb3BJbmRpY2F0b3IoKS5oaWRlKCk7dGhpcy5nZXRCb3R0b21JbmRpY2F0b3IoKS5oaWRlKCl9LG9uTm9kZU91dDpmdW5jdGlvbigpe3RoaXMuaGlkZUluZGljYXRvcnMoKX0sb25Ob2RlRHJvcDpmdW5jdGlvbihnLG8sbSxpKXtpZih0aGlzLnZhbGlkKXt0aGlzLmludmFsaWRhdGVEcm9wKCk7dmFyIGw9aS5oZWFkZXIsaj10aGlzLmxhc3RMb2NhdGlvbixiPWouaGVhZGVyLHE9bC5vd25lckN0LG49cS5pdGVtcy5pbmRleE9mKGwpLGs9Yi5vd25lckN0LHM9ay5pdGVtcy5pbmRleE9mKGIpLGQ9dGhpcy5oZWFkZXJDdCxhPWQuZ2V0SGVhZGVySW5kZXgobCksaD1sLmlzR3JvdXBIZWFkZXI/bC5xdWVyeSgiOm5vdChbaXNHcm91cEhlYWRlcl0pIikubGVuZ3RoOjEscj1kLmdldEhlYWRlckluZGV4KGIpLHAsYztpZihqLnBvcz09PSJhZnRlciIpe3MrKztyKz1iLmlzR3JvdXBIZWFkZXI/Yi5xdWVyeSgiOm5vdChbaXNHcm91cEhlYWRlcl0pIikubGVuZ3RoOjF9aWYocSE9PWsmJnEubG9ja2FibGVJbmplY3RlZCYmay5sb2NrYWJsZUluamVjdGVkJiZrLmxvY2tlZEN0KXtjPXEudXAoIltzY3JvbGxlck93bmVyXSIpO2MubG9jayhsLHMpfWVsc2V7aWYocSE9PWsmJnEubG9ja2FibGVJbmplY3RlZCYmay5sb2NrYWJsZUluamVjdGVkJiZxLmxvY2tlZEN0KXtjPXEudXAoIltzY3JvbGxlck93bmVyXSIpO2MudW5sb2NrKGwscyl9ZWxzZXtpZigocT09PWspJiYocz5uKSl7cy09MX1FeHQuc3VzcGVuZExheW91dHMoKTtpZihxIT09ayl7cS5yZW1vdmUobCxmYWxzZSk7aWYocS5pc0dyb3VwSGVhZGVyKXtpZighcS5pdGVtcy5nZXRDb3VudCgpKXtwPXEub3duZXJDdDtwLnJlbW92ZShxLGZhbHNlKTtxLmVsLmRvbS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHEuZWwuZG9tKX19fWlmKHE9PT1rKXtrLm1vdmUobixzKX1lbHNle2suaW5zZXJ0KHMsbCl9aWYoay5pc0dyb3VwSGVhZGVyKXtpZihrIT09cSl7bC5zYXZlZEZsZXg9bC5mbGV4O2RlbGV0ZSBsLmZsZXg7bC53aWR0aD1sLmdldFdpZHRoKCl9fWVsc2V7aWYobC5zYXZlZEZsZXgpe2wuZmxleD1sLnNhdmVkRmxleDtkZWxldGUgbC53aWR0aH19ZC5wdXJnZUNhY2hlKCk7RXh0LnJlc3VtZUxheW91dHModHJ1ZSk7ZC5vbkhlYWRlck1vdmVkKGwsaCxhLHIpO2lmKCFxLml0ZW1zLmdldENvdW50KCkpe3EuZGVzdHJveSgpfX19fX19KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5wbHVnaW4uSGVhZGVyUmVvcmRlcmVyIix7ZXh0ZW5kOiJFeHQudXRpbC5PYnNlcnZhYmxlIixyZXF1aXJlczpbIkV4dC5ncmlkLmhlYWRlci5EcmFnWm9uZSIsIkV4dC5ncmlkLmhlYWRlci5Ecm9wWm9uZSJdLGFsaWFzOiJwbHVnaW4uZ3JpZGhlYWRlcnJlb3JkZXJlciIsaW5pdDpmdW5jdGlvbihhKXt0aGlzLmhlYWRlckN0PWE7YS5vbih7cmVuZGVyOnRoaXMub25IZWFkZXJDdFJlbmRlcixzaW5nbGU6dHJ1ZSxzY29wZTp0aGlzfSl9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtFeHQuZGVzdHJveSh0aGlzLmRyYWdab25lLHRoaXMuZHJvcFpvbmUpfSxvbkhlYWRlckN0UmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmRyYWdab25lPW5ldyBFeHQuZ3JpZC5oZWFkZXIuRHJhZ1pvbmUoYS5oZWFkZXJDdCk7YS5kcm9wWm9uZT1uZXcgRXh0LmdyaWQuaGVhZGVyLkRyb3Bab25lKGEuaGVhZGVyQ3QpO2lmKGEuZGlzYWJsZWQpe2EuZHJhZ1pvbmUuZGlzYWJsZSgpfX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5kaXNhYmxlZD1mYWxzZTtpZih0aGlzLmRyYWdab25lKXt0aGlzLmRyYWdab25lLmVuYWJsZSgpfX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZGlzYWJsZWQ9dHJ1ZTtpZih0aGlzLmRyYWdab25lKXt0aGlzLmRyYWdab25lLmRpc2FibGUoKX19fSk7RXh0LmRlZmluZSgiRXh0LmdyaWQucHJvcGVydHkuUHJvcGVydHkiLHtleHRlbmQ6IkV4dC5kYXRhLk1vZGVsIixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5Qcm9wR3JpZFByb3BlcnR5IixmaWVsZHM6W3tuYW1lOiJuYW1lIix0eXBlOiJzdHJpbmcifSx7bmFtZToidmFsdWUifV0saWRQcm9wZXJ0eToibmFtZSJ9KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5wcm9wZXJ0eS5TdG9yZSIse2V4dGVuZDoiRXh0LmRhdGEuU3RvcmUiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmdyaWQuUHJvcGVydHlTdG9yZSIsc29ydE9uTG9hZDpmYWxzZSx1c2VzOlsiRXh0LmRhdGEucmVhZGVyLlJlYWRlciIsIkV4dC5kYXRhLnByb3h5LlByb3h5IiwiRXh0LmRhdGEuUmVzdWx0U2V0IiwiRXh0LmdyaWQucHJvcGVydHkuUHJvcGVydHkiXSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihhLGMpe3ZhciBiPXRoaXM7Yi5ncmlkPWE7Yi5zb3VyY2U9YztiLmNhbGxQYXJlbnQoW3tkYXRhOmMsbW9kZWw6RXh0LmdyaWQucHJvcGVydHkuUHJvcGVydHkscHJveHk6Yi5nZXRQcm94eSgpfV0pfSxnZXRQcm94eTpmdW5jdGlvbigpe2lmKCF0aGlzLnByb3h5KXtFeHQuZ3JpZC5wcm9wZXJ0eS5TdG9yZS5wcm90b3R5cGUucHJveHk9bmV3IEV4dC5kYXRhLnByb3h5Lk1lbW9yeSh7bW9kZWw6RXh0LmdyaWQucHJvcGVydHkuUHJvcGVydHkscmVhZGVyOnRoaXMuZ2V0UmVhZGVyKCl9KX1yZXR1cm4gdGhpcy5wcm94eX0sZ2V0UmVhZGVyOmZ1bmN0aW9uKCl7aWYoIXRoaXMucmVhZGVyKXtFeHQuZ3JpZC5wcm9wZXJ0eS5TdG9yZS5wcm90b3R5cGUucmVhZGVyPW5ldyBFeHQuZGF0YS5yZWFkZXIuUmVhZGVyKHttb2RlbDpFeHQuZ3JpZC5wcm9wZXJ0eS5Qcm9wZXJ0eSxidWlsZEV4dHJhY3RvcnM6RXh0LmVtcHR5Rm4scmVhZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZWFkUmVjb3JkcyhhKX0scmVhZFJlY29yZHM6ZnVuY3Rpb24oYil7dmFyIGQsYyxhPXtyZWNvcmRzOltdLHN1Y2Nlc3M6dHJ1ZX07Zm9yKGMgaW4gYil7aWYoYi5oYXNPd25Qcm9wZXJ0eShjKSl7ZD1iW2NdO2lmKHRoaXMuaXNFZGl0YWJsZVZhbHVlKGQpKXthLnJlY29yZHMucHVzaChuZXcgRXh0LmdyaWQucHJvcGVydHkuUHJvcGVydHkoe25hbWU6Yyx2YWx1ZTpkfSxjKSl9fX1hLnRvdGFsPWEuY291bnQ9YS5yZWNvcmRzLmxlbmd0aDtyZXR1cm4gbmV3IEV4dC5kYXRhLlJlc3VsdFNldChhKX0saXNFZGl0YWJsZVZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuaXNQcmltaXRpdmUoYSl8fEV4dC5pc0RhdGUoYSl9fSl9cmV0dXJuIHRoaXMucmVhZGVyfSxzZXRTb3VyY2U6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLnNvdXJjZT1hO2Iuc3VzcGVuZEV2ZW50cygpO2IucmVtb3ZlQWxsKCk7Yi5wcm94eS5kYXRhPWE7Yi5sb2FkKCk7Yi5yZXN1bWVFdmVudHMoKTtiLmZpcmVFdmVudCgiZGF0YWNoYW5nZWQiLGIpO2IuZmlyZUV2ZW50KCJyZWZyZXNoIixiKX0sZ2V0UHJvcGVydHk6ZnVuY3Rpb24oYSl7cmV0dXJuIEV4dC5pc051bWJlcihhKT90aGlzLmdldEF0KGEpOnRoaXMuZ2V0QnlJZChhKX0sc2V0VmFsdWU6ZnVuY3Rpb24oZSxjLGEpe3ZhciBiPXRoaXMsZD1iLmdldFJlYyhlKTtpZihkKXtkLnNldCgidmFsdWUiLGMpO2Iuc291cmNlW2VdPWN9ZWxzZXtpZihhKXtiLnNvdXJjZVtlXT1jO2Q9bmV3IEV4dC5ncmlkLnByb3BlcnR5LlByb3BlcnR5KHtuYW1lOmUsdmFsdWU6Y30sZSk7Yi5hZGQoZCl9fX0scmVtb3ZlOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuZ2V0UmVjKGIpO2lmKGEpe3RoaXMuY2FsbFBhcmVudChbYV0pO2RlbGV0ZSB0aGlzLnNvdXJjZVtiXX19LGdldFJlYzpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5nZXRCeUlkKGEpfSxnZXRTb3VyY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb3VyY2V9fSk7RXh0LmRlZmluZSgiRXh0LmxheW91dC5jb21wb25lbnQuQm9keSIse2FsaWFzOlsibGF5b3V0LmJvZHkiXSxleHRlbmQ6IkV4dC5sYXlvdXQuY29tcG9uZW50LkF1dG8iLHR5cGU6ImJvZHkiLGJlZ2luTGF5b3V0OmZ1bmN0aW9uKGEpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO2EuYm9keUNvbnRleHQ9YS5nZXRFbCgiYm9keSIpfSxjYWxjdWxhdGVPd25lckhlaWdodEZyb21Db250ZW50SGVpZ2h0OmZ1bmN0aW9uKGMsYil7dmFyIGE9dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYy50YXJnZXRDb250ZXh0IT1jKXthKz1jLmdldFBhZGRpbmdJbmZvKCkuaGVpZ2h0fXJldHVybiBhfSxjYWxjdWxhdGVPd25lcldpZHRoRnJvbUNvbnRlbnRXaWR0aDpmdW5jdGlvbihjLGEpe3ZhciBiPXRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGMudGFyZ2V0Q29udGV4dCE9Yyl7Yis9Yy5nZXRQYWRkaW5nSW5mbygpLndpZHRofXJldHVybiBifSxtZWFzdXJlQ29udGVudFdpZHRoOmZ1bmN0aW9uKGEpe3JldHVybiBhLmJvZHlDb250ZXh0LnNldFdpZHRoKGEuYm9keUNvbnRleHQuZWwuZG9tLm9mZnNldFdpZHRoLGZhbHNlKX0sbWVhc3VyZUNvbnRlbnRIZWlnaHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuYm9keUNvbnRleHQuc2V0SGVpZ2h0KGEuYm9keUNvbnRleHQuZWwuZG9tLm9mZnNldEhlaWdodCxmYWxzZSl9LHB1Ymxpc2hJbm5lckhlaWdodDpmdW5jdGlvbihjLGEpe3ZhciBkPWEtYy5nZXRGcmFtZUluZm8oKS5oZWlnaHQsYj1jLnRhcmdldENvbnRleHQ7aWYoYiE9Yyl7ZC09Yy5nZXRQYWRkaW5nSW5mbygpLmhlaWdodH1jLmJvZHlDb250ZXh0LnNldEhlaWdodChkLCFjLmhlaWdodE1vZGVsLm5hdHVyYWwpfSxwdWJsaXNoSW5uZXJXaWR0aDpmdW5jdGlvbihkLGMpe3ZhciBhPWMtZC5nZXRGcmFtZUluZm8oKS53aWR0aCxiPWQudGFyZ2V0Q29udGV4dDtpZihiIT1kKXthLT1kLmdldFBhZGRpbmdJbmZvKCkud2lkdGh9ZC5ib2R5Q29udGV4dC5zZXRXaWR0aChhLCFkLndpZHRoTW9kZWwubmF0dXJhbCl9fSk7RXh0LmRlZmluZSgiRXh0LmxheW91dC5jb21wb25lbnQuQm91bmRMaXN0Iix7ZXh0ZW5kOiJFeHQubGF5b3V0LmNvbXBvbmVudC5BdXRvIixhbGlhczoibGF5b3V0LmJvdW5kbGlzdCIsdHlwZToiY29tcG9uZW50IixiZWdpbkxheW91dDpmdW5jdGlvbihkKXt2YXIgYz10aGlzLGE9Yy5vd25lcixiPWEucGFnaW5nVG9vbGJhcjtjLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihhLmZsb2F0aW5nKXtkLnNhdmVkWFk9YS5lbC5nZXRYWSgpO2EuZWwuc2V0WFkoWy05OTk5LC05OTk5XSl9aWYoYil7ZC50b29sYmFyQ29udGV4dD1kLmNvbnRleHQuZ2V0Q21wKGIpfWQubGlzdENvbnRleHQ9ZC5nZXRFbCgibGlzdEVsIil9LGJlZ2luTGF5b3V0Q3ljbGU6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5vd25lcjt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihiLmhlaWdodE1vZGVsLmF1dG8pe2EuZWwuc2V0SGVpZ2h0KCJhdXRvIik7YS5saXN0RWwuc2V0SGVpZ2h0KCJhdXRvIil9fSxnZXRMYXlvdXRJdGVtczpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3duZXIucGFnaW5nVG9vbGJhcjtyZXR1cm4gYT9bYV06W119LGlzVmFsaWRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdHJ1ZX0sZmluaXNoZWRMYXlvdXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zYXZlZFhZO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGIpe3RoaXMub3duZXIuZWwuc2V0WFkoYil9fSxtZWFzdXJlQ29udGVudFdpZHRoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm93bmVyLmxpc3RFbC5nZXRXaWR0aCgpfSxtZWFzdXJlQ29udGVudEhlaWdodDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5vd25lci5saXN0RWwuZ2V0SGVpZ2h0KCl9LHB1Ymxpc2hJbm5lckhlaWdodDpmdW5jdGlvbihjLGEpe3ZhciBiPWMudG9vbGJhckNvbnRleHQsZD0wO2lmKGIpe2Q9Yi5nZXRQcm9wKCJoZWlnaHQiKX1pZihkPT09dW5kZWZpbmVkKXt0aGlzLmRvbmU9ZmFsc2V9ZWxzZXtjLmxpc3RDb250ZXh0LnNldEhlaWdodChhLWMuZ2V0RnJhbWVJbmZvKCkuaGVpZ2h0LWQpfX0sY2FsY3VsYXRlT3duZXJIZWlnaHRGcm9tQ29udGVudEhlaWdodDpmdW5jdGlvbihjKXt2YXIgYT10aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKSxiPWMudG9vbGJhckNvbnRleHQ7aWYoYil7YSs9Yi5nZXRQcm9wKCJoZWlnaHQiKX1yZXR1cm4gYX19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbXBvbmVudC5CdXR0b24iLHthbGlhczpbImxheW91dC5idXR0b24iXSxleHRlbmQ6IkV4dC5sYXlvdXQuY29tcG9uZW50LkF1dG8iLHR5cGU6ImJ1dHRvbiIsY2VsbENsc1JFOi8tYnRuLSh0bHxicilcYi8saHRtbFJFOi88Lio+Lyxjb25zdHJ1Y3RvcjpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3RoaXMuaGFja1dpZHRoPUV4dC5pc0lFJiYoIUV4dC5pc1N0cmljdHx8RXh0LmlzSUU2fHxFeHQuaXNJRTcpO3RoaXMuaGVpZ2h0SW5jbHVkZXNQYWRkaW5nPUV4dC5pc0lFNiYmRXh0LmlzU3RyaWN0fSxiZWdpbkxheW91dDpmdW5jdGlvbihhKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLmNhY2hlVGFyZ2V0SW5mbyhhKX0sYmVnaW5MYXlvdXRDeWNsZTpmdW5jdGlvbihlKXt2YXIgYz10aGlzLGQ9IiIsYT1jLm93bmVyLGI9YS5idG5FbCxpPWEuYnRuSW5uZXJFbCxnPWEudGV4dCxoO2MuY2FsbFBhcmVudChhcmd1bWVudHMpO2kuc2V0U3R5bGUoIm92ZXJmbG93IixkKTtpZighZS53aWR0aE1vZGVsLm5hdHVyYWwpe2EuZWwuc2V0U3R5bGUoIndpZHRoIixkKX1oPWUuaGVpZ2h0TW9kZWwuc2hyaW5rV3JhcCYmZyYmYy5odG1sUkUudGVzdChnKTtiLnNldFN0eWxlKCJ3aWR0aCIsZCk7Yi5zZXRTdHlsZSgiaGVpZ2h0IixoPyJhdXRvIjpkKTtpLnNldFN0eWxlKCJ3aWR0aCIsZCk7aS5zZXRTdHlsZSgiaGVpZ2h0IixoPyJhdXRvIjpkKTtpLnNldFN0eWxlKCJsaW5lLWhlaWdodCIsaD8ibm9ybWFsIjpkKTtpLnNldFN0eWxlKCJwYWRkaW5nLXRvcCIsZCk7YS5idG5JY29uRWwuc2V0U3R5bGUoIndpZHRoIixkKX0sY2FsY3VsYXRlT3duZXJIZWlnaHRGcm9tQ29udGVudEhlaWdodDpmdW5jdGlvbihiLGEpe3JldHVybiBhfSxjYWxjdWxhdGVPd25lcldpZHRoRnJvbUNvbnRlbnRXaWR0aDpmdW5jdGlvbihiLGEpe3JldHVybiBhfSxtZWFzdXJlQ29udGVudFdpZHRoOmZ1bmN0aW9uKGMpe3ZhciBpPXRoaXMsYj1pLm93bmVyLGc9Yi5idG5FbCxkPWIuYnRuSW5uZXJFbCxsPWIudGV4dCxtLGosaCxhLGssZTtpZihiLnRleHQmJmkuaGFja1dpZHRoJiZnKXttPWkuYnRuRnJhbWVXaWR0aDtpZihsLmluZGV4T2YoIj4iKT09PS0xKXtsPWwucmVwbGFjZSgvPC9nLCImbHQ7Iil9aj1FeHQudXRpbC5UZXh0TWV0cmljcy5tZWFzdXJlKGQsbCk7YT1qLndpZHRoK20raS5hZGpXaWR0aDtrPWMuZ2V0RWwoImJ0bkVsIik7ZT1jLmdldEVsKCJidG5Jbm5lckVsIik7aD0oYi5pY29ufHxiLmljb25DbHMpJiYoYi5pY29uQWxpZ249PSJ0b3AifHxiLmljb25BbGlnbj09ImJvdHRvbSIpO2Muc2V0V2lkdGgoYSk7ay5zZXRXaWR0aChqLndpZHRoK20pO2Uuc2V0V2lkdGgoai53aWR0aCttKTtpZihoKXtiLmJ0bkljb25FbC5zZXRXaWR0aChqLndpZHRoK20pfX1lbHNle2E9Yy5lbC5nZXRXaWR0aCgpfXJldHVybiBhfSxtZWFzdXJlQ29udGVudEhlaWdodDpmdW5jdGlvbihkKXt2YXIgaj10aGlzLGI9ai5vd25lcixlPWIuYnRuSW5uZXJFbCxpPWQuZ2V0RWwoImJ0bkVsIiksZz1kLmdldEVsKCJidG5Jbm5lckVsIiksYz1qLm1pblRleHRIZWlnaHQsaD1qLmFkakhlaWdodCxtPWIuZ2V0VGV4dCgpLGwsayxhO2lmKGIudmVydGljYWwpe2w9RXh0LnV0aWwuVGV4dE1ldHJpY3MubWVhc3VyZShlLGIudGV4dCkud2lkdGg7bCs9ai5idG5GcmFtZUhlaWdodCtoO2Quc2V0SGVpZ2h0KGwsdHJ1ZSx0cnVlKX1lbHNle2lmKG0mJmouaHRtbFJFLnRlc3QobSkpe2s9ZS5nZXRIZWlnaHQoKTtpZihrPGMpe2E9TWF0aC5mbG9vcigoYy1rKS8yKTtnLnNldEhlaWdodChjLShqLmhlaWdodEluY2x1ZGVzUGFkZGluZz9hOjApKTtnLnNldFByb3AoInBhZGRpbmctdG9wIixhKTtrPWN9bD1rK2h9ZWxzZXtsPWQuZWwuZ2V0SGVpZ2h0KCl9fWkuc2V0SGVpZ2h0KGwtaCk7cmV0dXJuIGx9LHB1Ymxpc2hJbm5lckhlaWdodDpmdW5jdGlvbihjLG0pe3ZhciBqPXRoaXMsYT1qLm93bmVyLGc9RXh0LmlzTnVtYmVyLGk9Yy5nZXRFbCgiYnRuRWwiKSxkPWEuYnRuSW5uZXJFbCxoPWMuZ2V0RWwoImJ0bklubmVyRWwiKSxlPWcobSk/bS1qLmFkakhlaWdodDptLGI9ai5idG5GcmFtZUhlaWdodCxsPWEuZ2V0VGV4dCgpLGssbjtpLnNldEhlaWdodChlKTtoLnNldEhlaWdodChlKTtpZighYS52ZXJ0aWNhbCYmZT49MCl7aC5zZXRQcm9wKCJsaW5lLWhlaWdodCIsZS1iKyJweCIpfWlmKGwmJmouaHRtbFJFLnRlc3QobCkpe2guc2V0UHJvcCgibGluZS1oZWlnaHQiLCJub3JtYWwiKTtkLnNldFN0eWxlKCJsaW5lLWhlaWdodCIsIm5vcm1hbCIpO2s9RXh0LnV0aWwuVGV4dE1ldHJpY3MubWVhc3VyZShkLGwpLmhlaWdodDtuPU1hdGguZmxvb3IoTWF0aC5tYXgoZS1iLWssMCkvMik7aC5zZXRQcm9wKCJwYWRkaW5nLXRvcCIsai5idG5GcmFtZVRvcCtuKTtoLnNldEhlaWdodChlLShqLmhlaWdodEluY2x1ZGVzUGFkZGluZz9uOjApKX19LHB1Ymxpc2hJbm5lcldpZHRoOmZ1bmN0aW9uKGcsYyl7dmFyIGU9dGhpcyxoPUV4dC5pc051bWJlcixhPWcuZ2V0RWwoImJ0bkVsIiksYj1nLmdldEVsKCJidG5Jbm5lckVsIiksZD1oKGMpP2MtZS5hZGpXaWR0aDpjO2Euc2V0V2lkdGgoZCk7Yi5zZXRXaWR0aChkKX0sY2xlYXJUYXJnZXRDYWNoZTpmdW5jdGlvbigpe2RlbGV0ZSB0aGlzLmFkaldpZHRofSxjYWNoZVRhcmdldEluZm86ZnVuY3Rpb24oYil7dmFyIGc9dGhpcyxhPWcub3duZXIsZD1hLnNjYWxlLGksZSxqLGMsaDtpZighKCJhZGpXaWR0aCIgaW4gZyl8fGcubGFzdFNjYWxlIT09ZCl7aWYoZy5sYXN0U2NhbGUpe2EuYnRuSW5uZXJFbC5zZXRTdHlsZSgibGluZS1oZWlnaHQiLCIiKX1nLmxhc3RTY2FsZT1kO2k9Yi5nZXRQYWRkaW5nSW5mbygpO2U9Yi5nZXRGcmFtZUluZm8oKTtqPWIuZ2V0RWwoImJ0bldyYXAiKS5nZXRQYWRkaW5nSW5mbygpO2M9Yi5nZXRFbCgiYnRuSW5uZXJFbCIpO2g9Yy5nZXRQYWRkaW5nSW5mbygpO0V4dC5hcHBseShnLHthZGpXaWR0aDpqLndpZHRoK2Uud2lkdGgraS53aWR0aCxhZGpIZWlnaHQ6ai5oZWlnaHQrZS5oZWlnaHQraS5oZWlnaHQsYnRuRnJhbWVXaWR0aDpoLndpZHRoLGJ0bkZyYW1lSGVpZ2h0OmguaGVpZ2h0LGJ0bkZyYW1lVG9wOmgudG9wLG1pblRleHRIZWlnaHQ6cGFyc2VJbnQoYy5nZXRTdHlsZSgibGluZS1oZWlnaHQiKSwxMCl9KX1nLmNhbGxQYXJlbnQoYXJndW1lbnRzKX19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbXBvbmVudC5Eb2NrIix7ZXh0ZW5kOiJFeHQubGF5b3V0LmNvbXBvbmVudC5Db21wb25lbnQiLGFsaWFzOiJsYXlvdXQuZG9jayIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQubGF5b3V0LmNvbXBvbmVudC5BYnN0cmFjdERvY2siLHR5cGU6ImRvY2siLGluaXRpYWxpemVkQm9yZGVyczotMSxob3Jpem9udGFsQ29sbGFwc2VQb2xpY3k6e3dpZHRoOnRydWUseDp0cnVlfSx2ZXJ0aWNhbENvbGxhcHNlUG9saWN5OntoZWlnaHQ6dHJ1ZSx5OnRydWV9LGZpbmlzaFJlbmRlcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYyxhO2IuY2FsbFBhcmVudCgpO2M9Yi5nZXRSZW5kZXJUYXJnZXQoKTthPWIuZ2V0RG9ja2VkSXRlbXMoKTtiLmZpbmlzaFJlbmRlckl0ZW1zKGMsYSl9LGlzSXRlbUJveFBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4gdHJ1ZX0saXNJdGVtU2hyaW5rV3JhcDpmdW5jdGlvbihhKXtyZXR1cm4gdHJ1ZX0sZG9ja09wcG9zaXRlczp7dG9wOiJib3R0b20iLHJpZ2h0OiJsZWZ0Iixib3R0b206InRvcCIsbGVmdDoicmlnaHQifSxoYW5kbGVJdGVtQm9yZGVyczpmdW5jdGlvbigpe3ZhciBsPXRoaXMsYT1sLm93bmVyLGssbyxkPWwuYm9yZGVycyxnPWwuZG9ja09wcG9zaXRlcyxiPWEuZG9ja2VkSXRlbXMuZ2VuZXJhdGlvbixlLGosbixtLGgsYz1sLmNvbGxhcHNlZDtpZihsLmluaXRpYWxpemVkQm9yZGVycz09Ynx8KGEuYm9yZGVyJiYhYS5tYW5hZ2VCb2R5Qm9yZGVycykpe3JldHVybn1sLmluaXRpYWxpemVkQm9yZGVycz1iO2wuY29sbGFwc2VkPWZhbHNlO289bC5nZXRMYXlvdXRJdGVtcygpO2wuY29sbGFwc2VkPWM7az17dG9wOltdLHJpZ2h0OltdLGJvdHRvbTpbXSxsZWZ0OltdfTtmb3IoZT0wLGo9by5sZW5ndGg7ZTxqO2UrKyl7bj1vW2VdO209bi5kb2NrO2lmKG4uaWdub3JlQm9yZGVyTWFuYWdlbWVudCl7Y29udGludWV9aWYoIWtbbV0uc2F0aXNmaWVkKXtrW21dLnB1c2gobik7a1ttXS5zYXRpc2ZpZWQ9dHJ1ZX1pZighay50b3Auc2F0aXNmaWVkJiZnW21dIT09InRvcCIpe2sudG9wLnB1c2gobil9aWYoIWsucmlnaHQuc2F0aXNmaWVkJiZnW21dIT09InJpZ2h0Iil7ay5yaWdodC5wdXNoKG4pfWlmKCFrLmJvdHRvbS5zYXRpc2ZpZWQmJmdbbV0hPT0iYm90dG9tIil7ay5ib3R0b20ucHVzaChuKX1pZighay5sZWZ0LnNhdGlzZmllZCYmZ1ttXSE9PSJsZWZ0Iil7ay5sZWZ0LnB1c2gobil9fWlmKGQpe2ZvcihoIGluIGQpe2lmKGQuaGFzT3duUHJvcGVydHkoaCkpe2o9ZFtoXS5sZW5ndGg7aWYoIWEubWFuYWdlQm9keUJvcmRlcnMpe2ZvcihlPTA7ZTxqO2UrKyl7ZFtoXVtlXS5yZW1vdmVDbHMoRXh0LmJhc2VDU1NQcmVmaXgrImRvY2tlZC1ub2JvcmRlci0iK2gpfWlmKCFkW2hdLnNhdGlzZmllZCYmIWEuYm9keUJvcmRlcil7YS5yZW1vdmVCb2R5Q2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJkb2NrZWQtbm9ib3JkZXItIitoKX19ZWxzZXtpZihkW2hdLnNhdGlzZmllZCl7YS5zZXRCb2R5U3R5bGUoImJvcmRlci0iK2grIi13aWR0aCIsIiIpfX19fX1mb3IoaCBpbiBrKXtpZihrLmhhc093blByb3BlcnR5KGgpKXtqPWtbaF0ubGVuZ3RoO2lmKCFhLm1hbmFnZUJvZHlCb3JkZXJzKXtmb3IoZT0wO2U8ajtlKyspe2tbaF1bZV0uYWRkQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJkb2NrZWQtbm9ib3JkZXItIitoKX1pZigoIWtbaF0uc2F0aXNmaWVkJiYhYS5ib2R5Qm9yZGVyKXx8YS5ib2R5Qm9yZGVyPT09ZmFsc2Upe2EuYWRkQm9keUNscyhFeHQuYmFzZUNTU1ByZWZpeCsiZG9ja2VkLW5vYm9yZGVyLSIraCl9fWVsc2V7aWYoa1toXS5zYXRpc2ZpZWQpe2Euc2V0Qm9keVN0eWxlKCJib3JkZXItIitoKyItd2lkdGgiLCIxcHgiKX19fX1sLmJvcmRlcnM9a30sYmVnaW5MYXlvdXQ6ZnVuY3Rpb24oZCl7dmFyIG09dGhpcyxjPW0ub3duZXIscD1tLmdldExheW91dEl0ZW1zKCksYj1kLmNvbnRleHQsaD1wLmxlbmd0aCxsPWZhbHNlLGU9ZmFsc2UsbixrLG8sYSxnLGo7bS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7bS5oYW5kbGVJdGVtQm9yZGVycygpO2o9Yy5nZXRDb2xsYXBzZWQoKTtpZihFeHQuaXNEZWZpbmVkKG0ubGFzdENvbGxhcHNlZFN0YXRlKSYmKGohPT1tLmxhc3RDb2xsYXBzZWRTdGF0ZSkpe2lmKG0ub3duZXIuY29sbGFwc2VkKXtkLmlzQ29sbGFwc2luZ09yRXhwYW5kaW5nPTE7Yy5hZGRDbHNXaXRoVUkoYy5jb2xsYXBzZWRDbHMpfWVsc2V7ZC5pc0NvbGxhcHNpbmdPckV4cGFuZGluZz0yO2MucmVtb3ZlQ2xzV2l0aFVJKGMuY29sbGFwc2VkQ2xzKTtkLmxhc3RDb2xsYXBzZWRTdGF0ZT1tLmxhc3RDb2xsYXBzZWRTdGF0ZX19bS5sYXN0Q29sbGFwc2VkU3RhdGU9ajtkLmRvY2tlZEl0ZW1zPW49W107Zm9yKGs9MDtrPGg7aysrKXtvPXBba107YT1iLmdldENtcChvKTthLmRvY2tlZEF0PXt4OjAseTowfTthLm9mZnNldHM9Zz1FeHQuRWxlbWVudC5wYXJzZUJveChvLm9mZnNldHN8fHt9KTtnLndpZHRoPWcubGVmdCtnLnJpZ2h0O2cuaGVpZ2h0PWcudG9wK2cuYm90dG9tO24ucHVzaChhKX1pZihjLmNvbGxhcHNlZCl7aWYoYy5jb2xsYXBzZWRWZXJ0aWNhbCgpKXtsPXRydWU7ZC5tZWFzdXJlRGltZW5zaW9ucz0xfWVsc2V7ZT10cnVlO2QubWVhc3VyZURpbWVuc2lvbnM9Mn19ZC5jb2xsYXBzZWRWZXJ0PWw7ZC5jb2xsYXBzZWRIb3J6PWU7ZC5ib2R5Q29udGV4dD1kLmdldEVsKCJib2R5Iil9LGJlZ2luTGF5b3V0Q3ljbGU6ZnVuY3Rpb24oYil7dmFyIGU9dGhpcyxsPWIuZG9ja2VkSXRlbXMsZD1sLmxlbmd0aCxhPWUub3duZXIsZz1hLmZyYW1lQm9keSxrPWUubGFzdEhlaWdodE1vZGVsLGMsaixoO2UuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGIuY29sbGFwc2VkVmVydCl7Yi5oZWlnaHRNb2RlbD1lLnNpemVNb2RlbHMuc2hyaW5rV3JhcH1lbHNle2lmKGIuY29sbGFwc2VkSG9yeil7Yi53aWR0aE1vZGVsPWUuc2l6ZU1vZGVscy5zaHJpbmtXcmFwfX1pZihrJiZrLnNocmlua1dyYXAmJiFiLmhlaWdodE1vZGVsLnNocmlua1dyYXAmJiFlLm93bmVyLm1hbmFnZUhlaWdodCl7YS5ib2R5LmRvbS5zdHlsZS5tYXJnaW5Cb3R0b209IiJ9aWYoYi53aWR0aE1vZGVsLmF1dG8pe2lmKGIud2lkdGhNb2RlbC5zaHJpbmtXcmFwKXthLmVsLnNldFdpZHRoKG51bGwpfWEuYm9keS5zZXRXaWR0aChudWxsKTtpZihnKXtnLnNldFdpZHRoKG51bGwpfX1pZihiLmhlaWdodE1vZGVsLmF1dG8pe2EuYm9keS5zZXRIZWlnaHQobnVsbCk7aWYoZyl7Zy5zZXRIZWlnaHQobnVsbCl9fWlmKGIuY29sbGFwc2VkVmVydCl7Yi5zZXRDb250ZW50SGVpZ2h0KDApfWVsc2V7aWYoYi5jb2xsYXBzZWRIb3J6KXtiLnNldENvbnRlbnRXaWR0aCgwKX19Zm9yKGM9MDtjPGQ7YysrKXtqPWxbY10udGFyZ2V0O2g9ai5kb2NrO2lmKGg9PSJyaWdodCIpe2ouZWwuc2V0TGVmdCgwKX1lbHNle2lmKGghPSJsZWZ0Iil7Y29udGludWV9fX19LGNhbGN1bGF0ZTpmdW5jdGlvbihkKXt2YXIgaz10aGlzLGM9ay5tZWFzdXJlQXV0b0RpbWVuc2lvbnMoZCxkLm1lYXN1cmVEaW1lbnNpb25zKSxiPWQuc3RhdGUsaj1iLmhvcnpEb25lLGU9Yi52ZXJ0RG9uZSxnPWQuYm9keUNvbnRleHQsYSxpLGgsbDtkLmJvcmRlckluZm98fGQuZ2V0Qm9yZGVySW5mbygpO2QucGFkZGluZ0luZm98fGQuZ2V0UGFkZGluZ0luZm8oKTtkLmZyYW1pbmdJbmZvfHxkLmdldEZyYW1pbmcoKTtnLmJvcmRlckluZm98fGcuZ2V0Qm9yZGVySW5mbygpO2cucGFkZGluZ0luZm98fGcuZ2V0UGFkZGluZ0luZm8oKTthPSFqJiZrLmNyZWF0ZUF4aXMoZCxjLmNvbnRlbnRXaWR0aCxkLndpZHRoTW9kZWwsImxlZnQiLCJyaWdodCIsIngiLCJ3aWR0aCIsIldpZHRoIixkLmNvbGxhcHNlZEhvcnopO2k9IWUmJmsuY3JlYXRlQXhpcyhkLGMuY29udGVudEhlaWdodCxkLmhlaWdodE1vZGVsLCJ0b3AiLCJib3R0b20iLCJ5IiwiaGVpZ2h0IiwiSGVpZ2h0IixkLmNvbGxhcHNlZFZlcnQpO2ZvcihoPTAsbD1kLmRvY2tlZEl0ZW1zLmxlbmd0aDtsLS07KytoKXtpZihhKXtrLmRvY2tDaGlsZChkLGEsbCxoKX1pZihpKXtrLmRvY2tDaGlsZChkLGksbCxoKX19aWYoYSYmay5maW5pc2hBeGlzKGQsYSkpe2IuaG9yekRvbmU9aj1hfWlmKGkmJmsuZmluaXNoQXhpcyhkLGkpKXtiLnZlcnREb25lPWU9aX1pZihqJiZlJiZrLmZpbmlzaENvbnN0cmFpbnRzKGQsaixlKSl7ay5maW5pc2hQb3NpdGlvbnMoZCxqLGUpfWVsc2V7ay5kb25lPWZhbHNlfX0sY3JlYXRlQXhpczpmdW5jdGlvbihwLGosZSxuLGksdCxtLGssZCl7dmFyIHY9MCxiPXRoaXMub3duZXIsZz1iWyJtYXgiK2tdLGM9YlsibWluIitrXXx8MCxsPWchPW51bGwsdz1wLnN0YXRlWyJjb25zdHJhaW5lZCIra10sbz13IT1udWxsLHU9InNldCIrayxyLGEscyxxLGg7aWYoZS5zaHJpbmtXcmFwJiYhbyl7aWYoZCl7aD0wfWVsc2V7YT1wLmJvZHlDb250ZXh0O2g9aithLmJvcmRlckluZm9bbV19fWVsc2V7cj1wLmJvcmRlckluZm87cz1wLmZyYW1pbmdJbmZvO3E9cC5wYWRkaW5nSW5mbztpZihvKXtoPXc7ZT10aGlzLnNpemVNb2RlbHMuY2FsY3VsYXRlZDtwW3VdKHcpfWVsc2V7aD1wLmdldFByb3AobSl9aC09cltpXStxW2ldK3NbaV07dj1yW25dK3Fbbl0rc1tuXX1yZXR1cm57c2hyaW5rV3JhcDplLnNocmlua1dyYXAsc2l6ZU1vZGVsOmUsYmVnaW46dixlbmQ6aCxjb2xsYXBzZWQ6ZCxob3Jpem9udGFsOnQ9PSJ4IixpZ25vcmVGcmFtZUJlZ2luOmZhbHNlLGlnbm9yZUZyYW1lRW5kOmZhbHNlLGluaXRpYWxTaXplOmgtdixoYXNNaW5NYXhDb25zdHJhaW50czooY3x8bCkmJmUuc2hyaW5rV3JhcCxpc0NvbnN0cmFpbmVkU2l6ZTpvLG1pblNpemU6YyxtYXhTaXplOmw/ZzoxMDAwMDAwMDAwLGJvZHlQb3NQcm9wOnRoaXMub3duZXIubWFuYWdlSGVpZ2h0P3Q6KCJtYXJnaW4tIituKSxkb2NrQmVnaW46bixkb2NrRW5kOmkscG9zUHJvcDp0LHNpemVQcm9wOm0sc2l6ZVByb3BDYXA6ayxzZXRTaXplOnUsZG9ja2VkUGl4ZWxzRW5kOjB9fSxkb2NrQ2hpbGQ6ZnVuY3Rpb24oYixjLGosZCl7dmFyIGU9dGhpcyxhPWIuZG9ja2VkSXRlbXNbYy5zaHJpbmtXcmFwP2o6ZF0saD1hLnRhcmdldCxpPWguZG9jayxnO2lmKGguaWdub3JlUGFyZW50RnJhbWUmJmIuaXNDb2xsYXBzaW5nT3JFeHBhbmRpbmcpe2EuY2xlYXJNYXJnaW5DYWNoZSgpfWlmKGk9PWMuZG9ja0JlZ2luKXtpZihjLnNocmlua1dyYXApe2c9ZS5kb2NrT3V0d2FyZEJlZ2luKGIsYSxoLGMpfWVsc2V7Zz1lLmRvY2tJbndhcmRCZWdpbihiLGEsaCxjKX19ZWxzZXtpZihpPT1jLmRvY2tFbmQpe2lmKGMuc2hyaW5rV3JhcCl7Zz1lLmRvY2tPdXR3YXJkRW5kKGIsYSxoLGMpfWVsc2V7Zz1lLmRvY2tJbndhcmRFbmQoYixhLGgsYyl9fWVsc2V7Zz1lLmRvY2tTdHJldGNoKGIsYSxoLGMpfX1hLmRvY2tlZEF0W2MucG9zUHJvcF09Z30sZG9ja0lud2FyZEJlZ2luOmZ1bmN0aW9uKGcsZSxkLGIpe3ZhciBpPWIuYmVnaW4saD1iLnNpemVQcm9wLGEsYztpZihkLmlnbm9yZVBhcmVudEZyYW1lKXtjPWQuZG9jaztpLT1nLmJvcmRlckluZm9bY10rZy5wYWRkaW5nSW5mb1tjXStnLmZyYW1pbmdJbmZvW2NdfWlmKCFkLm92ZXJsYXkpe2E9ZS5nZXRQcm9wKGgpK2UuZ2V0TWFyZ2luSW5mbygpW2hdO2IuYmVnaW4rPWF9cmV0dXJuIGl9LGRvY2tJbndhcmRFbmQ6ZnVuY3Rpb24oZSxkLGMsYil7dmFyIGg9Yi5zaXplUHJvcCxhPWQuZ2V0UHJvcChoKStkLmdldE1hcmdpbkluZm8oKVtoXSxnPWIuZW5kLWE7aWYoIWMub3ZlcmxheSl7Yi5lbmQ9Z31pZihjLmlnbm9yZVBhcmVudEZyYW1lKXtnKz1lLmJvcmRlckluZm9bYy5kb2NrXStlLnBhZGRpbmdJbmZvW2MuZG9ja10rZS5mcmFtaW5nSW5mb1tjLmRvY2tdfXJldHVybiBnfSxkb2NrT3V0d2FyZEJlZ2luOmZ1bmN0aW9uKGcsZSxkLGIpe3ZhciBpPWIuYmVnaW4saD1iLnNpemVQcm9wLGMsYTtpZihiLmNvbGxhcHNlZCl7Yi5pZ25vcmVGcmFtZUJlZ2luPWIuaWdub3JlRnJhbWVFbmQ9dHJ1ZX1lbHNle2lmKGQuaWdub3JlUGFyZW50RnJhbWUpe2M9ZC5kb2NrO2ktPWcuYm9yZGVySW5mb1tjXStnLnBhZGRpbmdJbmZvW2NdK2cuZnJhbWluZ0luZm9bY107Yi5pZ25vcmVGcmFtZUJlZ2luPXRydWV9fWlmKCFkLm92ZXJsYXkpe2E9ZS5nZXRQcm9wKGgpK2UuZ2V0TWFyZ2luSW5mbygpW2hdO2ktPWE7Yi5iZWdpbj1pfXJldHVybiBpfSxkb2NrT3V0d2FyZEVuZDpmdW5jdGlvbihnLGUsZCxiKXt2YXIgaT1iLmVuZCxoPWIuc2l6ZVByb3AsYyxhO2E9ZS5nZXRQcm9wKGgpK2UuZ2V0TWFyZ2luSW5mbygpW2hdO2lmKGIuY29sbGFwc2VkKXtiLmlnbm9yZUZyYW1lQmVnaW49Yi5pZ25vcmVGcmFtZUVuZD10cnVlfWVsc2V7aWYoZC5pZ25vcmVQYXJlbnRGcmFtZSl7Yz1kLmRvY2s7aSs9Zy5ib3JkZXJJbmZvW2NdK2cucGFkZGluZ0luZm9bY10rZy5mcmFtaW5nSW5mb1tjXTtiLmlnbm9yZUZyYW1lRW5kPXRydWV9fWlmKCFkLm92ZXJsYXkpe2IuZW5kPWkrYTtiLmRvY2tlZFBpeGVsc0VuZCs9YX1yZXR1cm4gaX0sZG9ja1N0cmV0Y2g6ZnVuY3Rpb24oYyxiLG4sZCl7dmFyIG89bi5kb2NrLGo9ZC5zaXplUHJvcCxhPW89PSJ0b3AifHxvPT0iYm90dG9tIixlPWIub2Zmc2V0cyxpPWMuYm9yZGVySW5mbyxtPWMucGFkZGluZ0luZm8saD1hPyJyaWdodCI6ImJvdHRvbSIscT1hPyJsZWZ0IjoidG9wIixsPWQuYmVnaW4rZVtxXSxnLHAsaztpZihuLnN0cmV0Y2ghPT1mYWxzZSl7cD1kLmVuZC1sLWVbaF07aWYobi5pZ25vcmVQYXJlbnRGcmFtZSl7az1jLmZyYW1pbmdJbmZvO2wtPWlbcV0rbVtxXStrW3FdO3ArPWlbal0rbVtqXStrW2pdfWc9Yi5nZXRNYXJnaW5JbmZvKCk7cC09Z1tqXTtiW2Quc2V0U2l6ZV0ocCl9cmV0dXJuIGx9LGZpbmlzaEF4aXM6ZnVuY3Rpb24oYyxlKXt2YXIgbz1lLmVuZC1lLmJlZ2luLGw9ZS5zZXRTaXplLGQ9ZS5kb2NrQmVnaW4saT1lLmRvY2tFbmQsaj1jLmJvcmRlckluZm8sbT1jLnBhZGRpbmdJbmZvLGs9Yy5mcmFtaW5nSW5mbyxoPW1bZF0raltkXStrW2RdLGc9Yy5ib2R5Q29udGV4dCxuLGEsYjtpZihlLnNocmlua1dyYXApe2UuZGVsdGE9LWUuYmVnaW47YT1lLmluaXRpYWxTaXplO2lmKGUuaWdub3JlRnJhbWVCZWdpbil7ZS5kZWx0YS09altkXTtuPS1lLmJlZ2luLWh9ZWxzZXtvKz1oO2UuZGVsdGErPW1bZF0ra1tkXTtuPS1lLmJlZ2lufWlmKCFlLmlnbm9yZUZyYW1lRW5kKXtvKz1tW2ldK2pbaV0ra1tpXX1lLnNpemU9bztpZighZS5ob3Jpem9udGFsJiYhdGhpcy5vd25lci5tYW5hZ2VIZWlnaHQpe2I9ZmFsc2V9fWVsc2V7ZS5kZWx0YT0taltlLmRvY2tCZWdpbl07YT1vO249ZS5iZWdpbi1ofWdbbF0oYSxiKTtnLnNldFByb3AoZS5ib2R5UG9zUHJvcCxuKTtyZXR1cm4gIWlzTmFOKG8pfSxmaW5pc2hDb25zdHJhaW50czpmdW5jdGlvbihnLGEsaSl7dmFyIGw9YS5zaXplPGEubWluU2l6ZSxiPWEuc2l6ZT5hLm1heFNpemUsaj1pLnNpemU8aS5taW5TaXplLGM9aS5zaXplPmkubWF4U2l6ZSxlPWcuc3RhdGUsaz10cnVlLGg9dGhpcy5zaXplTW9kZWxzLmNvbmZpZ3VyZWQsZDtpZihhLnNocmlua1dyYXAmJmImJmkuc2hyaW5rV3JhcCYmail7ZS5jb25zdHJhaW5lZFdpZHRoPWEubWF4U2l6ZTtnLndpZHRoTW9kZWw9aDtrPWZhbHNlfWVsc2V7aWYoYS5zaHJpbmtXcmFwKXtpZihiKXtlLmNvbnN0cmFpbmVkV2lkdGg9YS5tYXhTaXplO2cud2lkdGhNb2RlbD1oO2s9ZmFsc2V9ZWxzZXtpZihsKXtlLmNvbnN0cmFpbmVkV2lkdGg9YS5taW5TaXplO2cud2lkdGhNb2RlbD1oO2s9ZmFsc2V9fX1pZihpLnNocmlua1dyYXApe2lmKGMpe2UuY29uc3RyYWluZWRIZWlnaHQ9aS5tYXhTaXplO2cuaGVpZ2h0TW9kZWw9aDtrPWZhbHNlfWVsc2V7aWYoail7ZS5jb25zdHJhaW5lZEhlaWdodD1pLm1pblNpemU7Zy5oZWlnaHRNb2RlbD1oO2s9ZmFsc2V9fX19aWYoayl7aWYoYS5zaHJpbmtXcmFwKXtnLnNldFdpZHRoKGEuc2l6ZSl9aWYoaS5zaHJpbmtXcmFwKXtpZighZy5jb2xsYXBzZWRWZXJ0JiYhdGhpcy5vd25lci5tYW5hZ2VIZWlnaHQpe2Q9ZmFsc2U7Zy5ib2R5Q29udGV4dC5zZXRQcm9wKCJtYXJnaW4tYm90dG9tIixpLmRvY2tlZFBpeGVsc0VuZCl9Zy5zZXRIZWlnaHQoaS5zaXplLGQpfX1lbHNle2cuaW52YWxpZGF0ZSh7c3RhdGU6e2NvbnN0cmFpbmVkV2lkdGg6ZS5jb25zdHJhaW5lZFdpZHRoLGNvbnN0cmFpbmVkSGVpZ2h0OmUuY29uc3RyYWluZWRIZWlnaHR9fSl9cmV0dXJuIGt9LGZpbmlzaFBvc2l0aW9uczpmdW5jdGlvbihkLGEsaCl7dmFyIGo9ZC5kb2NrZWRJdGVtcyxjPWoubGVuZ3RoLGc9YS5kZWx0YSxlPWguZGVsdGEsaSxiO2ZvcihpPTA7aTxjOysraSl7Yj1qW2ldO2Iuc2V0UHJvcCgieCIsZytiLmRvY2tlZEF0LngpO2Iuc2V0UHJvcCgieSIsZStiLmRvY2tlZEF0LnkpfX0sZmluaXNoZWRMYXlvdXQ6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcyxjPWIudGFyZ2V0O2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKCFiLmFuaW1hdGVQb2xpY3kpe2lmKGIuaXNDb2xsYXBzaW5nT3JFeHBhbmRpbmc9PT0xKXtjLmFmdGVyQ29sbGFwc2UoZmFsc2UpfWVsc2V7aWYoYi5pc0NvbGxhcHNpbmdPckV4cGFuZGluZz09PTIpe2MuYWZ0ZXJFeHBhbmQoZmFsc2UpfX19fSxnZXRBbmltYXRlUG9saWN5OmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYSxkO2lmKGMuaXNDb2xsYXBzaW5nT3JFeHBhbmRpbmc9PTEpe2E9Yi5sYXN0Q29sbGFwc2VkU3RhdGV9ZWxzZXtpZihjLmlzQ29sbGFwc2luZ09yRXhwYW5kaW5nPT0yKXthPWMubGFzdENvbGxhcHNlZFN0YXRlfX1pZihhPT0ibGVmdCJ8fGE9PSJyaWdodCIpe2Q9Yi5ob3Jpem9udGFsQ29sbGFwc2VQb2xpY3l9ZWxzZXtpZihhPT0idG9wInx8YT09ImJvdHRvbSIpe2Q9Yi52ZXJ0aWNhbENvbGxhcHNlUG9saWN5fX1yZXR1cm4gZH0sZ2V0RG9ja2VkSXRlbXM6ZnVuY3Rpb24oYyxtKXt2YXIgaD10aGlzLGo9aC5vd25lci5kb2NrZWRJdGVtcy5pdGVtcyxnPWomJmoubGVuZ3RoJiZjIT09ZmFsc2UsYixsLGssZSxkLGE7aWYobT09bnVsbCl7az1nP2ouc2xpY2UoKTpqfWVsc2V7az1bXTtmb3IoZT0wLGE9ai5sZW5ndGg7ZTxhOysrZSl7bD1qW2VdLmRvY2s7ZD0obD09InRvcCJ8fGw9PSJsZWZ0Iik7aWYobT9kOiFkKXtrLnB1c2goaltlXSl9fWc9ZyYmay5sZW5ndGh9aWYoZyl7Yj0oYz1jfHwicmVuZGVyIik9PSJyZW5kZXIiO0V4dC5BcnJheS5zb3J0KGssZnVuY3Rpb24obixpKXt2YXIgbyxwO2lmKGImJigobz1oLm93bmVyLmRvY2tPcmRlcltuLmRvY2tdKSE9PShwPWgub3duZXIuZG9ja09yZGVyW2kuZG9ja10pKSl7aWYoIShvK3ApKXtyZXR1cm4gby1wfX1vPWguZ2V0SXRlbVdlaWdodChuLGMpO3A9aC5nZXRJdGVtV2VpZ2h0KGksYyk7aWYoKG8hPT11bmRlZmluZWQpJiYocCE9PXVuZGVmaW5lZCkpe3JldHVybiBvLXB9cmV0dXJuIDB9KX1yZXR1cm4ga3x8W119LGdldEl0ZW1XZWlnaHQ6ZnVuY3Rpb24oYixhKXt2YXIgYz1iLndlaWdodHx8dGhpcy5vd25lci5kZWZhdWx0RG9ja1dlaWdodHNbYi5kb2NrXTtyZXR1cm4gY1thXXx8Y30sZ2V0TGF5b3V0SXRlbXM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGIsZyxkLGMsYTtpZihlLm93bmVyLmNvbGxhcHNlZCl7YT1lLm93bmVyLmdldENvbGxhcHNlZERvY2tlZEl0ZW1zKCl9ZWxzZXtiPWUuZ2V0RG9ja2VkSXRlbXMoInZpc3VhbCIpO2c9Yi5sZW5ndGg7YT1bXTtmb3IoYz0wO2M8ZztjKyspe2Q9YltjXTtpZighZC5oaWRkZW4pe2EucHVzaChkKX19fXJldHVybiBhfSxtZWFzdXJlQ29udGVudFdpZHRoOmZ1bmN0aW9uKGEpe3ZhciBiPWEuYm9keUNvbnRleHQ7cmV0dXJuIGIuZWwuZ2V0V2lkdGgoKS1iLmdldEJvcmRlckluZm8oKS53aWR0aH0sbWVhc3VyZUNvbnRlbnRIZWlnaHQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ib2R5Q29udGV4dDtyZXR1cm4gYi5lbC5nZXRIZWlnaHQoKS1iLmdldEJvcmRlckluZm8oKS5oZWlnaHR9LHJlZG9MYXlvdXQ6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWIub3duZXI7aWYoYy5pc0NvbGxhcHNpbmdPckV4cGFuZGluZz09MSl7aWYoYS5yZUV4cGFuZGVyKXthLnJlRXhwYW5kZXIuZWwuc2hvdygpfWEuYWRkQ2xzV2l0aFVJKGEuY29sbGFwc2VkQ2xzKTtjLnJlZG8odHJ1ZSl9ZWxzZXtpZihjLmlzQ29sbGFwc2luZ09yRXhwYW5kaW5nPT0yKXthLnJlbW92ZUNsc1dpdGhVSShhLmNvbGxhcHNlZENscyk7Yy5ib2R5Q29udGV4dC5yZWRvKCl9fX0scmVuZGVyQ2hpbGRyZW46ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5nZXREb2NrZWRJdGVtcygpLGM9Yi5nZXRSZW5kZXJUYXJnZXQoKTtiLnJlbmRlckl0ZW1zKGEsYyl9LHJlbmRlckl0ZW1zOmZ1bmN0aW9uKGssaCl7dmFyIG09dGhpcyxjPWsubGVuZ3RoLGE9MCxiPTAsbyxwPTAsbD1tLmdldFJlbmRlclRhcmdldCgpLmRvbS5jaGlsZE5vZGVzLG49bC5sZW5ndGgsZyxkLGUsbztmb3IoZz0wLGQ9MDtnPG47ZysrKXtlPWxbZ107aWYoRXh0LmZseShlKS5oYXNDbHMoIngtcmVzaXphYmxlLWhhbmRsZSIpKXticmVha31mb3IoZD0wO2Q8YztkKyspe289a1tkXTtpZihvLnJlbmRlcmVkJiZvLmVsLmRvbT09PWUpe2JyZWFrfX1pZihkPT09Yyl7cCsrfX1mb3IoO2E8YzthKyssYisrKXtvPWtbYV07aWYoYT09PWImJihvLmRvY2s9PT0icmlnaHQifHxvLmRvY2s9PT0iYm90dG9tIikpe2IrPXB9aWYobyYmIW8ucmVuZGVyZWQpe20ucmVuZGVySXRlbShvLGgsYil9ZWxzZXtpZighbS5pc1ZhbGlkUGFyZW50KG8saCxiKSl7bS5tb3ZlSXRlbShvLGgsYil9fX19LHVuZG9MYXlvdXQ6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWIub3duZXI7aWYoYy5pc0NvbGxhcHNpbmdPckV4cGFuZGluZz09MSl7aWYoYS5yZUV4cGFuZGVyKXthLnJlRXhwYW5kZXIuZWwuaGlkZSgpfWEucmVtb3ZlQ2xzV2l0aFVJKGEuY29sbGFwc2VkQ2xzKTtjLnVuZG8odHJ1ZSl9ZWxzZXtpZihjLmlzQ29sbGFwc2luZ09yRXhwYW5kaW5nPT0yKXthLmFkZENsc1dpdGhVSShhLmNvbGxhcHNlZENscyk7Yy5ib2R5Q29udGV4dC51bmRvKCl9fX0sc2l6ZVBvbGljeTp7bm9zdHJldGNoOntzZXRzV2lkdGg6MCxzZXRzSGVpZ2h0OjB9LHN0cmV0Y2hIOntzZXRzV2lkdGg6MSxzZXRzSGVpZ2h0OjB9LHN0cmV0Y2hWOntzZXRzV2lkdGg6MCxzZXRzSGVpZ2h0OjF9LGF1dG9TdHJldGNoSDp7cmVhZHNXaWR0aDoxLHNldHNXaWR0aDoxLHNldHNIZWlnaHQ6MH0sYXV0b1N0cmV0Y2hWOntyZWFkc0hlaWdodDoxLHNldHNXaWR0aDowLHNldHNIZWlnaHQ6MX19LGdldEl0ZW1TaXplUG9saWN5OmZ1bmN0aW9uKGMpe3ZhciBkPXRoaXMuc2l6ZVBvbGljeSxiLGE7aWYoYy5zdHJldGNoPT09ZmFsc2Upe3JldHVybiBkLm5vc3RyZXRjaH1iPWMuZG9jazthPShiPT0ibGVmdCJ8fGI9PSJyaWdodCIpO2lmKGEpe3JldHVybiBkLnN0cmV0Y2hWfXJldHVybiBkLnN0cmV0Y2hIfSxjb25maWd1cmVJdGVtOmZ1bmN0aW9uKGEsYil7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5hZGRDbHMoRXh0LmJhc2VDU1NQcmVmaXgrImRvY2tlZCIpO2EuYWRkQ2xzV2l0aFVJKCJkb2NrZWQtIithLmRvY2spfSxhZnRlclJlbW92ZTpmdW5jdGlvbihhKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZih0aGlzLml0ZW1DbHMpe2EuZWwucmVtb3ZlQ2xzKHRoaXMuaXRlbUNscysiLSIrYS5kb2NrKX12YXIgYj1hLmVsLmRvbTtpZighYS5kZXN0cm95aW5nJiZiKXtiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9dGhpcy5jaGlsZHJlbkNoYW5nZWQ9dHJ1ZX19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbXBvbmVudC5GaWVsZFNldCIse2V4dGVuZDoiRXh0LmxheW91dC5jb21wb25lbnQuQm9keSIsYWxpYXM6WyJsYXlvdXQuZmllbGRzZXQiXSx0eXBlOiJmaWVsZHNldCIsYmVnaW5MYXlvdXRDeWNsZTpmdW5jdGlvbihiKXt2YXIgYz1iLnRhcmdldCxhO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGMuY29sbGFwc2VkKXtiLmhlaWdodE1vZGVsPXRoaXMuc2l6ZU1vZGVscy5zaHJpbmtXcmFwO2Iuc2V0Q29udGVudEhlaWdodCgwKTtpZihiLndpZHRoTW9kZWwuc2hyaW5rV3JhcCl7YT1jLmxhc3RDb21wb25lbnRTaXplO2Iuc2V0Q29udGVudFdpZHRoKChhJiZhLmNvbnRlbnRXaWR0aCl8fDEwMCl9fX0sY2FsY3VsYXRlT3duZXJIZWlnaHRGcm9tQ29udGVudEhlaWdodDpmdW5jdGlvbihiLGEpe3JldHVybiBiLmdldFByb3AoImNvbnRlbnRIZWlnaHQiKStiLmdldFBhZGRpbmdJbmZvKCkuaGVpZ2h0KyhiLnRhcmdldC5sZWdlbmQ/Yi50YXJnZXQubGVnZW5kLmdldEhlaWdodCgpOmIuZ2V0Qm9yZGVySW5mbygpLnRvcCkrYi5nZXRCb3JkZXJJbmZvKCkuYm90dG9tfSxwdWJsaXNoSW5uZXJIZWlnaHQ6ZnVuY3Rpb24oYixhKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihiLnRhcmdldC5sZWdlbmQpe2IuYm9keUNvbnRleHQuc2V0SGVpZ2h0KGIuYm9keUNvbnRleHQuZ2V0UHJvcCgiaGVpZ2h0IiktYi50YXJnZXQubGVnZW5kLmdldEhlaWdodCgpLCFiLmhlaWdodE1vZGVsLm5hdHVyYWwpfX0sZ2V0TGF5b3V0SXRlbXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm93bmVyLmxlZ2VuZDtpZihhKXtyZXR1cm5bYV19cmV0dXJuW119fSk7RXh0LmRlZmluZSgiRXh0LmxheW91dC5jb21wb25lbnQuUHJvZ3Jlc3NCYXIiLHthbGlhczpbImxheW91dC5wcm9ncmVzc2JhciJdLGV4dGVuZDoiRXh0LmxheW91dC5jb21wb25lbnQuQXV0byIsdHlwZToicHJvZ3Jlc3NiYXIiLGJlZ2luTGF5b3V0OmZ1bmN0aW9uKGQpe3ZhciBiPXRoaXMsYSxjO2IuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKCFkLnRleHRFbHMpe2M9Yi5vd25lci50ZXh0RWw7aWYoYy5pc0NvbXBvc2l0ZSl7ZC50ZXh0RWxzPVtdO2M9Yy5lbGVtZW50cztmb3IoYT1jLmxlbmd0aDthLS07KXtkLnRleHRFbHNbYV09ZC5nZXRFbChFeHQuZ2V0KGNbYV0pKX19ZWxzZXtkLnRleHRFbHM9W2QuZ2V0RWwoInRleHRFbCIpXX19fSxjYWxjdWxhdGU6ZnVuY3Rpb24oZSl7dmFyIGM9dGhpcyxhLGQsYjtjLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihFeHQuaXNOdW1iZXIoYj1lLmdldFByb3AoIndpZHRoIikpKXtiLT1lLmdldEJvcmRlckluZm8oKS53aWR0aDtkPWUudGV4dEVscztmb3IoYT1kLmxlbmd0aDthLS07KXtkW2FdLnNldFdpZHRoKGIpfX1lbHNle2MuZG9uZT1mYWxzZX19fSk7RXh0LmRlZmluZSgiRXh0LlByb2dyZXNzQmFyIix7ZXh0ZW5kOiJFeHQuQ29tcG9uZW50IixhbGlhczoid2lkZ2V0LnByb2dyZXNzYmFyIixyZXF1aXJlczpbIkV4dC5UZW1wbGF0ZSIsIkV4dC5Db21wb3NpdGVFbGVtZW50IiwiRXh0LlRhc2tNYW5hZ2VyIiwiRXh0LmxheW91dC5jb21wb25lbnQuUHJvZ3Jlc3NCYXIiXSx1c2VzOlsiRXh0LmZ4LkFuaW0iXSxiYXNlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJwcm9ncmVzcyIsYW5pbWF0ZTpmYWxzZSx0ZXh0OiIiLHdhaXRUaW1lcjpudWxsLGNoaWxkRWxzOlsiYmFyIl0scmVuZGVyVHBsOlsnPHRwbCBpZj0iaW50ZXJuYWxUZXh0Ij4nLCc8ZGl2IGNsYXNzPSJ7YmFzZUNsc30tdGV4dCB7YmFzZUNsc30tdGV4dC1iYWNrIj57dGV4dH08L2Rpdj4nLCI8L3RwbD4iLCc8ZGl2IGlkPSJ7aWR9LWJhciIgY2xhc3M9IntiYXNlQ2xzfS1iYXIiIHN0eWxlPSJ3aWR0aDp7cGVyY2VudGFnZX0lIj4nLCc8dHBsIGlmPSJpbnRlcm5hbFRleHQiPicsJzxkaXYgY2xhc3M9IntiYXNlQ2xzfS10ZXh0Ij4nLCI8ZGl2Pnt0ZXh0fTwvZGl2PiIsIjwvZGl2PiIsIjwvdHBsPiIsIjwvZGl2PiJdLGNvbXBvbmVudExheW91dDoicHJvZ3Jlc3NiYXIiLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoKTt0aGlzLmFkZEV2ZW50cygidXBkYXRlIil9LGluaXRSZW5kZXJEYXRhOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gRXh0LmFwcGx5KGEuY2FsbFBhcmVudCgpLHtpbnRlcm5hbFRleHQ6IWEuaGFzT3duUHJvcGVydHkoInRleHRFbCIpLHRleHQ6YS50ZXh0fHwiJiMxNjA7IixwZXJjZW50YWdlOmEudmFsdWU/YS52YWx1ZSoxMDA6MH0pfSxvblJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYS50ZXh0RWwpe2EudGV4dEVsPUV4dC5nZXQoYS50ZXh0RWwpO2EudXBkYXRlVGV4dChhLnRleHQpfWVsc2V7YS50ZXh0RWw9YS5lbC5zZWxlY3QoIi4iK2EuYmFzZUNscysiLXRleHQiKX19LHVwZGF0ZVByb2dyZXNzOmZ1bmN0aW9uKGQsZSxhKXt2YXIgYz10aGlzLGI9Yy52YWx1ZTtjLnZhbHVlPWR8fDA7aWYoZSl7Yy51cGRhdGVUZXh0KGUpfWlmKGMucmVuZGVyZWQmJiFjLmlzRGVzdHJveWVkKXtpZihhPT09dHJ1ZXx8KGEhPT1mYWxzZSYmYy5hbmltYXRlKSl7Yy5iYXIuc3RvcEFuaW1hdGlvbigpO2MuYmFyLmFuaW1hdGUoRXh0LmFwcGx5KHtmcm9tOnt3aWR0aDooYioxMDApKyIlIn0sdG86e3dpZHRoOihjLnZhbHVlKjEwMCkrIiUifX0sYy5hbmltYXRlKSl9ZWxzZXtjLmJhci5zZXRTdHlsZSgid2lkdGgiLChjLnZhbHVlKjEwMCkrIiUiKX19Yy5maXJlRXZlbnQoInVwZGF0ZSIsYyxjLnZhbHVlLGUpO3JldHVybiBjfSx1cGRhdGVUZXh0OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7YS50ZXh0PWI7aWYoYS5yZW5kZXJlZCl7YS50ZXh0RWwudXBkYXRlKGEudGV4dCl9cmV0dXJuIGF9LGFwcGx5VGV4dDpmdW5jdGlvbihhKXt0aGlzLnVwZGF0ZVRleHQoYSl9LGdldFRleHQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50ZXh0fSx3YWl0OmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYTtpZighYi53YWl0VGltZXIpe2E9YjtjPWN8fHt9O2IudXBkYXRlVGV4dChjLnRleHQpO2Iud2FpdFRpbWVyPUV4dC5UYXNrTWFuYWdlci5zdGFydCh7cnVuOmZ1bmN0aW9uKGQpe3ZhciBlPWMuaW5jcmVtZW50fHwxMDtkLT0xO2IudXBkYXRlUHJvZ3Jlc3MoKCgoKGQrZSklZSkrMSkqKDEwMC9lKSkqMC4wMSxudWxsLGMuYW5pbWF0ZSl9LGludGVydmFsOmMuaW50ZXJ2YWx8fDEwMDAsZHVyYXRpb246Yy5kdXJhdGlvbixvblN0b3A6ZnVuY3Rpb24oKXtpZihjLmZuKXtjLmZuLmFwcGx5KGMuc2NvcGV8fGIpfWIucmVzZXQoKX0sc2NvcGU6YX0pfXJldHVybiBifSxpc1dhaXRpbmc6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53YWl0VGltZXIhPT1udWxsfSxyZXNldDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IudXBkYXRlUHJvZ3Jlc3MoMCk7Yi5jbGVhclRpbWVyKCk7aWYoYT09PXRydWUpe2IuaGlkZSgpfXJldHVybiBifSxjbGVhclRpbWVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLndhaXRUaW1lcil7YS53YWl0VGltZXIub25TdG9wPW51bGw7RXh0LlRhc2tNYW5hZ2VyLnN0b3AoYS53YWl0VGltZXIpO2Eud2FpdFRpbWVyPW51bGx9fSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2xlYXJUaW1lcigpO2lmKGEucmVuZGVyZWQpe2lmKGEudGV4dEVsLmlzQ29tcG9zaXRlKXthLnRleHRFbC5jbGVhcigpfUV4dC5kZXN0cm95TWVtYmVycyhhLCJ0ZXh0RWwiLCJwcm9ncmVzc0JhciIpfWEuY2FsbFBhcmVudCgpfX0pO0V4dC5kZWZpbmUoIkV4dC5sYXlvdXQuY29tcG9uZW50LlRhYiIse2V4dGVuZDoiRXh0LmxheW91dC5jb21wb25lbnQuQnV0dG9uIixhbGlhczoibGF5b3V0LnRhYiIsYmVnaW5MYXlvdXQ6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWIub3duZXIuY2xvc2FibGU7aWYoYi5sYXN0Q2xvc2FibGUhPT1hKXtiLmxhc3RDbG9zYWJsZT1hO2IuY2xlYXJUYXJnZXRDYWNoZSgpfWIuY2FsbFBhcmVudChhcmd1bWVudHMpfX0pO0V4dC5kZWZpbmUoIkV4dC5sYXlvdXQuY29tcG9uZW50LmZpZWxkLkZpZWxkIix7ZXh0ZW5kOiJFeHQubGF5b3V0LmNvbXBvbmVudC5BdXRvIixhbGlhczoibGF5b3V0LmZpZWxkIix1c2VzOlsiRXh0LnRpcC5RdWlja1RpcCIsIkV4dC51dGlsLlRleHRNZXRyaWNzIiwiRXh0LnV0aWwuQ1NTIl0sdHlwZToiZmllbGQiLGJlZ2luTGF5b3V0OmZ1bmN0aW9uKGUpe3ZhciBkPXRoaXMsYT1kLm93bmVyLGI9ZS53aWR0aE1vZGVsLGM7ZC5jYWxsUGFyZW50KGFyZ3VtZW50cyk7ZS5sYWJlbFN0cmF0ZWd5PWQuZ2V0TGFiZWxTdHJhdGVneSgpO2UuZXJyb3JTdHJhdGVneT1kLmdldEVycm9yU3RyYXRlZ3koKTtlLmxhYmVsQ29udGV4dD1lLmdldEVsKCJsYWJlbEVsIik7ZS5ib2R5Q2VsbENvbnRleHQ9ZS5nZXRFbCgiYm9keUVsIik7ZS5pbnB1dENvbnRleHQ9ZS5nZXRFbCgiaW5wdXRFbCIpO2UuZXJyb3JDb250ZXh0PWUuZ2V0RWwoImVycm9yRWwiKTtlLmlucHV0Um93PWUuZ2V0RWwoImlucHV0Um93Iik7aWYoKEV4dC5pc0lFNnx8RXh0LmlzSUU3KSYmRXh0LmlzU3RyaWN0JiZlLmlucHV0Q29udGV4dCl7ZC5pZUlucHV0V2lkdGhBZGp1c3RtZW50PWUuaW5wdXRDb250ZXh0LmdldFBhZGRpbmdJbmZvKCkud2lkdGgrZS5pbnB1dENvbnRleHQuZ2V0Qm9yZGVySW5mbygpLndpZHRofWUubGFiZWxTdHJhdGVneS5wcmVwYXJlKGUsYSk7ZS5lcnJvclN0cmF0ZWd5LnByZXBhcmUoZSxhKTtpZihiLnNocmlua1dyYXApe2QuYmVnaW5MYXlvdXRTaHJpbmtXcmFwKGUpfWVsc2V7aWYoYi5uYXR1cmFsKXtpZih0eXBlb2YgYS5zaXplPT0ibnVtYmVyIil7ZC5iZWdpbkxheW91dEZpeGVkKGUsKGM9YS5zaXplKjYuNSsyMCksInB4Iil9ZWxzZXtkLmJlZ2luTGF5b3V0U2hyaW5rV3JhcChlKX1lLnNldFdpZHRoKGMsZmFsc2UpfWVsc2V7ZC5iZWdpbkxheW91dEZpeGVkKGUsIjEwMCIsIiUiKX19fSxiZWdpbkxheW91dEZpeGVkOmZ1bmN0aW9uKGMsYixkKXt2YXIgYT1jLnRhcmdldDthLmVsLnNldFN0eWxlKCJ0YWJsZS1sYXlvdXQiLCJmaXhlZCIpO2EuYm9keUVsLnNldFN0eWxlKCJ3aWR0aCIsYitkKX0sYmVnaW5MYXlvdXRTaHJpbmtXcmFwOmZ1bmN0aW9uKGIpe3ZhciBhPWIudGFyZ2V0O2lmKGEuaW5wdXRFbCYmYS5pbnB1dEVsLmRvbSl7YS5pbnB1dEVsLmRvbS5yZW1vdmVBdHRyaWJ1dGUoInNpemUiKX1hLmVsLnNldFN0eWxlKCJ0YWJsZS1sYXlvdXQiLCJhdXRvIik7YS5ib2R5RWwuc2V0U3R5bGUoIndpZHRoIiwiIil9LGZpbmlzaGVkTGF5b3V0OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMub3duZXI7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7Yi5sYWJlbFN0cmF0ZWd5LmZpbmlzaGVkTGF5b3V0KGIsYSk7Yi5lcnJvclN0cmF0ZWd5LmZpbmlzaGVkTGF5b3V0KGIsYSl9LGNhbGN1bGF0ZU93bmVySGVpZ2h0RnJvbUNvbnRlbnRIZWlnaHQ6ZnVuY3Rpb24oYixhKXtyZXR1cm4gYX0sbWVhc3VyZUNvbnRlbnRIZWlnaHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZWwuZ2V0SGVpZ2h0KCl9LG1lYXN1cmVDb250ZW50V2lkdGg6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZWwuZ2V0V2lkdGgoKX0sbWVhc3VyZUxhYmVsRXJyb3JIZWlnaHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEubGFiZWxTdHJhdGVneS5nZXRIZWlnaHQoYSkrYS5lcnJvclN0cmF0ZWd5LmdldEhlaWdodChhKX0sb25Gb2N1czpmdW5jdGlvbigpe3RoaXMuZ2V0RXJyb3JTdHJhdGVneSgpLm9uRm9jdXModGhpcy5vd25lcil9LGdldExhYmVsU3RyYXRlZ3k6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5sYWJlbFN0cmF0ZWdpZXMsYT1iLm93bmVyLmxhYmVsQWxpZ247cmV0dXJuIGNbYV18fGMuYmFzZX0sZ2V0RXJyb3JTdHJhdGVneTpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYT1jLm93bmVyLGQ9Yy5lcnJvclN0cmF0ZWdpZXMsYj1hLm1zZ1RhcmdldDtyZXR1cm4gIWEucHJldmVudE1hcmsmJkV4dC5pc1N0cmluZyhiKT8oZFtiXXx8ZC5lbGVtZW50SWQpOmQubm9uZX0sbGFiZWxTdHJhdGVnaWVzOihmdW5jdGlvbigpe3ZhciBhPXtwcmVwYXJlOmZ1bmN0aW9uKGUsYil7dmFyIGM9Yi5sYWJlbENscysiLSIrYi5sYWJlbEFsaWduLGQ9Yi5sYWJlbEVsO2lmKGQpe2QuYWRkQ2xzKGMpfX0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIDB9LGZpbmlzaGVkTGF5b3V0OkV4dC5lbXB0eUZufTtyZXR1cm57YmFzZTphLHRvcDpFeHQuYXBwbHlJZih7cHJlcGFyZTpmdW5jdGlvbihkLGIpe2EucHJlcGFyZShkLGIpO3ZhciBjPWIubGFiZWxFbDtkLmhhc0hpZGRlbkxhYmVsPWMmJiFiLmhpZGVFbXB0eUxhYmVsJiYhYi5nZXRGaWVsZExhYmVsKCk7aWYoZC5oYXNIaWRkZW5MYWJlbCl7Yy5kb20uaW5uZXJIVE1MPSImIzE2MDsifX0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKGUpe3ZhciBkPWUubGFiZWxDb250ZXh0LGM9ZC5nZXRQcm9wKCJoZWlnaHQiKSxiPWUuaGFzSGlkZGVuTGFiZWw7aWYoYz09PXVuZGVmaW5lZHx8Yil7Yz1kLmVsLmdldEhlaWdodCgpK2QuZ2V0TWFyZ2luSW5mbygpLmhlaWdodDtpZihiKXtkLnNldEhlaWdodChjKX19cmV0dXJuIGN9LGZpbmlzaGVkTGF5b3V0OmZ1bmN0aW9uKGMsYil7aWYoYy5oYXNIaWRkZW5MYWJlbCl7Yi5sYWJlbEVsLmRvbS5pbm5lckhUTUw9IiJ9fX0sYSksbGVmdDphLHJpZ2h0OmF9fSgpKSxlcnJvclN0cmF0ZWdpZXM6KGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZChoKXt2YXIgaT1FeHQubGF5b3V0LmNvbXBvbmVudC5maWVsZC5GaWVsZC50aXAsajtpZihpJiZpLmlzVmlzaWJsZSgpKXtqPWkuYWN0aXZlVGFyZ2V0O2lmKGomJmouZWw9PT1oLmdldEFjdGlvbkVsKCkuZG9tKXtpLnRvRnJvbnQodHJ1ZSl9fX12YXIgYz1FeHQuYXBwbHlJZixiPUV4dC5lbXB0eUZuLGE9RXh0LmJhc2VDU1NQcmVmaXgrImZvcm0taW52YWxpZC1pY29uIixnLGU9e3ByZXBhcmU6ZnVuY3Rpb24oaixoKXt2YXIgaT1oLmVycm9yRWw7aWYoaSl7aS5zZXREaXNwbGF5ZWQoZmFsc2UpfX0sZ2V0SGVpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIDB9LG9uRm9jdXM6YixmaW5pc2hlZExheW91dDpifTtyZXR1cm57bm9uZTplLHNpZGU6Yyh7cHJlcGFyZTpmdW5jdGlvbihpLGgpe3ZhciBrPWguZXJyb3JFbCxqO2lmKCFnKXtnPShqPUV4dC5nZXRCb2R5KCkuY3JlYXRlQ2hpbGQoe3N0eWxlOiJwb3NpdGlvbjphYnNvbHV0ZSIsY2xzOmF9KSkuZ2V0V2lkdGgoKTtqLnJlbW92ZSgpfWsuYWRkQ2xzKGEpO2suc2V0KHsiZGF0YS1lcnJvcnF0aXAiOmguZ2V0QWN0aXZlRXJyb3IoKXx8IiJ9KTtrLnNldERpc3BsYXllZChoLmhhc0FjdGl2ZUVycm9yKCkpO2guYm9keUVsLmRvbS5jb2xTcGFuPWguZ2V0Qm9keUNvbHNwYW4oKTtFeHQubGF5b3V0LmNvbXBvbmVudC5maWVsZC5GaWVsZC5pbml0VGlwKCl9LG9uRm9jdXM6ZH0sZSksdW5kZXI6Yyh7cHJlcGFyZTpmdW5jdGlvbihqLGgpe3ZhciBrPWguZXJyb3JFbCxpPUV4dC5iYXNlQ1NTUHJlZml4KyJmb3JtLWludmFsaWQtdW5kZXIiO2suYWRkQ2xzKGkpO2suc2V0RGlzcGxheWVkKGguaGFzQWN0aXZlRXJyb3IoKSk7aWYoaC5sYWJlbEFsaWduPT0ibGVmdCIpe2sucHJldigpLnNldERpc3BsYXllZChoLmhhc1Zpc2libGVMYWJlbCgpPyJibG9jayI6Im5vbmUiKX19LGdldEhlaWdodDpmdW5jdGlvbihrKXt2YXIgaD0wLGksajtpZihrLnRhcmdldC5oYXNBY3RpdmVFcnJvcigpKXtpPWsuZXJyb3JDb250ZXh0O2o9aS5wcm9wcztoPWouaGVpZ2h0O2lmKGg9PT11bmRlZmluZWQpe2ouaGVpZ2h0PWg9aS5lbC5nZXRIZWlnaHQoKX19cmV0dXJuIGh9fSxlKSxxdGlwOmMoe3ByZXBhcmU6ZnVuY3Rpb24oaSxoKXtFeHQubGF5b3V0LmNvbXBvbmVudC5maWVsZC5GaWVsZC5pbml0VGlwKCk7aC5nZXRBY3Rpb25FbCgpLnNldCh7ImRhdGEtZXJyb3JxdGlwIjpoLmdldEFjdGl2ZUVycm9yKCl8fCIifSl9LG9uRm9jdXM6ZH0sZSksdGl0bGU6Yyh7cHJlcGFyZTpmdW5jdGlvbihpLGgpe2guZWwuc2V0KHt0aXRsZTpoLmdldEFjdGl2ZUVycm9yKCl8fCIifSl9fSxlKSxlbGVtZW50SWQ6Yyh7cHJlcGFyZTpmdW5jdGlvbihpLGgpe3ZhciBqPUV4dC5mbHkoaC5tc2dUYXJnZXQpO2lmKGope2ouZG9tLmlubmVySFRNTD1oLmdldEFjdGl2ZUVycm9yKCl8fCIiO2ouc2V0RGlzcGxheWVkKGguaGFzQWN0aXZlRXJyb3IoKSl9fX0sZSl9fSgpKSxzdGF0aWNzOntpbml0VGlwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy50aXA7aWYoIWEpe2E9dGhpcy50aXA9RXh0LmNyZWF0ZSgiRXh0LnRpcC5RdWlja1RpcCIse2Jhc2VDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImZvcm0taW52YWxpZC10aXAifSk7YS50YWdDb25maWc9RXh0LmFwcGx5KHt9LHthdHRyaWJ1dGU6ImVycm9ycXRpcCJ9LGEudGFnQ29uZmlnKX19LGRlc3Ryb3lUaXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnRpcDtpZihhKXthLmRlc3Ryb3koKTtkZWxldGUgdGhpcy50aXB9fX19KTtFeHQuZGVmaW5lKCJFeHQuZm9ybS5maWVsZC5CYXNlIix7ZXh0ZW5kOiJFeHQuQ29tcG9uZW50IixtaXhpbnM6e2xhYmVsYWJsZToiRXh0LmZvcm0uTGFiZWxhYmxlIixmaWVsZDoiRXh0LmZvcm0uZmllbGQuRmllbGQifSxhbGlhczoid2lkZ2V0LmZpZWxkIixhbHRlcm5hdGVDbGFzc05hbWU6WyJFeHQuZm9ybS5GaWVsZCIsIkV4dC5mb3JtLkJhc2VGaWVsZCJdLHJlcXVpcmVzOlsiRXh0LnV0aWwuRGVsYXllZFRhc2siLCJFeHQuWFRlbXBsYXRlIiwiRXh0LmxheW91dC5jb21wb25lbnQuZmllbGQuRmllbGQiXSxmaWVsZFN1YlRwbDpbJzxpbnB1dCBpZD0ie2lkfSIgdHlwZT0ie3R5cGV9IiB7aW5wdXRBdHRyVHBsfScsJyBzaXplPSIxIicsJzx0cGwgaWY9Im5hbWUiPiBuYW1lPSJ7bmFtZX0iPC90cGw+JywnPHRwbCBpZj0idmFsdWUiPiB2YWx1ZT0ie1tFeHQudXRpbC5Gb3JtYXQuaHRtbEVuY29kZSh2YWx1ZXMudmFsdWUpXX0iPC90cGw+JywnPHRwbCBpZj0icGxhY2Vob2xkZXIiPiBwbGFjZWhvbGRlcj0ie3BsYWNlaG9sZGVyfSI8L3RwbD4nLCc8dHBsIGlmPSJtYXhMZW5ndGggIT09IHVuZGVmaW5lZCI+IG1heGxlbmd0aD0ie21heExlbmd0aH0iPC90cGw+JywnPHRwbCBpZj0icmVhZE9ubHkiPiByZWFkb25seT0icmVhZG9ubHkiPC90cGw+JywnPHRwbCBpZj0iZGlzYWJsZWQiPiBkaXNhYmxlZD0iZGlzYWJsZWQiPC90cGw+JywnPHRwbCBpZj0idGFiSWR4Ij4gdGFiSW5kZXg9Int0YWJJZHh9IjwvdHBsPicsJzx0cGwgaWY9ImZpZWxkU3R5bGUiPiBzdHlsZT0ie2ZpZWxkU3R5bGV9IjwvdHBsPicsJyBjbGFzcz0ie2ZpZWxkQ2xzfSB7dHlwZUNsc30ge2VkaXRhYmxlQ2xzfSIgYXV0b2NvbXBsZXRlPSJvZmYiLz4nLHtkaXNhYmxlRm9ybWF0czp0cnVlfV0sc3ViVHBsSW5zZXJ0aW9uczpbImlucHV0QXR0clRwbCJdLGlucHV0VHlwZToidGV4dCIsaW52YWxpZFRleHQ6IlRoZSB2YWx1ZSBpbiB0aGlzIGZpZWxkIGlzIGludmFsaWQiLGZpZWxkQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmb3JtLWZpZWxkIixmb2N1c0NsczoiZm9ybS1mb2N1cyIsZGlydHlDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImZvcm0tZGlydHkiLGNoZWNrQ2hhbmdlRXZlbnRzOkV4dC5pc0lFJiYoIWRvY3VtZW50LmRvY3VtZW50TW9kZXx8ZG9jdW1lbnQuZG9jdW1lbnRNb2RlPDkpP1siY2hhbmdlIiwicHJvcGVydHljaGFuZ2UiXTpbImNoYW5nZSIsImlucHV0IiwidGV4dElucHV0Iiwia2V5dXAiLCJkcmFnZHJvcCJdLGNoZWNrQ2hhbmdlQnVmZmVyOjUwLGNvbXBvbmVudExheW91dDoiZmllbGQiLHJlYWRPbmx5OmZhbHNlLHJlYWRPbmx5Q2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmb3JtLXJlYWRvbmx5Iix2YWxpZGF0ZU9uQmx1cjp0cnVlLGhhc0ZvY3VzOmZhbHNlLGJhc2VDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImZpZWxkIixtYXNrT25EaXNhYmxlOmZhbHNlLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudCgpO2Euc3ViVHBsRGF0YT1hLnN1YlRwbERhdGF8fHt9O2EuYWRkRXZlbnRzKCJzcGVjaWFsa2V5Iiwid3JpdGVhYmxlY2hhbmdlIik7YS5pbml0TGFiZWxhYmxlKCk7YS5pbml0RmllbGQoKTtpZighYS5uYW1lKXthLm5hbWU9YS5nZXRJbnB1dElkKCl9fSxiZWZvcmVSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2EuYmVmb3JlTGFiZWxhYmxlUmVuZGVyKGFyZ3VtZW50cyk7aWYoYS5yZWFkT25seSl7YS5hZGRDbHMoYS5yZWFkT25seUNscyl9fSxnZXRJbnB1dElkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXRJZHx8KHRoaXMuaW5wdXRJZD10aGlzLmlkKyItaW5wdXRFbCIpfSxnZXRTdWJUcGxEYXRhOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPWMuaW5wdXRUeXBlLGE9Yy5nZXRJbnB1dElkKCksZDtkPUV4dC5hcHBseSh7aWQ6YSxjbXBJZDpjLmlkLG5hbWU6Yy5uYW1lfHxhLGRpc2FibGVkOmMuZGlzYWJsZWQscmVhZE9ubHk6Yy5yZWFkT25seSx2YWx1ZTpjLmdldFJhd1ZhbHVlKCksdHlwZTpiLGZpZWxkQ2xzOmMuZmllbGRDbHMsZmllbGRTdHlsZTpjLmdldEZpZWxkU3R5bGUoKSx0YWJJZHg6Yy50YWJJbmRleCx0eXBlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmb3JtLSIrKGI9PT0icGFzc3dvcmQiPyJ0ZXh0IjpiKX0sYy5zdWJUcGxEYXRhKTtjLmdldEluc2VydGlvblJlbmRlckRhdGEoZCxjLnN1YlRwbEluc2VydGlvbnMpO3JldHVybiBkfSxhZnRlckZpcnN0TGF5b3V0OmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KCk7dmFyIGE9dGhpcy5pbnB1dEVsO2lmKGEpe2Euc2VsZWN0YWJsZSgpfX0sYXBwbHlSZW5kZXJTZWxlY3RvcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudCgpO2EuaW5wdXRFbD1hLmVsLmdldEJ5SWQoYS5nZXRJbnB1dElkKCkpfSxnZXRTdWJUcGxNYXJrdXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRUcGwoImZpZWxkU3ViVHBsIikuYXBwbHkodGhpcy5nZXRTdWJUcGxEYXRhKCkpfSxpbml0UmVuZGVyVHBsOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZighYS5oYXNPd25Qcm9wZXJ0eSgicmVuZGVyVHBsIikpe2EucmVuZGVyVHBsPWEuZ2V0VHBsKCJsYWJlbGFibGVSZW5kZXJUcGwiKX1yZXR1cm4gYS5jYWxsUGFyZW50KCl9LGluaXRSZW5kZXJEYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIEV4dC5hcHBseUlmKHRoaXMuY2FsbFBhcmVudCgpLHRoaXMuZ2V0TGFiZWxhYmxlUmVuZGVyRGF0YSgpKX0sc2V0RmllbGRTdHlsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5pbnB1dEVsO2lmKGMpe2MuYXBwbHlTdHlsZXMoYSl9Yi5maWVsZFN0eWxlPWF9LGdldEZpZWxkU3R5bGU6ZnVuY3Rpb24oKXtyZXR1cm4id2lkdGg6MTAwJTsiKyhFeHQuaXNPYmplY3QodGhpcy5maWVsZFN0eWxlKT9FeHQuRG9tSGVscGVyLmdlbmVyYXRlU3R5bGVzKHRoaXMuZmllbGRTdHlsZSk6dGhpcy5maWVsZFN0eWxlfHwiIil9LG9uUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTthLm9uTGFiZWxhYmxlUmVuZGVyKCk7YS5yZW5kZXJBY3RpdmVFcnJvcigpfSxnZXRGb2N1c0VsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXRFbH0saXNGaWxlVXBsb2FkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5wdXRUeXBlPT09ImZpbGUifSxleHRyYWN0RmlsZUlucHV0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuaXNGaWxlVXBsb2FkKCk/Yi5pbnB1dEVsLmRvbTpudWxsLGM7aWYoYSl7Yz1hLmNsb25lTm9kZSh0cnVlKTthLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGMsYSk7Yi5pbnB1dEVsPUV4dC5nZXQoYyl9cmV0dXJuIGF9LGdldFN1Ym1pdERhdGE6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9bnVsbCxjO2lmKCFhLmRpc2FibGVkJiZhLnN1Ym1pdFZhbHVlJiYhYS5pc0ZpbGVVcGxvYWQoKSl7Yz1hLmdldFN1Ym1pdFZhbHVlKCk7aWYoYyE9PW51bGwpe2I9e307YlthLmdldE5hbWUoKV09Y319cmV0dXJuIGJ9LGdldFN1Ym1pdFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvY2Vzc1Jhd1ZhbHVlKHRoaXMuZ2V0UmF3VmFsdWUoKSl9LGdldFJhd1ZhbHVlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPShiLmlucHV0RWw/Yi5pbnB1dEVsLmdldFZhbHVlKCk6RXh0LnZhbHVlKGIucmF3VmFsdWUsIiIpKTtiLnJhd1ZhbHVlPWE7cmV0dXJuIGF9LHNldFJhd1ZhbHVlOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7Yj1FeHQudmFsdWUoYiwiIik7YS5yYXdWYWx1ZT1iO2lmKGEuaW5wdXRFbCl7YS5pbnB1dEVsLmRvbS52YWx1ZT1ifXJldHVybiBifSx2YWx1ZVRvUmF3OmZ1bmN0aW9uKGEpe3JldHVybiIiK0V4dC52YWx1ZShhLCIiKX0scmF3VG9WYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gYX0scHJvY2Vzc1Jhd1ZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBhfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLnJhd1RvVmFsdWUoYS5wcm9jZXNzUmF3VmFsdWUoYS5nZXRSYXdWYWx1ZSgpKSk7YS52YWx1ZT1iO3JldHVybiBifSxzZXRWYWx1ZTpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2Euc2V0UmF3VmFsdWUoYS52YWx1ZVRvUmF3KGIpKTtyZXR1cm4gYS5taXhpbnMuZmllbGQuc2V0VmFsdWUuY2FsbChhLGIpfSxvbkJveFJlYWR5OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoKTtpZihhLnNldFJlYWRPbmx5T25Cb3hSZWFkeSl7YS5zZXRSZWFkT25seShhLnJlYWRPbmx5KX19LG9uRGlzYWJsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmlucHV0RWw7YS5jYWxsUGFyZW50KCk7aWYoYil7Yi5kb20uZGlzYWJsZWQ9dHJ1ZTtpZihhLmhhc0FjdGl2ZUVycm9yKCkpe2EuY2xlYXJJbnZhbGlkKCk7YS5uZWVkc1ZhbGlkYXRlT25FbmFibGU9dHJ1ZX19fSxvbkVuYWJsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmlucHV0RWw7YS5jYWxsUGFyZW50KCk7aWYoYil7Yi5kb20uZGlzYWJsZWQ9ZmFsc2U7aWYoYS5uZWVkc1ZhbGlkYXRlT25FbmFibGUpe2RlbGV0ZSBhLm5lZWRzVmFsaWRhdGVPbkVuYWJsZTthLmZvcmNlVmFsaWRhdGlvbj10cnVlO2EuaXNWYWxpZCgpO2RlbGV0ZSBhLmZvcmNlVmFsaWRhdGlvbn19fSxzZXRSZWFkT25seTpmdW5jdGlvbihjKXt2YXIgYT10aGlzLGI9YS5pbnB1dEVsO2M9ISFjO2FbYz8iYWRkQ2xzIjoicmVtb3ZlQ2xzIl0oYS5yZWFkT25seUNscyk7YS5yZWFkT25seT1jO2lmKGIpe2IuZG9tLnJlYWRPbmx5PWN9ZWxzZXtpZihhLnJlbmRlcmluZyl7YS5zZXRSZWFkT25seU9uQm94UmVhZHk9dHJ1ZX19YS5maXJlRXZlbnQoIndyaXRlYWJsZWNoYW5nZSIsYSxjKX0sZmlyZUtleTpmdW5jdGlvbihhKXtpZihhLmlzU3BlY2lhbEtleSgpKXt0aGlzLmZpcmVFdmVudCgic3BlY2lhbGtleSIsdGhpcyxuZXcgRXh0LkV2ZW50T2JqZWN0SW1wbChhKSl9fSxpbml0RXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGc9dGhpcyxpPWcuaW5wdXRFbCxiLGosYz1nLmNoZWNrQ2hhbmdlRXZlbnRzLGgsYT1jLmxlbmd0aCxkO2lmKGcuaW5FZGl0b3Ipe2cub25CbHVyPUV4dC5GdW5jdGlvbi5jcmVhdGVCdWZmZXJlZChnLm9uQmx1ciwxMCl9aWYoaSl7Zy5tb24oaSxFeHQuRXZlbnRNYW5hZ2VyLmdldEtleUV2ZW50KCksZy5maXJlS2V5LGcpO2I9bmV3IEV4dC51dGlsLkRlbGF5ZWRUYXNrKGcuY2hlY2tDaGFuZ2UsZyk7Zy5vbkNoYW5nZUV2ZW50PWo9ZnVuY3Rpb24oKXtiLmRlbGF5KGcuY2hlY2tDaGFuZ2VCdWZmZXIpfTtmb3IoaD0wO2g8YTtoKyspe2Q9Y1toXTtpZihkPT09InByb3BlcnR5Y2hhbmdlIil7Zy51c2VzUHJvcGVydHljaGFuZ2U9dHJ1ZX1nLm1vbihpLGQsail9fWcuY2FsbFBhcmVudCgpfSxkb0NvbXBvbmVudExheW91dDpmdW5jdGlvbigpe3ZhciBjPXRoaXMsZD1jLmlucHV0RWwsYT1jLnVzZXNQcm9wZXJ0eWNoYW5nZSxiPSJwcm9wZXJ0eWNoYW5nZSIsZT1jLm9uQ2hhbmdlRXZlbnQ7aWYoYSl7Yy5tdW4oZCxiLGUpfWMuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGEpe2MubW9uKGQsYixlKX19LG9uRGlydHlDaGFuZ2U6ZnVuY3Rpb24oYSl7dGhpc1thPyJhZGRDbHMiOiJyZW1vdmVDbHMiXSh0aGlzLmRpcnR5Q2xzKX0saXNWYWxpZDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmRpc2FibGVkLGM9Yi5mb3JjZVZhbGlkYXRpb258fCFhO3JldHVybiBjP2IudmFsaWRhdGVWYWx1ZShiLnByb2Nlc3NSYXdWYWx1ZShiLmdldFJhd1ZhbHVlKCkpKTphfSx2YWxpZGF0ZVZhbHVlOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMsZD1hLmdldEVycm9ycyhiKSxjPUV4dC5pc0VtcHR5KGQpO2lmKCFhLnByZXZlbnRNYXJrKXtpZihjKXthLmNsZWFySW52YWxpZCgpfWVsc2V7YS5tYXJrSW52YWxpZChkKX19cmV0dXJuIGN9LG1hcmtJbnZhbGlkOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT1iLmdldEFjdGl2ZUVycm9yKCk7Yi5zZXRBY3RpdmVFcnJvcnMoRXh0LkFycmF5LmZyb20oYykpO2lmKGEhPT1iLmdldEFjdGl2ZUVycm9yKCkpe2IudXBkYXRlTGF5b3V0KCl9fSxjbGVhckludmFsaWQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5oYXNBY3RpdmVFcnJvcigpO2IudW5zZXRBY3RpdmVFcnJvcigpO2lmKGEpe2IudXBkYXRlTGF5b3V0KCl9fSxyZW5kZXJBY3RpdmVFcnJvcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmhhc0FjdGl2ZUVycm9yKCk7aWYoYi5pbnB1dEVsKXtiLmlucHV0RWxbYT8iYWRkQ2xzIjoicmVtb3ZlQ2xzIl0oYi5pbnZhbGlkQ2xzKyItZmllbGQiKX1iLm1peGlucy5sYWJlbGFibGUucmVuZGVyQWN0aXZlRXJyb3IuY2FsbChiKX0sZ2V0QWN0aW9uRWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbnB1dEVsfHx0aGlzLmVsfX0pO0V4dC5kZWZpbmUoIkV4dC5mb3JtLmZpZWxkLkNoZWNrYm94Iix7ZXh0ZW5kOiJFeHQuZm9ybS5maWVsZC5CYXNlIixhbGlhczpbIndpZGdldC5jaGVja2JveGZpZWxkIiwid2lkZ2V0LmNoZWNrYm94Il0sYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuZm9ybS5DaGVja2JveCIscmVxdWlyZXM6WyJFeHQuWFRlbXBsYXRlIiwiRXh0LmZvcm0uQ2hlY2tib3hNYW5hZ2VyIl0sY29tcG9uZW50TGF5b3V0OiJmaWVsZCIsY2hpbGRFbHM6WyJib3hMYWJlbEVsIl0sZmllbGRTdWJUcGw6WyI8dHBsIGlmPVwiYm94TGFiZWwgJiYgYm94TGFiZWxBbGlnbiA9PSAnYmVmb3JlJ1wiPiIsIntiZWZvcmVCb3hMYWJlbFRwbH0iLCc8bGFiZWwgaWQ9IntjbXBJZH0tYm94TGFiZWxFbCIge2JveExhYmVsQXR0clRwbH0gY2xhc3M9Intib3hMYWJlbENsc30ge2JveExhYmVsQ2xzfS17Ym94TGFiZWxBbGlnbn0iIGZvcj0ie2lkfSI+Jywie2JlZm9yZUJveExhYmVsVGV4dFRwbH0iLCJ7Ym94TGFiZWx9Iiwie2FmdGVyQm94TGFiZWxUZXh0VHBsfSIsIjwvbGFiZWw+Iiwie2FmdGVyQm94TGFiZWxUcGx9IiwiPC90cGw+IiwnPGlucHV0IHR5cGU9ImJ1dHRvbiIgaWQ9IntpZH0iIHtpbnB1dEF0dHJUcGx9JywnPHRwbCBpZj0idGFiSWR4Ij4gdGFiSW5kZXg9Int0YWJJZHh9IjwvdHBsPicsJzx0cGwgaWY9ImRpc2FibGVkIj4gZGlzYWJsZWQ9ImRpc2FibGVkIjwvdHBsPicsJzx0cGwgaWY9ImZpZWxkU3R5bGUiPiBzdHlsZT0ie2ZpZWxkU3R5bGV9IjwvdHBsPicsJyBjbGFzcz0ie2ZpZWxkQ2xzfSB7dHlwZUNsc30iIGF1dG9jb21wbGV0ZT0ib2ZmIiBoaWRlZm9jdXM9InRydWUiIC8+JywiPHRwbCBpZj1cImJveExhYmVsICYmIGJveExhYmVsQWxpZ24gPT0gJ2FmdGVyJ1wiPiIsIntiZWZvcmVCb3hMYWJlbFRwbH0iLCc8bGFiZWwgaWQ9IntjbXBJZH0tYm94TGFiZWxFbCIge2JveExhYmVsQXR0clRwbH0gY2xhc3M9Intib3hMYWJlbENsc30ge2JveExhYmVsQ2xzfS17Ym94TGFiZWxBbGlnbn0iIGZvcj0ie2lkfSI+Jywie2JlZm9yZUJveExhYmVsVGV4dFRwbH0iLCJ7Ym94TGFiZWx9Iiwie2FmdGVyQm94TGFiZWxUZXh0VHBsfSIsIjwvbGFiZWw+Iiwie2FmdGVyQm94TGFiZWxUcGx9IiwiPC90cGw+Iix7ZGlzYWJsZUZvcm1hdHM6dHJ1ZSxjb21waWxlZDp0cnVlfV0sc3ViVHBsSW5zZXJ0aW9uczpbImJlZm9yZUJveExhYmVsVHBsIiwiYWZ0ZXJCb3hMYWJlbFRwbCIsImJlZm9yZUJveExhYmVsVGV4dFRwbCIsImFmdGVyQm94TGFiZWxUZXh0VHBsIiwiYm94TGFiZWxBdHRyVHBsIiwiaW5wdXRBdHRyVHBsIl0saXNDaGVja2JveDp0cnVlLGZvY3VzQ2xzOiJmb3JtLWNiLWZvY3VzIixmaWVsZEJvZHlDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImZvcm0tY2Itd3JhcCIsY2hlY2tlZDpmYWxzZSxjaGVja2VkQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmb3JtLWNiLWNoZWNrZWQiLGJveExhYmVsQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmb3JtLWNiLWxhYmVsIixib3hMYWJlbEFsaWduOiJhZnRlciIsaW5wdXRWYWx1ZToib24iLGNoZWNrQ2hhbmdlRXZlbnRzOltdLGlucHV0VHlwZToiY2hlY2tib3giLG9uUmU6L15vbiQvaSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dGhpcy5nZXRNYW5hZ2VyKCkuYWRkKHRoaXMpfSxpbml0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9ISFiLmNoZWNrZWQ7Yi5vcmlnaW5hbFZhbHVlPWIubGFzdFZhbHVlPWE7Yi5zZXRWYWx1ZShhKX0sZ2V0RWxDb25maWc6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuaXNDaGVja2VkKGEucmF3VmFsdWUsYS5pbnB1dFZhbHVlKSl7YS5hZGRDbHMoYS5jaGVja2VkQ2xzKX1yZXR1cm4gYS5jYWxsUGFyZW50KCl9LGdldEZpZWxkU3R5bGU6ZnVuY3Rpb24oKXtyZXR1cm4gRXh0LmlzT2JqZWN0KHRoaXMuZmllbGRTdHlsZSk/RXh0LkRvbUhlbHBlci5nZW5lcmF0ZVN0eWxlcyh0aGlzLmZpZWxkU3R5bGUpOnRoaXMuZmllbGRTdHlsZXx8IiJ9LGdldFN1YlRwbERhdGE6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBFeHQuYXBwbHkoYS5jYWxsUGFyZW50KCkse2Rpc2FibGVkOmEucmVhZE9ubHl8fGEuZGlzYWJsZWQsYm94TGFiZWw6YS5ib3hMYWJlbCxib3hMYWJlbENsczphLmJveExhYmVsQ2xzLGJveExhYmVsQWxpZ246YS5ib3hMYWJlbEFsaWdufSl9LGluaXRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudCgpO2EubW9uKGEuaW5wdXRFbCwiY2xpY2siLGEub25Cb3hDbGljayxhKX0sb25Cb3hDbGljazpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2lmKCFhLmRpc2FibGVkJiYhYS5yZWFkT25seSl7dGhpcy5zZXRWYWx1ZSghdGhpcy5jaGVja2VkKX19LGdldFJhd1ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2hlY2tlZH0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja2VkfSxnZXRTdWJtaXRWYWx1ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMudW5jaGVja2VkVmFsdWUsYj1FeHQuaXNEZWZpbmVkKGEpP2E6bnVsbDtyZXR1cm4gdGhpcy5jaGVja2VkP3RoaXMuaW5wdXRWYWx1ZTpifSxpc0NoZWNrZWQ6ZnVuY3Rpb24oYixhKXtyZXR1cm4oYj09PXRydWV8fGI9PT0idHJ1ZSJ8fGI9PT0iMSJ8fGI9PT0xfHwoKChFeHQuaXNTdHJpbmcoYil8fEV4dC5pc051bWJlcihiKSkmJmEpP2I9PWE6dGhpcy5vblJlLnRlc3QoYikpKX0sc2V0UmF3VmFsdWU6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxkPWIuaW5wdXRFbCxhPWIuaXNDaGVja2VkKGMsYi5pbnB1dFZhbHVlKTtpZihkKXtiW2E/ImFkZENscyI6InJlbW92ZUNscyJdKGIuY2hlY2tlZENscyl9Yi5jaGVja2VkPWIucmF3VmFsdWU9YTtyZXR1cm4gYX0sc2V0VmFsdWU6ZnVuY3Rpb24oZyl7dmFyIGU9dGhpcyxjLGIsYSxkO2lmKEV4dC5pc0FycmF5KGcpKXtjPWUuZ2V0TWFuYWdlcigpLmdldEJ5TmFtZShlLm5hbWUsZS5nZXRGb3JtSWQoKSkuaXRlbXM7YT1jLmxlbmd0aDtmb3IoYj0wO2I8YTsrK2Ipe2Q9Y1tiXTtkLnNldFZhbHVlKEV4dC5BcnJheS5jb250YWlucyhnLGQuaW5wdXRWYWx1ZSkpfX1lbHNle2UuY2FsbFBhcmVudChhcmd1bWVudHMpfXJldHVybiBlfSx2YWx1ZVRvUmF3OmZ1bmN0aW9uKGEpe3JldHVybiBhfSxvbkNoYW5nZTpmdW5jdGlvbihiLGEpe3ZhciBkPXRoaXMsYz1kLmhhbmRsZXI7aWYoYyl7Yy5jYWxsKGQuc2NvcGV8fGQsZCxiKX1kLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0scmVzZXRPcmlnaW5hbFZhbHVlOmZ1bmN0aW9uKGIpe3ZhciBnPXRoaXMsZCxlLGEsYztpZighYil7ZD1nLmdldE1hbmFnZXIoKS5nZXRCeU5hbWUoZy5uYW1lLGcuZ2V0Rm9ybUlkKCkpLml0ZW1zO2E9ZC5sZW5ndGg7Zm9yKGM9MDtjPGE7KytjKXtlPWRbY107aWYoZSE9PWcpe2RbY10ucmVzZXRPcmlnaW5hbFZhbHVlKHRydWUpfX19Zy5jYWxsUGFyZW50KCl9LGJlZm9yZURlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoKTt0aGlzLmdldE1hbmFnZXIoKS5yZW1vdmVBdEtleSh0aGlzLmlkKX0sZ2V0TWFuYWdlcjpmdW5jdGlvbigpe3JldHVybiBFeHQuZm9ybS5DaGVja2JveE1hbmFnZXJ9LG9uRW5hYmxlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuaW5wdXRFbDthLmNhbGxQYXJlbnQoKTtpZihiKXtiLmRvbS5kaXNhYmxlZD1hLnJlYWRPbmx5fX0sc2V0UmVhZE9ubHk6ZnVuY3Rpb24oYyl7dmFyIGE9dGhpcyxiPWEuaW5wdXRFbDtpZihiKXtiLmRvbS5kaXNhYmxlZD0hIWN8fGEuZGlzYWJsZWR9YS5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGdldEZvcm1JZDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYTtpZighYi5mb3JtSWQpe2E9Yi51cCgiZm9ybSIpO2lmKGEpe2IuZm9ybUlkPWEuaWR9fXJldHVybiBiLmZvcm1JZH19KTtFeHQuZGVmaW5lKCJFeHQuZm9ybS5maWVsZC5EaXNwbGF5Iix7ZXh0ZW5kOiJFeHQuZm9ybS5maWVsZC5CYXNlIixhbGlhczoid2lkZ2V0LmRpc3BsYXlmaWVsZCIscmVxdWlyZXM6WyJFeHQudXRpbC5Gb3JtYXQiLCJFeHQuWFRlbXBsYXRlIl0sYWx0ZXJuYXRlQ2xhc3NOYW1lOlsiRXh0LmZvcm0uRGlzcGxheUZpZWxkIiwiRXh0LmZvcm0uRGlzcGxheSJdLGZpZWxkU3ViVHBsOlsnPGRpdiBpZD0ie2lkfSInLCc8dHBsIGlmPSJmaWVsZFN0eWxlIj4gc3R5bGU9IntmaWVsZFN0eWxlfSI8L3RwbD4nLCcgY2xhc3M9IntmaWVsZENsc30iPnt2YWx1ZX08L2Rpdj4nLHtjb21waWxlZDp0cnVlLGRpc2FibGVGb3JtYXRzOnRydWV9XSxmaWVsZENsczpFeHQuYmFzZUNTU1ByZWZpeCsiZm9ybS1kaXNwbGF5LWZpZWxkIixodG1sRW5jb2RlOmZhbHNlLHZhbGlkYXRlT25DaGFuZ2U6ZmFsc2UsaW5pdEV2ZW50czpFeHQuZW1wdHlGbixzdWJtaXRWYWx1ZTpmYWxzZSxpc0RpcnR5OmZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlfSxpc1ZhbGlkOmZ1bmN0aW9uKCl7cmV0dXJuIHRydWV9LHZhbGlkYXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRydWV9LGdldFJhd1ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucmF3VmFsdWV9LHNldFJhd1ZhbHVlOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMsYztiPUV4dC52YWx1ZShiLCIiKTthLnJhd1ZhbHVlPWI7aWYoYS5yZW5kZXJlZCl7YS5pbnB1dEVsLmRvbS5pbm5lckhUTUw9YS5nZXREaXNwbGF5VmFsdWUoKX1yZXR1cm4gYn0sZ2V0RGlzcGxheVZhbHVlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPXRoaXMuZ2V0UmF3VmFsdWUoKSxjO2lmKGEucmVuZGVyZXIpe2M9YS5yZW5kZXJlci5jYWxsKGEuc2NvcGV8fGEsYixhKX1lbHNle2M9YS5odG1sRW5jb2RlP0V4dC51dGlsLkZvcm1hdC5odG1sRW5jb2RlKGIpOmJ9cmV0dXJuIGN9LGdldFN1YlRwbERhdGE6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTthLnZhbHVlPXRoaXMuZ2V0RGlzcGxheVZhbHVlKCk7cmV0dXJuIGF9fSk7RXh0LmRlZmluZSgiRXh0LmZvcm0uZmllbGQuSGlkZGVuIix7ZXh0ZW5kOiJFeHQuZm9ybS5maWVsZC5CYXNlIixhbGlhczpbIndpZGdldC5oaWRkZW5maWVsZCIsIndpZGdldC5oaWRkZW4iXSxhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5mb3JtLkhpZGRlbiIsaW5wdXRUeXBlOiJoaWRkZW4iLGhpZGVMYWJlbDp0cnVlLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt0aGlzLmZvcm1JdGVtQ2xzKz0iLWhpZGRlbiI7dGhpcy5jYWxsUGFyZW50KCl9LGlzRXF1YWw6ZnVuY3Rpb24oYixhKXtyZXR1cm4gdGhpcy5pc0VxdWFsQXNTdHJpbmcoYixhKX0saW5pdEV2ZW50czpFeHQuZW1wdHlGbixzZXRTaXplOkV4dC5lbXB0eUZuLHNldFdpZHRoOkV4dC5lbXB0eUZuLHNldEhlaWdodDpFeHQuZW1wdHlGbixzZXRQb3NpdGlvbjpFeHQuZW1wdHlGbixzZXRQYWdlUG9zaXRpb246RXh0LmVtcHR5Rm4sbWFya0ludmFsaWQ6RXh0LmVtcHR5Rm4sY2xlYXJJbnZhbGlkOkV4dC5lbXB0eUZufSk7RXh0LmRlZmluZSgiRXh0LmZvcm0uZmllbGQuUmFkaW8iLHtleHRlbmQ6IkV4dC5mb3JtLmZpZWxkLkNoZWNrYm94IixhbGlhczpbIndpZGdldC5yYWRpb2ZpZWxkIiwid2lkZ2V0LnJhZGlvIl0sYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuZm9ybS5SYWRpbyIscmVxdWlyZXM6WyJFeHQuZm9ybS5SYWRpb01hbmFnZXIiXSxpc1JhZGlvOnRydWUsaW5wdXRUeXBlOiJyYWRpbyIsYXJpYVJvbGU6InJhZGlvIixmb3JtSWQ6bnVsbCxnZXRHcm91cFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRNYW5hZ2VyKCkuZ2V0Q2hlY2tlZCh0aGlzLm5hbWUsdGhpcy5nZXRGb3JtSWQoKSk7cmV0dXJuIGE/YS5pbnB1dFZhbHVlOm51bGx9LG9uQm94Q2xpY2s6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZighYS5kaXNhYmxlZCYmIWEucmVhZE9ubHkpe3RoaXMuc2V0VmFsdWUodHJ1ZSl9fSxvblJlbW92ZWQ6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLmZvcm1JZD1udWxsfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM7aWYoRXh0LmlzQm9vbGVhbihhKSl7Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyl9ZWxzZXtjPWIuZ2V0TWFuYWdlcigpLmdldFdpdGhWYWx1ZShiLm5hbWUsYSxiLmdldEZvcm1JZCgpKS5nZXRBdCgwKTtpZihjKXtjLnNldFZhbHVlKHRydWUpfX1yZXR1cm4gYn0sZ2V0U3VibWl0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jaGVja2VkP3RoaXMuaW5wdXRWYWx1ZTpudWxsfSxnZXRNb2RlbERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTdWJtaXREYXRhKCl9LG9uQ2hhbmdlOmZ1bmN0aW9uKGMsYSl7dmFyIGc9dGhpcyxlLGQsYixoO2cuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGMpe2g9Zy5nZXRNYW5hZ2VyKCkuZ2V0QnlOYW1lKGcubmFtZSxnLmdldEZvcm1JZCgpKS5pdGVtcztkPWgubGVuZ3RoO2ZvcihlPTA7ZTxkO2UrKyl7Yj1oW2VdO2lmKGIhPT1nKXtiLnNldFZhbHVlKGZhbHNlKX19fX0sZ2V0TWFuYWdlcjpmdW5jdGlvbigpe3JldHVybiBFeHQuZm9ybS5SYWRpb01hbmFnZXJ9fSk7RXh0LmRlZmluZSgiRXh0LmxheW91dC5jb21wb25lbnQuZmllbGQuRmllbGRDb250YWluZXIiLHtleHRlbmQ6IkV4dC5sYXlvdXQuY29tcG9uZW50LmZpZWxkLkZpZWxkIixhbGlhczoibGF5b3V0LmZpZWxkY29udGFpbmVyIix0eXBlOiJmaWVsZGNvbnRhaW5lciIsd2FpdEZvck91dGVySGVpZ2h0SW5Eb206dHJ1ZSx3YWl0Rm9yT3V0ZXJXaWR0aEluRG9tOnRydWUsYmVnaW5MYXlvdXQ6ZnVuY3Rpb24oYSl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5oYXNSYXdDb250ZW50PXRydWU7YS50YXJnZXQuYm9keUVsLnNldFN0eWxlKCJoZWlnaHQiLCIiKX0sbWVhc3VyZUNvbnRlbnRIZWlnaHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuaGFzRG9tUHJvcCgiY29udGFpbmVyTGF5b3V0RG9uZSIpP3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpOk5hTn0sbWVhc3VyZUNvbnRlbnRXaWR0aDpmdW5jdGlvbihhKXtyZXR1cm4gYS5oYXNEb21Qcm9wKCJjb250YWluZXJMYXlvdXREb25lIik/dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk6TmFOfSxwdWJsaXNoSW5uZXJXaWR0aDpmdW5jdGlvbihiLGEpe3ZhciBjPWIuYm9keUNlbGxDb250ZXh0O2Muc2V0V2lkdGgoYy5lbC5nZXRXaWR0aCgpLGZhbHNlKX0scHVibGlzaElubmVySGVpZ2h0OmZ1bmN0aW9uKGIsYSl7dmFyIGM9Yi5ib2R5Q2VsbENvbnRleHQ7Yy5zZXRIZWlnaHQoYS10aGlzLm1lYXN1cmVMYWJlbEVycm9ySGVpZ2h0KGIpKX19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbXBvbmVudC5maWVsZC5IdG1sRWRpdG9yIix7ZXh0ZW5kOiJFeHQubGF5b3V0LmNvbXBvbmVudC5maWVsZC5GaWVsZCIsYWxpYXM6WyJsYXlvdXQuaHRtbGVkaXRvciJdLHR5cGU6Imh0bWxlZGl0b3IiLHRvb2xiYXJTaXplUG9saWN5OntzZXRzV2lkdGg6MCxzZXRzSGVpZ2h0OjB9LGJlZ2luTGF5b3V0OmZ1bmN0aW9uKGEpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO2EudGV4dEFyZWFDb250ZXh0PWEuZ2V0RWwoInRleHRhcmVhRWwiKTthLmlmcmFtZUNvbnRleHQ9YS5nZXRFbCgiaWZyYW1lRWwiKTthLnRvb2xiYXJDb250ZXh0PWEuY29udGV4dC5nZXRDbXAodGhpcy5vd25lci5nZXRUb29sYmFyKCkpfSxnZXRJdGVtU2l6ZVBvbGljeTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50b29sYmFyU2l6ZVBvbGljeX0sZ2V0TGF5b3V0SXRlbXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm93bmVyLmdldFRvb2xiYXIoKTtyZXR1cm4gYT9bYV06W119LGdldFJlbmRlclRhcmdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm93bmVyLmJvZHlFbH0scHVibGlzaElubmVySGVpZ2h0OmZ1bmN0aW9uKGMsYSl7dmFyIGI9dGhpcyxkPWEtYi5tZWFzdXJlTGFiZWxFcnJvckhlaWdodChjKS1jLnRvb2xiYXJDb250ZXh0LmdldFByb3AoImhlaWdodCIpLWMuYm9keUNlbGxDb250ZXh0LmdldFBhZGRpbmdJbmZvKCkuaGVpZ2h0O2lmKEV4dC5pc051bWJlcihkKSl7Yy50ZXh0QXJlYUNvbnRleHQuc2V0SGVpZ2h0KGQpO2MuaWZyYW1lQ29udGV4dC5zZXRIZWlnaHQoZCl9ZWxzZXtiLmRvbmU9ZmFsc2V9fX0pO0V4dC5kZWZpbmUoIkV4dC5sYXlvdXQuY29tcG9uZW50LmZpZWxkLlNsaWRlciIse2FsaWFzOlsibGF5b3V0LnNsaWRlcmZpZWxkIl0sZXh0ZW5kOiJFeHQubGF5b3V0LmNvbXBvbmVudC5maWVsZC5GaWVsZCIsdHlwZToic2xpZGVyZmllbGQiLGJlZ2luTGF5b3V0OmZ1bmN0aW9uKGEpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO2EuZW5kRWxDb250ZXh0PWEuZ2V0RWwoImVuZEVsIik7YS5pbm5lckVsQ29udGV4dD1hLmdldEVsKCJpbm5lckVsIik7YS5ib2R5RWxDb250ZXh0PWEuZ2V0RWwoImJvZHlFbCIpfSxwdWJsaXNoSW5uZXJIZWlnaHQ6ZnVuY3Rpb24oZCxhKXt2YXIgZT1hLXRoaXMubWVhc3VyZUxhYmVsRXJyb3JIZWlnaHQoZCksYyxiO2lmKHRoaXMub3duZXIudmVydGljYWwpe2M9ZC5lbmRFbENvbnRleHQuZ2V0UGFkZGluZ0luZm8oKTtiPWQuaW5wdXRDb250ZXh0LmdldFBhZGRpbmdJbmZvKCk7ZC5pbm5lckVsQ29udGV4dC5zZXRIZWlnaHQoZS1iLmhlaWdodC1jLmhlaWdodCl9ZWxzZXtkLmJvZHlFbENvbnRleHQuc2V0SGVpZ2h0KGUpfX0scHVibGlzaElubmVyV2lkdGg6ZnVuY3Rpb24oZCxjKXtpZighdGhpcy5vd25lci52ZXJ0aWNhbCl7dmFyIGI9ZC5lbmRFbENvbnRleHQuZ2V0UGFkZGluZ0luZm8oKSxhPWQuaW5wdXRDb250ZXh0LmdldFBhZGRpbmdJbmZvKCk7ZC5pbm5lckVsQ29udGV4dC5zZXRXaWR0aChjLWEubGVmdC1iLnJpZ2h0LWQubGFiZWxDb250ZXh0LmdldFByb3AoIndpZHRoIikpfX0sYmVnaW5MYXlvdXRGaXhlZDpmdW5jdGlvbihkLGEsZSl7dmFyIGI9dGhpcyxjPWIuaWVJbnB1dFdpZHRoQWRqdXN0bWVudDtpZihjKXtiLm93bmVyLmJvZHlFbC5zZXRTdHlsZSgicGFkZGluZy1yaWdodCIsYysicHgiKX1iLmNhbGxQYXJlbnQoYXJndW1lbnRzKX19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbXBvbmVudC5maWVsZC5UZXh0Iix7ZXh0ZW5kOiJFeHQubGF5b3V0LmNvbXBvbmVudC5maWVsZC5GaWVsZCIsYWxpYXM6ImxheW91dC50ZXh0ZmllbGQiLHJlcXVpcmVzOlsiRXh0LnV0aWwuVGV4dE1ldHJpY3MiXSx0eXBlOiJ0ZXh0ZmllbGQiLGNhbkdyb3dXaWR0aDp0cnVlLGJlZ2luTGF5b3V0Q3ljbGU6ZnVuY3Rpb24oYil7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihiLnNocmlua1dyYXApe2IuaW5wdXRDb250ZXh0LmVsLnNldFN0eWxlKCJoZWlnaHQiLCIiKX19LG1lYXN1cmVDb250ZW50V2lkdGg6ZnVuY3Rpb24oYyl7dmFyIGg9dGhpcyxiPWgub3duZXIsYT1oLmNhbGxQYXJlbnQoYXJndW1lbnRzKSxnPWMuaW5wdXRDb250ZXh0LGssaixkLGksZTtpZihiLmdyb3cmJmguY2FuR3Jvd1dpZHRoJiYhYy5zdGF0ZS5ncm93SGFuZGxlZCl7az1iLmlucHV0RWw7aj1FeHQudXRpbC5Gb3JtYXQuaHRtbEVuY29kZShrLmRvbS52YWx1ZXx8KGIuaGFzRm9jdXM/IiI6Yi5lbXB0eVRleHQpfHwiIik7ais9Yi5ncm93QXBwZW5kO2Q9ay5nZXRUZXh0V2lkdGgoaikrZy5nZXRGcmFtZUluZm8oKS53aWR0aDtpPWIuZ3Jvd01heDtlPU1hdGgubWluKGksYSk7aT1NYXRoLm1heChiLmdyb3dNaW4saSxlKTtkPUV4dC5OdW1iZXIuY29uc3RyYWluKGQsYi5ncm93TWluLGkpO2cuc2V0V2lkdGgoZCk7Yy5zdGF0ZS5ncm93SGFuZGxlZD10cnVlO2cuZG9tQmxvY2soaCwid2lkdGgiKTthPU5hTn1yZXR1cm4gYX0scHVibGlzaElubmVySGVpZ2h0OmZ1bmN0aW9uKGIsYSl7Yi5pbnB1dENvbnRleHQuc2V0SGVpZ2h0KGEtdGhpcy5tZWFzdXJlTGFiZWxFcnJvckhlaWdodChiKSl9LGJlZ2luTGF5b3V0Rml4ZWQ6ZnVuY3Rpb24oZCxhLGUpe3ZhciBiPXRoaXMsYz1iLmllSW5wdXRXaWR0aEFkanVzdG1lbnQ7aWYoYyl7Yi5vd25lci5ib2R5RWwuc2V0U3R5bGUoInBhZGRpbmctcmlnaHQiLGMrInB4Iik7aWYoZT09PSJweCIpe2EtPWN9fWIuY2FsbFBhcmVudChhcmd1bWVudHMpfX0pO0V4dC5kZWZpbmUoIkV4dC5mb3JtLmZpZWxkLlRleHQiLHtleHRlbmQ6IkV4dC5mb3JtLmZpZWxkLkJhc2UiLGFsaWFzOiJ3aWRnZXQudGV4dGZpZWxkIixyZXF1aXJlczpbIkV4dC5mb3JtLmZpZWxkLlZUeXBlcyIsIkV4dC5sYXlvdXQuY29tcG9uZW50LmZpZWxkLlRleHQiXSxhbHRlcm5hdGVDbGFzc05hbWU6WyJFeHQuZm9ybS5UZXh0RmllbGQiLCJFeHQuZm9ybS5UZXh0Il0sc2l6ZToyMCxncm93TWluOjMwLGdyb3dNYXg6ODAwLGdyb3dBcHBlbmQ6IlciLGFsbG93Qmxhbms6dHJ1ZSxtaW5MZW5ndGg6MCxtYXhMZW5ndGg6TnVtYmVyLk1BWF9WQUxVRSxtaW5MZW5ndGhUZXh0OiJUaGUgbWluaW11bSBsZW5ndGggZm9yIHRoaXMgZmllbGQgaXMgezB9IixtYXhMZW5ndGhUZXh0OiJUaGUgbWF4aW11bSBsZW5ndGggZm9yIHRoaXMgZmllbGQgaXMgezB9IixibGFua1RleHQ6IlRoaXMgZmllbGQgaXMgcmVxdWlyZWQiLHJlZ2V4VGV4dDoiIixlbXB0eUNsczpFeHQuYmFzZUNTU1ByZWZpeCsiZm9ybS1lbXB0eS1maWVsZCIsY29tcG9uZW50TGF5b3V0OiJ0ZXh0ZmllbGQiLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudCgpO2EuYWRkRXZlbnRzKCJhdXRvc2l6ZSIsImtleWRvd24iLCJrZXl1cCIsImtleXByZXNzIik7YS5hZGRTdGF0ZUV2ZW50cygiY2hhbmdlIik7YS5zZXRHcm93U2l6ZVBvbGljeSgpfSxzZXRHcm93U2l6ZVBvbGljeTpmdW5jdGlvbigpe2lmKHRoaXMuZ3Jvdyl7dGhpcy5zaHJpbmtXcmFwfD0xfX0saW5pdEV2ZW50czpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmlucHV0RWw7Yi5jYWxsUGFyZW50KCk7aWYoYi5zZWxlY3RPbkZvY3VzfHxiLmVtcHR5VGV4dCl7Yi5tb24oYSwibW91c2Vkb3duIixiLm9uTW91c2VEb3duLGIpfWlmKGIubWFza1JlfHwoYi52dHlwZSYmYi5kaXNhYmxlS2V5RmlsdGVyIT09dHJ1ZSYmKGIubWFza1JlPUV4dC5mb3JtLmZpZWxkLlZUeXBlc1tiLnZ0eXBlKyJNYXNrIl0pKSl7Yi5tb24oYSwia2V5cHJlc3MiLGIuZmlsdGVyS2V5cyxiKX1pZihiLmVuYWJsZUtleUV2ZW50cyl7Yi5tb24oYSx7c2NvcGU6YixrZXl1cDpiLm9uS2V5VXAsa2V5ZG93bjpiLm9uS2V5RG93bixrZXlwcmVzczpiLm9uS2V5UHJlc3N9KX19LGlzRXF1YWw6ZnVuY3Rpb24oYixhKXtyZXR1cm4gdGhpcy5pc0VxdWFsQXNTdHJpbmcoYixhKX0sb25DaGFuZ2U6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoKTt0aGlzLmF1dG9TaXplKCl9LGdldFN1YlRwbERhdGE6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5nZXRSYXdWYWx1ZSgpLGQ9YS5lbXB0eVRleHQmJmIubGVuZ3RoPDEsYztpZihkKXtpZihFeHQuc3VwcG9ydHMuUGxhY2Vob2xkZXIpe2M9YS5lbXB0eVRleHR9ZWxzZXtiPWEuZW1wdHlUZXh0fX1yZXR1cm4gRXh0LmFwcGx5KGEuY2FsbFBhcmVudCgpLHttYXhMZW5ndGg6YS5lbmZvcmNlTWF4TGVuZ3RoP2EubWF4TGVuZ3RoOnVuZGVmaW5lZCxyZWFkT25seTphLnJlYWRPbmx5LHBsYWNlaG9sZGVyOmMsdmFsdWU6YixmaWVsZENsczphLmZpZWxkQ2xzKygoZCYmKGN8fGIpKT8iICIrYS5lbXB0eUNsczoiIil9KX0sYWZ0ZXJSZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLmF1dG9TaXplKCk7dGhpcy5jYWxsUGFyZW50KCl9LG9uTW91c2VEb3duOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7aWYoIWEuaGFzRm9jdXMpe2EubW9uKGEuaW5wdXRFbCwibW91c2V1cCIsRXh0LmVtcHR5Rm4sYSx7c2luZ2xlOnRydWUscHJldmVudERlZmF1bHQ6dHJ1ZX0pfX0scHJvY2Vzc1Jhd1ZhbHVlOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMsZD1hLnN0cmlwQ2hhcnNSZSxjO2lmKGQpe2M9Yi5yZXBsYWNlKGQsIiIpO2lmKGMhPT1iKXthLnNldFJhd1ZhbHVlKGMpO2I9Y319cmV0dXJuIGJ9LG9uRGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudCgpO2lmKEV4dC5pc0lFKXt0aGlzLmlucHV0RWwuZG9tLnVuc2VsZWN0YWJsZT0ib24ifX0sb25FbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoKTtpZihFeHQuaXNJRSl7dGhpcy5pbnB1dEVsLmRvbS51bnNlbGVjdGFibGU9IiJ9fSxvbktleURvd246ZnVuY3Rpb24oYSl7dGhpcy5maXJlRXZlbnQoImtleWRvd24iLHRoaXMsYSl9LG9uS2V5VXA6ZnVuY3Rpb24oYSl7dGhpcy5maXJlRXZlbnQoImtleXVwIix0aGlzLGEpfSxvbktleVByZXNzOmZ1bmN0aW9uKGEpe3RoaXMuZmlyZUV2ZW50KCJrZXlwcmVzcyIsdGhpcyxhKX0scmVzZXQ6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoKTt0aGlzLmFwcGx5RW1wdHlUZXh0KCl9LGFwcGx5RW1wdHlUZXh0OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuZW1wdHlUZXh0LGM7aWYoYi5yZW5kZXJlZCYmYSl7Yz1iLmdldFJhd1ZhbHVlKCkubGVuZ3RoPDEmJiFiLmhhc0ZvY3VzO2lmKEV4dC5zdXBwb3J0cy5QbGFjZWhvbGRlcil7Yi5pbnB1dEVsLmRvbS5wbGFjZWhvbGRlcj1hfWVsc2V7aWYoYyl7Yi5zZXRSYXdWYWx1ZShhKX19aWYoYyl7Yi5pbnB1dEVsLmFkZENscyhiLmVtcHR5Q2xzKX1iLmF1dG9TaXplKCl9fSxhZnRlckZpcnN0TGF5b3V0OmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KCk7aWYoRXh0LmlzSUUmJnRoaXMuZGlzYWJsZWQpe3ZhciBhPXRoaXMuaW5wdXRFbDtpZihhKXthLmRvbS51bnNlbGVjdGFibGU9Im9uIn19fSxwcmVGb2N1czpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLmlucHV0RWwsYT1iLmVtcHR5VGV4dCxkO2IuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGEmJiFFeHQuc3VwcG9ydHMuUGxhY2Vob2xkZXImJmMuZG9tLnZhbHVlPT09YSl7Yi5zZXRSYXdWYWx1ZSgiIik7ZD10cnVlO2MucmVtb3ZlQ2xzKGIuZW1wdHlDbHMpfWVsc2V7aWYoRXh0LnN1cHBvcnRzLlBsYWNlaG9sZGVyKXtiLmlucHV0RWwucmVtb3ZlQ2xzKGIuZW1wdHlDbHMpfX1pZihiLnNlbGVjdE9uRm9jdXN8fGQpe2MuZG9tLnNlbGVjdCgpfX0sb25Gb2N1czpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYS5lbXB0eVRleHQpe2EuYXV0b1NpemUoKX19LHBvc3RCbHVyOmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dGhpcy5hcHBseUVtcHR5VGV4dCgpfSxmaWx0ZXJLZXlzOmZ1bmN0aW9uKGMpe2lmKGMuY3RybEtleSYmIWMuYWx0S2V5KXtyZXR1cm59dmFyIGI9Yy5nZXRLZXkoKSxhPVN0cmluZy5mcm9tQ2hhckNvZGUoYy5nZXRDaGFyQ29kZSgpKTtpZihFeHQuaXNHZWNrbyYmKGMuaXNOYXZLZXlQcmVzcygpfHxiPT09Yy5CQUNLU1BBQ0V8fChiPT09Yy5ERUxFVEUmJmMuYnV0dG9uPT09LTEpKSl7cmV0dXJufWlmKCFFeHQuaXNHZWNrbyYmYy5pc1NwZWNpYWxLZXkoKSYmIWEpe3JldHVybn1pZighdGhpcy5tYXNrUmUudGVzdChhKSl7Yy5zdG9wRXZlbnQoKX19LGdldFN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkUHJvcGVydHlUb1N0YXRlKHRoaXMuY2FsbFBhcmVudCgpLCJ2YWx1ZSIpfSxhcHBseVN0YXRlOmZ1bmN0aW9uKGEpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGEuaGFzT3duUHJvcGVydHkoInZhbHVlIikpe3RoaXMuc2V0VmFsdWUoYS52YWx1ZSl9fSxnZXRSYXdWYWx1ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmNhbGxQYXJlbnQoKTtpZihhPT09Yi5lbXB0eVRleHQpe2E9IiJ9cmV0dXJuIGF9LHNldFZhbHVlOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMsYz1hLmlucHV0RWw7aWYoYyYmYS5lbXB0eVRleHQmJiFFeHQuaXNFbXB0eShiKSl7Yy5yZW1vdmVDbHMoYS5lbXB0eUNscyl9YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5hcHBseUVtcHR5VGV4dCgpO3JldHVybiBhfSxnZXRFcnJvcnM6ZnVuY3Rpb24obCl7dmFyIGc9dGhpcyxrPWcuY2FsbFBhcmVudChhcmd1bWVudHMpLGE9Zy52YWxpZGF0b3IsZD1nLmVtcHR5VGV4dCxjPWcuYWxsb3dCbGFuayxlPWcudnR5cGUsaD1FeHQuZm9ybS5maWVsZC5WVHlwZXMsaT1nLnJlZ2V4LGo9RXh0LlN0cmluZy5mb3JtYXQsYjtsPWx8fGcucHJvY2Vzc1Jhd1ZhbHVlKGcuZ2V0UmF3VmFsdWUoKSk7aWYoRXh0LmlzRnVuY3Rpb24oYSkpe2I9YS5jYWxsKGcsbCk7aWYoYiE9PXRydWUpe2sucHVzaChiKX19aWYobC5sZW5ndGg8MXx8bD09PWQpe2lmKCFjKXtrLnB1c2goZy5ibGFua1RleHQpfXJldHVybiBrfWlmKGwubGVuZ3RoPGcubWluTGVuZ3RoKXtrLnB1c2goaihnLm1pbkxlbmd0aFRleHQsZy5taW5MZW5ndGgpKX1pZihsLmxlbmd0aD5nLm1heExlbmd0aCl7ay5wdXNoKGooZy5tYXhMZW5ndGhUZXh0LGcubWF4TGVuZ3RoKSl9aWYoZSl7aWYoIWhbZV0obCxnKSl7ay5wdXNoKGcudnR5cGVUZXh0fHxoW2UrIlRleHQiXSl9fWlmKGkmJiFpLnRlc3QobCkpe2sucHVzaChnLnJlZ2V4VGV4dHx8Zy5pbnZhbGlkVGV4dCl9cmV0dXJuIGt9LHNlbGVjdFRleHQ6ZnVuY3Rpb24oaSxhKXt2YXIgaD10aGlzLGM9aC5nZXRSYXdWYWx1ZSgpLGQ9dHJ1ZSxnPWguaW5wdXRFbC5kb20sZSxiO2lmKGMubGVuZ3RoPjApe2k9aT09PWU/MDppO2E9YT09PWU/Yy5sZW5ndGg6YTtpZihnLnNldFNlbGVjdGlvblJhbmdlKXtnLnNldFNlbGVjdGlvblJhbmdlKGksYSl9ZWxzZXtpZihnLmNyZWF0ZVRleHRSYW5nZSl7Yj1nLmNyZWF0ZVRleHRSYW5nZSgpO2IubW92ZVN0YXJ0KCJjaGFyYWN0ZXIiLGkpO2IubW92ZUVuZCgiY2hhcmFjdGVyIixhLWMubGVuZ3RoKTtiLnNlbGVjdCgpfX1kPUV4dC5pc0dlY2tvfHxFeHQuaXNPcGVyYX1pZihkKXtoLmZvY3VzKCl9fSxhdXRvU2l6ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5ncm93JiZhLnJlbmRlcmVkKXthLmF1dG9TaXppbmc9dHJ1ZTthLnVwZGF0ZUxheW91dCgpfX0sYWZ0ZXJDb21wb25lbnRMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE7Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYi5hdXRvU2l6aW5nKXthPWIuaW5wdXRFbC5nZXRXaWR0aCgpO2lmKGEhPT1iLmxhc3RJbnB1dFdpZHRoKXtiLmZpcmVFdmVudCgiYXV0b3NpemUiLGIsYSk7Yi5sYXN0SW5wdXRXaWR0aD1hO2RlbGV0ZSBiLmF1dG9TaXppbmd9fX19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbXBvbmVudC5maWVsZC5UZXh0QXJlYSIse2V4dGVuZDoiRXh0LmxheW91dC5jb21wb25lbnQuZmllbGQuVGV4dCIsYWxpYXM6ImxheW91dC50ZXh0YXJlYWZpZWxkIix0eXBlOiJ0ZXh0YXJlYWZpZWxkIixjYW5Hcm93V2lkdGg6ZmFsc2UsYmVnaW5MYXlvdXQ6ZnVuY3Rpb24oYSl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS50YXJnZXQuaW5wdXRFbC5zZXRTdHlsZSgiaGVpZ2h0IiwiIil9LG1lYXN1cmVDb250ZW50SGVpZ2h0OmZ1bmN0aW9uKGIpe3ZhciBlPXRoaXMsYT1lLm93bmVyLGs9ZS5jYWxsUGFyZW50KGFyZ3VtZW50cyksYyxpLGgsZyxkLGo7aWYoYS5ncm93JiYhYi5zdGF0ZS5ncm93SGFuZGxlZCl7Yz1iLmlucHV0Q29udGV4dDtpPWEuaW5wdXRFbDtkPWkuZ2V0V2lkdGgodHJ1ZSk7aD1FeHQudXRpbC5Gb3JtYXQuaHRtbEVuY29kZShpLmRvbS52YWx1ZSl8fCImIzE2MDsiO2grPWEuZ3Jvd0FwcGVuZDtoPWgucmVwbGFjZSgvXG4vZywiPGJyLz4iKTtqPUV4dC51dGlsLlRleHRNZXRyaWNzLm1lYXN1cmUoaSxoLGQpLmhlaWdodCtjLmdldEJvcmRlckluZm8oKS5oZWlnaHQrYy5nZXRQYWRkaW5nSW5mbygpLmhlaWdodDtqPUV4dC5OdW1iZXIuY29uc3RyYWluKGosYS5ncm93TWluLGEuZ3Jvd01heCk7Yy5zZXRIZWlnaHQoaik7Yi5zdGF0ZS5ncm93SGFuZGxlZD10cnVlO2MuZG9tQmxvY2soZSwiaGVpZ2h0Iik7az1OYU59cmV0dXJuIGt9fSk7RXh0LmRlZmluZSgiRXh0LmZvcm0uZmllbGQuVGV4dEFyZWEiLHtleHRlbmQ6IkV4dC5mb3JtLmZpZWxkLlRleHQiLGFsaWFzOlsid2lkZ2V0LnRleHRhcmVhZmllbGQiLCJ3aWRnZXQudGV4dGFyZWEiXSxhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5mb3JtLlRleHRBcmVhIixyZXF1aXJlczpbIkV4dC5YVGVtcGxhdGUiLCJFeHQubGF5b3V0LmNvbXBvbmVudC5maWVsZC5UZXh0QXJlYSIsIkV4dC51dGlsLkRlbGF5ZWRUYXNrIl0sZmllbGRTdWJUcGw6Wyc8dGV4dGFyZWEgaWQ9IntpZH0iIHtpbnB1dEF0dHJUcGx9JywnPHRwbCBpZj0ibmFtZSI+IG5hbWU9IntuYW1lfSI8L3RwbD4nLCc8dHBsIGlmPSJyb3dzIj4gcm93cz0ie3Jvd3N9IiA8L3RwbD4nLCc8dHBsIGlmPSJjb2xzIj4gY29scz0ie2NvbHN9IiA8L3RwbD4nLCc8dHBsIGlmPSJwbGFjZWhvbGRlciI+IHBsYWNlaG9sZGVyPSJ7cGxhY2Vob2xkZXJ9IjwvdHBsPicsJzx0cGwgaWY9InNpemUiPiBzaXplPSJ7c2l6ZX0iPC90cGw+JywnPHRwbCBpZj0ibWF4TGVuZ3RoICE9PSB1bmRlZmluZWQiPiBtYXhsZW5ndGg9InttYXhMZW5ndGh9IjwvdHBsPicsJzx0cGwgaWY9InJlYWRPbmx5Ij4gcmVhZG9ubHk9InJlYWRvbmx5IjwvdHBsPicsJzx0cGwgaWY9ImRpc2FibGVkIj4gZGlzYWJsZWQ9ImRpc2FibGVkIjwvdHBsPicsJzx0cGwgaWY9InRhYklkeCI+IHRhYkluZGV4PSJ7dGFiSWR4fSI8L3RwbD4nLCcgY2xhc3M9IntmaWVsZENsc30ge3R5cGVDbHN9IiAnLCc8dHBsIGlmPSJmaWVsZFN0eWxlIj4gc3R5bGU9IntmaWVsZFN0eWxlfSI8L3RwbD4nLCcgYXV0b2NvbXBsZXRlPSJvZmYiPlxuJywnPHRwbCBpZj0idmFsdWUiPntbRXh0LnV0aWwuRm9ybWF0Lmh0bWxFbmNvZGUodmFsdWVzLnZhbHVlKV19PC90cGw+JywiPC90ZXh0YXJlYT4iLHtkaXNhYmxlRm9ybWF0czp0cnVlfV0sZ3Jvd01pbjo2MCxncm93TWF4OjEwMDAsZ3Jvd0FwcGVuZDoiXG4tIixjb2xzOjIwLHJvd3M6NCxlbnRlcklzU3BlY2lhbDpmYWxzZSxwcmV2ZW50U2Nyb2xsYmFyczpmYWxzZSxjb21wb25lbnRMYXlvdXQ6InRleHRhcmVhZmllbGQiLHNldEdyb3dTaXplUG9saWN5OkV4dC5lbXB0eUZuLGdldFN1YlRwbERhdGE6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9Yy5nZXRGaWVsZFN0eWxlKCksYT1jLmNhbGxQYXJlbnQoKTtpZihjLmdyb3cpe2lmKGMucHJldmVudFNjcm9sbGJhcnMpe2EuZmllbGRTdHlsZT0oYnx8IiIpKyI7b3ZlcmZsb3c6aGlkZGVuO2hlaWdodDoiK2MuZ3Jvd01pbisicHgifX1FeHQuYXBwbHlJZihhLHtjb2xzOmMuY29scyxyb3dzOmMucm93c30pO3JldHVybiBhfSxhZnRlclJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5uZWVkc01heENoZWNrPWEuZW5mb3JjZU1heExlbmd0aCYmIUV4dC5zdXBwb3J0cy5UZXh0QXJlYU1heExlbmd0aDtpZihhLm5lZWRzTWF4Q2hlY2spe2EuaW5wdXRFbC5vbigicGFzdGUiLGEub25QYXN0ZSxhKX19LG9uUGFzdGU6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZighYS5wYXN0ZVRhc2spe2EucGFzdGVUYXNrPW5ldyBFeHQudXRpbC5EZWxheWVkVGFzayhhLnBhc3RlQ2hlY2ssYSl9YS5wYXN0ZVRhc2suZGVsYXkoMSl9LHBhc3RlQ2hlY2s6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5nZXRWYWx1ZSgpLGE9Yi5tYXhMZW5ndGg7aWYoYy5sZW5ndGg+YSl7Yz1jLnN1YnN0cigwLGEpO2Iuc2V0VmFsdWUoYyl9fSxmaXJlS2V5OmZ1bmN0aW9uKGMpe3ZhciBhPXRoaXMsYjtpZihjLmlzU3BlY2lhbEtleSgpJiYoYS5lbnRlcklzU3BlY2lhbHx8KGMuZ2V0S2V5KCkhPT1jLkVOVEVSfHxjLmhhc01vZGlmaWVyKCkpKSl7YS5maXJlRXZlbnQoInNwZWNpYWxrZXkiLGEsYyl9aWYoYS5uZWVkc01heENoZWNrJiZjLmdldEtleSgpIT09Yy5CQUNLU1BBQ0UmJiFjLmlzTmF2S2V5UHJlc3MoKSl7Yj1hLmdldFZhbHVlKCk7aWYoYi5sZW5ndGg+PWEubWF4TGVuZ3RoKXtjLnN0b3BFdmVudCgpfX19LGF1dG9TaXplOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhO2lmKGIuZ3JvdyYmYi5yZW5kZXJlZCl7Yi51cGRhdGVMYXlvdXQoKTthPWIuaW5wdXRFbC5nZXRIZWlnaHQoKTtpZihhIT09Yi5sYXN0SW5wdXRIZWlnaHQpe2IuZmlyZUV2ZW50KCJhdXRvc2l6ZSIsYixhKTtiLmxhc3RJbnB1dEhlaWdodD1hfX19LGluaXRBcmlhOmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dGhpcy5nZXRBY3Rpb25FbCgpLmRvbS5zZXRBdHRyaWJ1dGUoImFyaWEtbXVsdGlsaW5lIix0cnVlKX0sYmVmb3JlRGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFzdGVUYXNrO2lmKGEpe2EuZGVsYXkoKX10aGlzLmNhbGxQYXJlbnQoKX19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbXBvbmVudC5maWVsZC5UcmlnZ2VyIix7YWxpYXM6ImxheW91dC50cmlnZ2VyZmllbGQiLGV4dGVuZDoiRXh0LmxheW91dC5jb21wb25lbnQuZmllbGQuRmllbGQiLHR5cGU6InRyaWdnZXJmaWVsZCIsYmVnaW5MYXlvdXQ6ZnVuY3Rpb24oZCl7dmFyIGM9dGhpcyxhPWMub3duZXIsYjtkLnRyaWdnZXJXcmFwPWQuZ2V0RWwoInRyaWdnZXJXcmFwIik7Yy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7Yj1hLmdldFRyaWdnZXJTdGF0ZUZsYWdzKCk7aWYoYiE9YS5sYXN0VHJpZ2dlclN0YXRlRmxhZ3Mpe2EubGFzdFRyaWdnZXJTdGF0ZUZsYWdzPWI7Yy51cGRhdGVFZGl0U3RhdGUoKX19LGJlZ2luTGF5b3V0Rml4ZWQ6ZnVuY3Rpb24oZSxiLGcpe3ZhciBjPXRoaXMsYT1lLnRhcmdldCxkPWMuaWVJbnB1dFdpZHRoQWRqdXN0bWVudCxoPSIxMDAlIjtjLmNhbGxQYXJlbnQoYXJndW1lbnRzKTthLmlucHV0Q2VsbC5zZXRTdHlsZSgid2lkdGgiLCIxMDAlIik7aWYoZCl7YS5pbnB1dENlbGwuc2V0U3R5bGUoInBhZGRpbmctcmlnaHQiLGQrInB4Iik7aWYoZz09PSJweCIpe2g9Yi1kLWEuZ2V0VHJpZ2dlcldpZHRoKCl9fWEuaW5wdXRFbC5zZXRTdHlsZSgid2lkdGgiLGgpO2EudHJpZ2dlcldyYXAuc2V0U3R5bGUoIndpZHRoIixiK2cpO2EudHJpZ2dlcldyYXAuc2V0U3R5bGUoInRhYmxlLWxheW91dCIsImZpeGVkIil9LGJlZ2luTGF5b3V0U2hyaW5rV3JhcDpmdW5jdGlvbihiKXt2YXIgYT1iLnRhcmdldCxjPSIiO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO2EudHJpZ2dlcldyYXAuc2V0U3R5bGUoIndpZHRoIixjKTthLmlucHV0Q2VsbC5zZXRTdHlsZSgid2lkdGgiLGMpO2EuaW5wdXRFbC5zZXRTdHlsZSgid2lkdGgiLGMpO2EudHJpZ2dlcldyYXAuc2V0U3R5bGUoInRhYmxlLWxheW91dCIsImF1dG8iKX0sZ2V0VGV4dFdpZHRoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIub3duZXIsZD1hLmlucHV0RWwsYztjPShkLmRvbS52YWx1ZXx8KGEuaGFzRm9jdXM/IiI6YS5lbXB0eVRleHQpfHwiIikrYS5ncm93QXBwZW5kO3JldHVybiBkLmdldFRleHRXaWR0aChjKX0sbWVhc3VyZUNvbnRlbnRXaWR0aDpmdW5jdGlvbihoKXt2YXIgZz10aGlzLGI9Zy5vd25lcixlPWcuY2FsbFBhcmVudChhcmd1bWVudHMpLGk9aC5pbnB1dENvbnRleHQsZCxhLGM7aWYoYi5ncm93JiYhaC5zdGF0ZS5ncm93SGFuZGxlZCl7ZD1nLmdldFRleHRXaWR0aCgpK2guaW5wdXRDb250ZXh0LmdldEZyYW1lSW5mbygpLndpZHRoO2E9Yi5ncm93TWF4O2M9TWF0aC5taW4oYSxlKTthPU1hdGgubWF4KGIuZ3Jvd01pbixhLGMpO2Q9RXh0Lk51bWJlci5jb25zdHJhaW4oZCxiLmdyb3dNaW4sYSk7aS5zZXRXaWR0aChkKTtoLnN0YXRlLmdyb3dIYW5kbGVkPXRydWU7aS5kb21CbG9jayhnLCJ3aWR0aCIpO2U9TmFOfXJldHVybiBlfSx1cGRhdGVFZGl0U3RhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGE9Yy5vd25lcixlPWEuaW5wdXRFbCxkPUV4dC5iYXNlQ1NTUHJlZml4KyJ0cmlnZ2VyLW5vZWRpdCIsYixnO2lmKGMub3duZXIucmVhZE9ubHkpe2UuYWRkQ2xzKGQpO2c9dHJ1ZTtiPWZhbHNlfWVsc2V7aWYoYy5vd25lci5lZGl0YWJsZSl7ZS5yZW1vdmVDbHMoZCk7Zz1mYWxzZX1lbHNle2UuYWRkQ2xzKGQpO2c9dHJ1ZX1iPSFjLm93bmVyLmhpZGVUcmlnZ2VyfWEudHJpZ2dlckNlbGwuc2V0RGlzcGxheWVkKGIpO2UuZG9tLnJlYWRPbmx5PWd9fSk7RXh0LmRlZmluZSgiRXh0LmZvcm0uZmllbGQuVHJpZ2dlciIse2V4dGVuZDoiRXh0LmZvcm0uZmllbGQuVGV4dCIsYWxpYXM6WyJ3aWRnZXQudHJpZ2dlcmZpZWxkIiwid2lkZ2V0LnRyaWdnZXIiXSxyZXF1aXJlczpbIkV4dC5Eb21IZWxwZXIiLCJFeHQudXRpbC5DbGlja1JlcGVhdGVyIiwiRXh0LmxheW91dC5jb21wb25lbnQuZmllbGQuVHJpZ2dlciJdLGFsdGVybmF0ZUNsYXNzTmFtZTpbIkV4dC5mb3JtLlRyaWdnZXJGaWVsZCIsIkV4dC5mb3JtLlR3aW5UcmlnZ2VyRmllbGQiLCJFeHQuZm9ybS5UcmlnZ2VyIl0sY2hpbGRFbHM6W3tuYW1lOiJ0cmlnZ2VyQ2VsbCIsc2VsZWN0OiIuIitFeHQuYmFzZUNTU1ByZWZpeCsidHJpZ2dlci1jZWxsIn0se25hbWU6InRyaWdnZXJFbCIsc2VsZWN0OiIuIitFeHQuYmFzZUNTU1ByZWZpeCsiZm9ybS10cmlnZ2VyIn0sInRyaWdnZXJXcmFwIiwiaW5wdXRDZWxsIl0sdHJpZ2dlckJhc2VDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImZvcm0tdHJpZ2dlciIsdHJpZ2dlcldyYXBDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImZvcm0tdHJpZ2dlci13cmFwIixoaWRlVHJpZ2dlcjpmYWxzZSxlZGl0YWJsZTp0cnVlLHJlYWRPbmx5OmZhbHNlLHJlcGVhdFRyaWdnZXJDbGljazpmYWxzZSxhdXRvU2l6ZTpFeHQuZW1wdHlGbixtb25pdG9yVGFiOnRydWUsbWltaWNpbmc6ZmFsc2UsdHJpZ2dlckluZGV4UmU6L3RyaWdnZXItaW5kZXgtKFxkKykvLGNvbXBvbmVudExheW91dDoidHJpZ2dlcmZpZWxkIixpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dGhpcy53cmFwRm9jdXNDbHM9dGhpcy50cmlnZ2VyV3JhcENscysiLWZvY3VzIjt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sZ2V0U3ViVHBsTWFya3VwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY2FsbFBhcmVudChhcmd1bWVudHMpO3JldHVybic8dGFibGUgaWQ9IicrYS5pZCsnLXRyaWdnZXJXcmFwIiBjbGFzcz0iJytFeHQuYmFzZUNTU1ByZWZpeCsnZm9ybS10cmlnZ2VyLXdyYXAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCI+PHRib2R5Pjx0cj48dGQgaWQ9IicrYS5pZCsnLWlucHV0Q2VsbCIgY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrJ2Zvcm0tdHJpZ2dlci1pbnB1dC1jZWxsIj4nK2IrIjwvdGQ+IithLmdldFRyaWdnZXJNYXJrdXAoKSsiPC90cj48L3Rib2R5PjwvdGFibGU+In0sZ2V0U3ViVHBsRGF0YTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLmNhbGxQYXJlbnQoKSxkPWIucmVhZE9ubHk9PT10cnVlLGE9Yi5lZGl0YWJsZSE9PWZhbHNlO3JldHVybiBFeHQuYXBwbHkoYyx7ZWRpdGFibGVDbHM6KGR8fCFhKT8iICIrRXh0LmJhc2VDU1NQcmVmaXgrInRyaWdnZXItbm9lZGl0IjoiIixyZWFkT25seTohYXx8ZH0pfSxnZXRMYWJlbGFibGVSZW5kZXJEYXRhOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWIudHJpZ2dlcldyYXBDbHMsYT1iLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtyZXR1cm4gRXh0LmFwcGx5SWYoYSx7dHJpZ2dlcldyYXBDbHM6Yyx0cmlnZ2VyTWFya3VwOmIuZ2V0VHJpZ2dlck1hcmt1cCgpfSl9LGdldFRyaWdnZXJNYXJrdXA6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9MCxkPShjLnJlYWRPbmx5fHxjLmhpZGVUcmlnZ2VyKSxnLGU9Yy50cmlnZ2VyQmFzZUNscyxhPVtdO2lmKCFjLnRyaWdnZXIxQ2xzKXtjLnRyaWdnZXIxQ2xzPWMudHJpZ2dlckNsc31mb3IoYj0wOyhnPWNbInRyaWdnZXIiKyhiKzEpKyJDbHMiXSl8fGI8MTtiKyspe2EucHVzaCh7dGFnOiJ0ZCIsdmFsaWduOiJ0b3AiLGNsczpFeHQuYmFzZUNTU1ByZWZpeCsidHJpZ2dlci1jZWxsIixzdHlsZToid2lkdGg6IitjLnRyaWdnZXJXaWR0aCsoZD8icHg7ZGlzcGxheTpub25lIjoicHgiKSxjbjp7Y2xzOltFeHQuYmFzZUNTU1ByZWZpeCsidHJpZ2dlci1pbmRleC0iK2IsZSxnXS5qb2luKCIgIikscm9sZToiYnV0dG9uIn19KX1hW2ItMV0uY24uY2xzKz0iICIrZSsiLWxhc3QiO3JldHVybiBFeHQuRG9tSGVscGVyLm1hcmt1cChhKX0sZGlzYWJsZUNoZWNrOmZ1bmN0aW9uKCl7cmV0dXJuICF0aGlzLmRpc2FibGVkfSxiZWZvcmVSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS50cmlnZ2VyQmFzZUNscyxjO2lmKCFhLnRyaWdnZXJXaWR0aCl7Yz1FeHQuZ2V0Qm9keSgpLmNyZWF0ZUNoaWxkKHtzdHlsZToicG9zaXRpb246IGFic29sdXRlOyIsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmb3JtLXRyaWdnZXIifSk7RXh0LmZvcm0uZmllbGQuVHJpZ2dlci5wcm90b3R5cGUudHJpZ2dlcldpZHRoPWMuZ2V0V2lkdGgoKTtjLnJlbW92ZSgpfWEuY2FsbFBhcmVudCgpO2lmKGIhPUV4dC5iYXNlQ1NTUHJlZml4KyJmb3JtLXRyaWdnZXIiKXthLmFkZENoaWxkRWxzKHtuYW1lOiJ0cmlnZ2VyRWwiLHNlbGVjdDoiLiIrYn0pfWEubGFzdFRyaWdnZXJTdGF0ZUZsYWdzPWEuZ2V0VHJpZ2dlclN0YXRlRmxhZ3MoKX0sb25SZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2EuZG9jPUV4dC5nZXREb2MoKTthLmluaXRUcmlnZ2VyKCk7YS50cmlnZ2VyRWwudW5zZWxlY3RhYmxlKCl9LGdldFRyaWdnZXJXaWR0aDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT0wO2lmKGIudHJpZ2dlcldyYXAmJiFiLmhpZGVUcmlnZ2VyJiYhYi5yZWFkT25seSl7YT1iLnRyaWdnZXJFbC5nZXRDb3VudCgpKmIudHJpZ2dlcldpZHRofXJldHVybiBhfSxzZXRIaWRlVHJpZ2dlcjpmdW5jdGlvbihhKXtpZihhIT10aGlzLmhpZGVUcmlnZ2VyKXt0aGlzLmhpZGVUcmlnZ2VyPWE7dGhpcy51cGRhdGVMYXlvdXQoKX19LHNldEVkaXRhYmxlOmZ1bmN0aW9uKGEpe2lmKGEhPXRoaXMuZWRpdGFibGUpe3RoaXMuZWRpdGFibGU9YTt0aGlzLnVwZGF0ZUxheW91dCgpfX0sc2V0UmVhZE9ubHk6ZnVuY3Rpb24oYSl7aWYoYSE9dGhpcy5yZWFkT25seSl7dGhpcy5yZWFkT25seT1hO3RoaXMudXBkYXRlTGF5b3V0KCl9fSxpbml0VHJpZ2dlcjpmdW5jdGlvbigpe3ZhciBoPXRoaXMsaT1oLnRyaWdnZXJXcmFwLGs9aC50cmlnZ2VyRWwsYT1oLmRpc2FibGVDaGVjayxkLGMsYixnLGo7aWYoaC5yZXBlYXRUcmlnZ2VyQ2xpY2spe2gudHJpZ2dlclJlcGVhdGVyPW5ldyBFeHQudXRpbC5DbGlja1JlcGVhdGVyKGkse3ByZXZlbnREZWZhdWx0OnRydWUsaGFuZGxlcjpoLm9uVHJpZ2dlcldyYXBDbGljayxsaXN0ZW5lcnM6e21vdXNldXA6aC5vblRyaWdnZXJXcmFwTW91c3VwLHNjb3BlOmh9LHNjb3BlOmh9KX1lbHNle2gubW9uKGkse2NsaWNrOmgub25UcmlnZ2VyV3JhcENsaWNrLG1vdXNldXA6aC5vblRyaWdnZXJXcmFwTW91c3VwLHNjb3BlOmh9KX1rLnNldFZpc2liaWxpdHlNb2RlKEV4dC5FbGVtZW50LkRJU1BMQVkpO2suYWRkQ2xzT25PdmVyKGgudHJpZ2dlckJhc2VDbHMrIi1vdmVyIixhLGgpO2Q9ay5lbGVtZW50cztjPWQubGVuZ3RoO2ZvcihnPTA7ZzxjO2crKyl7Yj1kW2ddO2o9ZysxO2IuYWRkQ2xzT25PdmVyKGhbInRyaWdnZXIiKyhqKSsiQ2xzIl0rIi1vdmVyIixhLGgpO2IuYWRkQ2xzT25DbGljayhoWyJ0cmlnZ2VyIisoaikrIkNscyJdKyItY2xpY2siLGEsaCl9ay5hZGRDbHNPbkNsaWNrKGgudHJpZ2dlckJhc2VDbHMrIi1jbGljayIsYSxoKX0sb25EZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztFeHQuZGVzdHJveU1lbWJlcnMoYSwidHJpZ2dlclJlcGVhdGVyIiwidHJpZ2dlcldyYXAiLCJ0cmlnZ2VyRWwiKTtkZWxldGUgYS5kb2M7YS5jYWxsUGFyZW50KCl9LG9uRm9jdXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKCFhLm1pbWljaW5nKXthLmJvZHlFbC5hZGRDbHMoYS53cmFwRm9jdXNDbHMpO2EubWltaWNpbmc9dHJ1ZTthLm1vbihhLmRvYywibW91c2Vkb3duIixhLm1pbWljQmx1cixhLHtkZWxheToxMH0pO2lmKGEubW9uaXRvclRhYil7YS5vbigic3BlY2lhbGtleSIsYS5jaGVja1RhYixhKX19fSxjaGVja1RhYjpmdW5jdGlvbihhLGIpe2lmKCF0aGlzLmlnbm9yZU1vbml0b3JUYWImJmIuZ2V0S2V5KCk9PWIuVEFCKXt0aGlzLnRyaWdnZXJCbHVyKCl9fSxnZXRUcmlnZ2VyU3RhdGVGbGFnczpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj0wO2lmKGEucmVhZE9ubHkpe2IrPTF9aWYoYS5lZGl0YWJsZSl7Yis9Mn1pZihhLmhpZGVUcmlnZ2VyKXtiKz00fXJldHVybiBifSxvbkJsdXI6RXh0LmVtcHR5Rm4sbWltaWNCbHVyOmZ1bmN0aW9uKGEpe2lmKCF0aGlzLmlzRGVzdHJveWVkJiYhdGhpcy5ib2R5RWwuY29udGFpbnMoYS50YXJnZXQpJiZ0aGlzLnZhbGlkYXRlQmx1cihhKSl7dGhpcy50cmlnZ2VyQmx1cihhKX19LHRyaWdnZXJCbHVyOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7YS5taW1pY2luZz1mYWxzZTthLm11bihhLmRvYywibW91c2Vkb3duIixhLm1pbWljQmx1cixhKTtpZihhLm1vbml0b3JUYWImJmEuaW5wdXRFbCl7YS51bigic3BlY2lhbGtleSIsYS5jaGVja1RhYixhKX1FeHQuZm9ybS5maWVsZC5UcmlnZ2VyLnN1cGVyY2xhc3Mub25CbHVyLmNhbGwoYSxiKTtpZihhLmJvZHlFbCl7YS5ib2R5RWwucmVtb3ZlQ2xzKGEud3JhcEZvY3VzQ2xzKX19LHZhbGlkYXRlQmx1cjpmdW5jdGlvbihhKXtyZXR1cm4gdHJ1ZX0sb25UcmlnZ2VyV3JhcENsaWNrOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxlLGIsYSxjO2M9YXJndW1lbnRzW2QudHJpZ2dlclJlcGVhdGVyPzE6MF07aWYoYyYmIWQucmVhZE9ubHkmJiFkLmRpc2FibGVkKXtlPWMuZ2V0VGFyZ2V0KCIuIitkLnRyaWdnZXJCYXNlQ2xzLG51bGwpO2I9ZSYmZS5jbGFzc05hbWUubWF0Y2goZC50cmlnZ2VySW5kZXhSZSk7aWYoYil7YT1kWyJvblRyaWdnZXIiKyhwYXJzZUludChiWzFdLDEwKSsxKSsiQ2xpY2siXXx8ZC5vblRyaWdnZXJDbGljaztpZihhKXthLmNhbGwoZCxjKX19fX0sb25UcmlnZ2VyV3JhcE1vdXN1cDpFeHQuZW1wdHlGbixvblRyaWdnZXJDbGljazpFeHQuZW1wdHlGbn0pO0V4dC5kZWZpbmUoIkV4dC5mb3JtLmZpZWxkLkZpbGUiLHtleHRlbmQ6IkV4dC5mb3JtLmZpZWxkLlRyaWdnZXIiLGFsaWFzOlsid2lkZ2V0LmZpbGVmaWVsZCIsIndpZGdldC5maWxldXBsb2FkZmllbGQiXSxhbHRlcm5hdGVDbGFzc05hbWU6WyJFeHQuZm9ybS5GaWxlVXBsb2FkRmllbGQiLCJFeHQudXguZm9ybS5GaWxlVXBsb2FkRmllbGQiLCJFeHQuZm9ybS5GaWxlIl0sdXNlczpbIkV4dC5idXR0b24uQnV0dG9uIiwiRXh0LmxheW91dC5jb21wb25lbnQuZmllbGQuRmllbGQiXSxidXR0b25UZXh0OiJCcm93c2UuLi4iLGJ1dHRvbk9ubHk6ZmFsc2UsYnV0dG9uTWFyZ2luOjMsZmllbGRCb2R5Q2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmb3JtLWZpbGUtd3JhcCIscmVhZE9ubHk6dHJ1ZSxjb21wb25lbnRMYXlvdXQ6InRyaWdnZXJmaWVsZCIsY2hpbGRFbHM6WyJmaWxlSW5wdXRFbCIsImJ1dHRvbkVsIiwiYnV0dG9uRWwtYnRuRWwiLCJicm93c2VCdXR0b25XcmFwIl0sb25SZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7Yj1hLmlucHV0RWw7Yi5kb20ubmFtZT0iIjthLmZpbGVJbnB1dEVsLmRvbS5uYW1lPWEuZ2V0TmFtZSgpO2EuZmlsZUlucHV0RWwub24oe3Njb3BlOmEsY2hhbmdlOmEub25GaWxlQ2hhbmdlfSk7aWYoYS5idXR0b25Pbmx5KXthLmlucHV0Q2VsbC5zZXREaXNwbGF5ZWQoZmFsc2UpfWEuYnJvd3NlQnV0dG9uV3JhcC5kb20uc3R5bGUud2lkdGg9KGEuYnJvd3NlQnV0dG9uV3JhcC5kb20ubGFzdENoaWxkLm9mZnNldFdpZHRoK2EuYnV0dG9uRWwuZ2V0TWFyZ2luKCJsciIpKSsicHgiO2lmKEV4dC5pc0lFKXthLmJ1dHRvbkVsLnJlcGFpbnQoKX19LGdldFRyaWdnZXJNYXJrdXA6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGEsYz1FeHQud2lkZ2V0KCJidXR0b24iLEV4dC5hcHBseSh7aWQ6ZC5pZCsiLWJ1dHRvbkVsIix1aTpkLnVpLGRpc2FibGVkOmQuZGlzYWJsZWQsdGV4dDpkLmJ1dHRvblRleHQsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmb3JtLWZpbGUtYnRuIixwcmV2ZW50RGVmYXVsdDpmYWxzZSxzdHlsZTpkLmJ1dHRvbk9ubHk/IiI6Im1hcmdpbi1sZWZ0OiIrZC5idXR0b25NYXJnaW4rInB4In0sZC5idXR0b25Db25maWcpKSxiPWMuZ2V0UmVuZGVyVHJlZSgpLGU9e2lkOmQuaWQrIi1maWxlSW5wdXRFbCIsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmb3JtLWZpbGUtaW5wdXQiLHRhZzoiaW5wdXQiLHR5cGU6ImZpbGUiLHNpemU6MX07aWYoZC5kaXNhYmxlZCl7ZS5kaXNhYmxlZD10cnVlfWIuY249ZTthPSc8dGQgaWQ9IicrZC5pZCsnLWJyb3dzZUJ1dHRvbldyYXAiPicrRXh0LkRvbUhlbHBlci5tYXJrdXAoYikrIjwvdGQ+IjtjLmRlc3Ryb3koKTtyZXR1cm4gYX0sY3JlYXRlRmlsZUlucHV0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmZpbGVJbnB1dEVsPWEuYnV0dG9uRWwuY3JlYXRlQ2hpbGQoe25hbWU6YS5nZXROYW1lKCksaWQ6YS5pZCsiLWZpbGVJbnB1dEVsIixjbHM6RXh0LmJhc2VDU1NQcmVmaXgrImZvcm0tZmlsZS1pbnB1dCIsdGFnOiJpbnB1dCIsdHlwZToiZmlsZSIsc2l6ZToxfSk7YS5maWxlSW5wdXRFbC5vbih7c2NvcGU6YSxjaGFuZ2U6YS5vbkZpbGVDaGFuZ2V9KX0sb25GaWxlQ2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy5sYXN0VmFsdWU9bnVsbDtFeHQuZm9ybS5maWVsZC5GaWxlLnN1cGVyY2xhc3Muc2V0VmFsdWUuY2FsbCh0aGlzLHRoaXMuZmlsZUlucHV0RWwuZG9tLnZhbHVlKX0sc2V0VmFsdWU6RXh0LmVtcHR5Rm4scmVzZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEucmVuZGVyZWQpe2EuZmlsZUlucHV0RWwucmVtb3ZlKCk7YS5jcmVhdGVGaWxlSW5wdXQoKTthLmlucHV0RWwuZG9tLnZhbHVlPSIifWEuY2FsbFBhcmVudCgpfSxvbkRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoKTt0aGlzLmRpc2FibGVJdGVtcygpfSxkaXNhYmxlSXRlbXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmZpbGVJbnB1dEVsO2lmKGEpe2EuZG9tLmRpc2FibGVkPXRydWV9dGhpc1siYnV0dG9uRWwtYnRuRWwiXS5kb20uZGlzYWJsZWQ9dHJ1ZX0sb25FbmFibGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudCgpO2EuZmlsZUlucHV0RWwuZG9tLmRpc2FibGVkPWZhbHNlO3RoaXNbImJ1dHRvbkVsLWJ0bkVsIl0uZG9tLmRpc2FibGVkPXRydWV9LGlzRmlsZVVwbG9hZDpmdW5jdGlvbigpe3JldHVybiB0cnVlfSxleHRyYWN0RmlsZUlucHV0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5maWxlSW5wdXRFbC5kb207dGhpcy5yZXNldCgpO3JldHVybiBhfSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXtFeHQuZGVzdHJveU1lbWJlcnModGhpcywiZmlsZUlucHV0RWwiLCJidXR0b25FbCIpO3RoaXMuY2FsbFBhcmVudCgpfX0pO0V4dC5kZWZpbmUoIkV4dC5mb3JtLmZpZWxkLlBpY2tlciIse2V4dGVuZDoiRXh0LmZvcm0uZmllbGQuVHJpZ2dlciIsYWxpYXM6IndpZGdldC5waWNrZXJmaWVsZCIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuZm9ybS5QaWNrZXIiLHJlcXVpcmVzOlsiRXh0LnV0aWwuS2V5TmF2Il0sbWF0Y2hGaWVsZFdpZHRoOnRydWUscGlja2VyQWxpZ246InRsLWJsPyIsb3BlbkNsczpFeHQuYmFzZUNTU1ByZWZpeCsicGlja2VyZmllbGQtb3BlbiIsZWRpdGFibGU6dHJ1ZSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KCk7dGhpcy5hZGRFdmVudHMoImV4cGFuZCIsImNvbGxhcHNlIiwic2VsZWN0Iil9LGluaXRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudCgpO2Eua2V5TmF2PW5ldyBFeHQudXRpbC5LZXlOYXYoYS5pbnB1dEVsLHtkb3duOmEub25Eb3duQXJyb3csZXNjOntoYW5kbGVyOmEub25Fc2Msc2NvcGU6YSxkZWZhdWx0RXZlbnRBY3Rpb246ZmFsc2V9LHNjb3BlOmEsZm9yY2VLZXlEb3duOnRydWV9KTtpZighYS5lZGl0YWJsZSl7YS5tb24oYS5pbnB1dEVsLCJjbGljayIsYS5vblRyaWdnZXJDbGljayxhKX1pZihFeHQuaXNHZWNrbyl7YS5pbnB1dEVsLmRvbS5zZXRBdHRyaWJ1dGUoImF1dG9jb21wbGV0ZSIsIm9mZiIpfX0sb25Fc2M6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZihhLmlzRXhwYW5kZWQpe2EuY29sbGFwc2UoKTtiLnN0b3BFdmVudCgpfWVsc2V7aWYoYS51cCgid2luZG93Iikpe2EuYmx1cigpfWVsc2V7aWYoKCFFeHQuRm9jdXNNYW5hZ2VyfHwhRXh0LkZvY3VzTWFuYWdlci5lbmFibGVkKSl7Yi5zdG9wRXZlbnQoKX19fX0sb25Eb3duQXJyb3c6ZnVuY3Rpb24oYSl7aWYoIXRoaXMuaXNFeHBhbmRlZCl7dGhpcy5vblRyaWdnZXJDbGljaygpfX0sZXhwYW5kOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxhLGIsZDtpZihjLnJlbmRlcmVkJiYhYy5pc0V4cGFuZGVkJiYhYy5pc0Rlc3Ryb3llZCl7YT1jLmJvZHlFbDtiPWMuZ2V0UGlja2VyKCk7ZD1jLmNvbGxhcHNlSWY7Yi5zaG93KCk7Yy5pc0V4cGFuZGVkPXRydWU7Yy5hbGlnblBpY2tlcigpO2EuYWRkQ2xzKGMub3BlbkNscyk7Yy5tb24oRXh0LmdldERvYygpLHttb3VzZXdoZWVsOmQsbW91c2Vkb3duOmQsc2NvcGU6Y30pO0V4dC5FdmVudE1hbmFnZXIub25XaW5kb3dSZXNpemUoYy5hbGlnblBpY2tlcixjKTtjLmZpcmVFdmVudCgiZXhwYW5kIixjKTtjLm9uRXhwYW5kKCl9fSxvbkV4cGFuZDpFeHQuZW1wdHlGbixhbGlnblBpY2tlcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmdldFBpY2tlcigpO2lmKGIuaXNFeHBhbmRlZCl7aWYoYi5tYXRjaEZpZWxkV2lkdGgpe2Euc2V0V2lkdGgoYi5ib2R5RWwuZ2V0V2lkdGgoKSl9aWYoYS5pc0Zsb2F0aW5nKCkpe2IuZG9BbGlnbigpfX19LGRvQWxpZ246ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGM9ZC5waWNrZXIsYT0iLWFib3ZlIixiO2QucGlja2VyLmFsaWduVG8oZC5pbnB1dEVsLGQucGlja2VyQWxpZ24sZC5waWNrZXJPZmZzZXQpO2I9Yy5lbC5nZXRZKCk8ZC5pbnB1dEVsLmdldFkoKTtkLmJvZHlFbFtiPyJhZGRDbHMiOiJyZW1vdmVDbHMiXShkLm9wZW5DbHMrYSk7Y1tiPyJhZGRDbHMiOiJyZW1vdmVDbHMiXShjLmJhc2VDbHMrYSl9LGNvbGxhcHNlOmZ1bmN0aW9uKCl7aWYodGhpcy5pc0V4cGFuZGVkJiYhdGhpcy5pc0Rlc3Ryb3llZCl7dmFyIGQ9dGhpcyxjPWQub3BlbkNscyxiPWQucGlja2VyLGU9RXh0LmdldERvYygpLGc9ZC5jb2xsYXBzZUlmLGE9Ii1hYm92ZSI7Yi5oaWRlKCk7ZC5pc0V4cGFuZGVkPWZhbHNlO2QuYm9keUVsLnJlbW92ZUNscyhbYyxjK2FdKTtiLmVsLnJlbW92ZUNscyhiLmJhc2VDbHMrYSk7ZS51bigibW91c2V3aGVlbCIsZyxkKTtlLnVuKCJtb3VzZWRvd24iLGcsZCk7RXh0LkV2ZW50TWFuYWdlci5yZW1vdmVSZXNpemVMaXN0ZW5lcihkLmFsaWduUGlja2VyLGQpO2QuZmlyZUV2ZW50KCJjb2xsYXBzZSIsZCk7ZC5vbkNvbGxhcHNlKCl9fSxvbkNvbGxhcHNlOkV4dC5lbXB0eUZuLGNvbGxhcHNlSWY6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZighYS5pc0Rlc3Ryb3llZCYmIWIud2l0aGluKGEuYm9keUVsLGZhbHNlLHRydWUpJiYhYi53aXRoaW4oYS5waWNrZXIuZWwsZmFsc2UsdHJ1ZSkmJiFhLmlzRXZlbnRXaXRoaW5QaWNrZXJMb2FkTWFzayhiKSl7YS5jb2xsYXBzZSgpfX0sZ2V0UGlja2VyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gYS5waWNrZXJ8fChhLnBpY2tlcj1hLmNyZWF0ZVBpY2tlcigpKX0sY3JlYXRlUGlja2VyOkV4dC5lbXB0eUZuLG9uVHJpZ2dlckNsaWNrOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZighYS5yZWFkT25seSYmIWEuZGlzYWJsZWQpe2lmKGEuaXNFeHBhbmRlZCl7YS5jb2xsYXBzZSgpfWVsc2V7YS5leHBhbmQoKX1hLmlucHV0RWwuZm9jdXMoKX19LG1pbWljQmx1cjpmdW5jdGlvbihjKXt2YXIgYj10aGlzLGE9Yi5waWNrZXI7aWYoIWF8fCFjLndpdGhpbihhLmVsLGZhbHNlLHRydWUpJiYhYi5pc0V2ZW50V2l0aGluUGlja2VyTG9hZE1hc2soYykpe2IuY2FsbFBhcmVudChhcmd1bWVudHMpfX0sb25EZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIucGlja2VyO0V4dC5FdmVudE1hbmFnZXIucmVtb3ZlUmVzaXplTGlzdGVuZXIoYi5hbGlnblBpY2tlcixiKTtFeHQuZGVzdHJveShiLmtleU5hdik7aWYoYSl7ZGVsZXRlIGEucGlja2VyRmllbGQ7YS5kZXN0cm95KCl9Yi5jYWxsUGFyZW50KCl9LGlzRXZlbnRXaXRoaW5QaWNrZXJMb2FkTWFzazpmdW5jdGlvbihiKXt2YXIgYT10aGlzLnBpY2tlci5sb2FkTWFzaztyZXR1cm4gYT9iLndpdGhpbihhLm1hc2tFbCxmYWxzZSx0cnVlKXx8Yi53aXRoaW4oYS5lbCxmYWxzZSx0cnVlKTpmYWxzZX19KTtFeHQuZGVmaW5lKCJFeHQuZm9ybS5maWVsZC5TcGlubmVyIix7ZXh0ZW5kOiJFeHQuZm9ybS5maWVsZC5UcmlnZ2VyIixhbGlhczoid2lkZ2V0LnNwaW5uZXJmaWVsZCIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuZm9ybS5TcGlubmVyIixyZXF1aXJlczpbIkV4dC51dGlsLktleU5hdiJdLHRyaWdnZXIxQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmb3JtLXNwaW5uZXItdXAiLHRyaWdnZXIyQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmb3JtLXNwaW5uZXItZG93biIsc3BpblVwRW5hYmxlZDp0cnVlLHNwaW5Eb3duRW5hYmxlZDp0cnVlLGtleU5hdkVuYWJsZWQ6dHJ1ZSxtb3VzZVdoZWVsRW5hYmxlZDp0cnVlLHJlcGVhdFRyaWdnZXJDbGljazp0cnVlLG9uU3BpblVwOkV4dC5lbXB0eUZuLG9uU3BpbkRvd246RXh0LmVtcHR5Rm4sdHJpZ2dlclRwbDonPHRkIHN0eWxlPSJ7dHJpZ2dlclN0eWxlfSI+PGRpdiBjbGFzcz0iJytFeHQuYmFzZUNTU1ByZWZpeCsidHJpZ2dlci1pbmRleC0wICIrRXh0LmJhc2VDU1NQcmVmaXgrImZvcm0tdHJpZ2dlciAiK0V4dC5iYXNlQ1NTUHJlZml4Kydmb3JtLXNwaW5uZXItdXAiIHJvbGU9ImJ1dHRvbiI+PC9kaXY+PGRpdiBjbGFzcz0iJytFeHQuYmFzZUNTU1ByZWZpeCsidHJpZ2dlci1pbmRleC0xICIrRXh0LmJhc2VDU1NQcmVmaXgrImZvcm0tdHJpZ2dlciAiK0V4dC5iYXNlQ1NTUHJlZml4Kydmb3JtLXNwaW5uZXItZG93biIgcm9sZT0iYnV0dG9uIj48L2Rpdj48L3RkPjwvdHI+Jyxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KCk7dGhpcy5hZGRFdmVudHMoInNwaW4iLCJzcGludXAiLCJzcGluZG93biIpfSxvblJlbmRlcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYTtiLmNhbGxQYXJlbnQoYXJndW1lbnRzKTthPWIudHJpZ2dlckVsO2Iuc3BpblVwRWw9YS5pdGVtKDApO2Iuc3BpbkRvd25FbD1hLml0ZW0oMSk7Yi5zZXRTcGluVXBFbmFibGVkKGIuc3BpblVwRW5hYmxlZCk7Yi5zZXRTcGluRG93bkVuYWJsZWQoYi5zcGluRG93bkVuYWJsZWQpO2lmKGIua2V5TmF2RW5hYmxlZCl7Yi5zcGlubmVyS2V5TmF2PW5ldyBFeHQudXRpbC5LZXlOYXYoYi5pbnB1dEVsLHtzY29wZTpiLHVwOmIuc3BpblVwLGRvd246Yi5zcGluRG93bn0pfWlmKGIubW91c2VXaGVlbEVuYWJsZWQpe2IubW9uKGIuYm9keUVsLCJtb3VzZXdoZWVsIixiLm9uTW91c2VXaGVlbCxiKX19LGdldFN1YlRwbE1hcmt1cDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1FeHQuZm9ybS5maWVsZC5CYXNlLnByb3RvdHlwZS5nZXRTdWJUcGxNYXJrdXAuYXBwbHkoYSxhcmd1bWVudHMpO3JldHVybic8dGFibGUgaWQ9IicrYS5pZCsnLXRyaWdnZXJXcmFwIiBjbGFzcz0iJytFeHQuYmFzZUNTU1ByZWZpeCsnZm9ybS10cmlnZ2VyLXdyYXAiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCI+PHRib2R5Pjx0cj48dGQgaWQ9IicrYS5pZCsnLWlucHV0Q2VsbCIgY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrJ2Zvcm0tdHJpZ2dlci1pbnB1dC1jZWxsIj4nK2IrIjwvdGQ+IithLmdldFRyaWdnZXJNYXJrdXAoKSsiPC90Ym9keT48L3RhYmxlPiJ9LGdldFRyaWdnZXJNYXJrdXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9KGEucmVhZE9ubHl8fGEuaGlkZVRyaWdnZXIpO3JldHVybiBhLmdldFRwbCgidHJpZ2dlclRwbCIpLmFwcGx5KHt0cmlnZ2VyU3R5bGU6IndpZHRoOiIrYS50cmlnZ2VyV2lkdGgrKGI/InB4O2Rpc3BsYXk6bm9uZSI6InB4Iil9KX0sZ2V0VHJpZ2dlcldpZHRoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPTA7aWYoYi50cmlnZ2VyV3JhcCYmIWIuaGlkZVRyaWdnZXImJiFiLnJlYWRPbmx5KXthPWIudHJpZ2dlcldpZHRofXJldHVybiBhfSxvblRyaWdnZXIxQ2xpY2s6ZnVuY3Rpb24oKXt0aGlzLnNwaW5VcCgpfSxvblRyaWdnZXIyQ2xpY2s6ZnVuY3Rpb24oKXt0aGlzLnNwaW5Eb3duKCl9LG9uVHJpZ2dlcldyYXBNb3VzdXA6ZnVuY3Rpb24oKXt0aGlzLmlucHV0RWwuZm9jdXMoKX0sc3BpblVwOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLnNwaW5VcEVuYWJsZWQmJiFhLmRpc2FibGVkKXthLmZpcmVFdmVudCgic3BpbiIsYSwidXAiKTthLmZpcmVFdmVudCgic3BpbnVwIixhKTthLm9uU3BpblVwKCl9fSxzcGluRG93bjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5zcGluRG93bkVuYWJsZWQmJiFhLmRpc2FibGVkKXthLmZpcmVFdmVudCgic3BpbiIsYSwiZG93biIpO2EuZmlyZUV2ZW50KCJzcGluZG93biIsYSk7YS5vblNwaW5Eb3duKCl9fSxzZXRTcGluVXBFbmFibGVkOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLnNwaW5VcEVuYWJsZWQ7Yi5zcGluVXBFbmFibGVkPWE7aWYoYyE9PWEmJmIucmVuZGVyZWQpe2Iuc3BpblVwRWxbYT8icmVtb3ZlQ2xzIjoiYWRkQ2xzIl0oYi50cmlnZ2VyMUNscysiLWRpc2FibGVkIil9fSxzZXRTcGluRG93bkVuYWJsZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuc3BpbkRvd25FbmFibGVkO2Iuc3BpbkRvd25FbmFibGVkPWE7aWYoYyE9PWEmJmIucmVuZGVyZWQpe2Iuc3BpbkRvd25FbFthPyJyZW1vdmVDbHMiOiJhZGRDbHMiXShiLnRyaWdnZXIyQ2xzKyItZGlzYWJsZWQiKX19LG9uTW91c2VXaGVlbDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLGM7aWYoYS5oYXNGb2N1cyl7Yz1iLmdldFdoZWVsRGVsdGEoKTtpZihjPjApe2Euc3BpblVwKCl9ZWxzZXtpZihjPDApe2Euc3BpbkRvd24oKX19Yi5zdG9wRXZlbnQoKX19LG9uRGVzdHJveTpmdW5jdGlvbigpe0V4dC5kZXN0cm95TWVtYmVycyh0aGlzLCJzcGlubmVyS2V5TmF2Iiwic3BpblVwRWwiLCJzcGluRG93bkVsIik7dGhpcy5jYWxsUGFyZW50KCl9fSk7RXh0LmRlZmluZSgiRXh0LmZvcm0uZmllbGQuTnVtYmVyIix7ZXh0ZW5kOiJFeHQuZm9ybS5maWVsZC5TcGlubmVyIixhbGlhczoid2lkZ2V0Lm51bWJlcmZpZWxkIixhbHRlcm5hdGVDbGFzc05hbWU6WyJFeHQuZm9ybS5OdW1iZXJGaWVsZCIsIkV4dC5mb3JtLk51bWJlciJdLGFsbG93RGVjaW1hbHM6dHJ1ZSxkZWNpbWFsU2VwYXJhdG9yOiIuIixzdWJtaXRMb2NhbGVTZXBhcmF0b3I6dHJ1ZSxkZWNpbWFsUHJlY2lzaW9uOjIsbWluVmFsdWU6TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLG1heFZhbHVlOk51bWJlci5NQVhfVkFMVUUsc3RlcDoxLG1pblRleHQ6IlRoZSBtaW5pbXVtIHZhbHVlIGZvciB0aGlzIGZpZWxkIGlzIHswfSIsbWF4VGV4dDoiVGhlIG1heGltdW0gdmFsdWUgZm9yIHRoaXMgZmllbGQgaXMgezB9IixuYW5UZXh0OiJ7MH0gaXMgbm90IGEgdmFsaWQgbnVtYmVyIixuZWdhdGl2ZVRleHQ6IlRoZSB2YWx1ZSBjYW5ub3QgYmUgbmVnYXRpdmUiLGJhc2VDaGFyczoiMDEyMzQ1Njc4OSIsYXV0b1N0cmlwQ2hhcnM6ZmFsc2UsaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYjthLmNhbGxQYXJlbnQoKTthLnNldE1pblZhbHVlKGEubWluVmFsdWUpO2Euc2V0TWF4VmFsdWUoYS5tYXhWYWx1ZSk7aWYoYS5kaXNhYmxlS2V5RmlsdGVyIT09dHJ1ZSl7Yj1hLmJhc2VDaGFycysiIjtpZihhLmFsbG93RGVjaW1hbHMpe2IrPWEuZGVjaW1hbFNlcGFyYXRvcn1pZihhLm1pblZhbHVlPDApe2IrPSItIn1iPUV4dC5TdHJpbmcuZXNjYXBlUmVnZXgoYik7YS5tYXNrUmU9bmV3IFJlZ0V4cCgiWyIrYisiXSIpO2lmKGEuYXV0b1N0cmlwQ2hhcnMpe2Euc3RyaXBDaGFyc1JlPW5ldyBSZWdFeHAoIlteIitiKyJdIiwiZ2kiKX19fSxnZXRFcnJvcnM6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxlPWIuY2FsbFBhcmVudChhcmd1bWVudHMpLGQ9RXh0LlN0cmluZy5mb3JtYXQsYTtjPUV4dC5pc0RlZmluZWQoYyk/Yzp0aGlzLnByb2Nlc3NSYXdWYWx1ZSh0aGlzLmdldFJhd1ZhbHVlKCkpO2lmKGMubGVuZ3RoPDEpe3JldHVybiBlfWM9U3RyaW5nKGMpLnJlcGxhY2UoYi5kZWNpbWFsU2VwYXJhdG9yLCIuIik7aWYoaXNOYU4oYykpe2UucHVzaChkKGIubmFuVGV4dCxjKSl9YT1iLnBhcnNlVmFsdWUoYyk7aWYoYi5taW5WYWx1ZT09PTAmJmE8MCl7ZS5wdXNoKHRoaXMubmVnYXRpdmVUZXh0KX1lbHNle2lmKGE8Yi5taW5WYWx1ZSl7ZS5wdXNoKGQoYi5taW5UZXh0LGIubWluVmFsdWUpKX19aWYoYT5iLm1heFZhbHVlKXtlLnB1c2goZChiLm1heFRleHQsYi5tYXhWYWx1ZSkpfXJldHVybiBlfSxyYXdUb1ZhbHVlOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuZml4UHJlY2lzaW9uKHRoaXMucGFyc2VWYWx1ZShiKSk7aWYoYT09PW51bGwpe2E9Ynx8bnVsbH1yZXR1cm4gYX0sdmFsdWVUb1JhdzpmdW5jdGlvbihjKXt2YXIgYj10aGlzLGE9Yi5kZWNpbWFsU2VwYXJhdG9yO2M9Yi5wYXJzZVZhbHVlKGMpO2M9Yi5maXhQcmVjaXNpb24oYyk7Yz1FeHQuaXNOdW1iZXIoYyk/YzpwYXJzZUZsb2F0KFN0cmluZyhjKS5yZXBsYWNlKGEsIi4iKSk7Yz1pc05hTihjKT8iIjpTdHJpbmcoYykucmVwbGFjZSgiLiIsYSk7cmV0dXJuIGN9LGdldFN1Ym1pdFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY2FsbFBhcmVudCgpO2lmKCFhLnN1Ym1pdExvY2FsZVNlcGFyYXRvcil7Yj1iLnJlcGxhY2UoYS5kZWNpbWFsU2VwYXJhdG9yLCIuIil9cmV0dXJuIGJ9LG9uQ2hhbmdlOmZ1bmN0aW9uKCl7dGhpcy50b2dnbGVTcGlubmVycygpO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSx0b2dnbGVTcGlubmVyczpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLmdldFZhbHVlKCksYT1jPT09bnVsbDtiLnNldFNwaW5VcEVuYWJsZWQoYXx8YzxiLm1heFZhbHVlKTtiLnNldFNwaW5Eb3duRW5hYmxlZChhfHxjPmIubWluVmFsdWUpfSxzZXRNaW5WYWx1ZTpmdW5jdGlvbihhKXt0aGlzLm1pblZhbHVlPUV4dC5OdW1iZXIuZnJvbShhLE51bWJlci5ORUdBVElWRV9JTkZJTklUWSk7dGhpcy50b2dnbGVTcGlubmVycygpfSxzZXRNYXhWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLm1heFZhbHVlPUV4dC5OdW1iZXIuZnJvbShhLE51bWJlci5NQVhfVkFMVUUpO3RoaXMudG9nZ2xlU3Bpbm5lcnMoKX0scGFyc2VWYWx1ZTpmdW5jdGlvbihhKXthPXBhcnNlRmxvYXQoU3RyaW5nKGEpLnJlcGxhY2UodGhpcy5kZWNpbWFsU2VwYXJhdG9yLCIuIikpO3JldHVybiBpc05hTihhKT9udWxsOmF9LGZpeFByZWNpc2lvbjpmdW5jdGlvbihkKXt2YXIgYz10aGlzLGI9aXNOYU4oZCksYT1jLmRlY2ltYWxQcmVjaXNpb247aWYoYnx8IWQpe3JldHVybiBiPyIiOmR9ZWxzZXtpZighYy5hbGxvd0RlY2ltYWxzfHxhPD0wKXthPTB9fXJldHVybiBwYXJzZUZsb2F0KEV4dC5OdW1iZXIudG9GaXhlZChwYXJzZUZsb2F0KGQpLGEpKX0sYmVmb3JlQmx1cjpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLnBhcnNlVmFsdWUoYi5nZXRSYXdWYWx1ZSgpKTtpZighRXh0LmlzRW1wdHkoYSkpe2Iuc2V0VmFsdWUoYSl9fSxvblNwaW5VcDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoIWEucmVhZE9ubHkpe2Euc2V0VmFsdWUoRXh0Lk51bWJlci5jb25zdHJhaW4oYS5nZXRWYWx1ZSgpK2Euc3RlcCxhLm1pblZhbHVlLGEubWF4VmFsdWUpKX19LG9uU3BpbkRvd246ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKCFhLnJlYWRPbmx5KXthLnNldFZhbHVlKEV4dC5OdW1iZXIuY29uc3RyYWluKGEuZ2V0VmFsdWUoKS1hLnN0ZXAsYS5taW5WYWx1ZSxhLm1heFZhbHVlKSl9fX0pO0V4dC5kZWZpbmUoIkV4dC5sYXlvdXQuY29tcG9uZW50LmZpZWxkLkNvbWJvQm94Iix7ZXh0ZW5kOiJFeHQubGF5b3V0LmNvbXBvbmVudC5maWVsZC5UcmlnZ2VyIixhbGlhczoibGF5b3V0LmNvbWJvYm94IixyZXF1aXJlczpbIkV4dC51dGlsLlRleHRNZXRyaWNzIl0sdHlwZToiY29tYm9ib3giLHN0YXJ0aW5nV2lkdGg6bnVsbCxnZXRUZXh0V2lkdGg6ZnVuY3Rpb24oKXt2YXIgaD10aGlzLGI9aC5vd25lcixsPWIuc3RvcmUsaj1iLmRpc3BsYXlGaWVsZCxkPWwuZGF0YS5sZW5ndGgsaz0iIixlPTAsYz0wLGcsbSxhO2Zvcig7ZTxkO2UrKyl7bT1sLmdldEF0KGUpLmRhdGFbal07Zz1tLmxlbmd0aDtpZihnPmMpe2M9ZztrPW19fWE9TWF0aC5tYXgoaC5jYWxsUGFyZW50KGFyZ3VtZW50cyksYi5pbnB1dEVsLmdldFRleHRXaWR0aChrK2IuZ3Jvd0FwcGVuZCkpO2lmKCFoLnN0YXJ0aW5nV2lkdGh8fGIucmVtb3ZpbmdSZWNvcmRzKXtoLnN0YXJ0aW5nV2lkdGg9YTtpZihhPGIuZ3Jvd01pbil7Yi5kZWZhdWx0TGlzdENvbmZpZy5taW5XaWR0aD1iLmdyb3dNaW59Yi5yZW1vdmluZ1JlY29yZHM9ZmFsc2V9cmV0dXJuKGE8aC5zdGFydGluZ1dpZHRoKT9oLnN0YXJ0aW5nV2lkdGg6YX19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbnRhaW5lci5Db250YWluZXIiLHtleHRlbmQ6IkV4dC5sYXlvdXQuTGF5b3V0IixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5sYXlvdXQuQ29udGFpbmVyTGF5b3V0IixtaXhpbnM6e2VsZW1lbnRDdDoiRXh0LnV0aWwuRWxlbWVudENvbnRhaW5lciJ9LHJlcXVpcmVzOlsiRXh0LlhUZW1wbGF0ZSJdLHR5cGU6ImNvbnRhaW5lciIsbWFuYWdlT3ZlcmZsb3c6MCxiZWdpbkNvbGxhcHNlOkV4dC5lbXB0eUZuLGJlZ2luRXhwYW5kOkV4dC5lbXB0eUZuLGFuaW1hdGVQb2xpY3k6bnVsbCxjaGlsZEVsczpbIm92ZXJmbG93UGFkZGVyRWwiXSxyZW5kZXJUcGw6WyJ7JXRoaXMucmVuZGVyQm9keShvdXQsdmFsdWVzKSV9Il0sdXNlc0NvbnRhaW5lckhlaWdodDp0cnVlLHVzZXNDb250YWluZXJXaWR0aDp0cnVlLHVzZXNIZWlnaHQ6dHJ1ZSx1c2VzV2lkdGg6dHJ1ZSxyZXNlcnZlU2Nyb2xsYmFyOmZhbHNlLGxhc3RPdmVyZmxvd0FkanVzdDp7d2lkdGg6MCxoZWlnaHQ6MH0sY29uc3RydWN0b3I6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLm1peGlucy5lbGVtZW50Q3QuY29uc3RydWN0b3IuY2FsbCh0aGlzKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudCgpO3RoaXMubWl4aW5zLmVsZW1lbnRDdC5kZXN0cm95LmNhbGwodGhpcyl9LGluaXRMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9RXh0LmdldFNjcm9sbGJhclNpemUoKS53aWR0aDtiLmNhbGxQYXJlbnQoKTtpZihhJiZiLm1hbmFnZU92ZXJmbG93JiYhYi5oYXNPd25Qcm9wZXJ0eSgibGFzdE92ZXJmbG93QWRqdXN0Iikpe2lmKGIub3duZXIuYXV0b1Njcm9sbHx8Yi5yZXNlcnZlU2Nyb2xsYmFyKXtiLmxhc3RPdmVyZmxvd0FkanVzdD17d2lkdGg6YSxoZWlnaHQ6MH19fX0sYmVnaW5MYXlvdXQ6ZnVuY3Rpb24oYSl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS50YXJnZXRDb250ZXh0PWEuZ2V0RWwoImdldFRhcmdldCIsdGhpcyk7dGhpcy5jYWNoZUNoaWxkSXRlbXMoYSl9LGJlZ2luTGF5b3V0Q3ljbGU6ZnVuY3Rpb24oYyxhKXt2YXIgYj10aGlzLGQ9Yi5vdmVyZmxvd1BhZGRlckVsO2IuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKCFjLnN0YXRlLm92ZXJmbG93QWRqdXN0KXtjLnN0YXRlLm92ZXJmbG93QWRqdXN0PWIubGFzdE92ZXJmbG93QWRqdXN0fWlmKGEpe2lmKGIudXNlc0NvbnRhaW5lckhlaWdodCl7KytjLmNvbnN1bWVyc0NvbnRhaW5lckhlaWdodH1pZihiLnVzZXNDb250YWluZXJXaWR0aCl7KytjLmNvbnN1bWVyc0NvbnRhaW5lcldpZHRofX1pZihkKXtkLnNldFN0eWxlKCJkaXNwbGF5Iiwibm9uZSIpfX0sY29tcGxldGVMYXlvdXQ6ZnVuY3Rpb24oYSl7dGhpcy5sYXN0T3ZlcmZsb3dBZGp1c3Q9YS5zdGF0ZS5vdmVyZmxvd0FkanVzdH0sY2FjaGVDaGlsZEl0ZW1zOmZ1bmN0aW9uKGUpe3ZhciBjPWUuY29udGV4dCxnPVtdLGE9dGhpcy5nZXRWaXNpYmxlSXRlbXMoKSxkPWEubGVuZ3RoLGI7ZS5jaGlsZEl0ZW1zPWc7ZS52aXNpYmxlSXRlbXM9YTtmb3IoYj0wO2I8ZDsrK2Ipe2cucHVzaChjLmdldENtcChhW2JdKSl9fSxjYWNoZUVsZW1lbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vd25lcjt0aGlzLmFwcGx5Q2hpbGRFbHMoYS5lbCxhLmlkKX0sY2FsY3VsYXRlQ29udGVudFNpemU6ZnVuY3Rpb24ocSxtKXt2YXIgQj10aGlzLGQ9KG18fDApfEIubWFuYWdlT3ZlcmZsb3d8KChxLndpZHRoTW9kZWwuc2hyaW5rV3JhcD8xOjApfChxLmhlaWdodE1vZGVsLnNocmlua1dyYXA/MjowKSksYz0oZCYxKXx8dW5kZWZpbmVkLGo9KGQmMil8fHVuZGVmaW5lZCxiPXEuY2hpbGRJdGVtcyxnPWIubGVuZ3RoLHc9MCx1PTAsbj0wLGU9cS5wcm9wcyxyLHAsbyxBLGgsbCx0LHoseSxzLHgsYSx2LGs7aWYoYyl7aWYoaXNOYU4oZS5jb250ZW50V2lkdGgpKXsrK259ZWxzZXtjPXVuZGVmaW5lZH19aWYoail7aWYoaXNOYU4oZS5jb250ZW50SGVpZ2h0KSl7KytufWVsc2V7aj11bmRlZmluZWR9fWlmKG4pe2Zvcih4PTA7eDxnOysreCl7dD1iW3hdO2w9dC50YXJnZXQ7cz1qJiZ0LmdldFByb3AoImhlaWdodCIpO3Y9YyYmdC5nZXRQcm9wKCJ3aWR0aCIpO2E9dC5nZXRNYXJnaW5JbmZvKCk7aWYoKGMmJmlzTmFOKGwueCkpfHwoaiYmaXNOYU4obC55KSkpe2s9bC5lbC5nZXRYWSgpO2lmKCFyKXtyPXEudGFyZ2V0Q29udGV4dC5lbC5nZXRYWSgpO2g9cS50YXJnZXRDb250ZXh0LmdldEJvcmRlckluZm8oKTtwPXJbMF0raC5sZWZ0O289clsxXStoLnRvcH16PWtbMF0tcDt5PWtbMV0tb31lbHNle3o9bC54O3k9bC55fXMrPWEuYm90dG9tO3YrPWEucmlnaHQ7dz1NYXRoLm1heCh3LHkrcyk7dT1NYXRoLm1heCh1LHordik7aWYoaXNOYU4odykmJmlzTmFOKHUpKXtCLmRvbmU9ZmFsc2U7cmV0dXJufX1pZihjfHxqKXtBPXEudGFyZ2V0Q29udGV4dC5nZXRQYWRkaW5nSW5mbygpfWlmKGMmJiFxLnNldENvbnRlbnRXaWR0aCh1K0EucmlnaHQpKXtCLmRvbmU9ZmFsc2V9aWYoaiYmIXEuc2V0Q29udGVudEhlaWdodCh3K0EuYm90dG9tKSl7Qi5kb25lPWZhbHNlfX19LGNhbGN1bGF0ZU92ZXJmbG93OmZ1bmN0aW9uKG4scyxoKXt2YXIgdz10aGlzLGE9dy5vd25lcixsPXcubWFuYWdlT3ZlcmZsb3csZD1uLnN0YXRlLG09ZC5vdmVyZmxvd0FkanVzdCxnLGssYyxvLGIscSx0LGoscixlLHAsdSxpLHY7aWYobCYmIWQuc2Vjb25kUGFzcyYmIXcucmVzZXJ2ZVNjcm9sbGJhcil7aWYoYS5hdXRvU2Nyb2xsKXtpPXY9dHJ1ZX1lbHNle2lmKGEub3ZlcmZsb3dYKXtpPWEub3ZlcmZsb3dYPT0iYXV0byJ9ZWxzZXtxPW4udGFyZ2V0Q29udGV4dC5nZXRTdHlsZSgib3ZlcmZsb3cteCIpO2k9cSYmcSE9ImhpZGRlbiImJnEhPSJzY3JvbGwifWlmKGEub3ZlcmZsb3dZKXt2PWEub3ZlcmZsb3dZPT0iYXV0byJ9ZWxzZXtxPW4udGFyZ2V0Q29udGV4dC5nZXRTdHlsZSgib3ZlcmZsb3cteSIpO3Y9cSYmcSE9ImhpZGRlbiImJnEhPSJzY3JvbGwifX1pZighcy5nb3RXaWR0aCl7aT1mYWxzZX1pZighcy5nb3RIZWlnaHQpe3Y9ZmFsc2V9aWYoaXx8dil7dD1FeHQuZ2V0U2Nyb2xsYmFyU2l6ZSgpO2o9bi5wZWVrKCJjb250ZW50V2lkdGgiKTtyPW4ucGVlaygiY29udGVudEhlaWdodCIpO2U9cy53aWR0aDtwPXMuaGVpZ2h0O3U9dy5nZXRTY3JvbGxiYXJzTmVlZGVkKGUscCxqLHIpO2Qub3ZlcmZsb3dTdGF0ZT11O2lmKHR5cGVvZiBoPT0ibnVtYmVyIil7dSY9fmh9bT17d2lkdGg6KGkmJih1JjIpKT90LndpZHRoOjAsaGVpZ2h0Oih2JiYodSYxKSk/dC5oZWlnaHQ6MH07aWYobS53aWR0aCE9PXcubGFzdE92ZXJmbG93QWRqdXN0LndpZHRofHxtLmhlaWdodCE9PXcubGFzdE92ZXJmbG93QWRqdXN0LmhlaWdodCl7dy5kb25lPWZhbHNlO24uaW52YWxpZGF0ZSh7c3RhdGU6e292ZXJmbG93QWRqdXN0Om0sb3ZlcmZsb3dTdGF0ZTpkLm92ZXJmbG93U3RhdGUsc2Vjb25kUGFzczp0cnVlfX0pfX19aWYoIXcuZG9uZSl7cmV0dXJufWM9bi5wYWRFbENvbnRleHR8fChuLnBhZEVsQ29udGV4dD1uLmdldEVsKCJvdmVyZmxvd1BhZGRlckVsIix3KSk7aWYoYyl7dT1kLm92ZXJmbG93U3RhdGU7Zz1zLndpZHRoO2s9MDtpZih1KXtvPW4udGFyZ2V0Q29udGV4dC5nZXRQYWRkaW5nSW5mbygpO2I9dy5zY3JvbGxSYW5nZUZsYWdzO2lmKCh1JjIpJiYoYiYxKSl7ays9by5ib3R0b219aWYoKHUmMSkmJihiJjQpKXtnKz1vLnJpZ2h0fWMuc2V0UHJvcCgiZGlzcGxheSIsIiIpO2Muc2V0U2l6ZShnLGspfWVsc2V7Yy5zZXRQcm9wKCJkaXNwbGF5Iiwibm9uZSIpfX19LGNvbmZpZ3VyZUl0ZW06ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWIub3duZXIuaXRlbUNscyxkPVtdLmNvbmNhdChiLml0ZW1DbHN8fFtdKTtiLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihhKXtkPUV4dC5BcnJheS5wdXNoKGQsYSl9Yy5hZGRDbHMoZCl9LGRvUmVuZGVyQm9keTpmdW5jdGlvbihhLGIpe3RoaXMucmVuZGVySXRlbXMoYSxiKTt0aGlzLnJlbmRlckNvbnRlbnQoYSxiKX0sZG9SZW5kZXJDb250YWluZXI6ZnVuY3Rpb24oYixlKXt2YXIgYz1lLiRjb21wLmxheW91dCxhPWMuZ2V0UmVuZGVyVHBsKCksZD1jLmdldFJlbmRlckRhdGEoKTthLmFwcGx5T3V0KGQsYil9LGRvUmVuZGVySXRlbXM6ZnVuY3Rpb24oYixkKXt2YXIgYz1kLiRsYXlvdXQsYT1jLmdldFJlbmRlclRyZWUoKTtpZihhKXtFeHQuRG9tSGVscGVyLmdlbmVyYXRlTWFya3VwKGEsYil9fSxkb1JlbmRlclBhZGRlcjpmdW5jdGlvbihiLGQpe3ZhciBjPWQuJGxheW91dCxhPWMub3duZXIsZT1jLmdldFNjcm9sbFJhbmdlRmxhZ3MoKTtpZihjLm1hbmFnZU92ZXJmbG93PT0yKXtpZihlJjUpe2IucHVzaCgnPGRpdiBpZD0iJyxhLmlkLCctb3ZlcmZsb3dQYWRkZXJFbCIgJywnc3R5bGU9ImZvbnQtc2l6ZTogMXB4OyB3aWR0aDoxcHg7IGhlaWdodDogMXB4OycpO2IucHVzaCgnIj48L2Rpdj4nKTtjLnNjcm9sbFJhbmdlRmxhZ3M9ZX19fSxmaW5pc2hSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGMsYTtiLmNhbGxQYXJlbnQoKTtiLmNhY2hlRWxlbWVudHMoKTtjPWIuZ2V0UmVuZGVyVGFyZ2V0KCk7YT1iLmdldExheW91dEl0ZW1zKCk7aWYoYi50YXJnZXRDbHMpe2IuZ2V0VGFyZ2V0KCkuYWRkQ2xzKGIudGFyZ2V0Q2xzKX1iLmZpbmlzaFJlbmRlckl0ZW1zKGMsYSl9LG5vdGlmeU93bmVyOmZ1bmN0aW9uKCl7dGhpcy5vd25lci5hZnRlckxheW91dCh0aGlzKX0sZ2V0Q29udGFpbmVyU2l6ZTpmdW5jdGlvbihjLGgpe3ZhciBkPWMudGFyZ2V0Q29udGV4dCxnPWQuZ2V0RnJhbWVJbmZvKCksaz1kLmdldFBhZGRpbmdJbmZvKCksaj0wLGw9MCxhPWMuc3RhdGUub3ZlcmZsb3dBZGp1c3QsZSxpLGIsbTtpZighYy53aWR0aE1vZGVsLnNocmlua1dyYXApeysrbDtiPWg/ZC5nZXREb21Qcm9wKCJ3aWR0aCIpOmQuZ2V0UHJvcCgid2lkdGgiKTtlPSh0eXBlb2YgYj09Im51bWJlciIpO2lmKGUpeysrajtiLT1nLndpZHRoK2sud2lkdGg7aWYoYSl7Yi09YS53aWR0aH19fWlmKCFjLmhlaWdodE1vZGVsLnNocmlua1dyYXApeysrbDttPWg/ZC5nZXREb21Qcm9wKCJoZWlnaHQiKTpkLmdldFByb3AoImhlaWdodCIpO2k9KHR5cGVvZiBtPT0ibnVtYmVyIik7aWYoaSl7KytqO20tPWcuaGVpZ2h0K2suaGVpZ2h0O2lmKGEpe20tPWEuaGVpZ2h0fX19cmV0dXJue3dpZHRoOmIsaGVpZ2h0Om0sbmVlZGVkOmwsZ290OmosZ290QWxsOmo9PWwsZ290V2lkdGg6ZSxnb3RIZWlnaHQ6aX19LGdldExheW91dEl0ZW1zOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5vd25lcixiPWEmJmEuaXRlbXM7cmV0dXJuKGImJmIuaXRlbXMpfHxbXX0sZ2V0UmVuZGVyRGF0YTpmdW5jdGlvbigpe3ZhciBhPXRoaXMub3duZXI7cmV0dXJueyRjb21wOmEsJGxheW91dDp0aGlzLG93bmVySWQ6YS5pZH19LGdldFJlbmRlcmVkSXRlbXM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGg9ZS5nZXRSZW5kZXJUYXJnZXQoKSxhPWUuZ2V0TGF5b3V0SXRlbXMoKSxkPWEubGVuZ3RoLGc9W10sYixjO2ZvcihiPTA7YjxkO2IrKyl7Yz1hW2JdO2lmKGMucmVuZGVyZWQmJmUuaXNWYWxpZFBhcmVudChjLGgsYikpe2cucHVzaChjKX19cmV0dXJuIGd9LGdldFJlbmRlclRhcmdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm93bmVyLmdldFRhcmdldEVsKCl9LGdldEVsZW1lbnRUYXJnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRSZW5kZXJUYXJnZXQoKX0sZ2V0UmVuZGVyVHBsOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPUV4dC5YVGVtcGxhdGUuZ2V0VHBsKHRoaXMsInJlbmRlclRwbCIpO2lmKCFiLnJlbmRlckNvbnRlbnQpe2Eub3duZXIuc2V0dXBSZW5kZXJUcGwoYil9cmV0dXJuIGJ9LGdldFJlbmRlclRyZWU6ZnVuY3Rpb24oKXt2YXIgYSxjPXRoaXMub3duZXIuaXRlbXMsZCxiPXt9O2Rve2Q9Yy5nZW5lcmF0aW9uO2E9dGhpcy5nZXRJdGVtc1JlbmRlclRyZWUodGhpcy5nZXRMYXlvdXRJdGVtcygpLGIpfXdoaWxlKGMuZ2VuZXJhdGlvbiE9PWQpO3JldHVybiBhfSxnZXRTY3JvbGxiYXJzTmVlZGVkOmZ1bmN0aW9uKGMsaSxiLGgpe3ZhciBhPUV4dC5nZXRTY3JvbGxiYXJTaXplKCksZT10eXBlb2YgYz09Im51bWJlciIsaj10eXBlb2YgaT09Im51bWJlciIsZz0wLGQ9MDtpZighYS53aWR0aCl7cmV0dXJuIDB9aWYoaiYmaTxoKXtkPTI7Yy09YS53aWR0aH1pZihlJiZjPGIpe2c9MTtpZighZCYmail7aS09YS5oZWlnaHQ7aWYoaTxoKXtkPTJ9fX1yZXR1cm4gZCtnfSxnZXRTY3JvbGxSYW5nZUZsYWdzOihmdW5jdGlvbigpe3ZhciBhPS0xO3JldHVybiBmdW5jdGlvbigpe2lmKGE8MCl7dmFyIGc9RXh0LmdldEJvZHkoKS5jcmVhdGVDaGlsZCh7Y2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJib3JkZXItYm94IixzdHlsZTp7d2lkdGg6IjEwMHB4IixoZWlnaHQ6IjEwMHB4IixwYWRkaW5nOiIxMHB4IixvdmVyZmxvdzoiYXV0byJ9LGNoaWxkcmVuOlt7c3R5bGU6e2JvcmRlcjoiMXB4IHNvbGlkIHJlZCIsd2lkdGg6IjE1MHB4IixoZWlnaHQ6IjE1MHB4IixtYXJnaW46IjAgNXB4IDVweCAwIn19XX0pLGQ9Zy5kb20uc2Nyb2xsSGVpZ2h0LGM9Zy5kb20uc2Nyb2xsV2lkdGgsZT17MTc1OjAsMTY1OjEsMTcwOjIsMTYwOjN9LGI9ezE3NTowLDE2NTo0LDE3MDo4LDE2MDoxMn07YT0oZVtkXXx8MCl8KGJbY118fDApO2cucmVtb3ZlKCl9cmV0dXJuIGF9fSgpKSxnZXRUYXJnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5vd25lci5nZXRUYXJnZXRFbCgpfSxnZXRWaXNpYmxlSXRlbXM6ZnVuY3Rpb24oKXt2YXIgZz10aGlzLmdldFJlbmRlclRhcmdldCgpLGI9dGhpcy5nZXRMYXlvdXRJdGVtcygpLGU9Yi5sZW5ndGgsYT1bXSxjLGQ7Zm9yKGM9MDtjPGU7YysrKXtkPWJbY107aWYoZC5yZW5kZXJlZCYmdGhpcy5pc1ZhbGlkUGFyZW50KGQsZyxjKSYmZC5oaWRkZW4hPT10cnVlKXthLnB1c2goZCl9fXJldHVybiBhfSxzZXR1cFJlbmRlclRwbDpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2IucmVuZGVyQm9keT1hLmRvUmVuZGVyQm9keTtiLnJlbmRlckNvbnRhaW5lcj1hLmRvUmVuZGVyQ29udGFpbmVyO2IucmVuZGVySXRlbXM9YS5kb1JlbmRlckl0ZW1zO2IucmVuZGVyUGFkZGVyPWEuZG9SZW5kZXJQYWRkZXJ9fSk7RXh0LmRlZmluZSgiRXh0LmxheW91dC5jb250YWluZXIuQXV0byIse2FsaWFzOlsibGF5b3V0LmF1dG8iLCJsYXlvdXQuYXV0b2NvbnRhaW5lciJdLGV4dGVuZDoiRXh0LmxheW91dC5jb250YWluZXIuQ29udGFpbmVyIix0eXBlOiJhdXRvY29udGFpbmVyIixjaGlsZEVsczpbImNsZWFyRWwiXSxyZW5kZXJUcGw6WyJ7JXRoaXMucmVuZGVyQm9keShvdXQsdmFsdWVzKSV9IiwnPGRpdiBpZD0ie293bmVySWR9LWNsZWFyRWwiIGNsYXNzPSInLEV4dC5iYXNlQ1NTUHJlZml4LCdjbGVhciIgcm9sZT0icHJlc2VudGF0aW9uIj48L2Rpdj4nXSxjYWxjdWxhdGU6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcyxjO2lmKCFiLmhhc0RvbVByb3AoImNvbnRhaW5lckNoaWxkcmVuRG9uZSIpKXthLmRvbmU9ZmFsc2V9ZWxzZXtjPWEuZ2V0Q29udGFpbmVyU2l6ZShiKTtpZighYy5nb3RBbGwpe2EuZG9uZT1mYWxzZX1hLmNhbGN1bGF0ZUNvbnRlbnRTaXplKGIpfX19KTtFeHQuZGVmaW5lKCJFeHQuY29udGFpbmVyLkFic3RyYWN0Q29udGFpbmVyIix7ZXh0ZW5kOiJFeHQuQ29tcG9uZW50IixyZXF1aXJlczpbIkV4dC51dGlsLk1peGVkQ29sbGVjdGlvbiIsIkV4dC5sYXlvdXQuY29udGFpbmVyLkF1dG8iLCJFeHQuWkluZGV4TWFuYWdlciJdLHJlbmRlclRwbDoieyV0aGlzLnJlbmRlckNvbnRhaW5lcihvdXQsdmFsdWVzKSV9IixzdXNwZW5kTGF5b3V0OmZhbHNlLGF1dG9EZXN0cm95OnRydWUsZGVmYXVsdFR5cGU6InBhbmVsIixkZXRhY2hPblJlbW92ZTp0cnVlLGlzQ29udGFpbmVyOnRydWUsbGF5b3V0Q291bnRlcjowLGJhc2VDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImNvbnRhaW5lciIsYnViYmxlRXZlbnRzOlsiYWRkIiwicmVtb3ZlIl0saW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5hZGRFdmVudHMoImFmdGVybGF5b3V0IiwiYmVmb3JlYWRkIiwiYmVmb3JlcmVtb3ZlIiwiYWRkIiwicmVtb3ZlIik7YS5jYWxsUGFyZW50KCk7YS5nZXRMYXlvdXQoKTthLmluaXRJdGVtcygpfSxpbml0SXRlbXM6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5pdGVtcztiLml0ZW1zPW5ldyBFeHQudXRpbC5BYnN0cmFjdE1peGVkQ29sbGVjdGlvbihmYWxzZSxiLmdldENvbXBvbmVudElkKTtpZihhKXtpZighRXh0LmlzQXJyYXkoYSkpe2E9W2FdfWIuYWRkKGEpfX0sZ2V0Rm9jdXNFbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRhcmdldEVsKCl9LGZpbmlzaFJlbmRlckNoaWxkcmVuOmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KCk7dmFyIGE9dGhpcy5nZXRMYXlvdXQoKTtpZihhKXthLmZpbmlzaFJlbmRlcigpfX0sYmVmb3JlUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuZ2V0TGF5b3V0KCk7Yi5jYWxsUGFyZW50KCk7aWYoIWEuaW5pdGlhbGl6ZWQpe2EuaW5pdExheW91dCgpfX0sc2V0dXBSZW5kZXJUcGw6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5nZXRMYXlvdXQoKTt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTthLnNldHVwUmVuZGVyVHBsKGIpfSxzZXRMYXlvdXQ6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5sYXlvdXQ7aWYoYSYmYS5pc0xheW91dCYmYSE9Yil7YS5zZXRPd25lcihudWxsKX10aGlzLmxheW91dD1iO2Iuc2V0T3duZXIodGhpcyl9LGdldExheW91dDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoIWEubGF5b3V0fHwhYS5sYXlvdXQuaXNMYXlvdXQpe2Euc2V0TGF5b3V0KEV4dC5sYXlvdXQuTGF5b3V0LmNyZWF0ZShhLmxheW91dCxhLnNlbGYucHJvdG90eXBlLmxheW91dHx8ImF1dG9jb250YWluZXIiKSl9cmV0dXJuIGEubGF5b3V0fSxkb0xheW91dDpmdW5jdGlvbigpe3RoaXMudXBkYXRlTGF5b3V0KCk7cmV0dXJuIHRoaXN9LGFmdGVyTGF5b3V0OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7KythLmxheW91dENvdW50ZXI7aWYoYS5oYXNMaXN0ZW5lcnMuYWZ0ZXJsYXlvdXQpe2EuZmlyZUV2ZW50KCJhZnRlcmxheW91dCIsYSxiKX19LHByZXBhcmVJdGVtczpmdW5jdGlvbihiLGQpe2lmKEV4dC5pc0FycmF5KGIpKXtiPWIuc2xpY2UoKX1lbHNle2I9W2JdfXZhciBjPTAsYT1iLmxlbmd0aCxlO2Zvcig7YzxhO2MrKyl7ZT1iW2NdO2lmKGU9PW51bGwpe0V4dC5BcnJheS5lcmFzZShiLGMsMSk7LS1jOy0tYX1lbHNle2lmKGQpe2U9dGhpcy5hcHBseURlZmF1bHRzKGUpfWJbY109dGhpcy5sb29rdXBDb21wb25lbnQoZSl9fXJldHVybiBifSxhcHBseURlZmF1bHRzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuZGVmYXVsdHM7aWYoYil7aWYoRXh0LmlzRnVuY3Rpb24oYikpe2I9Yi5jYWxsKHRoaXMsYSl9aWYoRXh0LmlzU3RyaW5nKGEpKXthPUV4dC5Db21wb25lbnRNYW5hZ2VyLmdldChhKX1FeHQuYXBwbHlJZihhLGIpfXJldHVybiBhfSxsb29rdXBDb21wb25lbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuKHR5cGVvZiBhPT0ic3RyaW5nIik/RXh0LkNvbXBvbmVudE1hbmFnZXIuZ2V0KGEpOkV4dC5Db21wb25lbnRNYW5hZ2VyLmNyZWF0ZShhLHRoaXMuZGVmYXVsdFR5cGUpfSxnZXRDb21wb25lbnRJZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRJdGVtSWQoKX0sYWRkOmZ1bmN0aW9uKCl7dmFyIGo9dGhpcyxnPUV4dC5BcnJheS5zbGljZShhcmd1bWVudHMpLGQ9KHR5cGVvZiBnWzBdPT0ibnVtYmVyIik/Zy5zaGlmdCgpOi0xLGM9ai5nZXRMYXlvdXQoKSxsLGgsYixhLG0sayxlO2lmKGcubGVuZ3RoPT0xJiZFeHQuaXNBcnJheShnWzBdKSl7aD1nWzBdO2w9dHJ1ZX1lbHNle2g9Z31lPWg9ai5wcmVwYXJlSXRlbXMoaCx0cnVlKTthPWgubGVuZ3RoO2lmKGoucmVuZGVyZWQpe0V4dC5zdXNwZW5kTGF5b3V0cygpfWlmKCFsJiZhPT0xKXtlPWhbMF19Zm9yKGI9MDtiPGE7YisrKXttPWhbYl07az0oZDwwKT9qLml0ZW1zLmxlbmd0aDooZCtiKTtpZihtLmZsb2F0aW5nKXttLm9uQWRkZWQoaixrKX1lbHNle2lmKCghai5oYXNMaXN0ZW5lcnMuYmVmb3JlYWRkfHxqLmZpcmVFdmVudCgiYmVmb3JlYWRkIixqLG0saykhPT1mYWxzZSkmJmoub25CZWZvcmVBZGQobSkhPT1mYWxzZSl7ai5pdGVtcy5pbnNlcnQoayxtKTttLm9uQWRkZWQoaixrKTtqLm9uQWRkKG0sayk7Yy5vbkFkZChtLGspO2lmKGouaGFzTGlzdGVuZXJzLmFkZCl7ai5maXJlRXZlbnQoImFkZCIsaixtLGspfX19fWoudXBkYXRlTGF5b3V0KCk7aWYoai5yZW5kZXJlZCl7RXh0LnJlc3VtZUxheW91dHModHJ1ZSl9cmV0dXJuIGV9LG9uQWRkOkV4dC5lbXB0eUZuLG9uUmVtb3ZlOkV4dC5lbXB0eUZuLGluc2VydDpmdW5jdGlvbihiLGEpe3JldHVybiB0aGlzLmFkZChiLGEpfSxtb3ZlOmZ1bmN0aW9uKGIsZCl7dmFyIGE9dGhpcy5pdGVtcyxjO2M9YS5yZW1vdmVBdChiKTtpZihjPT09ZmFsc2Upe3JldHVybiBmYWxzZX1hLmluc2VydChkLGMpO3RoaXMuZG9MYXlvdXQoKTtyZXR1cm4gY30sb25CZWZvcmVBZGQ6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWMuYm9yZGVyO2lmKGMub3duZXJDdCl7Yy5vd25lckN0LnJlbW92ZShjLGZhbHNlKX1pZihiLmJvcmRlcj09PWZhbHNlfHxiLmJvcmRlcj09PTApe2MuYm9yZGVyPUV4dC5pc0RlZmluZWQoYSkmJmEhPT1mYWxzZSYmYSE9PTB9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXt2YXIgZD10aGlzLGU9ZC5nZXRDb21wb25lbnQoYSk7aWYoZSYmKCFkLmhhc0xpc3RlbmVycy5iZWZvcmVyZW1vdmV8fGQuZmlyZUV2ZW50KCJiZWZvcmVyZW1vdmUiLGQsZSkhPT1mYWxzZSkpe2QuZG9SZW1vdmUoZSxiKTtpZihkLmhhc0xpc3RlbmVycy5yZW1vdmUpe2QuZmlyZUV2ZW50KCJyZW1vdmUiLGQsZSl9aWYoIWQuZGVzdHJveWluZyl7ZC5kb0xheW91dCgpfX1yZXR1cm4gZX0sZG9SZW1vdmU6ZnVuY3Rpb24oYyxiKXt2YXIgZT10aGlzLGQ9ZS5sYXlvdXQsYT1kJiZlLnJlbmRlcmVkLGc9Yj09PXRydWV8fChiIT09ZmFsc2UmJmUuYXV0b0Rlc3Ryb3kpO2I9Yj09PXRydWV8fChiIT09ZmFsc2UmJmUuYXV0b0Rlc3Ryb3kpO2UuaXRlbXMucmVtb3ZlKGMpO2Mub25SZW1vdmVkKGcpO2lmKGEpe2Qub25SZW1vdmUoYyl9ZS5vblJlbW92ZShjLGcpO2lmKGcpe2MuZGVzdHJveSgpfWVsc2V7aWYoYSl7ZC5hZnRlclJlbW92ZShjKX1pZihlLmRldGFjaE9uUmVtb3ZlJiZjLnJlbmRlcmVkKXtFeHQuZ2V0RGV0YWNoZWRCb2R5KCkuYXBwZW5kQ2hpbGQoYy5nZXRFbCgpKX19fSxyZW1vdmVBbGw6ZnVuY3Rpb24oYyl7dmFyIGg9dGhpcyxlPWguaXRlbXMuaXRlbXMuc2xpY2UoKSxiPVtdLGQ9MCxhPWUubGVuZ3RoLGc7aC5zdXNwZW5kTGF5b3V0cygpO2Zvcig7ZDxhO2QrKyl7Zz1lW2RdO2gucmVtb3ZlKGcsYyk7aWYoZy5vd25lckN0IT09aCl7Yi5wdXNoKGcpfX1oLnJlc3VtZUxheW91dHMoISFhKTtyZXR1cm4gYn0sZ2V0UmVmSXRlbXM6ZnVuY3Rpb24oYyl7dmFyIGg9dGhpcyxkPWguaXRlbXMuaXRlbXMsYj1kLmxlbmd0aCxlPTAsZyxhPVtdO2Zvcig7ZTxiO2UrKyl7Zz1kW2VdO2EucHVzaChnKTtpZihjJiZnLmdldFJlZkl0ZW1zKXthLnB1c2guYXBwbHkoYSxnLmdldFJlZkl0ZW1zKHRydWUpKX19aWYoaC5mbG9hdGluZ0l0ZW1zJiZoLmZsb2F0aW5nSXRlbXMuYWNjZXNzTGlzdCl7YS5wdXNoLmFwcGx5KGEsaC5mbG9hdGluZ0l0ZW1zLmFjY2Vzc0xpc3QpfXJldHVybiBhfSxjYXNjYWRlOmZ1bmN0aW9uKGwsbSxhKXt2YXIgaz10aGlzLGU9ay5pdGVtcz9rLml0ZW1zLml0ZW1zOltdLGc9ZS5sZW5ndGgsZD0wLGosaD1hP2EuY29uY2F0KGspOltrXSxiPWgubGVuZ3RoLTE7aWYobC5hcHBseShtfHxrLGgpIT09ZmFsc2Upe2Zvcig7ZDxnO2QrKyl7aj1lW2RdO2lmKGouY2FzY2FkZSl7ai5jYXNjYWRlKGwsbSxhKX1lbHNle2hbYl09ajtsLmFwcGx5KG18fGUsaCl9fX1yZXR1cm4gdGhpc30saXNBbmNlc3RvcjpmdW5jdGlvbihhKXt3aGlsZShhKXtpZihhLm93bmVyQ3Q9PT10aGlzKXtyZXR1cm4gdHJ1ZX1hPWEub3duZXJDdH19LGdldENvbXBvbmVudDpmdW5jdGlvbihhKXtpZihFeHQuaXNPYmplY3QoYSkpe2E9YS5nZXRJdGVtSWQoKX1yZXR1cm4gdGhpcy5pdGVtcy5nZXQoYSl9LHF1ZXJ5OmZ1bmN0aW9uKGEpe2E9YXx8IioiO3JldHVybiBFeHQuQ29tcG9uZW50UXVlcnkucXVlcnkoYSx0aGlzKX0scXVlcnlCeTpmdW5jdGlvbihnLGUpe3ZhciBjPVtdLGI9dGhpcy5nZXRSZWZJdGVtcyh0cnVlKSxkPTAsYT1iLmxlbmd0aCxoO2Zvcig7ZDxhOysrZCl7aD1iW2RdO2lmKGcuY2FsbChlfHxoLGgpIT09ZmFsc2Upe2MucHVzaChoKX19cmV0dXJuIGN9LHF1ZXJ5QnlJZDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kb3duKCIjIithKX0sY2hpbGQ6ZnVuY3Rpb24oYSl7YT1hfHwiIjtyZXR1cm4gdGhpcy5xdWVyeSgiPiAiK2EpWzBdfHxudWxsfSxuZXh0Q2hpbGQ6ZnVuY3Rpb24oZSxiKXt2YXIgYz10aGlzLGEsZD1jLml0ZW1zLmluZGV4T2YoZSk7aWYoZCE9PS0xKXthPWI/RXh0LkNvbXBvbmVudFF1ZXJ5KGIsYy5pdGVtcy5pdGVtcy5zbGljZShkKzEpKTpjLml0ZW1zLmdldEF0KGQrMSk7aWYoIWEmJmMub3duZXJDdCl7YT1jLm93bmVyQ3QubmV4dENoaWxkKGMsYil9fXJldHVybiBhfSxwcmV2Q2hpbGQ6ZnVuY3Rpb24oZSxiKXt2YXIgYz10aGlzLGEsZD1jLml0ZW1zLmluZGV4T2YoZSk7aWYoZCE9PS0xKXthPWI/RXh0LkNvbXBvbmVudFF1ZXJ5KGIsYy5pdGVtcy5pdGVtcy5zbGljZShkKzEpKTpjLml0ZW1zLmdldEF0KGQrMSk7aWYoIWEmJmMub3duZXJDdCl7YT1jLm93bmVyQ3QubmV4dENoaWxkKGMsYil9fXJldHVybiBhfSxkb3duOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXJ5KGEpWzBdfHxudWxsfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt2YXIgZD10aGlzLmdldENoaWxkSXRlbXNUb0Rpc2FibGUoKSxjPWQubGVuZ3RoLGIsYTtmb3IoYT0wO2E8YzthKyspe2I9ZFthXTtpZihiLnJlc2V0RGlzYWJsZSl7Yi5lbmFibGUoKX19fSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dmFyIGQ9dGhpcy5nZXRDaGlsZEl0ZW1zVG9EaXNhYmxlKCksYz1kLmxlbmd0aCxiLGE7Zm9yKGE9MDthPGM7YSsrKXtiPWRbYV07aWYoYi5yZXNldERpc2FibGUhPT1mYWxzZSYmIWIuZGlzYWJsZWQpe2IuZGlzYWJsZSgpO2IucmVzZXREaXNhYmxlPXRydWV9fX0sZ2V0Q2hpbGRJdGVtc1RvRGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnF1ZXJ5KCJbaXNGb3JtRmllbGRdLGJ1dHRvbiIpfSxiZWZvcmVMYXlvdXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdHJ1ZX0sYmVmb3JlRGVzdHJveTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLml0ZW1zLGQ7aWYoYSl7d2hpbGUoKGQ9YS5maXJzdCgpKSl7Yi5kb1JlbW92ZShkLHRydWUpfX1FeHQuZGVzdHJveShiLmxheW91dCk7Yi5jYWxsUGFyZW50KCl9fSk7RXh0LmRlZmluZSgiRXh0LmNvbnRhaW5lci5Db250YWluZXIiLHtleHRlbmQ6IkV4dC5jb250YWluZXIuQWJzdHJhY3RDb250YWluZXIiLGFsaWFzOiJ3aWRnZXQuY29udGFpbmVyIixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5Db250YWluZXIiLGZpcmVIaWVyYXJjaHlFdmVudDpmdW5jdGlvbihhKXt0aGlzLmhpZXJhcmNoeUV2ZW50U291cmNlLmZpcmVFdmVudChhLHRoaXMpfSxhZnRlckhpZGU6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLmZpcmVIaWVyYXJjaHlFdmVudCgiaGlkZSIpfSxhZnRlclNob3c6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLmZpcmVIaWVyYXJjaHlFdmVudCgic2hvdyIpfSxnZXRDaGlsZEJ5RWxlbWVudDpmdW5jdGlvbihlLGEpe3ZhciBoLGMsYj0wLGQ9dGhpcy5nZXRSZWZJdGVtcygpLGc9ZC5sZW5ndGg7ZT1FeHQuZ2V0RG9tKGUpO2Zvcig7YjxnO2IrKyl7aD1kW2JdO2M9aC5nZXRFbCgpO2lmKGMmJigoYy5kb209PT1lKXx8Yy5jb250YWlucyhlKSkpe3JldHVybihhJiZoLmdldENoaWxkQnlFbGVtZW50KT9oLmdldENoaWxkQnlFbGVtZW50KGUsYSk6aH19cmV0dXJuIG51bGx9fSxmdW5jdGlvbigpe3RoaXMuaGllcmFyY2h5RXZlbnRTb3VyY2U9dGhpcy5wcm90b3R5cGUuaGllcmFyY2h5RXZlbnRTb3VyY2U9bmV3IEV4dC51dGlsLk9ic2VydmFibGUoe2V2ZW50czp7aGlkZTp0cnVlLHNob3c6dHJ1ZSxjb2xsYXBzZTp0cnVlLGV4cGFuZDp0cnVlfX0pfSk7RXh0LmRlZmluZSgiRXh0LmNvbnRhaW5lci5WaWV3cG9ydCIse2V4dGVuZDoiRXh0LmNvbnRhaW5lci5Db250YWluZXIiLGFsaWFzOiJ3aWRnZXQudmlld3BvcnQiLHJlcXVpcmVzOlsiRXh0LkV2ZW50TWFuYWdlciJdLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LlZpZXdwb3J0Iixpc1ZpZXdwb3J0OnRydWUsYXJpYVJvbGU6ImFwcGxpY2F0aW9uIixwcmVzZXJ2ZUVsT25EZXN0cm95OnRydWUsaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYT1kb2N1bWVudC5ib2R5LnBhcmVudE5vZGUsYjtFeHQuZ2V0U2Nyb2xsYmFyU2l6ZSgpO2Mud2lkdGg9Yy5oZWlnaHQ9dW5kZWZpbmVkO2MuY2FsbFBhcmVudChhcmd1bWVudHMpO0V4dC5mbHkoYSkuYWRkQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJ2aWV3cG9ydCIpO2lmKGMuYXV0b1Njcm9sbCl7ZGVsZXRlIGMuYXV0b1Njcm9sbDtFeHQuZmx5KGEpLnNldFN0eWxlKCJvdmVyZmxvdyIsImF1dG8iKX1jLmVsPWI9RXh0LmdldEJvZHkoKTtiLnNldEhlaWdodD1FeHQuZW1wdHlGbjtiLnNldFdpZHRoPUV4dC5lbXB0eUZuO2Iuc2V0U2l6ZT1FeHQuZW1wdHlGbjtiLmRvbS5zY3JvbGw9Im5vIjtjLmFsbG93RG9tTW92ZT1mYWxzZTtjLnJlbmRlclRvPWMuZWx9LG9uUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTthLndpZHRoPUV4dC5FbGVtZW50LmdldFZpZXdwb3J0V2lkdGgoKTthLmhlaWdodD1FeHQuRWxlbWVudC5nZXRWaWV3cG9ydEhlaWdodCgpfSxhZnRlckZpcnN0TGF5b3V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7RXh0LkV2ZW50TWFuYWdlci5vbldpbmRvd1Jlc2l6ZShhLmZpcmVSZXNpemUsYSl9LDEpfSxmaXJlUmVzaXplOmZ1bmN0aW9uKGIsYSl7aWYoYiE9dGhpcy53aWR0aHx8YSE9dGhpcy5oZWlnaHQpe3RoaXMuc2V0U2l6ZShiLGEpfX19KTtFeHQuZGVmaW5lKCJFeHQuZm9ybS5GaWVsZENvbnRhaW5lciIse2V4dGVuZDoiRXh0LmNvbnRhaW5lci5Db250YWluZXIiLG1peGluczp7bGFiZWxhYmxlOiJFeHQuZm9ybS5MYWJlbGFibGUiLGZpZWxkQW5jZXN0b3I6IkV4dC5mb3JtLkZpZWxkQW5jZXN0b3IifSxyZXF1aXJlczoiRXh0LmxheW91dC5jb21wb25lbnQuZmllbGQuRmllbGRDb250YWluZXIiLGFsaWFzOiJ3aWRnZXQuZmllbGRjb250YWluZXIiLGNvbXBvbmVudExheW91dDoiZmllbGRjb250YWluZXIiLGNvbWJpbmVMYWJlbHM6ZmFsc2UsbGFiZWxDb25uZWN0b3I6IiwgIixjb21iaW5lRXJyb3JzOmZhbHNlLG1hc2tPbkRpc2FibGU6ZmFsc2UsZmllbGRTdWJUcGw6InsldGhpcy5yZW5kZXJDb250YWluZXIob3V0LHZhbHVlcyklfSIsaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5pbml0TGFiZWxhYmxlKCk7YS5pbml0RmllbGRBbmNlc3RvcigpO2EuY2FsbFBhcmVudCgpfSxiZWZvcmVSZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLmJlZm9yZUxhYmVsYWJsZVJlbmRlcihhcmd1bWVudHMpfSxvbkxhYmVsYWJsZUFkZGVkOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5taXhpbnMuZmllbGRBbmNlc3Rvci5vbkxhYmVsYWJsZUFkZGVkLmNhbGwodGhpcyxhKTtiLnVwZGF0ZUxhYmVsKCl9LG9uTGFiZWxhYmxlUmVtb3ZlZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IubWl4aW5zLmZpZWxkQW5jZXN0b3Iub25MYWJlbGFibGVSZW1vdmVkLmNhbGwodGhpcyxhKTtiLnVwZGF0ZUxhYmVsKCl9LGluaXRSZW5kZXJUcGw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKCFhLmhhc093blByb3BlcnR5KCJyZW5kZXJUcGwiKSl7YS5yZW5kZXJUcGw9YS5nZXRUcGwoImxhYmVsYWJsZVJlbmRlclRwbCIpfXJldHVybiBhLmNhbGxQYXJlbnQoKX0saW5pdFJlbmRlckRhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gRXh0LmFwcGx5SWYodGhpcy5jYWxsUGFyZW50KCksdGhpcy5nZXRMYWJlbGFibGVSZW5kZXJEYXRhKCkpfSxnZXRGaWVsZExhYmVsOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5maWVsZExhYmVsfHwiIjtpZighYSYmdGhpcy5jb21iaW5lTGFiZWxzKXthPUV4dC5BcnJheS5tYXAodGhpcy5xdWVyeSgiW2lzRmllbGRMYWJlbGFibGVdIiksZnVuY3Rpb24oYil7cmV0dXJuIGIuZ2V0RmllbGRMYWJlbCgpfSkuam9pbih0aGlzLmxhYmVsQ29ubmVjdG9yKX1yZXR1cm4gYX0sZ2V0U3ViVHBsRGF0YTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaW5pdFJlbmRlckRhdGEoKTtFeHQuYXBwbHkoYSx0aGlzLnN1YlRwbERhdGEpO3JldHVybiBhfSxnZXRTdWJUcGxNYXJrdXA6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGE9Yy5nZXRUcGwoImZpZWxkU3ViVHBsIiksYjtpZighYS5yZW5kZXJDb250ZW50KXtjLnNldHVwUmVuZGVyVHBsKGEpfWI9YS5hcHBseShjLmdldFN1YlRwbERhdGEoKSk7cmV0dXJuIGJ9LHVwZGF0ZUxhYmVsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIubGFiZWxFbDtpZihhKXthLnVwZGF0ZShiLmdldEZpZWxkTGFiZWwoKSl9fSxvbkZpZWxkRXJyb3JDaGFuZ2U6ZnVuY3Rpb24oZSxiKXtpZih0aGlzLmNvbWJpbmVFcnJvcnMpe3ZhciBkPXRoaXMsZz1kLmdldEFjdGl2ZUVycm9yKCksYz1FeHQuQXJyYXkuZmlsdGVyKGQucXVlcnkoIltpc0Zvcm1GaWVsZF0iKSxmdW5jdGlvbihoKXtyZXR1cm4gaC5oYXNBY3RpdmVFcnJvcigpfSksYT1kLmdldENvbWJpbmVkRXJyb3JzKGMpO2lmKGEpe2Quc2V0QWN0aXZlRXJyb3JzKGEpfWVsc2V7ZC51bnNldEFjdGl2ZUVycm9yKCl9aWYoZyE9PWQuZ2V0QWN0aXZlRXJyb3IoKSl7ZC5kb0NvbXBvbmVudExheW91dCgpfX19LGdldENvbWJpbmVkRXJyb3JzOmZ1bmN0aW9uKGUpe3ZhciBrPVtdLGMsbD1lLmxlbmd0aCxpLGQsaixiLGcsaDtmb3IoYz0wO2M8bDtjKyspe2k9ZVtjXTtkPWkuZ2V0QWN0aXZlRXJyb3JzKCk7Yj1kLmxlbmd0aDtmb3Ioaj0wO2o8YjtqKyspe2c9ZFtqXTtoPWkuZ2V0RmllbGRMYWJlbCgpO2sucHVzaCgoaD9oKyI6ICI6IiIpK2cpfX1yZXR1cm4ga30sZ2V0VGFyZ2V0RWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5RWx8fHRoaXMuY2FsbFBhcmVudCgpfX0pO0V4dC5kZWZpbmUoIkV4dC5mb3JtLkZpZWxkU2V0Iix7ZXh0ZW5kOiJFeHQuY29udGFpbmVyLkNvbnRhaW5lciIsYWxpYXM6IndpZGdldC5maWVsZHNldCIsdXNlczpbIkV4dC5mb3JtLmZpZWxkLkNoZWNrYm94IiwiRXh0LnBhbmVsLlRvb2wiLCJFeHQubGF5b3V0LmNvbnRhaW5lci5BbmNob3IiLCJFeHQubGF5b3V0LmNvbXBvbmVudC5GaWVsZFNldCJdLGNvbGxhcHNlZDpmYWxzZSx0b2dnbGVPblRpdGxlQ2xpY2s6dHJ1ZSxiYXNlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmaWVsZHNldCIsbGF5b3V0OiJhbmNob3IiLGJvcmRlcjoxLGNvbXBvbmVudExheW91dDoiZmllbGRzZXQiLGF1dG9FbDoiZmllbGRzZXQiLGNoaWxkRWxzOlsiYm9keSJdLHJlbmRlclRwbDpbInsldGhpcy5yZW5kZXJMZWdlbmQob3V0LHZhbHVlcyk7JX0iLCc8ZGl2IGlkPSJ7aWR9LWJvZHkiIGNsYXNzPSJ7YmFzZUNsc30tYm9keSI+JywieyV0aGlzLnJlbmRlckNvbnRhaW5lcihvdXQsdmFsdWVzKTslfSIsIjwvZGl2PiJdLHN0YXRlRXZlbnRzOlsiY29sbGFwc2UiLCJleHBhbmQiXSxtYXNrT25EaXNhYmxlOmZhbHNlLGJlZm9yZURlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5sZWdlbmQ7aWYoYSl7ZGVsZXRlIGEub3duZXJDdDthLmRlc3Ryb3koKTtiLmxlZ2VuZD1udWxsfWIuY2FsbFBhcmVudCgpfSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuYmFzZUNscztiLmNhbGxQYXJlbnQoKTtiLmFkZEV2ZW50cygiYmVmb3JlZXhwYW5kIiwiYmVmb3JlY29sbGFwc2UiLCJleHBhbmQiLCJjb2xsYXBzZSIpO2lmKGIuY29sbGFwc2VkKXtiLmFkZENscyhhKyItY29sbGFwc2VkIik7Yi5jb2xsYXBzZSgpfWlmKGIudGl0bGUpe2IuYWRkQ2xzKGErIi13aXRoLXRpdGxlIil9aWYoYi50aXRsZXx8Yi5jaGVja2JveFRvZ2dsZXx8Yi5jb2xsYXBzaWJsZSl7Yi5hZGRDbHMoYSsiLXdpdGgtbGVnZW5kIil9fSxpbml0UmVuZGVyRGF0YTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2FsbFBhcmVudCgpO2EuYmFzZUNscz10aGlzLmJhc2VDbHM7cmV0dXJuIGF9LGdldFN0YXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jYWxsUGFyZW50KCk7YT10aGlzLmFkZFByb3BlcnR5VG9TdGF0ZShhLCJjb2xsYXBzZWQiKTtyZXR1cm4gYX0sYWZ0ZXJDb2xsYXBzZTpFeHQuZW1wdHlGbixhZnRlckV4cGFuZDpFeHQuZW1wdHlGbixjb2xsYXBzZWRIb3Jpem9udGFsOmZ1bmN0aW9uKCl7cmV0dXJuIHRydWV9LGNvbGxhcHNlZFZlcnRpY2FsOmZ1bmN0aW9uKCl7cmV0dXJuIHRydWV9LGNyZWF0ZUxlZ2VuZEN0OmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxhPVtdLGI9e3h0eXBlOiJjb250YWluZXIiLGJhc2VDbHM6dGhpcy5iYXNlQ2xzKyItaGVhZGVyIixpZDpjLmlkKyItbGVnZW5kIixhdXRvRWw6ImxlZ2VuZCIsaXRlbXM6YSxvd25lckN0OmMsb3duZXJMYXlvdXQ6Yy5jb21wb25lbnRMYXlvdXR9O2lmKGMuY2hlY2tib3hUb2dnbGUpe2EucHVzaChjLmNyZWF0ZUNoZWNrYm94Q21wKCkpfWVsc2V7aWYoYy5jb2xsYXBzaWJsZSl7YS5wdXNoKGMuY3JlYXRlVG9nZ2xlQ21wKCkpfX1hLnB1c2goYy5jcmVhdGVUaXRsZUNtcCgpKTtyZXR1cm4gYn0sY3JlYXRlVGl0bGVDbXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9e3h0eXBlOiJjb21wb25lbnQiLGh0bWw6Yi50aXRsZSxjbHM6Yi5iYXNlQ2xzKyItaGVhZGVyLXRleHQiLGlkOmIuaWQrIi1sZWdlbmRUaXRsZSJ9O2lmKGIuY29sbGFwc2libGUmJmIudG9nZ2xlT25UaXRsZUNsaWNrKXthLmxpc3RlbmVycz17ZWw6e3Njb3BlOmIsY2xpY2s6Yi50b2dnbGV9fTthLmNscys9IiAiK2IuYmFzZUNscysiLWhlYWRlci10ZXh0LWNvbGxhcHNpYmxlIn1yZXR1cm4oYi50aXRsZUNtcD1FeHQud2lkZ2V0KGEpKX0sY3JlYXRlQ2hlY2tib3hDbXA6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9Ii1jaGVja2JveCI7YS5jaGVja2JveENtcD1FeHQud2lkZ2V0KHt4dHlwZToiY2hlY2tib3giLGhpZGVFbXB0eUxhYmVsOnRydWUsbmFtZTphLmNoZWNrYm94TmFtZXx8YS5pZCtiLGNsczphLmJhc2VDbHMrIi1oZWFkZXIiK2IsaWQ6YS5pZCsiLWxlZ2VuZENoayIsY2hlY2tlZDohYS5jb2xsYXBzZWQsbGlzdGVuZXJzOntjaGFuZ2U6YS5vbkNoZWNrQ2hhbmdlLHNjb3BlOmF9fSk7cmV0dXJuIGEuY2hlY2tib3hDbXB9LGNyZWF0ZVRvZ2dsZUNtcDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS50b2dnbGVDbXA9RXh0LndpZGdldCh7eHR5cGU6InRvb2wiLHR5cGU6InRvZ2dsZSIsaGFuZGxlcjphLnRvZ2dsZSxpZDphLmlkKyItbGVnZW5kVG9nZ2xlIixzY29wZTphfSk7cmV0dXJuIGEudG9nZ2xlQ21wfSxkb1JlbmRlckxlZ2VuZDpmdW5jdGlvbihiLGUpe3ZhciBkPWUuJGNvbXAsYyxhO2lmKGQudGl0bGV8fGQuY2hlY2tib3hUb2dnbGV8fGQuY29sbGFwc2libGUpe2QubGVnZW5kPWM9RXh0LndpZGdldChkLmNyZWF0ZUxlZ2VuZEN0KCkpO2Mub3duZXJMYXlvdXQuY29uZmlndXJlSXRlbShjKTthPWQubGVnZW5kLmdldFJlbmRlclRyZWUoKTtFeHQuRG9tSGVscGVyLmdlbmVyYXRlTWFya3VwKGEsYil9fSxmaW5pc2hSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmxlZ2VuZDt0aGlzLmNhbGxQYXJlbnQoKTtpZihhKXthLmZpbmlzaFJlbmRlcigpfX0sZ2V0Q29sbGFwc2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sbGFwc2VkPyJ0b3AiOmZhbHNlfSxnZXRDb2xsYXBzZWREb2NrZWRJdGVtczpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGVnZW5kO3JldHVybiBhP1thXTpbXX0sc2V0VGl0bGU6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWIubGVnZW5kO2IudGl0bGU9YztpZihiLnJlbmRlcmVkKXtpZighYi5sZWdlbmQpe2IubGVnZW5kPWE9RXh0LndpZGdldChiLmNyZWF0ZUxlZ2VuZEN0KCkpO2Eub3duZXJMYXlvdXQuY29uZmlndXJlSXRlbShhKTthLnJlbmRlcihiLmVsLDApfWIudGl0bGVDbXAudXBkYXRlKGMpfXJldHVybiBifSxnZXRUYXJnZXRFbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHl8fHRoaXMuZnJhbWVCb2R5fHx0aGlzLmVsfSxnZXRDb250ZW50VGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keX0sZXhwYW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0RXhwYW5kZWQodHJ1ZSl9LGNvbGxhcHNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2V0RXhwYW5kZWQoZmFsc2UpfSxzZXRFeHBhbmRlZDpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGQ9Yy5jaGVja2JveENtcCxhPWI/ImV4cGFuZCI6ImNvbGxhcHNlIjtpZighYy5yZW5kZXJlZHx8Yy5maXJlRXZlbnQoImJlZm9yZSIrYSxjKSE9PWZhbHNlKXtiPSEhYjtpZihkKXtkLnNldFZhbHVlKGIpfWlmKGIpe2MucmVtb3ZlQ2xzKGMuYmFzZUNscysiLWNvbGxhcHNlZCIpfWVsc2V7Yy5hZGRDbHMoYy5iYXNlQ2xzKyItY29sbGFwc2VkIil9Yy5jb2xsYXBzZWQ9IWI7aWYoYy5yZW5kZXJlZCl7Yy51cGRhdGVMYXlvdXQoKTtjLmZpcmVFdmVudChhLGMpfX1yZXR1cm4gY30sZ2V0UmVmSXRlbXM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyksYj10aGlzLmxlZ2VuZDtpZihiKXtjLnVuc2hpZnQoYik7aWYoYSl7Yy51bnNoaWZ0LmFwcGx5KGMsYi5nZXRSZWZJdGVtcyh0cnVlKSl9fXJldHVybiBjfSx0b2dnbGU6ZnVuY3Rpb24oKXt0aGlzLnNldEV4cGFuZGVkKCEhdGhpcy5jb2xsYXBzZWQpfSxvbkNoZWNrQ2hhbmdlOmZ1bmN0aW9uKGIsYSl7dGhpcy5zZXRFeHBhbmRlZChhKX0sc2V0dXBSZW5kZXJUcGw6ZnVuY3Rpb24oYSl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5yZW5kZXJMZWdlbmQ9dGhpcy5kb1JlbmRlckxlZ2VuZH19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbnRhaW5lci5BbmNob3IiLHthbGlhczoibGF5b3V0LmFuY2hvciIsZXh0ZW5kOiJFeHQubGF5b3V0LmNvbnRhaW5lci5Db250YWluZXIiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmxheW91dC5BbmNob3JMYXlvdXQiLHR5cGU6ImFuY2hvciIsbWFuYWdlT3ZlcmZsb3c6MixyZW5kZXJUcGw6WyJ7JXRoaXMucmVuZGVyQm9keShvdXQsdmFsdWVzKTt0aGlzLnJlbmRlclBhZGRlcihvdXQsdmFsdWVzKSV9Il0sZGVmYXVsdEFuY2hvcjoiMTAwJSIscGFyc2VBbmNob3JSRTovXihyfHJpZ2h0fGJ8Ym90dG9tKSQvaSxiZWdpbkxheW91dDpmdW5jdGlvbihjKXt2YXIgaj10aGlzLGE9MCxnLGssZSxkLGIsaDtqLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtlPWMuY2hpbGRJdGVtcztiPWUubGVuZ3RoO2ZvcihkPTA7ZDxiOysrZCl7az1lW2RdO2c9ay50YXJnZXQuYW5jaG9yU3BlYztpZihnKXtpZihrLndpZHRoTW9kZWwuY2FsY3VsYXRlZCYmZy5yaWdodCl7YXw9MX1pZihrLmhlaWdodE1vZGVsLmNhbGN1bGF0ZWQmJmcuYm90dG9tKXthfD0yfWlmKGE9PTMpe2JyZWFrfX19Yy5hbmNob3JEaW1lbnNpb25zPWE7aWYoIUV4dC5zdXBwb3J0cy5SaWdodE1hcmdpbiYmIWoucmlnaHRNYXJnaW5DbGVhbmVyRm4pe2g9Yy50YXJnZXRDb250ZXh0LmVsO2oucmlnaHRNYXJnaW5DbGVhbmVyRm49RXh0LkVsZW1lbnQuZ2V0UmlnaHRNYXJnaW5GaXhDbGVhbmVyKGgpO2guYWRkQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJpbmxpbmUtY2hpbGRyZW4iKX19LGNhbGN1bGF0ZTpmdW5jdGlvbihiKXt2YXIgYT10aGlzLGM9YS5nZXRDb250YWluZXJTaXplKGIpO2lmKGIuYW5jaG9yRGltZW5zaW9ucyE9PWIuc3RhdGUuY2FsY3VsYXRlZEFuY2hvcnMpe2EuY2FsY3VsYXRlQW5jaG9ycyhiLGMpfWlmKGIuaGFzRG9tUHJvcCgiY29udGFpbmVyQ2hpbGRyZW5Eb25lIikpe2lmKCFjLmdvdEFsbCl7YS5kb25lPWZhbHNlfWEuY2FsY3VsYXRlQ29udGVudFNpemUoYixiLmFuY2hvckRpbWVuc2lvbnMpO2lmKGEuZG9uZSl7YS5jYWxjdWxhdGVPdmVyZmxvdyhiLGMsYi5hbmNob3JEaW1lbnNpb25zKTtyZXR1cm59fWEuZG9uZT1mYWxzZX0sY2FsY3VsYXRlQW5jaG9yczpmdW5jdGlvbihoLGEpe3ZhciBwPXRoaXMsbD1oLmNoaWxkSXRlbXMsZz1sLmxlbmd0aCxvPWEuZ290SGVpZ2h0LGo9YS5nb3RXaWR0aCxlPWEuaGVpZ2h0LGM9YS53aWR0aCxiPWguc3RhdGUscT0oaj8xOjApfChvPzI6MCksbSxzLG4scixrLGQ7Yi5jYWxjdWxhdGVkQW5jaG9ycz0oYi5jYWxjdWxhdGVkQW5jaG9yc3x8MCl8cTtmb3Ioaz0wO2s8ZztrKyspe3M9bFtrXTtuPXMuZ2V0TWFyZ2luSW5mbygpO209cy50YXJnZXQuYW5jaG9yU3BlYztpZihqJiZzLndpZHRoTW9kZWwuY2FsY3VsYXRlZCl7ZD1tLnJpZ2h0KGMpLW4ud2lkdGg7ZD1wLmFkanVzdFdpZHRoQW5jaG9yKGQscyk7cy5zZXRXaWR0aChkKX1pZihvJiZzLmhlaWdodE1vZGVsLmNhbGN1bGF0ZWQpe3I9bS5ib3R0b20oZSktbi5oZWlnaHQ7cj1wLmFkanVzdEhlaWdodEFuY2hvcihyLHMpO3Muc2V0SGVpZ2h0KHIpfX19LGZpbmlzaGVkTGF5b3V0OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMucmlnaHRNYXJnaW5DbGVhbmVyRm47aWYoYSl7ZGVsZXRlIHRoaXMucmlnaHRNYXJnaW5DbGVhbmVyRm47Yi50YXJnZXRDb250ZXh0LmVsLnJlbW92ZUNscyhFeHQuYmFzZUNTU1ByZWZpeCsiaW5saW5lLWNoaWxkcmVuIik7YSgpfX0sYW5jaG9yRmFjdG9yeTp7b2Zmc2V0OmZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbihiKXtyZXR1cm4gYithfX0scmF0aW86ZnVuY3Rpb24oYSl7cmV0dXJuIGZ1bmN0aW9uKGIpe3JldHVybiBNYXRoLmZsb29yKGIqYSl9fSxzdGFuZGFyZDpmdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oYil7cmV0dXJuIGItYX19fSxwYXJzZUFuY2hvcjpmdW5jdGlvbihjLGcsYil7aWYoYyYmYyE9Im5vbmUiKXt2YXIgZD10aGlzLmFuY2hvckZhY3RvcnksZTtpZih0aGlzLnBhcnNlQW5jaG9yUkUudGVzdChjKSl7cmV0dXJuIGQuc3RhbmRhcmQoYi1nKX1pZihjLmluZGV4T2YoIiUiKSE9LTEpe3JldHVybiBkLnJhdGlvKHBhcnNlRmxvYXQoYy5yZXBsYWNlKCIlIiwiIikpKjAuMDEpfWU9cGFyc2VJbnQoYywxMCk7aWYoIWlzTmFOKGUpKXtyZXR1cm4gZC5vZmZzZXQoZSl9fXJldHVybiBudWxsfSxhZGp1c3RXaWR0aEFuY2hvcjpmdW5jdGlvbihiLGEpe3JldHVybiBifSxhZGp1c3RIZWlnaHRBbmNob3I6ZnVuY3Rpb24oYixhKXtyZXR1cm4gYn0sY29uZmlndXJlSXRlbTpmdW5jdGlvbihnKXt2YXIgZT10aGlzLGE9ZS5vd25lcixkPWcuYW5jaG9yLGIsYyxoO2UuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKCFnLmFuY2hvciYmZy5pdGVtcyYmIUV4dC5pc051bWJlcihnLndpZHRoKSYmIShFeHQuaXNJRTYmJkV4dC5pc1N0cmljdCkpe2cuYW5jaG9yPWQ9ZS5kZWZhdWx0QW5jaG9yfWlmKGEuYW5jaG9yU2l6ZSl7aWYodHlwZW9mIGEuYW5jaG9yU2l6ZT09Im51bWJlciIpe2M9YS5hbmNob3JTaXplfWVsc2V7Yz1hLmFuY2hvclNpemUud2lkdGg7aD1hLmFuY2hvclNpemUuaGVpZ2h0fX1lbHNle2M9YS5pbml0aWFsQ29uZmlnLndpZHRoO2g9YS5pbml0aWFsQ29uZmlnLmhlaWdodH1pZihkKXtiPWQuc3BsaXQoIiAiKTtnLmFuY2hvclNwZWM9e3JpZ2h0OmUucGFyc2VBbmNob3IoYlswXSxnLmluaXRpYWxDb25maWcud2lkdGgsYyksYm90dG9tOmUucGFyc2VBbmNob3IoYlsxXSxnLmluaXRpYWxDb25maWcuaGVpZ2h0LGgpfX19LHNpemVQb2xpY3k6eyIiOntzZXRzV2lkdGg6MCxzZXRzSGVpZ2h0OjB9LGI6e3NldHNXaWR0aDowLHNldHNIZWlnaHQ6MX0scjp7IiI6e3NldHNXaWR0aDoxLHNldHNIZWlnaHQ6MH0sYjp7c2V0c1dpZHRoOjEsc2V0c0hlaWdodDoxfX19LGdldEl0ZW1TaXplUG9saWN5OmZ1bmN0aW9uKGMpe3ZhciBlPWMuYW5jaG9yU3BlYyxhPSIiLGQ9dGhpcy5zaXplUG9saWN5LGI7aWYoZSl7Yj10aGlzLm93bmVyLmdldFNpemVNb2RlbCgpO2lmKGUucmlnaHQmJiFiLndpZHRoLnNocmlua1dyYXApe2Q9ZC5yfWlmKGUuYm90dG9tJiYhYi5oZWlnaHQuc2hyaW5rV3JhcCl7YT0iYiJ9fXJldHVybiBkW2FdfX0pO0V4dC5kZWZpbmUoIkV4dC5sYXlvdXQuY29udGFpbmVyLkFic29sdXRlIix7YWxpYXM6ImxheW91dC5hYnNvbHV0ZSIsZXh0ZW5kOiJFeHQubGF5b3V0LmNvbnRhaW5lci5BbmNob3IiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmxheW91dC5BYnNvbHV0ZUxheW91dCIsdGFyZ2V0Q2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJhYnMtbGF5b3V0LWN0IixpdGVtQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJhYnMtbGF5b3V0LWl0ZW0iLGlnbm9yZU9uQ29udGVudENoYW5nZTp0cnVlLHR5cGU6ImFic29sdXRlIixhZGp1c3RXaWR0aEFuY2hvcjpmdW5jdGlvbihjLGIpe3ZhciBkPXRoaXMudGFyZ2V0UGFkZGluZyxhPWIuZ2V0U3R5bGUoImxlZnQiKTtyZXR1cm4gYy1hK2QubGVmdH0sYWRqdXN0SGVpZ2h0QW5jaG9yOmZ1bmN0aW9uKGIsYSl7dmFyIGM9dGhpcy50YXJnZXRQYWRkaW5nLGQ9YS5nZXRTdHlsZSgidG9wIik7cmV0dXJuIGItZCtjLnRvcH0saXNJdGVtTGF5b3V0Um9vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pZ25vcmVPbkNvbnRlbnRDaGFuZ2V8fHRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxpc0l0ZW1TaHJpbmtXcmFwOmZ1bmN0aW9uKGEpe3JldHVybiB0cnVlfSxiZWdpbkxheW91dDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLGM9YS5nZXRUYXJnZXQoKTthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihjLmRvbSE9PWRvY3VtZW50LmJvZHkpe2MucG9zaXRpb24oKX1hLnRhcmdldFBhZGRpbmc9Yi50YXJnZXRDb250ZXh0LmdldFBhZGRpbmdJbmZvKCl9LGlzSXRlbUJveFBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4gdHJ1ZX0sb25Db250ZW50Q2hhbmdlOmZ1bmN0aW9uKCl7aWYodGhpcy5pZ25vcmVPbkNvbnRlbnRDaGFuZ2Upe3JldHVybiBmYWxzZX1yZXR1cm4gdGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9fSk7RXh0LmRlZmluZSgiRXh0LmxheW91dC5jb250YWluZXIuQ2hlY2tib3hHcm91cCIse2V4dGVuZDoiRXh0LmxheW91dC5jb250YWluZXIuQ29udGFpbmVyIixhbGlhczpbImxheW91dC5jaGVja2JveGdyb3VwIl0sYXV0b0ZsZXg6dHJ1ZSx0eXBlOiJjaGVja2JveGdyb3VwIixjaGlsZEVsczpbImlubmVyQ3QiXSxyZW5kZXJUcGw6Wyc8dGFibGUgaWQ9Intvd25lcklkfS1pbm5lckN0IiByb2xlPSJwcmVzZW50YXRpb24iIHN0eWxlPSJ7dGFibGVTdHlsZX0iPjx0Ym9keT48dHI+JywnPHRwbCBmb3I9ImNvbHVtbnMiPicsJzx0ZCBjbGFzcz0ie3BhcmVudC5jb2xDbHN9IiB2YWxpZ249InRvcCIgc3R5bGU9IntzdHlsZX0iPicsInslIHRoaXMucmVuZGVyQ29sdW1uKG91dCxwYXJlbnQseGluZGV4LTEpICV9IiwiPC90ZD4iLCI8L3RwbD4iLCI8L3RyPjwvdGJvZHk+PC90YWJsZT4iXSxiZWdpbkxheW91dDpmdW5jdGlvbihiKXt2YXIgbj10aGlzLGUsZCxsLGssaCxhLG0sZz0wLHA9MCxvPW4uYXV0b0ZsZXgsaj1uLm93bmVyLml0ZW1zLmdlbmVyYXRpb24sYz1uLmlubmVyQ3QuZG9tLnN0eWxlO24uY2FsbFBhcmVudChhcmd1bWVudHMpO2s9Yi5jaGlsZEl0ZW1zO2lmKG4ubGFzdENoaWxkR2VuZXJhdGlvbiE9ail7bi5sYXN0Q2hpbGRHZW5lcmF0aW9uPWo7bi5maXhDb2x1bW5zKCl9ZT1uLmNvbHVtbkVscztiLmlubmVyQ3RDb250ZXh0PWIuZ2V0RWwoImlubmVyQ3QiLG4pO2lmKCFiLndpZHRoTW9kZWwuc2hyaW5rV3JhcCl7ZD1lLmxlbmd0aDtpZihuLmNvbHVtbnNBcnJheSl7Zm9yKGg9MDtoPGQ7aCsrKXthPW4ub3duZXIuY29sdW1uc1toXTtpZihhPDEpe2crPWE7cCsrfX1mb3IoaD0wO2g8ZDtoKyspe2E9bi5vd25lci5jb2x1bW5zW2hdO2lmKGE8MSl7bT0oKGEvZykqMTAwKSsiJSJ9ZWxzZXttPWErInB4In1lW2hdLnN0eWxlLndpZHRoPW19fWVsc2V7Zm9yKGg9MDtoPGQ7aCsrKXttPW8/KDEvZCoxMDApKyIlIjoiIjtlW2hdLnN0eWxlLndpZHRoPW07cCsrfX1pZighcCl7Yy50YWJsZUxheW91dD0iZml4ZWQiO2Mud2lkdGg9IiJ9ZWxzZXtpZihwPGQpe2MudGFibGVMYXlvdXQ9ImZpeGVkIjtjLndpZHRoPSIxMDAlIn1lbHNle2MudGFibGVMYXlvdXQ9ImF1dG8iO2lmKG8pe2Mud2lkdGg9IjEwMCUifWVsc2V7Yy53aWR0aD0iIn19fX1lbHNle2MudGFibGVMYXlvdXQ9ImF1dG8iO2Mud2lkdGg9IiJ9fSxjYWNoZUVsZW1lbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoKTthLmNvbHVtbkVscz1hLmlubmVyQ3QucXVlcnkoInRkLiIrYS5vd25lci5ncm91cENscyk7YS5sYXN0Q2hpbGRHZW5lcmF0aW9uPWEub3duZXIuaXRlbXMuZ2VuZXJhdGlvbn0sY2FsY3VsYXRlOmZ1bmN0aW9uKGgpe3ZhciBlPXRoaXMsYyxiLGEsaSxkLGc7aWYoIWguZ2V0RG9tUHJvcCgiY29udGFpbmVyQ2hpbGRyZW5Eb25lIikpe2UuZG9uZT1mYWxzZX1lbHNle2M9aC5pbm5lckN0Q29udGV4dDtiPWgud2lkdGhNb2RlbC5zaHJpbmtXcmFwO2E9aC5oZWlnaHRNb2RlbC5zaHJpbmtXcmFwO2k9YXx8YjtkPWMuZWwuZG9tO2c9aSYmYy5nZXRQYWRkaW5nSW5mbygpO2lmKGIpe2guc2V0Q29udGVudFdpZHRoKGQub2Zmc2V0V2lkdGgrZy53aWR0aCx0cnVlKX1pZihhKXtoLnNldENvbnRlbnRIZWlnaHQoZC5vZmZzZXRIZWlnaHQrZy5oZWlnaHQsdHJ1ZSl9fX0sZG9SZW5kZXJDb2x1bW46ZnVuY3Rpb24oZCxsLGcpe3ZhciBpPWwuJGxheW91dCxjPWkub3duZXIsZT1sLmNvbHVtbkNvdW50LGg9Yy5pdGVtcy5pdGVtcyxiPWgubGVuZ3RoLG0sYSxqLGssbjtpZihjLnZlcnRpY2FsKXtqPU1hdGguY2VpbChiL2UpO2E9ZypqO2I9TWF0aC5taW4oYixhK2opO2s9MX1lbHNle2E9ZztrPWV9Zm9yKDthPGI7YSs9ayl7bT1oW2FdO2kuY29uZmlndXJlSXRlbShtKTtuPW0uZ2V0UmVuZGVyVHJlZSgpO0V4dC5Eb21IZWxwZXIuZ2VuZXJhdGVNYXJrdXAobixkKX19LGZpeENvbHVtbnM6ZnVuY3Rpb24oKXt2YXIgbT10aGlzLGI9bS5vd25lcixjPWIuY29sdW1ucyxlPW0uY29sdW1uRWxzLGs9Yi5pdGVtcy5pdGVtcyxoPWUubGVuZ3RoLGE9ay5sZW5ndGgsaixnLG4sbCxkLG87aWYoKCFjfHxjPT0iYXV0byIpJiYoYT5oKSl7bz1hLWg7Zm9yKGc9MDtnPG87ZysrKXtsPW0uaW5uZXJDdC5kb3duKCJ0ciIpO2wuY3JlYXRlQ2hpbGQoe2NsczpiLmdyb3VwQ2xzLHRhZzoidGQiLHZBbGlnbjoidG9wIn0pfW0uY2FjaGVFbGVtZW50cygpO2U9bS5jb2x1bW5FbHM7aD1lLmxlbmd0aH1pZihiLnZlcnRpY2FsKXtqPS0xO249TWF0aC5jZWlsKGEvaCk7Zm9yKGc9MDtnPGE7KytnKXtpZihnJW49PT0wKXsrK2p9ZVtqXS5hcHBlbmRDaGlsZChrW2ddLmVsLmRvbSl9fWVsc2V7Zm9yKGc9MDtnPGE7KytnKXtqPWclaDtlW2pdLmFwcGVuZENoaWxkKGtbZ10uZWwuZG9tKX19fSxnZXRDb2x1bW5Db3VudDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLm93bmVyLGM9YS5jb2x1bW5zO2lmKGIuY29sdW1uc0FycmF5KXtyZXR1cm4gYy5sZW5ndGh9aWYoRXh0LmlzTnVtYmVyKGMpKXtyZXR1cm4gY31yZXR1cm4gYS5pdGVtcy5sZW5ndGh9LGdldEl0ZW1TaXplUG9saWN5OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmF1dG9TaXplUG9saWN5fSxnZXRSZW5kZXJEYXRhOmZ1bmN0aW9uKCl7dmFyIGs9dGhpcyxnPWsuY2FsbFBhcmVudCgpLGI9ay5vd25lcixoLGQ9ay5nZXRDb2x1bW5Db3VudCgpLGEsYyxqLGw9ay5hdXRvRmxleCxlPTAsbT0wO2lmKGsuY29sdW1uc0FycmF5KXtmb3IoaD0wO2g8ZDtoKyspe2E9ay5vd25lci5jb2x1bW5zW2hdO2lmKGE8MSl7ZSs9YTttKyt9fX1nLmNvbENscz1iLmdyb3VwQ2xzO2cuY29sdW1uQ291bnQ9ZDtnLmNvbHVtbnM9W107Zm9yKGg9MDtoPGQ7aCsrKXtjPShnLmNvbHVtbnNbaF09e30pO2lmKGsuY29sdW1uc0FycmF5KXthPWsub3duZXIuY29sdW1uc1toXTtpZihhPDEpe2o9KChhL2UpKjEwMCkrIiUifWVsc2V7aj1hKyJweCJ9Yy5zdHlsZT0id2lkdGg6IitqfWVsc2V7Yy5zdHlsZT0id2lkdGg6IisoMS9kKjEwMCkrIiUiO20rK319Zy50YWJsZVN0eWxlPSFtPyJ0YWJsZS1sYXlvdXQ6Zml4ZWQ7IjoobTxkKT8idGFibGUtbGF5b3V0OmZpeGVkO3dpZHRoOjEwMCUiOihsKT8idGFibGUtbGF5b3V0OmF1dG87d2lkdGg6MTAwJSI6InRhYmxlLWxheW91dDphdXRvOyI7cmV0dXJuIGd9LGdldFJlbmRlclRhcmdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlubmVyQ3R9LGluaXRMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5vd25lcjtiLmNvbHVtbnNBcnJheT1FeHQuaXNBcnJheShhLmNvbHVtbnMpO2IuZXZlbkNvbHVtbnM9RXh0LmlzTnVtYmVyKGEuY29sdW1ucyk7Yi5jYWxsUGFyZW50KCl9LGlzVmFsaWRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdHJ1ZX0sc2V0dXBSZW5kZXJUcGw6ZnVuY3Rpb24oYSl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5yZW5kZXJDb2x1bW49dGhpcy5kb1JlbmRlckNvbHVtbn19KTtFeHQuZGVmaW5lKCJFeHQuZm9ybS5DaGVja2JveEdyb3VwIix7ZXh0ZW5kOiJFeHQuZm9ybS5GaWVsZENvbnRhaW5lciIsbWl4aW5zOntmaWVsZDoiRXh0LmZvcm0uZmllbGQuRmllbGQifSxhbGlhczoid2lkZ2V0LmNoZWNrYm94Z3JvdXAiLHJlcXVpcmVzOlsiRXh0LmxheW91dC5jb250YWluZXIuQ2hlY2tib3hHcm91cCIsIkV4dC5mb3JtLmZpZWxkLkJhc2UiXSxjb2x1bW5zOiJhdXRvIix2ZXJ0aWNhbDpmYWxzZSxhbGxvd0JsYW5rOnRydWUsYmxhbmtUZXh0OiJZb3UgbXVzdCBzZWxlY3QgYXQgbGVhc3Qgb25lIGl0ZW0gaW4gdGhpcyBncm91cCIsZGVmYXVsdFR5cGU6ImNoZWNrYm94ZmllbGQiLGdyb3VwQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJmb3JtLWNoZWNrLWdyb3VwIixmaWVsZEJvZHlDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImZvcm0tY2hlY2tib3hncm91cC1ib2R5IixsYXlvdXQ6ImNoZWNrYm94Z3JvdXAiLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudCgpO2EuaW5pdEZpZWxkKCl9LGluaXRWYWx1ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLnZhbHVlO2Iub3JpZ2luYWxWYWx1ZT1iLmxhc3RWYWx1ZT1hfHxiLmdldFZhbHVlKCk7aWYoYSl7Yi5zZXRWYWx1ZShhKX19LG9uRmllbGRBZGRlZDpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2lmKGIuaXNDaGVja2JveCl7YS5tb24oYiwiY2hhbmdlIixhLmNoZWNrQ2hhbmdlLGEpfWEuY2FsbFBhcmVudChhcmd1bWVudHMpfSxvbkZpZWxkUmVtb3ZlZDpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2lmKGIuaXNDaGVja2JveCl7YS5tdW4oYiwiY2hhbmdlIixhLmNoZWNrQ2hhbmdlLGEpfWEuY2FsbFBhcmVudChhcmd1bWVudHMpfSxpc0VxdWFsOmZ1bmN0aW9uKGIsYSl7dmFyIGM9RXh0Lk9iamVjdC50b1F1ZXJ5U3RyaW5nO3JldHVybiBjKGIpPT09YyhhKX0sZ2V0RXJyb3JzOmZ1bmN0aW9uKCl7dmFyIGE9W107aWYoIXRoaXMuYWxsb3dCbGFuayYmRXh0LmlzRW1wdHkodGhpcy5nZXRDaGVja2VkKCkpKXthLnB1c2godGhpcy5ibGFua1RleHQpfXJldHVybiBhfSxnZXRCb3hlczpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWVyeSgiW2lzQ2hlY2tib3hdIisoYXx8IiIpKX0sZWFjaEJveDpmdW5jdGlvbihiLGEpe0V4dC5BcnJheS5mb3JFYWNoKHRoaXMuZ2V0Qm94ZXMoKSxiLGF8fHRoaXMpfSxnZXRDaGVja2VkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0Qm94ZXMoIltjaGVja2VkXSIpfSxpc0RpcnR5OmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5nZXRCb3hlcygpLGEsZD1jLmxlbmd0aDtmb3IoYT0wO2E8ZDthKyspe2lmKGNbYV0uaXNEaXJ0eSgpKXtyZXR1cm4gdHJ1ZX19fSxzZXRSZWFkT25seTpmdW5jdGlvbihlKXt2YXIgYz10aGlzLmdldEJveGVzKCksYSxkPWMubGVuZ3RoO2ZvcihhPTA7YTxkO2ErKyl7Y1thXS5zZXRSZWFkT25seShlKX10aGlzLnJlYWRPbmx5PWV9LHJlc2V0OmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPWMuaGFzQWN0aXZlRXJyb3IoKSxhPWMucHJldmVudE1hcms7Yy5wcmV2ZW50TWFyaz10cnVlO2MuYmF0Y2hDaGFuZ2VzKGZ1bmN0aW9uKCl7dmFyIGU9Yy5nZXRCb3hlcygpLGQsZz1lLmxlbmd0aDtmb3IoZD0wO2Q8ZztkKyspe2VbZF0ucmVzZXQoKX19KTtjLnByZXZlbnRNYXJrPWE7Yy51bnNldEFjdGl2ZUVycm9yKCk7aWYoYil7Yy51cGRhdGVMYXlvdXQoKX19LHJlc2V0T3JpZ2luYWxWYWx1ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMsYz1kLmdldEJveGVzKCksYSxlPWMubGVuZ3RoO2ZvcihhPTA7YTxlO2ErKyl7Y1thXS5yZXNldE9yaWdpbmFsVmFsdWUoKX1kLm9yaWdpbmFsVmFsdWU9ZC5nZXRWYWx1ZSgpO2QuY2hlY2tEaXJ0eSgpfSxzZXRWYWx1ZTpmdW5jdGlvbihoKXt2YXIgZz10aGlzLGQ9Zy5nZXRCb3hlcygpLGEsaj1kLmxlbmd0aCxlLGMsaTtnLmJhdGNoQ2hhbmdlcyhmdW5jdGlvbigpe2ZvcihhPTA7YTxqO2ErKyl7ZT1kW2FdO2M9ZS5nZXROYW1lKCk7aT1mYWxzZTtpZihoJiZoLmhhc093blByb3BlcnR5KGMpKXtpZihFeHQuaXNBcnJheShoW2NdKSl7aT1FeHQuQXJyYXkuY29udGFpbnMoaFtjXSxlLmlucHV0VmFsdWUpfWVsc2V7aT1oW2NdfX1lLnNldFZhbHVlKGkpfX0pO3JldHVybiBnfSxnZXRWYWx1ZTpmdW5jdGlvbigpe3ZhciBkPXt9LGc9dGhpcy5nZXRCb3hlcygpLGMsaj1nLmxlbmd0aCxoLGUsYSxpO2ZvcihjPTA7YzxqO2MrKyl7aD1nW2NdO2U9aC5nZXROYW1lKCk7YT1oLmlucHV0VmFsdWU7aWYoaC5nZXRWYWx1ZSgpKXtpZihkLmhhc093blByb3BlcnR5KGUpKXtpPWRbZV07aWYoIUV4dC5pc0FycmF5KGkpKXtpPWRbZV09W2ldfWkucHVzaChhKX1lbHNle2RbZV09YX19fXJldHVybiBkfSxnZXRTdWJtaXREYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGdldE1vZGVsRGF0YTpmdW5jdGlvbigpe3JldHVybiBudWxsfSx2YWxpZGF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsZCxjLGI7aWYoYS5kaXNhYmxlZCl7Yz10cnVlfWVsc2V7ZD1hLmdldEVycm9ycygpO2M9RXh0LmlzRW1wdHkoZCk7Yj0hYS5oYXNBY3RpdmVFcnJvcigpO2lmKGMpe2EudW5zZXRBY3RpdmVFcnJvcigpfWVsc2V7YS5zZXRBY3RpdmVFcnJvcihkKX19aWYoYyE9PWIpe2EuZmlyZUV2ZW50KCJ2YWxpZGl0eWNoYW5nZSIsYSxjKTthLnVwZGF0ZUxheW91dCgpfXJldHVybiBjfX0sZnVuY3Rpb24oKXt0aGlzLmJvcnJvdyhFeHQuZm9ybS5maWVsZC5CYXNlLFsibWFya0ludmFsaWQiLCJjbGVhckludmFsaWQiXSl9KTtFeHQuZGVmaW5lKCJFeHQuZm9ybS5SYWRpb0dyb3VwIix7ZXh0ZW5kOiJFeHQuZm9ybS5DaGVja2JveEdyb3VwIixhbGlhczoid2lkZ2V0LnJhZGlvZ3JvdXAiLGFsbG93Qmxhbms6dHJ1ZSxibGFua1RleHQ6IllvdSBtdXN0IHNlbGVjdCBvbmUgaXRlbSBpbiB0aGlzIGdyb3VwIixkZWZhdWx0VHlwZToicmFkaW9maWVsZCIsZ3JvdXBDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImZvcm0tcmFkaW8tZ3JvdXAiLGdldEJveGVzOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnF1ZXJ5KCJbaXNSYWRpb10iKyhhfHwiIikpfSxjaGVja0NoYW5nZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZ2V0VmFsdWUoKSxhPUV4dC5PYmplY3QuZ2V0S2V5cyhiKVswXTtpZihFeHQuaXNBcnJheShiW2FdKSl7cmV0dXJufXRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxzZXRWYWx1ZTpmdW5jdGlvbihkKXt2YXIgaixnLGUsaCxjLGEsYjtpZihFeHQuaXNPYmplY3QoZCkpe2ZvcihiIGluIGQpe2lmKGQuaGFzT3duUHJvcGVydHkoYikpe2o9ZFtiXTtnPXRoaXMuaXRlbXMuZmlyc3QoKTtlPWc/Zy5nZXRGb3JtSWQoKTpudWxsO2g9RXh0LmZvcm0uUmFkaW9NYW5hZ2VyLmdldFdpdGhWYWx1ZShiLGosZSkuaXRlbXM7YT1oLmxlbmd0aDtmb3IoYz0wO2M8YTsrK2Mpe2hbY10uc2V0VmFsdWUodHJ1ZSl9fX19cmV0dXJuIHRoaXN9fSk7RXh0LmRlZmluZSgiRXh0LmxheW91dC5jb250YWluZXIuQ29sdW1uIix7ZXh0ZW5kOiJFeHQubGF5b3V0LmNvbnRhaW5lci5Db250YWluZXIiLGFsaWFzOlsibGF5b3V0LmNvbHVtbiJdLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmxheW91dC5Db2x1bW5MYXlvdXQiLHR5cGU6ImNvbHVtbiIsaXRlbUNsczpFeHQuYmFzZUNTU1ByZWZpeCsiY29sdW1uIix0YXJnZXRDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImNvbHVtbi1sYXlvdXQtY3QiLGNvbHVtbldpZHRoU2l6ZVBvbGljeTp7c2V0c1dpZHRoOjEsc2V0c0hlaWdodDowfSxjaGlsZEVsczpbImlubmVyQ3QiXSxtYW5hZ2VPdmVyZmxvdzoyLHJlbmRlclRwbDpbJzxkaXYgaWQ9Intvd25lcklkfS1pbm5lckN0IiBjbGFzcz0iJyxFeHQuYmFzZUNTU1ByZWZpeCwnY29sdW1uLWlubmVyIj4nLCJ7JXRoaXMucmVuZGVyQm9keShvdXQsdmFsdWVzKSV9IiwnPGRpdiBjbGFzcz0iJyxFeHQuYmFzZUNTU1ByZWZpeCwnY2xlYXIiPjwvZGl2PicsIjwvZGl2PiIsInsldGhpcy5yZW5kZXJQYWRkZXIob3V0LHZhbHVlcyklfSJdLGdldEl0ZW1TaXplUG9saWN5OmZ1bmN0aW9uKGEpe2lmKGEuY29sdW1uV2lkdGgpe3JldHVybiB0aGlzLmNvbHVtbldpZHRoU2l6ZVBvbGljeX1yZXR1cm4gdGhpcy5hdXRvU2l6ZVBvbGljeX0sYmVnaW5MYXlvdXQ6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLmlubmVyQ3QuZG9tLnN0eWxlLndpZHRoPSIifSxjYWxjdWxhdGU6ZnVuY3Rpb24oYyl7dmFyIGE9dGhpcyxkPWEuZ2V0Q29udGFpbmVyU2l6ZShjKSxiPWMuc3RhdGU7aWYoYi5jYWxjdWxhdGVkQ29sdW1uc3x8KGIuY2FsY3VsYXRlZENvbHVtbnM9YS5jYWxjdWxhdGVDb2x1bW5zKGMpKSl7aWYoYS5jYWxjdWxhdGVIZWlnaHRzKGMpKXthLmNhbGN1bGF0ZU92ZXJmbG93KGMsZCk7cmV0dXJufX1hLmRvbmU9ZmFsc2V9LGNhbGN1bGF0ZUNvbHVtbnM6ZnVuY3Rpb24oZCl7dmFyIG09dGhpcyxhPW0uZ2V0Q29udGFpbmVyU2l6ZShkKSxvPWQuZ2V0RWwoImlubmVyQ3QiLG0pLGw9ZC5jaGlsZEl0ZW1zLGo9bC5sZW5ndGgsYj0wLGcsbixlLGMsaCxrO2lmKCFkLmhlaWdodE1vZGVsLnNocmlua1dyYXAmJiFkLnRhcmdldENvbnRleHQuaGFzUHJvcCgiaGVpZ2h0Iikpe3JldHVybiBmYWxzZX1pZighYS5nb3RXaWR0aCl7ZC50YXJnZXRDb250ZXh0LmJsb2NrKG0sIndpZHRoIik7Zz10cnVlfWVsc2V7bj1hLndpZHRoO28uc2V0V2lkdGgobil9Zm9yKGU9MDtlPGo7KytlKXtjPWxbZV07aD1jLmdldE1hcmdpbkluZm8oKS53aWR0aDtpZighYy53aWR0aE1vZGVsLmNhbGN1bGF0ZWQpe2s9Yy5nZXRQcm9wKCJ3aWR0aCIpO2lmKHR5cGVvZiBrIT0ibnVtYmVyIil7Yy5ibG9jayhtLCJ3aWR0aCIpO2c9dHJ1ZX1iKz1rK2h9fWlmKCFnKXtuPShuPGIpPzA6bi1iO2ZvcihlPTA7ZTxqOysrZSl7Yz1sW2VdO2lmKGMud2lkdGhNb2RlbC5jYWxjdWxhdGVkKXtoPWMubWFyZ2luSW5mby53aWR0aDtrPWMudGFyZ2V0LmNvbHVtbldpZHRoO2s9TWF0aC5mbG9vcihrKm4pLWg7az1jLnNldFdpZHRoKGspO2IrPWsraH19ZC5zZXRDb250ZW50V2lkdGgoYil9cmV0dXJuICFnfSxjYWxjdWxhdGVIZWlnaHRzOmZ1bmN0aW9uKGgpe3ZhciBnPXRoaXMsYj1oLmNoaWxkSXRlbXMsYT1iLmxlbmd0aCxjLGQsZTtjPWZhbHNlO2ZvcihkPTA7ZDxhOysrZCl7ZT1iW2RdO2lmKCFlLmhhc0RvbVByb3AoImhlaWdodCIpKXtlLmRvbUJsb2NrKGcsImhlaWdodCIpO2M9dHJ1ZX19aWYoIWMpe2guc2V0Q29udGVudEhlaWdodChnLmlubmVyQ3QuZ2V0SGVpZ2h0KCkraC50YXJnZXRDb250ZXh0LmdldFBhZGRpbmdJbmZvKCkuaGVpZ2h0KX1yZXR1cm4gIWN9LGZpbmlzaGVkTGF5b3V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEuYm9keUNvbnRleHQ7aWYoYiYmKEV4dC5pc0lFNnx8RXh0LmlzSUU3fHxFeHQuaXNJRVF1aXJrcykpe2IuZWwucmVwYWludCgpfXRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxnZXRSZW5kZXJUYXJnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbm5lckN0fX0pO0V4dC5kZWZpbmUoIkV4dC5sYXlvdXQuY29udGFpbmVyLkVkaXRvciIse2FsaWFzOiJsYXlvdXQuZWRpdG9yIixleHRlbmQ6IkV4dC5sYXlvdXQuY29udGFpbmVyLkNvbnRhaW5lciIsYXV0b1NpemVEZWZhdWx0Ont3aWR0aDoiZmllbGQiLGhlaWdodDoiZmllbGQifSxnZXRJdGVtU2l6ZVBvbGljeTpmdW5jdGlvbihjKXt2YXIgYj10aGlzLGE9Yi5vd25lci5hdXRvU2l6ZTtyZXR1cm4gYi5zaXplUG9saWN5fHwoYi5zaXplUG9saWN5PXtzZXRzV2lkdGg6YSYmYS53aWR0aD09PSJib3VuZEVsIj8xOjAsc2V0c0hlaWdodDphJiZhLmhlaWdodD09PSJib3VuZEVsIj8xOjB9KX0sY2FsY3VsYXRlOmZ1bmN0aW9uKGcpe3ZhciBlPXRoaXMsYj1lLm93bmVyLGE9Yi5hdXRvU2l6ZSxkLGM7aWYoYT09PXRydWUpe2E9ZS5hdXRvU2l6ZURlZmF1bHR9aWYoYSl7ZD1lLmdldERpbWVuc2lvbihiLGEud2lkdGgsImdldFdpZHRoIixiLndpZHRoKTtjPWUuZ2V0RGltZW5zaW9uKGIsYS5oZWlnaHQsImdldEhlaWdodCIsYi5oZWlnaHQpfWcuY2hpbGRJdGVtc1swXS5zZXRTaXplKGQsYyk7Zy5zZXRXaWR0aChkKTtnLnNldEhlaWdodChjKTtnLnNldENvbnRlbnRTaXplKGR8fGIuZmllbGQuZ2V0V2lkdGgoKSxjfHxiLmZpZWxkLmdldEhlaWdodCgpKX0sZ2V0RGltZW5zaW9uOmZ1bmN0aW9uKGEsYixkLGMpe3N3aXRjaChiKXtjYXNlImJvdW5kRWwiOnJldHVybiBhLmJvdW5kRWxbZF0oKTtjYXNlImZpZWxkIjpyZXR1cm4gdW5kZWZpbmVkO2RlZmF1bHQ6cmV0dXJuIGN9fX0pO0V4dC5kZWZpbmUoIkV4dC5FZGl0b3IiLHtleHRlbmQ6IkV4dC5jb250YWluZXIuQ29udGFpbmVyIixhbGlhczoid2lkZ2V0LmVkaXRvciIscmVxdWlyZXM6WyJFeHQubGF5b3V0LmNvbnRhaW5lci5FZGl0b3IiXSxsYXlvdXQ6ImVkaXRvciIsYWxsb3dCbHVyOnRydWUscmV2ZXJ0SW52YWxpZDp0cnVlLHZhbHVlOiIiLGFsaWdubWVudDoiYy1jPyIsb2Zmc2V0czpbMCwwXSxzaGFkb3c6ImZyYW1lIixjb25zdHJhaW46ZmFsc2Usc3dhbGxvd0tleXM6dHJ1ZSxjb21wbGV0ZU9uRW50ZXI6dHJ1ZSxjYW5jZWxPbkVzYzp0cnVlLHVwZGF0ZUVsOmZhbHNlLGhpZGRlbjp0cnVlLGJhc2VDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImVkaXRvciIsaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmZpZWxkPUV4dC5Db21wb25lbnRNYW5hZ2VyLmNyZWF0ZShhLmZpZWxkLCJ0ZXh0ZmllbGQiKTtFeHQuYXBwbHkoYix7aW5FZGl0b3I6dHJ1ZSxtc2dUYXJnZXQ6Yi5tc2dUYXJnZXQ9PSJ0aXRsZSI/InRpdGxlIjoicXRpcCJ9KTthLm1vbihiLHtzY29wZTphLGJsdXI6e2ZuOmEub25GaWVsZEJsdXIsZGVsYXk6MX0sc3BlY2lhbGtleTphLm9uU3BlY2lhbEtleX0pO2lmKGIuZ3Jvdyl7YS5tb24oYiwiYXV0b3NpemUiLGEub25GaWVsZEF1dG9zaXplLGEse2RlbGF5OjF9KX1hLmZsb2F0aW5nPXtjb25zdHJhaW46YS5jb25zdHJhaW59O2EuaXRlbXM9YjthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTthLmFkZEV2ZW50cygiYmVmb3Jlc3RhcnRlZGl0Iiwic3RhcnRlZGl0IiwiYmVmb3JlY29tcGxldGUiLCJjb21wbGV0ZSIsImNhbmNlbGVkaXQiLCJzcGVjaWFsa2V5Iil9LG9uRmllbGRBdXRvc2l6ZTpmdW5jdGlvbigpe3RoaXMudXBkYXRlTGF5b3V0KCl9LGFmdGVyUmVuZGVyOmZ1bmN0aW9uKGIsYSl7dmFyIGM9dGhpcyxlPWMuZmllbGQsZD1lLmlucHV0RWw7Yy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoZCl7ZC5kb20ubmFtZT0iIjtpZihjLnN3YWxsb3dLZXlzKXtkLnN3YWxsb3dFdmVudChbImtleXByZXNzIiwia2V5ZG93biJdKX19fSxvblNwZWNpYWxLZXk6ZnVuY3Rpb24oZyxlKXt2YXIgZD10aGlzLGI9ZS5nZXRLZXkoKSxhPWQuY29tcGxldGVPbkVudGVyJiZiPT1lLkVOVEVSLGM9ZC5jYW5jZWxPbkVzYyYmYj09ZS5FU0M7aWYoYXx8Yyl7ZS5zdG9wRXZlbnQoKTtFeHQuZGVmZXIoZnVuY3Rpb24oKXtpZihhKXtkLmNvbXBsZXRlRWRpdCgpfWVsc2V7ZC5jYW5jZWxFZGl0KCl9aWYoZy50cmlnZ2VyQmx1cil7Zy50cmlnZ2VyQmx1cihlKX19LDEwKX1kLmZpcmVFdmVudCgic3BlY2lhbGtleSIsZCxnLGUpfSxzdGFydEVkaXQ6ZnVuY3Rpb24oYSxjKXt2YXIgYj10aGlzLGQ9Yi5maWVsZDtiLmNvbXBsZXRlRWRpdCgpO2IuYm91bmRFbD1FeHQuZ2V0KGEpO2M9RXh0LmlzRGVmaW5lZChjKT9jOkV4dC5TdHJpbmcudHJpbShiLmJvdW5kRWwuZG9tLmlubmVyVGV4dHx8Yi5ib3VuZEVsLmRvbS5pbm5lckhUTUwpO2lmKCFiLnJlbmRlcmVkKXtiLnJlbmRlcihiLnBhcmVudEVsfHxkb2N1bWVudC5ib2R5KX1pZihiLmZpcmVFdmVudCgiYmVmb3Jlc3RhcnRlZGl0IixiLGIuYm91bmRFbCxjKSE9PWZhbHNlKXtiLnN0YXJ0VmFsdWU9YztiLnNob3coKTtkLnN1c3BlbmRFdmVudHMoKTtkLnJlc2V0KCk7ZC5zZXRWYWx1ZShjKTtkLnJlc3VtZUV2ZW50cygpO2IucmVhbGlnbih0cnVlKTtkLmZvY3VzKGZhbHNlLDEwKTtpZihkLmF1dG9TaXplKXtkLmF1dG9TaXplKCl9Yi5lZGl0aW5nPXRydWV9fSxyZWFsaWduOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoYT09PXRydWUpe2IudXBkYXRlTGF5b3V0KCl9Yi5hbGlnblRvKGIuYm91bmRFbCxiLmFsaWdubWVudCxiLm9mZnNldHMpfSxjb21wbGV0ZUVkaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxkPWIuZmllbGQsYztpZighYi5lZGl0aW5nKXtyZXR1cm59aWYoZC5hc3NlcnRWYWx1ZSl7ZC5hc3NlcnRWYWx1ZSgpfWM9Yi5nZXRWYWx1ZSgpO2lmKCFkLmlzVmFsaWQoKSl7aWYoYi5yZXZlcnRJbnZhbGlkIT09ZmFsc2Upe2IuY2FuY2VsRWRpdChhKX1yZXR1cm59aWYoU3RyaW5nKGMpPT09U3RyaW5nKGIuc3RhcnRWYWx1ZSkmJmIuaWdub3JlTm9DaGFuZ2Upe2IuaGlkZUVkaXQoYSk7cmV0dXJufWlmKGIuZmlyZUV2ZW50KCJiZWZvcmVjb21wbGV0ZSIsYixjLGIuc3RhcnRWYWx1ZSkhPT1mYWxzZSl7Yz1iLmdldFZhbHVlKCk7aWYoYi51cGRhdGVFbCYmYi5ib3VuZEVsKXtiLmJvdW5kRWwudXBkYXRlKGMpfWIuaGlkZUVkaXQoYSk7Yi5maXJlRXZlbnQoImNvbXBsZXRlIixiLGMsYi5zdGFydFZhbHVlKX19LG9uU2hvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYS5oaWRlRWwhPT1mYWxzZSl7YS5ib3VuZEVsLmhpZGUoKX1hLmZpcmVFdmVudCgic3RhcnRlZGl0IixhLGEuYm91bmRFbCxhLnN0YXJ0VmFsdWUpfSxjYW5jZWxFZGl0OmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsYj1jLnN0YXJ0VmFsdWUsZT1jLmZpZWxkLGQ7aWYoYy5lZGl0aW5nKXtkPWMuZ2V0VmFsdWUoKTtlLnN1c3BlbmRFdmVudHMoKTtjLnNldFZhbHVlKGIpO2UucmVzdW1lRXZlbnRzKCk7Yy5oaWRlRWRpdChhKTtjLmZpcmVFdmVudCgiY2FuY2VsZWRpdCIsYyxkLGIpfX0saGlkZUVkaXQ6ZnVuY3Rpb24oYSl7aWYoYSE9PXRydWUpe3RoaXMuZWRpdGluZz1mYWxzZTt0aGlzLmhpZGUoKX19LG9uRmllbGRCbHVyOmZ1bmN0aW9uKGQsYyl7dmFyIGE9dGhpcyxiO2lmKGEuYWxsb3dCbHVyPT09dHJ1ZSYmYS5lZGl0aW5nJiZhLnNlbGVjdFNhbWVFZGl0b3IhPT10cnVlKXthLmNvbXBsZXRlRWRpdCgpfWlmKGMmJkV4dC5mbHkoYj1jLmdldFRhcmdldCgpKS5mb2N1c2FibGUoKSl7Yi5mb2N1cygpfX0sb25IaWRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZmllbGQ7aWYoYS5lZGl0aW5nKXthLmNvbXBsZXRlRWRpdCgpO3JldHVybn1pZihiLmhhc0ZvY3VzKXtiLmJsdXIoKX1pZihiLmNvbGxhcHNlKXtiLmNvbGxhcHNlKCl9aWYoYS5oaWRlRWwhPT1mYWxzZSl7YS5ib3VuZEVsLnNob3coKX1hLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7dGhpcy5maWVsZC5zZXRWYWx1ZShhKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5maWVsZC5nZXRWYWx1ZSgpfSxiZWZvcmVEZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztFeHQuZGVzdHJveShhLmZpZWxkKTtkZWxldGUgYS5maWVsZDtkZWxldGUgYS5wYXJlbnRFbDtkZWxldGUgYS5ib3VuZEVsO2EuY2FsbFBhcmVudChhcmd1bWVudHMpfX0pO0V4dC5kZWZpbmUoIkV4dC5ncmlkLkNlbGxFZGl0b3IiLHtleHRlbmQ6IkV4dC5FZGl0b3IiLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe2E9RXh0LmFwcGx5KHt9LGEpO2lmKGEuZmllbGQpe2EuZmllbGQubW9uaXRvclRhYj1mYWxzZX10aGlzLmNhbGxQYXJlbnQoW2FdKX0sb25TaG93OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPWIuYm91bmRFbC5maXJzdCgpLGEsYztpZihkKXthPWQuZG9tLmxhc3RDaGlsZDtpZihhJiZhLm5vZGVUeXBlPT09Myl7Yz1iLmNlbGxUZXh0Tm9kZT1kLmRvbS5sYXN0Q2hpbGQ7Yi5jZWxsVGV4dFZhbHVlPWMubm9kZVZhbHVlO2Mubm9kZVZhbHVlPSJcdTAwYTAifX1iLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sb25IaWRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuYm91bmRFbC5maXJzdCgpO2lmKGImJmEuY2VsbFRleHROb2RlKXthLmNlbGxUZXh0Tm9kZS5ub2RlVmFsdWU9YS5jZWxsVGV4dFZhbHVlO2RlbGV0ZSBhLmNlbGxUZXh0Tm9kZTtkZWxldGUgYS5jZWxsVGV4dFZhbHVlfWEuY2FsbFBhcmVudChhcmd1bWVudHMpfSxhZnRlclJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmZpZWxkO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGIuaXNYVHlwZSgiY2hlY2tib3hmaWVsZCIpKXtiLm1vbihiLmlucHV0RWwse21vdXNlZG93bjphLm9uQ2hlY2tCb3hNb3VzZURvd24sY2xpY2s6YS5vbkNoZWNrQm94Q2xpY2ssc2NvcGU6YX0pfX0sb25DaGVja0JveE1vdXNlRG93bjpmdW5jdGlvbigpe3RoaXMuY29tcGxldGVFZGl0PUV4dC5lbXB0eUZufSxvbkNoZWNrQm94Q2xpY2s6ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5jb21wbGV0ZUVkaXQ7dGhpcy5maWVsZC5mb2N1cyhmYWxzZSwxMCl9LHJlYWxpZ246ZnVuY3Rpb24oZSl7dmFyIGs9dGhpcyxoPWsuYm91bmRFbCxqPWguZmlyc3QoKSxjPWouZG9tLmNoaWxkTm9kZXMsZz1jLmxlbmd0aCxkPUV4dC5BcnJheS5jbG9uZShrLm9mZnNldHMpLGw9ay5maWVsZC5pbnB1dEVsLGIsaSxtLGE7aWYoay5pc0ZvclRyZWUmJihnPjF8fChnPT09MSYmY1swXS5ub2RlVHlwZSE9PTMpKSl7Yj1qLmxhc3QoKTtpPWIuZ2V0T2Zmc2V0c1RvKGopWzBdK2IuZ2V0V2lkdGgoKTttPWouZ2V0V2lkdGgoKTthPW0taTtpZighay5lZGl0aW5nUGx1Z2luLmdyaWQuY29sdW1uTGluZXMpe2EtLX1kWzBdKz1pO2suYWRkQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLWVkaXRvci1vbi10ZXh0LW5vZGUiKX1lbHNle2E9aC5nZXRXaWR0aCgpLTF9aWYoZT09PXRydWUpe2suZmllbGQuc2V0V2lkdGgoYSl9ay5hbGlnblRvKGgsay5hbGlnbm1lbnQsZCl9LG9uRWRpdG9yVGFiOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuZmllbGQ7aWYoYS5vbkVkaXRvclRhYil7YS5vbkVkaXRvclRhYihiKX19LGFsaWdubWVudDoidGwtdGwiLGhpZGVFbDpmYWxzZSxjbHM6RXh0LmJhc2VDU1NQcmVmaXgrInNtYWxsLWVkaXRvciAiK0V4dC5iYXNlQ1NTUHJlZml4KyJncmlkLWVkaXRvciIsc2hpbTpmYWxzZSxzaGFkb3c6ZmFsc2V9KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbnRhaW5lci5GaXQiLHtleHRlbmQ6IkV4dC5sYXlvdXQuY29udGFpbmVyLkNvbnRhaW5lciIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQubGF5b3V0LkZpdExheW91dCIsYWxpYXM6ImxheW91dC5maXQiLGl0ZW1DbHM6RXh0LmJhc2VDU1NQcmVmaXgrImZpdC1pdGVtIix0YXJnZXRDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImxheW91dC1maXQiLHR5cGU6ImZpdCIsZGVmYXVsdE1hcmdpbnM6e3RvcDowLHJpZ2h0OjAsYm90dG9tOjAsbGVmdDowfSxtYW5hZ2VNYXJnaW5zOnRydWUsc2l6ZVBvbGljaWVzOnswOntzZXRzV2lkdGg6MCxzZXRzSGVpZ2h0OjB9LDE6e3NldHNXaWR0aDoxLHNldHNIZWlnaHQ6MH0sMjp7c2V0c1dpZHRoOjAsc2V0c0hlaWdodDoxfSwzOntzZXRzV2lkdGg6MSxzZXRzSGVpZ2h0OjF9fSxnZXRJdGVtU2l6ZVBvbGljeTpmdW5jdGlvbihiKXt2YXIgYT10aGlzLm93bmVyLmdldFNpemVNb2RlbCgpLGM9KGEud2lkdGguc2hyaW5rV3JhcD8wOjEpfChhLmhlaWdodC5zaHJpbmtXcmFwPzA6Mik7cmV0dXJuIHRoaXMuc2l6ZVBvbGljaWVzW2NdfSxiZWdpbkxheW91dEN5Y2xlOmZ1bmN0aW9uKGQscCl7dmFyIGw9dGhpcyxrPWQud2lkdGhNb2RlbCxqPWQuaGVpZ2h0TW9kZWwsaD1kLmNoaWxkSXRlbXMsbj0hay5zaHJpbmtXcmFwLGE9IWouc2hyaW5rV3JhcCxjPWgubGVuZ3RoLG09KGQudGFyZ2V0Q29udGV4dC5lbC5kb20udGFnTmFtZS50b1VwcGVyQ2FzZSgpPT09IlREIiksZyxlLGIsbztsLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtmb3IoZz0wO2c8YzsrK2cpe2I9aFtnXTtpZighcCl7aWYoYi53aWR0aE1vZGVsLmNhbGN1bGF0ZWQ9PW4pe2U9bnVsbH1lbHNle2U9e3dpZHRoTW9kZWw6bj9sLnNpemVNb2RlbHMuY2FsY3VsYXRlZDpiLnNpemVNb2RlbC53aWR0aH19aWYoYi5oZWlnaHRNb2RlbC5jYWxjdWxhdGVkIT1hKXsoZXx8KGU9e30pKS5oZWlnaHRNb2RlbD1hP2wuc2l6ZU1vZGVscy5jYWxjdWxhdGVkOmIuc2l6ZU1vZGVsLmhlaWdodH1pZihlKXtlLmJlZm9yZT1sLm9uQmVmb3JlSW52YWxpZGF0ZUNoaWxkO2IuaW52YWxpZGF0ZShlKX19aWYobSl7bz1iLnRhcmdldC5lbC5kb207aWYoYi5oZWlnaHRNb2RlbC5jYWxjdWxhdGVkKXtvLnN0eWxlLmhlaWdodD0iIn1pZihiLndpZHRoTW9kZWwuY2FsY3VsYXRlZCl7by5zdHlsZS53aWR0aD0iIn19fX0sY2FsY3VsYXRlOmZ1bmN0aW9uKGQpe3ZhciBrPXRoaXMsaj1kLmNoaWxkSXRlbXMsYj1qLmxlbmd0aCxjPXtjb250ZW50V2lkdGg6MCxjb250ZW50SGVpZ2h0OjAsbGVuZ3RoOmIsb3duZXJDb250ZXh0OmQsdGFyZ2V0U2l6ZTprLmdldENvbnRhaW5lclNpemUoZCl9LGc9ZC53aWR0aE1vZGVsLnNocmlua1dyYXAsbT1kLmhlaWdodE1vZGVsLnNocmlua1dyYXAsYT0wLGU9MCxsLGg7Zm9yKGg9MDtoPGI7KytoKXtjLmluZGV4PWg7ay5maXRJdGVtKGpbaF0sYyl9aWYobXx8Zyl7bD1kLnRhcmdldENvbnRleHQuZ2V0UGFkZGluZ0luZm8oKTtpZihnKXthPWwud2lkdGh9aWYobSl7ZT1sLmhlaWdodH19aWYoIWQuc2V0Q29udGVudFNpemUoYy5jb250ZW50V2lkdGgrYSxjLmNvbnRlbnRIZWlnaHQrZSkpe2suZG9uZT1mYWxzZX19LGZpdEl0ZW06ZnVuY3Rpb24oYixjKXt2YXIgYT10aGlzO2lmKGIuaW52YWxpZCl7YS5kb25lPWZhbHNlO3JldHVybn1jLm1hcmdpbnM9Yi5nZXRNYXJnaW5JbmZvKCk7Yy5uZWVkZWQ9Yy5nb3Q9MDthLmZpdEl0ZW1XaWR0aChiLGMpO2EuZml0SXRlbUhlaWdodChiLGMpO2lmKGMuZ290IT1jLm5lZWRlZCl7YS5kb25lPWZhbHNlfX0sZml0SXRlbVdpZHRoOmZ1bmN0aW9uKGEsYil7aWYoYi5vd25lckNvbnRleHQud2lkdGhNb2RlbC5zaHJpbmtXcmFwKXtiLmNvbnRlbnRXaWR0aD1NYXRoLm1heChiLmNvbnRlbnRXaWR0aCxhLmdldFByb3AoIndpZHRoIikrYi5tYXJnaW5zLndpZHRoKX1lbHNle2lmKGEud2lkdGhNb2RlbC5jYWxjdWxhdGVkKXsrK2IubmVlZGVkO2lmKGIudGFyZ2V0U2l6ZS5nb3RXaWR0aCl7KytiLmdvdDt0aGlzLnNldEl0ZW1XaWR0aChhLGIpfX19dGhpcy5wb3NpdGlvbkl0ZW1YKGEsYil9LGZpdEl0ZW1IZWlnaHQ6ZnVuY3Rpb24oYSxiKXtpZihiLm93bmVyQ29udGV4dC5oZWlnaHRNb2RlbC5zaHJpbmtXcmFwKXtiLmNvbnRlbnRIZWlnaHQ9TWF0aC5tYXgoYi5jb250ZW50SGVpZ2h0LGEuZ2V0UHJvcCgiaGVpZ2h0IikrYi5tYXJnaW5zLmhlaWdodCl9ZWxzZXtpZihhLmhlaWdodE1vZGVsLmNhbGN1bGF0ZWQpeysrYi5uZWVkZWQ7aWYoYi50YXJnZXRTaXplLmdvdEhlaWdodCl7KytiLmdvdDt0aGlzLnNldEl0ZW1IZWlnaHQoYSxiKX19fXRoaXMucG9zaXRpb25JdGVtWShhLGIpfSxvbkJlZm9yZUludmFsaWRhdGVDaGlsZDpmdW5jdGlvbihiLGEpeysrYi5jb250ZXh0LnByb2dyZXNzQ291bnQ7aWYoYS53aWR0aE1vZGVsKXtiLndpZHRoTW9kZWw9YS53aWR0aE1vZGVsfWlmKGEuaGVpZ2h0TW9kZWwpe2IuaGVpZ2h0TW9kZWw9YS5oZWlnaHRNb2RlbH19LHBvc2l0aW9uSXRlbVg6ZnVuY3Rpb24oYSxjKXt2YXIgYj1jLm1hcmdpbnM7aWYoYy5pbmRleHx8Yi5sZWZ0KXthLnNldFByb3AoIngiLGIubGVmdCl9aWYoYi53aWR0aCl7YS5zZXRQcm9wKCJtYXJnaW4tcmlnaHQiLGIud2lkdGgpfX0scG9zaXRpb25JdGVtWTpmdW5jdGlvbihhLGMpe3ZhciBiPWMubWFyZ2lucztpZihjLmluZGV4fHxiLnRvcCl7YS5zZXRQcm9wKCJ5IixiLnRvcCl9aWYoYi5oZWlnaHQpe2Euc2V0UHJvcCgibWFyZ2luLWJvdHRvbSIsYi5oZWlnaHQpfX0sc2V0SXRlbUhlaWdodDpmdW5jdGlvbihhLGIpe2Euc2V0SGVpZ2h0KGIudGFyZ2V0U2l6ZS5oZWlnaHQtYi5tYXJnaW5zLmhlaWdodCl9LHNldEl0ZW1XaWR0aDpmdW5jdGlvbihhLGIpe2Euc2V0V2lkdGgoYi50YXJnZXRTaXplLndpZHRoLWIubWFyZ2lucy53aWR0aCl9fSk7RXh0LmRlZmluZSgiRXh0LmxheW91dC5jb250YWluZXIuQ2FyZCIse2V4dGVuZDoiRXh0LmxheW91dC5jb250YWluZXIuRml0IixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5sYXlvdXQuQ2FyZExheW91dCIsYWxpYXM6ImxheW91dC5jYXJkIix0eXBlOiJjYXJkIixoaWRlSW5hY3RpdmU6dHJ1ZSxkZWZlcnJlZFJlbmRlcjpmYWxzZSxnZXRSZW5kZXJUcmVlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZ2V0QWN0aXZlSXRlbSgpO2lmKGIpe2lmKGIuaGFzTGlzdGVuZXJzLmJlZm9yZWFjdGl2YXRlJiZiLmZpcmVFdmVudCgiYmVmb3JlYWN0aXZhdGUiLGIpPT09ZmFsc2Upe2I9YS5hY3RpdmVJdGVtPWEub3duZXIuYWN0aXZlSXRlbT1udWxsfWVsc2V7aWYoYi5oYXNMaXN0ZW5lcnMuYWN0aXZhdGUpe2Iub24oe2JveHJlYWR5OmZ1bmN0aW9uKCl7Yi5maXJlRXZlbnQoImFjdGl2YXRlIixiKX0sc2luZ2xlOnRydWV9KX19aWYoYS5kZWZlcnJlZFJlbmRlcil7aWYoYil7cmV0dXJuIGEuZ2V0SXRlbXNSZW5kZXJUcmVlKFtiXSl9fWVsc2V7cmV0dXJuIGEuY2FsbFBhcmVudChhcmd1bWVudHMpfX19LHJlbmRlckNoaWxkcmVuOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZ2V0QWN0aXZlSXRlbSgpO2lmKCFhLmRlZmVycmVkUmVuZGVyKXthLmNhbGxQYXJlbnQoKX1lbHNle2lmKGIpe2EucmVuZGVySXRlbXMoW2JdLGEuZ2V0UmVuZGVyVGFyZ2V0KCkpfX19LGlzVmFsaWRQYXJlbnQ6ZnVuY3Rpb24oYyxkLGEpe3ZhciBiPWMuZWw/Yy5lbC5kb206RXh0LmdldERvbShjKTtyZXR1cm4oYiYmYi5wYXJlbnROb2RlPT09KGQuZG9tfHxkKSl8fGZhbHNlfSxnZXRBY3RpdmVJdGVtOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIucGFyc2VBY3RpdmVJdGVtKGIuYWN0aXZlSXRlbXx8KGIub3duZXImJmIub3duZXIuYWN0aXZlSXRlbSkpO2lmKGEmJmIub3duZXIuaXRlbXMuaW5kZXhPZihhKSE9LTEpe2IuYWN0aXZlSXRlbT1hfWVsc2V7Yi5hY3RpdmVJdGVtPW51bGx9cmV0dXJuIGIuYWN0aXZlSXRlbX0scGFyc2VBY3RpdmVJdGVtOmZ1bmN0aW9uKGEpe2lmKGEmJmEuaXNDb21wb25lbnQpe3JldHVybiBhfWVsc2V7aWYodHlwZW9mIGE9PSJudW1iZXIifHxhPT09dW5kZWZpbmVkKXtyZXR1cm4gdGhpcy5nZXRMYXlvdXRJdGVtcygpW2F8fDBdfWVsc2V7cmV0dXJuIHRoaXMub3duZXIuZ2V0Q29tcG9uZW50KGEpfX19LGNvbmZpZ3VyZUl0ZW06ZnVuY3Rpb24oYSl7aWYoYT09PXRoaXMuZ2V0QWN0aXZlSXRlbSgpKXthLmhpZGRlbj1mYWxzZX1lbHNle2EuaGlkZGVuPXRydWV9dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LG9uUmVtb3ZlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoYT09PWIuYWN0aXZlSXRlbSl7Yi5hY3RpdmVJdGVtPW51bGx9fSxnZXRBbmltYXRpb246ZnVuY3Rpb24oYixhKXt2YXIgYz0oYnx8e30pLmNhcmRTd2l0Y2hBbmltYXRpb247aWYoYz09PWZhbHNlKXtyZXR1cm4gZmFsc2V9cmV0dXJuIGN8fGEuY2FyZFN3aXRjaEFuaW1hdGlvbn0sZ2V0TmV4dDpmdW5jdGlvbigpe3ZhciBjPWFyZ3VtZW50c1swXSxhPXRoaXMuZ2V0TGF5b3V0SXRlbXMoKSxiPUV4dC5BcnJheS5pbmRleE9mKGEsdGhpcy5hY3RpdmVJdGVtKTtyZXR1cm4gYVtiKzFdfHwoYz9hWzBdOmZhbHNlKX0sbmV4dDpmdW5jdGlvbigpe3ZhciBiPWFyZ3VtZW50c1swXSxhPWFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5zZXRBY3RpdmVJdGVtKHRoaXMuZ2V0TmV4dChhKSxiKX0sZ2V0UHJldjpmdW5jdGlvbigpe3ZhciBjPWFyZ3VtZW50c1swXSxhPXRoaXMuZ2V0TGF5b3V0SXRlbXMoKSxiPUV4dC5BcnJheS5pbmRleE9mKGEsdGhpcy5hY3RpdmVJdGVtKTtyZXR1cm4gYVtiLTFdfHwoYz9hW2EubGVuZ3RoLTFdOmZhbHNlKX0scHJldjpmdW5jdGlvbigpe3ZhciBiPWFyZ3VtZW50c1swXSxhPWFyZ3VtZW50c1sxXTtyZXR1cm4gdGhpcy5zZXRBY3RpdmVJdGVtKHRoaXMuZ2V0UHJldihhKSxiKX0sc2V0QWN0aXZlSXRlbTpmdW5jdGlvbihiKXt2YXIgZT10aGlzLGE9ZS5vd25lcixkPWUuYWN0aXZlSXRlbSxnPWEucmVuZGVyZWQsYztiPWUucGFyc2VBY3RpdmVJdGVtKGIpO2M9YS5pdGVtcy5pbmRleE9mKGIpO2lmKGM9PS0xKXtjPWEuaXRlbXMuaXRlbXMubGVuZ3RoO0V4dC5zdXNwZW5kTGF5b3V0cygpO2I9YS5hZGQoYik7RXh0LnJlc3VtZUxheW91dHMoKX1pZihiJiZkIT1iKXtpZihiLmZpcmVFdmVudCgiYmVmb3JlYWN0aXZhdGUiLGIsZCk9PT1mYWxzZSl7cmV0dXJuIGZhbHNlfWlmKGQmJmQuZmlyZUV2ZW50KCJiZWZvcmVkZWFjdGl2YXRlIixkLGIpPT09ZmFsc2Upe3JldHVybiBmYWxzZX1pZihnKXtFeHQuc3VzcGVuZExheW91dHMoKTtpZighYi5yZW5kZXJlZCl7ZS5yZW5kZXJJdGVtKGIsZS5nZXRSZW5kZXJUYXJnZXQoKSxhLml0ZW1zLmxlbmd0aCl9aWYoZCl7aWYoZS5oaWRlSW5hY3RpdmUpe2QuaGlkZSgpO2QuaGlkZGVuQnlMYXlvdXQ9dHJ1ZX1kLmZpcmVFdmVudCgiZGVhY3RpdmF0ZSIsZCxiKX1pZihiLmhpZGRlbil7Yi5zaG93KCl9aWYoIWIuaGlkZGVuKXtlLmFjdGl2ZUl0ZW09Yn1FeHQucmVzdW1lTGF5b3V0cyh0cnVlKX1lbHNle2UuYWN0aXZlSXRlbT1ifWIuZmlyZUV2ZW50KCJhY3RpdmF0ZSIsYixkKTtyZXR1cm4gZS5hY3RpdmVJdGVtfXJldHVybiBmYWxzZX19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbnRhaW5lci5Gb3JtIix7YWxpYXM6ImxheW91dC5mb3JtIixleHRlbmQ6IkV4dC5sYXlvdXQuY29udGFpbmVyLkF1dG8iLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmxheW91dC5Gb3JtTGF5b3V0Iix0YWJsZUNsczpFeHQuYmFzZUNTU1ByZWZpeCsiZm9ybS1sYXlvdXQtdGFibGUiLHR5cGU6ImZvcm0iLG1hbmFnZU92ZXJmbG93OjIsY2hpbGRFbHM6WyJmb3JtVGFibGUiXSxwYWRSb3c6Jzx0cj48dGQgY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrJ2Zvcm0taXRlbS1wYWQiIGNvbHNwYW49IjMiPjwvdGQ+PC90cj4nLHJlbmRlclRwbDpbJzx0YWJsZSBpZD0ie293bmVySWR9LWZvcm1UYWJsZSIgY2xhc3M9Int0YWJsZUNsc30iIHN0eWxlPSJ3aWR0aDoxMDAlIiBjZWxscGFkZGluZz0iMCI+JywieyV0aGlzLnJlbmRlckJvZHkob3V0LHZhbHVlcyklfSIsIjwvdGFibGU+IiwieyV0aGlzLnJlbmRlclBhZGRlcihvdXQsdmFsdWVzKSV9Il0sZ2V0UmVuZGVyRGF0YTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuY2FsbFBhcmVudCgpO2EudGFibGVDbHM9dGhpcy50YWJsZUNscztyZXR1cm4gYX0sY2FsY3VsYXRlOmZ1bmN0aW9uKGUpe3ZhciBkPXRoaXMsaD1kLmdldENvbnRhaW5lclNpemUoZSx0cnVlKSxhLGcsYj0wLGM7aWYoaC5nb3RXaWR0aCl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YT1kLmZvcm1UYWJsZS5kb20ub2Zmc2V0V2lkdGg7Zz1lLmNoaWxkSXRlbXM7Zm9yKGM9Zy5sZW5ndGg7YjxjOysrYil7Z1tiXS5zZXRXaWR0aChhLGZhbHNlKX19ZWxzZXtkLmRvbmU9ZmFsc2V9fSxnZXRSZW5kZXJUYXJnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mb3JtVGFibGV9LGdldFJlbmRlclRyZWU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKSxjPTAsYT1iLmxlbmd0aCxkO2Zvcig7YzxhO2MrKyl7ZD1iW2NdO2lmKGQudGFnJiZkLnRhZz09InRhYmxlIil7ZC50YWc9InRib2R5IjtkZWxldGUgZC5jZWxsc3BhY2luZztkZWxldGUgZC5jZWxscGFkZGluZztpZihFeHQuaXNJRTYpe2QuY249dGhpcy5wYWRSb3d9fWVsc2V7YltjXT17dGFnOiJ0Ym9keSIsY246e3RhZzoidHIiLGNuOnt0YWc6InRkIixjb2xzcGFuOjMsc3R5bGU6IndpZHRoOjEwMCUiLGNuOmR9fX19fXJldHVybiBifSxpc1ZhbGlkUGFyZW50OmZ1bmN0aW9uKGIsYyxhKXtyZXR1cm4gdHJ1ZX0saXNJdGVtU2hyaW5rV3JhcDpmdW5jdGlvbihhKXtyZXR1cm4oKGEuc2hyaW5rV3JhcD09PXRydWUpPzM6YS5zaHJpbmtXcmFwfHwwKSYyfSxnZXRJdGVtU2l6ZVBvbGljeTpmdW5jdGlvbihhKXtyZXR1cm57c2V0c1dpZHRoOjEsc2V0c0hlaWdodDowfX19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbnRhaW5lci5UYWJsZSIse2FsaWFzOlsibGF5b3V0LnRhYmxlIl0sZXh0ZW5kOiJFeHQubGF5b3V0LmNvbnRhaW5lci5Db250YWluZXIiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmxheW91dC5UYWJsZUxheW91dCIsbW9uaXRvclJlc2l6ZTpmYWxzZSx0eXBlOiJ0YWJsZSIsY2xlYXJFbDp0cnVlLHRhcmdldENsczpFeHQuYmFzZUNTU1ByZWZpeCsidGFibGUtbGF5b3V0LWN0Iix0YWJsZUNsczpFeHQuYmFzZUNTU1ByZWZpeCsidGFibGUtbGF5b3V0IixjZWxsQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJ0YWJsZS1sYXlvdXQtY2VsbCIsdGFibGVBdHRyczpudWxsLGl0ZW1TaXplUG9saWN5OntzZXRzV2lkdGg6MCxzZXRzSGVpZ2h0OjB9LGdldEl0ZW1TaXplUG9saWN5OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLml0ZW1TaXplUG9saWN5fSxnZXRMYXlvdXRJdGVtczpmdW5jdGlvbigpe3ZhciBnPXRoaXMsYj1bXSxjPWcuY2FsbFBhcmVudCgpLGUsYT1jLmxlbmd0aCxkO2ZvcihkPTA7ZDxhO2QrKyl7ZT1jW2RdO2lmKCFlLmhpZGRlbil7Yi5wdXNoKGUpfX1yZXR1cm4gYn0scmVuZGVyQ2hpbGRyZW46ZnVuY3Rpb24oKXt2YXIgaj10aGlzLGg9ai5nZXRMYXlvdXRJdGVtcygpLGU9ai5vd25lci5nZXRUYXJnZXRFbCgpLmNoaWxkKCJ0YWJsZSIsdHJ1ZSkudEJvZGllc1swXSxwPWUucm93cyxkPTAsZz1oLmxlbmd0aCxvLG0sYyxhLG4sbCxrLGI7bz1qLmNhbGN1bGF0ZUNlbGxzKGgpO2Zvcig7ZDxnO2QrKyl7bT1vW2RdO2M9bS5yb3dJZHg7YT1tLmNlbGxJZHg7bj1oW2RdO2w9cFtjXTtpZighbCl7bD1lLmluc2VydFJvdyhjKTtpZihqLnRyQXR0cnMpe2wuc2V0KGoudHJBdHRycyl9fWI9az1FeHQuZ2V0KGwuY2VsbHNbYV18fGwuaW5zZXJ0Q2VsbChhKSk7aWYoai5uZWVkc0RpdldyYXAoKSl7Yj1rLmZpcnN0KCl8fGsuY3JlYXRlQ2hpbGQoe3RhZzoiZGl2In0pO2Iuc2V0V2lkdGgobnVsbCl9aWYoIW4ucmVuZGVyZWQpe2oucmVuZGVySXRlbShuLGIsMCl9ZWxzZXtpZighai5pc1ZhbGlkUGFyZW50KG4sYixjLGEsZSkpe2oubW92ZUl0ZW0obixiLDApfX1pZihqLnRkQXR0cnMpe2suc2V0KGoudGRBdHRycyl9aWYobi50ZEF0dHJzKXtrLnNldChuLnRkQXR0cnMpfWsuc2V0KHtjb2xTcGFuOm4uY29sc3Bhbnx8MSxyb3dTcGFuOm4ucm93c3Bhbnx8MSxpZDpuLmNlbGxJZHx8IiIsY2xzOmouY2VsbENscysiICIrKG4uY2VsbENsc3x8IiIpfSk7aWYoIW9bZCsxXXx8b1tkKzFdLnJvd0lkeCE9PWMpe2ErKzt3aGlsZShsLmNlbGxzW2FdKXtsLmRlbGV0ZUNlbGwoYSl9fX1jKys7d2hpbGUoZS5yb3dzW2NdKXtlLmRlbGV0ZVJvdyhjKX19LGNhbGN1bGF0ZTpmdW5jdGlvbihnKXtpZighZy5oYXNEb21Qcm9wKCJjb250YWluZXJDaGlsZHJlbkRvbmUiKSl7dGhpcy5kb25lPWZhbHNlfWVsc2V7dmFyIGM9Zy50YXJnZXRDb250ZXh0LGI9Zy53aWR0aE1vZGVsLnNocmlua1dyYXAsYT1nLmhlaWdodE1vZGVsLnNocmlua1dyYXAsaD1hfHxiLGQ9aCYmYy5lbC5jaGlsZCgidGFibGUiLHRydWUpLGU9aCYmYy5nZXRQYWRkaW5nSW5mbygpO2lmKGIpe2cuc2V0Q29udGVudFdpZHRoKGQub2Zmc2V0V2lkdGgrZS53aWR0aCx0cnVlKX1pZihhKXtnLnNldENvbnRlbnRIZWlnaHQoZC5vZmZzZXRIZWlnaHQrZS5oZWlnaHQsdHJ1ZSl9fX0sZmluYWxpemVMYXlvdXQ6ZnVuY3Rpb24oKXtpZih0aGlzLm5lZWRzRGl2V3JhcCgpKXt2YXIgYj10aGlzLmdldExheW91dEl0ZW1zKCksYyxhPWIubGVuZ3RoLGQ7Zm9yKGM9MDtjPGE7YysrKXtkPWJbY107RXh0LmZseShkLmVsLmRvbS5wYXJlbnROb2RlKS5zZXRXaWR0aChkLmdldFdpZHRoKCkpfX1pZihFeHQuaXNJRTZ8fChFeHQuaXNJRVF1aXJrcykpe3RoaXMub3duZXIuZ2V0VGFyZ2V0RWwoKS5jaGlsZCgidGFibGUiKS5yZXBhaW50KCl9fSxjYWxjdWxhdGVDZWxsczpmdW5jdGlvbihrKXt2YXIgbT1bXSxiPTAsZD0wLGE9MCxoPXRoaXMuY29sdW1uc3x8SW5maW5pdHksbj1bXSxlPTAsYyxnPWsubGVuZ3RoLGw7Zm9yKDtlPGc7ZSsrKXtsPWtbZV07d2hpbGUoZD49aHx8bltkXT4wKXtpZihkPj1oKXtkPTA7YT0wO2IrKztmb3IoYz0wO2M8aDtjKyspe2lmKG5bY10+MCl7bltjXS0tfX19ZWxzZXtkKyt9fW0ucHVzaCh7cm93SWR4OmIsY2VsbElkeDphfSk7Zm9yKGM9bC5jb2xzcGFufHwxO2M7LS1jKXtuW2RdPWwucm93c3Bhbnx8MTsrK2R9KythfXJldHVybiBtfSxnZXRSZW5kZXJUcmVlOmZ1bmN0aW9uKCl7dmFyIGs9dGhpcyxoPWsuZ2V0TGF5b3V0SXRlbXMoKSxvLHA9W10scT1FeHQuYXBwbHkoe3RhZzoidGFibGUiLHJvbGU6InByZXNlbnRhdGlvbiIsY2xzOmsudGFibGVDbHMsY2VsbHNwYWNpbmc6MCxjbjp7dGFnOiJ0Ym9keSIsY246cH19LGsudGFibGVBdHRycyksYz1rLnRkQXR0cnMsZD1rLm5lZWRzRGl2V3JhcCgpLGUsZz1oLmxlbmd0aCxuLG0saixiLGEsbDtvPWsuY2FsY3VsYXRlQ2VsbHMoaCk7Zm9yKGU9MDtlPGc7ZSsrKXtuPWhbZV07bT1vW2VdO2I9bS5yb3dJZHg7YT1tLmNlbGxJZHg7aj1wW2JdO2lmKCFqKXtqPXBbYl09e3RhZzoidHIiLGNuOltdfTtpZihrLnRyQXR0cnMpe0V4dC5hcHBseShqLGsudHJBdHRycyl9fWw9ai5jblthXT17dGFnOiJ0ZCJ9O2lmKGMpe0V4dC5hcHBseShsLGMpfUV4dC5hcHBseShsLHtjb2xTcGFuOm4uY29sc3Bhbnx8MSxyb3dTcGFuOm4ucm93c3Bhbnx8MSxpZDpuLmNlbGxJZHx8IiIsY2xzOmsuY2VsbENscysiICIrKG4uY2VsbENsc3x8IiIpfSk7aWYoZCl7bD1sLmNuPXt0YWc6ImRpdiJ9fWsuY29uZmlndXJlSXRlbShuKTtsLmNuPW4uZ2V0UmVuZGVyVHJlZSgpfXJldHVybiBxfSxpc1ZhbGlkUGFyZW50OmZ1bmN0aW9uKGcsaCxlLGQpe3ZhciBiLGEsYztpZihhcmd1bWVudHMubGVuZ3RoPT09Myl7Yz1nLmVsLnVwKCJ0YWJsZSIpO3JldHVybiBjJiZjLmRvbS5wYXJlbnROb2RlPT09aC5kb219Yj10aGlzLm93bmVyLmdldFRhcmdldEVsKCkuY2hpbGQoInRhYmxlIix0cnVlKS50Qm9kaWVzWzBdO2E9Yi5yb3dzW2VdLmNlbGxzW2RdO3JldHVybiBnLmVsLmRvbS5wYXJlbnROb2RlPT09YX0sbmVlZHNEaXZXcmFwOmZ1bmN0aW9uKCl7cmV0dXJuIEV4dC5pc09wZXJhMTBfNX19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbnRhaW5lci5ib3hPdmVyZmxvdy5TY3JvbGxlciIse2V4dGVuZDoiRXh0LmxheW91dC5jb250YWluZXIuYm94T3ZlcmZsb3cuTm9uZSIscmVxdWlyZXM6WyJFeHQudXRpbC5DbGlja1JlcGVhdGVyIiwiRXh0LkVsZW1lbnQiXSxhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5sYXlvdXQuYm94T3ZlcmZsb3cuU2Nyb2xsZXIiLG1peGluczp7b2JzZXJ2YWJsZToiRXh0LnV0aWwuT2JzZXJ2YWJsZSJ9LGFuaW1hdGVTY3JvbGw6ZmFsc2Usc2Nyb2xsSW5jcmVtZW50OjIwLHdoZWVsSW5jcmVtZW50OjEwLHNjcm9sbFJlcGVhdEludGVydmFsOjYwLHNjcm9sbER1cmF0aW9uOjQwMCxzY3JvbGxlckNsczpFeHQuYmFzZUNTU1ByZWZpeCsiYm94LXNjcm9sbGVyIixjb25zdHJ1Y3RvcjpmdW5jdGlvbihjLGEpe3ZhciBiPXRoaXM7Yi5sYXlvdXQ9YztFeHQuYXBwbHkoYixhfHx7fSk7Yi5taXhpbnMub2JzZXJ2YWJsZS5jb25zdHJ1Y3Rvci5jYWxsKGIpO2IuYWRkRXZlbnRzKCJzY3JvbGwiKTtiLnNjcm9sbFBvc2l0aW9uPTA7Yi5zY3JvbGxTaXplPTB9LGdldFByZWZpeENvbmZpZzpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5pbml0Q1NTQ2xhc3NlcygpO3JldHVybntjbHM6RXh0LmxheW91dC5jb250YWluZXIuQm94LnByb3RvdHlwZS5pbm5lckNscysiICIrYS5iZWZvcmVDdENscyxjbjp7aWQ6YS5sYXlvdXQub3duZXIuaWQrIi1iZWZvcmUtc2Nyb2xsZXIiLGNsczphLnNjcm9sbGVyQ2xzKyIgIithLmJlZm9yZVNjcm9sbGVyQ2xzLHN0eWxlOiJkaXNwbGF5Om5vbmUifX19LGdldFN1ZmZpeENvbmZpZzpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJue2NsczpFeHQubGF5b3V0LmNvbnRhaW5lci5Cb3gucHJvdG90eXBlLmlubmVyQ2xzKyIgIithLmFmdGVyQ3RDbHMsY246e2lkOmEubGF5b3V0Lm93bmVyLmlkKyItYWZ0ZXItc2Nyb2xsZXIiLGNsczphLnNjcm9sbGVyQ2xzKyIgIithLmFmdGVyU2Nyb2xsZXJDbHMsc3R5bGU6ImRpc3BsYXk6bm9uZSJ9fX0sZ2V0T3ZlcmZsb3dDbHM6ZnVuY3Rpb24oKXtyZXR1cm4gRXh0LmJhc2VDU1NQcmVmaXgrdGhpcy5sYXlvdXQuZGlyZWN0aW9uKyItYm94LW92ZXJmbG93LWJvZHkifSxpbml0Q1NTQ2xhc3NlczpmdW5jdGlvbigpe3ZhciBkPXRoaXMsZT1FeHQuYmFzZUNTU1ByZWZpeCxjPWQubGF5b3V0LGc9Yy5nZXROYW1lcygpLGE9Zy5sZWZ0LGg9Zy5yaWdodCxiPWQuZ2V0T3duZXJUeXBlKGMub3duZXIpO2QuYmVmb3JlQ3RDbHM9ZC5iZWZvcmVDdENsc3x8ZSsiYm94LXNjcm9sbGVyLSIrYTtkLmFmdGVyQ3RDbHM9ZC5hZnRlckN0Q2xzfHxlKyJib3gtc2Nyb2xsZXItIitoO2QuYmVmb3JlU2Nyb2xsZXJDbHM9ZC5iZWZvcmVTY3JvbGxlckNsc3x8ZStiKyItc2Nyb2xsLSIrYTtkLmFmdGVyU2Nyb2xsZXJDbHM9ZC5hZnRlclNjcm9sbGVyQ2xzfHxlK2IrIi1zY3JvbGwtIitofSxiZWdpbkxheW91dDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLmxheW91dCxjPWEuZ2V0TmFtZXMoKTtiLmlubmVyQ3RTY3JvbGxQb3M9YS5pbm5lckN0LmRvbVsic2Nyb2xsIitjLmxlZnRDYXBdO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxjb21wbGV0ZUxheW91dDpmdW5jdGlvbihhKXt0aGlzLnNjcm9sbFNpemU9YS5wcm9wc1siY29udGVudCIrdGhpcy5sYXlvdXQuZ2V0TmFtZXMoKS53aWR0aENhcF07dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGZpbmlzaGVkTGF5b3V0OmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT1iLmxheW91dCxkPWEuZ2V0TmFtZXMoKSxlPU1hdGgubWluKGIuZ2V0TWF4U2Nyb2xsUG9zaXRpb24oKSxjLmlubmVyQ3RTY3JvbGxQb3MpO2EuaW5uZXJDdC5kb21bInNjcm9sbCIrZC5sZWZ0Q2FwXT1lfSxoYW5kbGVPdmVyZmxvdzpmdW5jdGlvbihkKXt2YXIgYz10aGlzLGI9Yy5sYXlvdXQsZT1iLmdldE5hbWVzKCksYT0iZ2V0IitlLndpZHRoQ2FwO2MuY2FwdHVyZUNoaWxkRWxlbWVudHMoKTtjLnNob3dTY3JvbGxlcnMoKTtyZXR1cm57cmVzZXJ2ZWRTcGFjZTpjLmJlZm9yZUN0W2FdKCkrYy5hZnRlckN0W2FdKCl9fSxjYXB0dXJlQ2hpbGRFbGVtZW50czpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmxheW91dC5vd25lci5lbCxjLGQ7aWYoIWIuYmVmb3JlQ3Qpe2M9Yi5iZWZvcmVTY3JvbGxlcj1hLmdldEJ5SWQoYi5sYXlvdXQub3duZXIuaWQrIi1iZWZvcmUtc2Nyb2xsZXIiKTtkPWIuYWZ0ZXJTY3JvbGxlcj1hLmdldEJ5SWQoYi5sYXlvdXQub3duZXIuaWQrIi1hZnRlci1zY3JvbGxlciIpO2IuYmVmb3JlQ3Q9Yy51cCgiIik7Yi5hZnRlckN0PWQudXAoIiIpO2IuY3JlYXRlV2hlZWxMaXN0ZW5lcigpO2MuYWRkQ2xzT25PdmVyKGIuYmVmb3JlU2Nyb2xsZXJDbHMrIi1ob3ZlciIpO2QuYWRkQ2xzT25PdmVyKGIuYWZ0ZXJTY3JvbGxlckNscysiLWhvdmVyIik7Yy5zZXRWaXNpYmlsaXR5TW9kZShFeHQuRWxlbWVudC5ESVNQTEFZKTtkLnNldFZpc2liaWxpdHlNb2RlKEV4dC5FbGVtZW50LkRJU1BMQVkpO2IuYmVmb3JlUmVwZWF0ZXI9bmV3IEV4dC51dGlsLkNsaWNrUmVwZWF0ZXIoYyx7aW50ZXJ2YWw6Yi5zY3JvbGxSZXBlYXRJbnRlcnZhbCxoYW5kbGVyOmIuc2Nyb2xsTGVmdCxzY29wZTpifSk7Yi5hZnRlclJlcGVhdGVyPW5ldyBFeHQudXRpbC5DbGlja1JlcGVhdGVyKGQse2ludGVydmFsOmIuc2Nyb2xsUmVwZWF0SW50ZXJ2YWwsaGFuZGxlcjpiLnNjcm9sbFJpZ2h0LHNjb3BlOmJ9KX19LGNyZWF0ZVdoZWVsTGlzdGVuZXI6ZnVuY3Rpb24oKXt0aGlzLmxheW91dC5pbm5lckN0Lm9uKHttb3VzZXdoZWVsOmZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsQnkoYS5nZXRXaGVlbERlbHRhKCkqdGhpcy53aGVlbEluY3JlbWVudCotMSxmYWxzZSl9LHN0b3BFdmVudDp0cnVlLHNjb3BlOnRoaXN9KX0sY2xlYXJPdmVyZmxvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXMubGF5b3V0O3RoaXMuaGlkZVNjcm9sbGVycygpfSxzaG93U2Nyb2xsZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhcHR1cmVDaGlsZEVsZW1lbnRzKCk7YS5iZWZvcmVTY3JvbGxlci5zaG93KCk7YS5hZnRlclNjcm9sbGVyLnNob3coKTthLnVwZGF0ZVNjcm9sbEJ1dHRvbnMoKTthLmxheW91dC5vd25lci5hZGRDbHNXaXRoVUkoInNjcm9sbGVyIil9LGhpZGVTY3JvbGxlcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuYmVmb3JlU2Nyb2xsZXIhPT11bmRlZmluZWQpe2EuYmVmb3JlU2Nyb2xsZXIuaGlkZSgpO2EuYWZ0ZXJTY3JvbGxlci5oaWRlKCk7YS5sYXlvdXQub3duZXIucmVtb3ZlQ2xzV2l0aFVJKCJzY3JvbGxlciIpfX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7RXh0LmRlc3Ryb3koYS5iZWZvcmVSZXBlYXRlcixhLmFmdGVyUmVwZWF0ZXIsYS5iZWZvcmVTY3JvbGxlcixhLmFmdGVyU2Nyb2xsZXIsYS5iZWZvcmVDdCxhLmFmdGVyQ3QpfSxzY3JvbGxCeTpmdW5jdGlvbihiLGEpe3RoaXMuc2Nyb2xsVG8odGhpcy5nZXRTY3JvbGxQb3NpdGlvbigpK2IsYSl9LGdldFNjcm9sbEFuaW06ZnVuY3Rpb24oKXtyZXR1cm57ZHVyYXRpb246dGhpcy5zY3JvbGxEdXJhdGlvbixjYWxsYmFjazp0aGlzLnVwZGF0ZVNjcm9sbEJ1dHRvbnMsc2NvcGU6dGhpc319LHVwZGF0ZVNjcm9sbEJ1dHRvbnM6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGUsYyxhLGI7aWYoZC5iZWZvcmVTY3JvbGxlcj09PXVuZGVmaW5lZHx8ZC5hZnRlclNjcm9sbGVyPT09dW5kZWZpbmVkKXtyZXR1cm59ZT1kLmF0RXh0cmVtZUJlZm9yZSgpPyJhZGRDbHMiOiJyZW1vdmVDbHMiO2M9ZC5hdEV4dHJlbWVBZnRlcigpPyJhZGRDbHMiOiJyZW1vdmVDbHMiO2E9ZC5iZWZvcmVTY3JvbGxlckNscysiLWRpc2FibGVkIjtiPWQuYWZ0ZXJTY3JvbGxlckNscysiLWRpc2FibGVkIjtkLmJlZm9yZVNjcm9sbGVyW2VdKGEpO2QuYWZ0ZXJTY3JvbGxlcltjXShiKTtkLnNjcm9sbGluZz1mYWxzZX0sYXRFeHRyZW1lQmVmb3JlOmZ1bmN0aW9uKCl7cmV0dXJuICF0aGlzLmdldFNjcm9sbFBvc2l0aW9uKCl9LHNjcm9sbExlZnQ6ZnVuY3Rpb24oKXt0aGlzLnNjcm9sbEJ5KC10aGlzLnNjcm9sbEluY3JlbWVudCxmYWxzZSl9LHNjcm9sbFJpZ2h0OmZ1bmN0aW9uKCl7dGhpcy5zY3JvbGxCeSh0aGlzLnNjcm9sbEluY3JlbWVudCxmYWxzZSl9LGdldFNjcm9sbFBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPWMubGF5b3V0LGE7aWYoYy5oYXNPd25Qcm9wZXJ0eSgic2Nyb2xsUG9zaXRpb24iKSl7YT1jLnNjcm9sbFBvc2l0aW9ufWVsc2V7YT1wYXJzZUludChiLmlubmVyQ3QuZG9tWyJzY3JvbGwiK2IuZ2V0TmFtZXMoKS5sZWZ0Q2FwXSwxMCl8fDB9cmV0dXJuIGF9LGdldE1heFNjcm9sbFBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIubGF5b3V0LGM9YS5nZXROYW1lcygpLGQ9Yi5zY3JvbGxTaXplLWEuaW5uZXJDdFsiZ2V0IitjLndpZHRoQ2FwXSgpO3JldHVybihkPDApPzA6ZH0sYXRFeHRyZW1lQWZ0ZXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRTY3JvbGxQb3NpdGlvbigpPj10aGlzLmdldE1heFNjcm9sbFBvc2l0aW9uKCl9LHNjcm9sbFRvOmZ1bmN0aW9uKGEsYil7dmFyIGc9dGhpcyxlPWcubGF5b3V0LGg9ZS5nZXROYW1lcygpLGQ9Zy5nZXRTY3JvbGxQb3NpdGlvbigpLGM9RXh0Lk51bWJlci5jb25zdHJhaW4oYSwwLGcuZ2V0TWF4U2Nyb2xsUG9zaXRpb24oKSk7aWYoYyE9ZCYmIWcuc2Nyb2xsaW5nKXtkZWxldGUgZy5zY3JvbGxQb3NpdGlvbjtpZihiPT09dW5kZWZpbmVkKXtiPWcuYW5pbWF0ZVNjcm9sbH1lLmlubmVyQ3Quc2Nyb2xsVG8oaC5sZWZ0LGMsYj9nLmdldFNjcm9sbEFuaW0oKTpmYWxzZSk7aWYoYil7Zy5zY3JvbGxpbmc9dHJ1ZX1lbHNle2cudXBkYXRlU2Nyb2xsQnV0dG9ucygpfWcuZmlyZUV2ZW50KCJzY3JvbGwiLGcsYyxiP2cuZ2V0U2Nyb2xsQW5pbSgpOmZhbHNlKX19LHNjcm9sbFRvSXRlbTpmdW5jdGlvbihoLGIpe3ZhciBnPXRoaXMsZT1nLmxheW91dCxpPWUuZ2V0TmFtZXMoKSxhLGQsYztoPWcuZ2V0SXRlbShoKTtpZihoIT09dW5kZWZpbmVkKXthPWcuZ2V0SXRlbVZpc2liaWxpdHkoaCk7aWYoIWEuZnVsbHlWaXNpYmxlKXtkPWguZ2V0Qm94KHRydWUsdHJ1ZSk7Yz1kW2kueF07aWYoYS5oaWRkZW5FbmQpe2MtPShnLmxheW91dC5pbm5lckN0WyJnZXQiK2kud2lkdGhDYXBdKCktZFtpLndpZHRoXSl9Zy5zY3JvbGxUbyhjLGIpfX19LGdldEl0ZW1WaXNpYmlsaXR5OmZ1bmN0aW9uKGope3ZhciBoPXRoaXMsYj1oLmdldEl0ZW0oaikuZ2V0Qm94KHRydWUsdHJ1ZSksYz1oLmxheW91dCxnPWMuZ2V0TmFtZXMoKSxlPWJbZy54XSxkPWUrYltnLndpZHRoXSxhPWguZ2V0U2Nyb2xsUG9zaXRpb24oKSxpPWErYy5pbm5lckN0WyJnZXQiK2cud2lkdGhDYXBdKCk7cmV0dXJue2hpZGRlblN0YXJ0OmU8YSxoaWRkZW5FbmQ6ZD5pLGZ1bGx5VmlzaWJsZTplPmEmJmQ8aX19fSk7RXh0LmRlZmluZSgiRXh0Lm1lbnUuSXRlbSIse2V4dGVuZDoiRXh0LkNvbXBvbmVudCIsYWxpYXM6IndpZGdldC5tZW51aXRlbSIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQubWVudS5UZXh0SXRlbSIsYWN0aXZlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJtZW51LWl0ZW0tYWN0aXZlIixhcmlhUm9sZToibWVudWl0ZW0iLGNhbkFjdGl2YXRlOnRydWUsY2xpY2tIaWRlRGVsYXk6MSxkZXN0cm95TWVudTp0cnVlLGRpc2FibGVkQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJtZW51LWl0ZW0tZGlzYWJsZWQiLGhpZGVPbkNsaWNrOnRydWUsaXNNZW51SXRlbTp0cnVlLG1lbnVBbGlnbjoidGwtdHI/IixtZW51RXhwYW5kRGVsYXk6MjAwLG1lbnVIaWRlRGVsYXk6MjAwLHRvb2x0aXBUeXBlOiJxdGlwIixhcnJvd0NsczpFeHQuYmFzZUNTU1ByZWZpeCsibWVudS1pdGVtLWFycm93IixjaGlsZEVsczpbIml0ZW1FbCIsImljb25FbCIsInRleHRFbCIsImFycm93RWwiXSxyZW5kZXJUcGw6Wyc8dHBsIGlmPSJwbGFpbiI+Jywie3RleHR9IiwiPHRwbCBlbHNlPiIsJzxhIGlkPSJ7aWR9LWl0ZW1FbCIgY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrJ21lbnUtaXRlbS1saW5rIiBocmVmPSJ7aHJlZn0iIDx0cGwgaWY9ImhyZWZUYXJnZXQiPnRhcmdldD0ie2hyZWZUYXJnZXR9IjwvdHBsPiBoaWRlZm9jdXM9InRydWUiIHVuc2VsZWN0YWJsZT0ib24iPicsJzxpbWcgaWQ9IntpZH0taWNvbkVsIiBzcmM9IntpY29ufSIgY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrJ21lbnUtaXRlbS1pY29uIHtpY29uQ2xzfSIgLz4nLCc8c3BhbiBpZD0ie2lkfS10ZXh0RWwiIGNsYXNzPSInK0V4dC5iYXNlQ1NTUHJlZml4KydtZW51LWl0ZW0tdGV4dCIgPHRwbCBpZj0iYXJyb3dDbHMiPnN0eWxlPSJtYXJnaW4tcmlnaHQ6IDE3cHg7IjwvdHBsPiA+e3RleHR9PC9zcGFuPicsJzxpbWcgaWQ9IntpZH0tYXJyb3dFbCIgc3JjPSJ7Ymxhbmt9IiBjbGFzcz0ie2Fycm93Q2xzfSIgLz4nLCI8L2E+IiwiPC90cGw+Il0sbWFza09uRGlzYWJsZTpmYWxzZSxhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoIWEuYWN0aXZhdGVkJiZhLmNhbkFjdGl2YXRlJiZhLnJlbmRlcmVkJiYhYS5pc0Rpc2FibGVkKCkmJmEuaXNWaXNpYmxlKCkpe2EuZWwuYWRkQ2xzKGEuYWN0aXZlQ2xzKTthLmZvY3VzKCk7YS5hY3RpdmF0ZWQ9dHJ1ZTthLmZpcmVFdmVudCgiYWN0aXZhdGUiLGEpfX0sZ2V0Rm9jdXNFbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZW1FbH0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5hY3RpdmF0ZWQpe2EuZWwucmVtb3ZlQ2xzKGEuYWN0aXZlQ2xzKTthLmJsdXIoKTthLmhpZGVNZW51KCk7YS5hY3RpdmF0ZWQ9ZmFsc2U7YS5maXJlRXZlbnQoImRlYWN0aXZhdGUiLGEpfX0sZGVmZXJFeHBhbmRNZW51OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLmFjdGl2YXRlZCYmKCFhLm1lbnUucmVuZGVyZWR8fCFhLm1lbnUuaXNWaXNpYmxlKCkpKXthLnBhcmVudE1lbnUuYWN0aXZlQ2hpbGQ9YS5tZW51O2EubWVudS5wYXJlbnRJdGVtPWE7YS5tZW51LnBhcmVudE1lbnU9YS5tZW51Lm93bmVyQ3Q9YS5wYXJlbnRNZW51O2EubWVudS5zaG93QnkoYSxhLm1lbnVBbGlnbil9fSxkZWZlckhpZGVNZW51OmZ1bmN0aW9uKCl7aWYodGhpcy5tZW51LmlzVmlzaWJsZSgpKXt0aGlzLm1lbnUuaGlkZSgpfX0sY2FuY2VsRGVmZXJIaWRlOmZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRoaXMuaGlkZU1lbnVUaW1lcil9LGRlZmVySGlkZVBhcmVudE1lbnVzOmZ1bmN0aW9uKCl7dmFyIGE7RXh0Lm1lbnUuTWFuYWdlci5oaWRlQWxsKCk7aWYoIUV4dC5FbGVtZW50LmdldEFjdGl2ZUVsZW1lbnQoKSl7YT10aGlzLnVwKCI6bm90KFtoaWRkZW5dKSIpO2lmKGEpe2EuZm9jdXMoKX19fSxleHBhbmRNZW51OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoYi5tZW51KXtiLmNhbmNlbERlZmVySGlkZSgpO2lmKGE9PT0wKXtiLmRlZmVyRXhwYW5kTWVudSgpfWVsc2V7Yi5leHBhbmRNZW51VGltZXI9RXh0LmRlZmVyKGIuZGVmZXJFeHBhbmRNZW51LEV4dC5pc051bWJlcihhKT9hOmIubWVudUV4cGFuZERlbGF5LGIpfX19LGdldFJlZkl0ZW1zOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMubWVudSxiO2lmKGMpe2I9Yy5nZXRSZWZJdGVtcyhhKTtiLnVuc2hpZnQoYyl9cmV0dXJuIGJ8fFtdfSxoaWRlTWVudTpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKGIubWVudSl7Y2xlYXJUaW1lb3V0KGIuZXhwYW5kTWVudVRpbWVyKTtiLmhpZGVNZW51VGltZXI9RXh0LmRlZmVyKGIuZGVmZXJIaWRlTWVudSxFeHQuaXNOdW1iZXIoYSk/YTpiLm1lbnVIaWRlRGVsYXksYil9fSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPUV4dC5iYXNlQ1NTUHJlZml4LGE9W2MrIm1lbnUtaXRlbSJdLGQ7Yi5hZGRFdmVudHMoImFjdGl2YXRlIiwiY2xpY2siLCJkZWFjdGl2YXRlIik7aWYoYi5wbGFpbil7YS5wdXNoKGMrIm1lbnUtaXRlbS1wbGFpbiIpfWlmKGIuY2xzKXthLnB1c2goYi5jbHMpfWIuY2xzPWEuam9pbigiICIpO2lmKGIubWVudSl7ZD1iLm1lbnU7ZGVsZXRlIGIubWVudTtiLnNldE1lbnUoZCl9Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LG9uQ2xpY2s6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZighYS5ocmVmKXtiLnN0b3BFdmVudCgpfWlmKGEuZGlzYWJsZWQpe3JldHVybn1pZihhLmhpZGVPbkNsaWNrKXthLmRlZmVySGlkZVBhcmVudE1lbnVzVGltZXI9RXh0LmRlZmVyKGEuZGVmZXJIaWRlUGFyZW50TWVudXMsYS5jbGlja0hpZGVEZWxheSxhKX1FeHQuY2FsbGJhY2soYS5oYW5kbGVyLGEuc2NvcGV8fGEsW2EsYl0pO2EuZmlyZUV2ZW50KCJjbGljayIsYSxiKTtpZighYS5oaWRlT25DbGljayl7YS5mb2N1cygpfX0sb25SZW1vdmVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLmFjdGl2YXRlZCYmYS5wYXJlbnRNZW51LmFjdGl2ZUl0ZW09PT1hKXthLnBhcmVudE1lbnUuZGVhY3RpdmF0ZUFjdGl2ZUl0ZW0oKX1hLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtkZWxldGUgYS5wYXJlbnRNZW51O2RlbGV0ZSBhLm93bmVyQnV0dG9ufSxiZWZvcmVEZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLnJlbmRlcmVkKXthLmNsZWFyVGlwKCl9YS5jYWxsUGFyZW50KCl9LG9uRGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7Y2xlYXJUaW1lb3V0KGEuZXhwYW5kTWVudVRpbWVyKTthLmNhbmNlbERlZmVySGlkZSgpO2NsZWFyVGltZW91dChhLmRlZmVySGlkZVBhcmVudE1lbnVzVGltZXIpO2Euc2V0TWVudShudWxsKTthLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sYmVmb3JlUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPUV4dC5CTEFOS19JTUFHRV9VUkw7YS5jYWxsUGFyZW50KCk7RXh0LmFwcGx5SWYoYS5yZW5kZXJEYXRhLHtocmVmOmEuaHJlZnx8IiMiLGhyZWZUYXJnZXQ6YS5ocmVmVGFyZ2V0LGljb246YS5pY29ufHxiLGljb25DbHM6YS5pY29uQ2xzKyhhLmNoZWNrQ2hhbmdlRGlzYWJsZWQ/IiAiK2EuZGlzYWJsZWRDbHM6IiIpLHBsYWluOmEucGxhaW4sdGV4dDphLnRleHQsYXJyb3dDbHM6YS5tZW51P2EuYXJyb3dDbHM6IiIsYmxhbms6Yn0pfSxvblJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYS50b29sdGlwKXthLnNldFRvb2x0aXAoYS50b29sdGlwLHRydWUpfX0sc2V0TWVudTpmdW5jdGlvbihkLGMpe3ZhciBiPXRoaXMsYT1iLm1lbnU7aWYoYSl7ZGVsZXRlIGEucGFyZW50SXRlbTtkZWxldGUgYS5wYXJlbnRNZW51O2RlbGV0ZSBhLm93bmVyQ3Q7ZGVsZXRlIGEub3duZXJJdGVtO2lmKGM9PT10cnVlfHwoYyE9PWZhbHNlJiZiLmRlc3Ryb3lNZW51KSl7RXh0LmRlc3Ryb3koYSl9fWlmKGQpe2IubWVudT1FeHQubWVudS5NYW5hZ2VyLmdldChkKTtiLm1lbnUub3duZXJJdGVtPWJ9ZWxzZXtiLm1lbnU9bnVsbH1pZihiLnJlbmRlcmVkJiYhYi5kZXN0cm95aW5nKXtiLmFycm93RWxbYi5tZW51PyJhZGRDbHMiOiJyZW1vdmVDbHMiXShiLmFycm93Q2xzKX19LHNldEhhbmRsZXI6ZnVuY3Rpb24oYixhKXt0aGlzLmhhbmRsZXI9Ynx8bnVsbDt0aGlzLnNjb3BlPWF9LHNldEljb246ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5pY29uRWw7aWYoYSl7YS5zcmM9Ynx8RXh0LkJMQU5LX0lNQUdFX1VSTH10aGlzLmljb249Yn0sc2V0SWNvbkNsczpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGE9Yy5pY29uRWw7aWYoYSl7aWYoYy5pY29uQ2xzKXthLnJlbW92ZUNscyhjLmljb25DbHMpfWlmKGIpe2EuYWRkQ2xzKGIpfX1jLmljb25DbHM9Yn0sc2V0VGV4dDpmdW5jdGlvbihjKXt2YXIgYj10aGlzLGE9Yi50ZXh0RWx8fGIuZWw7Yi50ZXh0PWM7aWYoYi5yZW5kZXJlZCl7YS51cGRhdGUoY3x8IiIpO2Iub3duZXJDdC51cGRhdGVMYXlvdXQoKX19LGdldFRpcEF0dHI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b29sdGlwVHlwZT09InF0aXAiPyJkYXRhLXF0aXAiOiJ0aXRsZSJ9LGNsZWFyVGlwOmZ1bmN0aW9uKCl7aWYoRXh0LmlzT2JqZWN0KHRoaXMudG9vbHRpcCkpe0V4dC50aXAuUXVpY2tUaXBNYW5hZ2VyLnVucmVnaXN0ZXIodGhpcy5pdGVtRWwpfX0sc2V0VG9vbHRpcDpmdW5jdGlvbihjLGEpe3ZhciBiPXRoaXM7aWYoYi5yZW5kZXJlZCl7aWYoIWEpe2IuY2xlYXJUaXAoKX1pZihFeHQuaXNPYmplY3QoYykpe0V4dC50aXAuUXVpY2tUaXBNYW5hZ2VyLnJlZ2lzdGVyKEV4dC5hcHBseSh7dGFyZ2V0OmIuaXRlbUVsLmlkfSxjKSk7Yi50b29sdGlwPWN9ZWxzZXtiLml0ZW1FbC5kb20uc2V0QXR0cmlidXRlKGIuZ2V0VGlwQXR0cigpLGMpfX1lbHNle2IudG9vbHRpcD1jfXJldHVybiBifX0pO0V4dC5kZWZpbmUoIkV4dC5tZW51LkNoZWNrSXRlbSIse2V4dGVuZDoiRXh0Lm1lbnUuSXRlbSIsYWxpYXM6IndpZGdldC5tZW51Y2hlY2tpdGVtIixjaGVja2VkQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJtZW51LWl0ZW0tY2hlY2tlZCIsdW5jaGVja2VkQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJtZW51LWl0ZW0tdW5jaGVja2VkIixncm91cENsczpFeHQuYmFzZUNTU1ByZWZpeCsibWVudS1ncm91cC1pY29uIixoaWRlT25DbGljazpmYWxzZSxjaGVja0NoYW5nZURpc2FibGVkOmZhbHNlLGFmdGVyUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoKTthLmNoZWNrZWQ9IWEuY2hlY2tlZDthLnNldENoZWNrZWQoIWEuY2hlY2tlZCx0cnVlKTtpZihhLmNoZWNrQ2hhbmdlRGlzYWJsZWQpe2EuZGlzYWJsZUNoZWNrQ2hhbmdlKCl9fSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmFkZEV2ZW50cygiYmVmb3JlY2hlY2tjaGFuZ2UiLCJjaGVja2NoYW5nZSIpO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO0V4dC5tZW51Lk1hbmFnZXIucmVnaXN0ZXJDaGVja2FibGUoYSk7aWYoYS5ncm91cCl7aWYoIWEuaWNvbkNscyl7YS5pY29uQ2xzPWEuZ3JvdXBDbHN9aWYoYS5pbml0aWFsQ29uZmlnLmhpZGVPbkNsaWNrIT09ZmFsc2Upe2EuaGlkZU9uQ2xpY2s9dHJ1ZX19fSxkaXNhYmxlQ2hlY2tDaGFuZ2U6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5pY29uRWw7aWYoYSl7YS5hZGRDbHMoYi5kaXNhYmxlZENscyl9Yi5jaGVja0NoYW5nZURpc2FibGVkPXRydWV9LGVuYWJsZUNoZWNrQ2hhbmdlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuaWNvbkVsO2lmKGEpe2EucmVtb3ZlQ2xzKGIuZGlzYWJsZWRDbHMpfWIuY2hlY2tDaGFuZ2VEaXNhYmxlZD1mYWxzZX0sb25DbGljazpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2lmKCFhLmRpc2FibGVkJiYhYS5jaGVja0NoYW5nZURpc2FibGVkJiYhKGEuY2hlY2tlZCYmYS5ncm91cCkpe2Euc2V0Q2hlY2tlZCghYS5jaGVja2VkKX10aGlzLmNhbGxQYXJlbnQoW2JdKX0sb25EZXN0cm95OmZ1bmN0aW9uKCl7RXh0Lm1lbnUuTWFuYWdlci51bnJlZ2lzdGVyQ2hlY2thYmxlKHRoaXMpO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxzZXRDaGVja2VkOmZ1bmN0aW9uKGMsYSl7dmFyIGI9dGhpcztpZihiLmNoZWNrZWQhPT1jJiYoYXx8Yi5maXJlRXZlbnQoImJlZm9yZWNoZWNrY2hhbmdlIixiLGMpIT09ZmFsc2UpKXtpZihiLmVsKXtiLmVsW2M/ImFkZENscyI6InJlbW92ZUNscyJdKGIuY2hlY2tlZENscylbIWM/ImFkZENscyI6InJlbW92ZUNscyJdKGIudW5jaGVja2VkQ2xzKX1iLmNoZWNrZWQ9YztFeHQubWVudS5NYW5hZ2VyLm9uQ2hlY2tDaGFuZ2UoYixjKTtpZighYSl7RXh0LmNhbGxiYWNrKGIuY2hlY2tIYW5kbGVyLGIuc2NvcGUsW2IsY10pO2IuZmlyZUV2ZW50KCJjaGVja2NoYW5nZSIsYixjKX19fX0pO0V4dC5kZWZpbmUoIkV4dC5tZW51LktleU5hdiIse2V4dGVuZDoiRXh0LnV0aWwuS2V5TmF2IixyZXF1aXJlczpbIkV4dC5Gb2N1c01hbmFnZXIiXSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2EubWVudT1iO2EuY2FsbFBhcmVudChbYi5lbCx7ZG93bjphLmRvd24sZW50ZXI6YS5lbnRlcixlc2M6YS5lc2NhcGUsbGVmdDphLmxlZnQscmlnaHQ6YS5yaWdodCxzcGFjZTphLmVudGVyLHRhYjphLnRhYix1cDphLnVwfV0pfSxkb3duOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMsYz1hLm1lbnUuZm9jdXNlZEl0ZW07aWYoYyYmYi5nZXRLZXkoKT09RXh0LkV2ZW50T2JqZWN0LkRPV04mJmEuaXNXaGl0ZWxpc3RlZChjKSl7cmV0dXJuIHRydWV9YS5mb2N1c05leHRJdGVtKDEpfSxlbnRlcjpmdW5jdGlvbihiKXt2YXIgYz10aGlzLm1lbnUsYT1jLmZvY3VzZWRJdGVtO2lmKGMuYWN0aXZlSXRlbSl7Yy5vbkNsaWNrKGIpfWVsc2V7aWYoYSYmYS5pc0Zvcm1GaWVsZCl7cmV0dXJuIHRydWV9fX0sZXNjYXBlOmZ1bmN0aW9uKGEpe0V4dC5tZW51Lk1hbmFnZXIuaGlkZUFsbCgpfSxmb2N1c05leHRJdGVtOmZ1bmN0aW9uKGcpe3ZhciBoPXRoaXMubWVudSxiPWguaXRlbXMsZD1oLmZvY3VzZWRJdGVtLGM9ZD9iLmluZGV4T2YoZCk6LTEsYT1jK2csZTt3aGlsZShhIT1jKXtpZihhPDApe2E9Yi5sZW5ndGgtMX1lbHNle2lmKGE+PWIubGVuZ3RoKXthPTB9fWU9Yi5nZXRBdChhKTtpZihoLmNhbkFjdGl2YXRlSXRlbShlKSl7aC5zZXRBY3RpdmVJdGVtKGUpO2JyZWFrfWErPWd9fSxpc1doaXRlbGlzdGVkOmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuRm9jdXNNYW5hZ2VyLmlzV2hpdGVsaXN0ZWQoYSl9LGxlZnQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcy5tZW51LGQ9Yy5mb2N1c2VkSXRlbSxhPWMuYWN0aXZlSXRlbTtpZihkJiZ0aGlzLmlzV2hpdGVsaXN0ZWQoZCkpe3JldHVybiB0cnVlfWMuaGlkZSgpO2lmKGMucGFyZW50TWVudSl7Yy5wYXJlbnRNZW51LmZvY3VzKCl9fSxyaWdodDpmdW5jdGlvbihjKXt2YXIgZD10aGlzLm1lbnUsZz1kLmZvY3VzZWRJdGVtLGE9ZC5hY3RpdmVJdGVtLGI7aWYoZyYmdGhpcy5pc1doaXRlbGlzdGVkKGcpKXtyZXR1cm4gdHJ1ZX1pZihhKXtiPWQuYWN0aXZlSXRlbS5tZW51O2lmKGIpe2EuZXhwYW5kTWVudSgwKTtFeHQuZGVmZXIoZnVuY3Rpb24oKXtiLnNldEFjdGl2ZUl0ZW0oYi5pdGVtcy5nZXRBdCgwKSl9LDI1KX19fSx0YWI6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZihiLnNoaWZ0S2V5KXthLnVwKGIpfWVsc2V7YS5kb3duKGIpfX0sdXA6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcyxjPWEubWVudS5mb2N1c2VkSXRlbTtpZihjJiZiLmdldEtleSgpPT1FeHQuRXZlbnRPYmplY3QuVVAmJmEuaXNXaGl0ZWxpc3RlZChjKSl7cmV0dXJuIHRydWV9YS5mb2N1c05leHRJdGVtKC0xKX19KTtFeHQuZGVmaW5lKCJFeHQubWVudS5NYW5hZ2VyIix7c2luZ2xldG9uOnRydWUscmVxdWlyZXM6WyJFeHQudXRpbC5NaXhlZENvbGxlY3Rpb24iLCJFeHQudXRpbC5LZXlNYXAiXSxhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5tZW51Lk1lbnVNZ3IiLHVzZXM6WyJFeHQubWVudS5NZW51Il0sbWVudXM6e30sZ3JvdXBzOnt9LGF0dGFjaGVkOmZhbHNlLGxhc3RTaG93Om5ldyBEYXRlKCksaW5pdDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5hY3RpdmU9bmV3IEV4dC51dGlsLk1peGVkQ29sbGVjdGlvbigpO0V4dC5nZXREb2MoKS5hZGRLZXlMaXN0ZW5lcigyNyxmdW5jdGlvbigpe2lmKGEuYWN0aXZlLmxlbmd0aD4wKXthLmhpZGVBbGwoKX19LGEpfSxoaWRlQWxsOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5hY3RpdmUsZSxiLGEsZDtpZihjJiZjLmxlbmd0aD4wKXtlPWMuY2xvbmUoKTtiPWUuaXRlbXM7ZD1iLmxlbmd0aDtmb3IoYT0wO2E8ZDthKyspe2JbYV0uaGlkZSgpfXJldHVybiB0cnVlfXJldHVybiBmYWxzZX0sb25IaWRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYz1iLmFjdGl2ZTtjLnJlbW92ZShhKTtpZihjLmxlbmd0aDwxKXtFeHQuZ2V0RG9jKCkudW4oIm1vdXNlZG93biIsYi5vbk1vdXNlRG93bixiKTtiLmF0dGFjaGVkPWZhbHNlfX0sb25TaG93OmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMsZz1lLmFjdGl2ZSxkPWcubGFzdCgpLGM9ZS5hdHRhY2hlZCxiPWEuZ2V0RWwoKSxoO2UubGFzdFNob3c9bmV3IERhdGUoKTtnLmFkZChhKTtpZighYyl7RXh0LmdldERvYygpLm9uKCJtb3VzZWRvd24iLGUub25Nb3VzZURvd24sZSx7YnVmZmVyOkV4dC5pc0lFPzEwOnVuZGVmaW5lZH0pO2UuYXR0YWNoZWQ9dHJ1ZX1hLnRvRnJvbnQoKX0sb25CZWZvcmVIaWRlOmZ1bmN0aW9uKGEpe2lmKGEuYWN0aXZlQ2hpbGQpe2EuYWN0aXZlQ2hpbGQuaGlkZSgpfWlmKGEuYXV0b0hpZGVUaW1lcil7Y2xlYXJUaW1lb3V0KGEuYXV0b0hpZGVUaW1lcik7ZGVsZXRlIGEuYXV0b0hpZGVUaW1lcn19LG9uQmVmb3JlU2hvdzpmdW5jdGlvbihhKXt2YXIgYz10aGlzLmFjdGl2ZSxiPWEucGFyZW50TWVudTtjLnJlbW92ZShhKTtpZighYiYmIWEuYWxsb3dPdGhlck1lbnVzKXt0aGlzLmhpZGVBbGwoKX1lbHNle2lmKGImJmIuYWN0aXZlQ2hpbGQmJmEhPWIuYWN0aXZlQ2hpbGQpe2IuYWN0aXZlQ2hpbGQuaGlkZSgpfX19LG9uTW91c2VEb3duOmZ1bmN0aW9uKGQpe3ZhciBiPXRoaXMsYz1iLmFjdGl2ZSxhPWIubGFzdFNob3c7aWYoRXh0LkRhdGUuZ2V0RWxhcHNlZChhKT41MCYmYy5sZW5ndGg+MCYmIWQuZ2V0VGFyZ2V0KCIuIitFeHQuYmFzZUNTU1ByZWZpeCsibWVudSIpKXtiLmhpZGVBbGwoKX19LHJlZ2lzdGVyOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7aWYoIWEuYWN0aXZlKXthLmluaXQoKX1pZihiLmZsb2F0aW5nKXthLm1lbnVzW2IuaWRdPWI7Yi5vbih7YmVmb3JlaGlkZTphLm9uQmVmb3JlSGlkZSxoaWRlOmEub25IaWRlLGJlZm9yZXNob3c6YS5vbkJlZm9yZVNob3csc2hvdzphLm9uU2hvdyxzY29wZTphfSl9fSxnZXQ6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5tZW51cztpZih0eXBlb2YgYj09InN0cmluZyIpe2lmKCFhKXtyZXR1cm4gbnVsbH1yZXR1cm4gYVtiXX1lbHNle2lmKGIuaXNNZW51KXtyZXR1cm4gYn1lbHNle2lmKEV4dC5pc0FycmF5KGIpKXtyZXR1cm4gbmV3IEV4dC5tZW51Lk1lbnUoe2l0ZW1zOmJ9KX1lbHNle3JldHVybiBFeHQuQ29tcG9uZW50TWFuYWdlci5jcmVhdGUoYiwibWVudSIpfX19fSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGQpe3ZhciBhPXRoaXMsYj1hLm1lbnVzLGM9YS5hY3RpdmU7ZGVsZXRlIGJbZC5pZF07Yy5yZW1vdmUoZCk7ZC51bih7YmVmb3JlaGlkZTphLm9uQmVmb3JlSGlkZSxoaWRlOmEub25IaWRlLGJlZm9yZXNob3c6YS5vbkJlZm9yZVNob3csc2hvdzphLm9uU2hvdyxzY29wZTphfSl9LHJlZ2lzdGVyQ2hlY2thYmxlOmZ1bmN0aW9uKGMpe3ZhciBhPXRoaXMuZ3JvdXBzLGI9Yy5ncm91cDtpZihiKXtpZighYVtiXSl7YVtiXT1bXX1hW2JdLnB1c2goYyl9fSx1bnJlZ2lzdGVyQ2hlY2thYmxlOmZ1bmN0aW9uKGMpe3ZhciBhPXRoaXMuZ3JvdXBzLGI9Yy5ncm91cDtpZihiKXtFeHQuQXJyYXkucmVtb3ZlKGFbYl0sYyl9fSxvbkNoZWNrQ2hhbmdlOmZ1bmN0aW9uKGQsZyl7dmFyIGE9dGhpcy5ncm91cHMsYz1kLmdyb3VwLGI9MCxqLGUsaDtpZihjJiZnKXtqPWFbY107ZT1qLmxlbmd0aDtmb3IoO2I8ZTtiKyspe2g9altiXTtpZihoIT1kKXtoLnNldENoZWNrZWQoZmFsc2UpfX19fX0pO0V4dC5kZWZpbmUoIkV4dC5idXR0b24uQnV0dG9uIix7YWxpYXM6IndpZGdldC5idXR0b24iLGV4dGVuZDoiRXh0LkNvbXBvbmVudCIscmVxdWlyZXM6WyJFeHQubWVudS5NYW5hZ2VyIiwiRXh0LnV0aWwuQ2xpY2tSZXBlYXRlciIsIkV4dC5sYXlvdXQuY29tcG9uZW50LkJ1dHRvbiIsIkV4dC51dGlsLlRleHRNZXRyaWNzIiwiRXh0LnV0aWwuS2V5TWFwIl0sYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuQnV0dG9uIixpc0J1dHRvbjp0cnVlLGNvbXBvbmVudExheW91dDoiYnV0dG9uIixoaWRkZW46ZmFsc2UsZGlzYWJsZWQ6ZmFsc2UscHJlc3NlZDpmYWxzZSxlbmFibGVUb2dnbGU6ZmFsc2UsbWVudUFsaWduOiJ0bC1ibD8iLHRleHRBbGlnbjoiY2VudGVyIix0eXBlOiJidXR0b24iLGNsaWNrRXZlbnQ6ImNsaWNrIixwcmV2ZW50RGVmYXVsdDp0cnVlLGhhbmRsZU1vdXNlRXZlbnRzOnRydWUsdG9vbHRpcFR5cGU6InF0aXAiLGJhc2VDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImJ0biIscHJlc3NlZENsczoicHJlc3NlZCIsb3ZlckNsczoib3ZlciIsZm9jdXNDbHM6ImZvY3VzIixtZW51QWN0aXZlQ2xzOiJtZW51LWFjdGl2ZSIsaHJlZlRhcmdldDoiX2JsYW5rIixib3JkZXI6dHJ1ZSxjaGlsZEVsczpbImJ0bkVsIiwiYnRuV3JhcCIsImJ0bklubmVyRWwiLCJidG5JY29uRWwiXSxyZW5kZXJUcGw6Wyc8ZW0gaWQ9IntpZH0tYnRuV3JhcCI8dHBsIGlmPSJzcGxpdENscyI+IGNsYXNzPSJ7c3BsaXRDbHN9IjwvdHBsPj4nLCc8dHBsIGlmPSJocmVmIj4nLCc8YSBpZD0ie2lkfS1idG5FbCIgaHJlZj0ie2hyZWZ9IiBjbGFzcz0ie2J0bkNsc30iIHRhcmdldD0ie2hyZWZUYXJnZXR9IicsJzx0cGwgaWY9InRhYkluZGV4Ij4gdGFiSW5kZXg9Int0YWJJbmRleH0iPC90cGw+JywnPHRwbCBpZj0iZGlzYWJsZWQiPiBkaXNhYmxlZD0iZGlzYWJsZWQiPC90cGw+JywnIHJvbGU9ImxpbmsiPicsJzxzcGFuIGlkPSJ7aWR9LWJ0bklubmVyRWwiIGNsYXNzPSJ7YmFzZUNsc30taW5uZXIiPicsInt0ZXh0fSIsIjwvc3Bhbj4iLCc8c3BhbiBpZD0ie2lkfS1idG5JY29uRWwiIGNsYXNzPSJ7YmFzZUNsc30taWNvbiB7aWNvbkNsc30iPHRwbCBpZj0iaWNvblVybCI+IHN0eWxlPSJiYWNrZ3JvdW5kLWltYWdlOnVybCh7aWNvblVybH0pIjwvdHBsPj48L3NwYW4+JywiPC9hPiIsIjx0cGwgZWxzZT4iLCc8YnV0dG9uIGlkPSJ7aWR9LWJ0bkVsIiB0eXBlPSJ7dHlwZX0iIGNsYXNzPSJ7YnRuQ2xzfSIgaGlkZWZvY3VzPSJ0cnVlIicsJzx0cGwgaWY9InRhYkluZGV4Ij4gdGFiSW5kZXg9Int0YWJJbmRleH0iPC90cGw+JywnPHRwbCBpZj0iZGlzYWJsZWQiPiBkaXNhYmxlZD0iZGlzYWJsZWQiPC90cGw+JywnIHJvbGU9ImJ1dHRvbiIgYXV0b2NvbXBsZXRlPSJvZmYiPicsJzxzcGFuIGlkPSJ7aWR9LWJ0bklubmVyRWwiIGNsYXNzPSJ7YmFzZUNsc30taW5uZXIiIHN0eWxlPSJ7aW5uZXJTcGFuU3R5bGV9Ij4nLCJ7dGV4dH0iLCI8L3NwYW4+IiwnPHNwYW4gaWQ9IntpZH0tYnRuSWNvbkVsIiBjbGFzcz0ie2Jhc2VDbHN9LWljb24ge2ljb25DbHN9Ijx0cGwgaWY9Imljb25VcmwiPiBzdHlsZT0iYmFja2dyb3VuZC1pbWFnZTp1cmwoe2ljb25Vcmx9KSI8L3RwbD4+PC9zcGFuPicsIjwvYnV0dG9uPiIsIjwvdHBsPiIsIjwvZW0+IiwnPHRwbCBpZj0iY2xvc2FibGUiPicsJzxhIGlkPSJ7aWR9LWNsb3NlRWwiIGhyZWY9IiMiIGNsYXNzPSJ7YmFzZUNsc30tY2xvc2UtYnRuIiB0aXRsZT0ie2Nsb3NlVGV4dH0iPjwvYT4nLCI8L3RwbD4iXSxzY2FsZToic21hbGwiLGFsbG93ZWRTY2FsZXM6WyJzbWFsbCIsIm1lZGl1bSIsImxhcmdlIl0saWNvbkFsaWduOiJsZWZ0IixhcnJvd0FsaWduOiJyaWdodCIsYXJyb3dDbHM6ImFycm93IixtYXNrT25EaXNhYmxlOmZhbHNlLHBlcnNpc3RlbnRQYWRkaW5nOnVuZGVmaW5lZCxzaHJpbmtXcmFwOjMsZnJhbWU6dHJ1ZSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTthLmFkZEV2ZW50cygiY2xpY2siLCJ0b2dnbGUiLCJtb3VzZW92ZXIiLCJtb3VzZW91dCIsIm1lbnVzaG93IiwibWVudWhpZGUiLCJtZW51dHJpZ2dlcm92ZXIiLCJtZW51dHJpZ2dlcm91dCIpO2lmKGEubWVudSl7YS5zcGxpdD10cnVlO2EubWVudT1FeHQubWVudS5NYW5hZ2VyLmdldChhLm1lbnUpO2EubWVudS5vd25lckJ1dHRvbj1hfWlmKGEudXJsKXthLmhyZWY9YS51cmx9aWYoYS5ocmVmJiYhYS5oYXNPd25Qcm9wZXJ0eSgicHJldmVudERlZmF1bHQiKSl7YS5wcmV2ZW50RGVmYXVsdD1mYWxzZX1pZihFeHQuaXNTdHJpbmcoYS50b2dnbGVHcm91cCkpe2EuZW5hYmxlVG9nZ2xlPXRydWV9fSxnZXRBY3Rpb25FbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJ0bkVsfSxnZXRGb2N1c0VsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5PbkZvY3VzP3RoaXMuZWw6dGhpcy5idG5FbH0sb25Gb2N1czpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2EuaW5PbkZvY3VzPXRydWU7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5pbk9uRm9jdXM9ZmFsc2V9LG9uQmx1cjpmdW5jdGlvbihjKXt2YXIgYj10aGlzLGE9Yi5mb2N1c0NscyxkPWIuZ2V0RWwoKTtpZihiLmRlc3Ryb3lpbmcpe3JldHVybn1iLmJlZm9yZUJsdXIoYyk7aWYoYSYmZCl7ZC5yZW1vdmVDbHMoYi5yZW1vdmVDbHNXaXRoVUkoYSx0cnVlKSl9aWYoYi52YWxpZGF0ZU9uQmx1cil7Yi52YWxpZGF0ZSgpfWIuaGFzRm9jdXM9ZmFsc2U7Yi5maXJlRXZlbnQoImJsdXIiLGIsYyk7Yi5wb3N0Qmx1cihjKX0sc2V0Q29tcG9uZW50Q2xzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuZ2V0Q29tcG9uZW50Q2xzKCk7aWYoIUV4dC5pc0VtcHR5KGIub2xkQ2xzKSl7Yi5yZW1vdmVDbHNXaXRoVUkoYi5vbGRDbHMpO2IucmVtb3ZlQ2xzV2l0aFVJKGIucHJlc3NlZENscyl9Yi5vbGRDbHM9YTtiLmFkZENsc1dpdGhVSShhKX0sZ2V0Q29tcG9uZW50Q2xzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPVtdO2lmKGIuaWNvbkNsc3x8Yi5pY29uKXtpZihiLnRleHQpe2EucHVzaCgiaWNvbi10ZXh0LSIrYi5pY29uQWxpZ24pfWVsc2V7YS5wdXNoKCJpY29uIil9fWVsc2V7aWYoYi50ZXh0KXthLnB1c2goIm5vaWNvbiIpfX1pZihiLnByZXNzZWQpe2EucHVzaChiLnByZXNzZWRDbHMpfXJldHVybiBhfSxiZWZvcmVSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudCgpO2Eub2xkQ2xzPWEuZ2V0Q29tcG9uZW50Q2xzKCk7YS5hZGRDbHNXaXRoVUkoYS5vbGRDbHMpO0V4dC5hcHBseUlmKGEucmVuZGVyRGF0YSxhLmdldFRlbXBsYXRlQXJncygpKTtpZihhLnNjYWxlKXthLnNldFNjYWxlKGEuc2NhbGUpfX0sb25SZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGEsYjtjLmRvYz1FeHQuZ2V0RG9jKCk7Yy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYy5zcGxpdCYmYy5hcnJvd1Rvb2x0aXApe2MuYXJyb3dFbC5kb20uc2V0QXR0cmlidXRlKGMuZ2V0VGlwQXR0cigpLGMuYXJyb3dUb29sdGlwKX1hPWMuZWw7aWYoYy50b29sdGlwKXtjLnNldFRvb2x0aXAoYy50b29sdGlwLHRydWUpfWlmKGMuaGFuZGxlTW91c2VFdmVudHMpe2I9e3Njb3BlOmMsbW91c2VvdmVyOmMub25Nb3VzZU92ZXIsbW91c2VvdXQ6Yy5vbk1vdXNlT3V0LG1vdXNlZG93bjpjLm9uTW91c2VEb3dufTtpZihjLnNwbGl0KXtiLm1vdXNlbW92ZT1jLm9uTW91c2VNb3ZlfX1lbHNle2I9e3Njb3BlOmN9fWlmKGMubWVudSl7Yy5tb24oYy5tZW51LHtzY29wZTpjLHNob3c6Yy5vbk1lbnVTaG93LGhpZGU6Yy5vbk1lbnVIaWRlfSk7Yy5rZXlNYXA9bmV3IEV4dC51dGlsLktleU1hcCh7dGFyZ2V0OmMuZWwsa2V5OkV4dC5FdmVudE9iamVjdC5ET1dOLGhhbmRsZXI6Yy5vbkRvd25LZXksc2NvcGU6Y30pfWlmKGMucmVwZWF0KXtjLm1vbihuZXcgRXh0LnV0aWwuQ2xpY2tSZXBlYXRlcihhLEV4dC5pc09iamVjdChjLnJlcGVhdCk/Yy5yZXBlYXQ6e30pLCJjbGljayIsYy5vblJlcGVhdENsaWNrLGMpfWVsc2V7YltjLmNsaWNrRXZlbnRdPWMub25DbGlja31jLm1vbihhLGIpO0V4dC5CdXR0b25Ub2dnbGVNYW5hZ2VyLnJlZ2lzdGVyKGMpfSxnZXRUZW1wbGF0ZUFyZ3M6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9Yy5nZXRQZXJzaXN0ZW50UGFkZGluZygpLGE9IiI7aWYoTWF0aC5tYXguYXBwbHkoTWF0aCxiKT4wKXthPSJtYXJnaW46IitFeHQuQXJyYXkubWFwKGIsZnVuY3Rpb24oZCl7cmV0dXJuIC1kKyJweCJ9KS5qb2luKCIgIil9cmV0dXJue2hyZWY6Yy5nZXRIcmVmKCksZGlzYWJsZWQ6Yy5kaXNhYmxlZCxocmVmVGFyZ2V0OmMuaHJlZlRhcmdldCx0eXBlOmMudHlwZSxidG5DbHM6Yy5nZXRCdG5DbHMoKSxzcGxpdENsczpjLmdldFNwbGl0Q2xzKCksaWNvblVybDpjLmljb24saWNvbkNsczpjLmljb25DbHMsdGV4dDpjLnRleHR8fCImIzE2MDsiLHRhYkluZGV4OmMudGFiSW5kZXgsaW5uZXJTcGFuU3R5bGU6YX19LGdldEhyZWY6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9RXh0LmFwcGx5KHt9LGEuYmFzZVBhcmFtcyk7Yj1FeHQuYXBwbHkoYixhLnBhcmFtcyk7cmV0dXJuIGEuaHJlZj9FeHQudXJsQXBwZW5kKGEuaHJlZixFeHQuT2JqZWN0LnRvUXVlcnlTdHJpbmcoYikpOmZhbHNlfSxzZXRQYXJhbXM6ZnVuY3Rpb24oYSl7dGhpcy5wYXJhbXM9YTt0aGlzLmJ0bkVsLmRvbS5ocmVmPXRoaXMuZ2V0SHJlZigpfSxnZXRTcGxpdENsczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuc3BsaXQ/KGEuYmFzZUNscysiLSIrYS5hcnJvd0NscykrIiAiKyhhLmJhc2VDbHMrIi0iK2EuYXJyb3dDbHMrIi0iK2EuYXJyb3dBbGlnbik6IiJ9LGdldEJ0bkNsczpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHRBbGlnbj90aGlzLmJhc2VDbHMrIi0iK3RoaXMudGV4dEFsaWduOiIifSxzZXRJY29uQ2xzOmZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMsYT1kLmJ0bkljb25FbCxjPWQuaWNvbkNscztkLmljb25DbHM9YjtpZihhKXthLnJlbW92ZUNscyhjKTthLmFkZENscyhifHwiIik7ZC5zZXRDb21wb25lbnRDbHMoKTtpZihkLmRpZEljb25TdGF0ZUNoYW5nZShjLGIpKXtkLnVwZGF0ZUxheW91dCgpfX1yZXR1cm4gZH0sc2V0VG9vbHRpcDpmdW5jdGlvbihjLGEpe3ZhciBiPXRoaXM7aWYoYi5yZW5kZXJlZCl7aWYoIWEpe2IuY2xlYXJUaXAoKX1pZihFeHQuaXNPYmplY3QoYykpe0V4dC50aXAuUXVpY2tUaXBNYW5hZ2VyLnJlZ2lzdGVyKEV4dC5hcHBseSh7dGFyZ2V0OmIuYnRuRWwuaWR9LGMpKTtiLnRvb2x0aXA9Y31lbHNle2IuYnRuRWwuZG9tLnNldEF0dHJpYnV0ZShiLmdldFRpcEF0dHIoKSxjKX19ZWxzZXtiLnRvb2x0aXA9Y31yZXR1cm4gYn0sc2V0VGV4dEFsaWduOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT1iLmJ0bkVsO2lmKGEpe2EucmVtb3ZlQ2xzKGIuYmFzZUNscysiLSIrYi50ZXh0QWxpZ24pO2EuYWRkQ2xzKGIuYmFzZUNscysiLSIrYyl9Yi50ZXh0QWxpZ249YztyZXR1cm4gYn0sZ2V0VGlwQXR0cjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRvb2x0aXBUeXBlPT0icXRpcCI/ImRhdGEtcXRpcCI6InRpdGxlIn0sZ2V0UmVmSXRlbXM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5tZW51LGI7aWYoYyl7Yj1jLmdldFJlZkl0ZW1zKGEpO2IudW5zaGlmdChjKX1yZXR1cm4gYnx8W119LGNsZWFyVGlwOmZ1bmN0aW9uKCl7aWYoRXh0LmlzT2JqZWN0KHRoaXMudG9vbHRpcCkpe0V4dC50aXAuUXVpY2tUaXBNYW5hZ2VyLnVucmVnaXN0ZXIodGhpcy5idG5FbCl9fSxiZWZvcmVEZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLnJlbmRlcmVkKXthLmNsZWFyVGlwKCl9aWYoYS5tZW51JiZhLmRlc3Ryb3lNZW51IT09ZmFsc2Upe0V4dC5kZXN0cm95KGEubWVudSl9RXh0LmRlc3Ryb3koYS5idG5Jbm5lckVsLGEucmVwZWF0ZXIpO2EuY2FsbFBhcmVudCgpfSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEucmVuZGVyZWQpe2EuZG9jLnVuKCJtb3VzZW92ZXIiLGEubW9uaXRvck1vdXNlT3ZlcixhKTthLmRvYy51bigibW91c2V1cCIsYS5vbk1vdXNlVXAsYSk7ZGVsZXRlIGEuZG9jO0V4dC5CdXR0b25Ub2dnbGVNYW5hZ2VyLnVucmVnaXN0ZXIoYSk7RXh0LmRlc3Ryb3koYS5rZXlNYXApO2RlbGV0ZSBhLmtleU1hcH1hLmNhbGxQYXJlbnQoKX0sc2V0SGFuZGxlcjpmdW5jdGlvbihiLGEpe3RoaXMuaGFuZGxlcj1iO3RoaXMuc2NvcGU9YTtyZXR1cm4gdGhpc30sc2V0VGV4dDpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2EudGV4dD1iO2lmKGEucmVuZGVyZWQpe2EuYnRuSW5uZXJFbC51cGRhdGUoYnx8IiYjMTYwOyIpO2Euc2V0Q29tcG9uZW50Q2xzKCk7aWYoRXh0LmlzU3RyaWN0JiZFeHQuaXNJRTgpe2EuZWwucmVwYWludCgpfWEudXBkYXRlTGF5b3V0KCl9cmV0dXJuIGF9LHNldEljb246ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxhPWMuYnRuSWNvbkVsLGQ9Yy5pY29uO2MuaWNvbj1iO2lmKGEpe2Euc2V0U3R5bGUoImJhY2tncm91bmQtaW1hZ2UiLGI/InVybCgiK2IrIikiOiIiKTtjLnNldENvbXBvbmVudENscygpO2lmKGMuZGlkSWNvblN0YXRlQ2hhbmdlKGQsYikpe2MudXBkYXRlTGF5b3V0KCl9fXJldHVybiBjfSxkaWRJY29uU3RhdGVDaGFuZ2U6ZnVuY3Rpb24oYSxjKXt2YXIgYj1FeHQuaXNFbXB0eShjKTtyZXR1cm4gRXh0LmlzRW1wdHkoYSk/IWI6Yn0sZ2V0VGV4dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnRleHR9LHRvZ2dsZTpmdW5jdGlvbihjLGEpe3ZhciBiPXRoaXM7Yz1jPT09dW5kZWZpbmVkPyFiLnByZXNzZWQ6ISFjO2lmKGMhPT1iLnByZXNzZWQpe2lmKGIucmVuZGVyZWQpe2JbYz8iYWRkQ2xzV2l0aFVJIjoicmVtb3ZlQ2xzV2l0aFVJIl0oYi5wcmVzc2VkQ2xzKX1iLnByZXNzZWQ9YztpZighYSl7Yi5maXJlRXZlbnQoInRvZ2dsZSIsYixjKTtFeHQuY2FsbGJhY2soYi50b2dnbGVIYW5kbGVyLGIuc2NvcGV8fGIsW2IsY10pfX1yZXR1cm4gYn0sbWF5YmVTaG93TWVudTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5tZW51JiYhYS5oYXNWaXNpYmxlTWVudSgpJiYhYS5pZ25vcmVOZXh0Q2xpY2spe2Euc2hvd01lbnUoKX19LHNob3dNZW51OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLnJlbmRlcmVkJiZhLm1lbnUpe2lmKGEudG9vbHRpcCYmYS5nZXRUaXBBdHRyKCkhPSJ0aXRsZSIpe0V4dC50aXAuUXVpY2tUaXBNYW5hZ2VyLmdldFF1aWNrVGlwKCkuY2FuY2VsU2hvdyhhLmJ0bkVsKX1pZihhLm1lbnUuaXNWaXNpYmxlKCkpe2EubWVudS5oaWRlKCl9YS5tZW51LnNob3dCeShhLmVsLGEubWVudUFsaWduLCgoIUV4dC5pc1N0cmljdCYmRXh0LmlzSUUpfHxFeHQuaXNJRTYpP1stMiwtMl06dW5kZWZpbmVkKX1yZXR1cm4gYX0saGlkZU1lbnU6ZnVuY3Rpb24oKXtpZih0aGlzLmhhc1Zpc2libGVNZW51KCkpe3RoaXMubWVudS5oaWRlKCl9cmV0dXJuIHRoaXN9LGhhc1Zpc2libGVNZW51OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5tZW51O3JldHVybiBhJiZhLnJlbmRlcmVkJiZhLmlzVmlzaWJsZSgpfSxvblJlcGVhdENsaWNrOmZ1bmN0aW9uKGEsYil7dGhpcy5vbkNsaWNrKGIpfSxvbkNsaWNrOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7aWYoYS5wcmV2ZW50RGVmYXVsdHx8KGEuZGlzYWJsZWQmJmEuZ2V0SHJlZigpKSYmYil7Yi5wcmV2ZW50RGVmYXVsdCgpfWlmKGIuYnV0dG9uIT09MCl7cmV0dXJufWlmKCFhLmRpc2FibGVkKXthLmRvVG9nZ2xlKCk7YS5tYXliZVNob3dNZW51KCk7YS5maXJlSGFuZGxlcihiKX19LGZpcmVIYW5kbGVyOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT1iLmhhbmRsZXI7aWYoYi5maXJlRXZlbnQoImNsaWNrIixiLGMpIT09ZmFsc2Upe2lmKGEpe2EuY2FsbChiLnNjb3BlfHxiLGIsYyl9Yi5ibHVyKCl9fSxkb1RvZ2dsZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5lbmFibGVUb2dnbGUmJihhLmFsbG93RGVwcmVzcyE9PWZhbHNlfHwhYS5wcmVzc2VkKSl7YS50b2dnbGUoKX19LG9uTW91c2VPdmVyOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7aWYoIWEuZGlzYWJsZWQmJiFiLndpdGhpbihhLmVsLHRydWUsdHJ1ZSkpe2Eub25Nb3VzZUVudGVyKGIpfX0sb25Nb3VzZU91dDpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2lmKCFiLndpdGhpbihhLmVsLHRydWUsdHJ1ZSkpe2lmKGEub3Zlck1lbnVUcmlnZ2VyKXthLm9uTWVudVRyaWdnZXJPdXQoYil9YS5vbk1vdXNlTGVhdmUoYil9fSxvbk1vdXNlTW92ZTpmdW5jdGlvbihoKXt2YXIgZD10aGlzLGM9ZC5lbCxnPWQub3Zlck1lbnVUcmlnZ2VyLGIsYTtpZihkLnNwbGl0KXtpZihkLmFycm93QWxpZ249PT0icmlnaHQiKXtiPWguZ2V0WCgpLWMuZ2V0WCgpO2E9Yy5nZXRXaWR0aCgpfWVsc2V7Yj1oLmdldFkoKS1jLmdldFkoKTthPWMuZ2V0SGVpZ2h0KCl9aWYoYj4oYS1kLmdldFRyaWdnZXJTaXplKCkpKXtpZighZyl7ZC5vbk1lbnVUcmlnZ2VyT3ZlcihoKX19ZWxzZXtpZihnKXtkLm9uTWVudVRyaWdnZXJPdXQoaCl9fX19LGdldFRyaWdnZXJTaXplOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxjPWUudHJpZ2dlclNpemUsYixhLGQ7aWYoYz09PWQpe2I9ZS5hcnJvd0FsaWduO2E9Yi5jaGFyQXQoMCk7Yz1lLnRyaWdnZXJTaXplPWUuZWwuZ2V0RnJhbWVXaWR0aChhKStlLmJ0bldyYXAuZ2V0RnJhbWVXaWR0aChhKStlLmZyYW1lU2l6ZVtiXX1yZXR1cm4gY30sb25Nb3VzZUVudGVyOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7YS5hZGRDbHNXaXRoVUkoYS5vdmVyQ2xzKTthLmZpcmVFdmVudCgibW91c2VvdmVyIixhLGIpfSxvbk1vdXNlTGVhdmU6ZnVuY3Rpb24oYil7dmFyIGE9dGhpczthLnJlbW92ZUNsc1dpdGhVSShhLm92ZXJDbHMpO2EuZmlyZUV2ZW50KCJtb3VzZW91dCIsYSxiKX0sb25NZW51VHJpZ2dlck92ZXI6ZnVuY3Rpb24oYil7dmFyIGE9dGhpczthLm92ZXJNZW51VHJpZ2dlcj10cnVlO2EuZmlyZUV2ZW50KCJtZW51dHJpZ2dlcm92ZXIiLGEsYS5tZW51LGIpfSxvbk1lbnVUcmlnZ2VyT3V0OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7ZGVsZXRlIGEub3Zlck1lbnVUcmlnZ2VyO2EuZmlyZUV2ZW50KCJtZW51dHJpZ2dlcm91dCIsYSxhLm1lbnUsYil9LGVuYWJsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGIuYnRuRWwpe2IuYnRuRWwuZG9tLmRpc2FibGVkPWZhbHNlfWIucmVtb3ZlQ2xzV2l0aFVJKCJkaXNhYmxlZCIpO3JldHVybiBifSxkaXNhYmxlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYi5idG5FbCl7Yi5idG5FbC5kb20uZGlzYWJsZWQ9dHJ1ZX1iLmFkZENsc1dpdGhVSSgiZGlzYWJsZWQiKTtiLnJlbW92ZUNsc1dpdGhVSShiLm92ZXJDbHMpO2lmKGIuYnRuSW5uZXJFbCYmKEV4dC5pc0lFNnx8RXh0LmlzSUU3KSl7Yi5idG5Jbm5lckVsLnJlcGFpbnQoKX1yZXR1cm4gYn0sc2V0U2NhbGU6ZnVuY3Rpb24oYyl7dmFyIGE9dGhpcyxiPWEudWkucmVwbGFjZSgiLSIrYS5zY2FsZSwiIik7aWYoIUV4dC5BcnJheS5jb250YWlucyhhLmFsbG93ZWRTY2FsZXMsYykpe3Rocm93ICgiI3NldFNjYWxlOiBzY2FsZSBtdXN0IGJlIGFuIGFsbG93ZWQgc2NhbGUgKCIrYS5hbGxvd2VkU2NhbGVzLmpvaW4oIiwgIikrIikiKX1hLnNjYWxlPWM7YS5zZXRVSShiKX0sc2V0VUk6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZihhLnNjYWxlJiYhYi5tYXRjaChhLnNjYWxlKSl7Yj1iKyItIithLnNjYWxlfWEuY2FsbFBhcmVudChbYl0pfSxvbk1vdXNlRG93bjpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2lmKCFhLmRpc2FibGVkJiZiLmJ1dHRvbj09PTApe2EuYWRkQ2xzV2l0aFVJKGEucHJlc3NlZENscyk7YS5kb2Mub24oIm1vdXNldXAiLGEub25Nb3VzZVVwLGEpfX0sb25Nb3VzZVVwOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7aWYoYi5idXR0b249PT0wKXtpZighYS5wcmVzc2VkKXthLnJlbW92ZUNsc1dpdGhVSShhLnByZXNzZWRDbHMpfWEuZG9jLnVuKCJtb3VzZXVwIixhLm9uTW91c2VVcCxhKX19LG9uTWVudVNob3c6ZnVuY3Rpb24oYil7dmFyIGE9dGhpczthLmlnbm9yZU5leHRDbGljaz0wO2EuYWRkQ2xzV2l0aFVJKGEubWVudUFjdGl2ZUNscyk7YS5maXJlRXZlbnQoIm1lbnVzaG93IixhLGEubWVudSl9LG9uTWVudUhpZGU6ZnVuY3Rpb24oYil7dmFyIGE9dGhpczthLnJlbW92ZUNsc1dpdGhVSShhLm1lbnVBY3RpdmVDbHMpO2EuaWdub3JlTmV4dENsaWNrPUV4dC5kZWZlcihhLnJlc3RvcmVDbGljaywyNTAsYSk7YS5maXJlRXZlbnQoIm1lbnVoaWRlIixhLGEubWVudSl9LHJlc3RvcmVDbGljazpmdW5jdGlvbigpe3RoaXMuaWdub3JlTmV4dENsaWNrPTB9LG9uRG93bktleTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoIWEuZGlzYWJsZWQpe2lmKGEubWVudSl7YS5zaG93TWVudSgpfX19LGdldFBlcnNpc3RlbnRQYWRkaW5nOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxlPWQucGVyc2lzdGVudFBhZGRpbmcsYixhLGMsZztpZighZSl7ZT1kLnNlbGYucHJvdG90eXBlLnBlcnNpc3RlbnRQYWRkaW5nPVswLDAsMCwwXTtpZighRXh0LmlzSUUpe2I9bmV3IEV4dC5idXR0b24uQnV0dG9uKHt0ZXh0OiJ0ZXN0IixzdHlsZToicG9zaXRpb246YWJzb2x1dGU7dG9wOi05OTlweDsifSk7Yi5lbD1FeHQuRG9tSGVscGVyLmFwcGVuZChFeHQuZ2V0Qm9keSgpLGIuZ2V0UmVuZGVyVHJlZSgpLHRydWUpO2IuYXBwbHlDaGlsZEVscyhiLmVsKTtjPWIuYnRuRWw7Zz1iLmJ0bklubmVyRWw7Yy5zZXRTaXplKG51bGwsbnVsbCk7YT1nLmdldE9mZnNldHNUbyhjKTtlWzBdPWFbMV07ZVsxXT1jLmdldFdpZHRoKCktZy5nZXRXaWR0aCgpLWFbMF07ZVsyXT1jLmdldEhlaWdodCgpLWcuZ2V0SGVpZ2h0KCktYVsxXTtlWzNdPWFbMF07Yi5kZXN0cm95KCk7Yi5lbC5yZW1vdmUoKX19cmV0dXJuIGV9fSxmdW5jdGlvbigpe3ZhciBhPXt9LGI9ZnVuY3Rpb24oZCxqKXtpZihqKXt2YXIgaD1hW2QudG9nZ2xlR3JvdXBdLGU9aC5sZW5ndGgsYztmb3IoYz0wO2M8ZTtjKyspe2lmKGhbY10hPT1kKXtoW2NdLnRvZ2dsZShmYWxzZSl9fX19O0V4dC5CdXR0b25Ub2dnbGVNYW5hZ2VyPXtyZWdpc3RlcjpmdW5jdGlvbihjKXtpZighYy50b2dnbGVHcm91cCl7cmV0dXJufXZhciBkPWFbYy50b2dnbGVHcm91cF07aWYoIWQpe2Q9YVtjLnRvZ2dsZUdyb3VwXT1bXX1kLnB1c2goYyk7Yy5vbigidG9nZ2xlIixiKX0sdW5yZWdpc3RlcjpmdW5jdGlvbihjKXtpZighYy50b2dnbGVHcm91cCl7cmV0dXJufXZhciBkPWFbYy50b2dnbGVHcm91cF07aWYoZCl7RXh0LkFycmF5LnJlbW92ZShkLGMpO2MudW4oInRvZ2dsZSIsYil9fSxnZXRQcmVzc2VkOmZ1bmN0aW9uKGgpe3ZhciBlPWFbaF0sZD0wLGM7aWYoZSl7Zm9yKGM9ZS5sZW5ndGg7ZDxjO2QrKyl7aWYoZVtkXS5wcmVzc2VkPT09dHJ1ZSl7cmV0dXJuIGVbZF19fX1yZXR1cm4gbnVsbH19fSk7RXh0LmRlZmluZSgiRXh0LmJ1dHRvbi5TcGxpdCIse2FsaWFzOiJ3aWRnZXQuc3BsaXRidXR0b24iLGV4dGVuZDoiRXh0LmJ1dHRvbi5CdXR0b24iLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LlNwbGl0QnV0dG9uIixhcnJvd0Nsczoic3BsaXQiLHNwbGl0OnRydWUsaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudCgpO3RoaXMuYWRkRXZlbnRzKCJhcnJvd2NsaWNrIil9LHNldEFycm93SGFuZGxlcjpmdW5jdGlvbihiLGEpe3RoaXMuYXJyb3dIYW5kbGVyPWI7dGhpcy5zY29wZT1hfSxvbkNsaWNrOmZ1bmN0aW9uKGMsYSl7dmFyIGI9dGhpcztjLnByZXZlbnREZWZhdWx0KCk7aWYoIWIuZGlzYWJsZWQpe2lmKGIub3Zlck1lbnVUcmlnZ2VyKXtiLm1heWJlU2hvd01lbnUoKTtiLmZpcmVFdmVudCgiYXJyb3djbGljayIsYixjKTtpZihiLmFycm93SGFuZGxlcil7Yi5hcnJvd0hhbmRsZXIuY2FsbChiLnNjb3BlfHxiLGIsYyl9fWVsc2V7Yi5kb1RvZ2dsZSgpO2IuZmlyZUhhbmRsZXIoYyl9fX19KTtFeHQuZGVmaW5lKCJFeHQuYnV0dG9uLkN5Y2xlIix7YWxpYXM6IndpZGdldC5jeWNsZSIsZXh0ZW5kOiJFeHQuYnV0dG9uLlNwbGl0IixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5DeWNsZUJ1dHRvbiIsZ2V0QnV0dG9uVGV4dDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLGM9IiI7aWYoYiYmYS5zaG93VGV4dD09PXRydWUpe2lmKGEucHJlcGVuZFRleHQpe2MrPWEucHJlcGVuZFRleHR9Yys9Yi50ZXh0O3JldHVybiBjfXJldHVybiBhLnRleHR9LHNldEFjdGl2ZUl0ZW06ZnVuY3Rpb24oYyxhKXt2YXIgYj10aGlzO2lmKCFFeHQuaXNPYmplY3QoYykpe2M9Yi5tZW51LmdldENvbXBvbmVudChjKX1pZihjKXtpZighYi5yZW5kZXJlZCl7Yi50ZXh0PWIuZ2V0QnV0dG9uVGV4dChjKTtiLmljb25DbHM9Yy5pY29uQ2xzfWVsc2V7Yi5zZXRUZXh0KGIuZ2V0QnV0dG9uVGV4dChjKSk7Yi5zZXRJY29uQ2xzKGMuaWNvbkNscyl9Yi5hY3RpdmVJdGVtPWM7aWYoIWMuY2hlY2tlZCl7Yy5zZXRDaGVja2VkKHRydWUsZmFsc2UpfWlmKGIuZm9yY2VJY29uKXtiLnNldEljb25DbHMoYi5mb3JjZUljb24pfWlmKCFhKXtiLmZpcmVFdmVudCgiY2hhbmdlIixiLGMpfX19LGdldEFjdGl2ZUl0ZW06ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hY3RpdmVJdGVtfSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGc9dGhpcyxlPTAsYixjLGEsZDtnLmFkZEV2ZW50cygiY2hhbmdlIik7aWYoZy5jaGFuZ2VIYW5kbGVyKXtnLm9uKCJjaGFuZ2UiLGcuY2hhbmdlSGFuZGxlcixnLnNjb3BlfHxnKTtkZWxldGUgZy5jaGFuZ2VIYW5kbGVyfWI9KGcubWVudS5pdGVtc3x8W10pLmNvbmNhdChnLml0ZW1zfHxbXSk7Zy5tZW51PUV4dC5hcHBseUlmKHtjbHM6RXh0LmJhc2VDU1NQcmVmaXgrImN5Y2xlLW1lbnUiLGl0ZW1zOltdfSxnLm1lbnUpO2E9Yi5sZW5ndGg7Zm9yKGM9MDtjPGE7YysrKXtkPWJbY107ZD1FeHQuYXBwbHlJZih7Z3JvdXA6Zy5pZCxpdGVtSW5kZXg6YyxjaGVja0hhbmRsZXI6Zy5jaGVja0hhbmRsZXIsc2NvcGU6ZyxjaGVja2VkOmQuY2hlY2tlZHx8ZmFsc2V9LGQpO2cubWVudS5pdGVtcy5wdXNoKGQpO2lmKGQuY2hlY2tlZCl7ZT1jfX1nLml0ZW1Db3VudD1nLm1lbnUuaXRlbXMubGVuZ3RoO2cuY2FsbFBhcmVudChhcmd1bWVudHMpO2cub24oImNsaWNrIixnLnRvZ2dsZVNlbGVjdGVkLGcpO2cuc2V0QWN0aXZlSXRlbShlLGcpO2lmKGcud2lkdGgmJmcuc2hvd1RleHQpe2cuYWRkQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJjeWNsZS1maXhlZC13aWR0aCIpfX0sY2hlY2tIYW5kbGVyOmZ1bmN0aW9uKGEsYil7aWYoYil7dGhpcy5zZXRBY3RpdmVJdGVtKGEpfX0sdG9nZ2xlU2VsZWN0ZWQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGE9Yy5tZW51LGI7Yj1jLmFjdGl2ZUl0ZW0ubmV4dCgiOm5vdChbZGlzYWJsZWRdKSIpfHxhLml0ZW1zLmdldEF0KDApO2Iuc2V0Q2hlY2tlZCh0cnVlKX19KTtFeHQuZGVmaW5lKCJFeHQubWVudS5TZXBhcmF0b3IiLHtleHRlbmQ6IkV4dC5tZW51Lkl0ZW0iLGFsaWFzOiJ3aWRnZXQubWVudXNlcGFyYXRvciIsY2FuQWN0aXZhdGU6ZmFsc2UsZm9jdXNhYmxlOmZhbHNlLGhpZGVPbkNsaWNrOmZhbHNlLHBsYWluOnRydWUsc2VwYXJhdG9yQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJtZW51LWl0ZW0tc2VwYXJhdG9yIix0ZXh0OiImIzE2MDsiLGJlZm9yZVJlbmRlcjpmdW5jdGlvbihhLGMpe3ZhciBiPXRoaXM7Yi5jYWxsUGFyZW50KCk7Yi5hZGRDbHMoYi5zZXBhcmF0b3JDbHMpfX0pO0V4dC5kZWZpbmUoIkV4dC5wYW5lbC5ERCIse2V4dGVuZDoiRXh0LmRkLkRyYWdTb3VyY2UiLHJlcXVpcmVzOlsiRXh0LnBhbmVsLlByb3h5Il0sY29uc3RydWN0b3I6ZnVuY3Rpb24oYixhKXt2YXIgYz10aGlzO2MucGFuZWw9YjtjLmRyYWdEYXRhPXtwYW5lbDpifTtjLnBhbmVsUHJveHk9bmV3IEV4dC5wYW5lbC5Qcm94eShiLGEpO2MucHJveHk9Yy5wYW5lbFByb3h5LnByb3h5O2MuY2FsbFBhcmVudChbYi5lbCxhXSk7Yy5zZXR1cEVsKGIpfSxzZXR1cEVsOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsZD1hLmhlYWRlcixiPWEuYm9keTtpZihkKXtjLnNldEhhbmRsZUVsSWQoZC5pZCk7Yj1kLmVsfWlmKGIpe2Iuc2V0U3R5bGUoImN1cnNvciIsIm1vdmUiKTtjLnNjcm9sbD1mYWxzZX1lbHNle2Eub24oImJveHJlYWR5IixjLnNldHVwRWwsYyx7c2luZ2xlOnRydWV9KX19LHNob3dGcmFtZTpFeHQuZW1wdHlGbixzdGFydERyYWc6RXh0LmVtcHR5Rm4sYjRTdGFydERyYWc6ZnVuY3Rpb24oYSxiKXt0aGlzLnBhbmVsUHJveHkuc2hvdygpfSxiNE1vdXNlRG93bjpmdW5jdGlvbihiKXt2YXIgYT1iLmdldFBhZ2VYKCksYz1iLmdldFBhZ2VZKCk7dGhpcy5hdXRvT2Zmc2V0KGEsYyl9LG9uSW5pdERyYWc6ZnVuY3Rpb24oYSxiKXt0aGlzLm9uU3RhcnREcmFnKGEsYik7cmV0dXJuIHRydWV9LGNyZWF0ZUZyYW1lOkV4dC5lbXB0eUZuLGdldERyYWdFbDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wYW5lbFByb3h5Lmdob3N0LmVsLmRvbX0sZW5kRHJhZzpmdW5jdGlvbihhKXt0aGlzLnBhbmVsUHJveHkuaGlkZSgpO3RoaXMucGFuZWwuc2F2ZVN0YXRlKCl9LGF1dG9PZmZzZXQ6ZnVuY3Rpb24oYSxiKXthLT10aGlzLnN0YXJ0UGFnZVg7Yi09dGhpcy5zdGFydFBhZ2VZO3RoaXMuc2V0RGVsdGEoYSxiKX0sb25JbnZhbGlkRHJvcDpmdW5jdGlvbihjLGIsZCl7dmFyIGE9dGhpczthLmJlZm9yZUludmFsaWREcm9wKGMsYixkKTtpZihhLmNhY2hlZFRhcmdldCl7aWYoYS5jYWNoZWRUYXJnZXQuaXNOb3RpZnlUYXJnZXQpe2EuY2FjaGVkVGFyZ2V0Lm5vdGlmeU91dChhLGIsYS5kcmFnRGF0YSl9YS5jYWNoZVRhcmdldD1udWxsfWlmKGEuYWZ0ZXJJbnZhbGlkRHJvcCl7YS5hZnRlckludmFsaWREcm9wKGIsZCl9fX0pO0V4dC5kZWZpbmUoIkV4dC5wYW5lbC5IZWFkZXIiLHtleHRlbmQ6IkV4dC5jb250YWluZXIuQ29udGFpbmVyIix1c2VzOlsiRXh0LnBhbmVsLlRvb2wiLCJFeHQuZHJhdy5Db21wb25lbnQiLCJFeHQudXRpbC5DU1MiLCJFeHQubGF5b3V0LmNvbXBvbmVudC5Cb2R5IiwiRXh0LkltZyJdLGFsaWFzOiJ3aWRnZXQuaGVhZGVyIixpc0hlYWRlcjp0cnVlLGRlZmF1bHRUeXBlOiJ0b29sIixpbmRpY2F0ZURyYWc6ZmFsc2Usd2VpZ2h0Oi0xLGNvbXBvbmVudExheW91dDoiYm9keSIsdGl0bGVBbGlnbjoibGVmdCIsY2hpbGRFbHM6WyJib2R5Il0scmVuZGVyVHBsOlsnPGRpdiBpZD0ie2lkfS1ib2R5IiBjbGFzcz0ie2Jhc2VDbHN9LWJvZHkge2JvZHlDbHN9JywnPHRwbCBmb3I9InVpQ2xzIj4ge3BhcmVudC5iYXNlQ2xzfS1ib2R5LXtwYXJlbnQudWl9LXsufTwvdHBsPiInLCc8dHBsIGlmPSJib2R5U3R5bGUiPiBzdHlsZT0ie2JvZHlTdHlsZX0iPC90cGw+PicsInsldGhpcy5yZW5kZXJDb250YWluZXIob3V0LHZhbHVlcyklfSIsIjwvZGl2PiJdLGhlYWRpbmdUcGw6JzxzcGFuIGlkPSJ7aWR9LXRleHRFbCIgY2xhc3M9IntjbHN9LXRleHQge2Nsc30tdGV4dC17dWl9Ij57dGl0bGV9PC9zcGFuPicsc2hyaW5rV3JhcDozLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGUsZCxhLGMsZztiLmFkZEV2ZW50cygiY2xpY2siLCJkYmxjbGljayIpO2IuaW5kaWNhdGVEcmFnQ2xzPWIuYmFzZUNscysiLWRyYWdnYWJsZSI7Yi50aXRsZT1iLnRpdGxlfHwiJiMxNjA7IjtiLnRvb2xzPWIudG9vbHN8fFtdO2IuaXRlbXM9Yi5pdGVtc3x8W107Yi5vcmllbnRhdGlvbj1iLm9yaWVudGF0aW9ufHwiaG9yaXpvbnRhbCI7Yi5kb2NrPShiLmRvY2spP2IuZG9jazooYi5vcmllbnRhdGlvbj09Imhvcml6b250YWwiKT8idG9wIjoibGVmdCI7Yi5hZGRDbHNXaXRoVUkoW2Iub3JpZW50YXRpb24sYi5kb2NrXSk7aWYoYi5pbmRpY2F0ZURyYWcpe2IuYWRkQ2xzKGIuaW5kaWNhdGVEcmFnQ2xzKX1pZighRXh0LmlzRW1wdHkoYi5pY29uQ2xzKXx8IUV4dC5pc0VtcHR5KGIuaWNvbikpe2IuaW5pdEljb25DbXAoKTtiLml0ZW1zLnB1c2goYi5pY29uQ21wKX1pZihiLm9yaWVudGF0aW9uPT0idmVydGljYWwiKXtiLmxheW91dD17dHlwZToidmJveCIsYWxpZ246ImNlbnRlciJ9O2IudGV4dENvbmZpZz17d2lkdGg6MTYsY2xzOmIuYmFzZUNscysiLXRleHQiLHR5cGU6InRleHQiLHRleHQ6Yi50aXRsZSxyb3RhdGU6e2RlZ3JlZXM6OTB9fTtjPWIudWk7aWYoRXh0LmlzQXJyYXkoYykpe2M9Y1swXX1lPSIuIitiLmJhc2VDbHMrIi10ZXh0LSIrYztpZihFeHQuc2NvcGVSZXNldENTUyl7ZT0iLiIrRXh0LmJhc2VDU1NQcmVmaXgrInJlc2V0ICIrZX1kPUV4dC51dGlsLkNTUy5nZXRSdWxlKGUpO2lmKGQpe2E9ZC5zdHlsZX1lbHNle2E9KGc9RXh0LmdldEJvZHkoKS5jcmVhdGVDaGlsZCh7c3R5bGU6InBvc2l0aW9uOmFic29sdXRlIixjbHM6Yi5iYXNlQ2xzKyItdGV4dC0iK2N9KSkuZ2V0U3R5bGVzKCJmb250RmFtaWx5IiwiZm9udFdlaWdodCIsImZvbnRTaXplIiwiY29sb3IiKTtnLnJlbW92ZSgpfWlmKGEpe0V4dC5hcHBseShiLnRleHRDb25maWcseyJmb250LWZhbWlseSI6YS5mb250RmFtaWx5LCJmb250LXdlaWdodCI6YS5mb250V2VpZ2h0LCJmb250LXNpemUiOmEuZm9udFNpemUsZmlsbDphLmNvbG9yfSl9Yi50aXRsZUNtcD1uZXcgRXh0LmRyYXcuQ29tcG9uZW50KHt3aWR0aDoxNixhcmlhUm9sZToiaGVhZGluZyIsZm9jdXNhYmxlOmZhbHNlLHZpZXdCb3g6ZmFsc2UsZmxleDoxLGlkOmIuaWQrIl9oZCIsYXV0b1NpemU6dHJ1ZSxpdGVtczpiLnRleHRDb25maWcseGhvb2tzOntzZXRTaXplOmZ1bmN0aW9uKGgpe3RoaXMuY2FsbFBhcmVudChbaF0pfX0sY2hpbGRFbHM6W3tuYW1lOiJ0ZXh0RWwiLHNlbGVjdDoiLiIrYi5iYXNlQ2xzKyItdGV4dCJ9XX0pfWVsc2V7Yi5sYXlvdXQ9e3R5cGU6Imhib3giLGFsaWduOiJtaWRkbGUifTtiLnRpdGxlQ21wPW5ldyBFeHQuQ29tcG9uZW50KHthcmlhUm9sZToiaGVhZGluZyIsZm9jdXNhYmxlOmZhbHNlLG5vV3JhcDp0cnVlLGZsZXg6MSxpZDpiLmlkKyJfaGQiLHN0eWxlOiJ0ZXh0LWFsaWduOiIrYi50aXRsZUFsaWduLGNsczpiLmJhc2VDbHMrIi10ZXh0LWNvbnRhaW5lciIscmVuZGVyVHBsOmIuZ2V0VHBsKCJoZWFkaW5nVHBsIikscmVuZGVyRGF0YTp7dGl0bGU6Yi50aXRsZSxjbHM6Yi5iYXNlQ2xzLHVpOmIudWl9LGNoaWxkRWxzOlsidGV4dEVsIl19KX1iLml0ZW1zLnB1c2goYi50aXRsZUNtcCk7Yi5pdGVtcz1iLml0ZW1zLmNvbmNhdChiLnRvb2xzKTtiLmNhbGxQYXJlbnQoKTtiLm9uKHtkYmxjbGljazpiLm9uRGJsQ2xpY2ssY2xpY2s6Yi5vbkNsaWNrLGVsZW1lbnQ6ImVsIixzY29wZTpifSl9LGluaXRJY29uQ21wOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPXtmb2N1c2FibGU6ZmFsc2Usc3JjOkV4dC5CTEFOS19JTUFHRV9VUkwsY2xzOltiLmJhc2VDbHMrIi1pY29uIixiLmljb25DbHNdLGlkOmIuaWQrIi1pY29uRWwiLGljb25DbHM6Yi5pY29uQ2xzfTtpZighRXh0LmlzRW1wdHkoYi5pY29uKSl7ZGVsZXRlIGEuaWNvbkNsczthLnNyYz1iLmljb259Yi5pY29uQ21wPW5ldyBFeHQuSW1nKGEpfSxhZnRlclJlbmRlcjpmdW5jdGlvbigpe3RoaXMuZWwudW5zZWxlY3RhYmxlKCk7dGhpcy5jYWxsUGFyZW50KCl9LGFkZFVJQ2xzVG9FbGVtZW50OmZ1bmN0aW9uKGIpe3ZhciBlPXRoaXMsYT1lLmNhbGxQYXJlbnQoYXJndW1lbnRzKSxkPVtlLmJhc2VDbHMrIi1ib2R5LSIrYixlLmJhc2VDbHMrIi1ib2R5LSIrZS51aSsiLSIrYl0sZyxjO2lmKGUuYm9keUNscyl7Zz1lLmJvZHlDbHMuc3BsaXQoIiAiKTtmb3IoYz0wO2M8ZC5sZW5ndGg7YysrKXtpZighRXh0LkFycmF5LmNvbnRhaW5zKGcsZFtjXSkpe2cucHVzaChkW2NdKX19ZS5ib2R5Q2xzPWcuam9pbigiICIpfWVsc2V7ZS5ib2R5Q2xzPWQuam9pbigiICIpfXJldHVybiBhfSxyZW1vdmVVSUNsc0Zyb21FbGVtZW50OmZ1bmN0aW9uKGIpe3ZhciBlPXRoaXMsYT1lLmNhbGxQYXJlbnQoYXJndW1lbnRzKSxkPVtlLmJhc2VDbHMrIi1ib2R5LSIrYixlLmJhc2VDbHMrIi1ib2R5LSIrZS51aSsiLSIrYl0sZyxjO2lmKGUuYm9keUNscyl7Zz1lLmJvZHlDbHMuc3BsaXQoIiAiKTtmb3IoYz0wO2M8ZC5sZW5ndGg7YysrKXtFeHQuQXJyYXkucmVtb3ZlKGcsZFtjXSl9ZS5ib2R5Q2xzPWcuam9pbigiICIpfXJldHVybiBhfSxhZGRVSVRvRWxlbWVudDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYyxhO2IuY2FsbFBhcmVudChhcmd1bWVudHMpO2E9Yi5iYXNlQ2xzKyItYm9keS0iK2IudWk7aWYoYi5yZW5kZXJlZCl7aWYoYi5ib2R5Q2xzKXtiLmJvZHkuYWRkQ2xzKGIuYm9keUNscyl9ZWxzZXtiLmJvZHkuYWRkQ2xzKGEpfX1lbHNle2lmKGIuYm9keUNscyl7Yz1iLmJvZHlDbHMuc3BsaXQoIiAiKTtpZighRXh0LkFycmF5LmNvbnRhaW5zKGMsYSkpe2MucHVzaChhKX1iLmJvZHlDbHM9Yy5qb2luKCIgIil9ZWxzZXtiLmJvZHlDbHM9YX19aWYoYi50aXRsZUNtcCYmYi50aXRsZUNtcC5yZW5kZXJlZCYmYi50aXRsZUNtcC50ZXh0RWwpe2IudGl0bGVDbXAudGV4dEVsLmFkZENscyhiLmJhc2VDbHMrIi10ZXh0LSIrYi51aSl9fSxyZW1vdmVVSUZyb21FbGVtZW50OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjLGE7Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YT1iLmJhc2VDbHMrIi1ib2R5LSIrYi51aTtpZihiLnJlbmRlcmVkKXtpZihiLmJvZHlDbHMpe2IuYm9keS5yZW1vdmVDbHMoYi5ib2R5Q2xzKX1lbHNle2IuYm9keS5yZW1vdmVDbHMoYSl9fWVsc2V7aWYoYi5ib2R5Q2xzKXtjPWIuYm9keUNscy5zcGxpdCgiICIpO0V4dC5BcnJheS5yZW1vdmUoYyxhKTtiLmJvZHlDbHM9Yy5qb2luKCIgIil9ZWxzZXtiLmJvZHlDbHM9YX19aWYoYi50aXRsZUNtcCYmYi50aXRsZUNtcC5yZW5kZXJlZCYmYi50aXRsZUNtcC50ZXh0RWwpe2IudGl0bGVDbXAudGV4dEVsLnJlbW92ZUNscyhiLmJhc2VDbHMrIi10ZXh0LSIrYi51aSl9fSxvbkNsaWNrOmZ1bmN0aW9uKGEpe3RoaXMuZmlyZUNsaWNrRXZlbnQoImNsaWNrIixhKX0sb25EYmxDbGljazpmdW5jdGlvbihhKXt0aGlzLmZpcmVDbGlja0V2ZW50KCJkYmxjbGljayIsYSl9LGZpcmVDbGlja0V2ZW50OmZ1bmN0aW9uKGEsYyl7dmFyIGI9Ii4iK0V4dC5wYW5lbC5Ub29sLnByb3RvdHlwZS5iYXNlQ2xzO2lmKCFjLmdldFRhcmdldChiKSl7dGhpcy5maXJlRXZlbnQoYSx0aGlzLGMpfX0sZ2V0Rm9jdXNFbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsfSxnZXRUYXJnZXRFbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHl8fHRoaXMuZnJhbWVCb2R5fHx0aGlzLmVsfSxzZXRUaXRsZTpmdW5jdGlvbihkKXt2YXIgYz10aGlzLGIsYTtpZihjLnJlbmRlcmVkKXtpZihjLnRpdGxlQ21wLnJlbmRlcmVkKXtpZihjLnRpdGxlQ21wLnN1cmZhY2Upe2MudGl0bGU9ZHx8IiI7Yj1jLnRpdGxlQ21wLnN1cmZhY2UuaXRlbXMuaXRlbXNbMF07YT1jLnRpdGxlQ21wLnN1cmZhY2U7YS5yZW1vdmUoYik7Yy50ZXh0Q29uZmlnLnR5cGU9InRleHQiO2MudGV4dENvbmZpZy50ZXh0PWQ7Yj1hLmFkZChjLnRleHRDb25maWcpO2Iuc2V0QXR0cmlidXRlcyh7cm90YXRlOntkZWdyZWVzOjkwfX0sdHJ1ZSk7Yy50aXRsZUNtcC5hdXRvU2l6ZVN1cmZhY2UoKX1lbHNle2MudGl0bGU9ZDtjLnRpdGxlQ21wLnRleHRFbC51cGRhdGUoYy50aXRsZXx8IiYjMTYwOyIpfWMudGl0bGVDbXAudXBkYXRlTGF5b3V0KCl9ZWxzZXtjLnRpdGxlQ21wLm9uKHtyZW5kZXI6ZnVuY3Rpb24oKXtjLnNldFRpdGxlKGQpfSxzaW5nbGU6dHJ1ZX0pfX1lbHNle2MudGl0bGU9ZH19LGdldE1pbldpZHRoOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxkPWUudGl0bGVDbXAudGV4dEVsLmRvbSxhLGc9ZS50b29scyxiLGM7ZC5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiO2E9ZC5vZmZzZXRXaWR0aDtkLnN0eWxlLmRpc3BsYXk9IiI7aWYoZyYmKGI9Zy5sZW5ndGgpKXtmb3IoYz0wO2M8YjtjKyspe2lmKGdbY10uZWwpe2ErPWdbY10uZWwuZG9tLm9mZnNldFdpZHRofX19aWYoZS5pY29uQ21wKXthKz1lLmljb25DbXAuZWwuZG9tLm9mZnNldFdpZHRofXJldHVybiBhKzEwfSxzZXRJY29uQ2xzOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsZD0hYXx8IWEubGVuZ3RoLGM9Yi5pY29uQ21wO2IuaWNvbkNscz1hO2lmKCFiLmljb25DbXAmJiFkKXtiLmluaXRJY29uQ21wKCk7Yi5pbnNlcnQoMCxiLmljb25DbXApfWVsc2V7aWYoYyl7aWYoZCl7Yi5pY29uQ21wLmRlc3Ryb3koKTtkZWxldGUgYi5pY29uQ21wfWVsc2V7Yy5yZW1vdmVDbHMoYy5pY29uQ2xzKTtjLmFkZENscyhhKTtjLmljb25DbHM9YX19fX0sc2V0SWNvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGQ9IWF8fCFhLmxlbmd0aCxjPWIuaWNvbkNtcDtiLmljb249YTtpZighYi5pY29uQ21wJiYhZCl7Yi5pbml0SWNvbkNtcCgpO2IuaW5zZXJ0KDAsYi5pY29uQ21wKX1lbHNle2lmKGMpe2lmKGQpe2IuaWNvbkNtcC5kZXN0cm95KCk7ZGVsZXRlIGIuaWNvbkNtcH1lbHNle2Muc2V0U3JjKGIuaWNvbil9fX19LGFkZFRvb2w6ZnVuY3Rpb24oYSl7dGhpcy50b29scy5wdXNoKHRoaXMuYWRkKGEpKX0sb25BZGQ6ZnVuY3Rpb24oYixhKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihiIGluc3RhbmNlb2YgRXh0LnBhbmVsLlRvb2wpe2IuYmluZFRvKHRoaXMub3duZXJDdCk7dGhpcy50b29sc1tiLnR5cGVdPWJ9fSxpbml0UmVuZGVyRGF0YTpmdW5jdGlvbigpe3JldHVybiBFeHQuYXBwbHlJZih0aGlzLmNhbGxQYXJlbnQoKSx7Ym9keUNsczp0aGlzLmJvZHlDbHN9KX19KTtFeHQuZGVmaW5lKCJFeHQucGlja2VyLkNvbG9yIix7ZXh0ZW5kOiJFeHQuQ29tcG9uZW50IixyZXF1aXJlczoiRXh0LlhUZW1wbGF0ZSIsYWxpYXM6IndpZGdldC5jb2xvcnBpY2tlciIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuQ29sb3JQYWxldHRlIixjb21wb25lbnRDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImNvbG9yLXBpY2tlciIsc2VsZWN0ZWRDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImNvbG9yLXBpY2tlci1zZWxlY3RlZCIsdmFsdWU6bnVsbCxjbGlja0V2ZW50OiJjbGljayIsYWxsb3dSZXNlbGVjdDpmYWxzZSxjb2xvcnM6WyIwMDAwMDAiLCI5OTMzMDAiLCIzMzMzMDAiLCIwMDMzMDAiLCIwMDMzNjYiLCIwMDAwODAiLCIzMzMzOTkiLCIzMzMzMzMiLCI4MDAwMDAiLCJGRjY2MDAiLCI4MDgwMDAiLCIwMDgwMDAiLCIwMDgwODAiLCIwMDAwRkYiLCI2NjY2OTkiLCI4MDgwODAiLCJGRjAwMDAiLCJGRjk5MDAiLCI5OUNDMDAiLCIzMzk5NjYiLCIzM0NDQ0MiLCIzMzY2RkYiLCI4MDAwODAiLCI5Njk2OTYiLCJGRjAwRkYiLCJGRkNDMDAiLCJGRkZGMDAiLCIwMEZGMDAiLCIwMEZGRkYiLCIwMENDRkYiLCI5OTMzNjYiLCJDMEMwQzAiLCJGRjk5Q0MiLCJGRkNDOTkiLCJGRkZGOTkiLCJDQ0ZGQ0MiLCJDQ0ZGRkYiLCI5OUNDRkYiLCJDQzk5RkYiLCJGRkZGRkYiXSxjb2xvclJlOi8oPzpefFxzKWNvbG9yLSguezZ9KSg/OlxzfCQpLyxyZW5kZXJUcGw6Wyc8dHBsIGZvcj0iY29sb3JzIj4nLCc8YSBocmVmPSIjIiBjbGFzcz0iY29sb3Itey59IiBoaWRlZm9jdXM9Im9uIj4nLCc8ZW0+PHNwYW4gc3R5bGU9ImJhY2tncm91bmQ6I3sufSIgdW5zZWxlY3RhYmxlPSJvbiI+JiMxNjA7PC9zcGFuPjwvZW0+JywiPC9hPiIsIjwvdHBsPiJdLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2EuYWRkRXZlbnRzKCJzZWxlY3QiKTtpZihhLmhhbmRsZXIpe2Eub24oInNlbGVjdCIsYS5oYW5kbGVyLGEuc2NvcGUsdHJ1ZSl9fSxpbml0UmVuZGVyRGF0YTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIEV4dC5hcHBseShhLmNhbGxQYXJlbnQoKSx7aXRlbUNsczphLml0ZW1DbHMsY29sb3JzOmEuY29sb3JzfSl9LG9uUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuY2xpY2tFdmVudDtiLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtiLm1vbihiLmVsLGEsYi5oYW5kbGVDbGljayxiLHtkZWxlZ2F0ZToiYSJ9KTtpZihhIT0iY2xpY2siKXtiLm1vbihiLmVsLCJjbGljayIsRXh0LmVtcHR5Rm4sYix7ZGVsZWdhdGU6ImEiLHN0b3BFdmVudDp0cnVlfSl9fSxhZnRlclJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYjthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihhLnZhbHVlKXtiPWEudmFsdWU7YS52YWx1ZT1udWxsO2Euc2VsZWN0KGIsdHJ1ZSl9fSxoYW5kbGVDbGljazpmdW5jdGlvbihjLGQpe3ZhciBiPXRoaXMsYTtjLnN0b3BFdmVudCgpO2lmKCFiLmRpc2FibGVkKXthPWQuY2xhc3NOYW1lLm1hdGNoKGIuY29sb3JSZSlbMV07Yi5zZWxlY3QoYS50b1VwcGVyQ2FzZSgpKX19LHNlbGVjdDpmdW5jdGlvbihiLGEpe3ZhciBkPXRoaXMsZz1kLnNlbGVjdGVkQ2xzLGU9ZC52YWx1ZSxjO2I9Yi5yZXBsYWNlKCIjIiwiIik7aWYoIWQucmVuZGVyZWQpe2QudmFsdWU9YjtyZXR1cm59aWYoYiE9ZXx8ZC5hbGxvd1Jlc2VsZWN0KXtjPWQuZWw7aWYoZC52YWx1ZSl7Yy5kb3duKCJhLmNvbG9yLSIrZSkucmVtb3ZlQ2xzKGcpfWMuZG93bigiYS5jb2xvci0iK2IpLmFkZENscyhnKTtkLnZhbHVlPWI7aWYoYSE9PXRydWUpe2QuZmlyZUV2ZW50KCJzZWxlY3QiLGQsYil9fX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZXx8bnVsbH19KTtFeHQuZGVmaW5lKCJFeHQucGlja2VyLk1vbnRoIix7ZXh0ZW5kOiJFeHQuQ29tcG9uZW50IixyZXF1aXJlczpbIkV4dC5YVGVtcGxhdGUiLCJFeHQudXRpbC5DbGlja1JlcGVhdGVyIiwiRXh0LkRhdGUiLCJFeHQuYnV0dG9uLkJ1dHRvbiJdLGFsaWFzOiJ3aWRnZXQubW9udGhwaWNrZXIiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0Lk1vbnRoUGlja2VyIixjaGlsZEVsczpbImJvZHlFbCIsInByZXZFbCIsIm5leHRFbCIsImJ1dHRvbnNFbCIsIm1vbnRoRWwiLCJ5ZWFyRWwiXSxyZW5kZXJUcGw6Wyc8ZGl2IGlkPSJ7aWR9LWJvZHlFbCIgY2xhc3M9IntiYXNlQ2xzfS1ib2R5Ij4nLCc8ZGl2IGlkPSJ7aWR9LW1vbnRoRWwiIGNsYXNzPSJ7YmFzZUNsc30tbW9udGhzIj4nLCc8dHBsIGZvcj0ibW9udGhzIj4nLCc8ZGl2IGNsYXNzPSJ7cGFyZW50LmJhc2VDbHN9LWl0ZW0ge3BhcmVudC5iYXNlQ2xzfS1tb250aCI+PGEgc3R5bGU9IntwYXJlbnQubW9udGhTdHlsZX0iIGhyZWY9IiMiIGhpZGVmb2N1cz0ib24iPnsufTwvYT48L2Rpdj4nLCI8L3RwbD4iLCI8L2Rpdj4iLCc8ZGl2IGlkPSJ7aWR9LXllYXJFbCIgY2xhc3M9IntiYXNlQ2xzfS15ZWFycyI+JywnPGRpdiBjbGFzcz0ie2Jhc2VDbHN9LXllYXJuYXYiPicsJzxidXR0b24gaWQ9IntpZH0tcHJldkVsIiBjbGFzcz0ie2Jhc2VDbHN9LXllYXJuYXYtcHJldiI+PC9idXR0b24+JywnPGJ1dHRvbiBpZD0ie2lkfS1uZXh0RWwiIGNsYXNzPSJ7YmFzZUNsc30teWVhcm5hdi1uZXh0Ij48L2J1dHRvbj4nLCI8L2Rpdj4iLCc8dHBsIGZvcj0ieWVhcnMiPicsJzxkaXYgY2xhc3M9IntwYXJlbnQuYmFzZUNsc30taXRlbSB7cGFyZW50LmJhc2VDbHN9LXllYXIiPjxhIGhyZWY9IiMiIGhpZGVmb2N1cz0ib24iPnsufTwvYT48L2Rpdj4nLCI8L3RwbD4iLCI8L2Rpdj4iLCc8ZGl2IGNsYXNzPSInK0V4dC5iYXNlQ1NTUHJlZml4KydjbGVhciI+PC9kaXY+JywiPC9kaXY+IiwnPHRwbCBpZj0ic2hvd0J1dHRvbnMiPicsJzxkaXYgaWQ9IntpZH0tYnV0dG9uc0VsIiBjbGFzcz0ie2Jhc2VDbHN9LWJ1dHRvbnMiPjwvZGl2PicsIjwvdHBsPiJdLG9rVGV4dDoiT0siLGNhbmNlbFRleHQ6IkNhbmNlbCIsYmFzZUNsczpFeHQuYmFzZUNTU1ByZWZpeCsibW9udGhwaWNrZXIiLHNob3dCdXR0b25zOnRydWUsd2lkdGg6MTc4LG1lYXN1cmVXaWR0aDozNSxtZWFzdXJlTWF4SGVpZ2h0OjIwLHNtYWxsQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJtb250aHBpY2tlci1zbWFsbCIsdG90YWxZZWFyczoxMCx5ZWFyT2Zmc2V0OjUsbW9udGhPZmZzZXQ6Nixpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnNlbGVjdGVkQ2xzPWEuYmFzZUNscysiLXNlbGVjdGVkIjthLmFkZEV2ZW50cygiY2FuY2VsY2xpY2siLCJtb250aGNsaWNrIiwibW9udGhkYmxjbGljayIsIm9rY2xpY2siLCJzZWxlY3QiLCJ5ZWFyY2xpY2siLCJ5ZWFyZGJsY2xpY2siKTtpZihhLnNtYWxsKXthLmFkZENscyhhLnNtYWxsQ2xzKX1hLnNldFZhbHVlKGEudmFsdWUpO2EuYWN0aXZlWWVhcj1hLmdldFllYXIobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLTQsLTQpO3RoaXMuY2FsbFBhcmVudCgpfSxiZWZvcmVSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgZz10aGlzLGM9MCxiPVtdLGE9RXh0LkRhdGUuZ2V0U2hvcnRNb250aE5hbWUsZT1nLm1vbnRoT2Zmc2V0LGg9Zy5tb250aE1hcmdpbixkPSIiO2cuY2FsbFBhcmVudCgpO2Zvcig7YzxlOysrYyl7Yi5wdXNoKGEoYyksYShjK2UpKX1pZihFeHQuaXNEZWZpbmVkKGgpKXtkPSJtYXJnaW46IDAgIitoKyJweDsifUV4dC5hcHBseShnLnJlbmRlckRhdGEse21vbnRoczpiLHllYXJzOmcuZ2V0WWVhcnMoKSxzaG93QnV0dG9uczpnLnNob3dCdXR0b25zLG1vbnRoU3R5bGU6ZH0pfSxhZnRlclJlbmRlcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmJvZHlFbCxjPWIuYnV0dG9uc0VsO2IuY2FsbFBhcmVudCgpO2IubW9uKGEsImNsaWNrIixiLm9uQm9keUNsaWNrLGIpO2IubW9uKGEsImRibGNsaWNrIixiLm9uQm9keUNsaWNrLGIpO2IueWVhcnM9YS5zZWxlY3QoIi4iK2IuYmFzZUNscysiLXllYXIgYSIpO2IubW9udGhzPWEuc2VsZWN0KCIuIitiLmJhc2VDbHMrIi1tb250aCBhIik7aWYoYi5zaG93QnV0dG9ucyl7Yi5va0J0bj1uZXcgRXh0LmJ1dHRvbi5CdXR0b24oe3RleHQ6Yi5va1RleHQscmVuZGVyVG86YyxoYW5kbGVyOmIub25Pa0NsaWNrLHNjb3BlOmJ9KTtiLmNhbmNlbEJ0bj1uZXcgRXh0LmJ1dHRvbi5CdXR0b24oe3RleHQ6Yi5jYW5jZWxUZXh0LHJlbmRlclRvOmMsaGFuZGxlcjpiLm9uQ2FuY2VsQ2xpY2ssc2NvcGU6Yn0pfWIuYmFja1JlcGVhdGVyPW5ldyBFeHQudXRpbC5DbGlja1JlcGVhdGVyKGIucHJldkVsLHtoYW5kbGVyOkV4dC5GdW5jdGlvbi5iaW5kKGIuYWRqdXN0WWVhcixiLFstYi50b3RhbFllYXJzXSl9KTtiLnByZXZFbC5hZGRDbHNPbk92ZXIoYi5iYXNlQ2xzKyIteWVhcm5hdi1wcmV2LW92ZXIiKTtiLm5leHRSZXBlYXRlcj1uZXcgRXh0LnV0aWwuQ2xpY2tSZXBlYXRlcihiLm5leHRFbCx7aGFuZGxlcjpFeHQuRnVuY3Rpb24uYmluZChiLmFkanVzdFllYXIsYixbYi50b3RhbFllYXJzXSl9KTtiLm5leHRFbC5hZGRDbHNPbk92ZXIoYi5iYXNlQ2xzKyIteWVhcm5hdi1uZXh0LW92ZXIiKTtiLnVwZGF0ZUJvZHkoKTtpZighRXh0LmlzRGVmaW5lZChiLm1vbnRoTWFyZ2luKSl7RXh0LnBpY2tlci5Nb250aC5wcm90b3R5cGUubW9udGhNYXJnaW49Yi5jYWxjdWxhdGVNb250aE1hcmdpbigpfX0sY2FsY3VsYXRlTW9udGhNYXJnaW46ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGI9ZC5tb250aEVsLGE9ZC5tb250aHMsZT1hLmZpcnN0KCksYz1lLmdldE1hcmdpbigibCIpO3doaWxlKGMmJmQuZ2V0TGFyZ2VzdCgpPmQubWVhc3VyZU1heEhlaWdodCl7LS1jO2Euc2V0U3R5bGUoIm1hcmdpbiIsIjAgIitjKyJweCIpfXJldHVybiBjfSxnZXRMYXJnZXN0OmZ1bmN0aW9uKGEpe3ZhciBiPTA7dGhpcy5tb250aHMuZWFjaChmdW5jdGlvbihkKXt2YXIgYz1kLmdldEhlaWdodCgpO2lmKGM+Yil7Yj1jfX0pO3JldHVybiBifSxzZXRWYWx1ZTpmdW5jdGlvbihkKXt2YXIgYz10aGlzLGU9Yy5hY3RpdmVZZWFyLGc9Yy5tb250aE9mZnNldCxiLGE7aWYoIWQpe2MudmFsdWU9W251bGwsbnVsbF19ZWxzZXtpZihFeHQuaXNEYXRlKGQpKXtjLnZhbHVlPVtkLmdldE1vbnRoKCksZC5nZXRGdWxsWWVhcigpXX1lbHNle2MudmFsdWU9W2RbMF0sZFsxXV19fWlmKGMucmVuZGVyZWQpe2I9Yy52YWx1ZVsxXTtpZihiIT09bnVsbCl7aWYoKGI8ZXx8Yj5lK2MueWVhck9mZnNldCkpe2MuYWN0aXZlWWVhcj1iLWMueWVhck9mZnNldCsxfX1jLnVwZGF0ZUJvZHkoKX1yZXR1cm4gY30sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy52YWx1ZX0saGFzU2VsZWN0aW9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy52YWx1ZTtyZXR1cm4gYVswXSE9PW51bGwmJmFbMV0hPT1udWxsfSxnZXRZZWFyczpmdW5jdGlvbigpe3ZhciBkPXRoaXMsZT1kLnllYXJPZmZzZXQsZz1kLmFjdGl2ZVllYXIsYT1nK2UsYz1nLGI9W107Zm9yKDtjPGE7KytjKXtiLnB1c2goYyxjK2UpfXJldHVybiBifSx1cGRhdGVCb2R5OmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxlPWkueWVhcnMsYj1pLm1vbnRocyxtPWkuZ2V0WWVhcnMoKSxuPWkuc2VsZWN0ZWRDbHMsaz1pLmdldFllYXIobnVsbCksZz1pLnZhbHVlWzBdLGw9aS5tb250aE9mZnNldCxoLGQsaixhLGM7aWYoaS5yZW5kZXJlZCl7ZS5yZW1vdmVDbHMobik7Yi5yZW1vdmVDbHMobik7ZD1lLmVsZW1lbnRzO2E9ZC5sZW5ndGg7Zm9yKGo9MDtqPGE7aisrKXtjPUV4dC5mbHkoZFtqXSk7aD1tW2pdO2MuZG9tLmlubmVySFRNTD1oO2lmKGg9PWspe2MuZG9tLmNsYXNzTmFtZT1ufX1pZihnIT09bnVsbCl7aWYoZzxsKXtnPWcqMn1lbHNle2c9KGctbCkqMisxfWIuaXRlbShnKS5hZGRDbHMobil9fX0sZ2V0WWVhcjpmdW5jdGlvbihhLGMpe3ZhciBiPXRoaXMudmFsdWVbMV07Yz1jfHwwO3JldHVybiBiPT09bnVsbD9hOmIrY30sb25Cb2R5Q2xpY2s6ZnVuY3Rpb24oZCxiKXt2YXIgYz10aGlzLGE9ZC50eXBlPT0iZGJsY2xpY2siO2lmKGQuZ2V0VGFyZ2V0KCIuIitjLmJhc2VDbHMrIi1tb250aCIpKXtkLnN0b3BFdmVudCgpO2Mub25Nb250aENsaWNrKGIsYSl9ZWxzZXtpZihkLmdldFRhcmdldCgiLiIrYy5iYXNlQ2xzKyIteWVhciIpKXtkLnN0b3BFdmVudCgpO2Mub25ZZWFyQ2xpY2soYixhKX19fSxhZGp1c3RZZWFyOmZ1bmN0aW9uKGEpe2lmKHR5cGVvZiBhIT0ibnVtYmVyIil7YT10aGlzLnRvdGFsWWVhcnN9dGhpcy5hY3RpdmVZZWFyKz1hO3RoaXMudXBkYXRlQm9keSgpfSxvbk9rQ2xpY2s6ZnVuY3Rpb24oKXt0aGlzLmZpcmVFdmVudCgib2tjbGljayIsdGhpcyx0aGlzLnZhbHVlKX0sb25DYW5jZWxDbGljazpmdW5jdGlvbigpe3RoaXMuZmlyZUV2ZW50KCJjYW5jZWxjbGljayIsdGhpcyl9LG9uTW9udGhDbGljazpmdW5jdGlvbihjLGEpe3ZhciBiPXRoaXM7Yi52YWx1ZVswXT1iLnJlc29sdmVPZmZzZXQoYi5tb250aHMuaW5kZXhPZihjKSxiLm1vbnRoT2Zmc2V0KTtiLnVwZGF0ZUJvZHkoKTtiLmZpcmVFdmVudCgibW9udGgiKyhhPyJkYmwiOiIiKSsiY2xpY2siLGIsYi52YWx1ZSk7Yi5maXJlRXZlbnQoInNlbGVjdCIsYixiLnZhbHVlKX0sb25ZZWFyQ2xpY2s6ZnVuY3Rpb24oYyxhKXt2YXIgYj10aGlzO2IudmFsdWVbMV09Yi5hY3RpdmVZZWFyK2IucmVzb2x2ZU9mZnNldChiLnllYXJzLmluZGV4T2YoYyksYi55ZWFyT2Zmc2V0KTtiLnVwZGF0ZUJvZHkoKTtiLmZpcmVFdmVudCgieWVhciIrKGE/ImRibCI6IiIpKyJjbGljayIsYixiLnZhbHVlKTtiLmZpcmVFdmVudCgic2VsZWN0IixiLGIudmFsdWUpfSxyZXNvbHZlT2Zmc2V0OmZ1bmN0aW9uKGEsYil7aWYoYSUyPT09MCl7cmV0dXJuKGEvMil9ZWxzZXtyZXR1cm4gYitNYXRoLmZsb29yKGEvMil9fSxiZWZvcmVEZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnllYXJzPWEubW9udGhzPW51bGw7RXh0LmRlc3Ryb3lNZW1iZXJzKGEsImJhY2tSZXBlYXRlciIsIm5leHRSZXBlYXRlciIsIm9rQnRuIiwiY2FuY2VsQnRuIik7YS5jYWxsUGFyZW50KCl9fSk7RXh0LmRlZmluZSgiRXh0LnBpY2tlci5EYXRlIix7ZXh0ZW5kOiJFeHQuQ29tcG9uZW50IixyZXF1aXJlczpbIkV4dC5YVGVtcGxhdGUiLCJFeHQuYnV0dG9uLkJ1dHRvbiIsIkV4dC5idXR0b24uU3BsaXQiLCJFeHQudXRpbC5DbGlja1JlcGVhdGVyIiwiRXh0LnV0aWwuS2V5TmF2IiwiRXh0LkV2ZW50T2JqZWN0IiwiRXh0LmZ4Lk1hbmFnZXIiLCJFeHQucGlja2VyLk1vbnRoIl0sYWxpYXM6IndpZGdldC5kYXRlcGlja2VyIixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5EYXRlUGlja2VyIixjaGlsZEVsczpbImlubmVyRWwiLCJldmVudEVsIiwicHJldkVsIiwibmV4dEVsIiwibWlkZGxlQnRuRWwiLCJmb290ZXJFbCJdLGJvcmRlcjp0cnVlLHJlbmRlclRwbDpbJzxkaXYgaWQ9IntpZH0taW5uZXJFbCIgcm9sZT0iZ3JpZCI+JywnPGRpdiByb2xlPSJwcmVzZW50YXRpb24iIGNsYXNzPSJ7YmFzZUNsc30taGVhZGVyIj4nLCc8ZGl2IGNsYXNzPSJ7YmFzZUNsc30tcHJldiI+PGEgaWQ9IntpZH0tcHJldkVsIiBocmVmPSIjIiByb2xlPSJidXR0b24iIHRpdGxlPSJ7cHJldlRleHR9Ij48L2E+PC9kaXY+JywnPGRpdiBjbGFzcz0ie2Jhc2VDbHN9LW1vbnRoIiBpZD0ie2lkfS1taWRkbGVCdG5FbCI+eyV0aGlzLnJlbmRlck1vbnRoQnRuKHZhbHVlcywgb3V0KSV9PC9kaXY+JywnPGRpdiBjbGFzcz0ie2Jhc2VDbHN9LW5leHQiPjxhIGlkPSJ7aWR9LW5leHRFbCIgaHJlZj0iIyIgcm9sZT0iYnV0dG9uIiB0aXRsZT0ie25leHRUZXh0fSI+PC9hPjwvZGl2PicsIjwvZGl2PiIsJzx0YWJsZSBpZD0ie2lkfS1ldmVudEVsIiBjbGFzcz0ie2Jhc2VDbHN9LWlubmVyIiBjZWxsc3BhY2luZz0iMCIgcm9sZT0icHJlc2VudGF0aW9uIj4nLCc8dGhlYWQgcm9sZT0icHJlc2VudGF0aW9uIj48dHIgcm9sZT0icHJlc2VudGF0aW9uIj4nLCc8dHBsIGZvcj0iZGF5TmFtZXMiPicsJzx0aCByb2xlPSJjb2x1bW5oZWFkZXIiIHRpdGxlPSJ7Ln0iPjxzcGFuPnsuOnRoaXMuZmlyc3RJbml0aWFsfTwvc3Bhbj48L3RoPicsIjwvdHBsPiIsIjwvdHI+PC90aGVhZD4iLCc8dGJvZHkgcm9sZT0icHJlc2VudGF0aW9uIj48dHIgcm9sZT0icHJlc2VudGF0aW9uIj4nLCc8dHBsIGZvcj0iZGF5cyI+JywieyM6dGhpcy5pc0VuZE9mV2Vla30iLCc8dGQgcm9sZT0iZ3JpZGNlbGwiIGlkPSJ7W0V4dC5pZCgpXX0iPicsJzxhIHJvbGU9InByZXNlbnRhdGlvbiIgaHJlZj0iIyIgaGlkZWZvY3VzPSJvbiIgY2xhc3M9IntwYXJlbnQuYmFzZUNsc30tZGF0ZSIgdGFiSW5kZXg9IjEiPicsJzxlbSByb2xlPSJwcmVzZW50YXRpb24iPjxzcGFuIHJvbGU9InByZXNlbnRhdGlvbiI+PC9zcGFuPjwvZW0+JywiPC9hPiIsIjwvdGQ+IiwiPC90cGw+IiwiPC90cj48L3Rib2R5PiIsIjwvdGFibGU+IiwnPHRwbCBpZj0ic2hvd1RvZGF5Ij4nLCc8ZGl2IGlkPSJ7aWR9LWZvb3RlckVsIiByb2xlPSJwcmVzZW50YXRpb24iIGNsYXNzPSJ7YmFzZUNsc30tZm9vdGVyIj57JXRoaXMucmVuZGVyVG9kYXlCdG4odmFsdWVzLCBvdXQpJX08L2Rpdj4nLCI8L3RwbD4iLCI8L2Rpdj4iLHtmaXJzdEluaXRpYWw6ZnVuY3Rpb24oYSl7cmV0dXJuIEV4dC5waWNrZXIuRGF0ZS5wcm90b3R5cGUuZ2V0RGF5SW5pdGlhbChhKX0saXNFbmRPZldlZWs6ZnVuY3Rpb24oYil7Yi0tO3ZhciBhPWIlNz09PTAmJmIhPT0wO3JldHVybiBhPyc8L3RyPjx0ciByb2xlPSJyb3ciPic6IiJ9LHJlbmRlclRvZGF5QnRuOmZ1bmN0aW9uKGEsYil7RXh0LkRvbUhlbHBlci5nZW5lcmF0ZU1hcmt1cChhLiRjb21wLnRvZGF5QnRuLmdldFJlbmRlclRyZWUoKSxiKX0scmVuZGVyTW9udGhCdG46ZnVuY3Rpb24oYSxiKXtFeHQuRG9tSGVscGVyLmdlbmVyYXRlTWFya3VwKGEuJGNvbXAubW9udGhCdG4uZ2V0UmVuZGVyVHJlZSgpLGIpfX1dLHRvZGF5VGV4dDoiVG9kYXkiLGFyaWFUaXRsZToiRGF0ZSBQaWNrZXI6IHswfSIsYXJpYVRpdGxlRGF0ZUZvcm1hdDoiRiBkLCBZIix0b2RheVRpcDoiezB9IChTcGFjZWJhcikiLG1pblRleHQ6IlRoaXMgZGF0ZSBpcyBiZWZvcmUgdGhlIG1pbmltdW0gZGF0ZSIsbWF4VGV4dDoiVGhpcyBkYXRlIGlzIGFmdGVyIHRoZSBtYXhpbXVtIGRhdGUiLGRpc2FibGVkRGF5c1RleHQ6IkRpc2FibGVkIixkaXNhYmxlZERhdGVzVGV4dDoiRGlzYWJsZWQiLG5leHRUZXh0OiJOZXh0IE1vbnRoIChDb250cm9sK1JpZ2h0KSIscHJldlRleHQ6IlByZXZpb3VzIE1vbnRoIChDb250cm9sK0xlZnQpIixtb250aFllYXJUZXh0OiJDaG9vc2UgYSBtb250aCAoQ29udHJvbCtVcC9Eb3duIHRvIG1vdmUgeWVhcnMpIixtb250aFllYXJGb3JtYXQ6IkYgWSIsc3RhcnREYXk6MCxzaG93VG9kYXk6dHJ1ZSxkaXNhYmxlQW5pbTpmYWxzZSxiYXNlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJkYXRlcGlja2VyIixsb25nRGF5Rm9ybWF0OiJGIGQsIFkiLGZvY3VzT25TaG93OmZhbHNlLGZvY3VzT25TZWxlY3Q6dHJ1ZSx3aWR0aDoxNzgsaW5pdEhvdXI6MTIsbnVtRGF5czo0Mixpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPUV4dC5EYXRlLmNsZWFyVGltZTtiLnNlbGVjdGVkQ2xzPWIuYmFzZUNscysiLXNlbGVjdGVkIjtiLmRpc2FibGVkQ2VsbENscz1iLmJhc2VDbHMrIi1kaXNhYmxlZCI7Yi5wcmV2Q2xzPWIuYmFzZUNscysiLXByZXZkYXkiO2IuYWN0aXZlQ2xzPWIuYmFzZUNscysiLWFjdGl2ZSI7Yi5uZXh0Q2xzPWIuYmFzZUNscysiLXByZXZkYXkiO2IudG9kYXlDbHM9Yi5iYXNlQ2xzKyItdG9kYXkiO2IuZGF5TmFtZXM9Yi5kYXlOYW1lcy5zbGljZShiLnN0YXJ0RGF5KS5jb25jYXQoYi5kYXlOYW1lcy5zbGljZSgwLGIuc3RhcnREYXkpKTtiLmxpc3RlbmVycz1FeHQuYXBwbHkoYi5saXN0ZW5lcnN8fHt9LHttb3VzZXdoZWVsOntlbGVtZW50OiJldmVudEVsIixmbjpiLmhhbmRsZU1vdXNlV2hlZWwsc2NvcGU6Yn0sY2xpY2s6e2VsZW1lbnQ6ImV2ZW50RWwiLGZuOmIuaGFuZGxlRGF0ZUNsaWNrLHNjb3BlOmIsZGVsZWdhdGU6ImEuIitiLmJhc2VDbHMrIi1kYXRlIn19KTt0aGlzLmNhbGxQYXJlbnQoKTtiLnZhbHVlPWIudmFsdWU/YShiLnZhbHVlLHRydWUpOmEobmV3IERhdGUoKSk7Yi5hZGRFdmVudHMoInNlbGVjdCIpO2IuaW5pdERpc2FibGVkRGF5cygpfSxiZWZvcmVSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9bmV3IEFycmF5KGIubnVtRGF5cyksYT1FeHQuRGF0ZS5mb3JtYXQobmV3IERhdGUoKSxiLmZvcm1hdCk7Yi5tb250aEJ0bj1uZXcgRXh0LmJ1dHRvbi5TcGxpdCh7b3duZXJDdDpiLG93bmVyTGF5b3V0OmIuZ2V0Q29tcG9uZW50TGF5b3V0KCksdGV4dDoiIix0b29sdGlwOmIubW9udGhZZWFyVGV4dCxsaXN0ZW5lcnM6e2NsaWNrOmIuc2hvd01vbnRoUGlja2VyLGFycm93Y2xpY2s6Yi5zaG93TW9udGhQaWNrZXIsc2NvcGU6Yn19KTtpZih0aGlzLnNob3dUb2RheSl7Yi50b2RheUJ0bj1uZXcgRXh0LmJ1dHRvbi5CdXR0b24oe293bmVyQ3Q6Yixvd25lckxheW91dDpiLmdldENvbXBvbmVudExheW91dCgpLHRleHQ6RXh0LlN0cmluZy5mb3JtYXQoYi50b2RheVRleHQsYSksdG9vbHRpcDpFeHQuU3RyaW5nLmZvcm1hdChiLnRvZGF5VGlwLGEpLGhhbmRsZXI6Yi5zZWxlY3RUb2RheSxzY29wZTpifSl9Yi5jYWxsUGFyZW50KCk7RXh0LmFwcGx5SWYoYix7cmVuZGVyRGF0YTp7fX0pO0V4dC5hcHBseShiLnJlbmRlckRhdGEse2RheU5hbWVzOmIuZGF5TmFtZXMsc2hvd1RvZGF5OmIuc2hvd1RvZGF5LHByZXZUZXh0OmIucHJldlRleHQsbmV4dFRleHQ6Yi5uZXh0VGV4dCxkYXlzOmN9KX0sZmluaXNoUmVuZGVyQ2hpbGRyZW46ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudCgpO2EubW9udGhCdG4uZmluaXNoUmVuZGVyKCk7aWYoYS5zaG93VG9kYXkpe2EudG9kYXlCdG4uZmluaXNoUmVuZGVyKCl9fSxvblJlbmRlcjpmdW5jdGlvbihiLGEpe3ZhciBjPXRoaXM7Yy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7Yy5lbC51bnNlbGVjdGFibGUoKTtjLmNlbGxzPWMuZXZlbnRFbC5zZWxlY3QoInRib2R5IHRkIik7Yy50ZXh0Tm9kZXM9Yy5ldmVudEVsLnF1ZXJ5KCJ0Ym9keSB0ZCBzcGFuIil9LGluaXRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGE9RXh0LkRhdGUsYj1hLkRBWTtjLmNhbGxQYXJlbnQoKTtjLnByZXZSZXBlYXRlcj1uZXcgRXh0LnV0aWwuQ2xpY2tSZXBlYXRlcihjLnByZXZFbCx7aGFuZGxlcjpjLnNob3dQcmV2TW9udGgsc2NvcGU6YyxwcmV2ZW50RGVmYXVsdDp0cnVlLHN0b3BEZWZhdWx0OnRydWV9KTtjLm5leHRSZXBlYXRlcj1uZXcgRXh0LnV0aWwuQ2xpY2tSZXBlYXRlcihjLm5leHRFbCx7aGFuZGxlcjpjLnNob3dOZXh0TW9udGgsc2NvcGU6YyxwcmV2ZW50RGVmYXVsdDp0cnVlLHN0b3BEZWZhdWx0OnRydWV9KTtjLmtleU5hdj1uZXcgRXh0LnV0aWwuS2V5TmF2KGMuZXZlbnRFbCxFeHQuYXBwbHkoe3Njb3BlOmMsbGVmdDpmdW5jdGlvbihkKXtpZihkLmN0cmxLZXkpe2Muc2hvd1ByZXZNb250aCgpfWVsc2V7Yy51cGRhdGUoYS5hZGQoYy5hY3RpdmVEYXRlLGIsLTEpKX19LHJpZ2h0OmZ1bmN0aW9uKGQpe2lmKGQuY3RybEtleSl7Yy5zaG93TmV4dE1vbnRoKCl9ZWxzZXtjLnVwZGF0ZShhLmFkZChjLmFjdGl2ZURhdGUsYiwxKSl9fSx1cDpmdW5jdGlvbihkKXtpZihkLmN0cmxLZXkpe2Muc2hvd05leHRZZWFyKCl9ZWxzZXtjLnVwZGF0ZShhLmFkZChjLmFjdGl2ZURhdGUsYiwtNykpfX0sZG93bjpmdW5jdGlvbihkKXtpZihkLmN0cmxLZXkpe2Muc2hvd1ByZXZZZWFyKCl9ZWxzZXtjLnVwZGF0ZShhLmFkZChjLmFjdGl2ZURhdGUsYiw3KSl9fSxwYWdlVXA6Yy5zaG93TmV4dE1vbnRoLHBhZ2VEb3duOmMuc2hvd1ByZXZNb250aCxlbnRlcjpmdW5jdGlvbihkKXtkLnN0b3BQcm9wYWdhdGlvbigpO3JldHVybiB0cnVlfX0sYy5rZXlOYXZDb25maWcpKTtpZihjLnNob3dUb2RheSl7Yy50b2RheUtleUxpc3RlbmVyPWMuZXZlbnRFbC5hZGRLZXlMaXN0ZW5lcihFeHQuRXZlbnRPYmplY3QuU1BBQ0UsYy5zZWxlY3RUb2RheSxjKX1jLnVwZGF0ZShjLnZhbHVlKX0saW5pdERpc2FibGVkRGF5czpmdW5jdGlvbigpe3ZhciBoPXRoaXMsYj1oLmRpc2FibGVkRGF0ZXMsZz0iKD86IixhLGksYyxlO2lmKCFoLmRpc2FibGVkRGF0ZXNSRSYmYil7YT1iLmxlbmd0aC0xO2M9Yi5sZW5ndGg7Zm9yKGk9MDtpPGM7aSsrKXtlPWJbaV07Zys9RXh0LmlzRGF0ZShlKT8iXiIrRXh0LlN0cmluZy5lc2NhcGVSZWdleChFeHQuRGF0ZS5kYXRlRm9ybWF0KGUsaC5mb3JtYXQpKSsiJCI6ZTtpZihpIT1hKXtnKz0ifCJ9fWguZGlzYWJsZWREYXRlc1JFPW5ldyBSZWdFeHAoZysiKSIpfX0sc2V0RGlzYWJsZWREYXRlczpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKEV4dC5pc0FycmF5KGEpKXtiLmRpc2FibGVkRGF0ZXM9YTtiLmRpc2FibGVkRGF0ZXNSRT1udWxsfWVsc2V7Yi5kaXNhYmxlZERhdGVzUkU9YX1iLmluaXREaXNhYmxlZERheXMoKTtiLnVwZGF0ZShiLnZhbHVlLHRydWUpO3JldHVybiBifSxzZXREaXNhYmxlZERheXM6ZnVuY3Rpb24oYSl7dGhpcy5kaXNhYmxlZERheXM9YTtyZXR1cm4gdGhpcy51cGRhdGUodGhpcy52YWx1ZSx0cnVlKX0sc2V0TWluRGF0ZTpmdW5jdGlvbihhKXt0aGlzLm1pbkRhdGU9YTtyZXR1cm4gdGhpcy51cGRhdGUodGhpcy52YWx1ZSx0cnVlKX0sc2V0TWF4RGF0ZTpmdW5jdGlvbihhKXt0aGlzLm1heERhdGU9YTtyZXR1cm4gdGhpcy51cGRhdGUodGhpcy52YWx1ZSx0cnVlKX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7dGhpcy52YWx1ZT1FeHQuRGF0ZS5jbGVhclRpbWUoYSx0cnVlKTtyZXR1cm4gdGhpcy51cGRhdGUodGhpcy52YWx1ZSl9LGdldFZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWV9LGdldERheUluaXRpYWw6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuc3Vic3RyKDAsMSl9LGZvY3VzOmZ1bmN0aW9uKCl7dGhpcy51cGRhdGUodGhpcy5hY3RpdmVEYXRlKX0sb25FbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoKTt0aGlzLnNldERpc2FibGVkU3RhdHVzKGZhbHNlKTt0aGlzLnVwZGF0ZSh0aGlzLmFjdGl2ZURhdGUpfSxvbkRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoKTt0aGlzLnNldERpc2FibGVkU3RhdHVzKHRydWUpfSxzZXREaXNhYmxlZFN0YXR1czpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2Iua2V5TmF2LnNldERpc2FibGVkKGEpO2IucHJldlJlcGVhdGVyLnNldERpc2FibGVkKGEpO2IubmV4dFJlcGVhdGVyLnNldERpc2FibGVkKGEpO2lmKGIuc2hvd1RvZGF5KXtiLnRvZGF5S2V5TGlzdGVuZXIuc2V0RGlzYWJsZWQoYSk7Yi50b2RheUJ0bi5zZXREaXNhYmxlZChhKX19LGdldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFjdGl2ZURhdGV8fHRoaXMudmFsdWV9LHJ1bkFuaW1hdGlvbjpmdW5jdGlvbihjKXt2YXIgYj10aGlzLm1vbnRoUGlja2VyLGE9e2R1cmF0aW9uOjIwMCxjYWxsYmFjazpmdW5jdGlvbigpe2lmKGMpe2IuaGlkZSgpfWVsc2V7Yi5zaG93KCl9fX07aWYoYyl7Yi5lbC5zbGlkZU91dCgidCIsYSl9ZWxzZXtiLmVsLnNsaWRlSW4oInQiLGEpfX0saGlkZU1vbnRoUGlja2VyOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsYj1jLm1vbnRoUGlja2VyO2lmKGIpe2lmKGMuc2hvdWxkQW5pbWF0ZShhKSl7Yy5ydW5BbmltYXRpb24odHJ1ZSl9ZWxzZXtiLmhpZGUoKX19cmV0dXJuIGN9LHNob3dNb250aFBpY2tlcjpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGI7aWYoYy5yZW5kZXJlZCYmIWMuZGlzYWJsZWQpe2I9Yy5jcmVhdGVNb250aFBpY2tlcigpO2Iuc2V0VmFsdWUoYy5nZXRBY3RpdmUoKSk7Yi5zZXRTaXplKGMuZ2V0U2l6ZSgpKTtiLnNldFBvc2l0aW9uKC0xLC0xKTtpZihjLnNob3VsZEFuaW1hdGUoYSkpe2MucnVuQW5pbWF0aW9uKGZhbHNlKX1lbHNle2Iuc2hvdygpfX1yZXR1cm4gY30sc2hvdWxkQW5pbWF0ZTpmdW5jdGlvbihhKXtyZXR1cm4gRXh0LmlzRGVmaW5lZChhKT9hOiF0aGlzLmRpc2FibGVBbmltfSxjcmVhdGVNb250aFBpY2tlcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLm1vbnRoUGlja2VyO2lmKCFhKXtiLm1vbnRoUGlja2VyPWE9bmV3IEV4dC5waWNrZXIuTW9udGgoe3JlbmRlclRvOmIuZWwsZmxvYXRpbmc6dHJ1ZSxzaGFkb3c6ZmFsc2Usc21hbGw6Yi5zaG93VG9kYXk9PT1mYWxzZSxsaXN0ZW5lcnM6e3Njb3BlOmIsY2FuY2VsY2xpY2s6Yi5vbkNhbmNlbENsaWNrLG9rY2xpY2s6Yi5vbk9rQ2xpY2sseWVhcmRibGNsaWNrOmIub25Pa0NsaWNrLG1vbnRoZGJsY2xpY2s6Yi5vbk9rQ2xpY2t9fSk7aWYoIWIuZGlzYWJsZUFuaW0pe2EuZWwuc2V0U3R5bGUoImRpc3BsYXkiLCJub25lIil9Yi5vbigiYmVmb3JlaGlkZSIsRXh0LkZ1bmN0aW9uLmJpbmQoYi5oaWRlTW9udGhQaWNrZXIsYixbZmFsc2VdKSl9cmV0dXJuIGF9LG9uT2tDbGljazpmdW5jdGlvbihiLGUpe3ZhciBkPXRoaXMsZz1lWzBdLGM9ZVsxXSxhPW5ldyBEYXRlKGMsZyxkLmdldEFjdGl2ZSgpLmdldERhdGUoKSk7aWYoYS5nZXRNb250aCgpIT09Zyl7YT1FeHQuRGF0ZS5nZXRMYXN0RGF0ZU9mTW9udGgobmV3IERhdGUoYyxnLDEpKX1kLnVwZGF0ZShhKTtkLmhpZGVNb250aFBpY2tlcigpfSxvbkNhbmNlbENsaWNrOmZ1bmN0aW9uKCl7dGhpcy5zZWxlY3RlZFVwZGF0ZSh0aGlzLmFjdGl2ZURhdGUpO3RoaXMuaGlkZU1vbnRoUGlja2VyKCl9LHNob3dQcmV2TW9udGg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudXBkYXRlKEV4dC5EYXRlLmFkZCh0aGlzLmFjdGl2ZURhdGUsRXh0LkRhdGUuTU9OVEgsLTEpKX0sc2hvd05leHRNb250aDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy51cGRhdGUoRXh0LkRhdGUuYWRkKHRoaXMuYWN0aXZlRGF0ZSxFeHQuRGF0ZS5NT05USCwxKSl9LHNob3dQcmV2WWVhcjpmdW5jdGlvbigpe3RoaXMudXBkYXRlKEV4dC5EYXRlLmFkZCh0aGlzLmFjdGl2ZURhdGUsRXh0LkRhdGUuWUVBUiwtMSkpfSxzaG93TmV4dFllYXI6ZnVuY3Rpb24oKXt0aGlzLnVwZGF0ZShFeHQuRGF0ZS5hZGQodGhpcy5hY3RpdmVEYXRlLEV4dC5EYXRlLllFQVIsMSkpfSxoYW5kbGVNb3VzZVdoZWVsOmZ1bmN0aW9uKGEpe2Euc3RvcEV2ZW50KCk7aWYoIXRoaXMuZGlzYWJsZWQpe3ZhciBiPWEuZ2V0V2hlZWxEZWx0YSgpO2lmKGI+MCl7dGhpcy5zaG93UHJldk1vbnRoKCl9ZWxzZXtpZihiPDApe3RoaXMuc2hvd05leHRNb250aCgpfX19fSxoYW5kbGVEYXRlQ2xpY2s6ZnVuY3Rpb24oZCxhKXt2YXIgYz10aGlzLGI9Yy5oYW5kbGVyO2Quc3RvcEV2ZW50KCk7aWYoIWMuZGlzYWJsZWQmJmEuZGF0ZVZhbHVlJiYhRXh0LmZseShhLnBhcmVudE5vZGUpLmhhc0NscyhjLmRpc2FibGVkQ2VsbENscykpe2MuZG9DYW5jZWxGb2N1cz1jLmZvY3VzT25TZWxlY3Q9PT1mYWxzZTtjLnNldFZhbHVlKG5ldyBEYXRlKGEuZGF0ZVZhbHVlKSk7ZGVsZXRlIGMuZG9DYW5jZWxGb2N1cztjLmZpcmVFdmVudCgic2VsZWN0IixjLGMudmFsdWUpO2lmKGIpe2IuY2FsbChjLnNjb3BlfHxjLGMsYy52YWx1ZSl9Yy5vblNlbGVjdCgpfX0sb25TZWxlY3Q6ZnVuY3Rpb24oKXtpZih0aGlzLmhpZGVPblNlbGVjdCl7dGhpcy5oaWRlKCl9fSxzZWxlY3RUb2RheTpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYT1jLnRvZGF5QnRuLGI9Yy5oYW5kbGVyO2lmKGEmJiFhLmRpc2FibGVkKXtjLnNldFZhbHVlKEV4dC5EYXRlLmNsZWFyVGltZShuZXcgRGF0ZSgpKSk7Yy5maXJlRXZlbnQoInNlbGVjdCIsYyxjLnZhbHVlKTtpZihiKXtiLmNhbGwoYy5zY29wZXx8YyxjLGMudmFsdWUpfWMub25TZWxlY3QoKX1yZXR1cm4gY30sc2VsZWN0ZWRVcGRhdGU6ZnVuY3Rpb24oYSl7dmFyIGQ9dGhpcyxpPWEuZ2V0VGltZSgpLGo9ZC5jZWxscyxrPWQuc2VsZWN0ZWRDbHMsZz1qLmVsZW1lbnRzLGIsZT1nLmxlbmd0aCxoO2oucmVtb3ZlQ2xzKGspO2ZvcihiPTA7YjxlO2IrKyl7aD1FeHQuZmx5KGdbYl0pO2lmKGguZG9tLmZpcnN0Q2hpbGQuZGF0ZVZhbHVlPT1pKXtkLmZpcmVFdmVudCgiaGlnaGxpZ2h0aXRlbSIsZCxoKTtoLmFkZENscyhrKTtpZihkLmlzVmlzaWJsZSgpJiYhZC5kb0NhbmNlbEZvY3VzKXtFeHQuZmx5KGguZG9tLmZpcnN0Q2hpbGQpLmZvY3VzKDUwKX1icmVha319fSxmdWxsVXBkYXRlOmZ1bmN0aW9uKEEpe3ZhciBFPXRoaXMsZz1FLmNlbGxzLmVsZW1lbnRzLGQ9RS50ZXh0Tm9kZXMsRz1FLmRpc2FibGVkQ2VsbENscyxuPUV4dC5EYXRlLHc9MCxEPTAsZT1FLmlzVmlzaWJsZSgpLHU9K24uY2xlYXJUaW1lKEEsdHJ1ZSksej0rbi5jbGVhclRpbWUobmV3IERhdGUoKSksdD1FLm1pbkRhdGU/bi5jbGVhclRpbWUoRS5taW5EYXRlLHRydWUpOk51bWJlci5ORUdBVElWRV9JTkZJTklUWSx2PUUubWF4RGF0ZT9uLmNsZWFyVGltZShFLm1heERhdGUsdHJ1ZSk6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLEM9RS5kaXNhYmxlZERhdGVzUkUscz1FLmRpc2FibGVkRGF0ZXNUZXh0LEg9RS5kaXNhYmxlZERheXM/RS5kaXNhYmxlZERheXMuam9pbigiIik6ZmFsc2UsQj1FLmRpc2FibGVkRGF5c1RleHQseD1FLmZvcm1hdCxsPW4uZ2V0RGF5c0luTW9udGgoQSkscD1uLmdldEZpcnN0RGF0ZU9mTW9udGgoQSksaD1wLmdldERheSgpLUUuc3RhcnREYXkseT1uLmFkZChBLG4uTU9OVEgsLTEpLGI9RS5sb25nRGF5Rm9ybWF0LGsscSxhLEYsbSxvLGMsaixyO2lmKGg8MCl7aCs9N31sKz1oO2s9bi5nZXREYXlzSW5Nb250aCh5KS1oO3E9bmV3IERhdGUoeS5nZXRGdWxsWWVhcigpLHkuZ2V0TW9udGgoKSxrLEUuaW5pdEhvdXIpO2lmKEUuc2hvd1RvZGF5KXtGPW4uY2xlYXJUaW1lKG5ldyBEYXRlKCkpO2E9KEY8dHx8Rj52fHwoQyYmeCYmQy50ZXN0KG4uZGF0ZUZvcm1hdChGLHgpKSl8fChIJiZILmluZGV4T2YoRi5nZXREYXkoKSkhPS0xKSk7aWYoIUUuZGlzYWJsZWQpe0UudG9kYXlCdG4uc2V0RGlzYWJsZWQoYSk7RS50b2RheUtleUxpc3RlbmVyLnNldERpc2FibGVkKGEpfX1tPWZ1bmN0aW9uKGkpe3I9K24uY2xlYXJUaW1lKHEsdHJ1ZSk7aS50aXRsZT1uLmZvcm1hdChxLGIpO2kuZmlyc3RDaGlsZC5kYXRlVmFsdWU9cjtpZihyPT16KXtpLmNsYXNzTmFtZSs9IiAiK0UudG9kYXlDbHM7aS50aXRsZT1FLnRvZGF5VGV4dH1pZihyPT11KXtpLmNsYXNzTmFtZSs9IiAiK0Uuc2VsZWN0ZWRDbHM7RS5maXJlRXZlbnQoImhpZ2hsaWdodGl0ZW0iLEUsaSk7aWYoZSYmRS5mbG9hdGluZyl7RXh0LmZseShpLmZpcnN0Q2hpbGQpLmZvY3VzKDUwKX19aWYocjx0KXtpLmNsYXNzTmFtZT1HO2kudGl0bGU9RS5taW5UZXh0O3JldHVybn1pZihyPnYpe2kuY2xhc3NOYW1lPUc7aS50aXRsZT1FLm1heFRleHQ7cmV0dXJufWlmKEgpe2lmKEguaW5kZXhPZihxLmdldERheSgpKSE9LTEpe2kudGl0bGU9QjtpLmNsYXNzTmFtZT1HfX1pZihDJiZ4KXtqPW4uZGF0ZUZvcm1hdChxLHgpO2lmKEMudGVzdChqKSl7aS50aXRsZT1zLnJlcGxhY2UoIiUwIixqKTtpLmNsYXNzTmFtZT1HfX19O2Zvcig7dzxFLm51bURheXM7Kyt3KXtpZih3PGgpe289KCsrayk7Yz1FLnByZXZDbHN9ZWxzZXtpZih3Pj1sKXtvPSgrK0QpO2M9RS5uZXh0Q2xzfWVsc2V7bz13LWgrMTtjPUUuYWN0aXZlQ2xzfX1kW3ddLmlubmVySFRNTD1vO2dbd10uY2xhc3NOYW1lPWM7cS5zZXREYXRlKHEuZ2V0RGF0ZSgpKzEpO20oZ1t3XSl9RS5tb250aEJ0bi5zZXRUZXh0KEV4dC5EYXRlLmZvcm1hdChBLEUubW9udGhZZWFyRm9ybWF0KSl9LHVwZGF0ZTpmdW5jdGlvbihhLGQpe3ZhciBiPXRoaXMsYz1iLmFjdGl2ZURhdGU7aWYoYi5yZW5kZXJlZCl7Yi5hY3RpdmVEYXRlPWE7aWYoIWQmJmMmJmIuZWwmJmMuZ2V0TW9udGgoKT09YS5nZXRNb250aCgpJiZjLmdldEZ1bGxZZWFyKCk9PWEuZ2V0RnVsbFllYXIoKSl7Yi5zZWxlY3RlZFVwZGF0ZShhLGMpfWVsc2V7Yi5mdWxsVXBkYXRlKGEsYyl9Yi5pbm5lckVsLmRvbS50aXRsZT1FeHQuU3RyaW5nLmZvcm1hdChiLmFyaWFUaXRsZSxFeHQuRGF0ZS5mb3JtYXQoYi5hY3RpdmVEYXRlLGIuYXJpYVRpdGxlRGF0ZUZvcm1hdCkpfXJldHVybiBifSxiZWZvcmVEZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLnJlbmRlcmVkKXtFeHQuZGVzdHJveShhLnRvZGF5S2V5TGlzdGVuZXIsYS5rZXlOYXYsYS5tb250aFBpY2tlcixhLm1vbnRoQnRuLGEubmV4dFJlcGVhdGVyLGEucHJldlJlcGVhdGVyLGEudG9kYXlCdG4pO2RlbGV0ZSBhLnRleHROb2RlcztkZWxldGUgYS5jZWxscy5lbGVtZW50c31hLmNhbGxQYXJlbnQoKX0sb25TaG93OmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYodGhpcy5mb2N1c09uU2hvdyl7dGhpcy5mb2N1cygpfX19LGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5wcm90b3R5cGUsYT1FeHQuRGF0ZTtiLm1vbnRoTmFtZXM9YS5tb250aE5hbWVzO2IuZGF5TmFtZXM9YS5kYXlOYW1lcztiLmZvcm1hdD1hLmRlZmF1bHRGb3JtYXR9KTtFeHQuZGVmaW5lKCJFeHQuZm9ybS5maWVsZC5EYXRlIix7ZXh0ZW5kOiJFeHQuZm9ybS5maWVsZC5QaWNrZXIiLGFsaWFzOiJ3aWRnZXQuZGF0ZWZpZWxkIixyZXF1aXJlczpbIkV4dC5waWNrZXIuRGF0ZSJdLGFsdGVybmF0ZUNsYXNzTmFtZTpbIkV4dC5mb3JtLkRhdGVGaWVsZCIsIkV4dC5mb3JtLkRhdGUiXSxmb3JtYXQ6Im0vZC9ZIixhbHRGb3JtYXRzOiJtL2QvWXxuL2ovWXxuL2oveXxtL2oveXxuL2QveXxtL2ovWXxuL2QvWXxtLWQteXxtLWQtWXxtL2R8bS1kfG1kfG1keXxtZFl8ZHxZLW0tZHxuLWp8bi9qIixkaXNhYmxlZERheXNUZXh0OiJEaXNhYmxlZCIsZGlzYWJsZWREYXRlc1RleHQ6IkRpc2FibGVkIixtaW5UZXh0OiJUaGUgZGF0ZSBpbiB0aGlzIGZpZWxkIG11c3QgYmUgZXF1YWwgdG8gb3IgYWZ0ZXIgezB9IixtYXhUZXh0OiJUaGUgZGF0ZSBpbiB0aGlzIGZpZWxkIG11c3QgYmUgZXF1YWwgdG8gb3IgYmVmb3JlIHswfSIsaW52YWxpZFRleHQ6InswfSBpcyBub3QgYSB2YWxpZCBkYXRlIC0gaXQgbXVzdCBiZSBpbiB0aGUgZm9ybWF0IHsxfSIsdHJpZ2dlckNsczpFeHQuYmFzZUNTU1ByZWZpeCsiZm9ybS1kYXRlLXRyaWdnZXIiLHNob3dUb2RheTp0cnVlLHVzZVN0cmljdDp1bmRlZmluZWQsaW5pdFRpbWU6IjEyIixpbml0VGltZUZvcm1hdDoiSCIsbWF0Y2hGaWVsZFdpZHRoOmZhbHNlLHN0YXJ0RGF5OjAsaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBkPXRoaXMsYj1FeHQuaXNTdHJpbmcsYyxhO2M9ZC5taW5WYWx1ZTthPWQubWF4VmFsdWU7aWYoYihjKSl7ZC5taW5WYWx1ZT1kLnBhcnNlRGF0ZShjKX1pZihiKGEpKXtkLm1heFZhbHVlPWQucGFyc2VEYXRlKGEpfWQuZGlzYWJsZWREYXRlc1JFPW51bGw7ZC5pbml0RGlzYWJsZWREYXlzKCk7ZC5jYWxsUGFyZW50KCl9LGluaXRWYWx1ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLnZhbHVlO2lmKEV4dC5pc1N0cmluZyhiKSl7YS52YWx1ZT1hLnJhd1RvVmFsdWUoYil9YS5jYWxsUGFyZW50KCl9LGluaXREaXNhYmxlZERheXM6ZnVuY3Rpb24oKXtpZih0aGlzLmRpc2FibGVkRGF0ZXMpe3ZhciBiPXRoaXMuZGlzYWJsZWREYXRlcyxhPWIubGVuZ3RoLTEsZz0iKD86IixoLGU9Yi5sZW5ndGgsYztmb3IoaD0wO2g8ZTtoKyspe2M9YltoXTtnKz1FeHQuaXNEYXRlKGMpPyJeIitFeHQuU3RyaW5nLmVzY2FwZVJlZ2V4KGMuZGF0ZUZvcm1hdCh0aGlzLmZvcm1hdCkpKyIkIjpjO2lmKGghPT1hKXtnKz0ifCJ9fXRoaXMuZGlzYWJsZWREYXRlc1JFPW5ldyBSZWdFeHAoZysiKSIpfX0sc2V0RGlzYWJsZWREYXRlczpmdW5jdGlvbihhKXt2YXIgYz10aGlzLGI9Yy5waWNrZXI7Yy5kaXNhYmxlZERhdGVzPWE7Yy5pbml0RGlzYWJsZWREYXlzKCk7aWYoYil7Yi5zZXREaXNhYmxlZERhdGVzKGMuZGlzYWJsZWREYXRlc1JFKX19LHNldERpc2FibGVkRGF5czpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnBpY2tlcjt0aGlzLmRpc2FibGVkRGF5cz1hO2lmKGIpe2Iuc2V0RGlzYWJsZWREYXlzKGEpfX0sc2V0TWluVmFsdWU6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWIucGlja2VyLGQ9KEV4dC5pc1N0cmluZyhjKT9iLnBhcnNlRGF0ZShjKTpjKTtiLm1pblZhbHVlPWQ7aWYoYSl7YS5taW5UZXh0PUV4dC5TdHJpbmcuZm9ybWF0KGIubWluVGV4dCxiLmZvcm1hdERhdGUoYi5taW5WYWx1ZSkpO2Euc2V0TWluRGF0ZShkKX19LHNldE1heFZhbHVlOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT1iLnBpY2tlcixkPShFeHQuaXNTdHJpbmcoYyk/Yi5wYXJzZURhdGUoYyk6Yyk7Yi5tYXhWYWx1ZT1kO2lmKGEpe2EubWF4VGV4dD1FeHQuU3RyaW5nLmZvcm1hdChiLm1heFRleHQsYi5mb3JtYXREYXRlKGIubWF4VmFsdWUpKTthLnNldE1heERhdGUoZCl9fSxnZXRFcnJvcnM6ZnVuY3Rpb24ocSl7dmFyIGo9dGhpcyxwPUV4dC5TdHJpbmcuZm9ybWF0LGs9RXh0LkRhdGUuY2xlYXJUaW1lLG89ai5jYWxsUGFyZW50KGFyZ3VtZW50cyksbj1qLmRpc2FibGVkRGF5cyxkPWouZGlzYWJsZWREYXRlc1JFLG09ai5taW5WYWx1ZSxoPWoubWF4VmFsdWUsZz1uP24ubGVuZ3RoOjAsZT0wLGEsYixsLGM7cT1qLmZvcm1hdERhdGUocXx8ai5wcm9jZXNzUmF3VmFsdWUoai5nZXRSYXdWYWx1ZSgpKSk7aWYocT09PW51bGx8fHEubGVuZ3RoPDEpe3JldHVybiBvfWE9cTtxPWoucGFyc2VEYXRlKHEpO2lmKCFxKXtvLnB1c2gocChqLmludmFsaWRUZXh0LGEsRXh0LkRhdGUudW5lc2NhcGVGb3JtYXQoai5mb3JtYXQpKSk7cmV0dXJuIG99Yz1xLmdldFRpbWUoKTtpZihtJiZjPGsobSkuZ2V0VGltZSgpKXtvLnB1c2gocChqLm1pblRleHQsai5mb3JtYXREYXRlKG0pKSl9aWYoaCYmYz5rKGgpLmdldFRpbWUoKSl7by5wdXNoKHAoai5tYXhUZXh0LGouZm9ybWF0RGF0ZShoKSkpfWlmKG4pe2w9cS5nZXREYXkoKTtmb3IoO2U8ZztlKyspe2lmKGw9PT1uW2VdKXtvLnB1c2goai5kaXNhYmxlZERheXNUZXh0KTticmVha319fWI9ai5mb3JtYXREYXRlKHEpO2lmKGQmJmQudGVzdChiKSl7by5wdXNoKHAoai5kaXNhYmxlZERhdGVzVGV4dCxiKSl9cmV0dXJuIG99LHJhd1RvVmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucGFyc2VEYXRlKGEpfHxhfHxudWxsfSx2YWx1ZVRvUmF3OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZvcm1hdERhdGUodGhpcy5wYXJzZURhdGUoYSkpfSxzYWZlUGFyc2U6ZnVuY3Rpb24oZyxoKXt2YXIgZT10aGlzLGM9RXh0LkRhdGUsYT1udWxsLGI9ZS51c2VTdHJpY3QsZDtpZihjLmZvcm1hdENvbnRhaW5zSG91ckluZm8oaCkpe2E9Yy5wYXJzZShnLGgsYil9ZWxzZXtkPWMucGFyc2UoZysiICIrZS5pbml0VGltZSxoKyIgIitlLmluaXRUaW1lRm9ybWF0LGIpO2lmKGQpe2E9Yy5jbGVhclRpbWUoZCl9fXJldHVybiBhfSxnZXRTdWJtaXRWYWx1ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuc3VibWl0Rm9ybWF0fHx0aGlzLmZvcm1hdCxhPXRoaXMuZ2V0VmFsdWUoKTtyZXR1cm4gYT9FeHQuRGF0ZS5mb3JtYXQoYSxiKToiIn0scGFyc2VEYXRlOmZ1bmN0aW9uKGUpe2lmKCFlfHxFeHQuaXNEYXRlKGUpKXtyZXR1cm4gZX12YXIgZD10aGlzLGg9ZC5zYWZlUGFyc2UoZSxkLmZvcm1hdCksYj1kLmFsdEZvcm1hdHMsZz1kLmFsdEZvcm1hdHNBcnJheSxjPTAsYTtpZighaCYmYil7Zz1nfHxiLnNwbGl0KCJ8Iik7YT1nLmxlbmd0aDtmb3IoO2M8YSYmIWg7KytjKXtoPWQuc2FmZVBhcnNlKGUsZ1tjXSl9fXJldHVybiBofSxmb3JtYXREYXRlOmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuaXNEYXRlKGEpP0V4dC5EYXRlLmRhdGVGb3JtYXQoYSx0aGlzLmZvcm1hdCk6YX0sY3JlYXRlUGlja2VyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPUV4dC5TdHJpbmcuZm9ybWF0O3JldHVybiBuZXcgRXh0LnBpY2tlci5EYXRlKHtwaWNrZXJGaWVsZDphLG93bmVyQ3Q6YS5vd25lckN0LHJlbmRlclRvOmRvY3VtZW50LmJvZHksZmxvYXRpbmc6dHJ1ZSxoaWRkZW46dHJ1ZSxmb2N1c09uU2hvdzp0cnVlLG1pbkRhdGU6YS5taW5WYWx1ZSxtYXhEYXRlOmEubWF4VmFsdWUsZGlzYWJsZWREYXRlc1JFOmEuZGlzYWJsZWREYXRlc1JFLGRpc2FibGVkRGF0ZXNUZXh0OmEuZGlzYWJsZWREYXRlc1RleHQsZGlzYWJsZWREYXlzOmEuZGlzYWJsZWREYXlzLGRpc2FibGVkRGF5c1RleHQ6YS5kaXNhYmxlZERheXNUZXh0LGZvcm1hdDphLmZvcm1hdCxzaG93VG9kYXk6YS5zaG93VG9kYXksc3RhcnREYXk6YS5zdGFydERheSxtaW5UZXh0OmIoYS5taW5UZXh0LGEuZm9ybWF0RGF0ZShhLm1pblZhbHVlKSksbWF4VGV4dDpiKGEubWF4VGV4dCxhLmZvcm1hdERhdGUoYS5tYXhWYWx1ZSkpLGxpc3RlbmVyczp7c2NvcGU6YSxzZWxlY3Q6YS5vblNlbGVjdH0sa2V5TmF2Q29uZmlnOntlc2M6ZnVuY3Rpb24oKXthLmNvbGxhcHNlKCl9fX0pfSxvblNlbGVjdDpmdW5jdGlvbihhLGMpe3ZhciBiPXRoaXM7Yi5zZXRWYWx1ZShjKTtiLmZpcmVFdmVudCgic2VsZWN0IixiLGMpO2IuY29sbGFwc2UoKX0sb25FeHBhbmQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFZhbHVlKCk7dGhpcy5waWNrZXIuc2V0VmFsdWUoRXh0LmlzRGF0ZShhKT9hOm5ldyBEYXRlKCkpfSxvbkNvbGxhcHNlOmZ1bmN0aW9uKCl7dGhpcy5mb2N1cyhmYWxzZSw2MCl9LGJlZm9yZUJsdXI6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGE9Yy5wYXJzZURhdGUoYy5nZXRSYXdWYWx1ZSgpKSxiPWMuZm9jdXNUYXNrO2lmKGIpe2IuY2FuY2VsKCl9aWYoYSl7Yy5zZXRWYWx1ZShhKX19fSk7RXh0LmRlZmluZSgiRXh0LnJlc2l6ZXIuQm9yZGVyU3BsaXR0ZXJUcmFja2VyIix7ZXh0ZW5kOiJFeHQucmVzaXplci5TcGxpdHRlclRyYWNrZXIiLHJlcXVpcmVzOlsiRXh0LnV0aWwuUmVnaW9uIl0sZ2V0UHJldkNtcDpudWxsLGdldE5leHRDbXA6bnVsbCxjYWxjdWxhdGVDb25zdHJhaW5SZWdpb246ZnVuY3Rpb24oKXt2YXIgeT10aGlzLGE9eS5zcGxpdHRlcixvPWEuY29sbGFwc2VUYXJnZXQsZD1hLmRlZmF1bHRTcGxpdE1pbixoPWEudmVydGljYWw/IldpZHRoIjoiSGVpZ2h0IixjPSJtaW4iK2gsdT0ibWF4IitoLGo9ImdldCIraCx0PWEubmVpZ2hib3JzLGU9dC5sZW5ndGgsbj1vLmVsLmdldEJveCgpLGc9bi54LHA9bi55LHg9bi5yaWdodCxrPW4uYm90dG9tLHI9YS52ZXJ0aWNhbD8oeC1nKTooay1wKSx3LGwsbSx2LHMscSxiO209KG9bY118fE1hdGgubWluKHIsZCkpLXI7dj1vW3VdO2lmKCF2KXt2PTEwMDAwMDAwMDB9ZWxzZXt2LT1yfWI9cjtmb3Iodz0wO3c8ZTsrK3cpe2w9dFt3XTtyPWxbal0oKTtzPXItbFt1XTtxPXItKGxbY118fE1hdGgubWluKHIsZCkpO2lmKCFpc05hTihzKSl7aWYobTxzKXttPXN9fWlmKHY+cSl7dj1xfX1pZih2LW08Mil7cmV0dXJuIG51bGx9bj1uZXcgRXh0LnV0aWwuUmVnaW9uKHAseCxrLGcpO3kuY29uc3RyYWludEFkanVzdGVyc1thLmNvbGxhcHNlRGlyZWN0aW9uXShuLG0sdixhKTt5LmRyYWdJbmZvPXttaW5SYW5nZTptLG1heFJhbmdlOnYsdGFyZ2V0U2l6ZTpifTtyZXR1cm4gbn0sY29uc3RyYWludEFkanVzdGVyczp7bGVmdDpmdW5jdGlvbihjLGEsYixkKXtjWzBdPWMueD1jLmxlZnQ9Yy5yaWdodCthO2MucmlnaHQrPWIrZC5nZXRXaWR0aCgpfSx0b3A6ZnVuY3Rpb24oYyxhLGIsZCl7Y1sxXT1jLnk9Yy50b3A9Yy5ib3R0b20rYTtjLmJvdHRvbSs9YitkLmdldEhlaWdodCgpfSxib3R0b206ZnVuY3Rpb24oYyxhLGIsZCl7Yy5ib3R0b209Yy50b3AtYTtjLnRvcC09YitkLmdldEhlaWdodCgpfSxyaWdodDpmdW5jdGlvbihjLGEsYixkKXtjLnJpZ2h0PWMubGVmdC1hO2MubGVmdC09YitkLmdldFdpZHRoKCl9fSxvbkJlZm9yZVN0YXJ0OmZ1bmN0aW9uKGgpe3ZhciBrPXRoaXMsYj1rLnNwbGl0dGVyLGE9Yi5jb2xsYXBzZVRhcmdldCxtPWIubmVpZ2hib3JzLGQ9ay5nZXRTcGxpdHRlcigpLmNvbGxhcHNlRWwsaj1oLmdldFRhcmdldCgpLGM9bS5sZW5ndGgsZyxsO2lmKGQmJmo9PT1iLmNvbGxhcHNlRWwuZG9tKXtyZXR1cm4gZmFsc2V9aWYoYS5jb2xsYXBzZWQpe3JldHVybiBmYWxzZX1mb3IoZz0wO2c8YzsrK2cpe2w9bVtnXTtpZihsLmNvbGxhcHNlZCYmbC5pc0hvcno9PT1hLmlzSG9yeil7cmV0dXJuIGZhbHNlfX1pZighKGsuY29uc3RyYWluVG89ay5jYWxjdWxhdGVDb25zdHJhaW5SZWdpb24oKSkpe3JldHVybiBmYWxzZX1rLmNyZWF0ZURyYWdPdmVybGF5KCk7cmV0dXJuIHRydWV9LHBlcmZvcm1SZXNpemU6ZnVuY3Rpb24oaixpKXt2YXIgaz10aGlzLGI9ay5zcGxpdHRlcixoPWIuY29sbGFwc2VEaXJlY3Rpb24sYT1iLmNvbGxhcHNlVGFyZ2V0LGc9ay5zcGxpdEFkanVzdGVyc1tiLnZlcnRpY2FsPyJob3J6IjoidmVydCJdLGw9aVtnLmluZGV4XSxkPWsuZHJhZ0luZm8sYztpZihoPT0icmlnaHQifHxoPT0iYm90dG9tIil7bD0tbH1sPU1hdGgubWluKE1hdGgubWF4KGQubWluUmFuZ2UsbCksZC5tYXhSYW5nZSk7aWYobCl7KGM9Yi5vd25lckN0KS5zdXNwZW5kTGF5b3V0cygpO2cuYWRqdXN0VGFyZ2V0KGEsZC50YXJnZXRTaXplLGwpO2MucmVzdW1lTGF5b3V0cyh0cnVlKX19LHNwbGl0QWRqdXN0ZXJzOntob3J6OntpbmRleDowLGFkanVzdFRhcmdldDpmdW5jdGlvbihiLGEsYyl7Yi5mbGV4PW51bGw7Yi5zZXRTaXplKGErYyl9fSx2ZXJ0OntpbmRleDoxLGFkanVzdFRhcmdldDpmdW5jdGlvbihiLGEsYyl7Yi5mbGV4PW51bGw7Yi5zZXRTaXplKHVuZGVmaW5lZCxhK2MpfX19fSk7RXh0LmRlZmluZSgiRXh0LnJlc2l6ZXIuSGFuZGxlIix7ZXh0ZW5kOiJFeHQuQ29tcG9uZW50IixoYW5kbGVDbHM6IiIsYmFzZUhhbmRsZUNsczpFeHQuYmFzZUNTU1ByZWZpeCsicmVzaXphYmxlLWhhbmRsZSIscmVnaW9uOiIiLGJlZm9yZVJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KCk7YS5hZGRDbHMoYS5iYXNlSGFuZGxlQ2xzLGEuYmFzZUhhbmRsZUNscysiLSIrYS5yZWdpb24sYS5oYW5kbGVDbHMpfSxvblJlbmRlcjpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3RoaXMuZWwudW5zZWxlY3RhYmxlKCl9fSk7RXh0LmRlZmluZSgiRXh0LnJlc2l6ZXIuU3BsaXR0ZXIiLHtleHRlbmQ6IkV4dC5Db21wb25lbnQiLHJlcXVpcmVzOlsiRXh0LlhUZW1wbGF0ZSJdLHVzZXM6WyJFeHQucmVzaXplci5TcGxpdHRlclRyYWNrZXIiXSxhbGlhczoid2lkZ2V0LnNwbGl0dGVyIixjaGlsZEVsczpbImNvbGxhcHNlRWwiXSxyZW5kZXJUcGw6Wyc8dHBsIGlmPSJjb2xsYXBzaWJsZT09PXRydWUiPicsJzxkaXYgaWQ9IntpZH0tY29sbGFwc2VFbCIgY2xhc3M9IicsRXh0LmJhc2VDU1NQcmVmaXgsImNvbGxhcHNlLWVsICIsRXh0LmJhc2VDU1NQcmVmaXgsJ2xheW91dC1zcGxpdC17Y29sbGFwc2VEaXJ9Ij4mIzE2MDs8L2Rpdj4nLCI8L3RwbD4iXSxiYXNlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJzcGxpdHRlciIsY29sbGFwc2VkQ2xzSW50ZXJuYWw6RXh0LmJhc2VDU1NQcmVmaXgrInNwbGl0dGVyLWNvbGxhcHNlZCIsY29sbGFwc2libGU6ZmFsc2UsY29sbGFwc2VPbkRibENsaWNrOnRydWUsZGVmYXVsdFNwbGl0TWluOjQwLGRlZmF1bHRTcGxpdE1heDoxMDAwLHdpZHRoOjUsaGVpZ2h0OjUsY29sbGFwc2VUYXJnZXQ6Im5leHQiLGhvcml6b250YWw6ZmFsc2UsdmVydGljYWw6ZmFsc2UsZ2V0VHJhY2tlckNvbmZpZzpmdW5jdGlvbigpe3JldHVybnt4Y2xhc3M6IkV4dC5yZXNpemVyLlNwbGl0dGVyVHJhY2tlciIsZWw6dGhpcy5lbCxzcGxpdHRlcjp0aGlzfX0sYmVmb3JlUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZ2V0Q29sbGFwc2VUYXJnZXQoKSxjPWEuZ2V0Q29sbGFwc2VEaXJlY3Rpb24oKTthLmNhbGxQYXJlbnQoKTtpZihiLmNvbGxhcHNlZCl7YS5hZGRDbHMoYS5jb2xsYXBzZWRDbHNJbnRlcm5hbCl9YS5hZGRDbHMoYS5iYXNlQ2xzKyItIithLm9yaWVudGF0aW9uKTtFeHQuYXBwbHlJZihhLnJlbmRlckRhdGEse2NvbGxhcHNlRGlyOmMsY29sbGFwc2libGU6YS5jb2xsYXBzaWJsZXx8Yi5jb2xsYXBzaWJsZX0pfSxvblJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYS5wZXJmb3JtQ29sbGFwc2UhPT1mYWxzZSl7aWYoYS5yZW5kZXJEYXRhLmNvbGxhcHNpYmxlKXthLm1vbihhLmNvbGxhcHNlRWwsImNsaWNrIixhLnRvZ2dsZVRhcmdldENtcCxhKX1pZihhLmNvbGxhcHNlT25EYmxDbGljayl7YS5tb24oYS5lbCwiZGJsY2xpY2siLGEudG9nZ2xlVGFyZ2V0Q21wLGEpfX1hLm1vbihhLmdldENvbGxhcHNlVGFyZ2V0KCkse2NvbGxhcHNlOmEub25UYXJnZXRDb2xsYXBzZSxleHBhbmQ6YS5vblRhcmdldEV4cGFuZCxzY29wZTphfSk7YS5lbC51bnNlbGVjdGFibGUoKTthLnRyYWNrZXI9RXh0LmNyZWF0ZShhLmdldFRyYWNrZXJDb25maWcoKSk7YS5yZWxheUV2ZW50cyhhLnRyYWNrZXIsWyJiZWZvcmVkcmFnc3RhcnQiLCJkcmFnc3RhcnQiLCJkcmFnZW5kIl0pfSxnZXRDb2xsYXBzZURpcmVjdGlvbjpmdW5jdGlvbigpe3ZhciBnPXRoaXMsYz1nLmNvbGxhcHNlRGlyZWN0aW9uLGUsYSxiLGQ7aWYoIWMpe2U9Zy5jb2xsYXBzZVRhcmdldDtpZihlLmlzQ29tcG9uZW50KXtjPWUuY29sbGFwc2VEaXJlY3Rpb259aWYoIWMpe2Q9Zy5vd25lckN0LmxheW91dC50eXBlO2lmKGUuaXNDb21wb25lbnQpe2I9Zy5vd25lckN0Lml0ZW1zO2E9TnVtYmVyKGIuaW5kZXhPZihlKT09Yi5pbmRleE9mKGcpLTEpPDwxfE51bWJlcihkPT0iaGJveCIpfWVsc2V7YT1OdW1iZXIoZy5jb2xsYXBzZVRhcmdldD09InByZXYiKTw8MXxOdW1iZXIoZD09Imhib3giKX1jPVsiYm90dG9tIiwicmlnaHQiLCJ0b3AiLCJsZWZ0Il1bYV19Zy5jb2xsYXBzZURpcmVjdGlvbj1jfWcub3JpZW50YXRpb249KGM9PSJ0b3AifHxjPT0iYm90dG9tIik/Imhvcml6b250YWwiOiJ2ZXJ0aWNhbCI7Z1tnLm9yaWVudGF0aW9uXT10cnVlO3JldHVybiBjfSxnZXRDb2xsYXBzZVRhcmdldDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEuY29sbGFwc2VUYXJnZXQuaXNDb21wb25lbnQ/YS5jb2xsYXBzZVRhcmdldDphLmNvbGxhcHNlVGFyZ2V0PT0icHJldiI/YS5wcmV2aW91c1NpYmxpbmcoKTphLm5leHRTaWJsaW5nKCl9LG9uVGFyZ2V0Q29sbGFwc2U6ZnVuY3Rpb24oYSl7dGhpcy5lbC5hZGRDbHMoW3RoaXMuY29sbGFwc2VkQ2xzSW50ZXJuYWwsdGhpcy5jb2xsYXBzZWRDbHNdKX0sb25UYXJnZXRFeHBhbmQ6ZnVuY3Rpb24oYSl7dGhpcy5lbC5yZW1vdmVDbHMoW3RoaXMuY29sbGFwc2VkQ2xzSW50ZXJuYWwsdGhpcy5jb2xsYXBzZWRDbHNdKX0sdG9nZ2xlVGFyZ2V0Q21wOmZ1bmN0aW9uKGQsYil7dmFyIGM9dGhpcy5nZXRDb2xsYXBzZVRhcmdldCgpLGc9Yy5wbGFjZWhvbGRlcixhO2lmKGcmJiFnLmhpZGRlbil7YT10cnVlfWVsc2V7YT0hYy5oaWRkZW59aWYoYSl7aWYoYy5jb2xsYXBzZWQpe2MuZXhwYW5kKCl9ZWxzZXtpZihjLmNvbGxhcHNlRGlyZWN0aW9uKXtjLmNvbGxhcHNlKCl9ZWxzZXtjLmNvbGxhcHNlKHRoaXMucmVuZGVyRGF0YS5jb2xsYXBzZURpcil9fX19LHNldFNpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKEV4dC5pc0lFJiZhLmVsKXthLmVsLnJlcGFpbnQoKX19fSk7RXh0LmRlZmluZSgiRXh0LnJlc2l6ZXIuQm9yZGVyU3BsaXR0ZXIiLHtleHRlbmQ6IkV4dC5yZXNpemVyLlNwbGl0dGVyIix1c2VzOlsiRXh0LnJlc2l6ZXIuQm9yZGVyU3BsaXR0ZXJUcmFja2VyIl0sYWxpYXM6IndpZGdldC5ib3JkZXJzcGxpdHRlciIsY29sbGFwc2VUYXJnZXQ6bnVsbCxnZXRUcmFja2VyQ29uZmlnOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jYWxsUGFyZW50KCk7YS54Y2xhc3M9IkV4dC5yZXNpemVyLkJvcmRlclNwbGl0dGVyVHJhY2tlciI7cmV0dXJuIGF9fSk7RXh0LmRlZmluZSgiRXh0LmxheW91dC5jb250YWluZXIuQm9yZGVyIix7YWxpYXM6ImxheW91dC5ib3JkZXIiLGV4dGVuZDoiRXh0LmxheW91dC5jb250YWluZXIuQ29udGFpbmVyIixyZXF1aXJlczpbIkV4dC5yZXNpemVyLkJvcmRlclNwbGl0dGVyIiwiRXh0LkNvbXBvbmVudCIsIkV4dC5meC5BbmltIl0sYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQubGF5b3V0LkJvcmRlckxheW91dCIsdGFyZ2V0Q2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJib3JkZXItbGF5b3V0LWN0IixpdGVtQ2xzOltFeHQuYmFzZUNTU1ByZWZpeCsiYm9yZGVyLWl0ZW0iLEV4dC5iYXNlQ1NTUHJlZml4KyJib3gtaXRlbSJdLHR5cGU6ImJvcmRlciIscGFkZGluZzp1bmRlZmluZWQscGVyY2VudGFnZVJlOi8oXGQrKSUvLGF4aXNQcm9wczp7aG9yejp7Ym9yZGVyQmVnaW46Indlc3QiLGJvcmRlckVuZDoiZWFzdCIsaG9yaXpvbnRhbDp0cnVlLHBvc1Byb3A6IngiLHNpemVQcm9wOiJ3aWR0aCIsc2l6ZVByb3BDYXA6IldpZHRoIn0sdmVydDp7Ym9yZGVyQmVnaW46Im5vcnRoIixib3JkZXJFbmQ6InNvdXRoIixob3Jpem9udGFsOmZhbHNlLHBvc1Byb3A6InkiLHNpemVQcm9wOiJoZWlnaHQiLHNpemVQcm9wQ2FwOiJIZWlnaHQifX0sY2VudGVyUmVnaW9uOm51bGwsY29sbGFwc2VEaXJlY3Rpb25zOntub3J0aDoidG9wIixzb3V0aDoiYm90dG9tIixlYXN0OiJyaWdodCIsd2VzdDoibGVmdCJ9LG1hbmFnZU1hcmdpbnM6dHJ1ZSxwYW5lbENvbGxhcHNlQW5pbWF0ZTp0cnVlLHBhbmVsQ29sbGFwc2VNb2RlOiJwbGFjZWhvbGRlciIscmVnaW9uV2VpZ2h0czp7bm9ydGg6MjAsc291dGg6MTAsY2VudGVyOjAsd2VzdDotMTAsZWFzdDotMjB9LGJlZ2luQXhpczpmdW5jdGlvbihtLGIsdyl7dmFyIHU9dGhpcyxjPXUuYXhpc1Byb3BzW3ddLHI9IWMuaG9yaXpvbnRhbCxsPWMuc2l6ZVByb3AscD0wLGE9bS5jaGlsZEl0ZW1zLGc9YS5sZW5ndGgsdCxxLG8saCxzLGUsayxuLGQsdixqO2ZvcihxPTA7cTxnOysrcSl7bz1hW3FdO3M9by50YXJnZXQ7by5sYXlvdXRQb3M9e307aWYocy5yZWdpb24pe28ucmVnaW9uPWU9cy5yZWdpb247by5pc0NlbnRlcj1zLmlzQ2VudGVyO28uaXNIb3J6PXMuaXNIb3J6O28uaXNWZXJ0PXMuaXNWZXJ0O28ud2VpZ2h0PXMud2VpZ2h0fHx1LnJlZ2lvbldlaWdodHNbZV18fDA7YltzLmlkXT1vO2lmKHMuaXNDZW50ZXIpe3Q9bztoPXMuZmxleDttLmNlbnRlclJlZ2lvbj10O2NvbnRpbnVlfWlmKHIhPT1vLmlzVmVydCl7Y29udGludWV9by5yZXZlcnNlV2VpZ2h0aW5nPShlPT1jLmJvcmRlckVuZCk7bj1zW2xdO2Q9dHlwZW9mIG47aWYoIXMuY29sbGFwc2VkKXtpZihkPT0ic3RyaW5nIiYmKGs9dS5wZXJjZW50YWdlUmUuZXhlYyhuKSkpe28ucGVyY2VudGFnZT1wYXJzZUludChrWzFdLDEwKX1lbHNle2lmKHMuZmxleCl7cCs9by5mbGV4PXMuZmxleH19fX19aWYodCl7dj10LnRhcmdldDtpZihqPXYucGxhY2Vob2xkZXJGb3Ipe2lmKCFoJiZyPT09ai5jb2xsYXBzZWRWZXJ0aWNhbCgpKXtoPTA7dC5jb2xsYXBzZUF4aXM9d319ZWxzZXtpZih2LmNvbGxhcHNlZCYmKHI9PT12LmNvbGxhcHNlZFZlcnRpY2FsKCkpKXtoPTA7dC5jb2xsYXBzZUF4aXM9d319fWlmKGg9PW51bGwpe2g9MX1wKz1oO3JldHVybiBFeHQuYXBwbHkoe2JlZm9yZTpyPyJ0b3AiOiJsZWZ0Iix0b3RhbEZsZXg6cH0sYyl9LGJlZ2luTGF5b3V0OmZ1bmN0aW9uKGMpe3ZhciBqPXRoaXMsaD1qLmdldExheW91dEl0ZW1zKCksZD1qLnBhZGRpbmcsaz10eXBlb2YgZCxtPWZhbHNlLG4sbCxiLGcsZSxhO2lmKGQpe2lmKGs9PSJzdHJpbmcifHxrPT0ibnVtYmVyIil7ZD1FeHQudXRpbC5Gb3JtYXQucGFyc2VCb3goZCl9fWVsc2V7ZD1jLmdldEVsKCJnZXRUYXJnZXRFbCIpLmdldFBhZGRpbmdJbmZvKCk7bT10cnVlfWMub3V0ZXJQYWQ9ZDtjLnBhZE9uQ29udGFpbmVyPW07Zm9yKGc9MCxiPWgubGVuZ3RoO2c8YjsrK2cpe2w9aFtnXTthPWouZ2V0U3BsaXR0ZXJUYXJnZXQobCk7aWYoYSYmbC5oaWRkZW4hPT1hLmhpZGRlbil7aWYobC5oaWRkZW4pe2wuc2hvdygpfWVsc2V7bC5oaWRlKCl9fX1qLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtoPWMuY2hpbGRJdGVtcztiPWgubGVuZ3RoO2U9e307Yy5ib3JkZXJBeGlzSG9yej1qLmJlZ2luQXhpcyhjLGUsImhvcnoiKTtjLmJvcmRlckF4aXNWZXJ0PWouYmVnaW5BeGlzKGMsZSwidmVydCIpO2ZvcihnPTA7ZzxiOysrZyl7bj1oW2ddO2E9ai5nZXRTcGxpdHRlclRhcmdldChuLnRhcmdldCk7aWYoYSl7bi5jb2xsYXBzZVRhcmdldD1hPWVbYS5pZF07bi53ZWlnaHQ9YS53ZWlnaHQ7bi5yZXZlcnNlV2VpZ2h0aW5nPWEucmV2ZXJzZVdlaWdodGluZzthLnNwbGl0dGVyPW47bi5pc0hvcno9YS5pc0hvcno7bi5pc1ZlcnQ9YS5pc1ZlcnR9fWouc29ydFdlaWdodGVkSXRlbXMoaCwicmV2ZXJzZVdlaWdodGluZyIpO2ouc2V0dXBTcGxpdHRlck5laWdoYm9ycyhoKX0sY2FsY3VsYXRlOmZ1bmN0aW9uKGQpe3ZhciBtPXRoaXMsYT1tLmdldENvbnRhaW5lclNpemUoZCksaj1kLmNoaWxkSXRlbXMsYz1qLmxlbmd0aCxiPWQuYm9yZGVyQXhpc0hvcnosaz1kLmJvcmRlckF4aXNWZXJ0LGU9ZC5vdXRlclBhZCxvPWQucGFkT25Db250YWluZXIsaCxxLGwscCxuLGc7Yi5iZWdpbj1lLmxlZnQ7ay5iZWdpbj1lLnRvcDtuPWIuZW5kPWIuZmxleFNwYWNlPWEud2lkdGgrKG8/ZS5sZWZ0Oi1lLnJpZ2h0KTtnPWsuZW5kPWsuZmxleFNwYWNlPWEuaGVpZ2h0KyhvP2UudG9wOi1lLmJvdHRvbSk7Zm9yKGg9MDtoPGM7KytoKXtxPWpbaF07bD1xLmdldE1hcmdpbkluZm8oKTtpZihxLmlzSG9yenx8cS5pc0NlbnRlcil7Yi5hZGRVbmZsZXhlZChsLndpZHRoKTtuLT1sLndpZHRofWlmKHEuaXNWZXJ0fHxxLmlzQ2VudGVyKXtrLmFkZFVuZmxleGVkKGwuaGVpZ2h0KTtnLT1sLmhlaWdodH1pZighcS5mbGV4JiYhcS5wZXJjZW50YWdlKXtpZihxLmlzSG9yenx8KHEuaXNDZW50ZXImJnEuY29sbGFwc2VBeGlzPT09ImhvcnoiKSl7cD1xLmdldFByb3AoIndpZHRoIik7Yi5hZGRVbmZsZXhlZChwKTtpZihxLmNvbGxhcHNlVGFyZ2V0KXtuLT1wfX1lbHNle2lmKHEuaXNWZXJ0fHwocS5pc0NlbnRlciYmcS5jb2xsYXBzZUF4aXM9PT0idmVydCIpKXtwPXEuZ2V0UHJvcCgiaGVpZ2h0Iik7ay5hZGRVbmZsZXhlZChwKTtpZihxLmNvbGxhcHNlVGFyZ2V0KXtnLT1wfX19fX1mb3IoaD0wO2g8YzsrK2gpe3E9altoXTtsPXEuZ2V0TWFyZ2luSW5mbygpO2lmKHEucGVyY2VudGFnZSl7aWYocS5pc0hvcnope3A9TWF0aC5jZWlsKG4qcS5wZXJjZW50YWdlLzEwMCk7cD1xLnNldFdpZHRoKHApO2IuYWRkVW5mbGV4ZWQocCl9ZWxzZXtpZihxLmlzVmVydCl7cD1NYXRoLmNlaWwoZypxLnBlcmNlbnRhZ2UvMTAwKTtwPXEuc2V0SGVpZ2h0KHApO2suYWRkVW5mbGV4ZWQocCl9fX19Zm9yKGg9MDtoPGM7KytoKXtxPWpbaF07aWYoIXEuaXNDZW50ZXIpe20uY2FsY3VsYXRlQ2hpbGRBeGlzKHEsYik7bS5jYWxjdWxhdGVDaGlsZEF4aXMocSxrKX19aWYobS5maW5pc2hBeGlzKGQsaykrbS5maW5pc2hBeGlzKGQsYik8Mil7bS5kb25lPWZhbHNlfWVsc2V7bS5maW5pc2hQb3NpdGlvbnMoail9fSxjYWxjdWxhdGVDaGlsZEF4aXM6ZnVuY3Rpb24obCxjKXt2YXIgYT1sLmNvbGxhcHNlVGFyZ2V0LGg9InNldCIrYy5zaXplUHJvcENhcCxlPWMuc2l6ZVByb3AsZD1sLmdldE1hcmdpbkluZm8oKVtlXSxqLGIsZyxpLGs7aWYoYSl7aj1hLnJlZ2lvbn1lbHNle2o9bC5yZWdpb247Zz1sLmZsZXh9Yj1qPT1jLmJvcmRlckJlZ2luO2lmKCFiJiZqIT1jLmJvcmRlckVuZCl7bFtoXShjLmVuZC1jLmJlZ2luLWQpO2k9Yy5iZWdpbn1lbHNle2lmKGcpe2s9TWF0aC5jZWlsKGMuZmxleFNwYWNlKihnL2MudG90YWxGbGV4KSk7az1sW2hdKGspfWVsc2V7aWYobC5wZXJjZW50YWdlKXtrPWwucGVlayhlKX1lbHNle2s9bC5nZXRQcm9wKGUpfX1rKz1kO2lmKGIpe2k9Yy5iZWdpbjtjLmJlZ2luKz1rfWVsc2V7Yy5lbmQ9aT1jLmVuZC1rfX1sLmxheW91dFBvc1tjLnBvc1Byb3BdPWl9LGZpbmlzaEF4aXM6ZnVuY3Rpb24oZCxjKXt2YXIgYj1jLmVuZC1jLmJlZ2luLGE9ZC5jZW50ZXJSZWdpb247aWYoYSl7YVsic2V0IitjLnNpemVQcm9wQ2FwXShiLWEuZ2V0TWFyZ2luSW5mbygpW2Muc2l6ZVByb3BdKTthLmxheW91dFBvc1tjLnBvc1Byb3BdPWMuYmVnaW59cmV0dXJuIEV4dC5pc051bWJlcihiKT8xOjB9LGZpbmlzaFBvc2l0aW9uczpmdW5jdGlvbihkKXt2YXIgYz1kLmxlbmd0aCxiLGE7Zm9yKGI9MDtiPGM7KytiKXthPWRbYl07YS5zZXRQcm9wKCJ4IixhLmxheW91dFBvcy54K2EubWFyZ2luSW5mby5sZWZ0KTthLnNldFByb3AoInkiLGEubGF5b3V0UG9zLnkrYS5tYXJnaW5JbmZvLnRvcCl9fSxnZXRQbGFjZWhvbGRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRQbGFjZWhvbGRlciYmYS5nZXRQbGFjZWhvbGRlcigpfSxnZXRTcGxpdHRlclRhcmdldDpmdW5jdGlvbihiKXt2YXIgYT1iLmNvbGxhcHNlVGFyZ2V0O2lmKGEmJmEuY29sbGFwc2VkKXtyZXR1cm4gYS5wbGFjZWhvbGRlcnx8YX1yZXR1cm4gYX0saXNJdGVtQm94UGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiB0cnVlfSxpc0l0ZW1TaHJpbmtXcmFwOmZ1bmN0aW9uKGEpe3JldHVybiB0cnVlfSxpbnNlcnRTcGxpdHRlcjpmdW5jdGlvbihjLGIpe3ZhciBlPWMucmVnaW9uLGQ9e3h0eXBlOiJib3JkZXJzcGxpdHRlciIsY29sbGFwc2VUYXJnZXQ6YyxpZDpjLmlkKyItc3BsaXR0ZXIiLGhpZGRlbjohIWMuaGlkZGVufSxhPWIrKChlPT0ic291dGgifHxlPT0iZWFzdCIpPzA6MSk7aWYoYy5pc0hvcnope2QuaGVpZ2h0PW51bGx9ZWxzZXtkLndpZHRoPW51bGx9aWYoYy5jb2xsYXBzZU1vZGU9PSJtaW5pIil7ZC5jb2xsYXBzZWRDbHM9Yy5jb2xsYXBzZWRDbHN9Yy5zcGxpdHRlcj10aGlzLm93bmVyLmFkZChhLGQpfSxvbkFkZDpmdW5jdGlvbihjLGEpe3ZhciBiPXRoaXMsZT1jLnBsYWNlaG9sZGVyRm9yLGQ9Yy5yZWdpb247Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoZCl7RXh0LmFwcGx5KGMsYi5yZWdpb25GbGFnc1tkXSk7aWYoZD09ImNlbnRlciIpe2IuY2VudGVyUmVnaW9uPWN9ZWxzZXtjLmNvbGxhcHNlRGlyZWN0aW9uPXRoaXMuY29sbGFwc2VEaXJlY3Rpb25zW2RdO2lmKGMuc3BsaXQmJihjLmlzSG9yenx8Yy5pc1ZlcnQpKXtiLmluc2VydFNwbGl0dGVyKGMsYSl9fWlmKCFjLmhhc093blByb3BlcnR5KCJjb2xsYXBzZU1vZGUiKSl7Yy5jb2xsYXBzZU1vZGU9Yi5wYW5lbENvbGxhcHNlTW9kZX1pZighYy5oYXNPd25Qcm9wZXJ0eSgiYW5pbUNvbGxhcHNlIikpe2lmKGMuY29sbGFwc2VNb2RlIT0icGxhY2Vob2xkZXIiKXtjLmFuaW1Db2xsYXBzZT1mYWxzZX1lbHNle2MuYW5pbUNvbGxhcHNlPWIucGFuZWxDb2xsYXBzZUFuaW1hdGV9fX1lbHNle2lmKGUpe0V4dC5hcHBseShjLGIucmVnaW9uRmxhZ3NbZS5yZWdpb25dKTtjLnJlZ2lvbj1lLnJlZ2lvbjtjLndlaWdodD1lLndlaWdodH19fSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNlbnRlclJlZ2lvbj1udWxsO3RoaXMuY2FsbFBhcmVudCgpfSxvblJlbW92ZTpmdW5jdGlvbihiKXt2YXIgYT10aGlzLGQ9Yi5yZWdpb24sYz1iLnNwbGl0dGVyO2lmKGQpe2lmKGIuaXNDZW50ZXIpe2EuY2VudGVyUmVnaW9uPW51bGx9ZGVsZXRlIGIuaXNDZW50ZXI7ZGVsZXRlIGIuaXNIb3J6O2RlbGV0ZSBiLmlzVmVydDtpZihjKXthLm93bmVyLmRvUmVtb3ZlKGMsdHJ1ZSk7ZGVsZXRlIGIuc3BsaXR0ZXJ9fWEuY2FsbFBhcmVudChhcmd1bWVudHMpfSxyZWdpb25GbGFnczp7Y2VudGVyOntpc0NlbnRlcjp0cnVlLGlzSG9yejpmYWxzZSxpc1ZlcnQ6ZmFsc2V9LG5vcnRoOntpc0NlbnRlcjpmYWxzZSxpc0hvcno6ZmFsc2UsaXNWZXJ0OnRydWV9LHNvdXRoOntpc0NlbnRlcjpmYWxzZSxpc0hvcno6ZmFsc2UsaXNWZXJ0OnRydWV9LHdlc3Q6e2lzQ2VudGVyOmZhbHNlLGlzSG9yejp0cnVlLGlzVmVydDpmYWxzZX0sZWFzdDp7aXNDZW50ZXI6ZmFsc2UsaXNIb3J6OnRydWUsaXNWZXJ0OmZhbHNlfX0sc2V0dXBTcGxpdHRlck5laWdoYm9yczpmdW5jdGlvbihtKXt2YXIgcD17fSxlPW0ubGVuZ3RoLG89dGhpcy50b3VjaGVkUmVnaW9ucyxoLGcsYSxsLGQsayxuLGIsYztmb3IoaD0wO2g8ZTsrK2gpe2s9bVtoXS50YXJnZXQ7bj1rLnJlZ2lvbjtpZihrLmlzQ2VudGVyKXthPWt9ZWxzZXtpZihuKXtjPW9bbl07Zm9yKGc9MCxsPWMubGVuZ3RoO2c8bDsrK2cpe2Q9cFtjW2ddXTtpZihkKXtkLm5laWdoYm9ycy5wdXNoKGspfX1pZihrLnBsYWNlaG9sZGVyRm9yKXtiPWsucGxhY2Vob2xkZXJGb3Iuc3BsaXR0ZXJ9ZWxzZXtiPWsuc3BsaXR0ZXJ9aWYoYil7Yi5uZWlnaGJvcnM9W119cFtuXT1ifX19aWYoYSl7Yz1vLmNlbnRlcjtmb3IoZz0wLGw9Yy5sZW5ndGg7ZzxsOysrZyl7ZD1wW2NbZ11dO2lmKGQpe2QubmVpZ2hib3JzLnB1c2goYSl9fX19LHRvdWNoZWRSZWdpb25zOntjZW50ZXI6WyJub3J0aCIsInNvdXRoIiwiZWFzdCIsIndlc3QiXSxub3J0aDpbIm5vcnRoIiwiZWFzdCIsIndlc3QiXSxzb3V0aDpbInNvdXRoIiwiZWFzdCIsIndlc3QiXSxlYXN0OlsiZWFzdCIsIm5vcnRoIiwic291dGgiXSx3ZXN0Olsid2VzdCIsIm5vcnRoIiwic291dGgiXX0sc2l6ZVBvbGljaWVzOnt2ZXJ0OntzZXRzV2lkdGg6MSxzZXRzSGVpZ2h0OjB9LGhvcno6e3NldHNXaWR0aDowLHNldHNIZWlnaHQ6MX0sZmxleEFsbDp7c2V0c1dpZHRoOjEsc2V0c0hlaWdodDoxfX0sZ2V0SXRlbVNpemVQb2xpY3k6ZnVuY3Rpb24oZSl7dmFyIGQ9dGhpcyxhPXRoaXMuc2l6ZVBvbGljaWVzLGMsYixnLGg7aWYoZS5pc0NlbnRlcil7aD1lLnBsYWNlaG9sZGVyRm9yO2lmKGgpe2lmKGguY29sbGFwc2VkVmVydGljYWwoKSl7cmV0dXJuIGEudmVydH1yZXR1cm4gYS5ob3J6fWlmKGUuY29sbGFwc2VkKXtpZihlLmNvbGxhcHNlZFZlcnRpY2FsKCkpe3JldHVybiBhLnZlcnR9cmV0dXJuIGEuaG9yen1yZXR1cm4gYS5mbGV4QWxsfWM9ZS5jb2xsYXBzZVRhcmdldDtpZihjKXtyZXR1cm4gYy5pc1ZlcnQ/YS52ZXJ0OmEuaG9yen1pZihlLnJlZ2lvbil7aWYoZS5pc1ZlcnQpe2I9ZS5oZWlnaHQ7Zz1hLnZlcnR9ZWxzZXtiPWUud2lkdGg7Zz1hLmhvcnp9aWYoZS5mbGV4fHwodHlwZW9mIGI9PSJzdHJpbmciJiZkLnBlcmNlbnRhZ2VSZS50ZXN0KGIpKSl7cmV0dXJuIGEuZmxleEFsbH1yZXR1cm4gZ31yZXR1cm4gZC5hdXRvU2l6ZVBvbGljeX19LGZ1bmN0aW9uKCl7dmFyIGE9e2FkZFVuZmxleGVkOmZ1bmN0aW9uKGMpe3RoaXMuZmxleFNwYWNlPU1hdGgubWF4KHRoaXMuZmxleFNwYWNlLWMsMCl9fSxiPXRoaXMucHJvdG90eXBlLmF4aXNQcm9wcztFeHQuYXBwbHkoYi5ob3J6LGEpO0V4dC5hcHBseShiLnZlcnQsYSl9KTtFeHQuZGVmaW5lKCJFeHQuc2VsZWN0aW9uLkNlbGxNb2RlbCIse2V4dGVuZDoiRXh0LnNlbGVjdGlvbi5Nb2RlbCIsYWxpYXM6InNlbGVjdGlvbi5jZWxsbW9kZWwiLHJlcXVpcmVzOlsiRXh0LnV0aWwuS2V5TmF2Il0saXNDZWxsTW9kZWw6dHJ1ZSxlbmFibGVLZXlOYXY6dHJ1ZSxwcmV2ZW50V3JhcDpmYWxzZSxub1NlbGVjdGlvbjp7cm93Oi0xLGNvbHVtbjotMX0sY29uc3RydWN0b3I6ZnVuY3Rpb24oKXt0aGlzLmFkZEV2ZW50cygiZGVzZWxlY3QiLCJzZWxlY3QiKTt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sYmluZENvbXBvbmVudDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IucHJpbWFyeVZpZXc9YTtiLnZpZXdzPWIudmlld3N8fFtdO2Iudmlld3MucHVzaChhKTtiLmJpbmRTdG9yZShhLmdldFN0b3JlKCksdHJ1ZSk7YS5vbih7Y2VsbG1vdXNlZG93bjpiLm9uTW91c2VEb3duLHJlZnJlc2g6Yi5vblZpZXdSZWZyZXNoLHNjb3BlOmJ9KTtpZihiLmVuYWJsZUtleU5hdil7Yi5pbml0S2V5TmF2KGEpfX0saW5pdEtleU5hdjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKCFhLnJlbmRlcmVkKXthLm9uKCJyZW5kZXIiLEV4dC5GdW5jdGlvbi5iaW5kKGIuaW5pdEtleU5hdixiLFthXSwwKSxiLHtzaW5nbGU6dHJ1ZX0pO3JldHVybn1hLmVsLnNldCh7dGFiSW5kZXg6LTF9KTtiLmtleU5hdj1uZXcgRXh0LnV0aWwuS2V5TmF2KGEuZWwse3VwOmIub25LZXlVcCxkb3duOmIub25LZXlEb3duLHJpZ2h0OmIub25LZXlSaWdodCxsZWZ0OmIub25LZXlMZWZ0LHRhYjpiLm9uS2V5VGFiLHNjb3BlOmJ9KX0sZ2V0SGVhZGVyQ3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcmltYXJ5Vmlldy5oZWFkZXJDdH0sb25LZXlVcDpmdW5jdGlvbihiLGEpe3RoaXMua2V5TmF2aWdhdGlvbj10cnVlO3RoaXMubW92ZSgidXAiLGIpO3RoaXMua2V5TmF2aWdhdGlvbj1mYWxzZX0sb25LZXlEb3duOmZ1bmN0aW9uKGIsYSl7dGhpcy5rZXlOYXZpZ2F0aW9uPXRydWU7dGhpcy5tb3ZlKCJkb3duIixiKTt0aGlzLmtleU5hdmlnYXRpb249ZmFsc2V9LG9uS2V5TGVmdDpmdW5jdGlvbihiLGEpe3RoaXMua2V5TmF2aWdhdGlvbj10cnVlO3RoaXMubW92ZSgibGVmdCIsYik7dGhpcy5rZXlOYXZpZ2F0aW9uPWZhbHNlfSxvbktleVJpZ2h0OmZ1bmN0aW9uKGIsYSl7dGhpcy5rZXlOYXZpZ2F0aW9uPXRydWU7dGhpcy5tb3ZlKCJyaWdodCIsYik7dGhpcy5rZXlOYXZpZ2F0aW9uPWZhbHNlfSxtb3ZlOmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcyxkPWIucHJpbWFyeVZpZXcud2Fsa0NlbGxzKGIuZ2V0Q3VycmVudFBvc2l0aW9uKCksYSxjLGIucHJldmVudFdyYXApO2lmKGQpe3JldHVybiBiLnNldEN1cnJlbnRQb3NpdGlvbihkKX19LGdldEN1cnJlbnRQb3NpdGlvbjpmdW5jdGlvbigpe3JldHVybiB0aGlzLnNlbGVjdGlvbn0sc2V0Q3VycmVudFBvc2l0aW9uOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7YS5sYXN0U2VsZWN0aW9uPWEuc2VsZWN0aW9uO2lmKGEuc2VsZWN0aW9uKXthLm9uQ2VsbERlc2VsZWN0KGEuc2VsZWN0aW9uKX1pZihiKXthLm5leHRTZWxlY3Rpb249bmV3IGEuU2VsZWN0aW9uKGEpO2EubmV4dFNlbGVjdGlvbi5zZXRQb3NpdGlvbihiKTthLm9uQ2VsbFNlbGVjdChhLm5leHRTZWxlY3Rpb24pO3JldHVybiBhLnNlbGVjdGlvbj1hLm5leHRTZWxlY3Rpb259fSxvblN0b3JlUmVtb3ZlOmZ1bmN0aW9uKGIsYSxjKXt2YXIgZD10aGlzLGU9ZC5nZXRDdXJyZW50UG9zaXRpb24oKTtkLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihlKXtpZihlLnJvdz09Yyl7aWYoYzxiLmdldENvdW50KCktMSl7ZS5zZXRQb3NpdGlvbihjLGUuY29sdW1uKTtkLnNldEN1cnJlbnRQb3NpdGlvbihlKX1lbHNle2RlbGV0ZSBkLnNlbGVjdGlvbn19ZWxzZXtpZihjPGUucm93KXtlLnNldFBvc2l0aW9uKGUucm93LTEsZS5jb2x1bW4pO2Quc2V0Q3VycmVudFBvc2l0aW9uKGUpfX19fSxvbk1vdXNlRG93bjpmdW5jdGlvbihjLGEsZCxiLGgsaSxnKXt0aGlzLnNldEN1cnJlbnRQb3NpdGlvbih7dmlldzpjLHJvdzppLGNvbHVtbjpkfSl9LG9uQ2VsbFNlbGVjdDpmdW5jdGlvbihhLGIpe2lmKGEmJmEucm93IT09dW5kZWZpbmVkKXt0aGlzLmRvU2VsZWN0KHRoaXMudmlldy5nZXRTdG9yZSgpLmdldEF0KGEucm93KSxmYWxzZSxiKX19LG9uQ2VsbERlc2VsZWN0OmZ1bmN0aW9uKGEsYil7aWYoYSYmYS5yb3chPT11bmRlZmluZWQpe3RoaXMuZG9EZXNlbGVjdCh0aGlzLnZpZXcuZ2V0U3RvcmUoKS5nZXRBdChhLnJvdyksYil9fSxvblNlbGVjdENoYW5nZTpmdW5jdGlvbihiLGUsZCxoKXt2YXIgZz10aGlzLGksYyxhPWcucHJpbWFyeVZpZXc7aWYoZSl7aT1nLm5leHRTZWxlY3Rpb247Yz0ic2VsZWN0In1lbHNle2k9Zy5sYXN0U2VsZWN0aW9ufHxnLm5vU2VsZWN0aW9uO2M9ImRlc2VsZWN0In1pZigoZHx8Zy5maXJlRXZlbnQoImJlZm9yZSIrYyxnLGIsaS5yb3csaS5jb2x1bW4pKSE9PWZhbHNlJiZoKCkhPT1mYWxzZSl7aWYoZSl7YS5vbkNlbGxTZWxlY3QoaSk7YS5vbkNlbGxGb2N1cyhpKX1lbHNle2Eub25DZWxsRGVzZWxlY3QoaSk7ZGVsZXRlIGcuc2VsZWN0aW9ufWlmKCFkKXtnLmZpcmVFdmVudChjLGcsYixpLnJvdyxpLmNvbHVtbil9fX0sb25LZXlUYWI6ZnVuY3Rpb24oZCxiKXt2YXIgYz10aGlzLGE9Yy5wcmltYXJ5Vmlldy5lZGl0aW5nUGx1Z2luO2lmKGEmJmMud2FzRWRpdGluZyl7Yy5vbkVkaXRvclRhYihhLGQpfWVsc2V7Yy5tb3ZlKGQuc2hpZnRLZXk/ImxlZnQiOiJyaWdodCIsZCl9fSxvbkVkaXRvclRhYjpmdW5jdGlvbihiLGcpe3ZhciBjPXRoaXMsZD1nLnNoaWZ0S2V5PyJsZWZ0IjoicmlnaHQiLGE9Yy5tb3ZlKGQsZyk7aWYoYSl7aWYoYi5zdGFydEVkaXRCeVBvc2l0aW9uKGEpKXtjLndhc0VkaXRpbmc9ZmFsc2V9ZWxzZXtjLndhc0VkaXRpbmc9dHJ1ZTtpZighYS5jb2x1bW5IZWFkZXIuZGF0YUluZGV4KXtjLm9uRWRpdG9yVGFiKGIsZyl9fX19LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmdldEN1cnJlbnRQb3NpdGlvbigpLGE7aWYoYiYmKGE9dGhpcy5zdG9yZS5pbmRleE9mKHRoaXMuc2VsZWN0ZWQubGFzdCgpKSkhPT0tMSl7Yi5yb3c9YX19LG9uVmlld1JlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGc9Yy5nZXRDdXJyZW50UG9zaXRpb24oKSxiPWMucHJpbWFyeVZpZXcsZT1iLmhlYWRlckN0LGEsZDtpZihnKXthPWcucmVjb3JkO2Q9Zy5jb2x1bW5IZWFkZXI7Yy5vbkNlbGxEZXNlbGVjdChnLHRydWUpO2lmKCFkLmlzRGVzY2VuZGFudE9mKGUpKXtkPWUucXVlcnlCeUlkKGQuaWQpfHxlLmRvd24oJ1t0ZXh0PSInK2QudGV4dCsnIl0nKXx8ZS5kb3duKCdbZGF0YUluZGV4PSInK2QuZGF0YUluZGV4KyciXScpfWlmKGQmJihiLnN0b3JlLmluZGV4T2ZJZChhLmdldElkKCkpIT09LTEpKXsoYy5zZWxlY3Rpb249bmV3IGMuU2VsZWN0aW9uKGMpKS5zZXRQb3NpdGlvbihhLGQpO2Mub25DZWxsU2VsZWN0KGMuc2VsZWN0aW9uLHRydWUpfX19LHNlbGVjdEJ5UG9zaXRpb246ZnVuY3Rpb24oYSl7dGhpcy5zZXRDdXJyZW50UG9zaXRpb24oYSl9fSxmdW5jdGlvbigpe3ZhciBhPXRoaXMucHJvdG90eXBlLlNlbGVjdGlvbj1mdW5jdGlvbihiKXt0aGlzLm1vZGVsPWJ9O2EucHJvdG90eXBlLnNldFBvc2l0aW9uPWZ1bmN0aW9uKGcsZCl7dmFyIGU9dGhpcyxiPWUubW9kZWwucHJpbWFyeVZpZXcsYztpZihhcmd1bWVudHMubGVuZ3RoPT09MSl7aWYoZy52aWV3KXtiPWcudmlld31kPWcuY29sdW1uO2c9Zy5yb3d9Yz1iLnN0b3JlO2lmKHR5cGVvZiBnPT09Im51bWJlciIpe2Uucm93PWc7ZS5yZWNvcmQ9Yy5nZXRBdChnKX1lbHNle2lmKGcuaXNNb2RlbCl7ZS5yZWNvcmQ9ZztlLnJvdz1iLmluZGV4T2YoZyl9ZWxzZXtpZihnLnRhZ05hbWUpe2UucmVjb3JkPWIuZ2V0UmVjb3JkKGcpO2Uucm93PWIuaW5kZXhPZihlLnJlY29yZCl9fX1pZih0eXBlb2YgZD09PSJudW1iZXIiKXtlLmNvbHVtbj1kO2UuY29sdW1uSGVhZGVyPWIuZ2V0SGVhZGVyQXRJbmRleChkKX1lbHNle2UuY29sdW1uSGVhZGVyPWQ7ZS5jb2x1bW49ZC5nZXRJbmRleCgpfXJldHVybiBlfX0pO0V4dC5kZWZpbmUoIkV4dC5zZWxlY3Rpb24uUm93TW9kZWwiLHtleHRlbmQ6IkV4dC5zZWxlY3Rpb24uTW9kZWwiLGFsaWFzOiJzZWxlY3Rpb24ucm93bW9kZWwiLHJlcXVpcmVzOlsiRXh0LnV0aWwuS2V5TmF2Il0sZGVsdGFTY3JvbGw6NSxlbmFibGVLZXlOYXY6dHJ1ZSxpZ25vcmVSaWdodE1vdXNlU2VsZWN0aW9uOmZhbHNlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7dGhpcy5hZGRFdmVudHMoImJlZm9yZWRlc2VsZWN0IiwiYmVmb3Jlc2VsZWN0IiwiZGVzZWxlY3QiLCJzZWxlY3QiKTt0aGlzLnZpZXdzPVtdO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxiaW5kQ29tcG9uZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi52aWV3cz1iLnZpZXdzfHxbXTtiLnZpZXdzLnB1c2goYSk7Yi5iaW5kU3RvcmUoYS5nZXRTdG9yZSgpLHRydWUpO2Eub24oe2l0ZW1tb3VzZWRvd246Yi5vblJvd01vdXNlRG93bixzY29wZTpifSk7aWYoYi5lbmFibGVLZXlOYXYpe2IuaW5pdEtleU5hdihhKX19LGluaXRLZXlOYXY6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztpZighYS5yZW5kZXJlZCl7YS5vbigicmVuZGVyIixFeHQuRnVuY3Rpb24uYmluZChiLmluaXRLZXlOYXYsYixbYV0sMCksYix7c2luZ2xlOnRydWV9KTtyZXR1cm59YS5lbC5zZXQoe3RhYkluZGV4Oi0xfSk7Yi5rZXlOYXY9bmV3IEV4dC51dGlsLktleU5hdih7dGFyZ2V0OmEsZXZlbnROYW1lOiJpdGVta2V5ZG93biIscHJvY2Vzc0V2ZW50OmZ1bmN0aW9uKGQsYyxoLGUsZyl7Zy5yZWNvcmQ9YztnLnJlY29yZEluZGV4PWU7cmV0dXJuIGd9LHVwOmIub25LZXlVcCxkb3duOmIub25LZXlEb3duLHJpZ2h0OmIub25LZXlSaWdodCxsZWZ0OmIub25LZXlMZWZ0LHBhZ2VEb3duOmIub25LZXlQYWdlRG93bixwYWdlVXA6Yi5vbktleVBhZ2VVcCxob21lOmIub25LZXlIb21lLGVuZDpiLm9uS2V5RW5kLHNwYWNlOmIub25LZXlTcGFjZSxzY29wZTpifSl9LGdldFJvd3NWaXNpYmxlOmZ1bmN0aW9uKCl7dmFyIGU9ZmFsc2UsYT10aGlzLnZpZXdzWzBdLGQ9YS5nZXROb2RlKDApLGIsYztpZihkKXtiPUV4dC5mbHkoZCkuZ2V0SGVpZ2h0KCk7Yz1hLmVsLmdldEhlaWdodCgpO2U9TWF0aC5mbG9vcihjL2IpfXJldHVybiBlfSxvbktleUVuZDpmdW5jdGlvbihjKXt2YXIgYj10aGlzLGE9Yi5zdG9yZS5nZXRBdChiLnN0b3JlLmdldENvdW50KCktMSk7aWYoYSl7aWYoYy5zaGlmdEtleSl7Yi5zZWxlY3RSYW5nZShhLGIubGFzdEZvY3VzZWR8fDApO2Iuc2V0TGFzdEZvY3VzZWQoYSl9ZWxzZXtpZihjLmN0cmxLZXkpe2Iuc2V0TGFzdEZvY3VzZWQoYSl9ZWxzZXtiLmRvU2VsZWN0KGEpfX19fSxvbktleUhvbWU6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcyxjPWEuc3RvcmUuZ2V0QXQoMCk7aWYoYyl7aWYoYi5zaGlmdEtleSl7YS5zZWxlY3RSYW5nZShjLGEubGFzdEZvY3VzZWR8fDApO2Euc2V0TGFzdEZvY3VzZWQoYyl9ZWxzZXtpZihiLmN0cmxLZXkpe2Euc2V0TGFzdEZvY3VzZWQoYyl9ZWxzZXthLmRvU2VsZWN0KGMsZmFsc2UpfX19fSxvbktleVBhZ2VVcDpmdW5jdGlvbihnKXt2YXIgZD10aGlzLGg9ZC5nZXRSb3dzVmlzaWJsZSgpLGIsYyxhO2lmKGgpe2I9Zy5yZWNvcmRJbmRleDtjPWItaDtpZihjPDApe2M9MH1hPWQuc3RvcmUuZ2V0QXQoYyk7aWYoZy5zaGlmdEtleSl7ZC5zZWxlY3RSYW5nZShhLGcucmVjb3JkLGcuY3RybEtleSwidXAiKTtkLnNldExhc3RGb2N1c2VkKGEpfWVsc2V7aWYoZy5jdHJsS2V5KXtnLnByZXZlbnREZWZhdWx0KCk7ZC5zZXRMYXN0Rm9jdXNlZChhKX1lbHNle2QuZG9TZWxlY3QoYSl9fX19LG9uS2V5UGFnZURvd246ZnVuY3Rpb24oZyl7dmFyIGM9dGhpcyxoPWMuZ2V0Um93c1Zpc2libGUoKSxhLGQsYjtpZihoKXthPWcucmVjb3JkSW5kZXg7ZD1hK2g7aWYoZD49Yy5zdG9yZS5nZXRDb3VudCgpKXtkPWMuc3RvcmUuZ2V0Q291bnQoKS0xfWI9Yy5zdG9yZS5nZXRBdChkKTtpZihnLnNoaWZ0S2V5KXtjLnNlbGVjdFJhbmdlKGIsZy5yZWNvcmQsZy5jdHJsS2V5LCJkb3duIik7Yy5zZXRMYXN0Rm9jdXNlZChiKX1lbHNle2lmKGcuY3RybEtleSl7Zy5wcmV2ZW50RGVmYXVsdCgpO2Muc2V0TGFzdEZvY3VzZWQoYil9ZWxzZXtjLmRvU2VsZWN0KGIpfX19fSxvbktleVNwYWNlOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT1iLmxhc3RGb2N1c2VkO2lmKGEpe2lmKGIuaXNTZWxlY3RlZChhKSl7Yi5kb0Rlc2VsZWN0KGEsZmFsc2UpfWVsc2V7Yi5kb1NlbGVjdChhLHRydWUpfX19LG9uS2V5VXA6ZnVuY3Rpb24oZCl7dmFyIGM9dGhpcyxhPWMuc3RvcmUuaW5kZXhPZihjLmxhc3RGb2N1c2VkKSxiO2lmKGE+MCl7Yj1jLnN0b3JlLmdldEF0KGEtMSk7aWYoZC5zaGlmdEtleSYmYy5sYXN0Rm9jdXNlZCl7aWYoYy5pc1NlbGVjdGVkKGMubGFzdEZvY3VzZWQpJiZjLmlzU2VsZWN0ZWQoYikpe2MuZG9EZXNlbGVjdChjLmxhc3RGb2N1c2VkLHRydWUpO2Muc2V0TGFzdEZvY3VzZWQoYil9ZWxzZXtpZighYy5pc1NlbGVjdGVkKGMubGFzdEZvY3VzZWQpKXtjLmRvU2VsZWN0KGMubGFzdEZvY3VzZWQsdHJ1ZSk7Yy5kb1NlbGVjdChiLHRydWUpfWVsc2V7Yy5kb1NlbGVjdChiLHRydWUpfX19ZWxzZXtpZihkLmN0cmxLZXkpe2Muc2V0TGFzdEZvY3VzZWQoYil9ZWxzZXtjLmRvU2VsZWN0KGIpfX19fSxvbktleURvd246ZnVuY3Rpb24oZCl7dmFyIGM9dGhpcyxhPWMuc3RvcmUuaW5kZXhPZihjLmxhc3RGb2N1c2VkKSxiO2lmKGErMTxjLnN0b3JlLmdldENvdW50KCkpe2I9Yy5zdG9yZS5nZXRBdChhKzEpO2lmKGMuc2VsZWN0ZWQuZ2V0Q291bnQoKT09PTApe2lmKCFkLmN0cmxLZXkpe2MuZG9TZWxlY3QoYil9ZWxzZXtjLnNldExhc3RGb2N1c2VkKGIpfX1lbHNle2lmKGQuc2hpZnRLZXkmJmMubGFzdEZvY3VzZWQpe2lmKGMuaXNTZWxlY3RlZChjLmxhc3RGb2N1c2VkKSYmYy5pc1NlbGVjdGVkKGIpKXtjLmRvRGVzZWxlY3QoYy5sYXN0Rm9jdXNlZCx0cnVlKTtjLnNldExhc3RGb2N1c2VkKGIpfWVsc2V7aWYoIWMuaXNTZWxlY3RlZChjLmxhc3RGb2N1c2VkKSl7Yy5kb1NlbGVjdChjLmxhc3RGb2N1c2VkLHRydWUpO2MuZG9TZWxlY3QoYix0cnVlKX1lbHNle2MuZG9TZWxlY3QoYix0cnVlKX19fWVsc2V7aWYoZC5jdHJsS2V5KXtjLnNldExhc3RGb2N1c2VkKGIpfWVsc2V7Yy5kb1NlbGVjdChiKX19fX19LHNjcm9sbEJ5RGVsdGFYOmZ1bmN0aW9uKGQpe3ZhciBhPXRoaXMudmlld3NbMF0sYz1hLnVwKCksYj1jLmhvcml6b250YWxTY3JvbGxlcjtpZihiKXtiLnNjcm9sbEJ5RGVsdGFYKGQpfX0sb25LZXlMZWZ0OmZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsQnlEZWx0YVgoLXRoaXMuZGVsdGFTY3JvbGwpfSxvbktleVJpZ2h0OmZ1bmN0aW9uKGEpe3RoaXMuc2Nyb2xsQnlEZWx0YVgodGhpcy5kZWx0YVNjcm9sbCl9LG9uUm93TW91c2VEb3duOmZ1bmN0aW9uKGIsYSxkLGMsZyl7aWYoIXRoaXMuYWxsb3dSaWdodE1vdXNlU2VsZWN0aW9uKGcpKXtyZXR1cm59aWYoZy5idXR0b249PT0wfHwhdGhpcy5pc1NlbGVjdGVkKGEpKXt0aGlzLnNlbGVjdFdpdGhFdmVudChhLGcpfX0sYWxsb3dSaWdodE1vdXNlU2VsZWN0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaWdub3JlUmlnaHRNb3VzZVNlbGVjdGlvbiYmYS5idXR0b24hPT0wO2lmKGIpe2I9dGhpcy5oYXNTZWxlY3Rpb24oKX1yZXR1cm4gIWJ9LG9uU2VsZWN0Q2hhbmdlOmZ1bmN0aW9uKGcsYyxsLGEpe3ZhciBqPXRoaXMsbT1qLnZpZXdzLGQ9bS5sZW5ndGgsaz1qLnN0b3JlLGI9ay5pbmRleE9mKGcpLGg9Yz8ic2VsZWN0IjoiZGVzZWxlY3QiLGU9MDtpZigobHx8ai5maXJlRXZlbnQoImJlZm9yZSIraCxqLGcsYikpIT09ZmFsc2UmJmEoKSE9PWZhbHNlKXtmb3IoO2U8ZDtlKyspe2lmKGMpe21bZV0ub25Sb3dTZWxlY3QoYixsKX1lbHNle21bZV0ub25Sb3dEZXNlbGVjdChiLGwpfX1pZighbCl7ai5maXJlRXZlbnQoaCxqLGcsYil9fX0sb25MYXN0Rm9jdXNDaGFuZ2VkOmZ1bmN0aW9uKGosZCxiKXt2YXIgYT10aGlzLnZpZXdzLGg9YS5sZW5ndGgsYz10aGlzLnN0b3JlLGcsZT0wO2lmKGope2c9Yy5pbmRleE9mKGopO2lmKGchPS0xKXtmb3IoO2U8aDtlKyspe2FbZV0ub25Sb3dGb2N1cyhnLGZhbHNlKX19fWlmKGQpe2c9Yy5pbmRleE9mKGQpO2lmKGchPS0xKXtmb3IoZT0wO2U8aDtlKyspe2FbZV0ub25Sb3dGb2N1cyhnLHRydWUsYil9fX10aGlzLmNhbGxQYXJlbnQoKX0sb25FZGl0b3JUYWI6ZnVuY3Rpb24oZCxpKXt2YXIgZz10aGlzLGM9Zy52aWV3c1swXSxiPWQuZ2V0QWN0aXZlUmVjb3JkKCksaj1kLmdldEFjdGl2ZUNvbHVtbigpLGE9Yy5nZXRQb3NpdGlvbihiLGopLGg9aS5zaGlmdEtleT8ibGVmdCI6InJpZ2h0Ijtkb3thPWMud2Fsa0NlbGxzKGEsaCxpLGcucHJldmVudFdyYXApfXdoaWxlKGEmJiFjLmhlYWRlckN0LmdldEhlYWRlckF0SW5kZXgoYS5jb2x1bW4pLmdldEVkaXRvcigpKTtpZihhKXtkLnN0YXJ0RWRpdEJ5UG9zaXRpb24oYSl9fSxzZWxlY3RCeVBvc2l0aW9uOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuc3RvcmUuZ2V0QXQoYS5yb3cpO3RoaXMuc2VsZWN0KGIpfSxzZWxlY3ROZXh0OmZ1bmN0aW9uKGgsYyl7dmFyIGc9dGhpcyxiPWcuc3RvcmUsZT1nLmdldFNlbGVjdGlvbigpLGE9ZVtlLmxlbmd0aC0xXSxkPWIuaW5kZXhPZihhKSsxLGk7aWYoZD09PWIuZ2V0Q291bnQoKXx8ZD09PTApe2k9ZmFsc2V9ZWxzZXtnLmRvU2VsZWN0KGQsaCxjKTtpPXRydWV9cmV0dXJuIGl9LHNlbGVjdFByZXZpb3VzOmZ1bmN0aW9uKGcsYil7dmFyIGU9dGhpcyxkPWUuZ2V0U2VsZWN0aW9uKCksYT1kWzBdLGM9ZS5zdG9yZS5pbmRleE9mKGEpLTEsaDtpZihjPDApe2g9ZmFsc2V9ZWxzZXtlLmRvU2VsZWN0KGMsZyxiKTtoPXRydWV9cmV0dXJuIGh9fSk7RXh0LmRlZmluZSgiRXh0LnNlbGVjdGlvbi5DaGVja2JveE1vZGVsIix7YWxpYXM6InNlbGVjdGlvbi5jaGVja2JveG1vZGVsIixleHRlbmQ6IkV4dC5zZWxlY3Rpb24uUm93TW9kZWwiLG1vZGU6Ik1VTFRJIixpbmplY3RDaGVja2JveDowLGNoZWNrT25seTpmYWxzZSxzaG93SGVhZGVyQ2hlY2tib3g6dHJ1ZSxoZWFkZXJXaWR0aDoyNCxjaGVja2VyT25DbHM6RXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtaGQtY2hlY2tlci1vbiIsYmluZENvbXBvbmVudDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2Iuc29ydGFibGU9ZmFsc2U7Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoIWIuaGFzTG9ja2VkSGVhZGVyKCl8fGEuaGVhZGVyQ3QubG9ja2VkQ3Qpe2lmKGIuc2hvd0hlYWRlckNoZWNrYm94IT09ZmFsc2Upe2EuaGVhZGVyQ3Qub24oImhlYWRlcmNsaWNrIixiLm9uSGVhZGVyQ2xpY2ssYil9Yi5hZGRDaGVja2JveCh0cnVlKTtiLm1vbihhLm93bmVyQ3QsInJlY29uZmlndXJlIixiLm9uUmVjb25maWd1cmUsYil9fSxoYXNMb2NrZWRIZWFkZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnZpZXdzLGM9YS5sZW5ndGgsYjtmb3IoYj0wO2I8YztiKyspe2lmKGFbYl0uaGVhZGVyQ3QubG9ja2VkQ3Qpe3JldHVybiB0cnVlfX1yZXR1cm4gZmFsc2V9LGFkZENoZWNrYm94OmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsZD1jLmluamVjdENoZWNrYm94LGE9Yy52aWV3c1swXSxlPWEuaGVhZGVyQ3Q7aWYoZCE9PWZhbHNlKXtpZihkPT0iZmlyc3QiKXtkPTB9ZWxzZXtpZihkPT0ibGFzdCIpe2Q9ZS5nZXRDb2x1bW5Db3VudCgpfX1FeHQuc3VzcGVuZExheW91dHMoKTtlLmFkZChkLGMuZ2V0SGVhZGVyQ29uZmlnKCkpO0V4dC5yZXN1bWVMYXlvdXRzKCl9aWYoYiE9PXRydWUpe2EucmVmcmVzaCgpfX0sb25SZWNvbmZpZ3VyZTpmdW5jdGlvbihjLGEsYil7aWYoYil7dGhpcy5hZGRDaGVja2JveCgpfX0sdG9nZ2xlVWlIZWFkZXI6ZnVuY3Rpb24oZCl7dmFyIGE9dGhpcy52aWV3c1swXSxjPWEuaGVhZGVyQ3QsYj1jLmNoaWxkKCJncmlkY29sdW1uW2lzQ2hlY2tlckhkXSIpO2lmKGIpe2lmKGQpe2IuZWwuYWRkQ2xzKHRoaXMuY2hlY2tlck9uQ2xzKX1lbHNle2IuZWwucmVtb3ZlQ2xzKHRoaXMuY2hlY2tlck9uQ2xzKX19fSxvbkhlYWRlckNsaWNrOmZ1bmN0aW9uKGMsZyxiKXtpZihnLmlzQ2hlY2tlckhkKXtiLnN0b3BFdmVudCgpO3ZhciBhPXRoaXMsZD1nLmVsLmhhc0NscyhFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1oZC1jaGVja2VyLW9uIik7YS5wcmV2ZW50Rm9jdXM9dHJ1ZTtpZihkKXthLmRlc2VsZWN0QWxsKCl9ZWxzZXthLnNlbGVjdEFsbCgpfWRlbGV0ZSBhLnByZXZlbnRGb2N1c319LGdldEhlYWRlckNvbmZpZzpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLnNob3dIZWFkZXJDaGVja2JveCE9PWZhbHNlO3JldHVybntpc0NoZWNrZXJIZDpiLHRleHQ6IiYjMTYwOyIsd2lkdGg6YS5oZWFkZXJXaWR0aCxzb3J0YWJsZTpmYWxzZSxkcmFnZ2FibGU6ZmFsc2UscmVzaXphYmxlOmZhbHNlLGhpZGVhYmxlOmZhbHNlLG1lbnVEaXNhYmxlZDp0cnVlLGRhdGFJbmRleDoiIixjbHM6Yj9FeHQuYmFzZUNTU1ByZWZpeCsiY29sdW1uLWhlYWRlci1jaGVja2JveCAiOiIiLHJlbmRlcmVyOkV4dC5GdW5jdGlvbi5iaW5kKGEucmVuZGVyZXIsYSksZWRpdFJlbmRlcmVyOmEuZWRpdFJlbmRlcmVyfHxhLnJlbmRlckVtcHR5LGxvY2tlZDphLmhhc0xvY2tlZEhlYWRlcigpfX0scmVuZGVyRW1wdHk6ZnVuY3Rpb24oKXtyZXR1cm4iJiMxNjA7In0scmVuZGVyZXI6ZnVuY3Rpb24oaCxjLGIsaSxlLGQsYSl7dmFyIGc9RXh0LmJhc2VDU1NQcmVmaXg7Yy50ZENscz1nKyJncmlkLWNlbGwtc3BlY2lhbCAiK2crImdyaWQtY2VsbC1yb3ctY2hlY2tlciI7cmV0dXJuJzxkaXYgY2xhc3M9IicrZysnZ3JpZC1yb3ctY2hlY2tlciI+JiMxNjA7PC9kaXY+J30sb25Sb3dNb3VzZURvd246ZnVuY3Rpb24oYixhLGgsZCxpKXtiLmVsLmZvY3VzKCk7dmFyIGc9dGhpcyxjPWkuZ2V0VGFyZ2V0KCIuIitFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1yb3ctY2hlY2tlciIpLGo7aWYoIWcuYWxsb3dSaWdodE1vdXNlU2VsZWN0aW9uKGkpKXtyZXR1cm59aWYoZy5jaGVja09ubHkmJiFjKXtyZXR1cm59aWYoYyl7aj1nLmdldFNlbGVjdGlvbk1vZGUoKTtpZihqIT09IlNJTkdMRSIpe2cuc2V0U2VsZWN0aW9uTW9kZSgiU0lNUExFIil9Zy5zZWxlY3RXaXRoRXZlbnQoYSxpKTtnLnNldFNlbGVjdGlvbk1vZGUoail9ZWxzZXtnLnNlbGVjdFdpdGhFdmVudChhLGkpfX0sb25TZWxlY3RDaGFuZ2U6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt2YXIgYT10aGlzLnNlbGVjdGVkLmdldENvdW50KCk9PT10aGlzLnN0b3JlLmdldENvdW50KCk7dGhpcy50b2dnbGVVaUhlYWRlcihhKX19KTtFeHQuZGVmaW5lKCJFeHQuc2VsZWN0aW9uLlRyZWVNb2RlbCIse2V4dGVuZDoiRXh0LnNlbGVjdGlvbi5Sb3dNb2RlbCIsYWxpYXM6InNlbGVjdGlvbi50cmVlbW9kZWwiLHBydW5lUmVtb3ZlZDpmYWxzZSxvbktleVJpZ2h0OmZ1bmN0aW9uKGQsYil7dmFyIGM9dGhpcy5nZXRMYXN0Rm9jdXNlZCgpLGE9dGhpcy52aWV3O2lmKGMpe2lmKGMuaXNFeHBhbmRlZCgpKXt0aGlzLm9uS2V5RG93bihkLGIpfWVsc2V7aWYoIWMuaXNMZWFmKCkpe2EuZXhwYW5kKGMpfX19fSxvbktleUxlZnQ6ZnVuY3Rpb24oaSxkKXt2YXIgaD10aGlzLmdldExhc3RGb2N1c2VkKCksYz10aGlzLnZpZXcsYj1jLmdldFNlbGVjdGlvbk1vZGVsKCksYSxnO2lmKGgpe2E9aC5wYXJlbnROb2RlO2lmKGguaXNFeHBhbmRlZCgpKXtjLmNvbGxhcHNlKGgpfWVsc2V7aWYoYSYmIWEuaXNSb290KCkpe2lmKGkuc2hpZnRLZXkpe2Iuc2VsZWN0UmFuZ2UoYSxoLGkuY3RybEtleSwidXAiKTtiLnNldExhc3RGb2N1c2VkKGEpfWVsc2V7aWYoaS5jdHJsS2V5KXtiLnNldExhc3RGb2N1c2VkKGEpfWVsc2V7Yi5zZWxlY3QoYSl9fX19fX0sb25LZXlQcmVzczpmdW5jdGlvbihnLGIpe3ZhciBhPWcuZ2V0S2V5KCksYyxkO2lmKGE9PT1nLlNQQUNFfHxhPT09Zy5FTlRFUil7Zy5zdG9wRXZlbnQoKTtjPXRoaXMuZ2V0TGFzdFNlbGVjdGVkKCk7aWYoYyl7dGhpcy52aWV3Lm9uQ2hlY2tDaGFuZ2UoYyl9fWVsc2V7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9fX0pO0V4dC5kZWZpbmUoIkV4dC50YWIuVGFiIix7ZXh0ZW5kOiJFeHQuYnV0dG9uLkJ1dHRvbiIsYWxpYXM6IndpZGdldC50YWIiLHJlcXVpcmVzOlsiRXh0LmxheW91dC5jb21wb25lbnQuVGFiIiwiRXh0LnV0aWwuS2V5TmF2Il0sY29tcG9uZW50TGF5b3V0OiJ0YWIiLGlzVGFiOnRydWUsYmFzZUNsczpFeHQuYmFzZUNTU1ByZWZpeCsidGFiIixhY3RpdmVDbHM6ImFjdGl2ZSIsY2xvc2FibGVDbHM6ImNsb3NhYmxlIixjbG9zYWJsZTp0cnVlLGNsb3NlVGV4dDoiQ2xvc2UgVGFiIixhY3RpdmU6ZmFsc2UsY2hpbGRFbHM6WyJjbG9zZUVsIl0sc2NhbGU6ZmFsc2UscG9zaXRpb246InRvcCIsaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5hZGRFdmVudHMoImFjdGl2YXRlIiwiZGVhY3RpdmF0ZSIsImJlZm9yZWNsb3NlIiwiY2xvc2UiKTthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihhLmNhcmQpe2Euc2V0Q2FyZChhLmNhcmQpfX0sZ2V0VGVtcGxhdGVBcmdzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuY2FsbFBhcmVudCgpO2EuY2xvc2FibGU9Yi5jbG9zYWJsZTthLmNsb3NlVGV4dD1iLmNsb3NlVGV4dDtyZXR1cm4gYX0sYmVmb3JlUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIudXAoInRhYmJhciIpLGM9Yi51cCgidGFicGFuZWwiKTtiLmNhbGxQYXJlbnQoKTtiLmFkZENsc1dpdGhVSShiLnBvc2l0aW9uKTtiLnN5bmNDbG9zYWJsZVVJKCk7aWYoIWIubWluV2lkdGgpe2IubWluV2lkdGg9KGEpP2EubWluVGFiV2lkdGg6Yi5taW5XaWR0aDtpZighYi5taW5XaWR0aCYmYyl7Yi5taW5XaWR0aD1jLm1pblRhYldpZHRofWlmKGIubWluV2lkdGgmJmIuaWNvbkNscyl7Yi5taW5XaWR0aCs9MjV9fWlmKCFiLm1heFdpZHRoKXtiLm1heFdpZHRoPShhKT9hLm1heFRhYldpZHRoOmIubWF4V2lkdGg7aWYoIWIubWF4V2lkdGgmJmMpe2IubWF4V2lkdGg9Yy5tYXhUYWJXaWR0aH19fSxvblJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5rZXlOYXY9bmV3IEV4dC51dGlsLktleU5hdihhLmVsLHtlbnRlcjphLm9uRW50ZXJLZXksZGVsOmEub25EZWxldGVLZXksc2NvcGU6YX0pfSxlbmFibGU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtiLnJlbW92ZUNsc1dpdGhVSShiLnBvc2l0aW9uKyItZGlzYWJsZWQiKTtyZXR1cm4gYn0sZGlzYWJsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IuY2FsbFBhcmVudChhcmd1bWVudHMpO2IuYWRkQ2xzV2l0aFVJKGIucG9zaXRpb24rIi1kaXNhYmxlZCIpO3JldHVybiBifSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO0V4dC5kZXN0cm95KGEua2V5TmF2KTtkZWxldGUgYS5rZXlOYXY7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LHNldENsb3NhYmxlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7YT0oIWFyZ3VtZW50cy5sZW5ndGh8fCEhYSk7aWYoYi5jbG9zYWJsZSE9YSl7Yi5jbG9zYWJsZT1hO2lmKGIuY2FyZCl7Yi5jYXJkLmNsb3NhYmxlPWF9Yi5zeW5jQ2xvc2FibGVVSSgpO2lmKGIucmVuZGVyZWQpe2Iuc3luY0Nsb3NhYmxlRWxlbWVudHMoKTtiLnVwZGF0ZUxheW91dCgpfX19LHN5bmNDbG9zYWJsZUVsZW1lbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY2xvc2VFbDtpZihhLmNsb3NhYmxlKXtpZighYil7YS5jbG9zZUVsPWEuYnRuV3JhcC5pbnNlcnRTaWJsaW5nKHt0YWc6ImEiLGNsczphLmJhc2VDbHMrIi1jbG9zZS1idG4iLGhyZWY6IiMiLHRpdGxlOmEuY2xvc2VUZXh0fSwiYWZ0ZXIiKX19ZWxzZXtpZihiKXtiLnJlbW92ZSgpO2RlbGV0ZSBhLmNsb3NlRWx9fX0sc3luY0Nsb3NhYmxlVUk6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9W2IuY2xvc2FibGVDbHMsYi5jbG9zYWJsZUNscysiLSIrYi5wb3NpdGlvbl07aWYoYi5jbG9zYWJsZSl7Yi5hZGRDbHNXaXRoVUkoYSl9ZWxzZXtiLnJlbW92ZUNsc1dpdGhVSShhKX19LHNldENhcmQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLmNhcmQ9YTtiLnNldFRleHQoYi50aXRsZXx8YS50aXRsZSk7Yi5zZXRJY29uQ2xzKGIuaWNvbkNsc3x8YS5pY29uQ2xzKTtiLnNldEljb24oYi5pY29ufHxhLmljb24pfSxvbkNsb3NlQ2xpY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuZmlyZUV2ZW50KCJiZWZvcmVjbG9zZSIsYSkhPT1mYWxzZSl7aWYoYS50YWJCYXIpe2lmKGEudGFiQmFyLmNsb3NlVGFiKGEpPT09ZmFsc2Upe3JldHVybn19ZWxzZXthLmZpcmVDbG9zZSgpfX19LGZpcmVDbG9zZTpmdW5jdGlvbigpe3RoaXMuZmlyZUV2ZW50KCJjbG9zZSIsdGhpcyl9LG9uRW50ZXJLZXk6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZihhLnRhYkJhcil7YS50YWJCYXIub25DbGljayhiLGEuZWwpfX0sb25EZWxldGVLZXk6ZnVuY3Rpb24oYSl7aWYodGhpcy5jbG9zYWJsZSl7dGhpcy5vbkNsb3NlQ2xpY2soKX19LGFjdGl2YXRlOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7YS5hY3RpdmU9dHJ1ZTthLmFkZENsc1dpdGhVSShbYS5hY3RpdmVDbHMsYS5wb3NpdGlvbisiLSIrYS5hY3RpdmVDbHNdKTtpZihiIT09dHJ1ZSl7YS5maXJlRXZlbnQoImFjdGl2YXRlIixhKX19LGRlYWN0aXZhdGU6ZnVuY3Rpb24oYil7dmFyIGE9dGhpczthLmFjdGl2ZT1mYWxzZTthLnJlbW92ZUNsc1dpdGhVSShbYS5hY3RpdmVDbHMsYS5wb3NpdGlvbisiLSIrYS5hY3RpdmVDbHNdKTtpZihiIT09dHJ1ZSl7YS5maXJlRXZlbnQoImRlYWN0aXZhdGUiLGEpfX19KTtFeHQuZGVmaW5lKCJFeHQudGFiLkJhciIse2V4dGVuZDoiRXh0LnBhbmVsLkhlYWRlciIsYWxpYXM6IndpZGdldC50YWJiYXIiLGJhc2VDbHM6RXh0LmJhc2VDU1NQcmVmaXgrInRhYi1iYXIiLHJlcXVpcmVzOlsiRXh0LnRhYi5UYWIiXSxpc1RhYkJhcjp0cnVlLGRlZmF1bHRUeXBlOiJ0YWIiLHBsYWluOmZhbHNlLGNoaWxkRWxzOlsiYm9keSIsInN0cmlwIl0scmVuZGVyVHBsOlsnPGRpdiBpZD0ie2lkfS1ib2R5IiBjbGFzcz0ie2Jhc2VDbHN9LWJvZHkge2JvZHlDbHN9PHRwbCBpZj0idWkiPiB7YmFzZUNsc30tYm9keS17dWl9PHRwbCBmb3I9InVpQ2xzIj4ge3BhcmVudC5iYXNlQ2xzfS1ib2R5LXtwYXJlbnQudWl9LXsufTwvdHBsPjwvdHBsPiI8dHBsIGlmPSJib2R5U3R5bGUiPiBzdHlsZT0ie2JvZHlTdHlsZX0iPC90cGw+PicsInsldGhpcy5yZW5kZXJDb250YWluZXIob3V0LHZhbHVlcyklfSIsIjwvZGl2PiIsJzxkaXYgaWQ9IntpZH0tc3RyaXAiIGNsYXNzPSJ7YmFzZUNsc30tc3RyaXA8dHBsIGlmPSJ1aSI+IHtiYXNlQ2xzfS1zdHJpcC17dWl9PHRwbCBmb3I9InVpQ2xzIj4ge3BhcmVudC5iYXNlQ2xzfS1zdHJpcC17cGFyZW50LnVpfS17Ln08L3RwbD48L3RwbD4iPjwvZGl2PiddLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEucGxhaW4pe2Euc2V0VUkoYS51aSsiLXBsYWluIil9YS5hZGRDbHNXaXRoVUkoYS5kb2NrKTthLmFkZEV2ZW50cygiY2hhbmdlIik7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5sYXlvdXQuYWxpZ249KGEub3JpZW50YXRpb249PSJ2ZXJ0aWNhbCIpPyJsZWZ0IjoidG9wIjthLmxheW91dC5vdmVyZmxvd0hhbmRsZXI9bmV3IEV4dC5sYXlvdXQuY29udGFpbmVyLmJveE92ZXJmbG93LlNjcm9sbGVyKGEubGF5b3V0KTthLnJlbW92ZShhLnRpdGxlQ21wKTtkZWxldGUgYS50aXRsZUNtcDtFeHQuYXBwbHkoYS5yZW5kZXJEYXRhLHtib2R5Q2xzOmEuYm9keUNsc30pfSxnZXRMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EubGF5b3V0LnR5cGU9KGEuZG9jaz09PSJ0b3AifHxhLmRvY2s9PT0iYm90dG9tIik/Imhib3giOiJ2Ym94IjtyZXR1cm4gYS5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LG9uQWRkOmZ1bmN0aW9uKGEpe2EucG9zaXRpb249dGhpcy5kb2NrO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxvblJlbW92ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKGE9PT1iLnByZXZpb3VzVGFiKXtiLnByZXZpb3VzVGFiPW51bGx9Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGFmdGVyQ29tcG9uZW50TGF5b3V0OmZ1bmN0aW9uKGEpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3RoaXMuc3RyaXAuc2V0V2lkdGgoYSl9LG9uQ2xpY2s6ZnVuY3Rpb24oZyxkKXt2YXIgYz10aGlzLGk9Zy5nZXRUYXJnZXQoIi4iK0V4dC50YWIuVGFiLnByb3RvdHlwZS5iYXNlQ2xzKSxiPWkmJkV4dC5nZXRDbXAoaS5pZCksaD1jLnRhYlBhbmVsLGE9YiYmYi5jbG9zZUVsJiYoZD09PWIuY2xvc2VFbC5kb20pO2lmKGEpe2cucHJldmVudERlZmF1bHQoKX1pZihiJiZiLmlzRGlzYWJsZWQmJiFiLmlzRGlzYWJsZWQoKSl7aWYoYi5jbG9zYWJsZSYmYSl7Yi5vbkNsb3NlQ2xpY2soKX1lbHNle2lmKGgpe2guc2V0QWN0aXZlVGFiKGIuY2FyZCl9ZWxzZXtjLnNldEFjdGl2ZVRhYihiKX1iLmZvY3VzKCl9fX0sY2xvc2VUYWI6ZnVuY3Rpb24oYyl7dmFyIGQ9dGhpcyxiPWMuY2FyZCxlPWQudGFiUGFuZWwsYTtpZihiJiZiLmZpcmVFdmVudCgiYmVmb3JlY2xvc2UiLGIpPT09ZmFsc2Upe3JldHVybiBmYWxzZX1hPWQuZmluZE5leHRBY3RpdmF0YWJsZShjKTtFeHQuc3VzcGVuZExheW91dHMoKTtpZihlJiZiKXtkZWxldGUgYy5vd25lckN0O2IuZmlyZUV2ZW50KCJjbG9zZSIsYik7ZS5yZW1vdmUoYik7aWYoIWUuZ2V0Q29tcG9uZW50KGIpKXtjLmZpcmVDbG9zZSgpO2QucmVtb3ZlKGMpfWVsc2V7Yy5vd25lckN0PWQ7RXh0LnJlc3VtZUxheW91dHModHJ1ZSk7cmV0dXJuIGZhbHNlfX1pZihhKXtpZihlKXtlLnNldEFjdGl2ZVRhYihhLmNhcmQpfWVsc2V7ZC5zZXRBY3RpdmVUYWIoYSl9YS5mb2N1cygpfUV4dC5yZXN1bWVMYXlvdXRzKHRydWUpfSxmaW5kTmV4dEFjdGl2YXRhYmxlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoYS5hY3RpdmUmJmIuaXRlbXMuZ2V0Q291bnQoKT4xKXtyZXR1cm4oYi5wcmV2aW91c1RhYiYmYi5wcmV2aW91c1RhYiE9PWEmJiFiLnByZXZpb3VzVGFiLmRpc2FibGVkKT9iLnByZXZpb3VzVGFiOihhLm5leHQoInRhYltkaXNhYmxlZD1mYWxzZV0iKXx8YS5wcmV2KCJ0YWJbZGlzYWJsZWQ9ZmFsc2VdIikpfX0sc2V0QWN0aXZlVGFiOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoIWEuZGlzYWJsZWQmJmEhPT1iLmFjdGl2ZVRhYil7aWYoYi5hY3RpdmVUYWIpe2lmKGIuYWN0aXZlVGFiLmlzRGVzdHJveWVkKXtiLnByZXZpb3VzVGFiPW51bGx9ZWxzZXtiLnByZXZpb3VzVGFiPWIuYWN0aXZlVGFiO2IuYWN0aXZlVGFiLmRlYWN0aXZhdGUoKX19YS5hY3RpdmF0ZSgpO2IuYWN0aXZlVGFiPWE7Yi5maXJlRXZlbnQoImNoYW5nZSIsYixhLGEuY2FyZCk7Yi5vbih7YWZ0ZXJsYXlvdXQ6Yi5hZnRlclRhYkFjdGl2YXRlLHNjb3BlOmIsc2luZ2xlOnRydWV9KTtiLnVwZGF0ZUxheW91dCgpfX0sYWZ0ZXJUYWJBY3RpdmF0ZTpmdW5jdGlvbigpe3RoaXMubGF5b3V0Lm92ZXJmbG93SGFuZGxlci5zY3JvbGxUb0l0ZW0odGhpcy5hY3RpdmVUYWIpfX0pO0V4dC5kZWZpbmUoIkV4dC50b29sYmFyLkZpbGwiLHtleHRlbmQ6IkV4dC5Db21wb25lbnQiLGFsaWFzOiJ3aWRnZXQudGJmaWxsIixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5Ub29sYmFyLkZpbGwiLGlzRmlsbDp0cnVlLGZsZXg6MX0pO0V4dC5kZWZpbmUoIkV4dC50b29sYmFyLkl0ZW0iLHtleHRlbmQ6IkV4dC5Db21wb25lbnQiLGFsaWFzOiJ3aWRnZXQudGJpdGVtIixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5Ub29sYmFyLkl0ZW0iLGVuYWJsZTpFeHQuZW1wdHlGbixkaXNhYmxlOkV4dC5lbXB0eUZuLGZvY3VzOkV4dC5lbXB0eUZufSk7RXh0LmRlZmluZSgiRXh0LnRvb2xiYXIuU2VwYXJhdG9yIix7ZXh0ZW5kOiJFeHQudG9vbGJhci5JdGVtIixhbGlhczoid2lkZ2V0LnRic2VwYXJhdG9yIixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5Ub29sYmFyLlNlcGFyYXRvciIsYmFzZUNsczpFeHQuYmFzZUNTU1ByZWZpeCsidG9vbGJhci1zZXBhcmF0b3IiLGZvY3VzYWJsZTpmYWxzZX0pO0V4dC5kZWZpbmUoIkV4dC5sYXlvdXQuY29udGFpbmVyLmJveE92ZXJmbG93Lk1lbnUiLHtleHRlbmQ6IkV4dC5sYXlvdXQuY29udGFpbmVyLmJveE92ZXJmbG93Lk5vbmUiLHJlcXVpcmVzOlsiRXh0LnRvb2xiYXIuU2VwYXJhdG9yIiwiRXh0LmJ1dHRvbi5CdXR0b24iXSxhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5sYXlvdXQuYm94T3ZlcmZsb3cuTWVudSIsbm9JdGVtc01lbnVUZXh0Oic8ZGl2IGNsYXNzPSInK0V4dC5iYXNlQ1NTUHJlZml4Kyd0b29sYmFyLW5vLWl0ZW1zIj4oTm9uZSk8L2Rpdj4nLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS50cmlnZ2VyQnV0dG9uQ2xzPWEudHJpZ2dlckJ1dHRvbkNsc3x8RXh0LmJhc2VDU1NQcmVmaXgrImJveC1tZW51LSIrYi5nZXROYW1lcygpLnJpZ2h0O2EubWVudUl0ZW1zPVtdfSxiZWdpbkxheW91dDpmdW5jdGlvbihhKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLmNsZWFyT3ZlcmZsb3coYSl9LGJlZ2luTGF5b3V0Q3ljbGU6ZnVuY3Rpb24oYixhKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZighYSl7dGhpcy5jbGVhck92ZXJmbG93KGIpO3RoaXMubGF5b3V0LmNhY2hlQ2hpbGRJdGVtcyhiKX19LG9uUmVtb3ZlOmZ1bmN0aW9uKGEpe0V4dC5BcnJheS5yZW1vdmUodGhpcy5tZW51SXRlbXMsYSl9LGdldFN1ZmZpeENvbmZpZzpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj1jLmxheW91dCxhPWIub3duZXIuaWQ7Yy5tZW51PW5ldyBFeHQubWVudS5NZW51KHtsaXN0ZW5lcnM6e3Njb3BlOmMsYmVmb3Jlc2hvdzpjLmJlZm9yZU1lbnVTaG93fX0pO2MubWVudVRyaWdnZXI9bmV3IEV4dC5idXR0b24uQnV0dG9uKHtpZDphKyItbWVudS10cmlnZ2VyIixjbHM6RXh0LmxheW91dC5jb250YWluZXIuQm94LnByb3RvdHlwZS5pbm5lckNscysiICIrYy50cmlnZ2VyQnV0dG9uQ2xzLGhpZGRlbjp0cnVlLG93bmVyQ3Q6Yi5vd25lcixvd25lckxheW91dDpiLGljb25DbHM6RXh0LmJhc2VDU1NQcmVmaXgrYy5nZXRPd25lclR5cGUoYi5vd25lcikrIi1tb3JlLWljb24iLHVpOmIub3duZXIgaW5zdGFuY2VvZiBFeHQudG9vbGJhci5Ub29sYmFyPyJkZWZhdWx0LXRvb2xiYXIiOiJkZWZhdWx0IixtZW51OmMubWVudSxnZXRTcGxpdENsczpmdW5jdGlvbigpe3JldHVybiIifX0pO3JldHVybiBjLm1lbnVUcmlnZ2VyLmdldFJlbmRlclRyZWUoKX0sZ2V0T3ZlcmZsb3dDbHM6ZnVuY3Rpb24oKXtyZXR1cm4gRXh0LmJhc2VDU1NQcmVmaXgrdGhpcy5sYXlvdXQuZGlyZWN0aW9uKyItYm94LW92ZXJmbG93LWJvZHkifSxoYW5kbGVPdmVyZmxvdzpmdW5jdGlvbihlKXt2YXIgZD10aGlzLGM9ZC5sYXlvdXQsaD1jLmdldE5hbWVzKCksYT0iZ2V0IitoLndpZHRoQ2FwLGc9ZS5zdGF0ZS5ib3hQbGFuLGI9W251bGwsbnVsbF07ZC5zaG93VHJpZ2dlcihlKTtiW2guaGVpZ2h0SW5kZXhdPShnLm1heFNpemUtZC5tZW51VHJpZ2dlclsiZ2V0IitoLmhlaWdodENhcF0oKSkvMjtkLm1lbnVUcmlnZ2VyLnNldFBvc2l0aW9uLmFwcGx5KGQubWVudVRyaWdnZXIsYik7cmV0dXJue3Jlc2VydmVkU3BhY2U6ZC5tZW51VHJpZ2dlclthXSgpfX0sY2FwdHVyZUNoaWxkRWxlbWVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLm1lbnVUcmlnZ2VyO2lmKGEucmVuZGVyaW5nKXthLmZpbmlzaFJlbmRlcigpfX0sY2xlYXJPdmVyZmxvdzpmdW5jdGlvbihoKXt2YXIgZz10aGlzLGI9Zy5tZW51SXRlbXMsZSxjPTAsZD1iLmxlbmd0aCxhPWcubGF5b3V0Lm93bmVyO2Euc3VzcGVuZExheW91dHMoKTtnLmNhcHR1cmVDaGlsZEVsZW1lbnRzKCk7Zy5oaWRlVHJpZ2dlcigpO2EucmVzdW1lTGF5b3V0cygpO2Zvcig7YzxkO2MrKyl7ZT1iW2NdO2Uuc3VzcGVuZExheW91dHMoKTtlLnNob3coKTtlLnJlc3VtZUxheW91dHMoe2lzUm9vdDp0cnVlfSl9Yi5sZW5ndGg9MH0sc2hvd1RyaWdnZXI6ZnVuY3Rpb24oYyl7dmFyIG89dGhpcyxrPW8ubGF5b3V0LGE9ay5vd25lcixuPWsuZ2V0TmFtZXMoKSxyPW4ueCxlPW4ud2lkdGgscD1jLnN0YXRlLmJveFBsYW4sYj1wLnRhcmdldFNpemVbZV0saD1jLmNoaWxkSXRlbXMsbD1oLmxlbmd0aCxnPW8ubWVudVRyaWdnZXIscSxqLGQsbTtnLnN1c3BlbmRMYXlvdXRzKCk7Zy5zaG93KCk7Zy5yZXN1bWVMYXlvdXRzKHtpc1Jvb3Q6dHJ1ZX0pO2ItPW8ubWVudVRyaWdnZXIuZ2V0V2lkdGgoKTthLnN1c3BlbmRMYXlvdXRzKCk7by5tZW51SXRlbXMubGVuZ3RoPTA7Zm9yKGQ9MDtkPGw7ZCsrKXtxPWhbZF07bT1xLnByb3BzO2lmKG1bcl0rbVtlXT5iKXtqPXEudGFyZ2V0O28ubWVudUl0ZW1zLnB1c2goaik7ai5oaWRlKCl9fWEucmVzdW1lTGF5b3V0cygpfSxoaWRlVHJpZ2dlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMubWVudVRyaWdnZXI7aWYoYSl7YS5oaWRlKCl9fSxiZWZvcmVNZW51U2hvdzpmdW5jdGlvbihqKXt2YXIgaD10aGlzLGI9aC5tZW51SXRlbXMsZD0wLGE9Yi5sZW5ndGgsZyxlLGM9ZnVuY3Rpb24oayxpKXtyZXR1cm4gay5pc1hUeXBlKCJidXR0b25ncm91cCIpJiYhKGkgaW5zdGFuY2VvZiBFeHQudG9vbGJhci5TZXBhcmF0b3IpfTtqLnN1c3BlbmRMYXlvdXRzKCk7aC5jbGVhck1lbnUoKTtqLnJlbW92ZUFsbCgpO2Zvcig7ZDxhO2QrKyl7Zz1iW2RdO2lmKCFkJiYoZyBpbnN0YW5jZW9mIEV4dC50b29sYmFyLlNlcGFyYXRvcikpe2NvbnRpbnVlfWlmKGUmJihjKGcsZSl8fGMoZSxnKSkpe2ouYWRkKCItIil9aC5hZGRDb21wb25lbnRUb01lbnUoaixnKTtlPWd9aWYoai5pdGVtcy5sZW5ndGg8MSl7ai5hZGQoaC5ub0l0ZW1zTWVudVRleHQpfWoucmVzdW1lTGF5b3V0cygpfSxjcmVhdGVNZW51Q29uZmlnOmZ1bmN0aW9uKGMsYSl7dmFyIGI9RXh0LmFwcGx5KHt9LGMuaW5pdGlhbENvbmZpZyksZD1jLnRvZ2dsZUdyb3VwO0V4dC5jb3B5VG8oYixjLFsiaWNvbkNscyIsImljb24iLCJpdGVtSWQiLCJkaXNhYmxlZCIsImhhbmRsZXIiLCJzY29wZSIsIm1lbnUiXSk7RXh0LmFwcGx5KGIse3RleHQ6Yy5vdmVyZmxvd1RleHR8fGMudGV4dCxoaWRlT25DbGljazphLGRlc3Ryb3lNZW51OmZhbHNlfSk7aWYoZHx8Yy5lbmFibGVUb2dnbGUpe0V4dC5hcHBseShiLHtncm91cDpkLGNoZWNrZWQ6Yy5wcmVzc2VkLGxpc3RlbmVyczp7Y2hlY2tjaGFuZ2U6ZnVuY3Rpb24oZyxlKXtjLnRvZ2dsZShlKX19fSl9ZGVsZXRlIGIub3duZXJDdDtkZWxldGUgYi54dHlwZTtkZWxldGUgYi5pZDtyZXR1cm4gYn0sYWRkQ29tcG9uZW50VG9NZW51OmZ1bmN0aW9uKGcsYyl7dmFyIGU9dGhpcyxkLGIsYTtpZihjIGluc3RhbmNlb2YgRXh0LnRvb2xiYXIuU2VwYXJhdG9yKXtnLmFkZCgiLSIpfWVsc2V7aWYoYy5pc0NvbXBvbmVudCl7aWYoYy5pc1hUeXBlKCJzcGxpdGJ1dHRvbiIpKXtnLmFkZChlLmNyZWF0ZU1lbnVDb25maWcoYyx0cnVlKSl9ZWxzZXtpZihjLmlzWFR5cGUoImJ1dHRvbiIpKXtnLmFkZChlLmNyZWF0ZU1lbnVDb25maWcoYywhYy5tZW51KSl9ZWxzZXtpZihjLmlzWFR5cGUoImJ1dHRvbmdyb3VwIikpe2I9Yy5pdGVtcy5pdGVtczthPWIubGVuZ3RoO2ZvcihkPTA7ZDxhO2QrKyl7ZS5hZGRDb21wb25lbnRUb01lbnUoZyxiW2RdKX19ZWxzZXtnLmFkZChFeHQuY3JlYXRlKEV4dC5nZXRDbGFzc05hbWUoYyksZS5jcmVhdGVNZW51Q29uZmlnKGMpKSl9fX19fX0sY2xlYXJNZW51OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5tb3JlTWVudSxiLGMsYSxkO2lmKGUmJmUuaXRlbXMpe2I9ZS5pdGVtcy5pdGVtczthPWIubGVuZ3RoO2ZvcihjPTA7YzxhO2MrKyl7ZD1iW2NdO2lmKGQubWVudSl7ZGVsZXRlIGQubWVudX19fX0sZGVzdHJveTpmdW5jdGlvbigpe0V4dC5kZXN0cm95KHRoaXMubWVudSx0aGlzLm1lbnVUcmlnZ2VyKX19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbnRhaW5lci5Cb3giLHthbGlhczpbImxheW91dC5ib3giXSxleHRlbmQ6IkV4dC5sYXlvdXQuY29udGFpbmVyLkNvbnRhaW5lciIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQubGF5b3V0LkJveExheW91dCIscmVxdWlyZXM6WyJFeHQubGF5b3V0LmNvbnRhaW5lci5ib3hPdmVyZmxvdy5Ob25lIiwiRXh0LmxheW91dC5jb250YWluZXIuYm94T3ZlcmZsb3cuTWVudSIsIkV4dC5sYXlvdXQuY29udGFpbmVyLmJveE92ZXJmbG93LlNjcm9sbGVyIiwiRXh0LnV0aWwuRm9ybWF0IiwiRXh0LmRkLkRyYWdEcm9wTWFuYWdlciJdLGRlZmF1bHRNYXJnaW5zOnt0b3A6MCxyaWdodDowLGJvdHRvbTowLGxlZnQ6MH0scGFkZGluZzowLHBhY2s6InN0YXJ0IixmbGV4OnVuZGVmaW5lZCxzdHJldGNoTWF4UGFydG5lcjp1bmRlZmluZWQsdHlwZToiYm94IixzY3JvbGxPZmZzZXQ6MCxpdGVtQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJib3gtaXRlbSIsdGFyZ2V0Q2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJib3gtbGF5b3V0LWN0Iixpbm5lckNsczpFeHQuYmFzZUNTU1ByZWZpeCsiYm94LWlubmVyIixhdmFpbGFibGVTcGFjZU9mZnNldDowLHJlc2VydmVPZmZzZXQ6dHJ1ZSxtYW5hZ2VNYXJnaW5zOnRydWUsY2hpbGRFbHM6WyJpbm5lckN0IiwidGFyZ2V0RWwiXSxyZW5kZXJUcGw6WyJ7JXZhciBvYyxsPXZhbHVlcy4kY29tcC5sYXlvdXQsb2g9bC5vdmVyZmxvd0hhbmRsZXI7IiwiaWYgKG9oLmdldFByZWZpeENvbmZpZyE9PUV4dC5lbXB0eUZuKSB7IiwiaWYob2M9b2guZ2V0UHJlZml4Q29uZmlnKCkpZGguZ2VuZXJhdGVNYXJrdXAob2MsIG91dCkiLCJ9JX0iLCc8ZGl2IGlkPSJ7b3duZXJJZH0taW5uZXJDdCIgY2xhc3M9IntbbC5pbm5lckNsc119IHtbb2guZ2V0T3ZlcmZsb3dDbHMoKV19IiByb2xlPSJwcmVzZW50YXRpb24iPicsJzxkaXYgaWQ9Intvd25lcklkfS10YXJnZXRFbCIgc3R5bGU9InBvc2l0aW9uOmFic29sdXRlOycsIndpZHRoOjIwMDAwcHg7IiwibGVmdDowcHg7dG9wOjBweDsiLCdoZWlnaHQ6MXB4Ij4nLCJ7JXRoaXMucmVuZGVyQm9keShvdXQsIHZhbHVlcyklfSIsIjwvZGl2PiIsIjwvZGl2PiIsInslaWYgKG9oLmdldFN1ZmZpeENvbmZpZyE9PUV4dC5lbXB0eUZuKSB7IiwiaWYob2M9b2guZ2V0U3VmZml4Q29uZmlnKCkpZGguZ2VuZXJhdGVNYXJrdXAob2MsIG91dCkiLCJ9JX0iLHtkaXNhYmxlRm9ybWF0czp0cnVlLGRlZmluaXRpb25zOiJ2YXIgZGg9RXh0LkRvbUhlbHBlcjsifV0sY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcyxiO2MuY2FsbFBhcmVudChhcmd1bWVudHMpO2MuZmxleFNvcnRGbj1FeHQuRnVuY3Rpb24uYmluZChjLmZsZXhTb3J0LGMpO2MuaW5pdE92ZXJmbG93SGFuZGxlcigpO2I9dHlwZW9mIGMucGFkZGluZztpZihiPT0ic3RyaW5nInx8Yj09Im51bWJlciIpe2MucGFkZGluZz1FeHQudXRpbC5Gb3JtYXQucGFyc2VCb3goYy5wYWRkaW5nKTtjLnBhZGRpbmcuaGVpZ2h0PWMucGFkZGluZy50b3ArYy5wYWRkaW5nLmJvdHRvbTtjLnBhZGRpbmcud2lkdGg9Yy5wYWRkaW5nLmxlZnQrYy5wYWRkaW5nLnJpZ2h0fX0sZ2V0TmFtZXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lc30sZ2V0SXRlbVNpemVQb2xpY3k6ZnVuY3Rpb24oZCxlKXt2YXIgYz10aGlzLGc9Yy5zaXplUG9saWN5LGg9Yy5hbGlnbixiPWgsYTtpZihoPT09InN0cmV0Y2giKXthPShlfHxjLm93bmVyLmdldFNpemVNb2RlbCgpKVtjLm5hbWVzLmhlaWdodF07aWYoYS5zaHJpbmtXcmFwKXtiPSJzdHJldGNobWF4In19ZWxzZXtpZihoIT09InN0cmV0Y2htYXgiKXtiPSIifX1pZihkLmZsZXgpe2c9Zy5mbGV4fXJldHVybiBnW2JdfSxmbGV4U29ydDpmdW5jdGlvbihkLGMpe3ZhciBlPXRoaXMuZ2V0TmFtZXMoKS5tYXhXaWR0aCxnPUluZmluaXR5O2Q9ZC50YXJnZXRbZV18fGc7Yz1jLnRhcmdldFtlXXx8ZztpZighaXNGaW5pdGUoZCkmJiFpc0Zpbml0ZShjKSl7cmV0dXJuIDB9cmV0dXJuIGQtY30saXNJdGVtQm94UGFyZW50OmZ1bmN0aW9uKGEpe3JldHVybiB0cnVlfSxpc0l0ZW1TaHJpbmtXcmFwOmZ1bmN0aW9uKGEpe3JldHVybiB0cnVlfSxtaW5TaXplU29ydEZuOmZ1bmN0aW9uKGQsYyl7cmV0dXJuIGMuYXZhaWxhYmxlLWQuYXZhaWxhYmxlfSxyb3VuZEZsZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIE1hdGguY2VpbChhKX0sYmVnaW5Db2xsYXBzZTpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2lmKGEuZGlyZWN0aW9uPT09InZlcnRpY2FsIiYmYi5jb2xsYXBzZWRWZXJ0aWNhbCgpKXtiLmNvbGxhcHNlTWVtZW50by5jYXB0dXJlKFsiZmxleCJdKTtkZWxldGUgYi5mbGV4fWVsc2V7aWYoYS5kaXJlY3Rpb249PT0iaG9yaXpvbnRhbCImJmIuY29sbGFwc2VkSG9yaXpvbnRhbCgpKXtiLmNvbGxhcHNlTWVtZW50by5jYXB0dXJlKFsiZmxleCJdKTtkZWxldGUgYi5mbGV4fX19LGJlZ2luRXhwYW5kOmZ1bmN0aW9uKGEpe2EuY29sbGFwc2VNZW1lbnRvLnJlc3RvcmUoWyJmbGV4Il0pfSxiZWdpbkxheW91dDpmdW5jdGlvbihjKXt2YXIgYj10aGlzLGU9Yi5vd25lci5zdHJldGNoTWF4UGFydG5lcixhPWIuaW5uZXJDdC5kb20uc3R5bGUsZD1iLmdldE5hbWVzKCk7Yi5vdmVyZmxvd0hhbmRsZXIuYmVnaW5MYXlvdXQoYyk7aWYodHlwZW9mIGU9PT0ic3RyaW5nIil7ZT1FeHQuZ2V0Q21wKGUpfHxiLm93bmVyLnF1ZXJ5KGUpWzBdfWMuc3RyZXRjaE1heFBhcnRuZXI9ZSYmYy5jb250ZXh0LmdldENtcChlKTtiLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtjLmlubmVyQ3RDb250ZXh0PWMuZ2V0RWwoImlubmVyQ3QiLGIpO2Iuc2Nyb2xsUGFyYWxsZWw9ISEoYi5vd25lci5hdXRvU2Nyb2xsfHxiLm93bmVyW2Qub3ZlcmZsb3dYXSk7Yi5zY3JvbGxQZXJwZW5kaWN1bGFyPSEhKGIub3duZXIuYXV0b1Njcm9sbHx8Yi5vd25lcltkLm92ZXJmbG93WV0pO2lmKGIuc2Nyb2xsUGFyYWxsZWwpe2Iuc2Nyb2xsUG9zPWIub3duZXIuZ2V0VGFyZ2V0RWwoKS5kb21bZC5zY3JvbGxMZWZ0XX1hLndpZHRoPSIiO2EuaGVpZ2h0PSIiO2IuY2FjaGVGbGV4ZXMoYyl9LGJlZ2luTGF5b3V0Q3ljbGU6ZnVuY3Rpb24oYixtKXt2YXIgaj10aGlzLGU9ai5hbGlnbixoPWouZ2V0TmFtZXMoKSxsPWoucGFjayxrPWguaGVpZ2h0TW9kZWwsZCxuLGMsYSxnO2oub3ZlcmZsb3dIYW5kbGVyLmJlZ2luTGF5b3V0Q3ljbGUoYixtKTtqLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtiLnBhcmFsbGVsU2l6ZU1vZGVsPWJbaC53aWR0aE1vZGVsXTtiLnBlcnBlbmRpY3VsYXJTaXplTW9kZWw9YltrXTtiLmJveE9wdGlvbnM9e2FsaWduOmU9e3N0cmV0Y2g6ZT09InN0cmV0Y2giLHN0cmV0Y2htYXg6ZT09InN0cmV0Y2htYXgiLGNlbnRlcjplPT1oLmNlbnRlcn0scGFjazpsPXtjZW50ZXI6bD09ImNlbnRlciIsZW5kOmw9PSJlbmQifX07aWYoZS5zdHJldGNoJiZiLnBlcnBlbmRpY3VsYXJTaXplTW9kZWwuc2hyaW5rV3JhcCl7ZS5zdHJldGNobWF4PXRydWU7ZS5zdHJldGNoPWZhbHNlfWlmKGIucGFyYWxsZWxTaXplTW9kZWwuc2hyaW5rV3JhcCl7bC5jZW50ZXI9bC5lbmQ9ZmFsc2V9aWYoZS5zdHJldGNobWF4KXtkPWIuY2hpbGRJdGVtczthPWQubGVuZ3RoO2c9ai5zaXplTW9kZWxzLnNocmlua1dyYXA7Zm9yKGM9MDtjPGE7KytjKXtuPWRbY107aWYoIW5ba10uY29uZmlndXJlZCl7bltrXT1nfX19fSxjYWNoZUZsZXhlczpmdW5jdGlvbihkKXt2YXIgaz10aGlzLmdldE5hbWVzKCksbT1rLndpZHRoTW9kZWwsZT0wLGg9ZC5jaGlsZEl0ZW1zLGc9aC5sZW5ndGgsbD1bXSxhPTAsYz1rLm1pbldpZHRoLGIsbixqO3doaWxlKGctLSl7bj1oW2ddO2lmKG5bbV0uY2FsY3VsYXRlZCl7Yj1uLnRhcmdldDtuLmZsZXg9aj1iLmZsZXg7aWYoail7ZSs9ajtsLnB1c2gobik7YSs9YltjXXx8MH19fWQuZmxleGVkSXRlbXM9bDtkLmZsZXhlZE1pblNpemU9YTtkLnRvdGFsRmxleD1lO0V4dC5BcnJheS5zb3J0KGwsdGhpcy5mbGV4U29ydEZuKX0sY2FsY3VsYXRlOmZ1bmN0aW9uKGQpe3ZhciBiPXRoaXMsYT1iLmdldENvbnRhaW5lclNpemUoZCksaD1iLmdldE5hbWVzKCksYz1kLnN0YXRlLGc9Yy5ib3hQbGFufHwoYy5ib3hQbGFuPXt9KSxlPUV4dC5nZXRTY3JvbGxiYXJTaXplKClbaC53aWR0aF07Zy50YXJnZXRTaXplPWE7aWYoZSYmYi5zY3JvbGxQZXJwZW5kaWN1bGFyJiZkLnBhcmFsbGVsU2l6ZU1vZGVsLnNocmlua1dyYXAmJiFkLmJveE9wdGlvbnMuYWxpZ24uc3RyZXRjaCYmIWQucGVycGVuZGljdWxhclNpemVNb2RlbC5zaHJpbmtXcmFwKXtjLmFkZGl0aW9uYWxTY3JvbGxiYXJXaWR0aD1lO2lmKCFhW2guZ290SGVpZ2h0XSl7Yi5kb25lPWZhbHNlO3JldHVybn19ZWxzZXtjLmFkZGl0aW9uYWxTY3JvbGxiYXJXaWR0aD0wfWlmKCFkLnBhcmFsbGVsU2l6ZU1vZGVsLnNocmlua1dyYXAmJiFhW2guZ290V2lkdGhdKXtiLmRvbmU9ZmFsc2U7cmV0dXJufWlmKCFjLnBhcmFsbGVsRG9uZSl7Yy5wYXJhbGxlbERvbmU9Yi5jYWxjdWxhdGVQYXJhbGxlbChkLGgsZyl9aWYoIWMucGVycGVuZGljdWxhckRvbmUpe2MucGVycGVuZGljdWxhckRvbmU9Yi5jYWxjdWxhdGVQZXJwZW5kaWN1bGFyKGQsaCxnKX1pZihjLnBhcmFsbGVsRG9uZSYmYy5wZXJwZW5kaWN1bGFyRG9uZSl7aWYoYi5vd25lci5kb2NrJiYoRXh0LmlzSUU2fHxFeHQuaXNJRTd8fEV4dC5pc0lFUXVpcmtzKSYmIWIub3duZXIud2lkdGgmJiFiLmhvcml6b250YWwpe2cuaXNJRVZlcnRpY2FsRG9jaz10cnVlO2cuY2FsY3VsYXRlZFdpZHRoPWcubWF4U2l6ZStkLmdldFBhZGRpbmdJbmZvKCkud2lkdGgrZC5nZXRGcmFtZUluZm8oKS53aWR0aH1iLnB1Ymxpc2hJbm5lckN0U2l6ZShkLGIucmVzZXJ2ZU9mZnNldD9iLmF2YWlsYWJsZVNwYWNlT2Zmc2V0OjApO2lmKGIuZG9uZSYmZC5jaGlsZEl0ZW1zLmxlbmd0aD4xJiZkLmJveE9wdGlvbnMuYWxpZ24uc3RyZXRjaG1heCYmIWMuc3RyZXRjaE1heERvbmUpe2IuY2FsY3VsYXRlU3RyZXRjaE1heChkLGgsZyk7Yy5zdHJldGNoTWF4RG9uZT10cnVlfX1lbHNle2IuZG9uZT1mYWxzZX19LGNhbGN1bGF0ZVBhcmFsbGVsOmZ1bmN0aW9uKGcsayxiKXt2YXIgQT10aGlzLGw9Zy5wYXJhbGxlbFNpemVNb2RlbC5zaHJpbmtXcmFwLHc9ay53aWR0aCxhPWcuY2hpbGRJdGVtcyxjPWsubGVmdCxwPWsucmlnaHQsbz1rLnNldFdpZHRoLHg9YS5sZW5ndGgsdT1nLmZsZXhlZEl0ZW1zLHE9dS5sZW5ndGgsdD1nLmJveE9wdGlvbnMucGFjayxqPUEucGFkZGluZyxkPWpbY10sej1kK2pbcF0rQS5zY3JvbGxPZmZzZXQrKEEucmVzZXJ2ZU9mZnNldD9BLmF2YWlsYWJsZVNwYWNlT2Zmc2V0OjApLHMsaCxlLHYsbSxyLHksbjtmb3Iocz0wO3M8eDsrK3Mpe209YVtzXTtoPW0ubWFyZ2luSW5mb3x8bS5nZXRNYXJnaW5JbmZvKCk7eis9aFt3XTtpZighbS5mbGV4KXt6Kz1tLmdldFByb3Aodyk7aWYoaXNOYU4oeikpe3JldHVybiBmYWxzZX19fWlmKGwpe2IuYXZhaWxhYmxlU3BhY2U9MDtiLnRvb05hcnJvdz1mYWxzZX1lbHNle2IuYXZhaWxhYmxlU3BhY2U9Yi50YXJnZXRTaXplW3ddLXo7Yi50b29OYXJyb3c9Yi5hdmFpbGFibGVTcGFjZTxnLmZsZXhlZE1pblNpemU7aWYoYi50b29OYXJyb3cmJkV4dC5nZXRTY3JvbGxiYXJTaXplKClbay5oZWlnaHRdJiZBLnNjcm9sbFBhcmFsbGVsJiZnLnN0YXRlLnBlcnBlbmRpY3VsYXJEb25lKXtnLnN0YXRlLnBlcnBlbmRpY3VsYXJEb25lPWZhbHNlO2ZvcihzPTA7czx4Oysrcyl7YVtzXS5pbnZhbGlkYXRlKCl9fX1uPXo7ZT1iLmF2YWlsYWJsZVNwYWNlO3Y9Zy50b3RhbEZsZXg7Zm9yKHM9MDtzPHE7cysrKXttPXVbc107cj1tLmZsZXg7eT1BLnJvdW5kRmxleCgoci92KSplKTt5PW1bb10oeSk7bis9eTtlPU1hdGgubWF4KDAsZS15KTt2LT1yfWlmKHQuY2VudGVyKXtkKz1lLzI7aWYoZDwwKXtkPTB9fWVsc2V7aWYodC5lbmQpe2QrPWV9fWZvcihzPTA7czx4Oysrcyl7bT1hW3NdO2g9bS5tYXJnaW5JbmZvO2QrPWhbY107bS5zZXRQcm9wKGsueCxkKTtkKz1oW3BdK20ucHJvcHNbd119Zy5zdGF0ZS5jb250ZW50V2lkdGg9bitnLnRhcmdldENvbnRleHQuZ2V0UGFkZGluZ0luZm8oKVt3XTtpZighZy5zdGF0ZS5hZGRpdGlvbmFsU2Nyb2xsYmFyV2lkdGgpe2dbay5zZXRDb250ZW50V2lkdGhdKGcuc3RhdGUuY29udGVudFdpZHRoKX1yZXR1cm4gdHJ1ZX0sY2FsY3VsYXRlUGVycGVuZGljdWxhcjpmdW5jdGlvbihwLHQsYyl7dmFyIEQ9dGhpcyxhPXAucGVycGVuZGljdWxhclNpemVNb2RlbC5zaHJpbmtXcmFwLGQ9Yy50YXJnZXRTaXplLGI9cC5jaGlsZEl0ZW1zLEI9Yi5sZW5ndGgsRz1NYXRoLm1heCxFPXQuaGVpZ2h0LGw9dC5zZXRIZWlnaHQsbz10LnRvcCxDPXQueSxzPUQucGFkZGluZyx1PXNbb10sZz1kW0VdLXUtc1t0LmJvdHRvbV0sej1wLmJveE9wdGlvbnMuYWxpZ24sbj16LnN0cmV0Y2gseD16LnN0cmV0Y2htYXgsbT16LmNlbnRlcix5PTAsRixBLGUscixxLHcsdixqLGssaDtpZihufHwobSYmIWEpKXtpZihpc05hTihnKSl7cmV0dXJuIGZhbHNlfX1pZihuJiZELnNjcm9sbFBhcmFsbGVsJiZjLnRvb05hcnJvdyl7az1FeHQuZ2V0U2Nyb2xsYmFyU2l6ZSgpLmhlaWdodDtnLT1rO2MudGFyZ2V0U2l6ZVtFXS09a31pZihuKXt3PWd9ZWxzZXtmb3IoQT0wO0E8QjtBKyspe3Y9YltBXTtyPXYubWFyZ2luSW5mb3x8di5nZXRNYXJnaW5JbmZvKCk7ZT12LmdldFByb3AoRSk7aWYoaXNOYU4oeT1HKHksZStyW0VdLHYudGFyZ2V0W3QubWluSGVpZ2h0XXx8MCkpKXtyZXR1cm4gZmFsc2V9fWo9cC5zdHJldGNoTWF4UGFydG5lcjtpZihqKXtwLnNldFByb3AoIm1heENoaWxkSGVpZ2h0Iix5KTtoPWouY2hpbGRJdGVtcztpZihoJiZoLmxlbmd0aCl7eT1HKHksai5nZXRQcm9wKCJtYXhDaGlsZEhlaWdodCIpKTtpZihpc05hTih5KSl7cmV0dXJuIGZhbHNlfX19Yy5tYXhTaXplPXk7cFt0LnNldENvbnRlbnRIZWlnaHRdKHkrRC5wYWRkaW5nW0VdK3AudGFyZ2V0Q29udGV4dC5nZXRQYWRkaW5nSW5mbygpW0VdKTtpZih4KXt3PXl9ZWxzZXtpZihtKXt3PWE/eTpHKGcseSk7dy09cC5pbm5lckN0Q29udGV4dC5nZXRCb3JkZXJJbmZvKClbRV19fX1mb3IoQT0wO0E8QjtBKyspe3Y9YltBXTtyPXYubWFyZ2luSW5mb3x8di5nZXRNYXJnaW5JbmZvKCk7Rj11K3Jbb107aWYobil7dltsXSh3LXJbRV0pfWVsc2V7aWYobSl7cT13LXYucHJvcHNbRV07aWYocT4wKXtGPXUrTWF0aC5yb3VuZChxLzIpfX19di5zZXRQcm9wKEMsRil9cmV0dXJuIHRydWV9LGNhbGN1bGF0ZVN0cmV0Y2hNYXg6ZnVuY3Rpb24oZCxrLG0pe3ZhciBsPXRoaXMsaD1rLmhlaWdodCxuPWsud2lkdGgsZz1kLmNoaWxkSXRlbXMsYj1nLmxlbmd0aCxvPW0ubWF4U2l6ZSxhPWwub25CZWZvcmVJbnZhbGlkYXRlQ2hpbGQscT1sLm9uQWZ0ZXJJbnZhbGlkYXRlQ2hpbGQscCxqLGUsYztmb3IoZT0wO2U8YjsrK2Upe3A9Z1tlXTtqPXAucHJvcHM7Yz1vLXAuZ2V0TWFyZ2luSW5mbygpW2hdO2lmKGMhPWpbaF18fHBbay5oZWlnaHRNb2RlbF0uY29uc3RyYWluZWQpe3AuaW52YWxpZGF0ZSh7YmVmb3JlOmEsYWZ0ZXI6cSxsYXlvdXQ6bCxjaGlsZFdpZHRoOmpbbl0sY2hpbGRIZWlnaHQ6YyxjaGlsZFg6ai54LGNoaWxkWTpqLnksbmFtZXM6a30pfX19LGNvbXBsZXRlTGF5b3V0OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7YS5vdmVyZmxvd0hhbmRsZXIuY29tcGxldGVMYXlvdXQoYik7aWYoYS5zY3JvbGxQYXJhbGxlbCl7YS5vd25lci5nZXRUYXJnZXRFbCgpLmRvbVthLmdldE5hbWVzKCkuc2Nyb2xsTGVmdF09YS5zY3JvbGxQb3N9fSxmaW5pc2hlZExheW91dDpmdW5jdGlvbihhKXt0aGlzLm92ZXJmbG93SGFuZGxlci5maW5pc2hlZExheW91dChhKTt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sb25CZWZvcmVJbnZhbGlkYXRlQ2hpbGQ6ZnVuY3Rpb24oYixhKXt2YXIgYz1hLm5hbWVzLmhlaWdodE1vZGVsO2lmKCFiW2NdLmNvbnN0cmFpbmVkTWF4KXtiW2NdPUV4dC5sYXlvdXQuU2l6ZU1vZGVsLmNhbGN1bGF0ZWR9fSxvbkFmdGVySW52YWxpZGF0ZUNoaWxkOmZ1bmN0aW9uKGIsYSl7dmFyIGM9YS5uYW1lcztiLnNldFByb3AoIngiLGEuY2hpbGRYKTtiLnNldFByb3AoInkiLGEuY2hpbGRZKTtpZihiW2MuaGVpZ2h0TW9kZWxdLmNhbGN1bGF0ZWQpe2JbYy5zZXRIZWlnaHRdKGEuY2hpbGRIZWlnaHQpfWlmKGJbYy53aWR0aE1vZGVsXS5jYWxjdWxhdGVkKXtiW2Muc2V0V2lkdGhdKGEuY2hpbGRXaWR0aCl9fSxwdWJsaXNoSW5uZXJDdFNpemU6ZnVuY3Rpb24oYixlKXt2YXIgaj10aGlzLGk9ai5nZXROYW1lcygpLGg9aS5oZWlnaHQsbD1pLndpZHRoLGc9Yi5ib3hPcHRpb25zLmFsaWduLHA9ai5vd25lci5kb2NrLG09ai5wYWRkaW5nLGs9Yi5zdGF0ZS5ib3hQbGFuLGQ9ay50YXJnZXRTaXplLG89ZFtoXSxxPWIuaW5uZXJDdENvbnRleHQsYT1pLmNvbnRlbnRXaWR0aCxjPShiLnBhcmFsbGVsU2l6ZU1vZGVsLnNocmlua1dyYXB8fChrLnRvb05hcnJvdyYmai5zY3JvbGxQYXJhbGxlbCk/Yi5zdGF0ZS5jb250ZW50V2lkdGg6ZFtsXSktKGV8fDApLG47aWYoZy5zdHJldGNoKXtuPW99ZWxzZXtuPWsubWF4U2l6ZSttW2kudG9wXSttW2kuYm90dG9tXStxLmdldEJvcmRlckluZm8oKVtoXTtpZighYi5wZXJwZW5kaWN1bGFyU2l6ZU1vZGVsLnNocmlua1dyYXAmJmcuY2VudGVyKXtuPU1hdGgubWF4KG8sbil9fXFbaS5zZXRXaWR0aF0oYyk7cVtpLnNldEhlaWdodF0obik7aWYoYi5zdGF0ZS5hZGRpdGlvbmFsU2Nyb2xsYmFyV2lkdGgpe2lmKG4+ay50YXJnZXRTaXplW2kuaGVpZ2h0XSl7Yi5zZXRQcm9wKGEsYi5zdGF0ZS5jb250ZW50V2lkdGgrYi5zdGF0ZS5hZGRpdGlvbmFsU2Nyb2xsYmFyV2lkdGgpO2lmKEV4dC5pc0lFNnx8RXh0LmlzSUU3fHxFeHQuaXNJRVF1aXJrcyl7YltpLnNldFdpZHRoXShiLnByb3BzW2FdK2IuZ2V0UGFkZGluZ0luZm8oKVtpLndpZHRoXStiLmdldEJvcmRlckluZm8oKVtpLndpZHRoXSl9fWVsc2V7Yi5zZXRQcm9wKGEsYi5zdGF0ZS5jb250ZW50V2lkdGgpfX1pZihpc05hTihjK24pKXtqLmRvbmU9ZmFsc2V9aWYoay5jYWxjdWxhdGVkV2lkdGgmJihwPT0ibGVmdCJ8fHA9PSJyaWdodCIpKXtiLnNldFdpZHRoKGsuY2FsY3VsYXRlZFdpZHRoLHRydWUsdHJ1ZSl9fSxvblJlbW92ZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGIub3ZlcmZsb3dIYW5kbGVyKXtiLm92ZXJmbG93SGFuZGxlci5vblJlbW92ZShhKX1pZihhLmxheW91dE1hcmdpbkNhcD09Yi5pZCl7ZGVsZXRlIGEubGF5b3V0TWFyZ2luQ2FwfX0saW5pdE92ZXJmbG93SGFuZGxlcjpmdW5jdGlvbigpe3ZhciBkPXRoaXMsYz1kLm92ZXJmbG93SGFuZGxlcixiLGE7aWYodHlwZW9mIGM9PSJzdHJpbmciKXtjPXt0eXBlOmN9fWI9Ik5vbmUiO2lmKGMmJmMudHlwZSE9PXVuZGVmaW5lZCl7Yj1jLnR5cGV9YT1FeHQubGF5b3V0LmNvbnRhaW5lci5ib3hPdmVyZmxvd1tiXTtpZihhW2QudHlwZV0pe2E9YVtkLnR5cGVdfWQub3ZlcmZsb3dIYW5kbGVyPUV4dC5jcmVhdGUoIkV4dC5sYXlvdXQuY29udGFpbmVyLmJveE92ZXJmbG93LiIrYixkLGMpfSxnZXRSZW5kZXJUYXJnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50YXJnZXRFbH0sZ2V0RWxlbWVudFRhcmdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlubmVyQ3R9LGRlc3Ryb3k6ZnVuY3Rpb24oKXtFeHQuZGVzdHJveSh0aGlzLmlubmVyQ3QsdGhpcy5vdmVyZmxvd0hhbmRsZXIpO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfX0pO0V4dC5kZWZpbmUoIkV4dC5sYXlvdXQuY29udGFpbmVyLkhCb3giLHthbGlhczpbImxheW91dC5oYm94Il0sZXh0ZW5kOiJFeHQubGF5b3V0LmNvbnRhaW5lci5Cb3giLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmxheW91dC5IQm94TGF5b3V0IixhbGlnbjoidG9wIix0eXBlOiJoYm94IixkaXJlY3Rpb246Imhvcml6b250YWwiLGhvcml6b250YWw6dHJ1ZSxuYW1lczp7bHI6ImxyIixsZWZ0OiJsZWZ0IixsZWZ0Q2FwOiJMZWZ0IixyaWdodDoicmlnaHQiLHBvc2l0aW9uOiJsZWZ0Iix3aWR0aDoid2lkdGgiLGNvbnRlbnRXaWR0aDoiY29udGVudFdpZHRoIixtaW5XaWR0aDoibWluV2lkdGgiLG1heFdpZHRoOiJtYXhXaWR0aCIsd2lkdGhDYXA6IldpZHRoIix3aWR0aE1vZGVsOiJ3aWR0aE1vZGVsIix3aWR0aEluZGV4OjAseDoieCIsc2Nyb2xsTGVmdDoic2Nyb2xsTGVmdCIsb3ZlcmZsb3dYOiJvdmVyZmxvd1giLGNlbnRlcjoibWlkZGxlIix0b3A6InRvcCIsdG9wUG9zaXRpb246InRvcCIsYm90dG9tOiJib3R0b20iLGhlaWdodDoiaGVpZ2h0Iixjb250ZW50SGVpZ2h0OiJjb250ZW50SGVpZ2h0IixtaW5IZWlnaHQ6Im1pbkhlaWdodCIsbWF4SGVpZ2h0OiJtYXhIZWlnaHQiLGhlaWdodENhcDoiSGVpZ2h0IixoZWlnaHRNb2RlbDoiaGVpZ2h0TW9kZWwiLGhlaWdodEluZGV4OjEseToieSIsc2Nyb2xsVG9wOiJzY3JvbGxUb3AiLG92ZXJmbG93WToib3ZlcmZsb3dZIixnZXRXaWR0aDoiZ2V0V2lkdGgiLGdldEhlaWdodDoiZ2V0SGVpZ2h0IixzZXRXaWR0aDoic2V0V2lkdGgiLHNldEhlaWdodDoic2V0SGVpZ2h0Iixnb3RXaWR0aDoiZ290V2lkdGgiLGdvdEhlaWdodDoiZ290SGVpZ2h0IixzZXRDb250ZW50V2lkdGg6InNldENvbnRlbnRXaWR0aCIsc2V0Q29udGVudEhlaWdodDoic2V0Q29udGVudEhlaWdodCJ9LHNpemVQb2xpY3k6e2ZsZXg6eyIiOntzZXRzV2lkdGg6MSxzZXRzSGVpZ2h0OjB9LHN0cmV0Y2g6e3NldHNXaWR0aDoxLHNldHNIZWlnaHQ6MX0sc3RyZXRjaG1heDp7cmVhZHNIZWlnaHQ6MSxzZXRzV2lkdGg6MSxzZXRzSGVpZ2h0OjF9fSwiIjp7c2V0c1dpZHRoOjAsc2V0c0hlaWdodDowfSxzdHJldGNoOntzZXRzV2lkdGg6MCxzZXRzSGVpZ2h0OjF9LHN0cmV0Y2htYXg6e3JlYWRzSGVpZ2h0OjEsc2V0c1dpZHRoOjAsc2V0c0hlaWdodDoxfX19KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5Db2x1bW5MYXlvdXQiLHtleHRlbmQ6IkV4dC5sYXlvdXQuY29udGFpbmVyLkhCb3giLGFsaWFzOiJsYXlvdXQuZ3JpZGNvbHVtbiIsdHlwZToiZ3JpZGNvbHVtbiIscmVzZXJ2ZU9mZnNldDpmYWxzZSxmaXJzdEhlYWRlckNsczpFeHQuYmFzZUNTU1ByZWZpeCsiY29sdW1uLWhlYWRlci1maXJzdCIsbGFzdEhlYWRlckNsczpFeHQuYmFzZUNTU1ByZWZpeCsiY29sdW1uLWhlYWRlci1sYXN0IixiZWdpbkxheW91dDpmdW5jdGlvbihjKXt2YXIgaD10aGlzLGI9aC5vd25lcixhPWIudXAoIltzY3JvbGxlck93bmVyXSIpLGo9YS52aWV3LGQ9MCxnPWguZ2V0VmlzaWJsZUl0ZW1zKCksZT1nLmxlbmd0aCxrO2lmKGEubG9ja2FibGUpe2lmKGgub3duZXIudXAoInRhYmxlcGFuZWwiKT09PWoubm9ybWFsR3JpZCl7aj1qLm5vcm1hbEdyaWQuZ2V0VmlldygpfWVsc2V7aj1udWxsfX1oLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtmb3IoO2Q8ZTtkKyspe2s9Z1tkXTtrLnJlbW92ZUNscyhbaC5maXJzdEhlYWRlckNscyxoLmxhc3RIZWFkZXJDbHNdKTtrLmVsLnNldFN0eWxlKHtoZWlnaHQ6ImF1dG8ifSk7ay50aXRsZUVsLnNldFN0eWxlKHtoZWlnaHQ6ImF1dG8iLHBhZGRpbmdUb3A6IiJ9KX1pZihlPjApe2dbMF0uYWRkQ2xzKGguZmlyc3RIZWFkZXJDbHMpO2dbZS0xXS5hZGRDbHMoaC5sYXN0SGVhZGVyQ2xzKX1pZighaC5vd25lci5pc0hlYWRlciYmRXh0LmdldFNjcm9sbGJhclNpemUoKS53aWR0aCYmIWEuY29sbGFwc2VkJiZqJiZqLnJlbmRlcmVkJiYoYy52aWV3VGFibGU9ai5lbC5jaGlsZCgidGFibGUiLHRydWUpKSl7Yy52aWV3Q29udGV4dD1jLmNvbnRleHQuZ2V0Q21wKGopfX0scm91bmRGbGV4OmZ1bmN0aW9uKGEpe3JldHVybiBNYXRoLmZsb29yKGEpfSxnZXRDb250YWluZXJTaXplOmZ1bmN0aW9uKGUpe3ZhciBkPXRoaXMsYT1kLmNhbGxQYXJlbnQoYXJndW1lbnRzKSxjPWUudmlld0NvbnRleHQsYjtpZihjJiYhYy5oZWlnaHRNb2RlbC5zaHJpbmtXcmFwJiZjLnRhcmdldC5jb21wb25lbnRMYXlvdXQub3duZXJDb250ZXh0KXtiPWMuZ2V0UHJvcCgiaGVpZ2h0Iik7aWYoaXNOYU4oYikpe2QuZG9uZT1mYWxzZX1lbHNle2lmKGUuc3RhdGUudGFibGVIZWlnaHQ+Yil7YS53aWR0aC09RXh0LmdldFNjcm9sbGJhclNpemUoKS53aWR0aDtlLnN0YXRlLnBhcmFsbGVsRG9uZT1mYWxzZTtjLmludmFsaWRhdGUoKX19fXJldHVybiBhfSxjYWxjdWxhdGU6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWMudmlld0NvbnRleHQ7aWYoYSYmIWMuc3RhdGUudGFibGVIZWlnaHQpe2Muc3RhdGUudGFibGVIZWlnaHQ9Yy52aWV3VGFibGUub2Zmc2V0SGVpZ2h0fWIuY2FsbFBhcmVudChhcmd1bWVudHMpfSxjb21wbGV0ZUxheW91dDpmdW5jdGlvbihjKXt2YXIgaj10aGlzLGI9ai5vd25lcixhPWMuc3RhdGUsZz1mYWxzZSxrPWouc2l6ZU1vZGVscy5jYWxjdWxhdGVkLGUsaCxkLG0sbDtqLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZighYS5mbGV4ZXNDYWxjdWxhdGVkJiZiLmZvcmNlRml0JiYhYi5pc0hlYWRlcil7ZT1jLmNoaWxkSXRlbXM7aD1lLmxlbmd0aDtmb3IoZD0wO2Q8aDtkKyspe209ZVtkXTtsPW0udGFyZ2V0O2lmKGwud2lkdGgpe2wuZmxleD1jLmNoaWxkSXRlbXNbZF0uZmxleD1sLndpZHRoO2RlbGV0ZSBsLndpZHRoO20ud2lkdGhNb2RlbD1rO2c9dHJ1ZX19aWYoZyl7ai5jYWNoZUZsZXhlcyhjKTtjLmludmFsaWRhdGUoe3N0YXRlOntmbGV4ZXNDYWxjdWxhdGVkOnRydWV9fSl9fX0sZmluYWxpemVMYXlvdXQ6ZnVuY3Rpb24oKXt2YXIgZz10aGlzLGU9MCxkLGIsaCxhPWcub3duZXIsYz1hLnRpdGxlRWw7ZD1nLmdldFZpc2libGVJdGVtcygpO2I9ZC5sZW5ndGg7aD1hLmVsLmdldFZpZXdTaXplKCkuaGVpZ2h0O2lmKGMpe2gtPWMuZ2V0SGVpZ2h0KCl9Zm9yKDtlPGI7ZSsrKXtkW2VdLnNldFBhZGRpbmcoaCl9fSxwdWJsaXNoSW5uZXJDdFNpemU6ZnVuY3Rpb24oZCl7dmFyIGM9dGhpcyxlPWQuc3RhdGUuYm94UGxhbixiPWUudGFyZ2V0U2l6ZSxhPWQucGVlaygiY29udGVudFdpZHRoIik7aWYoKGEhPW51bGwpJiYhYy5vd25lci5pc0hlYWRlcil7Yi53aWR0aD1hK0V4dC5nZXRTY3JvbGxiYXJTaXplKCkud2lkdGh9cmV0dXJuIGMuY2FsbFBhcmVudChhcmd1bWVudHMpfX0pO0V4dC5kZWZpbmUoIkV4dC5ncmlkLmhlYWRlci5Db250YWluZXIiLHtleHRlbmQ6IkV4dC5jb250YWluZXIuQ29udGFpbmVyIixyZXF1aXJlczpbIkV4dC5ncmlkLkNvbHVtbkxheW91dCIsIkV4dC5ncmlkLnBsdWdpbi5IZWFkZXJSZXNpemVyIiwiRXh0LmdyaWQucGx1Z2luLkhlYWRlclJlb3JkZXJlciJdLHVzZXM6WyJFeHQuZ3JpZC5jb2x1bW4uQ29sdW1uIiwiRXh0Lm1lbnUuTWVudSIsIkV4dC5tZW51LkNoZWNrSXRlbSIsIkV4dC5tZW51LlNlcGFyYXRvciJdLGJvcmRlcjp0cnVlLGFsaWFzOiJ3aWRnZXQuaGVhZGVyY29udGFpbmVyIixiYXNlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLWhlYWRlci1jdCIsZG9jazoidG9wIix3ZWlnaHQ6MTAwLGRlZmF1bHRUeXBlOiJncmlkY29sdW1uIixkZXRhY2hPblJlbW92ZTpmYWxzZSxkZWZhdWx0V2lkdGg6MTAwLHNvcnRBc2NUZXh0OiJTb3J0IEFzY2VuZGluZyIsc29ydERlc2NUZXh0OiJTb3J0IERlc2NlbmRpbmciLHNvcnRDbGVhclRleHQ6IkNsZWFyIFNvcnQiLGNvbHVtbnNUZXh0OiJDb2x1bW5zIixoZWFkZXJPcGVuQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJjb2x1bW4taGVhZGVyLW9wZW4iLHRyaVN0YXRlU29ydDpmYWxzZSxkZExvY2s6ZmFsc2UsZHJhZ2dpbmc6ZmFsc2Usc29ydGFibGU6dHJ1ZSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmhlYWRlckNvdW50ZXI9MDthLnBsdWdpbnM9YS5wbHVnaW5zfHxbXTtpZighYS5pc0hlYWRlcil7aWYoYS5lbmFibGVDb2x1bW5SZXNpemUpe2EucmVzaXplcj1uZXcgRXh0LmdyaWQucGx1Z2luLkhlYWRlclJlc2l6ZXIoKTthLnBsdWdpbnMucHVzaChhLnJlc2l6ZXIpfWlmKGEuZW5hYmxlQ29sdW1uTW92ZSl7YS5yZW9yZGVyZXI9bmV3IEV4dC5ncmlkLnBsdWdpbi5IZWFkZXJSZW9yZGVyZXIoKTthLnBsdWdpbnMucHVzaChhLnJlb3JkZXJlcil9fWlmKGEuaXNIZWFkZXImJiFhLml0ZW1zKXthLmxheW91dD1hLmxheW91dHx8ImF1dG8ifWVsc2V7YS5sYXlvdXQ9RXh0LmFwcGx5KHt0eXBlOiJncmlkY29sdW1uIixhbGlnbjoic3RyZXRjaG1heCJ9LGEuaW5pdGlhbENvbmZpZy5sYXlvdXQpfWEuZGVmYXVsdHM9YS5kZWZhdWx0c3x8e307RXh0LmFwcGx5SWYoYS5kZWZhdWx0cyx7dHJpU3RhdGVTb3J0OmEudHJpU3RhdGVTb3J0LHNvcnRhYmxlOmEuc29ydGFibGV9KTthLm1lbnVUYXNrPW5ldyBFeHQudXRpbC5EZWxheWVkVGFzayhhLnVwZGF0ZU1lbnVEaXNhYmxlZFN0YXRlLGEpO2EuY2FsbFBhcmVudCgpO2EuYWRkRXZlbnRzKCJjb2x1bW5yZXNpemUiLCJoZWFkZXJjbGljayIsImhlYWRlcnRyaWdnZXJjbGljayIsImNvbHVtbm1vdmUiLCJjb2x1bW5oaWRlIiwiY29sdW1uc2hvdyIsInNvcnRjaGFuZ2UiLCJtZW51Y3JlYXRlIil9LG9uRGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5tZW51VGFzay5jYW5jZWwoKTtFeHQuZGVzdHJveShhLnJlc2l6ZXIsYS5yZW9yZGVyZXIpO2EuY2FsbFBhcmVudCgpfSxhcHBseUNvbHVtbnNTdGF0ZTpmdW5jdGlvbihlKXtpZighZXx8IWUubGVuZ3RoKXtyZXR1cm59dmFyIG09dGhpcyxrPW0uaXRlbXMuaXRlbXMsaj1rLmxlbmd0aCxnPTAsYj1lLmxlbmd0aCxsLGQsYSxoO2ZvcihsPTA7bDxiO2wrKyl7YT1lW2xdO2ZvcihoPWo7aC0tOyl7ZD1rW2hdO2lmKGQuZ2V0U3RhdGVJZCYmZC5nZXRTdGF0ZUlkKCk9PWEuaWQpe2lmKGchPT1oKXttLm1vdmVIZWFkZXIoaCxnKX1pZihkLmFwcGx5Q29sdW1uU3RhdGUpe2QuYXBwbHlDb2x1bW5TdGF0ZShhKX0rK2c7YnJlYWt9fX19LGdldENvbHVtbnNTdGF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1bXSxjO2IuaXRlbXMuZWFjaChmdW5jdGlvbihkKXtjPWQuZ2V0Q29sdW1uU3RhdGUmJmQuZ2V0Q29sdW1uU3RhdGUoKTtpZihjKXthLnB1c2goYyl9fSk7cmV0dXJuIGF9LG9uQWRkOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7aWYoIWIuaGVhZGVySWQpe2IuaGVhZGVySWQ9Yi5pbml0aWFsQ29uZmlnLmlkfHxFeHQuaWQobnVsbCwiaGVhZGVyLSIpfWlmKCFiLnN0YXRlSWQpe2Iuc3RhdGVJZD1iLmluaXRpYWxDb25maWcuaWR8fCgiaCIrKCsrYS5oZWFkZXJDb3VudGVyKSl9YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5wdXJnZUNhY2hlKCl9LG9uUmVtb3ZlOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5wdXJnZUNhY2hlKCl9LGFwcGx5RGVmYXVsdHM6ZnVuY3Rpb24oYil7dmFyIGE7aWYoYiYmIWIuaXNDb21wb25lbnQmJmIueHR5cGU9PSJyb3dudW1iZXJlciIpe2E9Yn1lbHNle2E9dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoISgid2lkdGgiIGluIGEpJiYhYS5mbGV4KXthLndpZHRoPXRoaXMuZGVmYXVsdFdpZHRofX1yZXR1cm4gYX0sYWZ0ZXJSZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoKTt0aGlzLnNldFNvcnRTdGF0ZSgpfSxzZXRTb3J0U3RhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnVwKCJbc3RvcmVdIikuc3RvcmUsYz1hLnNvcnRlcnMsZD1jLmZpcnN0KCksYjtpZihkKXtiPXRoaXMuZG93bigiZ3JpZGNvbHVtbltkYXRhSW5kZXg9IitkLnByb3BlcnR5KyJdIik7aWYoYil7Yi5zZXRTb3J0U3RhdGUoZC5kaXJlY3Rpb24sZmFsc2UsdHJ1ZSl9fX0sZ2V0SGVhZGVyTWVudTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZ2V0TWVudSgpLGE7aWYoYil7YT1iLmNoaWxkKCIjY29sdW1uSXRlbSIpO2lmKGEpe3JldHVybiBhLm1lbnV9fXJldHVybiBudWxsfSxvbkhlYWRlclZpc2liaWxpdHlDaGFuZ2U6ZnVuY3Rpb24oZSxkKXt2YXIgYj10aGlzLGM9Yi5nZXRIZWFkZXJNZW51KCksYTtpZihjKXthPWIuZ2V0TWVudUl0ZW1Gb3JIZWFkZXIoYyxlKTtpZihhKXthLnNldENoZWNrZWQoZCx0cnVlKX1iLm1lbnVUYXNrLmRlbGF5KDUwKX19LGdldExlYWZNZW51SXRlbXM6ZnVuY3Rpb24oKXt2YXIgaD10aGlzLGQ9aC5nZXRHcmlkQ29sdW1ucygpLGI9W10sYz0wLGc9MCxhPWQubGVuZ3RoLGo9aC5nZXRNZW51KCksZTtmb3IoO2M8YTsrK2Mpe2U9ZFtjXTtpZihlLmhpZGVhYmxlKXtlPWguZ2V0TWVudUl0ZW1Gb3JIZWFkZXIoaixlKTtpZihlKXtiLnB1c2goZSk7aWYoZS5jaGVja2VkKXsrK2d9fX19cmV0dXJue2l0ZW1zOmIsY2hlY2tlZENvdW50Omd9fSx1cGRhdGVNZW51RGlzYWJsZWRTdGF0ZTpmdW5jdGlvbigpe3ZhciBoPXRoaXMsYj1oLmdldExlYWZNZW51SXRlbXMoKSxnPWIuY2hlY2tlZENvdW50LGQ9Yi5pdGVtcyxhPWQubGVuZ3RoLGU9MCxjPWguZ2V0TWVudSgpLmNoaWxkKCIjY29sdW1uSXRlbSIpO2lmKGc8PTEpe2guZGlzYWJsZU1lbnVJdGVtcyhjLEV4dC5Db21wb25lbnRRdWVyeS5xdWVyeSgiW2NoZWNrZWQ9dHJ1ZV0iLGQpWzBdKX1lbHNle2Zvcig7ZTxhOysrZSl7aC5zZXRNZW51SXRlbVN0YXRlKGcsYyxkW2VdKX19fSxkaXNhYmxlTWVudUl0ZW1zOmZ1bmN0aW9uKGEsYil7d2hpbGUoYiYmYiE9YSl7Yi5kaXNhYmxlQ2hlY2tDaGFuZ2UoKTtiPWIucGFyZW50TWVudS5vd25lckl0ZW19fSxzZXRNZW51SXRlbVN0YXRlOmZ1bmN0aW9uKGUsYSxkKXt2YXIgYyxiO3doaWxlKGQmJmQhPWEpe2M9ZC5wYXJlbnRNZW51O2I9ZC5wYXJlbnRNZW51LnF1ZXJ5KCJbY2hlY2tlZD10cnVlXTpub3QoW21lbnVdKSIpLmxlbmd0aDtkLmVuYWJsZUNoZWNrQ2hhbmdlKCk7ZD1jLm93bmVySXRlbTtpZihiPT09ZSl7YnJlYWt9fXRoaXMuZGlzYWJsZU1lbnVJdGVtcyhhLGQpfSxnZXRNZW51SXRlbUZvckhlYWRlcjpmdW5jdGlvbihhLGIpe3JldHVybiBiP2EuZG93bigibWVudWNoZWNraXRlbVtoZWFkZXJJZD0iK2IuaWQrIl0iKTpudWxsfSxvbkhlYWRlclNob3c6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWIub3duZXJDdDtiLm9uSGVhZGVyVmlzaWJpbGl0eUNoYW5nZShjLHRydWUpO2lmKCFjLmlzR3JvdXBIZWFkZXIpe2lmKGIudmlldyl7Yi52aWV3Lm9uSGVhZGVyU2hvdyhiLGMsdHJ1ZSl9aWYoYSl7YS5vbkhlYWRlclNob3coYixjKX19Yi5maXJlRXZlbnQoImNvbHVtbnNob3ciLGIsYyk7Yi51cGRhdGVMYXlvdXQoKX0sb25IZWFkZXJIaWRlOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT1iLm93bmVyQ3Q7Yi5vbkhlYWRlclZpc2liaWxpdHlDaGFuZ2UoYyxmYWxzZSk7aWYoIWMuaXNHcm91cEhlYWRlcil7aWYoYi52aWV3KXtiLnZpZXcuaWdub3JlVGVtcGxhdGU9dHJ1ZTtiLnZpZXcub25IZWFkZXJIaWRlKGIsYyx0cnVlKTtiLnZpZXcuaWdub3JlVGVtcGxhdGU9ZmFsc2V9aWYoYSl7YS5vbkhlYWRlckhpZGUoYixjKX1iLnVwZGF0ZUxheW91dCgpfWIuZmlyZUV2ZW50KCJjb2x1bW5oaWRlIixiLGMpfSx0ZW1wTG9jazpmdW5jdGlvbigpe3RoaXMuZGRMb2NrPXRydWU7RXh0LkZ1bmN0aW9uLmRlZmVyKGZ1bmN0aW9uKCl7dGhpcy5kZExvY2s9ZmFsc2V9LDIwMCx0aGlzKX0sb25IZWFkZXJSZXNpemU6ZnVuY3Rpb24oaCxiLGcpe3ZhciBlPXRoaXMsYT1lLnZpZXcsYz1lLm93bmVyQ3QsZDtpZihhJiYoZD1hLmVsKSYmZC5kb20uZmlyc3RDaGlsZCl7ZS50ZW1wTG9jaygpO2Eub25IZWFkZXJSZXNpemUoaCxiLGcpO2lmKGMpe2Mub25IZWFkZXJSZXNpemUoZSxoLGIpfX1lLmZpcmVFdmVudCgiY29sdW1ucmVzaXplIix0aGlzLGgsYil9LG9uSGVhZGVyQ2xpY2s6ZnVuY3Rpb24oYyxiLGEpe2MuZmlyZUV2ZW50KCJoZWFkZXJjbGljayIsdGhpcyxjLGIsYSk7dGhpcy5maXJlRXZlbnQoImhlYWRlcmNsaWNrIix0aGlzLGMsYixhKX0sb25IZWFkZXJUcmlnZ2VyQ2xpY2s6ZnVuY3Rpb24oZCxjLGEpe3ZhciBiPXRoaXM7aWYoZC5maXJlRXZlbnQoImhlYWRlcnRyaWdnZXJjbGljayIsYixkLGMsYSkhPT1mYWxzZSYmYi5maXJlRXZlbnQoImhlYWRlcnRyaWdnZXJjbGljayIsYixkLGMsYSkhPT1mYWxzZSl7Yi5zaG93TWVudUJ5KGEsZCl9fSxzaG93TWVudUJ5OmZ1bmN0aW9uKGIsZyl7dmFyIGQ9dGhpcy5nZXRNZW51KCksZT1kLmRvd24oIiNhc2NJdGVtIiksYz1kLmRvd24oIiNkZXNjSXRlbSIpLGE7ZC5hY3RpdmVIZWFkZXI9ZC5vd25lckN0PWc7ZC5zZXRGbG9hdFBhcmVudChnKTtnLnRpdGxlRWwuYWRkQ2xzKHRoaXMuaGVhZGVyT3BlbkNscyk7YT1nLnNvcnRhYmxlPyJlbmFibGUiOiJkaXNhYmxlIjtpZihlKXtlW2FdKCl9aWYoYyl7Y1thXSgpfWQuc2hvd0J5KGIpfSxvbk1lbnVEZWFjdGl2YXRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRNZW51KCk7YS5hY3RpdmVIZWFkZXIudGl0bGVFbC5yZW1vdmVDbHModGhpcy5oZWFkZXJPcGVuQ2xzKX0sbW92ZUhlYWRlcjpmdW5jdGlvbihhLGIpe3RoaXMudGVtcExvY2soKTt0aGlzLm9uSGVhZGVyTW92ZWQodGhpcy5tb3ZlKGEsYiksYSxiKX0scHVyZ2VDYWNoZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7ZGVsZXRlIGEuZ3JpZERhdGFDb2x1bW5zO2RlbGV0ZSBhLmhpZGVhYmxlQ29sdW1ucztpZihhLm1lbnUpe2EubWVudS5oaWRlKCk7YS5tZW51LmRlc3Ryb3koKTtkZWxldGUgYS5tZW51fX0sb25IZWFkZXJNb3ZlZDpmdW5jdGlvbihnLGEsYyxlKXt2YXIgZD10aGlzLGI9ZC5vd25lckN0O2lmKGImJmIub25IZWFkZXJNb3ZlKXtiLm9uSGVhZGVyTW92ZShkLGcsYSxjLGUpfWQuZmlyZUV2ZW50KCJjb2x1bW5tb3ZlIixkLGcsYyxlKX0sZ2V0TWVudTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoIWEubWVudSl7YS5tZW51PW5ldyBFeHQubWVudS5NZW51KHtoaWRlT25QYXJlbnRIaWRlOmZhbHNlLGl0ZW1zOmEuZ2V0TWVudUl0ZW1zKCksbGlzdGVuZXJzOntkZWFjdGl2YXRlOmEub25NZW51RGVhY3RpdmF0ZSxzY29wZTphfX0pO2EudXBkYXRlTWVudURpc2FibGVkU3RhdGUoKTthLmZpcmVFdmVudCgibWVudWNyZWF0ZSIsYSxhLm1lbnUpfXJldHVybiBhLm1lbnV9LGdldE1lbnVJdGVtczpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj1bXSxhPWMuZW5hYmxlQ29sdW1uSGlkZT9jLmdldENvbHVtbk1lbnUoYyk6bnVsbDtpZihjLnNvcnRhYmxlKXtiPVt7aXRlbUlkOiJhc2NJdGVtIix0ZXh0OmMuc29ydEFzY1RleHQsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJobWVudS1zb3J0LWFzYyIsaGFuZGxlcjpjLm9uU29ydEFzY0NsaWNrLHNjb3BlOmN9LHtpdGVtSWQ6ImRlc2NJdGVtIix0ZXh0OmMuc29ydERlc2NUZXh0LGNsczpFeHQuYmFzZUNTU1ByZWZpeCsiaG1lbnUtc29ydC1kZXNjIixoYW5kbGVyOmMub25Tb3J0RGVzY0NsaWNrLHNjb3BlOmN9XX1pZihhJiZhLmxlbmd0aCl7Yi5wdXNoKCItIix7aXRlbUlkOiJjb2x1bW5JdGVtIix0ZXh0OmMuY29sdW1uc1RleHQsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJjb2xzLWljb24iLG1lbnU6YX0pfXJldHVybiBifSxvblNvcnRBc2NDbGljazpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZ2V0TWVudSgpLGE9Yi5hY3RpdmVIZWFkZXI7YS5zZXRTb3J0U3RhdGUoIkFTQyIpfSxvblNvcnREZXNjQ2xpY2s6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmdldE1lbnUoKSxhPWIuYWN0aXZlSGVhZGVyO2Euc2V0U29ydFN0YXRlKCJERVNDIil9LGdldENvbHVtbk1lbnU6ZnVuY3Rpb24oZyl7dmFyIGM9W10sYj0wLGUsYT1nLnF1ZXJ5KCI+Z3JpZGNvbHVtbltoaWRlYWJsZV0iKSxoPWEubGVuZ3RoLGQ7Zm9yKDtiPGg7YisrKXtlPWFbYl07ZD1uZXcgRXh0Lm1lbnUuQ2hlY2tJdGVtKHt0ZXh0OmUubWVudVRleHR8fGUudGV4dCxjaGVja2VkOiFlLmhpZGRlbixoaWRlT25DbGljazpmYWxzZSxoZWFkZXJJZDplLmlkLG1lbnU6ZS5pc0dyb3VwSGVhZGVyP3RoaXMuZ2V0Q29sdW1uTWVudShlKTp1bmRlZmluZWQsY2hlY2tIYW5kbGVyOnRoaXMub25Db2x1bW5DaGVja0NoYW5nZSxzY29wZTp0aGlzfSk7Yy5wdXNoKGQpO2Uub24oe2Rlc3Ryb3k6RXh0LkZ1bmN0aW9uLmJpbmQoZC5kZXN0cm95LGQpfSl9cmV0dXJuIGN9LG9uQ29sdW1uQ2hlY2tDaGFuZ2U6ZnVuY3Rpb24oYSxiKXt2YXIgYz1FeHQuZ2V0Q21wKGEuaGVhZGVySWQpO2NbYj8ic2hvdyI6ImhpZGUiXSgpfSxnZXRDb2x1bW5zRm9yVHBsOmZ1bmN0aW9uKGUpe3ZhciBjPVtdLGQ9dGhpcy5nZXRHcmlkQ29sdW1ucyhlKSxoPWQubGVuZ3RoLGE9MCxnLGI7Zm9yKDthPGg7YSsrKXtnPWRbYV07aWYoZy5oaWRkZW58fGcudXAoImhlYWRlcmNvbnRhaW5lcltoaWRkZW49dHJ1ZV0iKSl7Yj0wfWVsc2V7Yj1nLmdldERlc2lyZWRXaWR0aCgpfWMucHVzaCh7ZGF0YUluZGV4OmcuZGF0YUluZGV4LGFsaWduOmcuYWxpZ24sd2lkdGg6YixpZDpnLmlkLGNsczpnLnRkQ2xzLGNvbHVtbklkOmcuZ2V0SXRlbUlkKCl9KX1yZXR1cm4gY30sZ2V0Q29sdW1uQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRHcmlkQ29sdW1ucygpLmxlbmd0aH0sZ2V0RnVsbFdpZHRoOmZ1bmN0aW9uKGQpe3ZhciBjPTAsYj10aGlzLmdldFZpc2libGVHcmlkQ29sdW1ucyhkKSxnPWIubGVuZ3RoLGE9MCxlO2Zvcig7YTxnO2ErKyl7ZT1iW2FdO2lmKGUuZ2V0RGVzaXJlZFdpZHRoKXtjKz1lLmdldERlc2lyZWRXaWR0aCgpfHwwfWVsc2V7Yys9ZS5nZXRXaWR0aCgpfX1yZXR1cm4gY30sY2xlYXJPdGhlclNvcnRTdGF0ZXM6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcy5nZXRHcmlkQ29sdW1ucygpLGQ9Yy5sZW5ndGgsYj0wO2Zvcig7YjxkO2IrKyl7aWYoY1tiXSE9PWEpe2NbYl0uc2V0U29ydFN0YXRlKG51bGwsdHJ1ZSl9fX0sZ2V0VmlzaWJsZUdyaWRDb2x1bW5zOmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuQ29tcG9uZW50UXVlcnkucXVlcnkoIjpub3QoW2hpZGRlbl0pIix0aGlzLmdldEdyaWRDb2x1bW5zKGEpKX0sZ2V0R3JpZENvbHVtbnM6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxhPWI/bnVsbDpjLmdyaWREYXRhQ29sdW1ucztpZighYSl7Yy5ncmlkRGF0YUNvbHVtbnM9YT1bXTtjLmNhc2NhZGUoZnVuY3Rpb24oZCl7aWYoKGQhPT1jKSYmIWQuaXNHcm91cEhlYWRlcil7YS5wdXNoKGQpfX0pfXJldHVybiBhfSxnZXRIaWRlYWJsZUNvbHVtbnM6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxhPWI/bnVsbDpjLmhpZGVhYmxlQ29sdW1ucztpZighYSl7YT1jLmhpZGVhYmxlQ29sdW1ucz1jLnF1ZXJ5KCJbaGlkZWFibGVdIil9cmV0dXJuIGF9LGdldEhlYWRlckluZGV4OmZ1bmN0aW9uKGEpe2lmKGEuaXNHcm91cEhlYWRlcil7YT1hLmRvd24oIjpub3QoW2lzZ3JvdXBIZWFkZXJdKSIpfXJldHVybiBFeHQuQXJyYXkuaW5kZXhPZih0aGlzLmdldEdyaWRDb2x1bW5zKCksYSl9LGdldEhlYWRlckF0SW5kZXg6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nZXRHcmlkQ29sdW1ucygpO3JldHVybiBiLmxlbmd0aD9iW2FdOm51bGx9LGdldFZpc2libGVIZWFkZXJDbG9zZXN0VG9JbmRleDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLmdldEhlYWRlckF0SW5kZXgoYik7aWYoYSYmYS5oaWRkZW4pe2E9YS5uZXh0KCI6bm90KFtoaWRkZW5dKSIpfHxhLm5leHQoIjpub3QoW2hpZGRlbl0pIil9cmV0dXJuIGF9LHByZXBhcmVEYXRhOmZ1bmN0aW9uKGksYyxrLG4sYSl7dmFyIG09dGhpcyxoPXt9LGQ9bS5ncmlkRGF0YUNvbHVtbnN8fG0uZ2V0R3JpZENvbHVtbnMoKSxlPWQubGVuZ3RoLGc9MCxqLHEsbCxwLGIsbz1hLnN0b3JlO2Zvcig7ZzxlO2crKyl7Yj17dGRDbHM6IiIsc3R5bGU6IiJ9O2o9ZFtnXTtxPWouaWQ7bD1qLnJlbmRlcmVyO3A9aVtqLmRhdGFJbmRleF07aWYodHlwZW9mIGw9PSJmdW5jdGlvbiIpe3A9bC5jYWxsKGouc2NvcGV8fG0ub3duZXJDdCxwLGIsayxjLGcsbyxuKX1pZihtLm1hcmtEaXJ0eSl7aFtxKyItbW9kaWZpZWQiXT1rLmlzTW9kaWZpZWQoai5kYXRhSW5kZXgpP0V4dC5iYXNlQ1NTUHJlZml4KyJncmlkLWRpcnR5LWNlbGwiOiIifWhbcSsiLXRkQ2xzIl09Yi50ZENscztoW3ErIi10ZEF0dHIiXT1iLnRkQXR0cjtoW3ErIi1zdHlsZSJdPWIuc3R5bGU7aWYodHlwZW9mIHA9PT0idW5kZWZpbmVkInx8cD09PW51bGx8fHA9PT0iIil7cD1qLmVtcHR5Q2VsbFRleHR9aFtxXT1wfXJldHVybiBofSxleHBhbmRUb0ZpdDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLnZpZXc7aWYoYSl7YS5leHBhbmRUb0ZpdChiKX19fSk7RXh0LmRlZmluZSgiRXh0LmdyaWQuY29sdW1uLkNvbHVtbiIse2V4dGVuZDoiRXh0LmdyaWQuaGVhZGVyLkNvbnRhaW5lciIsYWxpYXM6IndpZGdldC5ncmlkY29sdW1uIixyZXF1aXJlczpbIkV4dC51dGlsLktleU5hdiIsIkV4dC5ncmlkLkNvbHVtbkNvbXBvbmVudExheW91dCIsIkV4dC5ncmlkLkNvbHVtbkxheW91dCJdLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmdyaWQuQ29sdW1uIixiYXNlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJjb2x1bW4taGVhZGVyICIrRXh0LmJhc2VDU1NQcmVmaXgrInVuc2VsZWN0YWJsZSIsaG92ZXJDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImNvbHVtbi1oZWFkZXItb3ZlciIsaGFuZGxlV2lkdGg6NSxzb3J0U3RhdGU6bnVsbCxwb3NzaWJsZVNvcnRTdGF0ZXM6WyJBU0MiLCJERVNDIl0sY2hpbGRFbHM6WyJ0aXRsZUVsIiwidHJpZ2dlckVsIiwidGV4dEVsIl0scmVuZGVyVHBsOic8ZGl2IGlkPSJ7aWR9LXRpdGxlRWwiIGNsYXNzPSInK0V4dC5iYXNlQ1NTUHJlZml4Kydjb2x1bW4taGVhZGVyLWlubmVyIj48c3BhbiBpZD0ie2lkfS10ZXh0RWwiIGNsYXNzPSInK0V4dC5iYXNlQ1NTUHJlZml4Kydjb2x1bW4taGVhZGVyLXRleHQiPnt0ZXh0fTwvc3Bhbj48dHBsIGlmPSIhbWVudURpc2FibGVkIj48ZGl2IGlkPSJ7aWR9LXRyaWdnZXJFbCIgY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrJ2NvbHVtbi1oZWFkZXItdHJpZ2dlciI+PC9kaXY+PC90cGw+PC9kaXY+eyV0aGlzLnJlbmRlckNvbnRhaW5lcihvdXQsdmFsdWVzKSV9JyxkYXRhSW5kZXg6bnVsbCx0ZXh0OiImIzE2MDsiLG1lbnVUZXh0Om51bGwsZW1wdHlDZWxsVGV4dDoiJiMxNjA7Iixzb3J0YWJsZTp0cnVlLHJlc2l6YWJsZTp0cnVlLGhpZGVhYmxlOnRydWUsbWVudURpc2FibGVkOmZhbHNlLHJlbmRlcmVyOmZhbHNlLGVkaXRSZW5kZXJlcjpmYWxzZSxhbGlnbjoibGVmdCIsZHJhZ2dhYmxlOnRydWUsaW5pdERyYWdnYWJsZTpFeHQuZW1wdHlGbixpc0hlYWRlcjp0cnVlLGNvbXBvbmVudExheW91dDoiY29sdW1uY29tcG9uZW50Iixpbml0UmVzaXphYmxlOkV4dC5lbXB0eUZuLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI7aWYoRXh0LmlzRGVmaW5lZChhLmhlYWRlcikpe2EudGV4dD1hLmhlYWRlcjtkZWxldGUgYS5oZWFkZXJ9aWYoIWEudHJpU3RhdGVTb3J0KXthLnBvc3NpYmxlU29ydFN0YXRlcy5sZW5ndGg9Mn1pZihFeHQuaXNEZWZpbmVkKGEuY29sdW1ucykpe2EuaXNHcm91cEhlYWRlcj10cnVlO2EuaXRlbXM9YS5jb2x1bW5zO2RlbGV0ZSBhLmNvbHVtbnM7ZGVsZXRlIGEuZmxleDtkZWxldGUgYS53aWR0aDthLmNscz0oYS5jbHN8fCIiKSsiICIrRXh0LmJhc2VDU1NQcmVmaXgrImdyb3VwLWhlYWRlciI7YS5zb3J0YWJsZT1mYWxzZTthLnJlc2l6YWJsZT1mYWxzZTthLmFsaWduPSJjZW50ZXIifWVsc2V7YS5pc0NvbnRhaW5lcj1mYWxzZTtpZihhLmZsZXgpe2EubWluV2lkdGg9YS5taW5XaWR0aHx8RXh0LmdyaWQucGx1Z2luLkhlYWRlclJlc2l6ZXIucHJvdG90eXBlLm1pbkNvbFdpZHRofX1hLmFkZENscyhFeHQuYmFzZUNTU1ByZWZpeCsiY29sdW1uLWhlYWRlci1hbGlnbi0iK2EuYWxpZ24pO2I9YS5yZW5kZXJlcjtpZihiKXtpZih0eXBlb2YgYj09InN0cmluZyIpe2EucmVuZGVyZXI9RXh0LnV0aWwuRm9ybWF0W2JdfWEuaGFzQ3VzdG9tUmVuZGVyZXI9dHJ1ZX1lbHNle2lmKGEuZGVmYXVsdFJlbmRlcmVyKXthLnNjb3BlPWE7YS5yZW5kZXJlcj1hLmRlZmF1bHRSZW5kZXJlcn19YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5vbih7ZWxlbWVudDoiZWwiLGNsaWNrOmEub25FbENsaWNrLGRibGNsaWNrOmEub25FbERibENsaWNrLHNjb3BlOmF9KTthLm9uKHtlbGVtZW50OiJ0aXRsZUVsIixtb3VzZWVudGVyOmEub25UaXRsZU1vdXNlT3Zlcixtb3VzZWxlYXZlOmEub25UaXRsZU1vdXNlT3V0LHNjb3BlOmF9KX0sb25BZGQ6ZnVuY3Rpb24oYSl7YS5pc1N1YkhlYWRlcj10cnVlO2EuYWRkQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJncm91cC1zdWItaGVhZGVyIik7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LG9uUmVtb3ZlOmZ1bmN0aW9uKGEpe2EuaXNTdWJIZWFkZXI9ZmFsc2U7YS5yZW1vdmVDbHMoRXh0LmJhc2VDU1NQcmVmaXgrImdyb3VwLXN1Yi1oZWFkZXIiKTt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0saW5pdFJlbmRlckRhdGE6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBFeHQuYXBwbHlJZihhLmNhbGxQYXJlbnQoYXJndW1lbnRzKSx7dGV4dDphLnRleHQsbWVudURpc2FibGVkOmEubWVudURpc2FibGVkfSl9LGFwcGx5Q29sdW1uU3RhdGU6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcyxjPUV4dC5pc0RlZmluZWQ7YS5hcHBseUNvbHVtbnNTdGF0ZShiLmNvbHVtbnMpO2lmKGMoYi5oaWRkZW4pKXthLmhpZGRlbj1iLmhpZGRlbn1pZihjKGIubG9ja2VkKSl7YS5sb2NrZWQ9Yi5sb2NrZWR9aWYoYyhiLnNvcnRhYmxlKSl7YS5zb3J0YWJsZT1iLnNvcnRhYmxlfWlmKGMoYi53aWR0aCkpe2RlbGV0ZSBhLmZsZXg7YS53aWR0aD1iLndpZHRofWVsc2V7aWYoYyhiLmZsZXgpKXtkZWxldGUgYS53aWR0aDthLmZsZXg9Yi5mbGV4fX19LGdldENvbHVtblN0YXRlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxiPWUuaXRlbXMuaXRlbXMsYT1iP2IubGVuZ3RoOjAsZCxjPVtdLGc9e2lkOmUuZ2V0U3RhdGVJZCgpfTtlLnNhdmVQcm9wc1RvU3RhdGUoWyJoaWRkZW4iLCJzb3J0YWJsZSIsImxvY2tlZCIsImZsZXgiLCJ3aWR0aCJdLGcpO2lmKGUuaXNHcm91cEhlYWRlcil7Zm9yKGQ9MDtkPGE7ZCsrKXtjLnB1c2goYltkXS5nZXRDb2x1bW5TdGF0ZSgpKX1pZihjLmxlbmd0aCl7Zy5jb2x1bW5zPWN9fWVsc2V7aWYoZS5pc1N1YkhlYWRlciYmZS5vd25lckN0LmhpZGRlbil7ZGVsZXRlIGUuaGlkZGVufX1pZigid2lkdGgiIGluIGcpe2RlbGV0ZSBnLmZsZXh9cmV0dXJuIGd9LGdldFN0YXRlSWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdGF0ZUlkfHx0aGlzLmhlYWRlcklkfSxzZXRUZXh0OmZ1bmN0aW9uKGEpe3RoaXMudGV4dD1hO2lmKHRoaXMucmVuZGVyZWQpe3RoaXMudGV4dEVsLnVwZGF0ZShhKX19LGdldE93bmVySGVhZGVyQ3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51cCgiOm5vdChbaXNIZWFkZXJdKSIpfSxnZXRJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzR3JvdXBDb2x1bW4/ZmFsc2U6dGhpcy5nZXRPd25lckhlYWRlckN0KCkuZ2V0SGVhZGVySW5kZXgodGhpcyl9LGdldFZpc2libGVJbmRleDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmlzR3JvdXBDb2x1bW4/ZmFsc2U6RXh0LkFycmF5LmluZGV4T2YodGhpcy5nZXRPd25lckhlYWRlckN0KCkuZ2V0VmlzaWJsZUdyaWRDb2x1bW5zKCksdGhpcyl9LGJlZm9yZVJlbmRlcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLnVwKCJ0YWJsZXBhbmVsIik7Yi5jYWxsUGFyZW50KCk7aWYoYSYmKCFiLnNvcnRhYmxlfHxhLnNvcnRhYmxlQ29sdW1ucz09PWZhbHNlKSYmIWIuZ3JvdXBhYmxlJiYhYi5sb2NrYWJsZSYmKGEuZW5hYmxlQ29sdW1uSGlkZT09PWZhbHNlfHwhYi5nZXRPd25lckhlYWRlckN0KCkuZ2V0SGlkZWFibGVDb2x1bW5zKCkubGVuZ3RoKSl7Yi5tZW51RGlzYWJsZWQ9dHJ1ZX19LGFmdGVyUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuZWw7Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYi5vdmVyQ2xzKXthLmFkZENsc09uT3ZlcihiLm92ZXJDbHMpfWlmKCFFeHQuaXNJRTh8fCFFeHQuaXNTdHJpY3Qpe2IubW9uKGIuZ2V0Rm9jdXNFbCgpLHtmb2N1czpiLm9uVGl0bGVNb3VzZU92ZXIsYmx1cjpiLm9uVGl0bGVNb3VzZU91dCxzY29wZTpifSl9Yi5rZXlOYXY9bmV3IEV4dC51dGlsLktleU5hdihhLHtlbnRlcjpiLm9uRW50ZXJLZXksZG93bjpiLm9uRG93bktleSxzY29wZTpifSl9LGFmdGVyQ29tcG9uZW50TGF5b3V0OmZ1bmN0aW9uKGQsYSxjLGcpe3ZhciBlPXRoaXMsYj1lLmdldE93bmVySGVhZGVyQ3QoKTtlLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihiJiYoYyE9bnVsbHx8ZS5mbGV4KSYmZCE9PWMpe2Iub25IZWFkZXJSZXNpemUoZSxkLHRydWUpfWRlbGV0ZSBlLm9sZFdpZHRofSxzZXRQYWRkaW5nOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMsZD1wYXJzZUludChlLnRleHRFbC5nZXRTdHlsZSgibGluZS1oZWlnaHQiKSwxMCksaD1lLnRleHRFbC5kb20ub2Zmc2V0SGVpZ2h0LGI9ZS50aXRsZUVsLGc9YS1lLmVsLmdldEJvcmRlcldpZHRoKCJ0YiIpLGM7aWYoIWUuaXNHcm91cEhlYWRlcil7aWYoYi5nZXRIZWlnaHQoKTxnKXtiLnNldEhlaWdodChnKTtlLm93bmVyQ3QubGF5b3V0LmlubmVyQ3Quc2V0SGVpZ2h0KGEpfX1jPWIuZ2V0Vmlld1NpemUoKS5oZWlnaHQ7aWYoaCl7aWYoZCl7aD1NYXRoLmNlaWwoaC9kKSpkfWIuc2V0U3R5bGUoe3BhZGRpbmdUb3A6TWF0aC5mbG9vcihNYXRoLm1heCgoKGMtaCkvMiksMCkpKyJweCJ9KX1pZihFeHQuaXNJRSYmZS50cmlnZ2VyRWwpe2UudHJpZ2dlckVsLnNldEhlaWdodChjKX19LG9uRGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7RXh0LmRlc3Ryb3koYS50ZXh0RWwsYS5rZXlOYXYpO2RlbGV0ZSBhLmtleU5hdjthLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sb25UaXRsZU1vdXNlT3ZlcjpmdW5jdGlvbigpe3RoaXMudGl0bGVFbC5hZGRDbHModGhpcy5ob3ZlckNscyl9LG9uVGl0bGVNb3VzZU91dDpmdW5jdGlvbigpe3RoaXMudGl0bGVFbC5yZW1vdmVDbHModGhpcy5ob3ZlckNscyl9LG9uRG93bktleTpmdW5jdGlvbihhKXtpZih0aGlzLnRyaWdnZXJFbCl7dGhpcy5vbkVsQ2xpY2soYSx0aGlzLnRyaWdnZXJFbC5kb218fHRoaXMuZWwuZG9tKX19LG9uRW50ZXJLZXk6ZnVuY3Rpb24oYSl7dGhpcy5vbkVsQ2xpY2soYSx0aGlzLmVsLmRvbSl9LG9uRWxEYmxDbGljazpmdW5jdGlvbihkLGEpe3ZhciBjPXRoaXMsYj1jLm93bmVyQ3Q7aWYoYiYmRXh0LkFycmF5LmluZGV4T2YoYi5pdGVtcyxjKSE9PTAmJmMuaXNPbkxlZnRFZGdlKGQpKXtiLmV4cGFuZFRvRml0KGMucHJldmlvdXNTaWJsaW5nKCJncmlkY29sdW1uIikpfX0sb25FbENsaWNrOmZ1bmN0aW9uKGQsYil7dmFyIGM9dGhpcyxhPWMuZ2V0T3duZXJIZWFkZXJDdCgpO2lmKGEmJiFhLmRkTG9jayl7aWYoYy50cmlnZ2VyRWwmJihkLnRhcmdldD09PWMudHJpZ2dlckVsLmRvbXx8Yj09PWMudHJpZ2dlckVsLmRvbXx8ZC53aXRoaW4oYy50cmlnZ2VyRWwpKSl7YS5vbkhlYWRlclRyaWdnZXJDbGljayhjLGQsYil9ZWxzZXtpZihkLmdldEtleSgpfHwoIWMuaXNPbkxlZnRFZGdlKGQpJiYhYy5pc09uUmlnaHRFZGdlKGQpKSl7Yy50b2dnbGVTb3J0U3RhdGUoKTthLm9uSGVhZGVyQ2xpY2soYyxkLGIpfX19fSxwcm9jZXNzRXZlbnQ6ZnVuY3Rpb24oZyxiLGEsYyxkLGgpe3JldHVybiB0aGlzLmZpcmVFdmVudC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LHRvZ2dsZVNvcnRTdGF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYSxjO2lmKGIuc29ydGFibGUpe2E9RXh0LkFycmF5LmluZGV4T2YoYi5wb3NzaWJsZVNvcnRTdGF0ZXMsYi5zb3J0U3RhdGUpO2M9KGErMSklYi5wb3NzaWJsZVNvcnRTdGF0ZXMubGVuZ3RoO2Iuc2V0U29ydFN0YXRlKGIucG9zc2libGVTb3J0U3RhdGVzW2NdKX19LGRvU29ydDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLnVwKCJ0YWJsZXBhbmVsIikuc3RvcmU7YS5zb3J0KHtwcm9wZXJ0eTp0aGlzLmdldFNvcnRQYXJhbSgpLGRpcmVjdGlvbjpifSl9LGdldFNvcnRQYXJhbTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRhdGFJbmRleH0sc2V0U29ydFN0YXRlOmZ1bmN0aW9uKGEsayxnKXt2YXIgaD10aGlzLGk9RXh0LmJhc2VDU1NQcmVmaXgrImNvbHVtbi1oZWFkZXItc29ydC0iLGo9aSsiQVNDIixjPWkrIkRFU0MiLGI9aSsibnVsbCIsZT1oLmdldE93bmVySGVhZGVyQ3QoKSxkPWguc29ydFN0YXRlO2lmKGQhPT1hJiZoLmdldFNvcnRQYXJhbSgpKXtoLmFkZENscyhpK2EpO2lmKGEmJiFnKXtoLmRvU29ydChhKX1zd2l0Y2goYSl7Y2FzZSJERVNDIjpoLnJlbW92ZUNscyhbaixiXSk7YnJlYWs7Y2FzZSJBU0MiOmgucmVtb3ZlQ2xzKFtjLGJdKTticmVhaztjYXNlIG51bGw6aC5yZW1vdmVDbHMoW2osY10pO2JyZWFrfWlmKGUmJiFoLnRyaVN0YXRlU29ydCYmIWspe2UuY2xlYXJPdGhlclNvcnRTdGF0ZXMoaCl9aC5zb3J0U3RhdGU9YTtpZihoLnRyaVN0YXRlU29ydHx8YSE9bnVsbCl7ZS5maXJlRXZlbnQoInNvcnRjaGFuZ2UiLGUsaCxhKX19fSxoaWRlOmZ1bmN0aW9uKGMpe3ZhciBqPXRoaXMsZT1qLmdldE93bmVySGVhZGVyQ3QoKSxiPWoub3duZXJDdCxhPWIuaXNHcm91cEhlYWRlcixrLGgsZyxkO2lmKGEmJiFjKXtoPWIucXVlcnkoIj46bm90KFtoaWRkZW5dKSIpO2lmKGgubGVuZ3RoPT09MSYmaFswXT09ail7ai5vd25lckN0LmhpZGUoKTtyZXR1cm59fUV4dC5zdXNwZW5kTGF5b3V0cygpO2lmKGouaXNHcm91cEhlYWRlcil7aD1qLml0ZW1zLml0ZW1zO2ZvcihkPTAsZz1oLmxlbmd0aDtkPGc7ZCsrKXtrPWhbZF07aWYoIWsuaGlkZGVuKXtrLmhpZGUodHJ1ZSl9fX1qLmNhbGxQYXJlbnQoKTtlLm9uSGVhZGVySGlkZShqKTtFeHQucmVzdW1lTGF5b3V0cyh0cnVlKX0sc2hvdzpmdW5jdGlvbihkLGIpe3ZhciBqPXRoaXMsZz1qLm93bmVyQ3QsYyxhLGUsaDtFeHQuc3VzcGVuZExheW91dHMoKTtpZihqLmlzU3ViSGVhZGVyJiZnLmhpZGRlbil7Zy5zaG93KGZhbHNlLHRydWUpfWouY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGouaXNHcm91cEhlYWRlciYmYiE9PXRydWUmJiFqLnF1ZXJ5KCI6bm90KFtoaWRkZW5dKSIpLmxlbmd0aCl7Yz1qLnF1ZXJ5KCI+KiIpO2ZvcihlPTAsYT1jLmxlbmd0aDtlPGE7ZSsrKXtoPWNbZV07aWYoaC5oaWRkZW4pe2guc2hvdyh0cnVlKX19fUV4dC5yZXN1bWVMYXlvdXRzKHRydWUpO2c9ai5nZXRPd25lckhlYWRlckN0KCk7aWYoZyl7Zy5vbkhlYWRlclNob3coail9fSxnZXREZXNpcmVkV2lkdGg6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEucmVuZGVyZWQmJmEuY29tcG9uZW50TGF5b3V0JiZhLmNvbXBvbmVudExheW91dC5sYXN0Q29tcG9uZW50U2l6ZSl7cmV0dXJuIGEuY29tcG9uZW50TGF5b3V0Lmxhc3RDb21wb25lbnRTaXplLndpZHRofWVsc2V7aWYoYS5mbGV4KXtyZXR1cm4gYS53aWR0aH1lbHNle3JldHVybiBhLndpZHRofX19LGdldENlbGxTZWxlY3RvcjpmdW5jdGlvbigpe3JldHVybiIuIitFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1jZWxsLSIrdGhpcy5nZXRJdGVtSWQoKX0sZ2V0Q2VsbElubmVyU2VsZWN0b3I6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRDZWxsU2VsZWN0b3IoKSsiIC4iK0V4dC5iYXNlQ1NTUHJlZml4KyJncmlkLWNlbGwtaW5uZXIifSxpc09uTGVmdEVkZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuKGEuZ2V0WFkoKVswXS10aGlzLmVsLmdldExlZnQoKTw9dGhpcy5oYW5kbGVXaWR0aCl9LGlzT25SaWdodEVkZ2U6ZnVuY3Rpb24oYSl7cmV0dXJuKHRoaXMuZWwuZ2V0UmlnaHQoKS1hLmdldFhZKClbMF08PXRoaXMuaGFuZGxlV2lkdGgpfX0pO0V4dC5kZWZpbmUoIkV4dC5ncmlkLlJvd051bWJlcmVyIix7ZXh0ZW5kOiJFeHQuZ3JpZC5jb2x1bW4uQ29sdW1uIixhbGlhczoid2lkZ2V0LnJvd251bWJlcmVyIix0ZXh0OiImIzE2MCIsd2lkdGg6MjMsc29ydGFibGU6ZmFsc2UsZHJhZ2dhYmxlOmZhbHNlLGFsaWduOiJyaWdodCIsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dGhpcy53aWR0aD10aGlzLndpZHRoO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKHRoaXMucm93c3Bhbil7dGhpcy5yZW5kZXJlcj1FeHQuRnVuY3Rpb24uYmluZCh0aGlzLnJlbmRlcmVyLHRoaXMpfX0scmVzaXphYmxlOmZhbHNlLGhpZGVhYmxlOmZhbHNlLG1lbnVEaXNhYmxlZDp0cnVlLGRhdGFJbmRleDoiIixjbHM6RXh0LmJhc2VDU1NQcmVmaXgrInJvdy1udW1iZXJlciIscm93c3Bhbjp1bmRlZmluZWQscmVuZGVyZXI6ZnVuY3Rpb24oZSxiLGEsZCxnLGMpe2lmKHRoaXMucm93c3Bhbil7Yi5jZWxsQXR0cj0ncm93c3Bhbj0iJyt0aGlzLnJvd3NwYW4rJyInfWIudGRDbHM9RXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtY2VsbC1zcGVjaWFsIjtyZXR1cm4gYy5pbmRleE9mVG90YWwoYSkrMX19KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5jb2x1bW4uQWN0aW9uIix7ZXh0ZW5kOiJFeHQuZ3JpZC5jb2x1bW4uQ29sdW1uIixhbGlhczpbIndpZGdldC5hY3Rpb25jb2x1bW4iXSxhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5ncmlkLkFjdGlvbkNvbHVtbiIsYWN0aW9uSWRSZTpuZXcgUmVnRXhwKEV4dC5iYXNlQ1NTUHJlZml4KyJhY3Rpb24tY29sLShcXGQrKSIpLGFsdFRleHQ6IiIsbWVudVRleHQ6IjxpPkFjdGlvbnM8L2k+Iixzb3J0YWJsZTpmYWxzZSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihjKXt2YXIgZD10aGlzLGE9RXh0LmFwcGx5KHt9LGMpLGI9YS5pdGVtc3x8W2RdO2Qub3JpZ1JlbmRlcmVyPWEucmVuZGVyZXJ8fGQucmVuZGVyZXI7ZC5vcmlnU2NvcGU9YS5zY29wZXx8ZC5zY29wZTtkZWxldGUgZC5yZW5kZXJlcjtkZWxldGUgZC5zY29wZTtkZWxldGUgYS5yZW5kZXJlcjtkZWxldGUgYS5zY29wZTtkZWxldGUgYS5pdGVtcztkLmNhbGxQYXJlbnQoW2FdKTtkLml0ZW1zPWI7aWYoZC5vcmlnUmVuZGVyZXIpe2QuaGFzQ3VzdG9tUmVuZGVyZXI9dHJ1ZX19LGRlZmF1bHRSZW5kZXJlcjpmdW5jdGlvbihnLGope3ZhciBlPXRoaXMsYj1FeHQuYmFzZUNTU1ByZWZpeCxrPWUub3JpZ1Njb3BlfHxlLGQ9ZS5pdGVtcyxjPWQubGVuZ3RoLGE9MCxoO2c9RXh0LmlzRnVuY3Rpb24oZS5vcmlnUmVuZGVyZXIpP2Uub3JpZ1JlbmRlcmVyLmFwcGx5KGssYXJndW1lbnRzKXx8IiI6IiI7ai50ZENscys9IiAiK0V4dC5iYXNlQ1NTUHJlZml4KyJhY3Rpb24tY29sLWNlbGwiO2Zvcig7YTxjO2ErKyl7aD1kW2FdO2lmKCFoLmhhc0FjdGlvbkNvbmZpZ3VyYXRpb24pe2guc3RvcFNlbGVjdGlvbj1lLnN0b3BTZWxlY3Rpb247aC5kaXNhYmxlPUV4dC5GdW5jdGlvbi5iaW5kKGUuZGlzYWJsZUFjdGlvbixlLFthXSwwKTtoLmVuYWJsZT1FeHQuRnVuY3Rpb24uYmluZChlLmVuYWJsZUFjdGlvbixlLFthXSwwKTtoLmhhc0FjdGlvbkNvbmZpZ3VyYXRpb249dHJ1ZX1nKz0nPGltZyBhbHQ9IicrKGguYWx0VGV4dHx8ZS5hbHRUZXh0KSsnIiBzcmM9IicrKGguaWNvbnx8RXh0LkJMQU5LX0lNQUdFX1VSTCkrJyIgY2xhc3M9IicrYisiYWN0aW9uLWNvbC1pY29uICIrYisiYWN0aW9uLWNvbC0iK1N0cmluZyhhKSsiICIrKGguZGlzYWJsZWQ/YisiaXRlbS1kaXNhYmxlZCI6IiAiKSsiICIrKEV4dC5pc0Z1bmN0aW9uKGguZ2V0Q2xhc3MpP2guZ2V0Q2xhc3MuYXBwbHkoaC5zY29wZXx8ayxhcmd1bWVudHMpOihoLmljb25DbHN8fGUuaWNvbkNsc3x8IiIpKSsnIicrKChoLnRvb2x0aXApPycgZGF0YS1xdGlwPSInK2gudG9vbHRpcCsnIic6IiIpKyIgLz4ifXJldHVybiBnfSxlbmFibGVBY3Rpb246ZnVuY3Rpb24oYixhKXt2YXIgYz10aGlzO2lmKCFiKXtiPTB9ZWxzZXtpZighRXh0LmlzTnVtYmVyKGIpKXtiPUV4dC5BcnJheS5pbmRleE9mKGMuaXRlbXMsYil9fWMuaXRlbXNbYl0uZGlzYWJsZWQ9ZmFsc2U7Yy51cCgidGFibGVwYW5lbCIpLmVsLnNlbGVjdCgiLiIrRXh0LmJhc2VDU1NQcmVmaXgrImFjdGlvbi1jb2wtIitiKS5yZW1vdmVDbHMoYy5kaXNhYmxlZENscyk7aWYoIWEpe2MuZmlyZUV2ZW50KCJlbmFibGUiLGMpfX0sZGlzYWJsZUFjdGlvbjpmdW5jdGlvbihiLGEpe3ZhciBjPXRoaXM7aWYoIWIpe2I9MH1lbHNle2lmKCFFeHQuaXNOdW1iZXIoYikpe2I9RXh0LkFycmF5LmluZGV4T2YoYy5pdGVtcyxiKX19Yy5pdGVtc1tiXS5kaXNhYmxlZD10cnVlO2MudXAoInRhYmxlcGFuZWwiKS5lbC5zZWxlY3QoIi4iK0V4dC5iYXNlQ1NTUHJlZml4KyJhY3Rpb24tY29sLSIrYikuYWRkQ2xzKGMuZGlzYWJsZWRDbHMpO2lmKCFhKXtjLmZpcmVFdmVudCgiZGlzYWJsZSIsYyl9fSxkZXN0cm95OmZ1bmN0aW9uKCl7ZGVsZXRlIHRoaXMuaXRlbXM7ZGVsZXRlIHRoaXMucmVuZGVyZXI7cmV0dXJuIHRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxwcm9jZXNzRXZlbnQ6ZnVuY3Rpb24oaSxsLG4sYSxqLGcsYyxwKXt2YXIgaD10aGlzLGQ9Zy5nZXRUYXJnZXQoKSxiLG8sayxtPWk9PSJrZXlkb3duIiYmZy5nZXRLZXkoKTtpZihtJiYhRXh0LmZseShkKS5maW5kUGFyZW50KGwuY2VsbFNlbGVjdG9yKSl7ZD1FeHQuZmx5KG4pLmRvd24oIi4iK0V4dC5iYXNlQ1NTUHJlZml4KyJhY3Rpb24tY29sLWljb24iLHRydWUpfWlmKGQmJihiPWQuY2xhc3NOYW1lLm1hdGNoKGguYWN0aW9uSWRSZSkpKXtvPWguaXRlbXNbcGFyc2VJbnQoYlsxXSwxMCldO2lmKG8pe2lmKGk9PSJjbGljayJ8fChtPT1nLkVOVEVSfHxtPT1nLlNQQUNFKSl7az1vLmhhbmRsZXJ8fGguaGFuZGxlcjtpZihrJiYhby5kaXNhYmxlZCl7ay5jYWxsKG8uc2NvcGV8fGguc2NvcGV8fGgsbCxhLGosbyxnLGMscCl9fWVsc2V7aWYoaT09Im1vdXNlZG93biImJm8uc3RvcFNlbGVjdGlvbiE9PWZhbHNlKXtyZXR1cm4gZmFsc2V9fX19cmV0dXJuIGguY2FsbFBhcmVudChhcmd1bWVudHMpfSxjYXNjYWRlOmZ1bmN0aW9uKGIsYSl7Yi5jYWxsKGF8fHRoaXMsdGhpcyl9LGdldFJlZkl0ZW1zOmZ1bmN0aW9uKCl7cmV0dXJuW119fSk7RXh0LmRlZmluZSgiRXh0LmdyaWQuY29sdW1uLkJvb2xlYW4iLHtleHRlbmQ6IkV4dC5ncmlkLmNvbHVtbi5Db2x1bW4iLGFsaWFzOlsid2lkZ2V0LmJvb2xlYW5jb2x1bW4iXSxhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5ncmlkLkJvb2xlYW5Db2x1bW4iLHRydWVUZXh0OiJ0cnVlIixmYWxzZVRleHQ6ImZhbHNlIix1bmRlZmluZWRUZXh0OiImIzE2MDsiLGRlZmF1bHRSZW5kZXJlcjpmdW5jdGlvbihhKXtpZihhPT09dW5kZWZpbmVkKXtyZXR1cm4gdGhpcy51bmRlZmluZWRUZXh0fWlmKCFhfHxhPT09ImZhbHNlIil7cmV0dXJuIHRoaXMuZmFsc2VUZXh0fXJldHVybiB0aGlzLnRydWVUZXh0fX0pO0V4dC5kZWZpbmUoIkV4dC5ncmlkLmNvbHVtbi5EYXRlIix7ZXh0ZW5kOiJFeHQuZ3JpZC5jb2x1bW4uQ29sdW1uIixhbGlhczpbIndpZGdldC5kYXRlY29sdW1uIl0scmVxdWlyZXM6WyJFeHQuRGF0ZSJdLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmdyaWQuRGF0ZUNvbHVtbiIsaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe2lmKCF0aGlzLmZvcm1hdCl7dGhpcy5mb3JtYXQ9RXh0LkRhdGUuZGVmYXVsdEZvcm1hdH10aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sZGVmYXVsdFJlbmRlcmVyOmZ1bmN0aW9uKGEpe3JldHVybiBFeHQudXRpbC5Gb3JtYXQuZGF0ZShhLHRoaXMuZm9ybWF0KX19KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5jb2x1bW4uTnVtYmVyIix7ZXh0ZW5kOiJFeHQuZ3JpZC5jb2x1bW4uQ29sdW1uIixhbGlhczpbIndpZGdldC5udW1iZXJjb2x1bW4iXSxyZXF1aXJlczpbIkV4dC51dGlsLkZvcm1hdCJdLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmdyaWQuTnVtYmVyQ29sdW1uIixmb3JtYXQ6IjAsMDAwLjAwIixkZWZhdWx0UmVuZGVyZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIEV4dC51dGlsLkZvcm1hdC5udW1iZXIoYSx0aGlzLmZvcm1hdCl9fSk7RXh0LmRlZmluZSgiRXh0LmdyaWQuY29sdW1uLlRlbXBsYXRlIix7ZXh0ZW5kOiJFeHQuZ3JpZC5jb2x1bW4uQ29sdW1uIixhbGlhczpbIndpZGdldC50ZW1wbGF0ZWNvbHVtbiJdLHJlcXVpcmVzOlsiRXh0LlhUZW1wbGF0ZSJdLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmdyaWQuVGVtcGxhdGVDb2x1bW4iLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EudHBsPSghRXh0LmlzUHJpbWl0aXZlKGEudHBsKSYmYS50cGwuY29tcGlsZSk/YS50cGw6bmV3IEV4dC5YVGVtcGxhdGUoYS50cGwpO2EuaGFzQ3VzdG9tUmVuZGVyZXI9dHJ1ZTthLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sZGVmYXVsdFJlbmRlcmVyOmZ1bmN0aW9uKGMsZCxhKXt2YXIgYj1FeHQuYXBwbHkoe30sYS5kYXRhLGEuZ2V0QXNzb2NpYXRlZERhdGEoKSk7cmV0dXJuIHRoaXMudHBsLmFwcGx5KGIpfX0pO0V4dC5kZWZpbmUoIkV4dC5ncmlkLnBsdWdpbi5FZGl0aW5nIix7YWxpYXM6ImVkaXRpbmcuZWRpdGluZyIscmVxdWlyZXM6WyJFeHQuZ3JpZC5jb2x1bW4uQ29sdW1uIiwiRXh0LnV0aWwuS2V5TmF2Il0sbWl4aW5zOntvYnNlcnZhYmxlOiJFeHQudXRpbC5PYnNlcnZhYmxlIn0sY2xpY2tzVG9FZGl0OjIsdHJpZ2dlckV2ZW50OnVuZGVmaW5lZCxkZWZhdWx0RmllbGRYVHlwZToidGV4dGZpZWxkIixlZGl0U3R5bGU6IiIsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztFeHQuYXBwbHkoYixhKTtiLmFkZEV2ZW50cygiYmVmb3JlZWRpdCIsImVkaXQiLCJ2YWxpZGF0ZWVkaXQiLCJjYW5jZWxlZGl0Iik7Yi5taXhpbnMub2JzZXJ2YWJsZS5jb25zdHJ1Y3Rvci5jYWxsKGIpO2Iub24oImVkaXQiLGZ1bmN0aW9uKGMsZCl7Yi5maXJlRXZlbnQoImFmdGVyZWRpdCIsYyxkKX0pfSxpbml0OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoYS5sb2NrYWJsZSl7YT1hLnZpZXcubm9ybWFsR3JpZH1iLmdyaWQ9YTtiLnZpZXc9YS52aWV3O2IuaW5pdEV2ZW50cygpO2IubW9uKGEsInJlY29uZmlndXJlIixiLm9uUmVjb25maWd1cmUsYik7Yi5vblJlY29uZmlndXJlKCk7YS5yZWxheUV2ZW50cyhiLFsiYmVmb3JlZWRpdCIsImVkaXQiLCJ2YWxpZGF0ZWVkaXQiLCJjYW5jZWxlZGl0Il0pO2EuaXNFZGl0YWJsZT10cnVlO2EuZWRpdGluZ1BsdWdpbj1hLnZpZXcuZWRpdGluZ1BsdWdpbj1ifSxvblJlY29uZmlndXJlOmZ1bmN0aW9uKCl7dGhpcy5pbml0RmllbGRBY2Nlc3NvcnModGhpcy52aWV3LmdldEdyaWRDb2x1bW5zKCkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuZ3JpZDtFeHQuZGVzdHJveShiLmtleU5hdik7Yi5yZW1vdmVGaWVsZEFjY2Vzc29ycyhhLmdldFZpZXcoKS5nZXRHcmlkQ29sdW1ucygpKTtiLmNsZWFyTGlzdGVuZXJzKCk7ZGVsZXRlIGIuZ3JpZC5lZGl0aW5nUGx1Z2luO2RlbGV0ZSBiLmdyaWQudmlldy5lZGl0aW5nUGx1Z2luO2RlbGV0ZSBiLmdyaWQ7ZGVsZXRlIGIudmlldztkZWxldGUgYi5lZGl0b3I7ZGVsZXRlIGIua2V5TmF2fSxnZXRFZGl0U3R5bGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lZGl0U3R5bGV9LGluaXRGaWVsZEFjY2Vzc29yczpmdW5jdGlvbihhKXthPVtdLmNvbmNhdChhKTt2YXIgZD10aGlzLGcsZT1hLmxlbmd0aCxiO2ZvcihnPTA7ZzxlO2crKyl7Yj1hW2ddO0V4dC5hcHBseUlmKGIse2dldEVkaXRvcjpmdW5jdGlvbihjLGgpe3JldHVybiBkLmdldENvbHVtbkZpZWxkKHRoaXMsaCl9LHNldEVkaXRvcjpmdW5jdGlvbihjKXtkLnNldENvbHVtbkZpZWxkKHRoaXMsYyl9fSl9fSxyZW1vdmVGaWVsZEFjY2Vzc29yczpmdW5jdGlvbihhKXthPVtdLmNvbmNhdChhKTt2YXIgZSxkPWEubGVuZ3RoLGI7Zm9yKGU9MDtlPGQ7ZSsrKXtiPWFbZV07ZGVsZXRlIGIuZ2V0RWRpdG9yO2RlbGV0ZSBiLnNldEVkaXRvcn19LGdldENvbHVtbkZpZWxkOmZ1bmN0aW9uKGIsYSl7dmFyIGM9Yi5maWVsZDtpZighYyYmYi5lZGl0b3Ipe2M9Yi5lZGl0b3I7ZGVsZXRlIGIuZWRpdG9yfWlmKCFjJiZhKXtjPWF9aWYoYyl7aWYoRXh0LmlzU3RyaW5nKGMpKXtjPXt4dHlwZTpjfX1pZighYy5pc0Zvcm1GaWVsZCl7Yz1FeHQuQ29tcG9uZW50TWFuYWdlci5jcmVhdGUoYyx0aGlzLmRlZmF1bHRGaWVsZFhUeXBlKX1iLmZpZWxkPWM7RXh0LmFwcGx5KGMse25hbWU6Yi5kYXRhSW5kZXh9KTtyZXR1cm4gY319LHNldENvbHVtbkZpZWxkOmZ1bmN0aW9uKGEsYil7aWYoRXh0LmlzT2JqZWN0KGIpJiYhYi5pc0Zvcm1GaWVsZCl7Yj1FeHQuQ29tcG9uZW50TWFuYWdlci5jcmVhdGUoYix0aGlzLmRlZmF1bHRGaWVsZFhUeXBlKX1hLmZpZWxkPWJ9LGluaXRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuaW5pdEVkaXRUcmlnZ2VycygpO2EuaW5pdENhbmNlbFRyaWdnZXJzKCl9LGluaXRDYW5jZWxUcmlnZ2VyczpFeHQuZW1wdHlGbixpbml0RWRpdFRyaWdnZXJzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIudmlldztpZihiLnRyaWdnZXJFdmVudD09ImNlbGxmb2N1cyIpe2IubW9uKGEsImNlbGxmb2N1cyIsYi5vbkNlbGxGb2N1cyxiKX1lbHNle2lmKGIudHJpZ2dlckV2ZW50PT0icm93Zm9jdXMiKXtiLm1vbihhLCJyb3dmb2N1cyIsYi5vblJvd0ZvY3VzLGIpfWVsc2V7aWYoYS5zZWxNb2RlbC5pc0NlbGxNb2RlbCl7YS5vbkNlbGxGb2N1cz1FeHQuRnVuY3Rpb24uYmluZChiLmJlZm9yZVZpZXdDZWxsRm9jdXMsYil9Yi5tb24oYSxiLnRyaWdnZXJFdmVudHx8KCJjZWxsIisoYi5jbGlja3NUb0VkaXQ9PT0xPyJjbGljayI6ImRibGNsaWNrIikpLGIub25DZWxsQ2xpY2ssYil9fWEub24oInJlbmRlciIsYi5hZGRIZWFkZXJFdmVudHMsYix7c2luZ2xlOnRydWV9KX0sYmVmb3JlVmlld0NlbGxGb2N1czpmdW5jdGlvbihhKXtpZih0aGlzLnZpZXcuc2VsTW9kZWwua2V5TmF2aWdhdGlvbnx8IXRoaXMuaXNDZWxsRWRpdGFibGV8fCF0aGlzLmlzQ2VsbEVkaXRhYmxlKGEucm93LGEuY29sdW1uSGVhZGVyKSl7dGhpcy52aWV3LmZvY3VzQ2VsbC5hcHBseSh0aGlzLnZpZXcsYXJndW1lbnRzKX19LG9uUm93Rm9jdXM6ZnVuY3Rpb24oYSxjLGIpe3RoaXMuc3RhcnRFZGl0KGMsMCl9LG9uQ2VsbEZvY3VzOmZ1bmN0aW9uKGMsYixhKXt0aGlzLnN0YXJ0RWRpdChhLnJvdyxhLmNvbHVtbil9LG9uQ2VsbENsaWNrOmZ1bmN0aW9uKGMsYSxpLGIsaCxkLGcpe2lmKCFjLmV4cGFuZGVyU2VsZWN0b3J8fCFnLmdldFRhcmdldChjLmV4cGFuZGVyU2VsZWN0b3IpKXt0aGlzLnN0YXJ0RWRpdChiLGMuZ2V0SGVhZGVyQXRJbmRleChpKSl9fSxhZGRIZWFkZXJFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EubW9uKGEuZ3JpZC5oZWFkZXJDdCx7c2NvcGU6YSxhZGQ6YS5vbkNvbHVtbkFkZCxyZW1vdmU6YS5vbkNvbHVtblJlbW92ZX0pO2Eua2V5TmF2PUV4dC5jcmVhdGUoIkV4dC51dGlsLktleU5hdiIsYS52aWV3LmVsLHtlbnRlcjphLm9uRW50ZXJLZXksZXNjOmEub25Fc2NLZXksc2NvcGU6YX0pfSxvbkNvbHVtbkFkZDpmdW5jdGlvbihhLGIpe2lmKGIuaXNIZWFkZXIpe3RoaXMuaW5pdEZpZWxkQWNjZXNzb3JzKGIpfX0sb25Db2x1bW5SZW1vdmU6ZnVuY3Rpb24oYSxiKXtpZihiLmlzSGVhZGVyKXt0aGlzLnJlbW92ZUZpZWxkQWNjZXNzb3JzKGIpfX0sb25FbnRlcktleTpmdW5jdGlvbihoKXt2YXIgZD10aGlzLGM9ZC5ncmlkLGI9Yy5nZXRTZWxlY3Rpb25Nb2RlbCgpLGEsaSxnPWMuaGVhZGVyQ3QuZ2V0SGVhZGVyQXRJbmRleCgwKTtpZihiLmdldEN1cnJlbnRQb3NpdGlvbil7aT1iLmdldEN1cnJlbnRQb3NpdGlvbigpO2lmKGkpe2E9Yy5zdG9yZS5nZXRBdChpLnJvdyk7Zz1jLmhlYWRlckN0LmdldEhlYWRlckF0SW5kZXgoaS5jb2x1bW4pfX1lbHNle2E9Yi5nZXRMYXN0U2VsZWN0ZWQoKX1pZihhJiZnKXtkLnN0YXJ0RWRpdChhLGcpfX0sb25Fc2NLZXk6ZnVuY3Rpb24oYSl7dGhpcy5jYW5jZWxFZGl0KCl9LGJlZm9yZUVkaXQ6RXh0LmVtcHR5Rm4sc3RhcnRFZGl0OmZ1bmN0aW9uKGEsZCl7dmFyIGM9dGhpcyxiPWMuZ2V0RWRpdGluZ0NvbnRleHQoYSxkKTtpZihjLmJlZm9yZUVkaXQoYik9PT1mYWxzZXx8Yy5maXJlRXZlbnQoImJlZm9yZWVkaXQiLGMsYik9PT1mYWxzZXx8Yi5jYW5jZWx8fCFjLmdyaWQudmlldy5pc1Zpc2libGUodHJ1ZSkpe3JldHVybiBmYWxzZX1jLmNvbnRleHQ9YjtjLmVkaXRpbmc9dHJ1ZX0sZ2V0RWRpdGluZ0NvbnRleHQ6ZnVuY3Rpb24oYixoKXt2YXIgZz10aGlzLGM9Zy5ncmlkLGE9Yy5nZXRWaWV3KCksZT1hLmdldE5vZGUoYiksZCxpO2lmKCFlKXtyZXR1cm59aD1jLmhlYWRlckN0LmdldFZpc2libGVIZWFkZXJDbG9zZXN0VG9JbmRleChFeHQuaXNOdW1iZXIoaCk/aDpoLmdldEluZGV4KCkpO2lmKCFoKXtyZXR1cm59aT1oLmdldEluZGV4KCk7aWYoRXh0LmlzTnVtYmVyKGIpKXtkPWI7Yj1hLmdldFJlY29yZChlKX1lbHNle2Q9YS5pbmRleE9mKGUpfXJldHVybntncmlkOmMscmVjb3JkOmIsZmllbGQ6aC5kYXRhSW5kZXgsdmFsdWU6Yi5nZXQoaC5kYXRhSW5kZXgpLHJvdzphLmdldE5vZGUoZCksY29sdW1uOmgscm93SWR4OmQsY29sSWR4Oml9fSxjYW5jZWxFZGl0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmVkaXRpbmc9ZmFsc2U7YS5maXJlRXZlbnQoImNhbmNlbGVkaXQiLGEsYS5jb250ZXh0KX0sY29tcGxldGVFZGl0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLmVkaXRpbmcmJmEudmFsaWRhdGVFZGl0KCkpe2EuZmlyZUV2ZW50KCJlZGl0IixhLGEuY29udGV4dCl9ZGVsZXRlIGEuY29udGV4dDthLmVkaXRpbmc9ZmFsc2V9LHZhbGlkYXRlRWRpdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmNvbnRleHQ7cmV0dXJuIGIuZmlyZUV2ZW50KCJ2YWxpZGF0ZWVkaXQiLGIsYSkhPT1mYWxzZSYmIWEuY2FuY2VsfX0pO0V4dC5kZWZpbmUoIkV4dC5ncmlkLnBsdWdpbi5DZWxsRWRpdGluZyIse2FsaWFzOiJwbHVnaW4uY2VsbGVkaXRpbmciLGV4dGVuZDoiRXh0LmdyaWQucGx1Z2luLkVkaXRpbmciLHJlcXVpcmVzOlsiRXh0LmdyaWQuQ2VsbEVkaXRvciIsIkV4dC51dGlsLkRlbGF5ZWRUYXNrIl0sY29uc3RydWN0b3I6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLmVkaXRvcnM9bmV3IEV4dC51dGlsLk1peGVkQ29sbGVjdGlvbihmYWxzZSxmdW5jdGlvbihhKXtyZXR1cm4gYS5lZGl0b3JJZH0pO3RoaXMuZWRpdFRhc2s9bmV3IEV4dC51dGlsLkRlbGF5ZWRUYXNrKCl9LG9uUmVjb25maWd1cmU6ZnVuY3Rpb24oKXt0aGlzLmVkaXRvcnMuY2xlYXIoKTt0aGlzLmNhbGxQYXJlbnQoKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5lZGl0VGFzay5jYW5jZWwoKTthLmVkaXRvcnMuZWFjaChFeHQuZGVzdHJveSxFeHQpO2EuZWRpdG9ycy5jbGVhcigpO2EuY2FsbFBhcmVudChhcmd1bWVudHMpfSxvbkJvZHlTY3JvbGw6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9Yy5nZXRBY3RpdmVFZGl0b3IoKSxhPWMudmlldy5lbC5nZXRTY3JvbGwoKTtpZihiJiZiLmVkaXRpbmcpe2lmKGEudG9wIT09Yy5zY3JvbGwudG9wKXtpZihiLmZpZWxkKXtpZihiLmZpZWxkLnRyaWdnZXJCbHVyKXtiLmZpZWxkLnRyaWdnZXJCbHVyKCl9ZWxzZXtiLmZpZWxkLmJsdXIoKX19fWVsc2V7Yi5yZWFsaWduKCl9fWMuc2Nyb2xsPWF9LGluaXRDYW5jZWxUcmlnZ2VyczpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj1jLmdyaWQsYT1iLnZpZXc7YS5hZGRFbExpc3RlbmVyKCJtb3VzZXdoZWVsIixjLmNhbmNlbEVkaXQsYyk7Yy5tb24oYSwiYm9keXNjcm9sbCIsYy5vbkJvZHlTY3JvbGwsYyk7Yy5tb24oYix7Y29sdW1ucmVzaXplOmMuY2FuY2VsRWRpdCxjb2x1bW5tb3ZlOmMuY2FuY2VsRWRpdCxzY29wZTpjfSl9LGlzQ2VsbEVkaXRhYmxlOmZ1bmN0aW9uKGEsZCl7dmFyIGM9dGhpcyxiPWMuZ2V0RWRpdGluZ0NvbnRleHQoYSxkKTtpZihjLmdyaWQudmlldy5pc1Zpc2libGUodHJ1ZSkmJmIpe2Q9Yi5jb2x1bW47YT1iLnJlY29yZDtpZihkJiZjLmdldEVkaXRvcihhLGQpKXtyZXR1cm4gdHJ1ZX19fSxzdGFydEVkaXQ6ZnVuY3Rpb24oYSxnKXt2YXIgZD10aGlzLGM9ZC5nZXRFZGl0aW5nQ29udGV4dChhLGcpLGUsYjtkLmNvbXBsZXRlRWRpdCgpO2lmKCFjfHwhZC5ncmlkLnZpZXcuaXNWaXNpYmxlKHRydWUpKXtyZXR1cm4gZmFsc2V9YT1jLnJlY29yZDtnPWMuY29sdW1uO2lmKGcmJiFnLmdldEVkaXRvcihhKSl7cmV0dXJuIGZhbHNlfWU9YS5nZXQoZy5kYXRhSW5kZXgpO2Mub3JpZ2luYWxWYWx1ZT1jLnZhbHVlPWU7aWYoZC5iZWZvcmVFZGl0KGMpPT09ZmFsc2V8fGQuZmlyZUV2ZW50KCJiZWZvcmVlZGl0IixkLGMpPT09ZmFsc2V8fGMuY2FuY2VsKXtyZXR1cm4gZmFsc2V9Yj1kLmdldEVkaXRvcihhLGcpO2QuZ3JpZC52aWV3LmNhbmNlbEZvY3VzKCk7ZC52aWV3LmZvY3VzQ2VsbCh7cm93OmMucm93LGNvbHVtbjpjLmNvbElkeH0pO2lmKGIpe2QuY29udGV4dD1jO2Quc2V0QWN0aXZlRWRpdG9yKGIpO2Quc2V0QWN0aXZlUmVjb3JkKGEpO2Quc2V0QWN0aXZlQ29sdW1uKGcpO2QuZWRpdFRhc2suZGVsYXkoMTUsYi5zdGFydEVkaXQsYixbZC5nZXRDZWxsKGEsZyksZV0pO2QuZWRpdGluZz10cnVlO2Quc2Nyb2xsPWQudmlldy5lbC5nZXRTY3JvbGwoKTtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9LGNvbXBsZXRlRWRpdDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0QWN0aXZlRWRpdG9yKCk7aWYoYSl7YS5jb21wbGV0ZUVkaXQoKTt0aGlzLmVkaXRpbmc9ZmFsc2V9fSxzZXRBY3RpdmVFZGl0b3I6ZnVuY3Rpb24oYSl7dGhpcy5hY3RpdmVFZGl0b3I9YX0sZ2V0QWN0aXZlRWRpdG9yOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlRWRpdG9yfSxzZXRBY3RpdmVDb2x1bW46ZnVuY3Rpb24oYSl7dGhpcy5hY3RpdmVDb2x1bW49YX0sZ2V0QWN0aXZlQ29sdW1uOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlQ29sdW1ufSxzZXRBY3RpdmVSZWNvcmQ6ZnVuY3Rpb24oYSl7dGhpcy5hY3RpdmVSZWNvcmQ9YX0sZ2V0QWN0aXZlUmVjb3JkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWN0aXZlUmVjb3JkfSxnZXRFZGl0b3I6ZnVuY3Rpb24oYSxkKXt2YXIgZz10aGlzLGU9Zy5lZGl0b3JzLGM9ZC5nZXRJdGVtSWQoKSxiPWUuZ2V0QnlLZXkoYyk7aWYoYil7cmV0dXJuIGJ9ZWxzZXtiPWQuZ2V0RWRpdG9yKGEpO2lmKCFiKXtyZXR1cm4gZmFsc2V9aWYoIShiIGluc3RhbmNlb2YgRXh0LmdyaWQuQ2VsbEVkaXRvcikpe2I9bmV3IEV4dC5ncmlkLkNlbGxFZGl0b3Ioe2VkaXRvcklkOmMsZmllbGQ6Yixvd25lckN0OmcuZ3JpZH0pfWIuZWRpdGluZ1BsdWdpbj1nO2IuaXNGb3JUcmVlPWcuZ3JpZC5pc1RyZWU7Yi5vbih7c2NvcGU6ZyxzcGVjaWFsa2V5Omcub25TcGVjaWFsS2V5LGNvbXBsZXRlOmcub25FZGl0Q29tcGxldGUsY2FuY2VsZWRpdDpnLmNhbmNlbEVkaXR9KTtlLmFkZChiKTtyZXR1cm4gYn19LHNldENvbHVtbkZpZWxkOmZ1bmN0aW9uKGIsYyl7dmFyIGE9dGhpcy5lZGl0b3JzLmdldEJ5S2V5KGIuZ2V0SXRlbUlkKCkpO0V4dC5kZXN0cm95KGEsYi5maWVsZCk7dGhpcy5lZGl0b3JzLnJlbW92ZUF0S2V5KGIuZ2V0SXRlbUlkKCkpO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxnZXRDZWxsOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZ3JpZC5nZXRWaWV3KCkuZ2V0Q2VsbChhLGIpfSxvblNwZWNpYWxLZXk6ZnVuY3Rpb24oYSxnLGQpe3ZhciBjPXRoaXMsYj1jLmdyaWQsaDtpZihkLmdldEtleSgpPT09ZC5UQUIpe2Quc3RvcEV2ZW50KCk7aWYoYSl7YS5vbkVkaXRvclRhYihkKX1oPWIuZ2V0U2VsZWN0aW9uTW9kZWwoKTtpZihoLm9uRWRpdG9yVGFiKXtoLm9uRWRpdG9yVGFiKGMsZCl9fX0sb25FZGl0Q29tcGxldGU6ZnVuY3Rpb24oYyxoLGIpe3ZhciBnPXRoaXMsZD1nLmdyaWQsZT1nLmdldEFjdGl2ZUNvbHVtbigpLGE7aWYoZSl7YT1nLmNvbnRleHQucmVjb3JkO2cuc2V0QWN0aXZlRWRpdG9yKG51bGwpO2cuc2V0QWN0aXZlQ29sdW1uKG51bGwpO2cuc2V0QWN0aXZlUmVjb3JkKG51bGwpO2lmKCFnLnZhbGlkYXRlRWRpdCgpKXtyZXR1cm59aWYoIWEuaXNFcXVhbChoLGIpKXthLnNldChlLmRhdGFJbmRleCxoKX1lbHNle2QuZ2V0VmlldygpLmdldEVsKGUpLmZvY3VzKCl9Zy5jb250ZXh0LnZhbHVlPWg7Zy5maXJlRXZlbnQoImVkaXQiLGcsZy5jb250ZXh0KX19LGNhbmNlbEVkaXQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9Yy5nZXRBY3RpdmVFZGl0b3IoKSxhPWMuZ3JpZC5nZXRWaWV3KCkuZ2V0RWwoYy5nZXRBY3RpdmVDb2x1bW4oKSk7Yy5zZXRBY3RpdmVFZGl0b3IobnVsbCk7Yy5zZXRBY3RpdmVDb2x1bW4obnVsbCk7Yy5zZXRBY3RpdmVSZWNvcmQobnVsbCk7aWYoYil7Yi5jYW5jZWxFZGl0KCk7YS5mb2N1cygpO2MuY2FsbFBhcmVudChhcmd1bWVudHMpfX0sc3RhcnRFZGl0QnlQb3NpdGlvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzLmdyaWQuZ2V0U2VsZWN0aW9uTW9kZWwoKTthLmNvbHVtbj10aGlzLnZpZXcuZ2V0SGVhZGVyQ3QoKS5nZXRWaXNpYmxlSGVhZGVyQ2xvc2VzdFRvSW5kZXgoYS5jb2x1bW4pLmdldEluZGV4KCk7aWYoYi5zZWxlY3RCeVBvc2l0aW9uKXtiLnNlbGVjdEJ5UG9zaXRpb24oYSl9cmV0dXJuIHRoaXMuc3RhcnRFZGl0KGEucm93LGEuY29sdW1uKX19KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5wcm9wZXJ0eS5IZWFkZXJDb250YWluZXIiLHtleHRlbmQ6IkV4dC5ncmlkLmhlYWRlci5Db250YWluZXIiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmdyaWQuUHJvcGVydHlDb2x1bW5Nb2RlbCIsbmFtZVdpZHRoOjExNSxuYW1lVGV4dDoiTmFtZSIsdmFsdWVUZXh0OiJWYWx1ZSIsZGF0ZUZvcm1hdDoibS9qL1kiLHRydWVUZXh0OiJ0cnVlIixmYWxzZVRleHQ6ImZhbHNlIixuYW1lQ29sdW1uQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLXByb3BlcnR5LW5hbWUiLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGIsYSl7dmFyIGM9dGhpcztjLmdyaWQ9YjtjLnN0b3JlPWE7Yy5jYWxsUGFyZW50KFt7aXRlbXM6W3toZWFkZXI6Yy5uYW1lVGV4dCx3aWR0aDpiLm5hbWVDb2x1bW5XaWR0aHx8Yy5uYW1lV2lkdGgsc29ydGFibGU6Yi5zb3J0YWJsZUNvbHVtbnMsZGF0YUluZGV4OmIubmFtZUZpZWxkLHJlbmRlcmVyOkV4dC5GdW5jdGlvbi5iaW5kKGMucmVuZGVyUHJvcCxjKSxpdGVtSWQ6Yi5uYW1lRmllbGQsbWVudURpc2FibGVkOnRydWUsdGRDbHM6Yy5uYW1lQ29sdW1uQ2xzfSx7aGVhZGVyOmMudmFsdWVUZXh0LHJlbmRlcmVyOkV4dC5GdW5jdGlvbi5iaW5kKGMucmVuZGVyQ2VsbCxjKSxnZXRFZGl0b3I6RXh0LkZ1bmN0aW9uLmJpbmQoYy5nZXRDZWxsRWRpdG9yLGMpLHNvcnRhYmxlOmIuc29ydGFibGVDb2x1bW5zLGZsZXg6MSxmaXhlZDp0cnVlLGRhdGFJbmRleDpiLnZhbHVlRmllbGQsaXRlbUlkOmIudmFsdWVGaWVsZCxtZW51RGlzYWJsZWQ6dHJ1ZX1dfV0pfSxnZXRDZWxsRWRpdG9yOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdyaWQuZ2V0Q2VsbEVkaXRvcihhLHRoaXMpfSxyZW5kZXJQcm9wOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldFByb3BlcnR5TmFtZShhKX0scmVuZGVyQ2VsbDpmdW5jdGlvbihnLGQsZSl7dmFyIGI9dGhpcyxjPWIuZ3JpZC5jdXN0b21SZW5kZXJlcnNbZS5nZXQoYi5ncmlkLm5hbWVGaWVsZCldLGE9ZztpZihjKXtyZXR1cm4gYy5hcHBseShiLGFyZ3VtZW50cyl9aWYoRXh0LmlzRGF0ZShnKSl7YT1iLnJlbmRlckRhdGUoZyl9ZWxzZXtpZihFeHQuaXNCb29sZWFuKGcpKXthPWIucmVuZGVyQm9vbChnKX19cmV0dXJuIEV4dC51dGlsLkZvcm1hdC5odG1sRW5jb2RlKGEpfSxyZW5kZXJEYXRlOkV4dC51dGlsLkZvcm1hdC5kYXRlLHJlbmRlckJvb2w6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXNbYT8idHJ1ZVRleHQiOiJmYWxzZVRleHQiXX0sZ2V0UHJvcGVydHlOYW1lOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuZ3JpZC5wcm9wZXJ0eU5hbWVzO3JldHVybiBhJiZhW2JdP2FbYl06Yn19KTtFeHQuZGVmaW5lKCJFeHQubGF5b3V0LmNvbnRhaW5lci5WQm94Iix7YWxpYXM6WyJsYXlvdXQudmJveCJdLGV4dGVuZDoiRXh0LmxheW91dC5jb250YWluZXIuQm94IixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5sYXlvdXQuVkJveExheW91dCIsYWxpZ246ImxlZnQiLHR5cGU6InZib3giLGRpcmVjdGlvbjoidmVydGljYWwiLGhvcml6b250YWw6ZmFsc2UsbmFtZXM6e2xyOiJ0YiIsbGVmdDoidG9wIixsZWZ0Q2FwOiJUb3AiLHJpZ2h0OiJib3R0b20iLHBvc2l0aW9uOiJ0b3AiLHdpZHRoOiJoZWlnaHQiLGNvbnRlbnRXaWR0aDoiY29udGVudEhlaWdodCIsbWluV2lkdGg6Im1pbkhlaWdodCIsbWF4V2lkdGg6Im1heEhlaWdodCIsd2lkdGhDYXA6IkhlaWdodCIsd2lkdGhNb2RlbDoiaGVpZ2h0TW9kZWwiLHdpZHRoSW5kZXg6MSx4OiJ5IixzY3JvbGxMZWZ0OiJzY3JvbGxUb3AiLG92ZXJmbG93WDoib3ZlcmZsb3dZIixjZW50ZXI6ImNlbnRlciIsdG9wOiJsZWZ0Iix0b3BQb3NpdGlvbjoibGVmdCIsYm90dG9tOiJyaWdodCIsaGVpZ2h0OiJ3aWR0aCIsY29udGVudEhlaWdodDoiY29udGVudFdpZHRoIixtaW5IZWlnaHQ6Im1pbldpZHRoIixtYXhIZWlnaHQ6Im1heFdpZHRoIixoZWlnaHRDYXA6IldpZHRoIixoZWlnaHRNb2RlbDoid2lkdGhNb2RlbCIsaGVpZ2h0SW5kZXg6MCx5OiJ4IixzY3JvbGxUb3A6InNjcm9sbExlZnQiLG92ZXJmbG93WToib3ZlcmZsb3dYIixnZXRXaWR0aDoiZ2V0SGVpZ2h0IixnZXRIZWlnaHQ6ImdldFdpZHRoIixzZXRXaWR0aDoic2V0SGVpZ2h0IixzZXRIZWlnaHQ6InNldFdpZHRoIixnb3RXaWR0aDoiZ290SGVpZ2h0Iixnb3RIZWlnaHQ6ImdvdFdpZHRoIixzZXRDb250ZW50V2lkdGg6InNldENvbnRlbnRIZWlnaHQiLHNldENvbnRlbnRIZWlnaHQ6InNldENvbnRlbnRXaWR0aCJ9LHNpemVQb2xpY3k6e2ZsZXg6eyIiOntzZXRzV2lkdGg6MCxzZXRzSGVpZ2h0OjF9LHN0cmV0Y2g6e3NldHNXaWR0aDoxLHNldHNIZWlnaHQ6MX0sc3RyZXRjaG1heDp7cmVhZHNXaWR0aDoxLHNldHNXaWR0aDoxLHNldHNIZWlnaHQ6MX19LCIiOntzZXRzV2lkdGg6MCxzZXRzSGVpZ2h0OjB9LHN0cmV0Y2g6e3NldHNXaWR0aDoxLHNldHNIZWlnaHQ6MH0sc3RyZXRjaG1heDp7cmVhZHNXaWR0aDoxLHNldHNXaWR0aDoxLHNldHNIZWlnaHQ6MH19fSk7RXh0LmRlZmluZSgiRXh0LmxheW91dC5jb250YWluZXIuQWNjb3JkaW9uIix7ZXh0ZW5kOiJFeHQubGF5b3V0LmNvbnRhaW5lci5WQm94IixhbGlhczpbImxheW91dC5hY2NvcmRpb24iXSxhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5sYXlvdXQuQWNjb3JkaW9uTGF5b3V0IixpdGVtQ2xzOltFeHQuYmFzZUNTU1ByZWZpeCsiYm94LWl0ZW0iLEV4dC5iYXNlQ1NTUHJlZml4KyJhY2NvcmRpb24taXRlbSJdLGFsaWduOiJzdHJldGNoIixmaWxsOnRydWUsdGl0bGVDb2xsYXBzZTp0cnVlLGhpZGVDb2xsYXBzZVRvb2w6ZmFsc2UsY29sbGFwc2VGaXJzdDpmYWxzZSxhbmltYXRlOnRydWUsYWN0aXZlT25Ub3A6ZmFsc2UsbXVsdGk6ZmFsc2UsZGVmYXVsdEFuaW1hdGVQb2xpY3k6e3k6dHJ1ZSxoZWlnaHQ6dHJ1ZX0sY29uc3RydWN0b3I6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGEuYW5pbWF0ZSl7YS5hbmltYXRlUG9saWN5PUV4dC5hcHBseSh7fSxhLmRlZmF1bHRBbmltYXRlUG9saWN5KX1lbHNle2EuYW5pbWF0ZVBvbGljeT1udWxsfX0sYmVmb3JlUmVuZGVySXRlbXM6ZnVuY3Rpb24oYil7dmFyIGU9dGhpcyxkPWIubGVuZ3RoLGM9MCxhO2Zvcig7YzxkO2MrKyl7YT1iW2NdO2lmKCFhLnJlbmRlcmVkKXtpZihlLmNvbGxhcHNlRmlyc3Qpe2EuY29sbGFwc2VGaXJzdD1lLmNvbGxhcHNlRmlyc3R9aWYoZS5oaWRlQ29sbGFwc2VUb29sKXthLmhpZGVDb2xsYXBzZVRvb2w9ZS5oaWRlQ29sbGFwc2VUb29sO2EudGl0bGVDb2xsYXBzZT10cnVlfWVsc2V7aWYoZS50aXRsZUNvbGxhcHNlKXthLnRpdGxlQ29sbGFwc2U9ZS50aXRsZUNvbGxhcHNlfX1kZWxldGUgYS5oaWRlSGVhZGVyO2RlbGV0ZSBhLndpZHRoO2EuY29sbGFwc2libGU9dHJ1ZTthLnRpdGxlPWEudGl0bGV8fCImIzE2MDsiO2EuYWRkQm9keUNscyhFeHQuYmFzZUNTU1ByZWZpeCsiYWNjb3JkaW9uLWJvZHkiKTtpZighZS5tdWx0aSl7aWYoZS5leHBhbmRlZEl0ZW0hPT11bmRlZmluZWQpe2EuY29sbGFwc2VkPXRydWV9ZWxzZXtpZihhLmhhc093blByb3BlcnR5KCJjb2xsYXBzZWQiKSYmYS5jb2xsYXBzZWQ9PT1mYWxzZSl7ZS5leHBhbmRlZEl0ZW09Y31lbHNle2EuY29sbGFwc2VkPXRydWV9fWUub3duZXIubW9uKGEse3Nob3c6ZS5vbkNvbXBvbmVudFNob3csYmVmb3JlZXhwYW5kOmUub25Db21wb25lbnRFeHBhbmQsc2NvcGU6ZX0pfWlmKGUuZmlsbCl7ZS5vd25lci5tb24oYSx7YmVmb3JlY29sbGFwc2U6ZS5vbkNvbXBvbmVudENvbGxhcHNlLHNjb3BlOmV9KX19fWlmKGQmJmUuZXhwYW5kZWRJdGVtPT09dW5kZWZpbmVkKXtlLmV4cGFuZGVkSXRlbT0wO2JbMF0uY29sbGFwc2VkPWZhbHNlfX0sZ2V0SXRlbXNSZW5kZXJUcmVlOmZ1bmN0aW9uKGEpe3RoaXMuYmVmb3JlUmVuZGVySXRlbXMoYSk7cmV0dXJuIHRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxyZW5kZXJJdGVtczpmdW5jdGlvbihhLGIpe3RoaXMuYmVmb3JlUmVuZGVySXRlbXMoYSk7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGNvbmZpZ3VyZUl0ZW06ZnVuY3Rpb24oYSl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5hbmltQ29sbGFwc2U9YS5ib3JkZXI9ZmFsc2U7aWYodGhpcy5maWxsKXthLmZsZXg9MX19LG9uQ2hpbGRQYW5lbFJlbmRlcjpmdW5jdGlvbihhKXthLmhlYWRlci5hZGRDbHMoRXh0LmJhc2VDU1NQcmVmaXgrImFjY29yZGlvbi1oZCIpfSxiZWdpbkxheW91dDpmdW5jdGlvbihhKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLnVwZGF0ZVBhbmVsQ2xhc3NlcyhhKX0sdXBkYXRlUGFuZWxDbGFzc2VzOmZ1bmN0aW9uKGUpe3ZhciBjPWUudmlzaWJsZUl0ZW1zLGQ9Yy5sZW5ndGgsYT10cnVlLGIsaCxnO2ZvcihiPTA7YjxkO2IrKyl7aD1jW2JdO2c9aC5oZWFkZXI7Zy5hZGRDbHMoRXh0LmJhc2VDU1NQcmVmaXgrImFjY29yZGlvbi1oZCIpO2lmKGEpe2cucmVtb3ZlQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJhY2NvcmRpb24taGQtc2libGluZy1leHBhbmRlZCIpfWVsc2V7Zy5hZGRDbHMoRXh0LmJhc2VDU1NQcmVmaXgrImFjY29yZGlvbi1oZC1zaWJsaW5nLWV4cGFuZGVkIil9aWYoYisxPT1kJiZoLmNvbGxhcHNlZCl7Zy5hZGRDbHMoRXh0LmJhc2VDU1NQcmVmaXgrImFjY29yZGlvbi1oZC1sYXN0LWNvbGxhcHNlZCIpfWVsc2V7Zy5yZW1vdmVDbHMoRXh0LmJhc2VDU1NQcmVmaXgrImFjY29yZGlvbi1oZC1sYXN0LWNvbGxhcHNlZCIpfWE9aC5jb2xsYXBzZWR9fSxvbkNvbXBvbmVudEV4cGFuZDpmdW5jdGlvbihoKXt2YXIgZT10aGlzLGE9ZS5vd25lcixjLGcsZCxiO2lmKCFlLnByb2Nlc3Npbmcpe2UucHJvY2Vzc2luZz10cnVlO2I9YS5kZWZlckxheW91dHM7YS5kZWZlckxheW91dHM9dHJ1ZTtjPWUubXVsdGk/W106YS5xdWVyeSgiPnBhbmVsOm5vdChbY29sbGFwc2VkXSkiKTtnPWMubGVuZ3RoO2ZvcihkPTA7ZDxnO2QrKyl7Y1tkXS5jb2xsYXBzZSgpfWEuZGVmZXJMYXlvdXRzPWI7ZS5wcm9jZXNzaW5nPWZhbHNlfX0sb25Db21wb25lbnRDb2xsYXBzZTpmdW5jdGlvbihkKXt2YXIgZT10aGlzLGE9ZS5vd25lcixnLGMsYjtpZighZS5wcm9jZXNzaW5nKXtlLnByb2Nlc3Npbmc9dHJ1ZTtiPWEuZGVmZXJMYXlvdXRzO2EuZGVmZXJMYXlvdXRzPXRydWU7Zz1kLm5leHQoKXx8ZC5wcmV2KCk7aWYoZS5tdWx0aSl7Yz1lLm93bmVyLnF1ZXJ5KCI+cGFuZWw6bm90KFtjb2xsYXBzZWRdKSIpO2lmKGMubGVuZ3RoPT09MSl7Zy5leHBhbmQoKX19ZWxzZXtpZihnKXtnLmV4cGFuZCgpfX1hLmRlZmVyTGF5b3V0cz1iO2UucHJvY2Vzc2luZz1mYWxzZX19LG9uQ29tcG9uZW50U2hvdzpmdW5jdGlvbihhKXt0aGlzLm9uQ29tcG9uZW50RXhwYW5kKGEpfX0pO0V4dC5kZWZpbmUoIkV4dC50b29sYmFyLlNwYWNlciIse2V4dGVuZDoiRXh0LkNvbXBvbmVudCIsYWxpYXM6IndpZGdldC50YnNwYWNlciIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuVG9vbGJhci5TcGFjZXIiLGJhc2VDbHM6RXh0LmJhc2VDU1NQcmVmaXgrInRvb2xiYXItc3BhY2VyIixmb2N1c2FibGU6ZmFsc2V9KTtFeHQuZGVmaW5lKCJFeHQudG9vbGJhci5UZXh0SXRlbSIse2V4dGVuZDoiRXh0LnRvb2xiYXIuSXRlbSIscmVxdWlyZXM6WyJFeHQuWFRlbXBsYXRlIl0sYWxpYXM6IndpZGdldC50YnRleHQiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LlRvb2xiYXIuVGV4dEl0ZW0iLHRleHQ6IiIscmVuZGVyVHBsOiJ7dGV4dH0iLGJhc2VDbHM6RXh0LmJhc2VDU1NQcmVmaXgrInRvb2xiYXItdGV4dCIsYmVmb3JlUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoKTtFeHQuYXBwbHkoYS5yZW5kZXJEYXRhLHt0ZXh0OmEudGV4dH0pfSxzZXRUZXh0OmZ1bmN0aW9uKGEpe2lmKHRoaXMucmVuZGVyZWQpe3RoaXMuZWwudXBkYXRlKGEpO3RoaXMub3duZXJDdC5kb0xheW91dCgpfWVsc2V7dGhpcy50ZXh0PWF9fX0pO0V4dC5kZWZpbmUoIkV4dC50b29sYmFyLlRvb2xiYXIiLHtleHRlbmQ6IkV4dC5jb250YWluZXIuQ29udGFpbmVyIixyZXF1aXJlczpbIkV4dC50b29sYmFyLkZpbGwiLCJFeHQubGF5b3V0LmNvbnRhaW5lci5IQm94IiwiRXh0LmxheW91dC5jb250YWluZXIuVkJveCJdLHVzZXM6WyJFeHQudG9vbGJhci5TZXBhcmF0b3IiXSxhbGlhczoid2lkZ2V0LnRvb2xiYXIiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LlRvb2xiYXIiLGlzVG9vbGJhcjp0cnVlLGJhc2VDbHM6RXh0LmJhc2VDU1NQcmVmaXgrInRvb2xiYXIiLGFyaWFSb2xlOiJ0b29sYmFyIixkZWZhdWx0VHlwZToiYnV0dG9uIix2ZXJ0aWNhbDpmYWxzZSxlbmFibGVPdmVyZmxvdzpmYWxzZSxtZW51VHJpZ2dlckNsczpFeHQuYmFzZUNTU1ByZWZpeCsidG9vbGJhci1tb3JlLWljb24iLHRyYWNrTWVudXM6dHJ1ZSxpdGVtQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJ0b29sYmFyLWl0ZW0iLHN0YXRpY3M6e3Nob3J0Y3V0czp7Ii0iOiJ0YnNlcGFyYXRvciIsIiAiOiJ0YnNwYWNlciJ9LHNob3J0Y3V0c0hWOnswOnsiLT4iOnt4dHlwZToidGJmaWxsIixoZWlnaHQ6MH19LDE6eyItPiI6e3h0eXBlOiJ0YmZpbGwiLHdpZHRoOjB9fX19LGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE7aWYoIWIubGF5b3V0JiZiLmVuYWJsZU92ZXJmbG93KXtiLmxheW91dD17b3ZlcmZsb3dIYW5kbGVyOiJNZW51In19aWYoYi5kb2NrPT09InJpZ2h0Inx8Yi5kb2NrPT09ImxlZnQiKXtiLnZlcnRpY2FsPXRydWV9Yi5sYXlvdXQ9RXh0LmFwcGx5SWYoRXh0LmlzU3RyaW5nKGIubGF5b3V0KT97dHlwZTpiLmxheW91dH06Yi5sYXlvdXR8fHt9LHt0eXBlOmIudmVydGljYWw/InZib3giOiJoYm94IixhbGlnbjpiLnZlcnRpY2FsPyJzdHJldGNobWF4IjoibWlkZGxlIn0pO2lmKGIudmVydGljYWwpe2IuYWRkQ2xzV2l0aFVJKCJ2ZXJ0aWNhbCIpfWlmKGIudWk9PT0iZm9vdGVyIil7Yi5pZ25vcmVCb3JkZXJNYW5hZ2VtZW50PXRydWV9Yi5jYWxsUGFyZW50KCk7Yi5hZGRFdmVudHMoIm92ZXJmbG93Y2hhbmdlIil9LGdldFJlZkl0ZW1zOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMsYj1lLmNhbGxQYXJlbnQoYXJndW1lbnRzKSxkPWUubGF5b3V0LGM7aWYoYSYmZS5lbmFibGVPdmVyZmxvdyl7Yz1kLm92ZXJmbG93SGFuZGxlcjtpZihjJiZjLm1lbnUpe2I9Yi5jb25jYXQoYy5tZW51LmdldFJlZkl0ZW1zKGEpKX19cmV0dXJuIGJ9LGxvb2t1cENvbXBvbmVudDpmdW5jdGlvbihkKXtpZih0eXBlb2YgZD09InN0cmluZyIpe3ZhciBiPUV4dC50b29sYmFyLlRvb2xiYXIsYT1iLnNob3J0Y3V0c0hWW3RoaXMudmVydGljYWw/MTowXVtkXXx8Yi5zaG9ydGN1dHNbZF07aWYodHlwZW9mIGE9PSJzdHJpbmciKXtkPXt4dHlwZTphfX1lbHNle2lmKGEpe2Q9RXh0LmFwcGx5KHt9LGEpfWVsc2V7ZD17eHR5cGU6InRidGV4dCIsdGV4dDpkfX19dGhpcy5hcHBseURlZmF1bHRzKGQpfXJldHVybiB0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sYXBwbHlEZWZhdWx0czpmdW5jdGlvbihiKXtpZighRXh0LmlzU3RyaW5nKGIpKXtiPXRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3ZhciBhPXRoaXMuaW50ZXJuYWxEZWZhdWx0cztpZihiLmV2ZW50cyl7RXh0LmFwcGx5SWYoYi5pbml0aWFsQ29uZmlnLGEpO0V4dC5hcHBseShiLGEpfWVsc2V7RXh0LmFwcGx5SWYoYixhKX19cmV0dXJuIGJ9LHRyYWNrTWVudTpmdW5jdGlvbihjLGEpe2lmKHRoaXMudHJhY2tNZW51cyYmYy5tZW51KXt2YXIgZD1hPyJtdW4iOiJtb24iLGI9dGhpcztiW2RdKGMsIm1vdXNlb3ZlciIsYi5vbkJ1dHRvbk92ZXIsYik7YltkXShjLCJtZW51c2hvdyIsYi5vbkJ1dHRvbk1lbnVTaG93LGIpO2JbZF0oYywibWVudWhpZGUiLGIub25CdXR0b25NZW51SGlkZSxiKX19LGNvbnN0cnVjdEJ1dHRvbjpmdW5jdGlvbihhKXtyZXR1cm4gYS5ldmVudHM/YTpFeHQud2lkZ2V0KGEuc3BsaXQ/InNwbGl0YnV0dG9uIjp0aGlzLmRlZmF1bHRUeXBlLGEpfSxvbkJlZm9yZUFkZDpmdW5jdGlvbihhKXtpZihhLmlzKCJmaWVsZCIpfHwoYS5pcygiYnV0dG9uIikmJnRoaXMudWkhPSJmb290ZXIiKSl7YS51aT1hLnVpKyItdG9vbGJhciJ9aWYoYSBpbnN0YW5jZW9mIEV4dC50b29sYmFyLlNlcGFyYXRvcil7YS5zZXRVSSgodGhpcy52ZXJ0aWNhbCk/InZlcnRpY2FsIjoiaG9yaXpvbnRhbCIpfXRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxvbkFkZDpmdW5jdGlvbihhKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLnRyYWNrTWVudShhKX0sb25SZW1vdmU6ZnVuY3Rpb24oYSl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dGhpcy50cmFja01lbnUoYSx0cnVlKX0sZ2V0Q2hpbGRJdGVtc1RvRGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZW1zLmdldFJhbmdlKCl9LG9uQnV0dG9uT3ZlcjpmdW5jdGlvbihhKXtpZih0aGlzLmFjdGl2ZU1lbnVCdG4mJnRoaXMuYWN0aXZlTWVudUJ0biE9YSl7dGhpcy5hY3RpdmVNZW51QnRuLmhpZGVNZW51KCk7YS5zaG93TWVudSgpO3RoaXMuYWN0aXZlTWVudUJ0bj1hfX0sb25CdXR0b25NZW51U2hvdzpmdW5jdGlvbihhKXt0aGlzLmFjdGl2ZU1lbnVCdG49YX0sb25CdXR0b25NZW51SGlkZTpmdW5jdGlvbihhKXtkZWxldGUgdGhpcy5hY3RpdmVNZW51QnRufX0pO0V4dC5kZWZpbmUoIkV4dC5wYW5lbC5BYnN0cmFjdFBhbmVsIix7ZXh0ZW5kOiJFeHQuY29udGFpbmVyLkNvbnRhaW5lciIsbWl4aW5zOntkb2NraW5nOiJFeHQuY29udGFpbmVyLkRvY2tpbmdDb250YWluZXIifSxyZXF1aXJlczpbIkV4dC51dGlsLk1peGVkQ29sbGVjdGlvbiIsIkV4dC5FbGVtZW50IiwiRXh0LnRvb2xiYXIuVG9vbGJhciJdLGJhc2VDbHM6RXh0LmJhc2VDU1NQcmVmaXgrInBhbmVsIixpc1BhbmVsOnRydWUsY29tcG9uZW50TGF5b3V0OiJkb2NrIixjaGlsZEVsczpbImJvZHkiXSxyZW5kZXJUcGw6WyJ7JSB0aGlzLnJlbmRlckRvY2tlZEl0ZW1zKG91dCx2YWx1ZXMsMCk7ICV9IiwoRXh0LmlzSUU2fHxFeHQuaXNJRTd8fEV4dC5pc0lFUXVpcmtzKT8iPGRpdj48L2Rpdj4iOiIiLCc8ZGl2IGlkPSJ7aWR9LWJvZHkiIGNsYXNzPSJ7YmFzZUNsc30tYm9keTx0cGwgaWY9ImJvZHlDbHMiPiB7Ym9keUNsc308L3RwbD4nLCcge2Jhc2VDbHN9LWJvZHkte3VpfTx0cGwgaWY9InVpQ2xzIj4nLCc8dHBsIGZvcj0idWlDbHMiPiB7cGFyZW50LmJhc2VDbHN9LWJvZHkte3BhcmVudC51aX0tey59PC90cGw+JywnPC90cGw+Ijx0cGwgaWY9ImJvZHlTdHlsZSI+IHN0eWxlPSJ7Ym9keVN0eWxlfSI8L3RwbD4+JywieyV0aGlzLnJlbmRlckNvbnRhaW5lcihvdXQsdmFsdWVzKTslfSIsIjwvZGl2PiIsInslIHRoaXMucmVuZGVyRG9ja2VkSXRlbXMob3V0LHZhbHVlcywxKTsgJX0iXSxib2R5UG9zUHJvcHM6e3g6IngiLHk6InkifSxib3JkZXI6dHJ1ZSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmFkZEV2ZW50cygiYm9keXJlc2l6ZSIpO2lmKGEuZnJhbWUmJmEuYm9yZGVyJiZhLmJvZHlCb3JkZXI9PT11bmRlZmluZWQpe2EuYm9keUJvcmRlcj1mYWxzZX1pZihhLmZyYW1lJiZhLmJvcmRlciYmKGEuYm9keUJvcmRlcj09PWZhbHNlfHxhLmJvZHlCb3JkZXI9PT0wKSl7YS5tYW5hZ2VCb2R5Qm9yZGVycz10cnVlfWEuY2FsbFBhcmVudCgpfSxiZWZvcmVEZXN0cm95OmZ1bmN0aW9uKCl7dGhpcy5kZXN0cm95RG9ja2VkSXRlbXMoKTt0aGlzLmNhbGxQYXJlbnQoKX0saW5pdEl0ZW1zOmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KCk7dGhpcy5pbml0RG9ja2luZ0l0ZW1zKCl9LGluaXRSZW5kZXJEYXRhOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuY2FsbFBhcmVudCgpO2EuaW5pdEJvZHlTdHlsZXMoKTthLnByb3RvQm9keS53cml0ZVRvKGIpO2RlbGV0ZSBhLnByb3RvQm9keTtyZXR1cm4gYn0sZ2V0Q29tcG9uZW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGI9PT11bmRlZmluZWQmJiFFeHQuaXNOdW1iZXIoYSkpe2I9dGhpcy5nZXREb2NrZWRDb21wb25lbnQoYSl9cmV0dXJuIGJ9LGdldFByb3RvQm9keTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLnByb3RvQm9keTtpZighYSl7Yi5wcm90b0JvZHk9YT1uZXcgRXh0LnV0aWwuUHJvdG9FbGVtZW50KHtjbHM6Yi5ib2R5Q2xzLHN0eWxlOmIuYm9keVN0eWxlLGNsc1Byb3A6ImJvZHlDbHMiLHN0eWxlUHJvcDoiYm9keVN0eWxlIixzdHlsZUlzVGV4dDp0cnVlfSl9cmV0dXJuIGF9LGluaXRCb2R5U3R5bGVzOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxhPWMuZ2V0UHJvdG9Cb2R5KCksYj1FeHQuRWxlbWVudDtpZihjLmJvZHlQYWRkaW5nIT09dW5kZWZpbmVkKXthLnNldFN0eWxlKCJwYWRkaW5nIixiLnVuaXRpemVCb3goKGMuYm9keVBhZGRpbmc9PT10cnVlKT81OmMuYm9keVBhZGRpbmcpKX1pZihjLmZyYW1lJiZjLmJvZHlCb3JkZXIpe2lmKCFFeHQuaXNOdW1iZXIoYy5ib2R5Qm9yZGVyKSl7Yy5ib2R5Qm9yZGVyPTF9YS5zZXRTdHlsZSgiYm9yZGVyLXdpZHRoIixiLnVuaXRpemVCb3goYy5ib2R5Qm9yZGVyKSl9fSxnZXRDb2xsYXBzZWREb2NrZWRJdGVtczpmdW5jdGlvbigpe3JldHVyblt0aGlzLmdldFJlRXhwYW5kZXIoKV19LHNldEJvZHlTdHlsZTpmdW5jdGlvbihiLGQpe3ZhciBjPXRoaXMsYT1jLnJlbmRlcmVkP2MuYm9keTpjLmdldFByb3RvQm9keSgpO2lmKEV4dC5pc0Z1bmN0aW9uKGIpKXtiPWIoKX1pZihhcmd1bWVudHMubGVuZ3RoPT0xJiZFeHQuaXNTdHJpbmcoYikpe2I9RXh0LkVsZW1lbnQucGFyc2VTdHlsZXMoYil9YS5zZXRTdHlsZS5hcHBseShjLmJvZHksYXJndW1lbnRzKX0sYWRkQm9keUNsczpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGE9Yy5yZW5kZXJlZD9jLmJvZHk6Yy5nZXRQcm90b0JvZHkoKTthLmFkZENscyhiKX0scmVtb3ZlQm9keUNsczpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGE9Yy5yZW5kZXJlZD9jLmJvZHk6Yy5nZXRQcm90b0JvZHkoKTthLnJlbW92ZUNscyhiKX0sYWRkVUlDbHNUb0VsZW1lbnQ6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxhPWMuY2FsbFBhcmVudChhcmd1bWVudHMpO2MuYWRkQm9keUNscyhbRXh0LmJhc2VDU1NQcmVmaXgrYixjLmJhc2VDbHMrIi1ib2R5LSIrYixjLmJhc2VDbHMrIi1ib2R5LSIrYy51aSsiLSIrYl0pO3JldHVybiBhfSxyZW1vdmVVSUNsc0Zyb21FbGVtZW50OmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsYT1jLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtjLnJlbW92ZUJvZHlDbHMoW0V4dC5iYXNlQ1NTUHJlZml4K2IsYy5iYXNlQ2xzKyItYm9keS0iK2IsYy5iYXNlQ2xzKyItYm9keS0iK2MudWkrIi0iK2JdKTtyZXR1cm4gYX0sYWRkVUlUb0VsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2EuYWRkQm9keUNscyhhLmJhc2VDbHMrIi1ib2R5LSIrYS51aSl9LHJlbW92ZVVJRnJvbUVsZW1lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2EucmVtb3ZlQm9keUNscyhhLmJhc2VDbHMrIi1ib2R5LSIrYS51aSl9LGdldFRhcmdldEVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keX0sZ2V0UmVmSXRlbXM6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuZ2V0RG9ja2luZ1JlZkl0ZW1zKGEsYil9LHNldHVwUmVuZGVyVHBsOmZ1bmN0aW9uKGEpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3RoaXMuc2V0dXBEb2NraW5nUmVuZGVyVHBsKGEpfX0pO0V4dC5kZWZpbmUoIkV4dC5wYW5lbC5QYW5lbCIse2V4dGVuZDoiRXh0LnBhbmVsLkFic3RyYWN0UGFuZWwiLHJlcXVpcmVzOlsiRXh0LnBhbmVsLkhlYWRlciIsIkV4dC5meC5BbmltIiwiRXh0LnV0aWwuS2V5TWFwIiwiRXh0LnBhbmVsLkREIiwiRXh0LlhUZW1wbGF0ZSIsIkV4dC5sYXlvdXQuY29tcG9uZW50LkRvY2siLCJFeHQudXRpbC5NZW1lbnRvIl0sYWxpYXM6IndpZGdldC5wYW5lbCIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuUGFuZWwiLGNvbGxhcHNlZENsczoiY29sbGFwc2VkIixhbmltQ29sbGFwc2U6RXh0LmVuYWJsZUZ4LG1pbkJ1dHRvbldpZHRoOjc1LGNvbGxhcHNlZDpmYWxzZSxjb2xsYXBzZUZpcnN0OnRydWUsaGlkZUNvbGxhcHNlVG9vbDpmYWxzZSx0aXRsZUNvbGxhcHNlOmZhbHNlLGZsb2F0YWJsZTp0cnVlLGNvbGxhcHNpYmxlOmZhbHNlLGNsb3NhYmxlOmZhbHNlLGNsb3NlQWN0aW9uOiJkZXN0cm95IixwbGFjZWhvbGRlckNvbGxhcHNlSGlkZU1vZGU6RXh0LkVsZW1lbnQuVklTSUJJTElUWSxwcmV2ZW50SGVhZGVyOmZhbHNlLGhlYWRlcjp1bmRlZmluZWQsaGVhZGVyUG9zaXRpb246InRvcCIsZnJhbWU6ZmFsc2UsZnJhbWVIZWFkZXI6dHJ1ZSx0aXRsZUFsaWduOiJsZWZ0IixtYW5hZ2VIZWlnaHQ6dHJ1ZSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmFkZEV2ZW50cygiYmVmb3JlY2xvc2UiLCJjbG9zZSIsImJlZm9yZWV4cGFuZCIsImJlZm9yZWNvbGxhcHNlIiwiZXhwYW5kIiwiY29sbGFwc2UiLCJ0aXRsZWNoYW5nZSIsImljb25jaGFuZ2UiLCJpY29uY2xzY2hhbmdlIik7aWYoYS5jb2xsYXBzaWJsZSl7dGhpcy5hZGRTdGF0ZUV2ZW50cyhbImV4cGFuZCIsImNvbGxhcHNlIl0pfWlmKGEudW5zdHlsZWQpe2Euc2V0VUkoInBsYWluIil9aWYoYS5mcmFtZSl7YS5zZXRVSShhLnVpKyItZnJhbWVkIil9YS5icmlkZ2VUb29sYmFycygpO2EuY2FsbFBhcmVudCgpO2EuY29sbGFwc2VEaXJlY3Rpb249YS5jb2xsYXBzZURpcmVjdGlvbnx8YS5oZWFkZXJQb3NpdGlvbnx8RXh0LkNvbXBvbmVudC5ESVJFQ1RJT05fVE9QO2EuaGlkZGVuT25Db2xsYXBzZT1uZXcgRXh0LmRvbS5Db21wb3NpdGVFbGVtZW50KCl9LGJlZm9yZURlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO0V4dC5kZXN0cm95KGEucGxhY2Vob2xkZXIsYS5naG9zdFBhbmVsLGEuZGQpO2EuY2FsbFBhcmVudCgpfSxpbml0QXJpYTpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudCgpO3RoaXMuaW5pdEhlYWRlckFyaWEoKX0sZ2V0Rm9jdXNFbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsfSxpbml0SGVhZGVyQXJpYTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmVsLGM9Yi5oZWFkZXI7aWYoYSYmYyl7YS5kb20uc2V0QXR0cmlidXRlKCJhcmlhLWxhYmVsbGVkYnkiLGMudGl0bGVDbXAuaWQpfX0sZ2V0SGVhZGVyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGVhZGVyfSxzZXRUaXRsZTpmdW5jdGlvbihnKXt2YXIgYz10aGlzLGI9Yy50aXRsZSxlPWMuaGVhZGVyLGE9Yy5yZUV4cGFuZGVyLGQ9Yy5wbGFjZWhvbGRlcjtjLnRpdGxlPWc7aWYoZSl7aWYoZS5pc0hlYWRlcil7ZS5zZXRUaXRsZShnKX1lbHNle2UudGl0bGU9Z319aWYoYSl7YS5zZXRUaXRsZShnKX1pZihkJiZkLnNldFRpdGxlKXtkLnNldFRpdGxlKGcpfWMuZmlyZUV2ZW50KCJ0aXRsZWNoYW5nZSIsYyxnLGIpfSxzZXRJY29uQ2xzOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsYj1jLmljb25DbHMsZT1jLmhlYWRlcixkPWMucGxhY2Vob2xkZXI7Yy5pY29uQ2xzPWE7aWYoZSl7aWYoZS5pc0hlYWRlcil7ZS5zZXRJY29uQ2xzKGEpfWVsc2V7ZS5pY29uQ2xzPWF9fWlmKGQmJmQuc2V0SWNvbkNscyl7ZC5zZXRJY29uQ2xzKGEpfWMuZmlyZUV2ZW50KCJpY29uY2xzY2hhbmdlIixjLGEsYil9LHNldEljb246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjPWIuaWNvbixlPWIuaGVhZGVyLGQ9Yi5wbGFjZWhvbGRlcjtiLmljb249YTtpZihlKXtpZihlLmlzSGVhZGVyKXtlLnNldEljb24oYSl9ZWxzZXtlLmljb249YX19aWYoZCYmZC5zZXRJY29uKXtkLnNldEljb24oYSl9Yi5maXJlRXZlbnQoImljb25jaGFuZ2UiLGIsYSxjKX0sYnJpZGdlVG9vbGJhcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGc9W10sYyxiLGU9YS5taW5CdXR0b25XaWR0aDtmdW5jdGlvbiBkKGgsaixpKXtpZihFeHQuaXNBcnJheShoKSl7aD17eHR5cGU6InRvb2xiYXIiLGl0ZW1zOmh9fWVsc2V7aWYoIWgueHR5cGUpe2gueHR5cGU9InRvb2xiYXIifX1oLmRvY2s9ajtpZihqPT0ibGVmdCJ8fGo9PSJyaWdodCIpe2gudmVydGljYWw9dHJ1ZX1pZihpKXtoLmxheW91dD1FeHQuYXBwbHlJZihoLmxheW91dHx8e30se3BhY2s6e2xlZnQ6InN0YXJ0IixjZW50ZXI6ImNlbnRlciJ9W2EuYnV0dG9uQWxpZ25dfHwiZW5kIn0pfXJldHVybiBofWlmKGEudGJhcil7Zy5wdXNoKGQoYS50YmFyLCJ0b3AiKSk7YS50YmFyPW51bGx9aWYoYS5iYmFyKXtnLnB1c2goZChhLmJiYXIsImJvdHRvbSIpKTthLmJiYXI9bnVsbH1pZihhLmJ1dHRvbnMpe2EuZmJhcj1hLmJ1dHRvbnM7YS5idXR0b25zPW51bGx9aWYoYS5mYmFyKXtjPWQoYS5mYmFyLCJib3R0b20iLHRydWUpO2MudWk9ImZvb3RlciI7aWYoZSl7Yj1jLmRlZmF1bHRzO2MuZGVmYXVsdHM9ZnVuY3Rpb24oaCl7dmFyIGk9Ynx8e307aWYoKCFoLnh0eXBlfHxoLnh0eXBlPT09ImJ1dHRvbiJ8fChoLmlzQ29tcG9uZW50JiZoLmlzWFR5cGUoImJ1dHRvbiIpKSkmJiEoIm1pbldpZHRoIiBpbiBpKSl7aT1FeHQuYXBwbHkoe21pbldpZHRoOmV9LGkpfXJldHVybiBpfX1nLnB1c2goYyk7YS5mYmFyPW51bGx9aWYoYS5sYmFyKXtnLnB1c2goZChhLmxiYXIsImxlZnQiKSk7YS5sYmFyPW51bGx9aWYoYS5yYmFyKXtnLnB1c2goZChhLnJiYXIsInJpZ2h0IikpO2EucmJhcj1udWxsfWlmKGEuZG9ja2VkSXRlbXMpe2lmKCFFeHQuaXNBcnJheShhLmRvY2tlZEl0ZW1zKSl7YS5kb2NrZWRJdGVtcz1bYS5kb2NrZWRJdGVtc119YS5kb2NrZWRJdGVtcz1hLmRvY2tlZEl0ZW1zLmNvbmNhdChnKX1lbHNle2EuZG9ja2VkSXRlbXM9Z319LGlzUGxhY2VIb2xkZXJDb2xsYXBzZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmNvbGxhcHNlTW9kZT09InBsYWNlaG9sZGVyIn0sb25Cb3hSZWFkeTpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudCgpO2lmKHRoaXMuY29sbGFwc2VkKXt0aGlzLnNldEhpZGRlbkRvY2tlZCgpfX0sYmVmb3JlUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhO2IuY2FsbFBhcmVudCgpO2IuaW5pdFRvb2xzKCk7aWYoIShiLnByZXZlbnRIZWFkZXJ8fChiLmhlYWRlcj09PWZhbHNlKSkpe2IudXBkYXRlSGVhZGVyKCl9aWYoYi5jb2xsYXBzZWQpe2lmKGIuaXNQbGFjZUhvbGRlckNvbGxhcHNlKCkpe2IuaGlkZGVuPXRydWU7Yi5wbGFjZWhvbGRlckNvbGxhcHNlKCk7YT1iLmNvbGxhcHNlZDtiLmNvbGxhcHNlZD1mYWxzZX1lbHNle2IuYmVnaW5Db2xsYXBzZSgpO2IuYWRkQ2xzV2l0aFVJKGIuY29sbGFwc2VkQ2xzKX19aWYoYSl7Yi5jb2xsYXBzZWQ9YX19LGluaXRUb29sczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS50b29scz1hLnRvb2xzP0V4dC5BcnJheS5jbG9uZShhLnRvb2xzKTpbXTtpZihhLmNvbGxhcHNpYmxlJiYhKGEuaGlkZUNvbGxhcHNlVG9vbHx8YS5oZWFkZXI9PT1mYWxzZXx8YS5wcmV2ZW50SGVhZGVyKSl7YS5jb2xsYXBzZURpcmVjdGlvbj1hLmNvbGxhcHNlRGlyZWN0aW9ufHxhLmhlYWRlclBvc2l0aW9ufHwidG9wIjthLmNvbGxhcHNlVG9vbD1hLmV4cGFuZFRvb2w9RXh0LndpZGdldCh7eHR5cGU6InRvb2wiLHR5cGU6KGEuY29sbGFwc2VkJiYhYS5pc1BsYWNlSG9sZGVyQ29sbGFwc2UoKSk/KCJleHBhbmQtIithLmdldE9wcG9zaXRlRGlyZWN0aW9uKGEuY29sbGFwc2VEaXJlY3Rpb24pKTooImNvbGxhcHNlLSIrYS5jb2xsYXBzZURpcmVjdGlvbiksaGFuZGxlcjphLnRvZ2dsZUNvbGxhcHNlLHNjb3BlOmF9KTtpZihhLmNvbGxhcHNlRmlyc3Qpe2EudG9vbHMudW5zaGlmdChhLmNvbGxhcHNlVG9vbCl9fWEuYWRkVG9vbHMoKTtpZihhLmNsb3NhYmxlKXthLmFkZENsc1dpdGhVSSgiY2xvc2FibGUiKTthLmFkZFRvb2woe3R5cGU6ImNsb3NlIixoYW5kbGVyOkV4dC5GdW5jdGlvbi5iaW5kKGEuY2xvc2UsYSxbXSl9KX1pZihhLmNvbGxhcHNlVG9vbCYmIWEuY29sbGFwc2VGaXJzdCl7YS5hZGRUb29sKGEuY29sbGFwc2VUb29sKX19LGFkZFRvb2xzOkV4dC5lbXB0eUZuLGNsb3NlOmZ1bmN0aW9uKCl7aWYodGhpcy5maXJlRXZlbnQoImJlZm9yZWNsb3NlIix0aGlzKSE9PWZhbHNlKXt0aGlzLmRvQ2xvc2UoKX19LGRvQ2xvc2U6ZnVuY3Rpb24oKXt0aGlzLmZpcmVFdmVudCgiY2xvc2UiLHRoaXMpO3RoaXNbdGhpcy5jbG9zZUFjdGlvbl0oKX0sdXBkYXRlSGVhZGVyOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsZz1iLmhlYWRlcixlPWIudGl0bGUsZD1iLnRvb2xzLGE9Yi5oZWFkZXJQb3NpdGlvbj09ImxlZnQifHxiLmhlYWRlclBvc2l0aW9uPT0icmlnaHQiO2lmKChnIT09ZmFsc2UpJiYoY3x8ZXx8KGQmJmQubGVuZ3RoKXx8KGIuY29sbGFwc2libGUmJiFiLnRpdGxlQ29sbGFwc2UpKSl7aWYoZyYmZy5pc0hlYWRlcil7Zy5zaG93KCl9ZWxzZXtnPWIuaGVhZGVyPUV4dC53aWRnZXQoRXh0LmFwcGx5KHt4dHlwZToiaGVhZGVyIix0aXRsZTplLHRpdGxlQWxpZ246Yi50aXRsZUFsaWduLG9yaWVudGF0aW9uOmE/InZlcnRpY2FsIjoiaG9yaXpvbnRhbCIsZG9jazpiLmhlYWRlclBvc2l0aW9ufHwidG9wIix0ZXh0Q2xzOmIuaGVhZGVyVGV4dENscyxpY29uQ2xzOmIuaWNvbkNscyxpY29uOmIuaWNvbixiYXNlQ2xzOmIuYmFzZUNscysiLWhlYWRlciIsdG9vbHM6ZCx1aTpiLnVpLGlkOmIuaWQrIl9oZWFkZXIiLGluZGljYXRlRHJhZzpiLmRyYWdnYWJsZSxmcmFtZTpiLmZyYW1lJiZiLmZyYW1lSGVhZGVyLGlnbm9yZVBhcmVudEZyYW1lOmIuZnJhbWV8fGIub3ZlcmxhcEhlYWRlcixpZ25vcmVCb3JkZXJNYW5hZ2VtZW50OmIuZnJhbWV8fGIuaWdub3JlSGVhZGVyQm9yZGVyTWFuYWdlbWVudCxsaXN0ZW5lcnM6Yi5jb2xsYXBzaWJsZSYmYi50aXRsZUNvbGxhcHNlP3tjbGljazpiLnRvZ2dsZUNvbGxhcHNlLHNjb3BlOmJ9Om51bGx9LGIuaGVhZGVyKSk7Yi5hZGREb2NrZWQoZywwKTtiLnRvb2xzPWcudG9vbHN9Yi5pbml0SGVhZGVyQXJpYSgpfWVsc2V7aWYoZyl7Zy5oaWRlKCl9fX0sc2V0VUk6ZnVuY3Rpb24oYil7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihhLmhlYWRlciYmYS5oZWFkZXIucmVuZGVyZWQpe2EuaGVhZGVyLnNldFVJKGIpfX0sZ2V0Q29udGVudFRhcmdldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmJvZHl9LGdldFRhcmdldEVsOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm4gYS5ib2R5fHxhLnByb3RvQm9keXx8YS5mcmFtZUJvZHl8fGEuZWx9LGlzVmlzaWJsZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKGIuY29sbGFwc2VkJiZiLnBsYWNlaG9sZGVyKXtyZXR1cm4gYi5wbGFjZWhvbGRlci5pc1Zpc2libGUoYSl9cmV0dXJuIGIuY2FsbFBhcmVudChhcmd1bWVudHMpfSxvbkhpZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuY29sbGFwc2VkJiZhLnBsYWNlaG9sZGVyKXthLnBsYWNlaG9sZGVyLmhpZGUoKX1lbHNle2EuY2FsbFBhcmVudChhcmd1bWVudHMpfX0sb25TaG93OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLmNvbGxhcHNlZCYmYS5wbGFjZWhvbGRlcil7YS5oaWRkZW49dHJ1ZTthLnBsYWNlaG9sZGVyLnNob3coKX1lbHNle2EuY2FsbFBhcmVudChhcmd1bWVudHMpfX0sb25SZW1vdmVkOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYS5wbGFjZWhvbGRlciYmIWIpe2Eub3duZXJDdC5yZW1vdmUoYS5wbGFjZWhvbGRlcixmYWxzZSl9fSxhZGRUb29sOmZ1bmN0aW9uKGUpe2U9W10uY29uY2F0KGUpO3ZhciBkPXRoaXMsZz1kLmhlYWRlcixjLGE9ZS5sZW5ndGgsYjtmb3IoYz0wO2M8YTtjKyspe2I9ZVtjXTtkLnRvb2xzLnB1c2goYik7aWYoZyl7Zy5hZGRUb29sKGIpfX1kLnVwZGF0ZUhlYWRlcigpfSxnZXRPcHBvc2l0ZURpcmVjdGlvbjpmdW5jdGlvbihhKXt2YXIgYj1FeHQuQ29tcG9uZW50O3N3aXRjaChhKXtjYXNlIGIuRElSRUNUSU9OX1RPUDpyZXR1cm4gYi5ESVJFQ1RJT05fQk9UVE9NO2Nhc2UgYi5ESVJFQ1RJT05fUklHSFQ6cmV0dXJuIGIuRElSRUNUSU9OX0xFRlQ7Y2FzZSBiLkRJUkVDVElPTl9CT1RUT006cmV0dXJuIGIuRElSRUNUSU9OX1RPUDtjYXNlIGIuRElSRUNUSU9OX0xFRlQ6cmV0dXJuIGIuRElSRUNUSU9OX1JJR0hUfX0sZ2V0V2lkdGhBdXRob3JpdHk6ZnVuY3Rpb24oKXtpZih0aGlzLmNvbGxhcHNlZCYmdGhpcy5jb2xsYXBzZWRIb3Jpem9udGFsKCkpe3JldHVybiAxfXJldHVybiB0aGlzLmNhbGxQYXJlbnQoKX0sZ2V0SGVpZ2h0QXV0aG9yaXR5OmZ1bmN0aW9uKCl7aWYodGhpcy5jb2xsYXBzZWQmJnRoaXMuY29sbGFwc2VkVmVydGljYWwoKSl7cmV0dXJuIDF9cmV0dXJuIHRoaXMuY2FsbFBhcmVudCgpfSxjb2xsYXBzZWRIb3Jpem9udGFsOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRDb2xsYXBzZWQoKTtyZXR1cm4gYT09ImxlZnQifHxhPT0icmlnaHQifSxjb2xsYXBzZWRWZXJ0aWNhbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0Q29sbGFwc2VkKCk7cmV0dXJuIGE9PSJ0b3AifHxhPT0iYm90dG9tIn0sZ2V0Q29sbGFwc2VkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLmNvbGxhcHNlZD09PXRydWUpe3JldHVybiBhLmNvbGxhcHNlRGlyZWN0aW9ufXJldHVybiBhLmNvbGxhcHNlZH0sZ2V0U3RhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jYWxsUGFyZW50KCksYztiPWEuYWRkUHJvcGVydHlUb1N0YXRlKGIsImNvbGxhcHNlZCIpO2lmKGEuY29sbGFwc2VkKXtjPWEuY29sbGFwc2VNZW1lbnRvO2M9YyYmYy5kYXRhO2lmKGEuY29sbGFwc2VkVmVydGljYWwoKSl7aWYoYil7ZGVsZXRlIGIuaGVpZ2h0fWlmKGMpe2I9YS5hZGRQcm9wZXJ0eVRvU3RhdGUoYiwiaGVpZ2h0IixjLmhlaWdodCl9fWVsc2V7aWYoYil7ZGVsZXRlIGIud2lkdGh9aWYoYyl7Yj1hLmFkZFByb3BlcnR5VG9TdGF0ZShiLCJ3aWR0aCIsYy53aWR0aCl9fX1yZXR1cm4gYn0sZmluZFJlRXhwYW5kZXI6ZnVuY3Rpb24oaCl7dmFyIGc9dGhpcyxqPUV4dC5Db21wb25lbnQsZT1nLmRvY2tlZEl0ZW1zLml0ZW1zLGE9ZS5sZW5ndGgsYixkO2lmKGcuY29sbGFwc2VNb2RlPT0ibWluaSIpe3JldHVybn1zd2l0Y2goaCl7Y2FzZSBqLkRJUkVDVElPTl9UT1A6Y2FzZSBqLkRJUkVDVElPTl9CT1RUT006Zm9yKGQ9MDtkPGE7ZCsrKXtiPWVbZF07aWYoIWIuaGlkZGVuKXtpZihiLmlzSGVhZGVyJiYoIWIuZG9ja3x8Yi5kb2NrPT0idG9wInx8Yi5kb2NrPT0iYm90dG9tIikpe3JldHVybiBifX19YnJlYWs7Y2FzZSBqLkRJUkVDVElPTl9MRUZUOmNhc2Ugai5ESVJFQ1RJT05fUklHSFQ6Zm9yKGQ9MDtkPGE7ZCsrKXtiPWVbZF07aWYoIWIuaGlkZGVuKXtpZihiLmlzSGVhZGVyJiYoYi5kb2NrPT0ibGVmdCJ8fGIuZG9jaz09InJpZ2h0Iikpe3JldHVybiBifX19YnJlYWs7ZGVmYXVsdDp0aHJvdyAoIlBhbmVsI2ZpbmRSZUV4cGFuZGVyIG11c3QgYmUgcGFzc2VkIGEgdmFsaWQgY29sbGFwc2VEaXJlY3Rpb24iKX19LGdldFJlRXhwYW5kZXI6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxkPWN8fGIuY29sbGFwc2VEaXJlY3Rpb24sYT1iLnJlRXhwYW5kZXJ8fGIuZmluZFJlRXhwYW5kZXIoZCk7Yi5leHBhbmREaXJlY3Rpb249Yi5nZXRPcHBvc2l0ZURpcmVjdGlvbihkKTtpZighYSl7Yi5yZUV4cGFuZGVyPWE9Yi5jcmVhdGVSZUV4cGFuZGVyKGQse2RvY2s6ZCxjbHM6RXh0LmJhc2VDU1NQcmVmaXgrImRvY2tlZCAiK2IuYmFzZUNscysiLSIrYi51aSsiLWNvbGxhcHNlZCIsb3duZXJDdDpiLG93bmVyTGF5b3V0OmIuY29tcG9uZW50TGF5b3V0fSk7Yi5kb2NrZWRJdGVtcy5pbnNlcnQoMCxhKX1yZXR1cm4gYX0sY3JlYXRlUmVFeHBhbmRlcjpmdW5jdGlvbihnLGUpe3ZhciBkPXRoaXMsaT1nPT0ibGVmdCIsYz1nPT0icmlnaHQiLGg9aXx8YyxiLGE9RXh0LmFwcGx5KHtoaWRlTW9kZToib2Zmc2V0cyIsdGl0bGU6ZC50aXRsZSxvcmllbnRhdGlvbjpoPyJ2ZXJ0aWNhbCI6Imhvcml6b250YWwiLHRleHRDbHM6ZC5oZWFkZXJUZXh0Q2xzLGljb246ZC5pY29uLGljb25DbHM6ZC5pY29uQ2xzLGJhc2VDbHM6ZC5iYXNlQ2xzKyItaGVhZGVyIix1aTpkLnVpLGZyYW1lOmQuZnJhbWUmJmQuZnJhbWVIZWFkZXIsaWdub3JlUGFyZW50RnJhbWU6ZC5mcmFtZXx8ZC5vdmVybGFwSGVhZGVyLGluZGljYXRlRHJhZzpkLmRyYWdnYWJsZX0sZSk7aWYoZC5jb2xsYXBzZU1vZGU9PSJtaW5pIil7aWYoaCl7YS53aWR0aD0xfWVsc2V7YS5oZWlnaHQ9MX19aWYoIWQuaGlkZUNvbGxhcHNlVG9vbCl7Yj1pfHwoYyYmZC5pc1BsYWNlSG9sZGVyQ29sbGFwc2UoKSk7YVtiPyJpdGVtcyI6InRvb2xzIl09W3t4dHlwZToidG9vbCIsdHlwZToiZXhwYW5kLSIrZC5nZXRPcHBvc2l0ZURpcmVjdGlvbihnKSx1aUNsczpbInRvcCJdLGhhbmRsZXI6ZC50b2dnbGVDb2xsYXBzZSxzY29wZTpkfV19YT1uZXcgRXh0LnBhbmVsLkhlYWRlcihhKTthLmFkZENsc1dpdGhVSShkLmdldEhlYWRlckNvbGxhcHNlZENsYXNzZXMoYSkpO3JldHVybiBhfSxnZXRIZWFkZXJDb2xsYXBzZWRDbGFzc2VzOmZ1bmN0aW9uKGQpe3ZhciBiPXRoaXMsYz1iLmNvbGxhcHNlZENscyxhO2E9W2MsYysiLSIrZC5kb2NrXTtpZihiLmJvcmRlciYmKCFiLmZyYW1lfHwoYi5mcmFtZSYmRXh0LnN1cHBvcnRzLkNTUzNCb3JkZXJSYWRpdXMpKSl7YS5wdXNoKGMrIi1ib3JkZXItIitkLmRvY2spfXJldHVybiBhfSxiZWdpbkNvbGxhcHNlOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxjPWUubGFzdEJveCxnPWUucmVuZGVyZWQsYj1lLmNvbGxhcHNlTWVtZW50b3x8KGUuY29sbGFwc2VNZW1lbnRvPW5ldyBFeHQudXRpbC5NZW1lbnRvKGUpKSxkPWUuZ2V0U2l6ZU1vZGVsKCksYTtiLmNhcHR1cmUoWyJoZWlnaHQiLCJtaW5IZWlnaHQiLCJ3aWR0aCIsIm1pbldpZHRoIl0pO2lmKGMpe2IuY2FwdHVyZShbIngiLCJ5IiwiaGVpZ2h0Iiwid2lkdGgiXSxjLCJsYXN0LiIpfWlmKGUuY29sbGFwc2VkVmVydGljYWwoKSl7aWYoZC53aWR0aC5zaHJpbmtXcmFwKXtlLndpZHRoPWc/ZS5nZXRXaWR0aCgpOmUud2lkdGh8fGUubWluV2lkdGh8fDEwMH1kZWxldGUgZS5oZWlnaHQ7ZS5taW5IZWlnaHQ9MH1lbHNle2lmKGUuY29sbGFwc2VkSG9yaXpvbnRhbCgpKXtpZihkLmhlaWdodC5zaHJpbmtXcmFwKXtlLmhlaWdodD1nP2UuZ2V0SGVpZ2h0KCk6ZS5oZWlnaHR8fGUubWluSGVpZ2h0fHwxMDB9ZGVsZXRlIGUud2lkdGg7ZS5taW5XaWR0aD0wfX1pZihlLm93bmVyQ3Qpe2Uub3duZXJDdC5nZXRMYXlvdXQoKS5iZWdpbkNvbGxhcHNlKGUpfWlmKCFlLmlzUGxhY2VIb2xkZXJDb2xsYXBzZSgpKXtpZihlLmhlYWRlcj09PShhPWUuZ2V0UmVFeHBhbmRlcigpKSl7ZS5oZWFkZXIuYWRkQ2xzV2l0aFVJKGUuZ2V0SGVhZGVyQ29sbGFwc2VkQ2xhc3NlcyhlLmhlYWRlcikpO2lmKGUuaGVhZGVyLnJlbmRlcmVkKXtlLmhlYWRlci51cGRhdGVGcmFtZSgpfX1lbHNle2lmKGEuZWwpe2EuZWwuc2hvdygpO2EuaGlkZGVuPWZhbHNlfX19aWYoZS5yZXNpemVyKXtlLnJlc2l6ZXIuZGlzYWJsZSgpfX0sYmVnaW5FeHBhbmQ6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGM9ZC5sYXN0Qm94LGI9ZC5jb2xsYXBzZU1lbWVudG8sYTtiLnJlc3RvcmUoWyJoZWlnaHQiLCJtaW5IZWlnaHQiLCJ3aWR0aCIsIm1pbldpZHRoIl0pO2lmKGMpe2IucmVzdG9yZShbIngiLCJ5IiwiaGVpZ2h0Iiwid2lkdGgiXSx0cnVlLGMsImxhc3QuIil9aWYoZC5vd25lckN0KXtkLm93bmVyQ3QuZ2V0TGF5b3V0KCkuYmVnaW5FeHBhbmQoZCl9aWYoIWQuaXNQbGFjZUhvbGRlckNvbGxhcHNlKCkpe2lmKGQuaGVhZGVyPT09KGE9ZC5nZXRSZUV4cGFuZGVyKCkpKXtkLmhlYWRlci5yZW1vdmVDbHNXaXRoVUkoZC5nZXRIZWFkZXJDb2xsYXBzZWRDbGFzc2VzKGQuaGVhZGVyKSk7aWYoZC5oZWFkZXIucmVuZGVyZWQpe2QuaGVhZGVyLnVwZGF0ZUZyYW1lKCl9fWVsc2V7YS5oaWRkZW49dHJ1ZTthLmVsLmhpZGUoKX19aWYoZC5yZXNpemVyKXtkLnJlc2l6ZXIuZW5hYmxlKCl9fSxjb2xsYXBzZTpmdW5jdGlvbihkLGEpe3ZhciBjPXRoaXMsZT1kfHxjLmNvbGxhcHNlRGlyZWN0aW9uLGI9Yy5vd25lckN0O2lmKGMuaXNDb2xsYXBzaW5nT3JFeHBhbmRpbmcpe3JldHVybiBjfWlmKGFyZ3VtZW50cy5sZW5ndGg8Mil7YT1jLmFuaW1Db2xsYXBzZX1pZihjLmNvbGxhcHNlZHx8Yy5maXJlRXZlbnQoImJlZm9yZWNvbGxhcHNlIixjLGQsYSk9PT1mYWxzZSl7cmV0dXJuIGN9aWYoYiYmYy5pc1BsYWNlSG9sZGVyQ29sbGFwc2UoKSl7cmV0dXJuIGMucGxhY2Vob2xkZXJDb2xsYXBzZShkLGEpfWMuY29sbGFwc2VkPWU7Yy5iZWdpbkNvbGxhcHNlKCk7Yy5maXJlSGllcmFyY2h5RXZlbnQoImNvbGxhcHNlIik7cmV0dXJuIGMuZG9Db2xsYXBzZUV4cGFuZCgxLGEpfSxkb0NvbGxhcHNlRXhwYW5kOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dGhpcyxjPWQuYW5pbUNvbGxhcHNlLGU9ZC5vd25lckxheW91dDtkLmFuaW1Db2xsYXBzZT1iO2QuaXNDb2xsYXBzaW5nT3JFeHBhbmRpbmc9YTtpZihlJiYhYil7ZS5vbkNvbnRlbnRDaGFuZ2UoZCl9ZWxzZXtkLnVwZGF0ZUxheW91dCh7aXNSb290OnRydWV9KX1kLmFuaW1Db2xsYXBzZT1jO3JldHVybiBkfSxhZnRlckNvbGxhcHNlOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMsYz1hLm93bmVyTGF5b3V0O2EuaXNDb2xsYXBzaW5nT3JFeHBhbmRpbmc9MDtpZihhLmNvbGxhcHNlVG9vbCl7YS5jb2xsYXBzZVRvb2wuc2V0VHlwZSgiZXhwYW5kLSIrYS5nZXRPcHBvc2l0ZURpcmVjdGlvbihhLmNvbGxhcHNlRGlyZWN0aW9uKSl9aWYoYyYmYil7Yy5vbkNvbnRlbnRDaGFuZ2UoYSl9YS5zZXRIaWRkZW5Eb2NrZWQoKTthLmZpcmVFdmVudCgiY29sbGFwc2UiLGEpfSxzZXRIaWRkZW5Eb2NrZWQ6ZnVuY3Rpb24oKXt2YXIgaD10aGlzLGQ9aC5oaWRkZW5PbkNvbGxhcHNlLGI9aC5nZXRSZUV4cGFuZGVyKCksYz1oLmdldERvY2tlZEl0ZW1zKCksYT1jLmxlbmd0aCxlPTAsZztkLmFkZChoLmJvZHkpO2Zvcig7ZTxhO2UrKyl7Zz1jW2VdO2lmKGcmJmchPT1iJiZnLmVsKXtkLmFkZChnLmVsKX19ZC5zZXRTdHlsZSgidmlzaWJpbGl0eSIsImhpZGRlbiIpfSxyZXN0b3JlSGlkZGVuRG9ja2VkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5oaWRkZW5PbkNvbGxhcHNlO2Euc2V0U3R5bGUoInZpc2liaWxpdHkiLCIiKTthLmNsZWFyKCl9LGdldFBsYWNlaG9sZGVyOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsZT1jfHxiLmNvbGxhcHNlRGlyZWN0aW9uLGE9bnVsbCxkPWIucGxhY2Vob2xkZXI7aWYoIWQpe2lmKGIuZmxvYXRhYmxlfHwoYi5jb2xsYXBzaWJsZSYmYi50aXRsZUNvbGxhcHNlKSl7YT17Y2xpY2s6e2ZuOmIuZmxvYXRhYmxlP2IuZmxvYXRDb2xsYXBzZWRQYW5lbDpiLnRvZ2dsZUNvbGxhcHNlLGVsZW1lbnQ6ImVsIixzY29wZTpifX19Yi5wbGFjZWhvbGRlcj1kPUV4dC53aWRnZXQoYi5jcmVhdGVSZUV4cGFuZGVyKGUse2lkOmIuaWQrIi1wbGFjZWhvbGRlciIsbGlzdGVuZXJzOmF9KSl9aWYoIWQucGxhY2Vob2xkZXJGb3Ipe2lmKCFkLmlzQ29tcG9uZW50KXtiLnBsYWNlaG9sZGVyPWQ9Yi5sb29rdXBDb21wb25lbnQoZCl9RXh0LmFwcGx5SWYoZCx7bWFyZ2luczpiLm1hcmdpbnMscGxhY2Vob2xkZXJGb3I6Yn0pO2QuYWRkQ2xzKFtFeHQuYmFzZUNTU1ByZWZpeCsicmVnaW9uLWNvbGxhcHNlZC1wbGFjZWhvbGRlciIsRXh0LmJhc2VDU1NQcmVmaXgrInJlZ2lvbi1jb2xsYXBzZWQtIitlKyItcGxhY2Vob2xkZXIiLGIuY29sbGFwc2VkQ2xzXSl9cmV0dXJuIGR9LHBsYWNlaG9sZGVyQ29sbGFwc2U6ZnVuY3Rpb24oZSxhKXt2YXIgZD10aGlzLGM9ZC5vd25lckN0LGg9ZXx8ZC5jb2xsYXBzZURpcmVjdGlvbixiPUV4dC5iYXNlQ1NTUHJlZml4KyJib3JkZXItcmVnaW9uLXNsaWRlLWluIixnPWQuZ2V0UGxhY2Vob2xkZXIoZSk7ZC5pc0NvbGxhcHNpbmdPckV4cGFuZGluZz0xO2QuaGlkZGVuPXRydWU7ZC5jb2xsYXBzZWQ9aDtpZihnLnJlbmRlcmVkKXtpZihnLmVsLmRvbS5wYXJlbnROb2RlIT09ZC5lbC5kb20ucGFyZW50Tm9kZSl7ZC5lbC5kb20ucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoZy5lbC5kb20sZC5lbC5kb20pfWcuaGlkZGVuPWZhbHNlO2cuZWwuc2hvdygpO2MudXBkYXRlTGF5b3V0KCl9ZWxzZXtjLmluc2VydChjLml0ZW1zLmluZGV4T2YoZCksZyl9aWYoZC5yZW5kZXJlZCl7ZC5lbC5zZXRWaXNpYmlsaXR5TW9kZShkLnBsYWNlaG9sZGVyQ29sbGFwc2VIaWRlTW9kZSk7aWYoYSl7ZC5lbC5hZGRDbHMoYik7Zy5lbC5oaWRlKCk7ZC5lbC5zbGlkZU91dChoLnN1YnN0cigwLDEpLHtwcmVzZXJ2ZVNjcm9sbDp0cnVlLGR1cmF0aW9uOkV4dC5OdW1iZXIuZnJvbShhLEV4dC5meC5BbmltLnByb3RvdHlwZS5kdXJhdGlvbiksbGlzdGVuZXJzOnthZnRlcmFuaW1hdGU6ZnVuY3Rpb24oKXtkLmVsLnJlbW92ZUNscyhiKTtnLmVsLnNob3coKS5zZXRTdHlsZSgiZGlzcGxheSIsIm5vbmUiKS5zbGlkZUluKGguc3Vic3RyKDAsMSkse2Vhc2luZzoibGluZWFyIixkdXJhdGlvbjoxMDAsbGlzdGVuZXJzOnthZnRlcmFuaW1hdGU6ZnVuY3Rpb24oKXtnLmZvY3VzKCk7ZC5pc0NvbGxhcHNpbmdPckV4cGFuZGluZz0wO2QuZmlyZUV2ZW50KCJjb2xsYXBzZSIsZCl9fX0pfX19KX1lbHNle2QuZWwuaGlkZSgpO2QuaXNDb2xsYXBzaW5nT3JFeHBhbmRpbmc9MDtkLmZpcmVFdmVudCgiY29sbGFwc2UiLGQpfX1lbHNle2QuaXNDb2xsYXBzaW5nT3JFeHBhbmRpbmc9MDtkLmZpcmVFdmVudCgiY29sbGFwc2UiLGQpfXJldHVybiBkfSxmbG9hdENvbGxhcHNlZFBhbmVsOmZ1bmN0aW9uKCl7dmFyIGc9dGhpcyxpPWcucGxhY2Vob2xkZXIsaD1pLmdldEJveCh0cnVlKSxkLGU9RXh0LmJhc2VDU1NQcmVmaXgrImJvcmRlci1yZWdpb24tc2xpZGUtaW4iLGI9Zy5jb2xsYXBzZWQsaj1nLm93bmVyQ3R8fGcsYTtpZihnLmVsLmhhc0NscyhlKSl7Zy5zbGlkZU91dEZsb2F0ZWRQYW5lbCgpO3JldHVybn1pZihnLmlzU2xpZGluZyl7cmV0dXJufWcuaXNTbGlkaW5nPXRydWU7ZnVuY3Rpb24gYyhsKXt2YXIgaz1nLmVsLmdldFJlZ2lvbigpLnVuaW9uKGkuZWwuZ2V0UmVnaW9uKCkpLmFkanVzdCgxLC0xLC0xLDEpO2lmKCFrLmNvbnRhaW5zKGwuZ2V0UG9pbnQoKSkpe2cuc2xpZGVPdXRGbG9hdGVkUGFuZWwoKX19Zy5wbGFjZWhvbGRlci5lbC5oaWRlKCk7Zy5wbGFjZWhvbGRlci5oaWRkZW49dHJ1ZTtnLmVsLnNob3coKTtnLmhpZGRlbj1mYWxzZTtnLmNvbGxhcHNlZD1mYWxzZTtqLnVwZGF0ZUxheW91dCgpO2Q9Zy5nZXRCb3godHJ1ZSk7Zy5wbGFjZWhvbGRlci5lbC5zaG93KCk7Zy5wbGFjZWhvbGRlci5oaWRkZW49ZmFsc2U7Zy5lbC5oaWRlKCk7Zy5oaWRkZW49dHJ1ZTtnLmNvbGxhcHNlZD1iO2oudXBkYXRlTGF5b3V0KCk7Zy5wbGFjZWhvbGRlck1vdXNlTW9uPWkuZWwubW9uaXRvck1vdXNlTGVhdmUoNTAwLGMpO2cucGFuZWxNb3VzZU1vbj1nLmVsLm1vbml0b3JNb3VzZUxlYXZlKDUwMCxjKTtnLmVsLmFkZENscyhlKTtpZihnLmNvbGxhcHNlVG9vbCl7Zy5jb2xsYXBzZVRvb2wuZWwuaGlkZSgpfXN3aXRjaChnLmNvbGxhcHNlZCl7Y2FzZSJ0b3AiOmcuZWwuc2V0TGVmdFRvcChoLngsaC55K2guaGVpZ2h0LTEpO2E9InQiO2JyZWFrO2Nhc2UicmlnaHQiOmcuZWwuc2V0TGVmdFRvcChoLngtZC53aWR0aCsxLGgueSk7YT0iciI7YnJlYWs7Y2FzZSJib3R0b20iOmcuZWwuc2V0TGVmdFRvcChoLngsaC55LWQuaGVpZ2h0KzEpO2E9ImIiO2JyZWFrO2Nhc2UibGVmdCI6Zy5lbC5zZXRMZWZ0VG9wKGgueCtoLndpZHRoLTEsaC55KTthPSJsIjticmVha31nLmZsb2F0ZWRGcm9tQ29sbGFwc2U9Zy5jb2xsYXBzZWQ7Zy5jb2xsYXBzZWQ9Zy5oaWRkZW49ZmFsc2U7Zy5lbC5zbGlkZUluKGEse3ByZXNlcnZlU2Nyb2xsOnRydWUsbGlzdGVuZXJzOnthZnRlcmFuaW1hdGU6ZnVuY3Rpb24oKXtnLmlzU2xpZGluZz1mYWxzZX19fSl9LGlzTGF5b3V0Um9vdDpmdW5jdGlvbigpe2lmKHRoaXMuZmxvYXRlZEZyb21Db2xsYXBzZSl7cmV0dXJuIHRydWV9cmV0dXJuIHRoaXMuY2FsbFBhcmVudCgpfSxzbGlkZU91dEZsb2F0ZWRQYW5lbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYz10aGlzLmVsLGI7aWYoYS5pc1NsaWRpbmcpe3JldHVybn1hLmlzU2xpZGluZz10cnVlO2Euc2xpZGVPdXRGbG9hdGVkUGFuZWxCZWdpbigpO2lmKHR5cGVvZiBhLmNvbGxhcHNlZD09InN0cmluZyIpe2I9YS5jb2xsYXBzZWQuY2hhckF0KDApfWMuc2xpZGVPdXQoYix7cHJlc2VydmVTY3JvbGw6dHJ1ZSxsaXN0ZW5lcnM6e2FmdGVyYW5pbWF0ZTpmdW5jdGlvbigpe2Euc2xpZGVPdXRGbG9hdGVkUGFuZWxFbmQoKTthLmVsLnJlbW92ZUNscyhFeHQuYmFzZUNTU1ByZWZpeCsiYm9yZGVyLXJlZ2lvbi1zbGlkZS1pbiIpO2EuaXNTbGlkaW5nPWZhbHNlfX19KX0sc2xpZGVPdXRGbG9hdGVkUGFuZWxCZWdpbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj10aGlzLmVsO2EuY29sbGFwc2VkPWEuZmxvYXRlZEZyb21Db2xsYXBzZTthLmhpZGRlbj10cnVlO2EuZmxvYXRlZEZyb21Db2xsYXBzZT1udWxsO2IudW4oYS5wYW5lbE1vdXNlTW9uKTthLnBsYWNlaG9sZGVyLmVsLnVuKGEucGxhY2Vob2xkZXJNb3VzZU1vbil9LHNsaWRlT3V0RmxvYXRlZFBhbmVsRW5kOmZ1bmN0aW9uKCl7aWYodGhpcy5jb2xsYXBzZVRvb2wpe3RoaXMuY29sbGFwc2VUb29sLmVsLnNob3coKX19LGV4cGFuZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2lmKGIuaXNDb2xsYXBzaW5nT3JFeHBhbmRpbmcpe3JldHVybiBifWlmKCFhcmd1bWVudHMubGVuZ3RoKXthPWIuYW5pbUNvbGxhcHNlfWlmKCFiLmNvbGxhcHNlZCYmIWIuZmxvYXRlZEZyb21Db2xsYXBzZSl7cmV0dXJuIGJ9aWYoYi5maXJlRXZlbnQoImJlZm9yZWV4cGFuZCIsYixhKT09PWZhbHNlKXtyZXR1cm4gYn1pZihiLmlzUGxhY2VIb2xkZXJDb2xsYXBzZSgpKXtyZXR1cm4gYi5wbGFjZWhvbGRlckV4cGFuZChhKX1iLnJlc3RvcmVIaWRkZW5Eb2NrZWQoKTtiLmJlZ2luRXhwYW5kKCk7Yi5jb2xsYXBzZWQ9ZmFsc2U7Yi5maXJlSGllcmFyY2h5RXZlbnQoImV4cGFuZCIpO3JldHVybiBiLmRvQ29sbGFwc2VFeHBhbmQoMixhKX0scGxhY2Vob2xkZXJFeHBhbmQ6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcyxoPWQuY29sbGFwc2VkLGM9RXh0LmJhc2VDU1NQcmVmaXgrImJvcmRlci1yZWdpb24tc2xpZGUtaW4iLGUsYSxnO2lmKGQuZmxvYXRlZEZyb21Db2xsYXBzZSl7YT1kLmdldFBvc2l0aW9uKHRydWUpO2Quc2xpZGVPdXRGbG9hdGVkUGFuZWxCZWdpbigpO2Quc2xpZGVPdXRGbG9hdGVkUGFuZWxFbmQoKX1kLmlzQ29sbGFwc2luZ09yRXhwYW5kaW5nPTI7ZC5wbGFjZWhvbGRlci5oaWRkZW49dHJ1ZTtkLnBsYWNlaG9sZGVyLmVsLmhpZGUoKTtkLmNvbGxhcHNlZD1mYWxzZTtkLnNob3coKTtpZihiKXtpZihhKXtlPWQuZWwuZ2V0WFkoKTtkLmVsLnNldExlZnRUb3AoYVswXSxhWzFdKTtkLmVsLm1vdmVUbyhlWzBdLGVbMV0se2R1cmF0aW9uOkV4dC5OdW1iZXIuZnJvbShiLEV4dC5meC5BbmltLnByb3RvdHlwZS5kdXJhdGlvbiksbGlzdGVuZXJzOnthZnRlcmFuaW1hdGU6ZnVuY3Rpb24oKXtkLmVsLnJlbW92ZUNscyhjKTtkLmlzQ29sbGFwc2luZ09yRXhwYW5kaW5nPTA7ZC5maXJlRXZlbnQoImV4cGFuZCIsZCl9fX0pfWVsc2V7ZC5oaWRkZW49dHJ1ZTtkLmVsLmFkZENscyhjKTtkLmVsLmhpZGUoKTtkLmNvbGxhcHNlZD1oO2QucGxhY2Vob2xkZXIuc2hvdygpO2c9aC5zdWJzdHIoMCwxKTtkLmhpZGRlbj1mYWxzZTtkLmVsLnNsaWRlSW4oZyx7cHJlc2VydmVTY3JvbGw6dHJ1ZSxkdXJhdGlvbjpFeHQuTnVtYmVyLmZyb20oYixFeHQuZnguQW5pbS5wcm90b3R5cGUuZHVyYXRpb24pLGxpc3RlbmVyczp7YWZ0ZXJhbmltYXRlOmZ1bmN0aW9uKCl7ZC5jb2xsYXBzZWQ9ZmFsc2U7ZC5lbC5yZW1vdmVDbHMoYyk7ZC5wbGFjZWhvbGRlci5oaWRlKCk7ZC5pc0NvbGxhcHNpbmdPckV4cGFuZGluZz0wO2QuZmlyZUV2ZW50KCJleHBhbmQiLGQpfX19KX19ZWxzZXtkLmlzQ29sbGFwc2luZ09yRXhwYW5kaW5nPTA7ZC5maXJlRXZlbnQoImV4cGFuZCIsZCl9cmV0dXJuIGR9LGFmdGVyRXhwYW5kOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMsYz1hLm93bmVyTGF5b3V0O2EuaXNDb2xsYXBzaW5nT3JFeHBhbmRpbmc9MDtpZihhLmNvbGxhcHNlVG9vbCl7YS5jb2xsYXBzZVRvb2wuc2V0VHlwZSgiY29sbGFwc2UtIithLmNvbGxhcHNlRGlyZWN0aW9uKX1pZihjJiZiKXtjLm9uQ29udGVudENoYW5nZShhKX1hLmZpcmVFdmVudCgiZXhwYW5kIixhKX0sc2V0Qm9yZGVyOmZ1bmN0aW9uKGEsYyl7aWYoYyl7cmV0dXJufXZhciBiPXRoaXMsZD1iLmhlYWRlcjtpZighYSl7YT0wfWVsc2V7YT1FeHQuRWxlbWVudC51bml0aXplQm94KChhPT09dHJ1ZSk/MTphKX1pZihkKXtpZihkLmlzSGVhZGVyKXtkLnNldEJvcmRlcihhKX1lbHNle2QuYm9yZGVyPWF9fWlmKGIucmVuZGVyZWQmJmIuYm9keUJvcmRlciE9PWZhbHNlKXtiLmJvZHkuc2V0U3R5bGUoImJvcmRlci13aWR0aCIsYSl9Yi51cGRhdGVMYXlvdXQoKTtiLmJvcmRlcj1hfSx0b2dnbGVDb2xsYXBzZTpmdW5jdGlvbigpe3JldHVybih0aGlzLmNvbGxhcHNlZHx8dGhpcy5mbG9hdGVkRnJvbUNvbGxhcHNlKT90aGlzLmV4cGFuZCgpOnRoaXMuY29sbGFwc2UoKX0sZ2V0S2V5TWFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMua2V5TWFwfHwodGhpcy5rZXlNYXA9bmV3IEV4dC51dGlsLktleU1hcChFeHQuYXBwbHkoe3RhcmdldDp0aGlzLmVsfSx0aGlzLmtleXMpKSl9LGluaXREcmFnZ2FibGU6ZnVuY3Rpb24oKXt0aGlzLmRkPW5ldyBFeHQucGFuZWwuREQodGhpcyxFeHQuaXNCb29sZWFuKHRoaXMuZHJhZ2dhYmxlKT9udWxsOnRoaXMuZHJhZ2dhYmxlKX0sZ2hvc3RUb29sczpmdW5jdGlvbigpe3ZhciBlPVtdLGc9dGhpcy5oZWFkZXIsZD1nP2cucXVlcnkoInRvb2xbaGlkZGVuPWZhbHNlXSIpOltdLGMsYSxiO2lmKGQubGVuZ3RoKXtjPTA7YT1kLmxlbmd0aDtmb3IoO2M8YTtjKyspe2I9ZFtjXTtlLnB1c2goe3R5cGU6Yi50eXBlfSl9fWVsc2V7ZT1be3R5cGU6InBsYWNlaG9sZGVyIn1dfXJldHVybiBlfSxnaG9zdDpmdW5jdGlvbihhKXt2YXIgZD10aGlzLGI9ZC5naG9zdFBhbmVsLGM9ZC5nZXRCb3goKSxlO2lmKCFiKXtiPW5ldyBFeHQucGFuZWwuUGFuZWwoe3JlbmRlclRvOmRvY3VtZW50LmJvZHksZmxvYXRpbmc6e3NoYWRvdzpmYWxzZX0sZnJhbWU6ZC5mcmFtZSYmIWQuYWx3YXlzRnJhbWVkLGFsd2F5c0ZyYW1lZDpkLmFsd2F5c0ZyYW1lZCxvdmVybGFwSGVhZGVyOmQub3ZlcmxhcEhlYWRlcixoZWFkZXJQb3NpdGlvbjpkLmhlYWRlclBvc2l0aW9uLGJhc2VDbHM6ZC5iYXNlQ2xzLGNsczpkLmJhc2VDbHMrIi1naG9zdCAiKyhhfHwiIil9KTtkLmdob3N0UGFuZWw9Yn1iLmZsb2F0UGFyZW50PWQuZmxvYXRQYXJlbnQ7aWYoZC5mbG9hdGluZyl7Yi5zZXRaSW5kZXgoRXh0Lk51bWJlci5mcm9tKGQuZWwuZ2V0U3R5bGUoInpJbmRleCIpLDApKX1lbHNle2IudG9Gcm9udCgpfWlmKCEoZC5wcmV2ZW50SGVhZGVyfHwoZC5oZWFkZXI9PT1mYWxzZSkpKXtlPWIuaGVhZGVyO2lmKGUpe2Uuc3VzcGVuZExheW91dHMoKTtFeHQuQXJyYXkuZm9yRWFjaChlLnF1ZXJ5KCJ0b29sIiksZS5yZW1vdmUsZSk7ZS5yZXN1bWVMYXlvdXRzKCl9Yi5hZGRUb29sKGQuZ2hvc3RUb29scygpKTtiLnNldFRpdGxlKGQudGl0bGUpO2Iuc2V0SWNvbkNscyhkLmljb25DbHMpfWIuZWwuc2hvdygpO2Iuc2V0UGFnZVBvc2l0aW9uKGMueCxjLnkpO2Iuc2V0U2l6ZShjLndpZHRoLGMuaGVpZ2h0KTtkLmVsLmhpZGUoKTtyZXR1cm4gYn0sdW5naG9zdDpmdW5jdGlvbihiLGEpe3ZhciBjPXRoaXM7aWYoIWMuZ2hvc3RQYW5lbCl7cmV0dXJufWlmKGIhPT1mYWxzZSl7Yy5lbC5zaG93KCk7aWYoYSE9PWZhbHNlKXtjLnNldFBhZ2VQb3NpdGlvbihjLmdob3N0UGFuZWwuZWwuZ2V0WFkoKSk7aWYoYy5oaWRlTW9kZT09Im9mZnNldHMiKXtkZWxldGUgYy5lbC5oaWRlTW9kZVN0eWxlc319RXh0LmRlZmVyKGMuZm9jdXMsMTAsYyl9Yy5naG9zdFBhbmVsLmVsLmhpZGUoKX0sYmVnaW5EcmFnOmZ1bmN0aW9uKCl7aWYodGhpcy5mbG9hdGluZ0l0ZW1zKXt0aGlzLmZsb2F0aW5nSXRlbXMuaGlkZSgpfX0sZW5kRHJhZzpmdW5jdGlvbigpe2lmKHRoaXMuZmxvYXRpbmdJdGVtcyl7dGhpcy5mbG9hdGluZ0l0ZW1zLnNob3coKX19LGluaXRSZXNpemFibGU6ZnVuY3Rpb24oYSl7aWYodGhpcy5jb2xsYXBzZWQpe2EuZGlzYWJsZWQ9dHJ1ZX10aGlzLmNhbGxQYXJlbnQoW2FdKX19LGZ1bmN0aW9uKCl7dGhpcy5wcm90b3R5cGUuYW5pbUNvbGxhcHNlPUV4dC5lbmFibGVGeH0pO0V4dC5kZWZpbmUoIkV4dC5jb250YWluZXIuQnV0dG9uR3JvdXAiLHtleHRlbmQ6IkV4dC5wYW5lbC5QYW5lbCIsYWxpYXM6IndpZGdldC5idXR0b25ncm91cCIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuQnV0dG9uR3JvdXAiLHJlcXVpcmVzOlsiRXh0LmxheW91dC5jb250YWluZXIuVGFibGUiXSxiYXNlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJidG4tZ3JvdXAiLGxheW91dDp7dHlwZToidGFibGUifSxkZWZhdWx0VHlwZToiYnV0dG9uIixmcmFtZTp0cnVlLGZyYW1lSGVhZGVyOmZhbHNlLGludGVybmFsRGVmYXVsdHM6e3JlbW92ZU1vZGU6ImNvbnRhaW5lciIsaGlkZVBhcmVudDp0cnVlfSx0aXRsZUFsaWduOiJjZW50ZXIiLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jb2x1bW5zO2Eubm9UaXRsZUNscz1hLmJhc2VDbHMrIi1ub3RpdGxlIjtpZihiKXthLmxheW91dD1FeHQuYXBwbHkoe30se2NvbHVtbnM6Yn0sYS5sYXlvdXQpfWlmKCFhLnRpdGxlKXthLmFkZENscyhhLm5vVGl0bGVDbHMpfWEuY2FsbFBhcmVudChhcmd1bWVudHMpfSxvbkJlZm9yZUFkZDpmdW5jdGlvbihhKXtpZihhLmlzQnV0dG9uKXthLnVpPWEudWkrIi10b29sYmFyIn10aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sYXBwbHlEZWZhdWx0czpmdW5jdGlvbihiKXtpZighRXh0LmlzU3RyaW5nKGIpKXtiPXRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3ZhciBhPXRoaXMuaW50ZXJuYWxEZWZhdWx0cztpZihiLmV2ZW50cyl7RXh0LmFwcGx5SWYoYi5pbml0aWFsQ29uZmlnLGEpO0V4dC5hcHBseShiLGEpfWVsc2V7RXh0LmFwcGx5SWYoYixhKX19cmV0dXJuIGJ9fSk7RXh0LmRlZmluZSgiRXh0Lm1lbnUuTWVudSIse2V4dGVuZDoiRXh0LnBhbmVsLlBhbmVsIixhbGlhczoid2lkZ2V0Lm1lbnUiLHJlcXVpcmVzOlsiRXh0LmxheW91dC5jb250YWluZXIuRml0IiwiRXh0LmxheW91dC5jb250YWluZXIuVkJveCIsIkV4dC5tZW51LkNoZWNrSXRlbSIsIkV4dC5tZW51Lkl0ZW0iLCJFeHQubWVudS5LZXlOYXYiLCJFeHQubWVudS5NYW5hZ2VyIiwiRXh0Lm1lbnUuU2VwYXJhdG9yIl0sYWxsb3dPdGhlck1lbnVzOmZhbHNlLGFyaWFSb2xlOiJtZW51IixkZWZhdWx0QWxpZ246InRsLWJsPyIsZmxvYXRpbmc6dHJ1ZSxjb25zdHJhaW46dHJ1ZSxoaWRkZW46dHJ1ZSxoaWRlTW9kZToidmlzaWJpbGl0eSIsaWdub3JlUGFyZW50Q2xpY2tzOmZhbHNlLGlzTWVudTp0cnVlLHNob3dTZXBhcmF0b3I6dHJ1ZSxtaW5XaWR0aDp1bmRlZmluZWQsZGVmYXVsdE1pbldpZHRoOjEyMCxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxkPUV4dC5iYXNlQ1NTUHJlZml4LGE9W2QrIm1lbnUiXSxjPWIuYm9keUNscz9bYi5ib2R5Q2xzXTpbXSxlPWIuZmxvYXRpbmchPT1mYWxzZTtiLmFkZEV2ZW50cygiY2xpY2siLCJtb3VzZWVudGVyIiwibW91c2VsZWF2ZSIsIm1vdXNlb3ZlciIpO0V4dC5tZW51Lk1hbmFnZXIucmVnaXN0ZXIoYik7aWYoYi5wbGFpbil7YS5wdXNoKGQrIm1lbnUtcGxhaW4iKX1iLmNscz1hLmpvaW4oIiAiKTtjLnVuc2hpZnQoZCsibWVudS1ib2R5Iik7Yi5ib2R5Q2xzPWMuam9pbigiICIpO2lmKCFiLmxheW91dCl7Yi5sYXlvdXQ9e3R5cGU6InZib3giLGFsaWduOiJzdHJldGNobWF4IixvdmVyZmxvd0hhbmRsZXI6IlNjcm9sbGVyIn19aWYoZSYmYi5taW5XaWR0aD09PXVuZGVmaW5lZCl7Yi5taW5XaWR0aD1iLmRlZmF1bHRNaW5XaWR0aH1pZighZSYmYi5pbml0aWFsQ29uZmlnLmhpZGRlbiE9PXRydWUpe2IuaGlkZGVuPWZhbHNlfWIuY2FsbFBhcmVudChhcmd1bWVudHMpO2Iub24oImJlZm9yZXNob3ciLGZ1bmN0aW9uKCl7dmFyIGc9ISFiLml0ZW1zLmxlbmd0aDtpZihnJiZiLnJlbmRlcmVkKXtiLmVsLnNldFN0eWxlKCJ2aXNpYmlsaXR5IixudWxsKX1yZXR1cm4gZ30pfSxiZWZvcmVSZW5kZXI6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZighdGhpcy5nZXRTaXplTW9kZWwoKS53aWR0aC5zaHJpbmtXcmFwKXt0aGlzLmxheW91dC5hbGlnbj0ic3RyZXRjaCJ9fSxvbkJveFJlYWR5OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGEuc2hvd1NlcGFyYXRvcil7Yj17Y2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJtZW51LWljb24tc2VwYXJhdG9yIixodG1sOiImIzE2MDsifTtpZigoIUV4dC5pc1N0cmljdCYmRXh0LmlzSUUpfHxFeHQuaXNJRTYpe2Iuc3R5bGU9ImhlaWdodDoiK2EuZWwuZ2V0SGVpZ2h0KCkrInB4In1hLmljb25TZXBFbD1hLmxheW91dC5nZXRFbGVtZW50VGFyZ2V0KCkuaW5zZXJ0Rmlyc3QoYil9YS5tb24oYS5lbCx7Y2xpY2s6YS5vbkNsaWNrLG1vdXNlb3ZlcjphLm9uTW91c2VPdmVyLHNjb3BlOmF9KTthLm1vdXNlTW9uaXRvcj1hLmVsLm1vbml0b3JNb3VzZUxlYXZlKDEwMCxhLm9uTW91c2VMZWF2ZSxhKTthLmtleU5hdj1uZXcgRXh0Lm1lbnUuS2V5TmF2KGEpfSxnZXRCdWJibGVUYXJnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnRNZW51fHx0aGlzLm93bmVyQnV0dG9ufHx0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sY2FuQWN0aXZhdGVJdGVtOmZ1bmN0aW9uKGEpe3JldHVybiBhJiYhYS5pc0Rpc2FibGVkKCkmJmEuaXNWaXNpYmxlKCkmJihhLmNhbkFjdGl2YXRlfHxhLmdldFhUeXBlcygpLmluZGV4T2YoIm1lbnVpdGVtIik8MCl9LGRlYWN0aXZhdGVBY3RpdmVJdGVtOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsZD1jLmFjdGl2ZUl0ZW0sYT1jLmZvY3VzZWRJdGVtO2lmKGQpe2QuZGVhY3RpdmF0ZSgpO2lmKCFkLmFjdGl2YXRlZCl7ZGVsZXRlIGMuYWN0aXZlSXRlbX19aWYoYSYmYil7YS5ibHVyKCk7ZGVsZXRlIGMuZm9jdXNlZEl0ZW19fSxnZXRGb2N1c0VsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZm9jdXNlZEl0ZW18fHRoaXMuZWx9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLmRlYWN0aXZhdGVBY3RpdmVJdGVtKHRydWUpO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxnZXRJdGVtRnJvbUV2ZW50OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldENoaWxkQnlFbGVtZW50KGEuZ2V0VGFyZ2V0KCkpfSxsb29rdXBDb21wb25lbnQ6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZih0eXBlb2YgYj09InN0cmluZyIpe2I9YS5sb29rdXBJdGVtRnJvbVN0cmluZyhiKX1lbHNle2lmKEV4dC5pc09iamVjdChiKSl7Yj1hLmxvb2t1cEl0ZW1Gcm9tT2JqZWN0KGIpfX1iLm1pbldpZHRoPWIubWluV2lkdGh8fGEubWluV2lkdGg7cmV0dXJuIGJ9LGxvb2t1cEl0ZW1Gcm9tT2JqZWN0OmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsZD1FeHQuYmFzZUNTU1ByZWZpeCxhO2lmKCFjLmlzQ29tcG9uZW50KXtpZighYy54dHlwZSl7Yz1FeHQuY3JlYXRlKCJFeHQubWVudS4iKyhFeHQuaXNCb29sZWFuKGMuY2hlY2tlZCk/IkNoZWNrIjoiIikrIkl0ZW0iLGMpfWVsc2V7Yz1FeHQuQ29tcG9uZW50TWFuYWdlci5jcmVhdGUoYyxjLnh0eXBlKX19aWYoYy5pc01lbnVJdGVtKXtjLnBhcmVudE1lbnU9Yn1pZighYy5pc01lbnVJdGVtJiYhYy5kb2NrKXthPVtkKyJtZW51LWl0ZW0iLGQrIm1lbnUtaXRlbS1jbXAiXTtpZighYi5wbGFpbiYmKGMuaW5kZW50PT09dHJ1ZXx8Yy5pY29uQ2xzPT09Im5vLWljb24iKSl7YS5wdXNoKGQrIm1lbnUtaXRlbS1pbmRlbnQiKX1pZihjLnJlbmRlcmVkKXtjLmVsLmFkZENscyhhKX1lbHNle2MuY2xzPShjLmNscz9jLmNsczoiIikrIiAiK2Euam9pbigiICIpfX1yZXR1cm4gY30sbG9va3VwSXRlbUZyb21TdHJpbmc6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9PSJzZXBhcmF0b3IifHxhPT0iLSIpP25ldyBFeHQubWVudS5TZXBhcmF0b3IoKTpuZXcgRXh0Lm1lbnUuSXRlbSh7Y2FuQWN0aXZhdGU6ZmFsc2UsaGlkZU9uQ2xpY2s6ZmFsc2UscGxhaW46dHJ1ZSx0ZXh0OmF9KX0sb25DbGljazpmdW5jdGlvbihjKXt2YXIgYj10aGlzLGE7aWYoYi5kaXNhYmxlZCl7Yy5zdG9wRXZlbnQoKTtyZXR1cm59YT0oYy50eXBlPT09ImNsaWNrIik/Yi5nZXRJdGVtRnJvbUV2ZW50KGMpOmIuYWN0aXZlSXRlbTtpZihhJiZhLmlzTWVudUl0ZW0pe2lmKCFhLm1lbnV8fCFiLmlnbm9yZVBhcmVudENsaWNrcyl7YS5vbkNsaWNrKGMpfWVsc2V7Yy5zdG9wRXZlbnQoKX19aWYoIWF8fGEuZGlzYWJsZWQpe2E9dW5kZWZpbmVkfWIuZmlyZUV2ZW50KCJjbGljayIsYixhLGMpfSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO0V4dC5tZW51Lk1hbmFnZXIudW5yZWdpc3RlcihhKTtkZWxldGUgYS5wYXJlbnRNZW51O2RlbGV0ZSBhLm93bmVyQnV0dG9uO2lmKGEucmVuZGVyZWQpe2EuZWwudW4oYS5tb3VzZU1vbml0b3IpO2Eua2V5TmF2LmRlc3Ryb3koKTtkZWxldGUgYS5rZXlOYXZ9YS5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LG9uTW91c2VMZWF2ZTpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2EuZGVhY3RpdmF0ZUFjdGl2ZUl0ZW0oKTtpZihhLmRpc2FibGVkKXtyZXR1cm59YS5maXJlRXZlbnQoIm1vdXNlbGVhdmUiLGEsYil9LG9uTW91c2VPdmVyOmZ1bmN0aW9uKGgpe3ZhciBnPXRoaXMsaT1oLmdldFJlbGF0ZWRUYXJnZXQoKSxiPSFnLmVsLmNvbnRhaW5zKGkpLGQ9Zy5nZXRJdGVtRnJvbUV2ZW50KGgpLGM9Zy5wYXJlbnRNZW51LGE9Zy5wYXJlbnRJdGVtO2lmKGImJmMpe2Muc2V0QWN0aXZlSXRlbShhKTthLmNhbmNlbERlZmVySGlkZSgpO2MubW91c2VNb25pdG9yLm1vdXNlZW50ZXIoKX1pZihnLmRpc2FibGVkKXtyZXR1cm59aWYoZCYmIWQuYWN0aXZhdGVkKXtnLnNldEFjdGl2ZUl0ZW0oZCk7aWYoZC5hY3RpdmF0ZWQmJmQuZXhwYW5kTWVudSl7ZC5leHBhbmRNZW51KCl9fWlmKGIpe2cuZmlyZUV2ZW50KCJtb3VzZWVudGVyIixnLGgpfWcuZmlyZUV2ZW50KCJtb3VzZW92ZXIiLGcsZCxoKX0sc2V0QWN0aXZlSXRlbTpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2lmKGImJihiIT1hLmFjdGl2ZUl0ZW0pKXthLmRlYWN0aXZhdGVBY3RpdmVJdGVtKCk7aWYoYS5jYW5BY3RpdmF0ZUl0ZW0oYikpe2lmKGIuYWN0aXZhdGUpe2IuYWN0aXZhdGUoKTtpZihiLmFjdGl2YXRlZCl7YS5hY3RpdmVJdGVtPWI7YS5mb2N1c2VkSXRlbT1iO2EuZm9jdXMoKX19ZWxzZXtiLmZvY3VzKCk7YS5mb2N1c2VkSXRlbT1ifX1iLmVsLnNjcm9sbEludG9WaWV3KGEubGF5b3V0LmdldFJlbmRlclRhcmdldCgpKX19LHNob3dCeTpmdW5jdGlvbihiLGQsYyl7dmFyIGE9dGhpcztpZihhLmZsb2F0aW5nJiZiKXthLnNob3coKTthLnNldFBhZ2VQb3NpdGlvbihhLmVsLmdldEFsaWduVG9YWShiLmVsfHxiLGR8fGEuZGVmYXVsdEFsaWduLGMpKTthLnNldFZlcnRpY2FsUG9zaXRpb24oKX1yZXR1cm4gYX0sc2hvdzpmdW5jdGlvbigpe3ZhciBkPXRoaXMsYyxiLGEsZT1kLm1heEhlaWdodDtpZighZC5yZW5kZXJlZCl7ZC5kb0F1dG9SZW5kZXIoKX1pZihkLmZsb2F0aW5nKXtjPUV4dC5mbHkoZC5lbC5nZXRTY29wZVBhcmVudCgpKTtiPWMuZ2V0Vmlld1NpemUoKS5oZWlnaHQ7ZC5tYXhIZWlnaHQ9TWF0aC5taW4oZXx8YixiKX1hPWQuY2FsbFBhcmVudChhcmd1bWVudHMpO2QubWF4SGVpZ2h0PWU7cmV0dXJuIGF9LGFmdGVyQ29tcG9uZW50TGF5b3V0OmZ1bmN0aW9uKGMsYSxiLGUpe3ZhciBkPXRoaXM7ZC5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoZC5zaG93U2VwYXJhdG9yKXtkLmljb25TZXBFbC5zZXRIZWlnaHQoZC5jb21wb25lbnRMYXlvdXQubGFzdENvbXBvbmVudFNpemUuY29udGVudEhlaWdodCl9fSxzZXRWZXJ0aWNhbFBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxnLGU9ZC5lbC5nZXRZKCksaD1lLGo9ZC5nZXRIZWlnaHQoKSxiPUV4dC5FbGVtZW50LmdldFZpZXdwb3J0SGVpZ2h0KCkuaGVpZ2h0LGM9RXh0LmZseShkLmVsLmdldFNjb3BlUGFyZW50KCkpLGE9Yy5nZXRWaWV3U2l6ZSgpLmhlaWdodCxpPWUtYy5nZXRTY3JvbGwoKS50b3A7Yz1udWxsO2lmKGQuZmxvYXRpbmcpe2c9ZC5tYXhIZWlnaHQ/ZC5tYXhIZWlnaHQ6YS1pO2lmKGo+YSl7aD1lLWl9ZWxzZXtpZihnPGope2g9ZS0oai1nKX1lbHNle2lmKChlK2opPmIpe2g9Yi1qfX19fWQuZWwuc2V0WShoKX19KTtFeHQuZGVmaW5lKCJFeHQubWVudS5Db2xvclBpY2tlciIse2V4dGVuZDoiRXh0Lm1lbnUuTWVudSIsYWxpYXM6IndpZGdldC5jb2xvcm1lbnUiLHJlcXVpcmVzOlsiRXh0LnBpY2tlci5Db2xvciJdLGhpZGVPbkNsaWNrOnRydWUscGlja2VySWQ6bnVsbCxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPUV4dC5hcHBseSh7fSxiLmluaXRpYWxDb25maWcpO2RlbGV0ZSBhLmxpc3RlbmVycztFeHQuYXBwbHkoYix7cGxhaW46dHJ1ZSxzaG93U2VwYXJhdG9yOmZhbHNlLGl0ZW1zOkV4dC5hcHBseUlmKHtjbHM6RXh0LmJhc2VDU1NQcmVmaXgrIm1lbnUtY29sb3ItaXRlbSIsaWQ6Yi5waWNrZXJJZCx4dHlwZToiY29sb3JwaWNrZXIifSxhKX0pO2IuY2FsbFBhcmVudChhcmd1bWVudHMpO2IucGlja2VyPWIuZG93bigiY29sb3JwaWNrZXIiKTtiLnJlbGF5RXZlbnRzKGIucGlja2VyLFsic2VsZWN0Il0pO2lmKGIuaGlkZU9uQ2xpY2spe2Iub24oInNlbGVjdCIsYi5oaWRlUGlja2VyT25TZWxlY3QsYil9fSxoaWRlUGlja2VyT25TZWxlY3Q6ZnVuY3Rpb24oKXtFeHQubWVudS5NYW5hZ2VyLmhpZGVBbGwoKX19KTtFeHQuZGVmaW5lKCJFeHQubWVudS5EYXRlUGlja2VyIix7ZXh0ZW5kOiJFeHQubWVudS5NZW51IixhbGlhczoid2lkZ2V0LmRhdGVtZW51IixyZXF1aXJlczpbIkV4dC5waWNrZXIuRGF0ZSJdLGhpZGVPbkNsaWNrOnRydWUscGlja2VySWQ6bnVsbCxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztFeHQuYXBwbHkoYSx7c2hvd1NlcGFyYXRvcjpmYWxzZSxwbGFpbjp0cnVlLGJvcmRlcjpmYWxzZSxib2R5UGFkZGluZzowLGl0ZW1zOkV4dC5hcHBseUlmKHtjbHM6RXh0LmJhc2VDU1NQcmVmaXgrIm1lbnUtZGF0ZS1pdGVtIixpZDphLnBpY2tlcklkLHh0eXBlOiJkYXRlcGlja2VyIn0sYS5pbml0aWFsQ29uZmlnKX0pO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2EucGlja2VyPWEuZG93bigiZGF0ZXBpY2tlciIpO2EucmVsYXlFdmVudHMoYS5waWNrZXIsWyJzZWxlY3QiXSk7aWYoYS5oaWRlT25DbGljayl7YS5vbigic2VsZWN0IixhLmhpZGVQaWNrZXJPblNlbGVjdCxhKX19LGhpZGVQaWNrZXJPblNlbGVjdDpmdW5jdGlvbigpe0V4dC5tZW51Lk1hbmFnZXIuaGlkZUFsbCgpfX0pO0V4dC5kZWZpbmUoIkV4dC5wYW5lbC5UYWJsZSIse2V4dGVuZDoiRXh0LnBhbmVsLlBhbmVsIixhbGlhczoid2lkZ2V0LnRhYmxlcGFuZWwiLHVzZXM6WyJFeHQuc2VsZWN0aW9uLlJvd01vZGVsIiwiRXh0LmdyaWQuUGFnaW5nU2Nyb2xsZXIiLCJFeHQuZ3JpZC5oZWFkZXIuQ29udGFpbmVyIiwiRXh0LmdyaWQuTG9ja2FibGUiXSxleHRyYUJhc2VDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImdyaWQiLGV4dHJhQm9keUNsczpFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1ib2R5IixsYXlvdXQ6ImZpdCIsaGFzVmlldzpmYWxzZSx2aWV3VHlwZTpudWxsLHNlbFR5cGU6InJvd21vZGVsIixzY3JvbGw6dHJ1ZSxkZWZlclJvd1JlbmRlcjp0cnVlLHNvcnRhYmxlQ29sdW1uczp0cnVlLGVuYWJsZUxvY2tpbmc6ZmFsc2Usc2Nyb2xsZXJPd25lcjp0cnVlLGVuYWJsZUNvbHVtbk1vdmU6dHJ1ZSxyZXN0cmljdENvbHVtblJlb3JkZXI6ZmFsc2UsZW5hYmxlQ29sdW1uUmVzaXplOnRydWUsZW5hYmxlQ29sdW1uSGlkZTp0cnVlLHJvd0xpbmVzOnRydWUsaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBoPXRoaXMsaz1oLnNjcm9sbCxiPWZhbHNlLGE9ZmFsc2UsZz1oLmNvbHVtbnN8fGguY29sTW9kZWwsaixjPWguYm9yZGVyLGQsZTtpZihoLmNvbHVtbkxpbmVzKXtoLmFkZENscyhFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC13aXRoLWNvbC1saW5lcyIpfWlmKGgucm93TGluZXMpe2guYWRkQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLXdpdGgtcm93LWxpbmVzIil9aC5zdG9yZT1FeHQuZGF0YS5TdG9yZU1hbmFnZXIubG9va3VwKGguc3RvcmV8fCJleHQtZW1wdHktc3RvcmUiKTtpZihnIGluc3RhbmNlb2YgRXh0LmdyaWQuaGVhZGVyLkNvbnRhaW5lcil7aC5oZWFkZXJDdD1nO2guaGVhZGVyQ3QuYm9yZGVyPWM7aC5jb2x1bW5zPWguaGVhZGVyQ3QuaXRlbXMuaXRlbXN9ZWxzZXtpZihFeHQuaXNBcnJheShnKSl7Zz17aXRlbXM6Zyxib3JkZXI6Y319RXh0LmFwcGx5KGcse2ZvcmNlRml0OmguZm9yY2VGaXQsc29ydGFibGU6aC5zb3J0YWJsZUNvbHVtbnMsZW5hYmxlQ29sdW1uTW92ZTpoLmVuYWJsZUNvbHVtbk1vdmUsZW5hYmxlQ29sdW1uUmVzaXplOmguZW5hYmxlQ29sdW1uUmVzaXplLGVuYWJsZUNvbHVtbkhpZGU6aC5lbmFibGVDb2x1bW5IaWRlLGJvcmRlcjpjLHJlc3RyaWN0UmVvcmRlcjpoLnJlc3RyaWN0Q29sdW1uUmVvcmRlcn0pO2guY29sdW1ucz1nLml0ZW1zO2lmKGguZW5hYmxlTG9ja2luZ3x8RXh0LkNvbXBvbmVudFF1ZXJ5LnF1ZXJ5KCJ7bG9ja2VkICE9PSB1bmRlZmluZWR9e3Byb2Nlc3NlZCAhPSB0cnVlfSIsaC5jb2x1bW5zKS5sZW5ndGgpe2guc2VsZi5taXhpbigibG9ja2FibGUiLEV4dC5ncmlkLkxvY2thYmxlKTtoLmluamVjdExvY2thYmxlKCl9fWguc2Nyb2xsVGFzaz1uZXcgRXh0LnV0aWwuRGVsYXllZFRhc2soaC5zeW5jSG9yaXpvbnRhbFNjcm9sbCxoKTtoLmFkZEV2ZW50cygicmVjb25maWd1cmUiLCJ2aWV3cmVhZHkiKTtoLmJvZHlDbHM9aC5ib2R5Q2xzfHwiIjtoLmJvZHlDbHMrPSgiICIraC5leHRyYUJvZHlDbHMpO2guY2xzPWguY2xzfHwiIjtoLmNscys9KCIgIitoLmV4dHJhQmFzZUNscyk7ZGVsZXRlIGguYXV0b1Njcm9sbDtpZighaC5oYXNWaWV3KXtpZighaC5oZWFkZXJDdCl7aC5oZWFkZXJDdD1uZXcgRXh0LmdyaWQuaGVhZGVyLkNvbnRhaW5lcihnKX1oLmNvbHVtbnM9aC5oZWFkZXJDdC5pdGVtcy5pdGVtcztpZihoLnN0b3JlLmJ1ZmZlcmVkJiYhaC5zdG9yZS5yZW1vdGVTb3J0KXtmb3IoZD0wLGU9aC5jb2x1bW5zLmxlbmd0aDtkPGU7ZCsrKXtoLmNvbHVtbnNbZF0uc29ydGFibGU9ZmFsc2V9fWlmKGguaGlkZUhlYWRlcnMpe2guaGVhZGVyQ3QuaGVpZ2h0PTA7aC5oZWFkZXJDdC5hZGRDbHMoRXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtaGVhZGVyLWN0LWhpZGRlbiIpO2guYWRkQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLWhlYWRlci1oaWRkZW4iKTtpZihFeHQuaXNJRVF1aXJrcyl7aC5oZWFkZXJDdC5zdHlsZT17ZGlzcGxheToibm9uZSJ9fX1pZihrPT09dHJ1ZXx8az09PSJib3RoIil7Yj1hPXRydWV9ZWxzZXtpZihrPT09Imhvcml6b250YWwiKXthPXRydWV9ZWxzZXtpZihrPT09InZlcnRpY2FsIil7Yj10cnVlfX19aC5yZWxheUhlYWRlckN0RXZlbnRzKGguaGVhZGVyQ3QpO2guZmVhdHVyZXM9aC5mZWF0dXJlc3x8W107aWYoIUV4dC5pc0FycmF5KGguZmVhdHVyZXMpKXtoLmZlYXR1cmVzPVtoLmZlYXR1cmVzXX1oLmRvY2tlZEl0ZW1zPVtdLmNvbmNhdChoLmRvY2tlZEl0ZW1zfHxbXSk7aC5kb2NrZWRJdGVtcy51bnNoaWZ0KGguaGVhZGVyQ3QpO2gudmlld0NvbmZpZz1oLnZpZXdDb25maWd8fHt9O2lmKGguc3RvcmUmJmguc3RvcmUuYnVmZmVyZWQpe2gudmlld0NvbmZpZy5wcmVzZXJ2ZVNjcm9sbE9uUmVmcmVzaD10cnVlfWVsc2V7aWYoaC5pbnZhbGlkYXRlU2Nyb2xsZXJPblJlZnJlc2ghPT11bmRlZmluZWQpe2gudmlld0NvbmZpZy5wcmVzZXJ2ZVNjcm9sbE9uUmVmcmVzaD0haC5pbnZhbGlkYXRlU2Nyb2xsZXJPblJlZnJlc2h9fWo9aC5nZXRWaWV3KCk7aC5pdGVtcz1bal07aC5oYXNWaWV3PXRydWU7aWYoYil7aWYoaC5zdG9yZS5idWZmZXJlZCl7aC52ZXJ0aWNhbFNjcm9sbGVyPW5ldyBFeHQuZ3JpZC5QYWdpbmdTY3JvbGxlcihFeHQuYXBwbHkoe3BhbmVsOmgsc3RvcmU6aC5zdG9yZSx2aWV3Omgudmlld30saC52ZXJ0aWNhbFNjcm9sbGVyKSl9fWlmKGEpe2lmKCFoLmhpZGVIZWFkZXJzKXtqLm9uKHtzY3JvbGw6e2ZuOmgub25Ib3Jpem9udGFsU2Nyb2xsLGVsZW1lbnQ6ImVsIixzY29wZTpofX0pfX1oLm1vbihqLnN0b3JlLHtsb2FkOmgub25TdG9yZUxvYWQsc2NvcGU6aH0pO2gubW9uKGose3ZpZXdyZWFkeTpoLm9uVmlld1JlYWR5LHJlZnJlc2g6aC5vblJlc3RvcmVIb3J6U2Nyb2xsLHNjb3BlOmh9KX10aGlzLnJlbGF5RXZlbnRzKGgudmlldyxbImJlZm9yZWl0ZW1tb3VzZWRvd24iLCJiZWZvcmVpdGVtbW91c2V1cCIsImJlZm9yZWl0ZW1tb3VzZWVudGVyIiwiYmVmb3JlaXRlbW1vdXNlbGVhdmUiLCJiZWZvcmVpdGVtY2xpY2siLCJiZWZvcmVpdGVtZGJsY2xpY2siLCJiZWZvcmVpdGVtY29udGV4dG1lbnUiLCJpdGVtbW91c2Vkb3duIiwiaXRlbW1vdXNldXAiLCJpdGVtbW91c2VlbnRlciIsIml0ZW1tb3VzZWxlYXZlIiwiaXRlbWNsaWNrIiwiaXRlbWRibGNsaWNrIiwiaXRlbWNvbnRleHRtZW51IiwiYmVmb3JlY29udGFpbmVybW91c2Vkb3duIiwiYmVmb3JlY29udGFpbmVybW91c2V1cCIsImJlZm9yZWNvbnRhaW5lcm1vdXNlb3ZlciIsImJlZm9yZWNvbnRhaW5lcm1vdXNlb3V0IiwiYmVmb3JlY29udGFpbmVyY2xpY2siLCJiZWZvcmVjb250YWluZXJkYmxjbGljayIsImJlZm9yZWNvbnRhaW5lcmNvbnRleHRtZW51IiwiY29udGFpbmVybW91c2V1cCIsImNvbnRhaW5lcm1vdXNlb3ZlciIsImNvbnRhaW5lcm1vdXNlb3V0IiwiY29udGFpbmVyY2xpY2siLCJjb250YWluZXJkYmxjbGljayIsImNvbnRhaW5lcmNvbnRleHRtZW51Iiwic2VsZWN0aW9uY2hhbmdlIiwiYmVmb3Jlc2VsZWN0Iiwic2VsZWN0IiwiYmVmb3JlZGVzZWxlY3QiLCJkZXNlbGVjdCJdKTtoLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtoLmFkZFN0YXRlRXZlbnRzKFsiY29sdW1ucmVzaXplIiwiY29sdW1ubW92ZSIsImNvbHVtbmhpZGUiLCJjb2x1bW5zaG93Iiwic29ydGNoYW5nZSJdKTtpZihoLmhlYWRlckN0KXtoLmhlYWRlckN0Lm9uKCJhZnRlcmxheW91dCIsaC5vblJlc3RvcmVIb3J6U2Nyb2xsLGgpfX0scmVsYXlIZWFkZXJDdEV2ZW50czpmdW5jdGlvbihhKXt0aGlzLnJlbGF5RXZlbnRzKGEsWyJjb2x1bW5yZXNpemUiLCJjb2x1bW5tb3ZlIiwiY29sdW1uaGlkZSIsImNvbHVtbnNob3ciLCJzb3J0Y2hhbmdlIl0pfSxnZXRTdGF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNhbGxQYXJlbnQoKSxjPWEuc3RvcmUuc29ydGVycy5maXJzdCgpO2I9YS5hZGRQcm9wZXJ0eVRvU3RhdGUoYiwiY29sdW1ucyIsKGEuaGVhZGVyQ3R8fGEpLmdldENvbHVtbnNTdGF0ZSgpKTtpZihjKXtiPWEuYWRkUHJvcGVydHlUb1N0YXRlKGIsInNvcnQiLHtwcm9wZXJ0eTpjLnByb3BlcnR5LGRpcmVjdGlvbjpjLmRpcmVjdGlvbixyb290OmMucm9vdH0pfXJldHVybiBifSxhcHBseVN0YXRlOmZ1bmN0aW9uKGQpe3ZhciBjPXRoaXMsZT1kLnNvcnQsYT1jLnN0b3JlLGI9ZC5jb2x1bW5zO2RlbGV0ZSBkLmNvbHVtbnM7Yy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYil7KGMuaGVhZGVyQ3R8fGMpLmFwcGx5Q29sdW1uc1N0YXRlKGIpfWlmKGUpe2lmKGEucmVtb3RlU29ydCl7YS5zb3J0KHtwcm9wZXJ0eTplLnByb3BlcnR5LGRpcmVjdGlvbjplLmRpcmVjdGlvbixyb290OmUucm9vdH0sbnVsbCxmYWxzZSl9ZWxzZXthLnNvcnQoZS5wcm9wZXJ0eSxlLmRpcmVjdGlvbil9fX0sZ2V0U3RvcmU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdG9yZX0sZ2V0VmlldzpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYjtpZighYS52aWV3KXtiPWEuZ2V0U2VsZWN0aW9uTW9kZWwoKTthLnZpZXc9RXh0LndpZGdldChFeHQuYXBwbHkoe30sYS52aWV3Q29uZmlnLHtncmlkOmEsZGVmZXJJbml0aWFsUmVmcmVzaDphLmRlZmVyUm93UmVuZGVyIT09ZmFsc2Usc2Nyb2xsOmEuc2Nyb2xsLHh0eXBlOmEudmlld1R5cGUsc3RvcmU6YS5zdG9yZSxoZWFkZXJDdDphLmhlYWRlckN0LHNlbE1vZGVsOmIsZmVhdHVyZXM6YS5mZWF0dXJlcyxwYW5lbDphLGVtcHR5VGV4dDphLmVtcHR5VGV4dD8nPGRpdiBjbGFzcz0iJytFeHQuYmFzZUNTU1ByZWZpeCsnZ3JpZC1lbXB0eSI+JythLmVtcHR5VGV4dCsiPC9kaXY+IjoiIn0pKTthLm1vbihhLnZpZXcse3VpZXZlbnQ6YS5wcm9jZXNzRXZlbnQsc2NvcGU6YX0pO2Iudmlldz1hLnZpZXc7YS5oZWFkZXJDdC52aWV3PWEudmlldzthLnJlbGF5RXZlbnRzKGEudmlldyxbImNlbGxjbGljayIsImNlbGxkYmxjbGljayJdKX1yZXR1cm4gYS52aWV3fSxzZXRBdXRvU2Nyb2xsOkV4dC5lbXB0eUZuLHByb2Nlc3NFdmVudDpmdW5jdGlvbihnLGIsYSxjLGQsaSl7dmFyIGg9dGhpcyxqO2lmKGQhPT0tMSl7aj1oLmhlYWRlckN0LmdldEdyaWRDb2x1bW5zKClbZF07cmV0dXJuIGoucHJvY2Vzc0V2ZW50LmFwcGx5KGosYXJndW1lbnRzKX19LGRldGVybWluZVNjcm9sbGJhcnM6ZnVuY3Rpb24oKXt9LGludmFsaWRhdGVTY3JvbGxlcjpmdW5jdGlvbigpe30sc2Nyb2xsQnlEZWx0YVk6ZnVuY3Rpb24oYixhKXt0aGlzLmdldFZpZXcoKS5zY3JvbGxCeSgwLGIsYSl9LHNjcm9sbEJ5RGVsdGFYOmZ1bmN0aW9uKGIsYSl7dGhpcy5nZXRWaWV3KCkuc2Nyb2xsQnkoYiwwLGEpfSxhZnRlckNvbGxhcHNlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnNhdmVTY3JvbGxQb3MoKTthLnNhdmVTY3JvbGxQb3MoKTthLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sYWZ0ZXJFeHBhbmQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2EucmVzdG9yZVNjcm9sbFBvcygpO2EucmVzdG9yZVNjcm9sbFBvcygpfSxzYXZlU2Nyb2xsUG9zOkV4dC5lbXB0eUZuLHJlc3RvcmVTY3JvbGxQb3M6RXh0LmVtcHR5Rm4sb25IZWFkZXJSZXNpemU6ZnVuY3Rpb24oKXt0aGlzLmRlbGF5U2Nyb2xsKCl9LG9uSGVhZGVyTW92ZTpmdW5jdGlvbihlLGcsYSxiLGQpe3ZhciBjPXRoaXM7aWYoYy5vcHRpbWl6ZWRDb2x1bW5Nb3ZlPT09ZmFsc2Upe2Mudmlldy5yZWZyZXNoKCl9ZWxzZXtjLnZpZXcubW92ZUNvbHVtbihiLGQsYSl9Yy5kZWxheVNjcm9sbCgpfSxvbkhlYWRlckhpZGU6ZnVuY3Rpb24oYSxiKXt0aGlzLmRlbGF5U2Nyb2xsKCl9LG9uSGVhZGVyU2hvdzpmdW5jdGlvbihhLGIpe3RoaXMuZGVsYXlTY3JvbGwoKX0sZGVsYXlTY3JvbGw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldFNjcm9sbFRhcmdldCgpLmVsO2lmKGEpe3RoaXMuc2Nyb2xsVGFzay5kZWxheSgxMCxudWxsLG51bGwsW2EuZG9tLnNjcm9sbExlZnRdKX19LG9uVmlld1JlYWR5OmZ1bmN0aW9uKCl7dGhpcy5maXJlRXZlbnQoInZpZXdyZWFkeSIsdGhpcyl9LG9uUmVzdG9yZUhvcnpTY3JvbGw6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnNjcm9sbExlZnRQb3M7aWYoYSl7dGhpcy5zeW5jSG9yaXpvbnRhbFNjcm9sbChhKX19LHNldFNjcm9sbFRvcDpmdW5jdGlvbihjKXt2YXIgYj10aGlzLGE9Yi5nZXRTY3JvbGxlck93bmVyKCk7YS52aXJ0dWFsU2Nyb2xsVG9wPWN9LGdldFNjcm9sbGVyT3duZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKCF0aGlzLnNjcm9sbGVyT3duZXIpe2E9dGhpcy51cCgiW3Njcm9sbGVyT3duZXJdIil9cmV0dXJuIGF9LGdldExoc01hcmtlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEubGhzTWFya2VyfHwoYS5saHNNYXJrZXI9RXh0LkRvbUhlbHBlci5hcHBlbmQoYS5lbCx7Y2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLXJlc2l6ZS1tYXJrZXIifSx0cnVlKSl9LGdldFJoc01hcmtlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIGEucmhzTWFya2VyfHwoYS5yaHNNYXJrZXI9RXh0LkRvbUhlbHBlci5hcHBlbmQoYS5lbCx7Y2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLXJlc2l6ZS1tYXJrZXIifSx0cnVlKSl9LGdldFNlbGVjdGlvbk1vZGVsOmZ1bmN0aW9uKCl7aWYoIXRoaXMuc2VsTW9kZWwpe3RoaXMuc2VsTW9kZWw9e319dmFyIGI9IlNJTkdMRSIsYTtpZih0aGlzLnNpbXBsZVNlbGVjdCl7Yj0iU0lNUExFIn1lbHNle2lmKHRoaXMubXVsdGlTZWxlY3Qpe2I9Ik1VTFRJIn19RXh0LmFwcGx5SWYodGhpcy5zZWxNb2RlbCx7YWxsb3dEZXNlbGVjdDp0aGlzLmFsbG93RGVzZWxlY3QsbW9kZTpifSk7aWYoIXRoaXMuc2VsTW9kZWwuZXZlbnRzKXthPXRoaXMuc2VsTW9kZWwuc2VsVHlwZXx8dGhpcy5zZWxUeXBlO3RoaXMuc2VsTW9kZWw9RXh0LmNyZWF0ZSgic2VsZWN0aW9uLiIrYSx0aGlzLnNlbE1vZGVsKX1pZighdGhpcy5zZWxNb2RlbC5oYXNSZWxheVNldHVwKXt0aGlzLnJlbGF5RXZlbnRzKHRoaXMuc2VsTW9kZWwsWyJzZWxlY3Rpb25jaGFuZ2UiLCJiZWZvcmVzZWxlY3QiLCJiZWZvcmVkZXNlbGVjdCIsInNlbGVjdCIsImRlc2VsZWN0Il0pO3RoaXMuc2VsTW9kZWwuaGFzUmVsYXlTZXR1cD10cnVlfWlmKHRoaXMuZGlzYWJsZVNlbGVjdGlvbil7dGhpcy5zZWxNb2RlbC5sb2NrZWQ9dHJ1ZX1yZXR1cm4gdGhpcy5zZWxNb2RlbH0sZ2V0U2Nyb2xsVGFyZ2V0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRTY3JvbGxlck93bmVyKCksYj1hLnF1ZXJ5KCJ0YWJsZXZpZXciKTtyZXR1cm4gYlsxXXx8YlswXX0sb25Ib3Jpem9udGFsU2Nyb2xsOmZ1bmN0aW9uKGEsYil7dGhpcy5zeW5jSG9yaXpvbnRhbFNjcm9sbChiLnNjcm9sbExlZnQpfSxzeW5jSG9yaXpvbnRhbFNjcm9sbDpmdW5jdGlvbihjKXt2YXIgYj10aGlzLGE7aWYoYi5yZW5kZXJlZCl7YT1iLmdldFNjcm9sbFRhcmdldCgpO2EuZWwuZG9tLnNjcm9sbExlZnQ9YztiLmhlYWRlckN0LmVsLmRvbS5zY3JvbGxMZWZ0PWM7Yi5zY3JvbGxMZWZ0UG9zPWN9fSxvblN0b3JlTG9hZDpFeHQuZW1wdHlGbixnZXRFZGl0b3JQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5fSxiaW5kU3RvcmU6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztiLnN0b3JlPWE7Yi5nZXRWaWV3KCkuYmluZFN0b3JlKGEpfSxiZWZvcmVEZXN0cm95OmZ1bmN0aW9uKCl7RXh0LmRlc3Ryb3kodGhpcy52ZXJ0aWNhbFNjcm9sbGVyKTt0aGlzLmNhbGxQYXJlbnQoKX0scmVjb25maWd1cmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGQ9Yy5oZWFkZXJDdDtpZihjLmxvY2thYmxlKXtjLnJlY29uZmlndXJlTG9ja2FibGUoYSxiKX1lbHNle2lmKGIpe2RlbGV0ZSBjLnNjcm9sbExlZnRQb3M7ZC5zdXNwZW5kTGF5b3V0cygpO2QucmVtb3ZlQWxsKCk7ZC5hZGQoYil9aWYoYSl7YT1FeHQuU3RvcmVNYW5hZ2VyLmxvb2t1cChhKTtjLmJpbmRTdG9yZShhKX1lbHNle2MuZ2V0VmlldygpLnJlZnJlc2goKX1pZihiKXtkLnJlc3VtZUxheW91dHModHJ1ZSl9ZC5zZXRTb3J0U3RhdGUoKX1jLmZpcmVFdmVudCgicmVjb25maWd1cmUiLGMsYSxiKX19KTtFeHQuZGVmaW5lKCJFeHQudGFiLlBhbmVsIix7ZXh0ZW5kOiJFeHQucGFuZWwuUGFuZWwiLGFsaWFzOiJ3aWRnZXQudGFicGFuZWwiLGFsdGVybmF0ZUNsYXNzTmFtZTpbIkV4dC5UYWJQYW5lbCJdLHJlcXVpcmVzOlsiRXh0LmxheW91dC5jb250YWluZXIuQ2FyZCIsIkV4dC50YWIuQmFyIl0sdGFiUG9zaXRpb246InRvcCIscmVtb3ZlUGFuZWxIZWFkZXI6dHJ1ZSxwbGFpbjpmYWxzZSxpdGVtQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJ0YWJwYW5lbC1jaGlsZCIsbWluVGFiV2lkdGg6dW5kZWZpbmVkLG1heFRhYldpZHRoOnVuZGVmaW5lZCxkZWZlcnJlZFJlbmRlcjp0cnVlLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9W10uY29uY2F0KGMuZG9ja2VkSXRlbXN8fFtdKSxhPWMuYWN0aXZlVGFifHwoYy5hY3RpdmVUYWI9MCk7Yy5sYXlvdXQ9bmV3IEV4dC5sYXlvdXQuY29udGFpbmVyLkNhcmQoRXh0LmFwcGx5KHtvd25lcjpjLGRlZmVycmVkUmVuZGVyOmMuZGVmZXJyZWRSZW5kZXIsaXRlbUNsczpjLml0ZW1DbHMsYWN0aXZlSXRlbTpjLmFjdGl2ZVRhYn0sYy5sYXlvdXQpKTtjLnRhYkJhcj1uZXcgRXh0LnRhYi5CYXIoRXh0LmFwcGx5KHtkb2NrOmMudGFiUG9zaXRpb24scGxhaW46Yy5wbGFpbixib3JkZXI6Yy5ib3JkZXIsY2FyZExheW91dDpjLmxheW91dCx0YWJQYW5lbDpjfSxjLnRhYkJhcikpO2IucHVzaChjLnRhYkJhcik7Yy5kb2NrZWRJdGVtcz1iO2MuYWRkRXZlbnRzKCJiZWZvcmV0YWJjaGFuZ2UiLCJ0YWJjaGFuZ2UiKTtjLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtjLmFjdGl2ZVRhYj1jLmdldENvbXBvbmVudChhKTtpZihjLmFjdGl2ZVRhYil7Yy5hY3RpdmVUYWIudGFiLmFjdGl2YXRlKHRydWUpO2MudGFiQmFyLmFjdGl2ZVRhYj1jLmFjdGl2ZVRhYi50YWJ9fSxzZXRBY3RpdmVUYWI6ZnVuY3Rpb24oYSl7dmFyIGM9dGhpcyxiO2E9Yy5nZXRDb21wb25lbnQoYSk7aWYoYSl7Yj1jLmdldEFjdGl2ZVRhYigpO2lmKGIhPT1hJiZjLmZpcmVFdmVudCgiYmVmb3JldGFiY2hhbmdlIixjLGEsYik9PT1mYWxzZSl7cmV0dXJuIGZhbHNlfWlmKCFhLmlzQ29tcG9uZW50KXtFeHQuc3VzcGVuZExheW91dHMoKTthPWMuYWRkKGEpO0V4dC5yZXN1bWVMYXlvdXRzKCl9Yy5hY3RpdmVUYWI9YTtFeHQuc3VzcGVuZExheW91dHMoKTtjLmxheW91dC5zZXRBY3RpdmVJdGVtKGEpO2E9Yy5hY3RpdmVUYWI9Yy5sYXlvdXQuZ2V0QWN0aXZlSXRlbSgpO2lmKGEmJmEhPT1iKXtjLnRhYkJhci5zZXRBY3RpdmVUYWIoYS50YWIpO0V4dC5yZXN1bWVMYXlvdXRzKHRydWUpO2lmKGIhPT1hKXtjLmZpcmVFdmVudCgidGFiY2hhbmdlIixjLGEsYil9fWVsc2V7RXh0LnJlc3VtZUxheW91dHModHJ1ZSl9cmV0dXJuIGF9fSxnZXRBY3RpdmVUYWI6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5nZXRDb21wb25lbnQoYi5hY3RpdmVUYWIpO2lmKGEmJmIuaXRlbXMuaW5kZXhPZihhKSE9LTEpe2IuYWN0aXZlVGFiPWF9ZWxzZXtiLmFjdGl2ZVRhYj1udWxsfXJldHVybiBiLmFjdGl2ZVRhYn0sZ2V0VGFiQmFyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGFiQmFyfSxvbkFkZDpmdW5jdGlvbihlLGMpe3ZhciBkPXRoaXMsYj1lLnRhYkNvbmZpZ3x8e30sYT17eHR5cGU6InRhYiIsY2FyZDplLGRpc2FibGVkOmUuZGlzYWJsZWQsY2xvc2FibGU6ZS5jbG9zYWJsZSxoaWRkZW46ZS5oaWRkZW4mJiFlLmhpZGRlbkJ5TGF5b3V0LHRvb2x0aXA6ZS50b29sdGlwLHRhYkJhcjpkLnRhYkJhcixjbG9zZVRleHQ6ZS5jbG9zZVRleHR9O2I9RXh0LmFwcGx5SWYoYixhKTtlLnRhYj1kLnRhYkJhci5pbnNlcnQoYyxiKTtlLm9uKHtzY29wZTpkLGVuYWJsZTpkLm9uSXRlbUVuYWJsZSxkaXNhYmxlOmQub25JdGVtRGlzYWJsZSxiZWZvcmVzaG93OmQub25JdGVtQmVmb3JlU2hvdyxpY29uY2hhbmdlOmQub25JdGVtSWNvbkNoYW5nZSxpY29uY2xzY2hhbmdlOmQub25JdGVtSWNvbkNsc0NoYW5nZSx0aXRsZWNoYW5nZTpkLm9uSXRlbVRpdGxlQ2hhbmdlfSk7aWYoZS5pc1BhbmVsKXtpZihkLnJlbW92ZVBhbmVsSGVhZGVyKXtpZihlLnJlbmRlcmVkKXtpZihlLmhlYWRlcil7ZS5oZWFkZXIuaGlkZSgpfX1lbHNle2UuaGVhZGVyPWZhbHNlfX1pZihlLmlzUGFuZWwmJmQuYm9yZGVyKXtlLnNldEJvcmRlcihmYWxzZSl9fX0sb25JdGVtRW5hYmxlOmZ1bmN0aW9uKGEpe2EudGFiLmVuYWJsZSgpfSxvbkl0ZW1EaXNhYmxlOmZ1bmN0aW9uKGEpe2EudGFiLmRpc2FibGUoKX0sb25JdGVtQmVmb3JlU2hvdzpmdW5jdGlvbihhKXtpZihhIT09dGhpcy5hY3RpdmVUYWIpe3RoaXMuc2V0QWN0aXZlVGFiKGEpO3JldHVybiBmYWxzZX19LG9uSXRlbUljb25DaGFuZ2U6ZnVuY3Rpb24oYixhKXtiLnRhYi5zZXRJY29uKGEpfSxvbkl0ZW1JY29uQ2xzQ2hhbmdlOmZ1bmN0aW9uKGIsYSl7Yi50YWIuc2V0SWNvbkNscyhhKX0sb25JdGVtVGl0bGVDaGFuZ2U6ZnVuY3Rpb24oYSxiKXthLnRhYi5zZXRUZXh0KGIpfSxkb1JlbW92ZTpmdW5jdGlvbihkLGIpe3ZhciBjPXRoaXMsYTtpZihjLmRlc3Ryb3lpbmd8fGMuaXRlbXMuZ2V0Q291bnQoKT09MSl7Yy5hY3RpdmVUYWI9bnVsbH1lbHNle2lmKChhPWMudGFiQmFyLml0ZW1zLmluZGV4T2YoYy50YWJCYXIuZmluZE5leHRBY3RpdmF0YWJsZShkLnRhYikpKSE9PS0xKXtjLnNldEFjdGl2ZVRhYihhKX19dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7ZGVsZXRlIGQudGFiLmNhcmQ7ZGVsZXRlIGQudGFifSxvblJlbW92ZTpmdW5jdGlvbihiLGMpe3ZhciBhPXRoaXM7Yi51bih7c2NvcGU6YSxlbmFibGU6YS5vbkl0ZW1FbmFibGUsZGlzYWJsZTphLm9uSXRlbURpc2FibGUsYmVmb3Jlc2hvdzphLm9uSXRlbUJlZm9yZVNob3d9KTtpZighYS5kZXN0cm95aW5nJiZiLnRhYi5vd25lckN0PT09YS50YWJCYXIpe2EudGFiQmFyLnJlbW92ZShiLnRhYil9fX0pO0V4dC5kZWZpbmUoIkV4dC50aXAuVGlwIix7ZXh0ZW5kOiJFeHQucGFuZWwuUGFuZWwiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LlRpcCIsbWluV2lkdGg6NDAsbWF4V2lkdGg6MzAwLHNoYWRvdzoic2lkZXMiLGRlZmF1bHRBbGlnbjoidGwtYmw/Iixjb25zdHJhaW5Qb3NpdGlvbjp0cnVlLGF1dG9SZW5kZXI6dHJ1ZSxoaWRkZW46dHJ1ZSxiYXNlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJ0aXAiLGZsb2F0aW5nOntzaGFkb3c6dHJ1ZSxzaGltOnRydWUsY29uc3RyYWluOnRydWV9LGZvY3VzT25Ub0Zyb250OmZhbHNlLGNsb3NlQWN0aW9uOiJoaWRlIixhcmlhUm9sZToidG9vbHRpcCIsYWx3YXlzRnJhbWVkOnRydWUsZnJhbWVIZWFkZXI6ZmFsc2UsaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5mbG9hdGluZz1FeHQuYXBwbHkoe30se3NoYWRvdzphLnNoYWRvd30sYS5zZWxmLnByb3RvdHlwZS5mbG9hdGluZyk7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5jb25zdHJhaW49YS5jb25zdHJhaW58fGEuY29uc3RyYWluUG9zaXRpb259LHNob3dBdDpmdW5jdGlvbihiKXt2YXIgYT10aGlzO3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGEuaXNWaXNpYmxlKCkpe2Euc2V0UGFnZVBvc2l0aW9uKGJbMF0sYlsxXSk7aWYoYS5jb25zdHJhaW5Qb3NpdGlvbnx8YS5jb25zdHJhaW4pe2EuZG9Db25zdHJhaW4oKX1hLnRvRnJvbnQodHJ1ZSl9fSxzaG93Qnk6ZnVuY3Rpb24oYSxiKXt0aGlzLnNob3dBdCh0aGlzLmVsLmdldEFsaWduVG9YWShhLGJ8fHRoaXMuZGVmYXVsdEFsaWduKSl9LGluaXREcmFnZ2FibGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZHJhZ2dhYmxlPXtlbDphLmdldERyYWdFbCgpLGRlbGVnYXRlOmEuaGVhZGVyLmVsLGNvbnN0cmFpbjphLGNvbnN0cmFpblRvOmEuZWwuZ2V0U2NvcGVQYXJlbnQoKX07RXh0LkNvbXBvbmVudC5wcm90b3R5cGUuaW5pdERyYWdnYWJsZS5jYWxsKGEpfSxnaG9zdDp1bmRlZmluZWQsdW5naG9zdDp1bmRlZmluZWR9KTtFeHQuZGVmaW5lKCJFeHQuc2xpZGVyLlRpcCIse2V4dGVuZDoiRXh0LnRpcC5UaXAiLG1pbldpZHRoOjEwLGFsaWFzOiJ3aWRnZXQuc2xpZGVydGlwIixvZmZzZXRzOm51bGwsYWxpZ246bnVsbCxwb3NpdGlvbjoiIixkZWZhdWx0VmVydGljYWxQb3NpdGlvbjoibGVmdCIsZGVmYXVsdEhvcml6b250YWxQb3NpdGlvbjoidG9wIixpc1NsaWRlclRpcDp0cnVlLGluaXQ6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxkLGE7aWYoIWIucG9zaXRpb24pe2IucG9zaXRpb249Yy52ZXJ0aWNhbD9iLmRlZmF1bHRWZXJ0aWNhbFBvc2l0aW9uOmIuZGVmYXVsdEhvcml6b250YWxQb3NpdGlvbn1zd2l0Y2goYi5wb3NpdGlvbil7Y2FzZSJ0b3AiOmE9WzAsLTEwXTtkPSJiLXQ/IjticmVhaztjYXNlImJvdHRvbSI6YT1bMCwxMF07ZD0idC1iPyI7YnJlYWs7Y2FzZSJsZWZ0IjphPVstMTAsMF07ZD0ici1sPyI7YnJlYWs7Y2FzZSJyaWdodCI6YT1bMTAsMF07ZD0ibC1yPyJ9aWYoIWIuYWxpZ24pe2IuYWxpZ249ZH1pZighYi5vZmZzZXRzKXtiLm9mZnNldHM9YX1jLm9uKHtzY29wZTpiLGRyYWdzdGFydDpiLm9uU2xpZGUsZHJhZzpiLm9uU2xpZGUsZHJhZ2VuZDpiLmhpZGUsZGVzdHJveTpiLmRlc3Ryb3l9KX0sb25TbGlkZTpmdW5jdGlvbihjLGQsYSl7dmFyIGI9dGhpcztiLnNob3coKTtiLnVwZGF0ZShiLmdldFRleHQoYSkpO2IuZWwuYWxpZ25UbyhhLmVsLGIuYWxpZ24sYi5vZmZzZXRzKX0sZ2V0VGV4dDpmdW5jdGlvbihhKXtyZXR1cm4gU3RyaW5nKGEudmFsdWUpfX0pO0V4dC5kZWZpbmUoIkV4dC5zbGlkZXIuTXVsdGkiLHtleHRlbmQ6IkV4dC5mb3JtLmZpZWxkLkJhc2UiLGFsaWFzOiJ3aWRnZXQubXVsdGlzbGlkZXIiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LnNsaWRlci5NdWx0aVNsaWRlciIscmVxdWlyZXM6WyJFeHQuc2xpZGVyLlRodW1iIiwiRXh0LnNsaWRlci5UaXAiLCJFeHQuTnVtYmVyIiwiRXh0LnV0aWwuRm9ybWF0IiwiRXh0LlRlbXBsYXRlIiwiRXh0LmxheW91dC5jb21wb25lbnQuZmllbGQuU2xpZGVyIl0sY2hpbGRFbHM6WyJlbmRFbCIsImlubmVyRWwiXSxmaWVsZFN1YlRwbDpbJzxkaXYgaWQ9IntpZH0iIGNsYXNzPSInK0V4dC5iYXNlQ1NTUHJlZml4KydzbGlkZXIge2ZpZWxkQ2xzfSB7dmVydGljYWx9IiBhcmlhLXZhbHVlbWluPSJ7bWluVmFsdWV9IiBhcmlhLXZhbHVlbWF4PSJ7bWF4VmFsdWV9IiBhcmlhLXZhbHVlbm93PSJ7dmFsdWV9IiBhcmlhLXZhbHVldGV4dD0ie3ZhbHVlfSI+JywnPGRpdiBpZD0ie2NtcElkfS1lbmRFbCIgY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrJ3NsaWRlci1lbmQiIHJvbGU9InByZXNlbnRhdGlvbiI+JywnPGRpdiBpZD0ie2NtcElkfS1pbm5lckVsIiBjbGFzcz0iJytFeHQuYmFzZUNTU1ByZWZpeCsnc2xpZGVyLWlubmVyIiByb2xlPSJwcmVzZW50YXRpb24iPicsInsldGhpcy5yZW5kZXJUaHVtYnMob3V0LCB2YWx1ZXMpJX0iLCI8L2Rpdj4iLCI8L2Rpdj4iLCI8L2Rpdj4iLHtyZW5kZXJUaHVtYnM6ZnVuY3Rpb24oZyxlKXt2YXIgaj1lLiRjb21wLGg9MCxjPWoudGh1bWJzLGI9Yy5sZW5ndGgsZCxhO2Zvcig7aDxiO2grKyl7ZD1jW2hdO2E9ZC5nZXRFbENvbmZpZygpO2EuaWQ9ai5pZCsiLXRodW1iLSIraDtFeHQuRG9tSGVscGVyLmdlbmVyYXRlTWFya3VwKGEsZyl9fSxkaXNhYmxlRm9ybWF0czp0cnVlfV0sdmVydGljYWw6ZmFsc2UsbWluVmFsdWU6MCxtYXhWYWx1ZToxMDAsZGVjaW1hbFByZWNpc2lvbjowLGtleUluY3JlbWVudDoxLGluY3JlbWVudDowLGNsaWNrUmFuZ2U6WzUsMTVdLGNsaWNrVG9DaGFuZ2U6dHJ1ZSxhbmltYXRlOnRydWUsZHJhZ2dpbmc6ZmFsc2UsY29uc3RyYWluVGh1bWJzOnRydWUsY29tcG9uZW50TGF5b3V0OiJzbGlkZXJmaWVsZCIsdXNlVGlwczp0cnVlLHRpcFRleHQ6bnVsbCxhcmlhUm9sZToic2xpZGVyIixpbml0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGM9RXh0LnZhbHVlLGI9YyhlLnZhbHVlcyxbYyhlLnZhbHVlLGMoZS5taW5WYWx1ZSwwKSldKSxkPTAsYT1iLmxlbmd0aDtlLm9yaWdpbmFsVmFsdWU9Yjtmb3IoO2Q8YTtkKyspe2UuYWRkVGh1bWIoYltkXSl9fSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxjLGQsZyxiLGE7ZS50aHVtYnM9W107ZS5rZXlJbmNyZW1lbnQ9TWF0aC5tYXgoZS5pbmNyZW1lbnQsZS5rZXlJbmNyZW1lbnQpO2UuYWRkRXZlbnRzKCJiZWZvcmVjaGFuZ2UiLCJjaGFuZ2UiLCJjaGFuZ2Vjb21wbGV0ZSIsImRyYWdzdGFydCIsImRyYWciLCJkcmFnZW5kIik7aWYoZS5pbmNyZW1lbnQpe2UubWF4VmFsdWU9RXh0Lk51bWJlci5zbmFwSW5SYW5nZShlLm1heFZhbHVlLGUuaW5jcmVtZW50LGUubWluVmFsdWUpO2UudmFsdWU9ZS5ub3JtYWxpemVWYWx1ZShlLnZhbHVlKX1lLmNhbGxQYXJlbnQoKTtpZihlLnVzZVRpcHMpe2lmKEV4dC5pc09iamVjdChlLnVzZVRpcHMpKXtjPUV4dC5hcHBseSh7fSxlLnVzZVRpcHMpfWVsc2V7Yz1lLnRpcFRleHQ/e2dldFRleHQ6ZS50aXBUZXh0fTp7fX1hPWUucGx1Z2lucz1lLnBsdWdpbnN8fFtdO2I9YS5sZW5ndGg7Zm9yKGc9MDtnPGI7ZysrKXtpZihhW2ddLmlzU2xpZGVyVGlwKXtkPXRydWU7YnJlYWt9fWlmKCFkKXtlLnBsdWdpbnMucHVzaChuZXcgRXh0LnNsaWRlci5UaXAoYykpfX19LGFkZFRodW1iOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT1uZXcgRXh0LnNsaWRlci5UaHVtYih7b3duZXJDdDpiLG93bmVyTGF5b3V0OmIuZ2V0Q29tcG9uZW50TGF5b3V0KCksdmFsdWU6YyxzbGlkZXI6YixpbmRleDpiLnRodW1icy5sZW5ndGgsY29uc3RyYWluOmIuY29uc3RyYWluVGh1bWJzfSk7Yi50aHVtYnMucHVzaChhKTtpZihiLnJlbmRlcmVkKXthLnJlbmRlcigpfXJldHVybiBhfSxwcm9tb3RlVGh1bWI6ZnVuY3Rpb24oYyl7dmFyIGE9dGhpcy50aHVtYnMsZT1hLmxlbmd0aCxnLGIsZDtmb3IoZD0wO2Q8ZTtkKyspe2I9YVtkXTtpZihiPT1jKXtiLmJyaW5nVG9Gcm9udCgpfWVsc2V7Yi5zZW5kVG9CYWNrKCl9fX0sZ2V0U3ViVHBsRGF0YTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIEV4dC5hcHBseShhLmNhbGxQYXJlbnQoKSx7JGNvbXA6YSx2ZXJ0aWNhbDphLnZlcnRpY2FsP0V4dC5iYXNlQ1NTUHJlZml4KyJzbGlkZXItdmVydCI6RXh0LmJhc2VDU1NQcmVmaXgrInNsaWRlci1ob3J6IixtaW5WYWx1ZTphLm1pblZhbHVlLG1heFZhbHVlOmEubWF4VmFsdWUsdmFsdWU6YS52YWx1ZX0pfSxvblJlbmRlcjpmdW5jdGlvbigpe3ZhciBlPXRoaXMsYj1lLnRodW1icyxhPWIubGVuZ3RoLGQ9MCxjO2UuY2FsbFBhcmVudChhcmd1bWVudHMpO2ZvcihkPTA7ZDxhO2QrKyl7Yz1iW2RdO2MuZWw9ZS5lbC5nZXRCeUlkKGUuaWQrIi10aHVtYi0iK2QpO2Mub25SZW5kZXIoKX19LGluaXRFdmVudHM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EubW9uKGEuZWwse3Njb3BlOmEsbW91c2Vkb3duOmEub25Nb3VzZURvd24sa2V5ZG93bjphLm9uS2V5RG93bn0pfSxnZXRUcmFja3BvaW50OmZ1bmN0aW9uKGcpe3ZhciBlPXRoaXMsYixkLGM9ZS5pbm5lckVsLGE7aWYoZS52ZXJ0aWNhbCl7ZD0idG9wIjthPWMuZ2V0SGVpZ2h0KCl9ZWxzZXtkPSJsZWZ0IjthPWMuZ2V0V2lkdGgoKX1iPUV4dC5OdW1iZXIuY29uc3RyYWluKGMudHJhbnNsYXRlUG9pbnRzKGcpW2RdLDAsYSk7cmV0dXJuIGUudmVydGljYWw/YS1iOmJ9LG9uTW91c2VEb3duOmZ1bmN0aW9uKGope3ZhciBkPXRoaXMsaD1mYWxzZSxjPTAsYj1kLnRodW1icyxhPWIubGVuZ3RoLGc7aWYoZC5kaXNhYmxlZCl7cmV0dXJufWZvcig7YzxhO2MrKyl7aD1ofHxqLnRhcmdldD09YltjXS5lbC5kb219aWYoZC5jbGlja1RvQ2hhbmdlJiYhaCl7Zz1kLmdldFRyYWNrcG9pbnQoai5nZXRYWSgpKTtpZihnIT09dW5kZWZpbmVkKXtkLm9uQ2xpY2tDaGFuZ2UoZyl9fWQuZm9jdXMoKX0sb25DbGlja0NoYW5nZTpmdW5jdGlvbihkKXt2YXIgYz10aGlzLGEsYjthPWMuZ2V0TmVhcmVzdChkKTtpZighYS5kaXNhYmxlZCl7Yj1hLmluZGV4O2Muc2V0VmFsdWUoYixFeHQudXRpbC5Gb3JtYXQucm91bmQoYy5yZXZlcnNlUGl4ZWxWYWx1ZShkKSxjLmRlY2ltYWxQcmVjaXNpb24pLHVuZGVmaW5lZCx0cnVlKX19LGdldE5lYXJlc3Q6ZnVuY3Rpb24oail7dmFyIGs9dGhpcyxnPWsucmV2ZXJzZVBpeGVsVmFsdWUoaiksbD0oay5tYXhWYWx1ZS1rLm1pblZhbHVlKSs1LGI9bnVsbCxlPWsudGh1bWJzLGM9MCxkPWUubGVuZ3RoLGEsbSxoO2Zvcig7YzxkO2MrKyl7YT1rLnRodW1ic1tjXTttPWEudmFsdWU7aD1NYXRoLmFicyhtLWcpO2lmKE1hdGguYWJzKGg8PWwpKXtiPWE7bD1ofX1yZXR1cm4gYn0sb25LZXlEb3duOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYSxkO2lmKGIuZGlzYWJsZWR8fGIudGh1bWJzLmxlbmd0aCE9PTEpe2MucHJldmVudERlZmF1bHQoKTtyZXR1cm59YT1jLmdldEtleSgpO3N3aXRjaChhKXtjYXNlIGMuVVA6Y2FzZSBjLlJJR0hUOmMuc3RvcEV2ZW50KCk7ZD1jLmN0cmxLZXk/Yi5tYXhWYWx1ZTpiLmdldFZhbHVlKDApK2Iua2V5SW5jcmVtZW50O2Iuc2V0VmFsdWUoMCxkLHVuZGVmaW5lZCx0cnVlKTticmVhaztjYXNlIGMuRE9XTjpjYXNlIGMuTEVGVDpjLnN0b3BFdmVudCgpO2Q9Yy5jdHJsS2V5P2IubWluVmFsdWU6Yi5nZXRWYWx1ZSgwKS1iLmtleUluY3JlbWVudDtiLnNldFZhbHVlKDAsZCx1bmRlZmluZWQsdHJ1ZSk7YnJlYWs7ZGVmYXVsdDpjLnByZXZlbnREZWZhdWx0KCl9fSxub3JtYWxpemVWYWx1ZTpmdW5jdGlvbihiKXt2YXIgYz10aGlzLGQ9RXh0Lk51bWJlcixhPWRbYy56ZXJvQmFzZWRTbmFwcGluZz8ic25hcCI6InNuYXBJblJhbmdlIl07Yj1hLmNhbGwoZCxiLGMuaW5jcmVtZW50LGMubWluVmFsdWUsYy5tYXhWYWx1ZSk7Yj1FeHQudXRpbC5Gb3JtYXQucm91bmQoYixjLmRlY2ltYWxQcmVjaXNpb24pO2I9RXh0Lk51bWJlci5jb25zdHJhaW4oYixjLm1pblZhbHVlLGMubWF4VmFsdWUpO3JldHVybiBifSxzZXRNaW5WYWx1ZTpmdW5jdGlvbihnKXt2YXIgZT10aGlzLGQ9MCxiPWUudGh1bWJzLGE9Yi5sZW5ndGgsYztlLm1pblZhbHVlPWc7aWYoZS5yZW5kZXJlZCl7ZS5pbnB1dEVsLmRvbS5zZXRBdHRyaWJ1dGUoImFyaWEtdmFsdWVtaW4iLGcpfWZvcig7ZDxhOysrZCl7Yz1iW2RdO2MudmFsdWU9Yy52YWx1ZTxnP2c6Yy52YWx1ZX1lLnN5bmNUaHVtYnMoKX0sc2V0TWF4VmFsdWU6ZnVuY3Rpb24oZyl7dmFyIGU9dGhpcyxkPTAsYj1lLnRodW1icyxhPWIubGVuZ3RoLGM7ZS5tYXhWYWx1ZT1nO2lmKGUucmVuZGVyZWQpe2UuaW5wdXRFbC5kb20uc2V0QXR0cmlidXRlKCJhcmlhLXZhbHVlbWF4IixnKX1mb3IoO2Q8YTsrK2Qpe2M9YltkXTtjLnZhbHVlPWMudmFsdWU+Zz9nOmMudmFsdWV9ZS5zeW5jVGh1bWJzKCl9LHNldFZhbHVlOmZ1bmN0aW9uKGMsZyxiLGUpe3ZhciBkPXRoaXMsYT1kLnRodW1ic1tjXTtnPWQubm9ybWFsaXplVmFsdWUoZyk7aWYoZyE9PWEudmFsdWUmJmQuZmlyZUV2ZW50KCJiZWZvcmVjaGFuZ2UiLGQsZyxhLnZhbHVlLGEpIT09ZmFsc2Upe2EudmFsdWU9ZztpZihkLnJlbmRlcmVkKXtkLmlucHV0RWwuc2V0KHsiYXJpYS12YWx1ZW5vdyI6ZywiYXJpYS12YWx1ZXRleHQiOmd9KTthLm1vdmUoZC5jYWxjdWxhdGVUaHVtYlBvc2l0aW9uKGcpLEV4dC5pc0RlZmluZWQoYik/YiE9PWZhbHNlOmQuYW5pbWF0ZSk7ZC5maXJlRXZlbnQoImNoYW5nZSIsZCxnLGEpO2QuY2hlY2tEaXJ0eSgpO2lmKGUpe2QuZmlyZUV2ZW50KCJjaGFuZ2Vjb21wbGV0ZSIsZCxnLGEpfX19fSxjYWxjdWxhdGVUaHVtYlBvc2l0aW9uOmZ1bmN0aW9uKGEpe3JldHVybihhLXRoaXMubWluVmFsdWUpLyh0aGlzLm1heFZhbHVlLXRoaXMubWluVmFsdWUpKjEwMH0sZ2V0UmF0aW86ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9dGhpcy52ZXJ0aWNhbD90aGlzLmlubmVyRWwuZ2V0SGVpZ2h0KCk6dGhpcy5pbm5lckVsLmdldFdpZHRoKCksYz10aGlzLm1heFZhbHVlLXRoaXMubWluVmFsdWU7cmV0dXJuIGM9PT0wP2E6KGEvYyl9LHJldmVyc2VQaXhlbFZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLm1pblZhbHVlKyhhL3RoaXMuZ2V0UmF0aW8oKSl9LHJldmVyc2VQZXJjZW50YWdlVmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubWluVmFsdWUrKHRoaXMubWF4VmFsdWUtdGhpcy5taW5WYWx1ZSkqKGEvMTAwKX0sb25EaXNhYmxlOmZ1bmN0aW9uKCl7dmFyIGc9dGhpcyxkPTAsYj1nLnRodW1icyxhPWIubGVuZ3RoLGMsZSxoO2cuY2FsbFBhcmVudCgpO2Zvcig7ZDxhO2QrKyl7Yz1iW2RdO2U9Yy5lbDtjLmRpc2FibGUoKTtpZihFeHQuaXNJRSl7aD1lLmdldFhZKCk7ZS5oaWRlKCk7Zy5pbm5lckVsLmFkZENscyhnLmRpc2FibGVkQ2xzKS5kb20uZGlzYWJsZWQ9dHJ1ZTtpZighZy50aHVtYkhvbGRlcil7Zy50aHVtYkhvbGRlcj1nLmVuZEVsLmNyZWF0ZUNoaWxkKHtjbHM6RXh0LmJhc2VDU1NQcmVmaXgrInNsaWRlci10aHVtYiAiK2cuZGlzYWJsZWRDbHN9KX1nLnRodW1iSG9sZGVyLnNob3coKS5zZXRYWShoKX19fSxvbkVuYWJsZTpmdW5jdGlvbigpe3ZhciBnPXRoaXMsZD0wLGI9Zy50aHVtYnMsYT1iLmxlbmd0aCxjLGU7dGhpcy5jYWxsUGFyZW50KCk7Zm9yKDtkPGE7ZCsrKXtjPWJbZF07ZT1jLmVsO2MuZW5hYmxlKCk7aWYoRXh0LmlzSUUpe2cuaW5uZXJFbC5yZW1vdmVDbHMoZy5kaXNhYmxlZENscykuZG9tLmRpc2FibGVkPWZhbHNlO2lmKGcudGh1bWJIb2xkZXIpe2cudGh1bWJIb2xkZXIuaGlkZSgpfWUuc2hvdygpO2cuc3luY1RodW1icygpfX19LHN5bmNUaHVtYnM6ZnVuY3Rpb24oKXtpZih0aGlzLnJlbmRlcmVkKXt2YXIgYT10aGlzLnRodW1icyxjPWEubGVuZ3RoLGI9MDtmb3IoO2I8YztiKyspe2FbYl0ubW92ZSh0aGlzLmNhbGN1bGF0ZVRodW1iUG9zaXRpb24oYVtiXS52YWx1ZSkpfX19LGdldFZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiBFeHQuaXNOdW1iZXIoYSk/dGhpcy50aHVtYnNbYV0udmFsdWU6dGhpcy5nZXRWYWx1ZXMoKX0sZ2V0VmFsdWVzOmZ1bmN0aW9uKCl7dmFyIGM9W10sZD0wLGI9dGhpcy50aHVtYnMsYT1iLmxlbmd0aDtmb3IoO2Q8YTtkKyspe2MucHVzaChiW2RdLnZhbHVlKX1yZXR1cm4gY30sZ2V0U3VibWl0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybihhLmRpc2FibGVkfHwhYS5zdWJtaXRWYWx1ZSk/bnVsbDphLmdldFZhbHVlKCl9LHJlc2V0OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxiPVtdLmNvbmNhdChlLm9yaWdpbmFsVmFsdWUpLGM9MCxkPWIubGVuZ3RoLGc7Zm9yKDtjPGQ7YysrKXtnPWJbY107ZS5zZXRWYWx1ZShjLGcpfWUuY2xlYXJJbnZhbGlkKCk7ZGVsZXRlIGUud2FzVmFsaWR9LGJlZm9yZURlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGI9ZS50aHVtYnMsZD0wLGE9Yi5sZW5ndGgsYztFeHQuZGVzdHJveShlLmlubmVyRWwsZS5lbmRFbCxlLmZvY3VzRWwpO2Zvcig7ZDxhO2QrKyl7Yz1iW2RdO0V4dC5kZXN0cm95KGMpfWUuY2FsbFBhcmVudCgpfX0pO0V4dC5kZWZpbmUoIkV4dC5zbGlkZXIuU2luZ2xlIix7ZXh0ZW5kOiJFeHQuc2xpZGVyLk11bHRpIixhbGlhczpbIndpZGdldC5zbGlkZXIiLCJ3aWRnZXQuc2xpZGVyZmllbGQiXSxhbHRlcm5hdGVDbGFzc05hbWU6WyJFeHQuU2xpZGVyIiwiRXh0LmZvcm0uU2xpZGVyRmllbGQiLCJFeHQuc2xpZGVyLlNpbmdsZVNsaWRlciIsIkV4dC5zbGlkZXIuU2xpZGVyIl0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jYWxsUGFyZW50KFswXSl9LHNldFZhbHVlOmZ1bmN0aW9uKGQsYil7dmFyIGM9YXJndW1lbnRzLGE9Yy5sZW5ndGg7aWYoYT09MXx8KGE8PTMmJnR5cGVvZiBjWzFdIT0ibnVtYmVyIikpe2M9RXh0LnRvQXJyYXkoYyk7Yy51bnNoaWZ0KDApfXJldHVybiB0aGlzLmNhbGxQYXJlbnQoYyl9LGdldE5lYXJlc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50aHVtYnNbMF19fSk7RXh0LmRlZmluZSgiRXh0LnRpcC5Ub29sVGlwIix7ZXh0ZW5kOiJFeHQudGlwLlRpcCIsYWxpYXM6IndpZGdldC50b29sdGlwIixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5Ub29sVGlwIixhdXRvSGlkZTp0cnVlLHNob3dEZWxheTo1MDAsaGlkZURlbGF5OjIwMCxkaXNtaXNzRGVsYXk6NTAwMCx0cmFja01vdXNlOmZhbHNlLGFuY2hvclRvVGFyZ2V0OnRydWUsYW5jaG9yT2Zmc2V0OjAsdGFyZ2V0Q291bnRlcjowLHF1aWNrU2hvd0ludGVydmFsOjI1MCxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTthLmxhc3RBY3RpdmU9bmV3IERhdGUoKTthLnNldFRhcmdldChhLnRhcmdldCk7YS5vcmlnQW5jaG9yPWEuYW5jaG9yfSxvblJlbmRlcjpmdW5jdGlvbihiLGEpe3ZhciBjPXRoaXM7Yy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7Yy5hbmNob3JDbHM9RXh0LmJhc2VDU1NQcmVmaXgrInRpcC1hbmNob3ItIitjLmdldEFuY2hvclBvc2l0aW9uKCk7Yy5hbmNob3JFbD1jLmVsLmNyZWF0ZUNoaWxkKHtjbHM6RXh0LmJhc2VDU1NQcmVmaXgrInRpcC1hbmNob3IgIitjLmFuY2hvckNsc30pfSxzZXRUYXJnZXQ6ZnVuY3Rpb24oZCl7dmFyIGI9dGhpcyxhPUV4dC5nZXQoZCksYztpZihiLnRhcmdldCl7Yz1FeHQuZ2V0KGIudGFyZ2V0KTtiLm11bihjLCJtb3VzZW92ZXIiLGIub25UYXJnZXRPdmVyLGIpO2IubXVuKGMsIm1vdXNlb3V0IixiLm9uVGFyZ2V0T3V0LGIpO2IubXVuKGMsIm1vdXNlbW92ZSIsYi5vbk1vdXNlTW92ZSxiKX1iLnRhcmdldD1hO2lmKGEpe2IubW9uKGEse2ZyZWV6ZUV2ZW50OnRydWUsbW91c2VvdmVyOmIub25UYXJnZXRPdmVyLG1vdXNlb3V0OmIub25UYXJnZXRPdXQsbW91c2Vtb3ZlOmIub25Nb3VzZU1vdmUsc2NvcGU6Yn0pfWlmKGIuYW5jaG9yKXtiLmFuY2hvclRhcmdldD1iLnRhcmdldH19LG9uTW91c2VNb3ZlOmZ1bmN0aW9uKGQpe3ZhciBiPXRoaXMsYT1iLmRlbGVnYXRlP2QuZ2V0VGFyZ2V0KGIuZGVsZWdhdGUpOmIudHJpZ2dlckVsZW1lbnQ9dHJ1ZSxjO2lmKGEpe2IudGFyZ2V0WFk9ZC5nZXRYWSgpO2lmKGE9PT1iLnRyaWdnZXJFbGVtZW50KXtpZighYi5oaWRkZW4mJmIudHJhY2tNb3VzZSl7Yz1iLmdldFRhcmdldFhZKCk7aWYoYi5jb25zdHJhaW5Qb3NpdGlvbil7Yz1iLmVsLmFkanVzdEZvckNvbnN0cmFpbnRzKGMsYi5lbC5nZXRTY29wZVBhcmVudCgpKX1iLnNldFBhZ2VQb3NpdGlvbihjKX19ZWxzZXtiLmhpZGUoKTtiLmxhc3RBY3RpdmU9bmV3IERhdGUoMCk7Yi5vblRhcmdldE92ZXIoZCl9fWVsc2V7aWYoKCFiLmNsb3NhYmxlJiZiLmlzVmlzaWJsZSgpKSYmYi5hdXRvSGlkZSE9PWZhbHNlKXtiLmhpZGUoKX19fSxnZXRUYXJnZXRYWTpmdW5jdGlvbigpe3ZhciBqPXRoaXMsZCxjLG4sYSxpLGwsZSxtLGssYixoLGc7aWYoai5kZWxlZ2F0ZSl7ai5hbmNob3JUYXJnZXQ9ai50cmlnZ2VyRWxlbWVudH1pZihqLmFuY2hvcil7ai50YXJnZXRDb3VudGVyKys7Yz1qLmdldE9mZnNldHMoKTtuPShqLmFuY2hvclRvVGFyZ2V0JiYhai50cmFja01vdXNlKT9qLmVsLmdldEFsaWduVG9YWShqLmFuY2hvclRhcmdldCxqLmdldEFuY2hvckFsaWduKCkpOmoudGFyZ2V0WFk7YT1FeHQuRWxlbWVudC5nZXRWaWV3V2lkdGgoKS01O2k9RXh0LkVsZW1lbnQuZ2V0Vmlld0hlaWdodCgpLTU7bD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7ZT1kb2N1bWVudC5ib2R5O209KGwuc2Nyb2xsTGVmdHx8ZS5zY3JvbGxMZWZ0fHwwKSs1O2s9KGwuc2Nyb2xsVG9wfHxlLnNjcm9sbFRvcHx8MCkrNTtiPVtuWzBdK2NbMF0sblsxXStjWzFdXTtoPWouZ2V0U2l6ZSgpO2c9ai5jb25zdHJhaW5Qb3NpdGlvbjtqLmFuY2hvckVsLnJlbW92ZUNscyhqLmFuY2hvckNscyk7aWYoai50YXJnZXRDb3VudGVyPDImJmcpe2lmKGJbMF08bSl7aWYoai5hbmNob3JUb1RhcmdldCl7ai5kZWZhdWx0QWxpZ249ImwtciI7aWYoai5tb3VzZU9mZnNldCl7ai5tb3VzZU9mZnNldFswXSo9LTF9fWouYW5jaG9yPSJsZWZ0IjtyZXR1cm4gai5nZXRUYXJnZXRYWSgpfWlmKGJbMF0raC53aWR0aD5hKXtpZihqLmFuY2hvclRvVGFyZ2V0KXtqLmRlZmF1bHRBbGlnbj0ici1sIjtpZihqLm1vdXNlT2Zmc2V0KXtqLm1vdXNlT2Zmc2V0WzBdKj0tMX19ai5hbmNob3I9InJpZ2h0IjtyZXR1cm4gai5nZXRUYXJnZXRYWSgpfWlmKGJbMV08ayl7aWYoai5hbmNob3JUb1RhcmdldCl7ai5kZWZhdWx0QWxpZ249InQtYiI7aWYoai5tb3VzZU9mZnNldCl7ai5tb3VzZU9mZnNldFsxXSo9LTF9fWouYW5jaG9yPSJ0b3AiO3JldHVybiBqLmdldFRhcmdldFhZKCl9aWYoYlsxXStoLmhlaWdodD5pKXtpZihqLmFuY2hvclRvVGFyZ2V0KXtqLmRlZmF1bHRBbGlnbj0iYi10IjtpZihqLm1vdXNlT2Zmc2V0KXtqLm1vdXNlT2Zmc2V0WzFdKj0tMX19ai5hbmNob3I9ImJvdHRvbSI7cmV0dXJuIGouZ2V0VGFyZ2V0WFkoKX19ai5hbmNob3JDbHM9RXh0LmJhc2VDU1NQcmVmaXgrInRpcC1hbmNob3ItIitqLmdldEFuY2hvclBvc2l0aW9uKCk7ai5hbmNob3JFbC5hZGRDbHMoai5hbmNob3JDbHMpO2oudGFyZ2V0Q291bnRlcj0wO3JldHVybiBifWVsc2V7ZD1qLmdldE1vdXNlT2Zmc2V0KCk7cmV0dXJuKGoudGFyZ2V0WFkpP1tqLnRhcmdldFhZWzBdK2RbMF0sai50YXJnZXRYWVsxXStkWzFdXTpkfX0sZ2V0TW91c2VPZmZzZXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5hbmNob3I/WzAsMF06WzE1LDE4XTtpZihhLm1vdXNlT2Zmc2V0KXtiWzBdKz1hLm1vdXNlT2Zmc2V0WzBdO2JbMV0rPWEubW91c2VPZmZzZXRbMV19cmV0dXJuIGJ9LGdldEFuY2hvclBvc2l0aW9uOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhO2lmKGIuYW5jaG9yKXtiLnRpcEFuY2hvcj1iLmFuY2hvci5jaGFyQXQoMCl9ZWxzZXthPWIuZGVmYXVsdEFsaWduLm1hdGNoKC9eKFthLXpdKyktKFthLXpdKykoXD8pPyQvKTtiLnRpcEFuY2hvcj1hWzFdLmNoYXJBdCgwKX1zd2l0Y2goYi50aXBBbmNob3Ipe2Nhc2UidCI6cmV0dXJuInRvcCI7Y2FzZSJiIjpyZXR1cm4iYm90dG9tIjtjYXNlInIiOnJldHVybiJyaWdodCJ9cmV0dXJuImxlZnQifSxnZXRBbmNob3JBbGlnbjpmdW5jdGlvbigpe3N3aXRjaCh0aGlzLmFuY2hvcil7Y2FzZSJ0b3AiOnJldHVybiJ0bC1ibCI7Y2FzZSJsZWZ0IjpyZXR1cm4idGwtdHIiO2Nhc2UicmlnaHQiOnJldHVybiJ0ci10bCI7ZGVmYXVsdDpyZXR1cm4iYmwtdGwifX0sZ2V0T2Zmc2V0czpmdW5jdGlvbigpe3ZhciBjPXRoaXMsZCxiLGE9Yy5nZXRBbmNob3JQb3NpdGlvbigpLmNoYXJBdCgwKTtpZihjLmFuY2hvclRvVGFyZ2V0JiYhYy50cmFja01vdXNlKXtzd2l0Y2goYSl7Y2FzZSJ0IjpiPVswLDldO2JyZWFrO2Nhc2UiYiI6Yj1bMCwtMTNdO2JyZWFrO2Nhc2UiciI6Yj1bLTEzLDBdO2JyZWFrO2RlZmF1bHQ6Yj1bOSwwXTticmVha319ZWxzZXtzd2l0Y2goYSl7Y2FzZSJ0IjpiPVstMTUtYy5hbmNob3JPZmZzZXQsMzBdO2JyZWFrO2Nhc2UiYiI6Yj1bLTE5LWMuYW5jaG9yT2Zmc2V0LC0xMy1jLmVsLmRvbS5vZmZzZXRIZWlnaHRdO2JyZWFrO2Nhc2UiciI6Yj1bLTE1LWMuZWwuZG9tLm9mZnNldFdpZHRoLC0xMy1jLmFuY2hvck9mZnNldF07YnJlYWs7ZGVmYXVsdDpiPVsyNSwtMTMtYy5hbmNob3JPZmZzZXRdO2JyZWFrfX1kPWMuZ2V0TW91c2VPZmZzZXQoKTtiWzBdKz1kWzBdO2JbMV0rPWRbMV07cmV0dXJuIGJ9LG9uVGFyZ2V0T3ZlcjpmdW5jdGlvbihjKXt2YXIgYj10aGlzLGE7aWYoYi5kaXNhYmxlZHx8Yy53aXRoaW4oYi50YXJnZXQuZG9tLHRydWUpKXtyZXR1cm59YT1jLmdldFRhcmdldChiLmRlbGVnYXRlKTtpZihhKXtiLnRyaWdnZXJFbGVtZW50PWE7Yi5jbGVhclRpbWVyKCJoaWRlIik7Yi50YXJnZXRYWT1jLmdldFhZKCk7Yi5kZWxheVNob3coKX19LGRlbGF5U2hvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5oaWRkZW4mJiFhLnNob3dUaW1lcil7aWYoRXh0LkRhdGUuZ2V0RWxhcHNlZChhLmxhc3RBY3RpdmUpPGEucXVpY2tTaG93SW50ZXJ2YWwpe2Euc2hvdygpfWVsc2V7YS5zaG93VGltZXI9RXh0LmRlZmVyKGEuc2hvdyxhLnNob3dEZWxheSxhKX19ZWxzZXtpZighYS5oaWRkZW4mJmEuYXV0b0hpZGUhPT1mYWxzZSl7YS5zaG93KCl9fX0sb25UYXJnZXRPdXQ6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcztpZihhLmRpc2FibGVkfHxiLndpdGhpbihhLnRhcmdldC5kb20sdHJ1ZSkpe3JldHVybn1hLmNsZWFyVGltZXIoInNob3ciKTtpZihhLmF1dG9IaWRlIT09ZmFsc2Upe2EuZGVsYXlIaWRlKCl9fSxkZWxheUhpZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKCFhLmhpZGRlbiYmIWEuaGlkZVRpbWVyKXthLmhpZGVUaW1lcj1FeHQuZGVmZXIoYS5oaWRlLGEuaGlkZURlbGF5LGEpfX0saGlkZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jbGVhclRpbWVyKCJkaXNtaXNzIik7YS5sYXN0QWN0aXZlPW5ldyBEYXRlKCk7aWYoYS5hbmNob3JFbCl7YS5hbmNob3JFbC5oaWRlKCl9YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7ZGVsZXRlIGEudHJpZ2dlckVsZW1lbnR9LHNob3c6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3RoaXMuY2FsbFBhcmVudCgpO2lmKHRoaXMuaGlkZGVuPT09ZmFsc2Upe2Euc2V0UGFnZVBvc2l0aW9uKC0xMDAwMCwtMTAwMDApO2lmKGEuYW5jaG9yKXthLmFuY2hvcj1hLm9yaWdBbmNob3J9aWYoIWEuY2FsbGVkRnJvbVNob3dBdCl7YS5zaG93QXQoYS5nZXRUYXJnZXRYWSgpKX1pZihhLmFuY2hvcil7YS5zeW5jQW5jaG9yKCk7YS5hbmNob3JFbC5zaG93KCl9ZWxzZXthLmFuY2hvckVsLmhpZGUoKX19fSxzaG93QXQ6ZnVuY3Rpb24oYil7dmFyIGE9dGhpczthLmxhc3RBY3RpdmU9bmV3IERhdGUoKTthLmNsZWFyVGltZXJzKCk7YS5jYWxsZWRGcm9tU2hvd0F0PXRydWU7aWYoIWEuaXNWaXNpYmxlKCkpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfWlmKGEuaXNWaXNpYmxlKCkpe2Euc2V0UGFnZVBvc2l0aW9uKGJbMF0sYlsxXSk7aWYoYS5jb25zdHJhaW5Qb3NpdGlvbnx8YS5jb25zdHJhaW4pe2EuZG9Db25zdHJhaW4oKX1hLnRvRnJvbnQodHJ1ZSk7YS5lbC5zeW5jKHRydWUpO2lmKGEuZGlzbWlzc0RlbGF5JiZhLmF1dG9IaWRlIT09ZmFsc2Upe2EuZGlzbWlzc1RpbWVyPUV4dC5kZWZlcihhLmhpZGUsYS5kaXNtaXNzRGVsYXksYSl9aWYoYS5hbmNob3Ipe2Euc3luY0FuY2hvcigpO2lmKCFhLmFuY2hvckVsLmlzVmlzaWJsZSgpKXthLmFuY2hvckVsLnNob3coKX19ZWxzZXthLmFuY2hvckVsLmhpZGUoKX19ZGVsZXRlIGEuY2FsbGVkRnJvbVNob3dBdH0sc3luY0FuY2hvcjpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYSxiLGQ7c3dpdGNoKGMudGlwQW5jaG9yLmNoYXJBdCgwKSl7Y2FzZSJ0IjphPSJiIjtiPSJ0bCI7ZD1bMjArYy5hbmNob3JPZmZzZXQsMV07YnJlYWs7Y2FzZSJyIjphPSJsIjtiPSJ0ciI7ZD1bLTEsMTIrYy5hbmNob3JPZmZzZXRdO2JyZWFrO2Nhc2UiYiI6YT0idCI7Yj0iYmwiO2Q9WzIwK2MuYW5jaG9yT2Zmc2V0LC0xXTticmVhaztkZWZhdWx0OmE9InIiO2I9InRsIjtkPVsxLDEyK2MuYW5jaG9yT2Zmc2V0XTticmVha31jLmFuY2hvckVsLmFsaWduVG8oYy5lbCxhKyItIitiLGQpO2MuYW5jaG9yRWwuc2V0U3R5bGUoInotaW5kZXgiLHBhcnNlSW50KGMuZWwuZ2V0WkluZGV4KCksMTApfHwwKzEpLnNldFZpc2liaWxpdHlNb2RlKEV4dC5FbGVtZW50LkRJU1BMQVkpfSxzZXRQYWdlUG9zaXRpb246ZnVuY3Rpb24oYSxjKXt2YXIgYj10aGlzO2IuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGIuYW5jaG9yKXtiLnN5bmNBbmNob3IoKX19LGNsZWFyVGltZXI6ZnVuY3Rpb24oYSl7YT1hKyJUaW1lciI7Y2xlYXJUaW1lb3V0KHRoaXNbYV0pO2RlbGV0ZSB0aGlzW2FdfSxjbGVhclRpbWVyczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jbGVhclRpbWVyKCJzaG93Iik7YS5jbGVhclRpbWVyKCJkaXNtaXNzIik7YS5jbGVhclRpbWVyKCJoaWRlIil9LG9uU2hvdzpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KCk7YS5tb24oRXh0LmdldERvYygpLCJtb3VzZWRvd24iLGEub25Eb2NNb3VzZURvd24sYSl9LG9uSGlkZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KCk7YS5tdW4oRXh0LmdldERvYygpLCJtb3VzZWRvd24iLGEub25Eb2NNb3VzZURvd24sYSl9LG9uRG9jTW91c2VEb3duOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7aWYoIWEuY2xvc2FibGUmJiFiLndpdGhpbihhLmVsLmRvbSkpe2EuZGlzYWJsZSgpO0V4dC5kZWZlcihhLmRvRW5hYmxlLDEwMCxhKX19LGRvRW5hYmxlOmZ1bmN0aW9uKCl7aWYoIXRoaXMuaXNEZXN0cm95ZWQpe3RoaXMuZW5hYmxlKCl9fSxvbkRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoKTt0aGlzLmNsZWFyVGltZXJzKCk7dGhpcy5oaWRlKCl9LGJlZm9yZURlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2xlYXJUaW1lcnMoKTtFeHQuZGVzdHJveShhLmFuY2hvckVsKTtkZWxldGUgYS5hbmNob3JFbDtkZWxldGUgYS50YXJnZXQ7ZGVsZXRlIGEuYW5jaG9yVGFyZ2V0O2RlbGV0ZSBhLnRyaWdnZXJFbGVtZW50O2EuY2FsbFBhcmVudCgpfSxvbkRlc3Ryb3k6ZnVuY3Rpb24oKXtFeHQuZ2V0RG9jKCkudW4oIm1vdXNlZG93biIsdGhpcy5vbkRvY01vdXNlRG93bix0aGlzKTt0aGlzLmNhbGxQYXJlbnQoKX19KTtFeHQuZGVmaW5lKCJFeHQuY2hhcnQuVGlwIix7cmVxdWlyZXM6WyJFeHQudGlwLlRvb2xUaXAiLCJFeHQuY2hhcnQuVGlwU3VyZmFjZSJdLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXMsYSxkLGU7aWYoYi50aXBzKXtjLnRpcFRpbWVvdXQ9bnVsbDtjLnRpcENvbmZpZz1FeHQuYXBwbHkoe30sYi50aXBzLHtyZW5kZXJlcjpFeHQuZW1wdHlGbixjb25zdHJhaW5Qb3NpdGlvbjp0cnVlLGF1dG9IaWRlOnRydWV9KTtjLnRvb2x0aXA9bmV3IEV4dC50aXAuVG9vbFRpcChjLnRpcENvbmZpZyk7Yy5jaGFydC5zdXJmYWNlLm9uKCJtb3VzZW1vdmUiLGMudG9vbHRpcC5vbk1vdXNlTW92ZSxjLnRvb2x0aXApO2MuY2hhcnQuc3VyZmFjZS5vbigibW91c2VsZWF2ZSIsZnVuY3Rpb24oKXtjLmhpZGVUaXAoKX0pO2lmKGMudGlwQ29uZmlnLnN1cmZhY2Upe2E9Yy50aXBDb25maWcuc3VyZmFjZTtkPWEuc3ByaXRlcztlPW5ldyBFeHQuY2hhcnQuVGlwU3VyZmFjZSh7aWQ6InRpcFN1cmZhY2VDb21wb25lbnQiLHNwcml0ZXM6ZH0pO2lmKGEud2lkdGgmJmEuaGVpZ2h0KXtlLnNldFNpemUoYS53aWR0aCxhLmhlaWdodCl9Yy50b29sdGlwLmFkZChlKTtjLnNwcml0ZVRpcD1lfX19LHNob3dUaXA6ZnVuY3Rpb24obCl7dmFyIGU9dGhpcyxtLGEsYyxkLGssYixqLGgsaSxnO2lmKCFlLnRvb2x0aXApe3JldHVybn1jbGVhclRpbWVvdXQoZS50aXBUaW1lb3V0KTttPWUudG9vbHRpcDthPWUuc3ByaXRlVGlwO2M9ZS50aXBDb25maWc7ZD1tLnRyYWNrTW91c2U7aWYoIWQpe20udHJhY2tNb3VzZT10cnVlO2s9bC5zcHJpdGU7Yj1rLnN1cmZhY2U7aj1FeHQuZ2V0KGIuZ2V0SWQoKSk7aWYoail7aD1qLmdldFhZKCk7aT1oWzBdKyhrLmF0dHIueHx8MCkrKGsuYXR0ci50cmFuc2xhdGlvbiYmay5hdHRyLnRyYW5zbGF0aW9uLnh8fDApO2c9aFsxXSsoay5hdHRyLnl8fDApKyhrLmF0dHIudHJhbnNsYXRpb24mJmsuYXR0ci50cmFuc2xhdGlvbi55fHwwKTttLnRhcmdldFhZPVtpLGddfX1pZihhKXtjLnJlbmRlcmVyLmNhbGwobSxsLnN0b3JlSXRlbSxsLGEuc3VyZmFjZSl9ZWxzZXtjLnJlbmRlcmVyLmNhbGwobSxsLnN0b3JlSXRlbSxsKX1tLnNob3coKTttLnRyYWNrTW91c2U9ZH0saGlkZVRpcDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLnRvb2x0aXA7aWYoIWIpe3JldHVybn1jbGVhclRpbWVvdXQodGhpcy50aXBUaW1lb3V0KTt0aGlzLnRpcFRpbWVvdXQ9c2V0VGltZW91dChmdW5jdGlvbigpe2IuaGlkZSgpfSwwKX19KTtFeHQuZGVmaW5lKCJFeHQuY2hhcnQuc2VyaWVzLlNlcmllcyIse21peGluczp7b2JzZXJ2YWJsZToiRXh0LnV0aWwuT2JzZXJ2YWJsZSIsbGFiZWxzOiJFeHQuY2hhcnQuTGFiZWwiLGhpZ2hsaWdodHM6IkV4dC5jaGFydC5IaWdobGlnaHQiLHRpcHM6IkV4dC5jaGFydC5UaXAiLGNhbGxvdXRzOiJFeHQuY2hhcnQuQ2FsbG91dCJ9LHR5cGU6bnVsbCx0aXRsZTpudWxsLHNob3dJbkxlZ2VuZDp0cnVlLHJlbmRlcmVyOmZ1bmN0aW9uKGUsYSxjLGQsYil7cmV0dXJuIGN9LHNoYWRvd0F0dHJpYnV0ZXM6bnVsbCx0cmlnZ2VyQWZ0ZXJEcmF3OmZhbHNlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoYSl7RXh0LmFwcGx5KGIsYSl9Yi5zaGFkb3dHcm91cHM9W107Yi5taXhpbnMubGFiZWxzLmNvbnN0cnVjdG9yLmNhbGwoYixhKTtiLm1peGlucy5oaWdobGlnaHRzLmNvbnN0cnVjdG9yLmNhbGwoYixhKTtiLm1peGlucy50aXBzLmNvbnN0cnVjdG9yLmNhbGwoYixhKTtiLm1peGlucy5jYWxsb3V0cy5jb25zdHJ1Y3Rvci5jYWxsKGIsYSk7Yi5hZGRFdmVudHMoe3Njb3BlOmIsaXRlbW1vdXNlb3Zlcjp0cnVlLGl0ZW1tb3VzZW91dDp0cnVlLGl0ZW1tb3VzZWRvd246dHJ1ZSxpdGVtbW91c2V1cDp0cnVlLG1vdXNlbGVhdmU6dHJ1ZSxhZnRlcmRyYXc6dHJ1ZSx0aXRsZWNoYW5nZTp0cnVlfSk7Yi5taXhpbnMub2JzZXJ2YWJsZS5jb25zdHJ1Y3Rvci5jYWxsKGIsYSk7Yi5vbih7c2NvcGU6YixpdGVtbW91c2VvdmVyOmIub25JdGVtTW91c2VPdmVyLGl0ZW1tb3VzZW91dDpiLm9uSXRlbU1vdXNlT3V0LG1vdXNlbGVhdmU6Yi5vbk1vdXNlTGVhdmV9KTtpZihiLnN0eWxlKXtFeHQuYXBwbHkoYi5zZXJpZXNTdHlsZSxiLnN0eWxlKX19LGVhY2hSZWNvcmQ6ZnVuY3Rpb24oYyxiKXt2YXIgYT10aGlzLmNoYXJ0OyhhLnN1YnN0b3JlfHxhLnN0b3JlKS5lYWNoKGMsYil9LGdldFJlY29yZENvdW50OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5jaGFydCxhPWIuc3Vic3RvcmV8fGIuc3RvcmU7cmV0dXJuIGE/YS5nZXRDb3VudCgpOjB9LGlzRXhjbHVkZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5fX2V4Y2x1ZGVzO3JldHVybiAhIShiJiZiW2FdKX0sc2V0QkJveDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLGM9ZS5jaGFydCxiPWMuY2hhcnRCQm94LGc9YT8wOmMubWF4R3V0dGVyWzBdLGQ9YT8wOmMubWF4R3V0dGVyWzFdLGgsaTtoPXt4OmIueCx5OmIueSx3aWR0aDpiLndpZHRoLGhlaWdodDpiLmhlaWdodH07ZS5jbGlwQm94PWg7aT17eDooaC54K2cpLShjLnpvb20ueCpjLnpvb20ud2lkdGgpLHk6KGgueStkKS0oYy56b29tLnkqYy56b29tLmhlaWdodCksd2lkdGg6KGgud2lkdGgtKGcqMikpKmMuem9vbS53aWR0aCxoZWlnaHQ6KGguaGVpZ2h0LShkKjIpKSpjLnpvb20uaGVpZ2h0fTtlLmJib3g9aX0sb25BbmltYXRlOmZ1bmN0aW9uKGIsYSl7dmFyIGM9dGhpcztiLnN0b3BBbmltYXRpb24oKTtpZihjLnRyaWdnZXJBZnRlckRyYXcpe3JldHVybiBiLmFuaW1hdGUoRXh0LmFwcGx5SWYoYSxjLmNoYXJ0LmFuaW1hdGUpKX1lbHNle2MudHJpZ2dlckFmdGVyRHJhdz10cnVlO3JldHVybiBiLmFuaW1hdGUoRXh0LmFwcGx5KEV4dC5hcHBseUlmKGEsYy5jaGFydC5hbmltYXRlKSx7bGlzdGVuZXJzOnthZnRlcmFuaW1hdGU6ZnVuY3Rpb24oKXtjLnRyaWdnZXJBZnRlckRyYXc9ZmFsc2U7Yy5maXJlRXZlbnQoImFmdGVycmVuZGVyIil9fX0pKX19LGdldEd1dHRlcnM6ZnVuY3Rpb24oKXtyZXR1cm5bMCwwXX0sb25JdGVtTW91c2VPdmVyOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7aWYoYi5zZXJpZXM9PT1hKXtpZihhLmhpZ2hsaWdodCl7YS5oaWdobGlnaHRJdGVtKGIpfWlmKGEudG9vbHRpcCl7YS5zaG93VGlwKGIpfX19LG9uSXRlbU1vdXNlT3V0OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7aWYoYi5zZXJpZXM9PT1hKXthLnVuSGlnaGxpZ2h0SXRlbSgpO2lmKGEudG9vbHRpcCl7YS5oaWRlVGlwKGIpfX19LG9uTW91c2VMZWF2ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS51bkhpZ2hsaWdodEl0ZW0oKTtpZihhLnRvb2x0aXApe2EuaGlkZVRpcCgpfX0sZ2V0SXRlbUZvclBvaW50OmZ1bmN0aW9uKGEsail7aWYoIXRoaXMuaXRlbXN8fCF0aGlzLml0ZW1zLmxlbmd0aHx8dGhpcy5zZXJpZXNJc0hpZGRlbil7cmV0dXJuIG51bGx9dmFyIGc9dGhpcyxiPWcuaXRlbXMsaD1nLmJib3gsZSxjLGQ7aWYoIUV4dC5kcmF3LkRyYXcud2l0aGluQm94KGEsaixoKSl7cmV0dXJuIG51bGx9Zm9yKGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspe2lmKGJbY10mJnRoaXMuaXNJdGVtSW5Qb2ludChhLGosYltjXSxjKSl7cmV0dXJuIGJbY119fXJldHVybiBudWxsfSxpc0l0ZW1JblBvaW50OmZ1bmN0aW9uKGEsZCxjLGIpe3JldHVybiBmYWxzZX0saGlkZUFsbDpmdW5jdGlvbigpe3ZhciBoPXRoaXMsZz1oLml0ZW1zLG0sZSxkLGMsYSxrLGI7aC5zZXJpZXNJc0hpZGRlbj10cnVlO2guX3ByZXZTaG93TWFya2Vycz1oLnNob3dNYXJrZXJzO2guc2hvd01hcmtlcnM9ZmFsc2U7aC5oaWRlTGFiZWxzKDApO2ZvcihkPTAsZT1nLmxlbmd0aDtkPGU7ZCsrKXttPWdbZF07az1tLnNwcml0ZTtpZihrKXtrLnNldEF0dHJpYnV0ZXMoe2hpZGRlbjp0cnVlfSx0cnVlKX1pZihrJiZrLnNoYWRvd3Mpe2I9ay5zaGFkb3dzO2ZvcihjPTAsYT1iLmxlbmd0aDtjPGE7KytjKXtiW2NdLnNldEF0dHJpYnV0ZXMoe2hpZGRlbjp0cnVlfSx0cnVlKX19fX0sc2hvd0FsbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmNoYXJ0LmFuaW1hdGU7YS5jaGFydC5hbmltYXRlPWZhbHNlO2Euc2VyaWVzSXNIaWRkZW49ZmFsc2U7YS5zaG93TWFya2Vycz1hLl9wcmV2U2hvd01hcmtlcnM7YS5kcmF3U2VyaWVzKCk7YS5jaGFydC5hbmltYXRlPWJ9LGhpZGU6ZnVuY3Rpb24oKXtpZih0aGlzLml0ZW1zKXt2YXIgaD10aGlzLGI9aC5pdGVtcyxkLGMsYSxnLGU7aWYoYiYmYi5sZW5ndGgpe2ZvcihkPTAsZz1iLmxlbmd0aDtkPGc7KytkKXtpZihiW2RdLnNwcml0ZSl7YltkXS5zcHJpdGUuaGlkZSh0cnVlKTtlPWJbZF0uc2hhZG93c3x8YltkXS5zcHJpdGUuc2hhZG93cztpZihlKXtmb3IoYz0wLGE9ZS5sZW5ndGg7YzxhOysrYyl7ZVtjXS5oaWRlKHRydWUpfX19fWguaGlkZUxhYmVscygpfX19LGdldExlZ2VuZENvbG9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsZCxjO2lmKGIuc2VyaWVzU3R5bGUpe2Q9Yi5zZXJpZXNTdHlsZS5maWxsO2M9Yi5zZXJpZXNTdHlsZS5zdHJva2U7aWYoZCYmZCE9Im5vbmUiKXtyZXR1cm4gZH1pZihjKXtyZXR1cm4gY319cmV0dXJuKGIuY29sb3JBcnJheVN0eWxlKT9iLmNvbG9yQXJyYXlTdHlsZVtiLnNlcmllc0lkeCViLmNvbG9yQXJyYXlTdHlsZS5sZW5ndGhdOiIjMDAwIn0sdmlzaWJsZUluTGVnZW5kOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuX19leGNsdWRlcztpZihiKXtyZXR1cm4gIWJbYV19cmV0dXJuICF0aGlzLnNlcmllc0lzSGlkZGVufSxzZXRUaXRsZTpmdW5jdGlvbihhLGQpe3ZhciBjPXRoaXMsYj1jLnRpdGxlO2lmKEV4dC5pc1N0cmluZyhhKSl7ZD1hO2E9MH1pZihFeHQuaXNBcnJheShiKSl7YlthXT1kfWVsc2V7Yy50aXRsZT1kfWMuZmlyZUV2ZW50KCJ0aXRsZWNoYW5nZSIsZCxhKX19KTtFeHQuZGVmaW5lKCJFeHQuY2hhcnQuc2VyaWVzLkNhcnRlc2lhbiIse2V4dGVuZDoiRXh0LmNoYXJ0LnNlcmllcy5TZXJpZXMiLGFsdGVybmF0ZUNsYXNzTmFtZTpbIkV4dC5jaGFydC5DYXJ0ZXNpYW5TZXJpZXMiLCJFeHQuY2hhcnQuQ2FydGVzaWFuQ2hhcnQiXSx4RmllbGQ6bnVsbCx5RmllbGQ6bnVsbCxheGlzOiJsZWZ0IixnZXRMZWdlbmRMYWJlbHM6ZnVuY3Rpb24oKXt2YXIgaj10aGlzLGU9W10sZyxkLGgsaz1qLmNvbWJpbmF0aW9ucyxsLGEsYyxiO2c9W10uY29uY2F0KGoueUZpZWxkKTtmb3IoZD0wLGg9Zy5sZW5ndGg7ZDxoO2QrKyl7bD1qLnRpdGxlO2UucHVzaCgoRXh0LmlzQXJyYXkobCk/bFtkXTpsKXx8Z1tkXSl9aWYoayl7az1FeHQuQXJyYXkuZnJvbShrKTtmb3IoZD0wLGg9ay5sZW5ndGg7ZDxoO2QrKyl7YT1rW2RdO2M9ZVthWzBdXTtiPWVbYVsxXV07ZVthWzFdXT1jKyIgJiAiK2I7ZS5zcGxpY2UoYVswXSwxKX19cmV0dXJuIGV9LGVhY2hZVmFsdWU6ZnVuY3Rpb24oYixlLGQpe3ZhciBqPXRoaXMsaD1qLmdldFlWYWx1ZUFjY2Vzc29ycygpLGMsZyxhO2ZvcihjPTAsZz1oLmxlbmd0aDtjPGc7YysrKXthPWhbY107ZS5jYWxsKGQsYShiKSxjKX19LGdldFlWYWx1ZUNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0WVZhbHVlQWNjZXNzb3JzKCkubGVuZ3RofSxjb21iaW5lOmZ1bmN0aW9uKGcsZSl7dmFyIGQ9dGhpcyxjPWQuZ2V0WVZhbHVlQWNjZXNzb3JzKCksYj1jW2ddLGE9Y1tlXTtjW2VdPWZ1bmN0aW9uKGgpe3JldHVybiBiKGgpK2EoaCl9O2Muc3BsaWNlKGcsMSk7ZC5jYWxsUGFyZW50KFtnLGVdKX0sY2xlYXJDb21iaW5hdGlvbnM6ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy55VmFsdWVBY2Nlc3NvcnM7dGhpcy5jYWxsUGFyZW50KCl9LGdldFlWYWx1ZUFjY2Vzc29yczpmdW5jdGlvbigpe3ZhciBlPXRoaXMsYT1lLnlWYWx1ZUFjY2Vzc29ycyxnLGMsYixkO2lmKCFhKXthPWUueVZhbHVlQWNjZXNzb3JzPVtdO2c9W10uY29uY2F0KGUueUZpZWxkKTtmb3IoYj0wLGQ9Zy5sZW5ndGg7YjxkO2IrKyl7Yz1nW2JdO2EucHVzaChmdW5jdGlvbihoKXtyZXR1cm4gaC5nZXQoYyl9KX19cmV0dXJuIGF9LGdldE1pbk1heFhWYWx1ZXM6ZnVuY3Rpb24oKXt2YXIgaz10aGlzLGo9ay5jaGFydCxtPWouZ2V0Q2hhcnRTdG9yZSgpLGQ9bS5kYXRhLml0ZW1zLGUsaCxnLGMsbCxhPWsueEZpZWxkLGI7aWYoay5nZXRSZWNvcmRDb3VudCgpPjApe2M9SW5maW5pdHk7bD0tYztmb3IoZT0wLGg9ZC5sZW5ndGg7ZTxoO2UrKyl7Zz1kW2VdO2I9Zy5nZXQoYSk7aWYoYj5sKXtsPWJ9aWYoYjxjKXtjPWJ9fX1lbHNle2M9bD0wfXJldHVybltjLGxdfSxnZXRNaW5NYXhZVmFsdWVzOmZ1bmN0aW9uKCl7dmFyIGs9dGhpcyxqPWsuY2hhcnQsbz1qLmdldENoYXJ0U3RvcmUoKSxjPW8uZGF0YS5pdGVtcyxkLGgsZSxnPWsuc3RhY2tlZCxiLGwsbixtO2Z1bmN0aW9uIGEocixxKXtpZighay5pc0V4Y2x1ZGVkKHEpKXtpZihyPDApe20rPXJ9ZWxzZXtuKz1yfX19ZnVuY3Rpb24gcChyLHEpe2lmKCFrLmlzRXhjbHVkZWQocSkpe2lmKHI+bCl7bD1yfWlmKHI8Yil7Yj1yfX19aWYoay5nZXRSZWNvcmRDb3VudCgpPjApe2I9SW5maW5pdHk7bD0tYjtmb3IoZD0wLGg9Yy5sZW5ndGg7ZDxoO2QrKyl7ZT1jW2RdO2lmKGcpe249MDttPTA7ay5lYWNoWVZhbHVlKGUsYSk7aWYobj5sKXtsPW59aWYobTxiKXtiPW19fWVsc2V7ay5lYWNoWVZhbHVlKGUscCl9fX1lbHNle2I9bD0wfXJldHVybltiLGxdfSxnZXRBeGVzRm9yWEFuZFlGaWVsZHM6ZnVuY3Rpb24oKXt2YXIgbT10aGlzLGw9bS5jaGFydC5heGVzLGQ9W10uY29uY2F0KG0uYXhpcyksYz17fSxlPVtdLmNvbmNhdChtLnlGaWVsZCksbj17fSxvPVtdLmNvbmNhdChtLnhGaWVsZCksaixiLGEsaCxrLGc7Zz1tLnR5cGU9PT0iYmFyIiYmbS5jb2x1bW49PT1mYWxzZTtpZihnKXtqPWU7ZT1vO289an1pZihFeHQuQXJyYXkuaW5kZXhPZihkLCJ0b3AiKT4tMSl7Yj0idG9wIn1lbHNle2lmKEV4dC5BcnJheS5pbmRleE9mKGQsImJvdHRvbSIpPi0xKXtiPSJib3R0b20ifWVsc2V7aWYobC5nZXQoInRvcCIpJiZsLmdldCgiYm90dG9tIikpe2ZvcihoPTAsaz1vLmxlbmd0aDtoPGs7aCsrKXtuW29baF1dPXRydWV9aj1bXS5jb25jYXQobC5nZXQoImJvdHRvbSIpLmZpZWxkcyk7Zm9yKGg9MCxrPWoubGVuZ3RoO2g8aztoKyspe2lmKG5baltoXV0pe2I9ImJvdHRvbSI7YnJlYWt9fWo9W10uY29uY2F0KGwuZ2V0KCJ0b3AiKS5maWVsZHMpO2ZvcihoPTAsaz1qLmxlbmd0aDtoPGs7aCsrKXtpZihuW2pbaF1dKXtiPSJ0b3AiO2JyZWFrfX19ZWxzZXtpZihsLmdldCgidG9wIikpe2I9InRvcCJ9ZWxzZXtpZihsLmdldCgiYm90dG9tIikpe2I9ImJvdHRvbSJ9fX19fWlmKEV4dC5BcnJheS5pbmRleE9mKGQsImxlZnQiKT4tMSl7YT0ibGVmdCJ9ZWxzZXtpZihFeHQuQXJyYXkuaW5kZXhPZihkLCJyaWdodCIpPi0xKXthPSJyaWdodCJ9ZWxzZXtpZihsLmdldCgibGVmdCIpJiZsLmdldCgicmlnaHQiKSl7Zm9yKGg9MCxrPWUubGVuZ3RoO2g8aztoKyspe2NbZVtoXV09dHJ1ZX1qPVtdLmNvbmNhdChsLmdldCgicmlnaHQiKS5maWVsZHMpO2ZvcihoPTAsaz1qLmxlbmd0aDtoPGs7aCsrKXtpZihjW2pbaF1dKXticmVha319aj1bXS5jb25jYXQobC5nZXQoImxlZnQiKS5maWVsZHMpO2ZvcihoPTAsaz1qLmxlbmd0aDtoPGs7aCsrKXtpZihjW2pbaF1dKXthPSJsZWZ0IjticmVha319fWVsc2V7aWYobC5nZXQoImxlZnQiKSl7YT0ibGVmdCJ9ZWxzZXtpZihsLmdldCgicmlnaHQiKSl7YT0icmlnaHQifX19fX1yZXR1cm4gZz97eEF4aXM6YSx5QXhpczpifTp7eEF4aXM6Yix5QXhpczphfX19KTtFeHQuZGVmaW5lKCJFeHQuY2hhcnQuc2VyaWVzLkFyZWEiLHtleHRlbmQ6IkV4dC5jaGFydC5zZXJpZXMuQ2FydGVzaWFuIixhbGlhczoic2VyaWVzLmFyZWEiLHJlcXVpcmVzOlsiRXh0LmNoYXJ0LmF4aXMuQXhpcyIsIkV4dC5kcmF3LkNvbG9yIiwiRXh0LmZ4LkFuaW0iXSx0eXBlOiJhcmVhIixzdGFja2VkOnRydWUsc3R5bGU6e30sY29uc3RydWN0b3I6ZnVuY3Rpb24oYyl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dmFyIGU9dGhpcyxhPWUuY2hhcnQuc3VyZmFjZSxkLGI7Yy5oaWdobGlnaHRDZmc9RXh0Lk9iamVjdC5tZXJnZSh7fSx7bGluZVdpZHRoOjMsc3Ryb2tlOiIjNTVjIixvcGFjaXR5OjAuOCxjb2xvcjoiI2YwMCJ9LGMuaGlnaGxpZ2h0Q2ZnKTtFeHQuYXBwbHkoZSxjLHtfX2V4Y2x1ZGVzOltdfSk7aWYoZS5oaWdobGlnaHQpe2UuaGlnaGxpZ2h0U3ByaXRlPWEuYWRkKHt0eXBlOiJwYXRoIixwYXRoOlsiTSIsMCwwXSx6SW5kZXg6MTAwMCxvcGFjaXR5OjAuMyxsaW5lV2lkdGg6NSxoaWRkZW46dHJ1ZSxzdHJva2U6IiM0NDQifSl9ZS5ncm91cD1hLmdldEdyb3VwKGUuc2VyaWVzSWQpfSxzaHJpbms6ZnVuY3Rpb24oYixuLG8pe3ZhciBrPWIubGVuZ3RoLG09TWF0aC5mbG9vcihrL28pLGgsZyxkPTAsbD10aGlzLmFyZWFzLmxlbmd0aCxhPVtdLGU9W10sYz1bXTtmb3IoZz0wO2c8bDsrK2cpe2FbZ109MH1mb3IoaD0wO2g8azsrK2gpe2QrPStiW2hdO2ZvcihnPTA7ZzxsOysrZyl7YVtnXSs9K25baF1bZ119aWYoaCVtPT0wKXtlLnB1c2goZC9tKTtmb3IoZz0wO2c8bDsrK2cpe2FbZ10vPW19Yy5wdXNoKGEpO2Q9MDtmb3IoZz0wLGE9W107ZzxsOysrZyl7YVtnXT0wfX19cmV0dXJue3g6ZSx5OmN9fSxnZXRCb3VuZHM6ZnVuY3Rpb24oKXt2YXIgaj10aGlzLE09ai5jaGFydCxhPU0uZ2V0Q2hhcnRTdG9yZSgpLEw9YS5kYXRhLml0ZW1zLEksRix4LHY9W10uY29uY2F0KGoueUZpZWxkKSxBPXYubGVuZ3RoLHo9W10sRD1bXSxnPUluZmluaXR5LEM9ZyxCPWcsbj0tZyxtPS1nLHM9TWF0aCx3PXMubWluLGU9cy5tYXgscD1qLmdldEF4ZXNGb3JYQW5kWUZpZWxkcygpLEo9cC54QXhpcyx1PXAueUF4aXMsRyxyLGssaCxFLHEsTixLLGIsdCxILGMsZCxvLHk7ai5zZXRCQm94KCk7az1qLmJib3g7aWYobz1NLmF4ZXMuZ2V0KEopKXtpZihvLnR5cGU9PT0iVGltZSIpe3I9dHJ1ZX1HPW8uYXBwbHlEYXRhKCk7Qz1HLmZyb207bj1HLnRvfWlmKG89TS5heGVzLmdldCh1KSl7Rz1vLmFwcGx5RGF0YSgpO0I9Ry5mcm9tO209Ry50b31pZihqLnhGaWVsZCYmIUV4dC5pc051bWJlcihDKSl7bz1qLmdldE1pbk1heFhWYWx1ZXMoKTtyPXRydWU7Qz1vWzBdO249b1sxXX1pZihqLnlGaWVsZCYmIUV4dC5pc051bWJlcihCKSl7bz1qLmdldE1pbk1heFlWYWx1ZXMoKTtCPW9bMF07bT1vWzFdfWlmKCFFeHQuaXNOdW1iZXIoQikpe0I9MH1pZighRXh0LmlzTnVtYmVyKG0pKXttPTB9Zm9yKEk9MCxGPUwubGVuZ3RoO0k8RjtJKyspe3g9TFtJXTtxPXguZ2V0KGoueEZpZWxkKTtOPVtdO2lmKHR5cGVvZiBxIT0ibnVtYmVyIil7aWYocil7cT0rcX1lbHNle3E9SX19ei5wdXNoKHEpO2I9MDtmb3IoSz0wO0s8QTtLKyspe2lmKGouX19leGNsdWRlc1tLXSl7Y29udGludWV9ZD14LmdldCh2W0tdKTtpZih0eXBlb2YgZD09Im51bWJlciIpe0I9dyhCLGQpO04ucHVzaChkKTtiKz1kfX1DPXcoQyxxKTtuPWUobixxKTttPWUobSxiKTtELnB1c2goTil9aD1rLndpZHRoLygobi1DKXx8MSk7RT1rLmhlaWdodC8oKG0tQil8fDEpO3Q9ei5sZW5ndGg7aWYoKHQ+ay53aWR0aCkmJmouYXJlYXMpe0g9ai5zaHJpbmsoeixELGsud2lkdGgpO3o9SC54O0Q9SC55fXJldHVybntiYm94OmssbWluWDpDLG1pblk6Qix4VmFsdWVzOnoseVZhbHVlczpELHhTY2FsZTpoLHlTY2FsZTpFLGFyZWFzTGVuOkF9fSxnZXRQYXRoczpmdW5jdGlvbigpe3ZhciB3PXRoaXMsbT13LmNoYXJ0LGM9bS5nZXRDaGFydFN0b3JlKCksZT10cnVlLGc9dy5nZXRCb3VuZHMoKSxhPWcuYmJveCxuPXcuaXRlbXM9W10sdj1bXSxiLGQ9MCxwPVtdLHMsaixrLGgscSx0LGwseixyLHUsbztqPWcueFZhbHVlcy5sZW5ndGg7Zm9yKHM9MDtzPGo7cysrKXtxPWcueFZhbHVlc1tzXTt0PWcueVZhbHVlc1tzXTtrPWEueCsocS1nLm1pblgpKmcueFNjYWxlO2w9MDtkPTA7Zm9yKHo9MDt6PGcuYXJlYXNMZW47eisrKXtpZih3Ll9fZXhjbHVkZXNbel0pe2NvbnRpbnVlfWlmKCF2W3pdKXt2W3pdPVtdfXU9dFtkXTtsKz11O2g9YS55K2EuaGVpZ2h0LShsLWcubWluWSkqZy55U2NhbGU7aWYoIXBbel0pe3Bbel09WyJNIixrLGhdO3Zbel0ucHVzaChbIkwiLGssaF0pfWVsc2V7cFt6XS5wdXNoKCJMIixrLGgpO3Zbel0ucHVzaChbIkwiLGssaF0pfWlmKCFuW3pdKXtuW3pdPXtwb2ludHNVcDpbXSxwb2ludHNEb3duOltdLHNlcmllczp3fX1uW3pdLnBvaW50c1VwLnB1c2goW2ssaF0pO2QrK319Zm9yKHo9MDt6PGcuYXJlYXNMZW47eisrKXtpZih3Ll9fZXhjbHVkZXNbel0pe2NvbnRpbnVlfW89cFt6XTtpZih6PT0wfHxlKXtlPWZhbHNlO28ucHVzaCgiTCIsayxhLnkrYS5oZWlnaHQsIkwiLGEueCxhLnkrYS5oZWlnaHQsIloiKX1lbHNle2I9dltyXTtiLnJldmVyc2UoKTtvLnB1c2goIkwiLGssYlswXVsyXSk7Zm9yKHM9MDtzPGo7cysrKXtvLnB1c2goYltzXVswXSxiW3NdWzFdLGJbc11bMl0pO25bel0ucG9pbnRzRG93bltqLXMtMV09W2Jbc11bMV0sYltzXVsyXV19by5wdXNoKCJMIixhLngsb1syXSwiWiIpfXI9en1yZXR1cm57cGF0aHM6cCxhcmVhc0xlbjpnLmFyZWFzTGVufX0sZHJhd1NlcmllczpmdW5jdGlvbigpe3ZhciBoPXRoaXMsZz1oLmNoYXJ0LGk9Zy5nZXRDaGFydFN0b3JlKCksYz1nLnN1cmZhY2UsYj1nLmFuaW1hdGUsaz1oLmdyb3VwLGE9RXh0LmFwcGx5KGguc2VyaWVzU3R5bGUsaC5zdHlsZSksbD1oLmNvbG9yQXJyYXlTdHlsZSxvPWwmJmwubGVuZ3RofHwwLGQsZSxuLG0sajtoLnVuSGlnaGxpZ2h0SXRlbSgpO2guY2xlYW5IaWdobGlnaHRzKCk7aWYoIWl8fCFpLmdldENvdW50KCl8fGguc2VyaWVzSXNIaWRkZW4pe2guaGlkZSgpO2guaXRlbXM9W107cmV0dXJufW49aC5nZXRQYXRocygpO2lmKCFoLmFyZWFzKXtoLmFyZWFzPVtdfWZvcihkPTA7ZDxuLmFyZWFzTGVuO2QrKyl7aWYoaC5fX2V4Y2x1ZGVzW2RdKXtjb250aW51ZX1pZighaC5hcmVhc1tkXSl7aC5pdGVtc1tkXS5zcHJpdGU9aC5hcmVhc1tkXT1jLmFkZChFeHQuYXBwbHkoe30se3R5cGU6InBhdGgiLGdyb3VwOmsscGF0aDpuLnBhdGhzW2RdLHN0cm9rZTphLnN0cm9rZXx8bFtkJW9dLGZpbGw6bFtkJW9dfSxhfHx7fSkpfWU9aC5hcmVhc1tkXTttPW4ucGF0aHNbZF07aWYoYil7aj1oLnJlbmRlcmVyKGUsZmFsc2Use3BhdGg6bSxmaWxsOmxbZCVvXSxzdHJva2U6YS5zdHJva2V8fGxbZCVvXX0sZCxpKTtoLmFuaW1hdGlvbj1oLm9uQW5pbWF0ZShlLHt0bzpqfSl9ZWxzZXtqPWgucmVuZGVyZXIoZSxmYWxzZSx7cGF0aDptLGhpZGRlbjpmYWxzZSxmaWxsOmxbZCVvXSxzdHJva2U6YS5zdHJva2V8fGxbZCVvXX0sZCxpKTtoLmFyZWFzW2RdLnNldEF0dHJpYnV0ZXMoaix0cnVlKX19aC5yZW5kZXJMYWJlbHMoKTtoLnJlbmRlckNhbGxvdXRzKCl9LG9uQW5pbWF0ZTpmdW5jdGlvbihiLGEpe2Iuc2hvdygpO3JldHVybiB0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sb25DcmVhdGVMYWJlbDpmdW5jdGlvbihkLGssYyxlKXt2YXIgZz10aGlzLGg9Zy5sYWJlbHNHcm91cCxhPWcubGFiZWwsaj1nLmJib3gsYj1FeHQuYXBwbHkoYSxnLnNlcmllc0xhYmVsU3R5bGUpO3JldHVybiBnLmNoYXJ0LnN1cmZhY2UuYWRkKEV4dC5hcHBseSh7dHlwZToidGV4dCIsInRleHQtYW5jaG9yIjoibWlkZGxlIixncm91cDpoLHg6ay5wb2ludFswXSx5OmoueStqLmhlaWdodC8yfSxifHx7fSkpfSxvblBsYWNlTGFiZWw6ZnVuY3Rpb24oZyxrLHMscCxvLGMsZSl7dmFyIHU9dGhpcyxsPXUuY2hhcnQscj1sLnJlc2l6aW5nLHQ9dS5sYWJlbCxxPXQucmVuZGVyZXIsYj10LmZpZWxkLGE9dS5iYm94LGo9cy5wb2ludFswXSxoPXMucG9pbnRbMV0sZCxuLG07Zy5zZXRBdHRyaWJ1dGVzKHt0ZXh0OnEoay5nZXQoYltlXSkpLGhpZGRlbjp0cnVlfSx0cnVlKTtkPWcuZ2V0QkJveCgpO249ZC53aWR0aC8yO209ZC5oZWlnaHQvMjtqPWotbjxhLng/YS54K246ajtqPShqK24+YS54K2Eud2lkdGgpPyhqLShqK24tYS54LWEud2lkdGgpKTpqO2g9aC1tPGEueT9hLnkrbTpoO2g9KGgrbT5hLnkrYS5oZWlnaHQpPyhoLShoK20tYS55LWEuaGVpZ2h0KSk6aDtpZih1LmNoYXJ0LmFuaW1hdGUmJiF1LmNoYXJ0LnJlc2l6aW5nKXtnLnNob3codHJ1ZSk7dS5vbkFuaW1hdGUoZyx7dG86e3g6aix5Omh9fSl9ZWxzZXtnLnNldEF0dHJpYnV0ZXMoe3g6aix5Omh9LHRydWUpO2lmKHIpe3UuYW5pbWF0aW9uLm9uKCJhZnRlcmFuaW1hdGUiLGZ1bmN0aW9uKCl7Zy5zaG93KHRydWUpfSl9ZWxzZXtnLnNob3codHJ1ZSl9fX0sb25QbGFjZUNhbGxvdXQ6ZnVuY3Rpb24obSxyLEosRyxGLGQsayl7dmFyIE09dGhpcyxzPU0uY2hhcnQsRD1zLnN1cmZhY2UsSD1zLnJlc2l6aW5nLEw9TS5jYWxsb3V0cyx0PU0uaXRlbXMsdj0oRz09MCk/ZmFsc2U6dFtHLTFdLnBvaW50LHo9KEc9PXQubGVuZ3RoLTEpP2ZhbHNlOnRbRysxXS5wb2ludCxjPUoucG9pbnQsQSxnLE4sSyxvLHEsYj1tLmxhYmVsLmdldEJCb3goKSxJPTMwLEM9MTAsQj0zLGgsZSxqLHcsdSxFPU0uY2xpcFJlY3QsbixsO2lmKCF2KXt2PWN9aWYoIXope3o9Y31LPSh6WzFdLXZbMV0pLyh6WzBdLXZbMF0pO289KGNbMV0tdlsxXSkvKGNbMF0tdlswXSk7cT0oelsxXS1jWzFdKS8oelswXS1jWzBdKTtnPU1hdGguc3FydCgxK0sqSyk7QT1bMS9nLEsvZ107Tj1bLUFbMV0sQVswXV07aWYobz4wJiZxPDAmJk5bMV08MHx8bzwwJiZxPjAmJk5bMV0+MCl7TlswXSo9LTE7TlsxXSo9LTF9ZWxzZXtpZihNYXRoLmFicyhvKTxNYXRoLmFicyhxKSYmTlswXTwwfHxNYXRoLmFicyhvKT5NYXRoLmFicyhxKSYmTlswXT4wKXtOWzBdKj0tMTtOWzFdKj0tMX19bj1jWzBdK05bMF0qSTtsPWNbMV0rTlsxXSpJO2g9bisoTlswXT4wPzA6LShiLndpZHRoKzIqQikpO2U9bC1iLmhlaWdodC8yLUI7aj1iLndpZHRoKzIqQjt3PWIuaGVpZ2h0KzIqQjtpZihoPEVbMF18fChoK2opPihFWzBdK0VbMl0pKXtOWzBdKj0tMX1pZihlPEVbMV18fChlK3cpPihFWzFdK0VbM10pKXtOWzFdKj0tMX1uPWNbMF0rTlswXSpJO2w9Y1sxXStOWzFdKkk7aD1uKyhOWzBdPjA/MDotKGIud2lkdGgrMipCKSk7ZT1sLWIuaGVpZ2h0LzItQjtqPWIud2lkdGgrMipCO3c9Yi5oZWlnaHQrMipCO20ubGluZXMuc2V0QXR0cmlidXRlcyh7cGF0aDpbIk0iLGNbMF0sY1sxXSwiTCIsbixsLCJaIl19LHRydWUpO20uYm94LnNldEF0dHJpYnV0ZXMoe3g6aCx5OmUsd2lkdGg6aixoZWlnaHQ6d30sdHJ1ZSk7bS5sYWJlbC5zZXRBdHRyaWJ1dGVzKHt4Om4rKE5bMF0+MD9COi0oYi53aWR0aCtCKSkseTpsfSx0cnVlKTtmb3IodSBpbiBtKXttW3VdLnNob3codHJ1ZSl9fSxpc0l0ZW1JblBvaW50OmZ1bmN0aW9uKGosaCxtLGMpe3ZhciBnPXRoaXMsYj1tLnBvaW50c1VwLGQ9bS5wb2ludHNEb3duLHE9TWF0aC5hYnMsbz1mYWxzZSxsPWZhbHNlLGU9SW5maW5pdHksYSxuLGs7Zm9yKGE9MCxuPWIubGVuZ3RoO2E8bjthKyspe2s9W2JbYV1bMF0sYlthXVsxXV07bz1mYWxzZTtsPWE9PW4tMTtpZihlPnEoai1rWzBdKSl7ZT1xKGota1swXSk7bz10cnVlO2lmKGwpeysrYX19aWYoIW98fChvJiZsKSl7az1iW2EtMV07aWYoaD49a1sxXSYmKCFkLmxlbmd0aHx8aDw9KGRbYS0xXVsxXSkpKXttLnN0b3JlSW5kZXg9YS0xO20uc3RvcmVGaWVsZD1nLnlGaWVsZFtjXTttLnN0b3JlSXRlbT1nLmNoYXJ0LnN0b3JlLmdldEF0KGEtMSk7bS5fcG9pbnRzPWQubGVuZ3RoP1trLGRbYS0xXV06W2tdO3JldHVybiB0cnVlfWVsc2V7YnJlYWt9fX1yZXR1cm4gZmFsc2V9LGhpZ2hsaWdodFNlcmllczpmdW5jdGlvbigpe3ZhciBhLGMsYjtpZih0aGlzLl9pbmRleCE9PXVuZGVmaW5lZCl7YT10aGlzLmFyZWFzW3RoaXMuX2luZGV4XTtpZihhLl9faGlnaGxpZ2h0QW5pbSl7YS5fX2hpZ2hsaWdodEFuaW0ucGF1c2VkPXRydWV9YS5fX2hpZ2hsaWdodGVkPXRydWU7YS5fX3ByZXZPcGFjaXR5PWEuX19wcmV2T3BhY2l0eXx8YS5hdHRyLm9wYWNpdHl8fDE7YS5fX3ByZXZGaWxsPWEuX19wcmV2RmlsbHx8YS5hdHRyLmZpbGw7YS5fX3ByZXZMaW5lV2lkdGg9YS5fX3ByZXZMaW5lV2lkdGh8fGEuYXR0ci5saW5lV2lkdGg7Yj1FeHQuZHJhdy5Db2xvci5mcm9tU3RyaW5nKGEuX19wcmV2RmlsbCk7Yz17bGluZVdpZHRoOihhLl9fcHJldkxpbmVXaWR0aHx8MCkrMn07aWYoYil7Yy5maWxsPWIuZ2V0TGlnaHRlcigwLjIpLnRvU3RyaW5nKCl9ZWxzZXtjLm9wYWNpdHk9TWF0aC5tYXgoYS5fX3ByZXZPcGFjaXR5LTAuMywwKX1pZih0aGlzLmNoYXJ0LmFuaW1hdGUpe2EuX19oaWdobGlnaHRBbmltPW5ldyBFeHQuZnguQW5pbShFeHQuYXBwbHkoe3RhcmdldDphLHRvOmN9LHRoaXMuY2hhcnQuYW5pbWF0ZSkpfWVsc2V7YS5zZXRBdHRyaWJ1dGVzKGMsdHJ1ZSl9fX0sdW5IaWdobGlnaHRTZXJpZXM6ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLl9pbmRleCE9PXVuZGVmaW5lZCl7YT10aGlzLmFyZWFzW3RoaXMuX2luZGV4XTtpZihhLl9faGlnaGxpZ2h0QW5pbSl7YS5fX2hpZ2hsaWdodEFuaW0ucGF1c2VkPXRydWV9aWYoYS5fX2hpZ2hsaWdodGVkKXthLl9faGlnaGxpZ2h0ZWQ9ZmFsc2U7YS5fX2hpZ2hsaWdodEFuaW09bmV3IEV4dC5meC5BbmltKHt0YXJnZXQ6YSx0bzp7ZmlsbDphLl9fcHJldkZpbGwsb3BhY2l0eTphLl9fcHJldk9wYWNpdHksbGluZVdpZHRoOmEuX19wcmV2TGluZVdpZHRofX0pfX19LGhpZ2hsaWdodEl0ZW06ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhLGQ7aWYoIWMpe3RoaXMuaGlnaGxpZ2h0U2VyaWVzKCk7cmV0dXJufWE9Yy5fcG9pbnRzO2Q9YS5sZW5ndGg9PTI/WyJNIixhWzBdWzBdLGFbMF1bMV0sIkwiLGFbMV1bMF0sYVsxXVsxXV06WyJNIixhWzBdWzBdLGFbMF1bMV0sIkwiLGFbMF1bMF0sYi5iYm94LnkrYi5iYm94LmhlaWdodF07Yi5oaWdobGlnaHRTcHJpdGUuc2V0QXR0cmlidXRlcyh7cGF0aDpkLGhpZGRlbjpmYWxzZX0sdHJ1ZSl9LHVuSGlnaGxpZ2h0SXRlbTpmdW5jdGlvbihhKXtpZighYSl7dGhpcy51bkhpZ2hsaWdodFNlcmllcygpfWlmKHRoaXMuaGlnaGxpZ2h0U3ByaXRlKXt0aGlzLmhpZ2hsaWdodFNwcml0ZS5oaWRlKHRydWUpfX0saGlkZUFsbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2E9KGlzTmFOKGIuX2luZGV4KT9hOmIuX2luZGV4KXx8MDtiLl9fZXhjbHVkZXNbYV09dHJ1ZTtiLmFyZWFzW2FdLmhpZGUodHJ1ZSk7Yi5yZWRyYXcoKX0sc2hvd0FsbDpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2E9KGlzTmFOKGIuX2luZGV4KT9hOmIuX2luZGV4KXx8MDtiLl9fZXhjbHVkZXNbYV09ZmFsc2U7Yi5hcmVhc1thXS5zaG93KHRydWUpO2IucmVkcmF3KCl9LHJlZHJhdzpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYjtiPWEuY2hhcnQubGVnZW5kLnJlYnVpbGQ7YS5jaGFydC5sZWdlbmQucmVidWlsZD1mYWxzZTthLmNoYXJ0LnJlZHJhdygpO2EuY2hhcnQubGVnZW5kLnJlYnVpbGQ9Yn0saGlkZTpmdW5jdGlvbigpe2lmKHRoaXMuYXJlYXMpe3ZhciBoPXRoaXMsYj1oLmFyZWFzLGQsYyxhLGcsZTtpZihiJiZiLmxlbmd0aCl7Zm9yKGQ9MCxnPWIubGVuZ3RoO2Q8ZzsrK2Qpe2lmKGJbZF0pe2JbZF0uaGlkZSh0cnVlKX19aC5oaWRlTGFiZWxzKCl9fX0sZ2V0TGVnZW5kQ29sb3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gYi5jb2xvckFycmF5U3R5bGVbYSViLmNvbG9yQXJyYXlTdHlsZS5sZW5ndGhdfX0pO0V4dC5kZWZpbmUoIkV4dC5jaGFydC5zZXJpZXMuQmFyIix7ZXh0ZW5kOiJFeHQuY2hhcnQuc2VyaWVzLkNhcnRlc2lhbiIsYWx0ZXJuYXRlQ2xhc3NOYW1lOlsiRXh0LmNoYXJ0LkJhclNlcmllcyIsIkV4dC5jaGFydC5CYXJDaGFydCIsIkV4dC5jaGFydC5TdGFja2VkQmFyQ2hhcnQiXSxyZXF1aXJlczpbIkV4dC5jaGFydC5heGlzLkF4aXMiLCJFeHQuZnguQW5pbSJdLHR5cGU6ImJhciIsYWxpYXM6InNlcmllcy5iYXIiLGNvbHVtbjpmYWxzZSxzdHlsZTp7fSxndXR0ZXI6MzguMixncm91cEd1dHRlcjozOC4yLHhQYWRkaW5nOjAseVBhZGRpbmc6MTAsY29uc3RydWN0b3I6ZnVuY3Rpb24oYyl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dmFyIGU9dGhpcyxhPWUuY2hhcnQuc3VyZmFjZSxnPWUuY2hhcnQuc2hhZG93LGQsYjtjLmhpZ2hsaWdodENmZz1FeHQuT2JqZWN0Lm1lcmdlKHtsaW5lV2lkdGg6MyxzdHJva2U6IiM1NWMiLG9wYWNpdHk6MC44LGNvbG9yOiIjZjAwIn0sYy5oaWdobGlnaHRDZmcpO0V4dC5hcHBseShlLGMse3NoYWRvd0F0dHJpYnV0ZXM6W3sic3Ryb2tlLXdpZHRoIjo2LCJzdHJva2Utb3BhY2l0eSI6MC4wNSxzdHJva2U6InJnYigyMDAsIDIwMCwgMjAwKSIsdHJhbnNsYXRlOnt4OjEuMix5OjEuMn19LHsic3Ryb2tlLXdpZHRoIjo0LCJzdHJva2Utb3BhY2l0eSI6MC4xLHN0cm9rZToicmdiKDE1MCwgMTUwLCAxNTApIix0cmFuc2xhdGU6e3g6MC45LHk6MC45fX0seyJzdHJva2Utd2lkdGgiOjIsInN0cm9rZS1vcGFjaXR5IjowLjE1LHN0cm9rZToicmdiKDEwMCwgMTAwLCAxMDApIix0cmFuc2xhdGU6e3g6MC42LHk6MC42fX1dfSk7ZS5ncm91cD1hLmdldEdyb3VwKGUuc2VyaWVzSWQrIi1iYXJzIik7aWYoZyl7Zm9yKGQ9MCxiPWUuc2hhZG93QXR0cmlidXRlcy5sZW5ndGg7ZDxiO2QrKyl7ZS5zaGFkb3dHcm91cHMucHVzaChhLmdldEdyb3VwKGUuc2VyaWVzSWQrIi1zaGFkb3dzIitkKSl9fX0sZ2V0QmFyR2lydGg6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGE9ZC5jaGFydC5nZXRDaGFydFN0b3JlKCksYj1kLmNvbHVtbixjPWEuZ2V0Q291bnQoKSxlPWQuZ3V0dGVyLzEwMDtyZXR1cm4oZC5jaGFydC5jaGFydEJCb3hbYj8id2lkdGgiOiJoZWlnaHQiXS1kW2I/InhQYWRkaW5nIjoieVBhZGRpbmciXSoyKS8oYyooZSsxKS1lKX0sZ2V0R3V0dGVyczpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmNvbHVtbixjPU1hdGguY2VpbChiW2E/InhQYWRkaW5nIjoieVBhZGRpbmciXStiLmdldEJhckdpcnRoKCkvMik7cmV0dXJuIGIuY29sdW1uP1tjLDBdOlswLGNdfSxnZXRCb3VuZHM6ZnVuY3Rpb24oKXt2YXIgbz10aGlzLE89by5jaGFydCxiPU8uZ2V0Q2hhcnRTdG9yZSgpLE49Yi5kYXRhLml0ZW1zLE0seCxELHY9W10uY29uY2F0KG8ueUZpZWxkKSxwPXYubGVuZ3RoLGw9cCxjPW8uZ3JvdXBHdXR0ZXIvMTAwLEg9by5jb2x1bW4saD1vLnhQYWRkaW5nLG09by55UGFkZGluZyxKPW8uc3RhY2tlZCx0PW8uZ2V0QmFyR2lydGgoKSx5PUg/IndpZHRoIjoiaGVpZ2h0Iix1PU1hdGgsQj11Lm1pbixrPXUubWF4LG49dS5hYnMsRz1vLmdldEF4ZXNGb3JYQW5kWUZpZWxkcygpLEE9Ry55QXhpcyxMLEMsZSxxLEYscixzLEUseixhLHcsSSxLLGQsZztvLnNldEJCb3godHJ1ZSk7cT1vLmJib3g7aWYoby5fX2V4Y2x1ZGVzKXtmb3IoSz0wLHc9by5fX2V4Y2x1ZGVzLmxlbmd0aDtLPHc7SysrKXtpZihvLl9fZXhjbHVkZXNbS10pe2wtLX19fXM9Ty5heGVzLmdldChBKTtpZihzKXtMPXMuYXBwbHlEYXRhKCk7Rj1MLmZyb207cj1MLnRvfWlmKG8ueUZpZWxkJiYhRXh0LmlzTnVtYmVyKEYpKXtFPW8uZ2V0TWluTWF4WVZhbHVlcygpO0Y9RVswXTtyPUVbMV19aWYoIUV4dC5pc051bWJlcihGKSl7Rj0wfWlmKCFFeHQuaXNOdW1iZXIocikpe3I9MH16PShIP3EuaGVpZ2h0LW0qMjpxLndpZHRoLWgqMikvKHItRik7Qz10O2U9KHQvKChKPzE6bCkqKGMrMSktYykpO2lmKHkgaW4gby5zdHlsZSl7ZT1CKGUsby5zdHlsZVt5XSk7Qz1lKigoSj8xOmwpKihjKzEpLWMpfWE9KEgpP3EueStxLmhlaWdodC1tOnEueCtoO2lmKEope3c9W1tdLFtdXTtmb3IoTT0wLHg9Ti5sZW5ndGg7TTx4O00rKyl7RD1OW01dO3dbMF1bTV09d1swXVtNXXx8MDt3WzFdW01dPXdbMV1bTV18fDA7Zm9yKEs9MDtLPHA7SysrKXtpZihvLl9fZXhjbHVkZXMmJm8uX19leGNsdWRlc1tLXSl7Y29udGludWV9ST1ELmdldCh2W0tdKTt3WysoST4wKV1bTV0rPW4oSSl9fXdbKyhyPjApXS5wdXNoKG4ocikpO3dbKyhGPjApXS5wdXNoKG4oRikpO2c9ay5hcHBseSh1LHdbMF0pO2Q9ay5hcHBseSh1LHdbMV0pO3o9KEg/cS5oZWlnaHQtbSoyOnEud2lkdGgtaCoyKS8oZCtnKTthPWErZyp6KihIPy0xOjEpfWVsc2V7aWYoRi9yPDApe2E9YS1GKnoqKEg/LTE6MSl9fXJldHVybntiYXJzOnYsYmJveDpxLHNocnVua0JhcldpZHRoOkMsYmFyc0xlbjpwLGdyb3VwQmFyc0xlbjpsLGJhcldpZHRoOnQsZ3JvdXBCYXJXaWR0aDplLHNjYWxlOnosemVybzphLHhQYWRkaW5nOmgseVBhZGRpbmc6bSxzaWduZWQ6Ri9yPDAsbWluWTpGLG1heFk6cn19LGdldFBhdGhzOmZ1bmN0aW9uKCl7dmFyIHY9dGhpcyxYPXYuY2hhcnQsYj1YLmdldENoYXJ0U3RvcmUoKSxXPWIuZGF0YS5pdGVtcyxWLEUsTCxHPXYuYm91bmRzPXYuZ2V0Qm91bmRzKCksej12Lml0ZW1zPVtdLFA9di55RmllbGQsbD12Lmd1dHRlci8xMDAsYz12Lmdyb3VwR3V0dGVyLzEwMCxUPVguYW5pbWF0ZSxOPXYuY29sdW1uLHg9di5ncm91cCxtPVguc2hhZG93LFI9di5zaGFkb3dHcm91cHMsUT12LnNoYWRvd0F0dHJpYnV0ZXMscT1SLmxlbmd0aCx5PUcuYmJveCxCPUcuYmFyV2lkdGgsSz1HLnNocnVua0JhcldpZHRoLG49di54UGFkZGluZyxyPXYueVBhZGRpbmcsUz12LnN0YWNrZWQsdz1HLmJhcnNMZW4sTz12LmNvbG9yQXJyYXlTdHlsZSxoPU8mJk8ubGVuZ3RofHwwLEM9TWF0aCxvPUMubWF4LEk9Qy5taW4sdT1DLmFicyxVLFksZSxKLEQsYSxrLHQscyxwLGcsZCxGLEEsTSxIO2ZvcihWPTAsRT1XLmxlbmd0aDtWPEU7VisrKXtMPVdbVl07YT1HLnplcm87az1HLnplcm87Sj0wO0Q9MDt0PWZhbHNlO2ZvcihVPTAsZz0wO1U8dztVKyspe2lmKHYuX19leGNsdWRlcyYmdi5fX2V4Y2x1ZGVzW1VdKXtjb250aW51ZX1ZPUwuZ2V0KEcuYmFyc1tVXSk7ZT1NYXRoLnJvdW5kKChZLW8oRy5taW5ZLDApKSpHLnNjYWxlKTtzPXtmaWxsOk9bKHc+MT9VOjApJWhdfTtpZihOKXtFeHQuYXBwbHkocyx7aGVpZ2h0OmUsd2lkdGg6byhHLmdyb3VwQmFyV2lkdGgsMCkseDooeS54K24rKEItSykqMC41K1YqQiooMStsKStnKkcuZ3JvdXBCYXJXaWR0aCooMStjKSohUykseTphLWV9KX1lbHNle009KEUtMSktVjtFeHQuYXBwbHkocyx7aGVpZ2h0Om8oRy5ncm91cEJhcldpZHRoLDApLHdpZHRoOmUrKGE9PUcuemVybykseDphKyhhIT1HLnplcm8pLHk6KHkueStyKyhCLUspKjAuNStNKkIqKDErbCkrZypHLmdyb3VwQmFyV2lkdGgqKDErYykqIVMrMSl9KX1pZihlPDApe2lmKE4pe3MueT1rO3MuaGVpZ2h0PXUoZSl9ZWxzZXtzLng9aytlO3Mud2lkdGg9dShlKX19aWYoUyl7aWYoZTwwKXtrKz1lKihOPy0xOjEpfWVsc2V7YSs9ZSooTj8tMToxKX1KKz11KGUpO2lmKGU8MCl7RCs9dShlKX19cy54PU1hdGguZmxvb3Iocy54KSsxO0g9TWF0aC5mbG9vcihzLnkpO2lmKCFFeHQuaXNJRTkmJnMueT5IKXtILS19cy55PUg7cy53aWR0aD1NYXRoLmZsb29yKHMud2lkdGgpO3MuaGVpZ2h0PU1hdGguZmxvb3Iocy5oZWlnaHQpO3oucHVzaCh7c2VyaWVzOnYseUZpZWxkOlBbVV0sc3RvcmVJdGVtOkwsdmFsdWU6W0wuZ2V0KHYueEZpZWxkKSxZXSxhdHRyOnMscG9pbnQ6Tj9bcy54K3Mud2lkdGgvMixZPj0wP3MueTpzLnkrcy5oZWlnaHRdOltZPj0wP3MueCtzLndpZHRoOnMueCxzLnkrcy5oZWlnaHQvMl19KTtpZihUJiZYLnJlc2l6aW5nKXtwPU4/e3g6cy54LHk6Ry56ZXJvLHdpZHRoOnMud2lkdGgsaGVpZ2h0OjB9Ont4OkcuemVybyx5OnMueSx3aWR0aDowLGhlaWdodDpzLmhlaWdodH07aWYobSYmKFMmJiF0fHwhUykpe3Q9dHJ1ZTtmb3IoZD0wO2Q8cTtkKyspe0Y9UltkXS5nZXRBdChTP1Y6KFYqdytVKSk7aWYoRil7Ri5zZXRBdHRyaWJ1dGVzKHAsdHJ1ZSl9fX1BPXguZ2V0QXQoVip3K1UpO2lmKEEpe0Euc2V0QXR0cmlidXRlcyhwLHRydWUpfX1nKyt9aWYoUyYmei5sZW5ndGgpe3pbVipnXS50b3RhbERpbT1KO3pbVipnXS50b3RhbE5lZ0RpbT1EfX19LHJlbmRlclNoYWRvd3M6ZnVuY3Rpb24odSx2LHksbCl7dmFyIHo9dGhpcyxwPXouY2hhcnQscz1wLnN1cmZhY2UsZz1wLmFuaW1hdGUseD16LnN0YWNrZWQsYT16LnNoYWRvd0dyb3Vwcyx3PXouc2hhZG93QXR0cmlidXRlcyxvPWEubGVuZ3RoLGg9cC5nZXRDaGFydFN0b3JlKCksZD16LmNvbHVtbixyPXouaXRlbXMsYj1bXSxtPWwuemVybyxlLHEsayxBLG4sdCxjO2lmKCh4JiYodSVsLmdyb3VwQmFyc0xlbj09PTApKXx8IXgpe3Q9dS9sLmdyb3VwQmFyc0xlbjtmb3IoZT0wO2U8bztlKyspe3E9RXh0LmFwcGx5KHt9LHdbZV0pO2s9YVtlXS5nZXRBdCh4P3Q6dSk7RXh0LmNvcHlUbyhxLHYsIngseSx3aWR0aCxoZWlnaHQiKTtpZighayl7az1zLmFkZChFeHQuYXBwbHkoe3R5cGU6InJlY3QiLGdyb3VwOmFbZV19LEV4dC5hcHBseSh7fSx5LHEpKSl9aWYoeCl7QT1yW3VdLnRvdGFsRGltO249clt1XS50b3RhbE5lZ0RpbTtpZihkKXtxLnk9bStuLUEtMTtxLmhlaWdodD1BfWVsc2V7cS54PW0tbjtxLndpZHRoPUF9fWM9ei5yZW5kZXJlcihrLGguZ2V0QXQodCkscSx1LGgpO2MuaGlkZGVuPSEhdi5oaWRkZW47aWYoZyl7ei5vbkFuaW1hdGUoayx7dG86Y30pfWVsc2V7ay5zZXRBdHRyaWJ1dGVzKGMsdHJ1ZSl9Yi5wdXNoKGspfX1yZXR1cm4gYn0sZHJhd1NlcmllczpmdW5jdGlvbigpe3ZhciBDPXRoaXMscj1DLmNoYXJ0LG09ci5nZXRDaGFydFN0b3JlKCksdj1yLnN1cmZhY2Usaz1yLmFuaW1hdGUsQT1DLnN0YWNrZWQsZD1DLmNvbHVtbixiPXIuc2hhZG93LGE9Qy5zaGFkb3dHcm91cHMscT1hLmxlbmd0aCxvPUMuZ3JvdXAsZz1DLnNlcmllc1N0eWxlLHMscCx5LHgsQix0LGMsZSxoLG4sbCx6LHUsdztpZighbXx8IW0uZ2V0Q291bnQoKXx8Qy5zZXJpZXNJc0hpZGRlbil7Qy5oaWRlKCk7Qy5pdGVtcz1bXTtyZXR1cm59bD1FeHQuYXBwbHkoe30sdGhpcy5zdHlsZSxnKTtkZWxldGUgbC5maWxsO2RlbGV0ZSBsLng7ZGVsZXRlIGwueTtkZWxldGUgbC53aWR0aDtkZWxldGUgbC5oZWlnaHQ7Qy51bkhpZ2hsaWdodEl0ZW0oKTtDLmNsZWFuSGlnaGxpZ2h0cygpO0MuZ2V0UGF0aHMoKTtuPUMuYm91bmRzO3M9Qy5pdGVtcztCPWQ/e3k6bi56ZXJvLGhlaWdodDowfTp7eDpuLnplcm8sd2lkdGg6MH07cD1zLmxlbmd0aDtmb3IoeT0wO3k8cDt5Kyspe3Q9by5nZXRBdCh5KTt6PXNbeV0uYXR0cjtpZihiKXtzW3ldLnNoYWRvd3M9Qy5yZW5kZXJTaGFkb3dzKHkseixCLG4pfWlmKCF0KXt1PUV4dC5hcHBseSh7fSxCLHopO3U9RXh0LmFwcGx5KHUsbHx8e30pO3Q9di5hZGQoRXh0LmFwcGx5KHt9LHt0eXBlOiJyZWN0Iixncm91cDpvfSx1KSl9aWYoayl7Yz1DLnJlbmRlcmVyKHQsbS5nZXRBdCh5KSx6LHksbSk7dC5fdG89Yzt3PUMub25BbmltYXRlKHQse3RvOkV4dC5hcHBseShjLGwpfSk7aWYoYiYmQSYmKHklbi5iYXJzTGVuPT09MCkpe3g9eS9uLmJhcnNMZW47Zm9yKGU9MDtlPHE7ZSsrKXt3Lm9uKCJhZnRlcmFuaW1hdGUiLGZ1bmN0aW9uKCl7dGhpcy5zaG93KHRydWUpfSxhW2VdLmdldEF0KHgpKX19fWVsc2V7Yz1DLnJlbmRlcmVyKHQsbS5nZXRBdCh5KSxFeHQuYXBwbHkoeix7aGlkZGVuOmZhbHNlfSkseSxtKTt0LnNldEF0dHJpYnV0ZXMoRXh0LmFwcGx5KGMsbCksdHJ1ZSl9c1t5XS5zcHJpdGU9dH1wPW8uZ2V0Q291bnQoKTtmb3IoeD15O3g8cDt4Kyspe28uZ2V0QXQoeCkuaGlkZSh0cnVlKX1pZihDLnN0YWNrZWQpe3k9bS5nZXRDb3VudCgpfWlmKGIpe2ZvcihlPTA7ZTxxO2UrKyl7aD1hW2VdO3A9aC5nZXRDb3VudCgpO2Zvcih4PXk7eDxwO3grKyl7aC5nZXRBdCh4KS5oaWRlKHRydWUpfX19Qy5yZW5kZXJMYWJlbHMoKX0sb25DcmVhdGVMYWJlbDpmdW5jdGlvbihlLGwsZCxnKXt2YXIgaD10aGlzLGE9aC5jaGFydC5zdXJmYWNlLGs9aC5sYWJlbHNHcm91cCxiPWgubGFiZWwsYz1FeHQuYXBwbHkoe30sYixoLnNlcmllc0xhYmVsU3R5bGV8fHt9KSxqO3JldHVybiBhLmFkZChFeHQuYXBwbHkoe3R5cGU6InRleHQiLGdyb3VwOmt9LGN8fHt9KSl9LG9uUGxhY2VMYWJlbDpmdW5jdGlvbihHLE4scyxKLHAsSCxJLHYpe3ZhciBtPXRoaXMsbj1tLmJvdW5kcyxkPW4uZ3JvdXBCYXJXaWR0aCxGPW0uY29sdW1uLEw9bS5jaGFydCx1PUwuY2hhcnRCQm94LEE9TC5yZXNpemluZyxvPXMudmFsdWVbMF0sTz1zLnZhbHVlWzFdLGw9cy5hdHRyLHo9bS5sYWJlbCxLPXoub3JpZW50YXRpb249PSJ2ZXJ0aWNhbCIsaD1bXS5jb25jYXQoei5maWVsZCksdD16LnJlbmRlcmVyLHI9dChOLmdldChoW3ZdKSksZz1tLmdldExhYmVsU2l6ZShyKSxhPWcud2lkdGgsYz1nLmhlaWdodCxiPW4uemVybyxrPSJvdXRzaWRlIixxPSJpbnNpZGVTdGFydCIsTT0iaW5zaWRlRW5kIixFPTEwLEM9NixlPW4uc2lnbmVkLEQsQix3O0cuc2V0QXR0cmlidXRlcyh7dGV4dDpyfSk7Ry5pc091dHNpZGU9ZmFsc2U7aWYoRil7aWYocD09ayl7aWYoYytDK2wuaGVpZ2h0PihPPj0wP2ItdS55OnUueSt1LmhlaWdodC1iKSl7cD1NfX1lbHNle2lmKGMrQz5sLmhlaWdodCl7cD1rO0cuaXNPdXRzaWRlPXRydWV9fUQ9bC54K2QvMjtCPXA9PXE/KGIrKChjLzIrMykqKE8+PTA/LTE6MSkpKTooTz49MD8obC55KygoYy8yKzMpKihwPT1rPy0xOjEpKSk6KGwueStsLmhlaWdodCsoKGMvMiszKSoocD09PWs/MTotMSkpKSl9ZWxzZXtpZihwPT1rKXtpZihhK0UrbC53aWR0aD4oTz49MD91LngrdS53aWR0aC1iOmItdS54KSl7cD1NfX1lbHNle2lmKGErRT5sLndpZHRoKXtwPWs7Ry5pc091dHNpZGU9dHJ1ZX19RD1wPT1xPyhiKygoYS8yKzUpKihPPj0wPzE6LTEpKSk6KE8+PTA/KGwueCtsLndpZHRoKygoYS8yKzUpKihwPT09az8xOi0xKSkpOihsLngrKChhLzIrNSkqKHA9PT1rPy0xOjEpKSkpO0I9bC55K2QvMn13PXt4OkQseTpCfTtpZihLKXt3LnJvdGF0ZT17eDpELHk6QixkZWdyZWVzOjI3MH19aWYoSCYmQSl7aWYoRil7RD1sLngrbC53aWR0aC8yO0I9Yn1lbHNle0Q9YjtCPWwueStsLmhlaWdodC8yfUcuc2V0QXR0cmlidXRlcyh7eDpELHk6Qn0sdHJ1ZSk7aWYoSyl7Ry5zZXRBdHRyaWJ1dGVzKHtyb3RhdGU6e3g6RCx5OkIsZGVncmVlczoyNzB9fSx0cnVlKX19aWYoSCl7bS5vbkFuaW1hdGUoRyx7dG86d30pfWVsc2V7Ry5zZXRBdHRyaWJ1dGVzKEV4dC5hcHBseSh3LHtoaWRkZW46ZmFsc2V9KSx0cnVlKX19LGdldExhYmVsU2l6ZTpmdW5jdGlvbihnKXt2YXIgaz10aGlzLnRlc3RlckxhYmVsLGE9dGhpcy5sYWJlbCxkPUV4dC5hcHBseSh7fSxhLHRoaXMuc2VyaWVzTGFiZWxTdHlsZXx8e30pLGI9YS5vcmllbnRhdGlvbj09PSJ2ZXJ0aWNhbCIsaixpLGUsYztpZighayl7az10aGlzLnRlc3RlckxhYmVsPXRoaXMuY2hhcnQuc3VyZmFjZS5hZGQoRXh0LmFwcGx5KHt0eXBlOiJ0ZXh0IixvcGFjaXR5OjB9LGQpKX1rLnNldEF0dHJpYnV0ZXMoe3RleHQ6Z30sdHJ1ZSk7aj1rLmdldEJCb3goKTtpPWoud2lkdGg7ZT1qLmhlaWdodDtyZXR1cm57d2lkdGg6Yj9lOmksaGVpZ2h0OmI/aTplfX0sb25BbmltYXRlOmZ1bmN0aW9uKGIsYSl7Yi5zaG93KCk7cmV0dXJuIHRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxpc0l0ZW1JblBvaW50OmZ1bmN0aW9uKGEsZCxiKXt2YXIgYz1iLnNwcml0ZS5nZXRCQm94KCk7cmV0dXJuIGMueDw9YSYmYy55PD1kJiYoYy54K2Mud2lkdGgpPj1hJiYoYy55K2MuaGVpZ2h0KT49ZH0saGlkZUFsbDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLmNoYXJ0LmF4ZXMsYz1lLml0ZW1zLGQ9Yy5sZW5ndGgsYj0wO2E9KGlzTmFOKHRoaXMuX2luZGV4KT9hOnRoaXMuX2luZGV4KXx8MDtpZighdGhpcy5fX2V4Y2x1ZGVzKXt0aGlzLl9fZXhjbHVkZXM9W119dGhpcy5fX2V4Y2x1ZGVzW2FdPXRydWU7dGhpcy5kcmF3U2VyaWVzKCk7Zm9yKGI7YjxkO2IrKyl7Y1tiXS5kcmF3QXhpcygpfX0sc2hvd0FsbDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLmNoYXJ0LmF4ZXMsYz1lLml0ZW1zLGQ9Yy5sZW5ndGgsYj0wO2E9KGlzTmFOKHRoaXMuX2luZGV4KT9hOnRoaXMuX2luZGV4KXx8MDtpZighdGhpcy5fX2V4Y2x1ZGVzKXt0aGlzLl9fZXhjbHVkZXM9W119dGhpcy5fX2V4Y2x1ZGVzW2FdPWZhbHNlO3RoaXMuZHJhd1NlcmllcygpO2ZvcihiO2I8ZDtiKyspe2NbYl0uZHJhd0F4aXMoKX19LGdldExlZ2VuZENvbG9yOmZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMsYj1jLmNvbG9yQXJyYXlTdHlsZS5sZW5ndGg7aWYoYy5zdHlsZSYmYy5zdHlsZS5maWxsKXtyZXR1cm4gYy5zdHlsZS5maWxsfWVsc2V7cmV0dXJuIGMuY29sb3JBcnJheVN0eWxlW2ElYl19fSxoaWdobGlnaHRJdGVtOmZ1bmN0aW9uKGEpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3RoaXMucmVuZGVyTGFiZWxzKCl9LHVuSGlnaGxpZ2h0SXRlbTpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3RoaXMucmVuZGVyTGFiZWxzKCl9LGNsZWFuSGlnaGxpZ2h0czpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3RoaXMucmVuZGVyTGFiZWxzKCl9fSk7RXh0LmRlZmluZSgiRXh0LmNoYXJ0LnNlcmllcy5Db2x1bW4iLHthbHRlcm5hdGVDbGFzc05hbWU6WyJFeHQuY2hhcnQuQ29sdW1uU2VyaWVzIiwiRXh0LmNoYXJ0LkNvbHVtbkNoYXJ0IiwiRXh0LmNoYXJ0LlN0YWNrZWRDb2x1bW5DaGFydCJdLGV4dGVuZDoiRXh0LmNoYXJ0LnNlcmllcy5CYXIiLHR5cGU6ImNvbHVtbiIsYWxpYXM6InNlcmllcy5jb2x1bW4iLGNvbHVtbjp0cnVlLHhQYWRkaW5nOjEwLHlQYWRkaW5nOjB9KTtFeHQuZGVmaW5lKCJFeHQuY2hhcnQuc2VyaWVzLkdhdWdlIix7ZXh0ZW5kOiJFeHQuY2hhcnQuc2VyaWVzLlNlcmllcyIsdHlwZToiZ2F1Z2UiLGFsaWFzOiJzZXJpZXMuZ2F1Z2UiLHJhZDpNYXRoLlBJLzE4MCxoaWdobGlnaHREdXJhdGlvbjoxNTAsYW5nbGVGaWVsZDpmYWxzZSxuZWVkbGU6ZmFsc2UsZG9udXQ6ZmFsc2Usc2hvd0luTGVnZW5kOmZhbHNlLHN0eWxlOnt9LGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGIpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3ZhciBoPXRoaXMsZz1oLmNoYXJ0LGE9Zy5zdXJmYWNlLGo9Zy5zdG9yZSxrPWcuc2hhZG93LGQsYyxlO0V4dC5hcHBseShoLGIse3NoYWRvd0F0dHJpYnV0ZXM6W3sic3Ryb2tlLXdpZHRoIjo2LCJzdHJva2Utb3BhY2l0eSI6MSxzdHJva2U6InJnYigyMDAsIDIwMCwgMjAwKSIsdHJhbnNsYXRlOnt4OjEuMix5OjJ9fSx7InN0cm9rZS13aWR0aCI6NCwic3Ryb2tlLW9wYWNpdHkiOjEsc3Ryb2tlOiJyZ2IoMTUwLCAxNTAsIDE1MCkiLHRyYW5zbGF0ZTp7eDowLjkseToxLjV9fSx7InN0cm9rZS13aWR0aCI6Miwic3Ryb2tlLW9wYWNpdHkiOjEsc3Ryb2tlOiJyZ2IoMTAwLCAxMDAsIDEwMCkiLHRyYW5zbGF0ZTp7eDowLjYseToxfX1dfSk7aC5ncm91cD1hLmdldEdyb3VwKGguc2VyaWVzSWQpO2lmKGspe2ZvcihkPTAsYz1oLnNoYWRvd0F0dHJpYnV0ZXMubGVuZ3RoO2Q8YztkKyspe2guc2hhZG93R3JvdXBzLnB1c2goYS5nZXRHcm91cChoLnNlcmllc0lkKyItc2hhZG93cyIrZCkpfX1hLmN1c3RvbUF0dHJpYnV0ZXMuc2VnbWVudD1mdW5jdGlvbihpKXtyZXR1cm4gaC5nZXRTZWdtZW50KGkpfX0saW5pdGlhbGl6ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMsYT1kLmNoYXJ0LmdldENoYXJ0U3RvcmUoKSxlPWEuZGF0YS5pdGVtcyxiLGMsZztkLnlGaWVsZD1bXTtpZihkLmxhYmVsLmZpZWxkKXtmb3IoYj0wLGM9ZS5sZW5ndGg7YjxjO2IrKyl7Zz1lW2JdO2QueUZpZWxkLnB1c2goZy5nZXQoZC5sYWJlbC5maWVsZCkpfX19LGdldFNlZ21lbnQ6ZnVuY3Rpb24oYil7dmFyIEM9dGhpcyxCPUMucmFkLGQ9TWF0aC5jb3MsYT1NYXRoLnNpbixuPU1hdGguYWJzLGs9Qy5jZW50ZXJYLGk9Qy5jZW50ZXJZLHc9MCx2PTAsdT0wLHM9MCxoPTAsZz0wLGU9MCxjPTAsej0wLjAxLG09Yi5lbmRSaG8tYi5zdGFydFJobyxxPWIuc3RhcnRBbmdsZSxwPWIuZW5kQW5nbGUsaj0ocStwKS8yKkIsbD1iLm1hcmdpbnx8MCx0PW4ocC1xKT4xODAsRD1NYXRoLm1pbihxLHApKkIsQT1NYXRoLm1heChxLHApKkIsbz1mYWxzZTtrKz1sKmQoaik7aSs9bCphKGopO3c9aytiLnN0YXJ0UmhvKmQoRCk7aD1pK2Iuc3RhcnRSaG8qYShEKTt2PWsrYi5lbmRSaG8qZChEKTtnPWkrYi5lbmRSaG8qYShEKTt1PWsrYi5zdGFydFJobypkKEEpO2U9aStiLnN0YXJ0UmhvKmEoQSk7cz1rK2IuZW5kUmhvKmQoQSk7Yz1pK2IuZW5kUmhvKmEoQSk7aWYobih3LXUpPD16JiZuKGgtZSk8PXope289dHJ1ZX1pZihvKXtyZXR1cm57cGF0aDpbWyJNIix3LGhdLFsiTCIsdixnXSxbIkEiLGIuZW5kUmhvLGIuZW5kUmhvLDAsK3QsMSxzLGNdLFsiWiJdXX19ZWxzZXtyZXR1cm57cGF0aDpbWyJNIix3LGhdLFsiTCIsdixnXSxbIkEiLGIuZW5kUmhvLGIuZW5kUmhvLDAsK3QsMSxzLGNdLFsiTCIsdSxlXSxbIkEiLGIuc3RhcnRSaG8sYi5zdGFydFJobywwLCt0LDAsdyxoXSxbIloiXV19fX0sY2FsY01pZGRsZTpmdW5jdGlvbihwKXt2YXIgaz10aGlzLGw9ay5yYWQsbz1wLnNsaWNlLG49ay5jZW50ZXJYLG09ay5jZW50ZXJZLGo9by5zdGFydEFuZ2xlLGU9by5lbmRBbmdsZSxpPU1hdGgubWF4KCgicmhvIiBpbiBvKT9vLnJobzprLnJhZGl1cyxrLmxhYmVsLm1pbk1hcmdpbiksaD0ray5kb251dCxiPU1hdGgubWluKGosZSkqbCxhPU1hdGgubWF4KGosZSkqbCxkPS0oYisoYS1iKS8yKSxnPW4rKHAuZW5kUmhvK3Auc3RhcnRSaG8pLzIqTWF0aC5jb3MoZCksYz1tLShwLmVuZFJobytwLnN0YXJ0UmhvKS8yKk1hdGguc2luKGQpO3AubWlkZGxlPXt4OmcseTpjfX0sZHJhd1NlcmllczpmdW5jdGlvbigpe3ZhciB3PXRoaXMsVz13LmNoYXJ0LGI9Vy5nZXRDaGFydFN0b3JlKCksQT13Lmdyb3VwLFM9dy5jaGFydC5hbmltYXRlLEQ9dy5jaGFydC5heGVzLmdldCgwKSxFPUQmJkQubWluaW11bXx8dy5taW5pbXVtfHwwLEk9RCYmRC5tYXhpbXVtfHx3Lm1heGltdW18fDAsbj13LmFuZ2xlRmllbGR8fHcuZmllbGR8fHcueEZpZWxkLE09Vy5zdXJmYWNlLEg9Vy5jaGFydEJCb3gsaD13LnJhZCxjPSt3LmRvbnV0LFg9e30sQj1bXSxtPXcuc2VyaWVzU3R5bGUsYT13LnNlcmllc0xhYmVsU3R5bGUsZz13LmNvbG9yQXJyYXlTdHlsZSx6PWcmJmcubGVuZ3RofHwwLEs9Vy5tYXhHdXR0ZXJbMF0sSj1XLm1heEd1dHRlclsxXSxrPU1hdGguY29zLHM9TWF0aC5zaW4sdCxlLGQsdixyLEMsTyxGLEcsTCxVLFQsbCxWLHgsbyxRLFIscSx5LHUsUCxOO0V4dC5hcHBseShtLHcuc3R5bGV8fHt9KTt3LnNldEJCb3goKTt5PXcuYmJveDtpZih3LmNvbG9yU2V0KXtnPXcuY29sb3JTZXQ7ej1nLmxlbmd0aH1pZighYnx8IWIuZ2V0Q291bnQoKXx8dy5zZXJpZXNJc0hpZGRlbil7dy5oaWRlKCk7dy5pdGVtcz1bXTtyZXR1cm59ZT13LmNlbnRlclg9SC54KyhILndpZHRoLzIpO2Q9dy5jZW50ZXJZPUgueStILmhlaWdodDt3LnJhZGl1cz1NYXRoLm1pbihlLUgueCxkLUgueSk7dy5zbGljZXM9cj1bXTt3Lml0ZW1zPUI9W107aWYoIXcudmFsdWUpe0w9Yi5nZXRBdCgwKTt3LnZhbHVlPUwuZ2V0KG4pfU89dy52YWx1ZTtpZih3Lm5lZWRsZSl7UD17c2VyaWVzOncsdmFsdWU6TyxzdGFydEFuZ2xlOi0xODAsZW5kQW5nbGU6MCxyaG86dy5yYWRpdXN9O3U9LTE4MCooMS0oTy1FKS8oSS1FKSk7ci5wdXNoKFApfWVsc2V7dT0tMTgwKigxLShPLUUpLyhJLUUpKTtQPXtzZXJpZXM6dyx2YWx1ZTpPLHN0YXJ0QW5nbGU6LTE4MCxlbmRBbmdsZTp1LHJobzp3LnJhZGl1c307Tj17c2VyaWVzOncsdmFsdWU6dy5tYXhpbXVtLU8sc3RhcnRBbmdsZTp1LGVuZEFuZ2xlOjAscmhvOncucmFkaXVzfTtyLnB1c2goUCxOKX1mb3IoVT0wLEc9ci5sZW5ndGg7VTxHO1UrKyl7dj1yW1VdO0M9QS5nZXRBdChVKTt0PUV4dC5hcHBseSh7c2VnbWVudDp7c3RhcnRBbmdsZTp2LnN0YXJ0QW5nbGUsZW5kQW5nbGU6di5lbmRBbmdsZSxtYXJnaW46MCxyaG86di5yaG8sc3RhcnRSaG86di5yaG8qK2MvMTAwLGVuZFJobzp2LnJob319LEV4dC5hcHBseShtLGcmJntmaWxsOmdbVSV6XX18fHt9KSk7Rj1FeHQuYXBwbHkoe30sdC5zZWdtZW50LHtzbGljZTp2LHNlcmllczp3LHN0b3JlSXRlbTpMLGluZGV4OlV9KTtCW1VdPUY7aWYoIUMpe3E9RXh0LmFwcGx5KHt0eXBlOiJwYXRoIixncm91cDpBfSxFeHQuYXBwbHkobSxnJiZ7ZmlsbDpnW1Ulel19fHx7fSkpO0M9TS5hZGQoRXh0LmFwcGx5KHEsdCkpfXYuc3ByaXRlPXYuc3ByaXRlfHxbXTtGLnNwcml0ZT1DO3Yuc3ByaXRlLnB1c2goQyk7aWYoUyl7dD13LnJlbmRlcmVyKEMsTCx0LFUsYik7Qy5fdG89dDt3Lm9uQW5pbWF0ZShDLHt0bzp0fSl9ZWxzZXt0PXcucmVuZGVyZXIoQyxMLEV4dC5hcHBseSh0LHtoaWRkZW46ZmFsc2V9KSxVLGIpO0Muc2V0QXR0cmlidXRlcyh0LHRydWUpfX1pZih3Lm5lZWRsZSl7dT11Kk1hdGguUEkvMTgwO2lmKCF3Lm5lZWRsZVNwcml0ZSl7dy5uZWVkbGVTcHJpdGU9dy5jaGFydC5zdXJmYWNlLmFkZCh7dHlwZToicGF0aCIscGF0aDpbIk0iLGUrKHcucmFkaXVzKitjLzEwMCkqayh1KSxkKy1NYXRoLmFicygody5yYWRpdXMqK2MvMTAwKSpzKHUpKSwiTCIsZSt3LnJhZGl1cyprKHUpLGQrLU1hdGguYWJzKHcucmFkaXVzKnModSkpXSwic3Ryb2tlLXdpZHRoIjo0LHN0cm9rZToiIzIyMiJ9KX1lbHNle2lmKFMpe3cub25BbmltYXRlKHcubmVlZGxlU3ByaXRlLHt0bzp7cGF0aDpbIk0iLGUrKHcucmFkaXVzKitjLzEwMCkqayh1KSxkKy1NYXRoLmFicygody5yYWRpdXMqK2MvMTAwKSpzKHUpKSwiTCIsZSt3LnJhZGl1cyprKHUpLGQrLU1hdGguYWJzKHcucmFkaXVzKnModSkpXX19KX1lbHNle3cubmVlZGxlU3ByaXRlLnNldEF0dHJpYnV0ZXMoe3R5cGU6InBhdGgiLHBhdGg6WyJNIixlKyh3LnJhZGl1cyorYy8xMDApKmsodSksZCstTWF0aC5hYnMoKHcucmFkaXVzKitjLzEwMCkqcyh1KSksIkwiLGUrdy5yYWRpdXMqayh1KSxkKy1NYXRoLmFicyh3LnJhZGl1cypzKHUpKV19KX19dy5uZWVkbGVTcHJpdGUuc2V0QXR0cmlidXRlcyh7aGlkZGVuOmZhbHNlfSx0cnVlKX1kZWxldGUgdy52YWx1ZX0sc2V0VmFsdWU6ZnVuY3Rpb24oYSl7dGhpcy52YWx1ZT1hO3RoaXMuZHJhd1NlcmllcygpfSxvbkNyZWF0ZUxhYmVsOmZ1bmN0aW9uKGMsYixhLGQpe30sb25QbGFjZUxhYmVsOmZ1bmN0aW9uKGMsZyxlLGQsaCxhLGIpe30sb25QbGFjZUNhbGxvdXQ6ZnVuY3Rpb24oKXt9LG9uQW5pbWF0ZTpmdW5jdGlvbihiLGEpe2Iuc2hvdygpO3JldHVybiB0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0saXNJdGVtSW5Qb2ludDpmdW5jdGlvbihsLGosbixlKXt2YXIgaD10aGlzLGQ9aC5jZW50ZXJYLGM9aC5jZW50ZXJZLHA9TWF0aC5hYnMsbz1wKGwtZCksbT1wKGotYyksZz1uLnN0YXJ0QW5nbGUsYT1uLmVuZEFuZ2xlLGs9TWF0aC5zcXJ0KG8qbyttKm0pLGI9TWF0aC5hdGFuMihqLWMsbC1kKS9oLnJhZDtyZXR1cm4oZT09PTApJiYoYj49ZyYmYjxhJiZrPj1uLnN0YXJ0UmhvJiZrPD1uLmVuZFJobyl9LHNob3dBbGw6ZnVuY3Rpb24oKXtpZighaXNOYU4odGhpcy5faW5kZXgpKXt0aGlzLl9fZXhjbHVkZXNbdGhpcy5faW5kZXhdPWZhbHNlO3RoaXMuZHJhd1NlcmllcygpfX0sZ2V0TGVnZW5kQ29sb3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztyZXR1cm4gYi5jb2xvckFycmF5U3R5bGVbYSViLmNvbG9yQXJyYXlTdHlsZS5sZW5ndGhdfX0pO0V4dC5kZWZpbmUoIkV4dC5jaGFydC5zZXJpZXMuTGluZSIse2V4dGVuZDoiRXh0LmNoYXJ0LnNlcmllcy5DYXJ0ZXNpYW4iLGFsdGVybmF0ZUNsYXNzTmFtZTpbIkV4dC5jaGFydC5MaW5lU2VyaWVzIiwiRXh0LmNoYXJ0LkxpbmVDaGFydCJdLHJlcXVpcmVzOlsiRXh0LmNoYXJ0LmF4aXMuQXhpcyIsIkV4dC5jaGFydC5TaGFwZSIsIkV4dC5kcmF3LkRyYXciLCJFeHQuZnguQW5pbSJdLHR5cGU6ImxpbmUiLGFsaWFzOiJzZXJpZXMubGluZSIsc2VsZWN0aW9uVG9sZXJhbmNlOjIwLHNob3dNYXJrZXJzOnRydWUsbWFya2VyQ29uZmlnOnt9LHN0eWxlOnt9LHNtb290aDpmYWxzZSxkZWZhdWx0U21vb3RobmVzczozLGZpbGw6ZmFsc2UsY29uc3RydWN0b3I6ZnVuY3Rpb24oYyl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dmFyIGU9dGhpcyxhPWUuY2hhcnQuc3VyZmFjZSxnPWUuY2hhcnQuc2hhZG93LGQsYjtjLmhpZ2hsaWdodENmZz1FeHQuT2JqZWN0Lm1lcmdlKHsic3Ryb2tlLXdpZHRoIjozfSxjLmhpZ2hsaWdodENmZyk7RXh0LmFwcGx5KGUsYyx7c2hhZG93QXR0cmlidXRlczpbeyJzdHJva2Utd2lkdGgiOjYsInN0cm9rZS1vcGFjaXR5IjowLjA1LHN0cm9rZToicmdiKDAsIDAsIDApIix0cmFuc2xhdGU6e3g6MSx5OjF9fSx7InN0cm9rZS13aWR0aCI6NCwic3Ryb2tlLW9wYWNpdHkiOjAuMSxzdHJva2U6InJnYigwLCAwLCAwKSIsdHJhbnNsYXRlOnt4OjEseToxfX0seyJzdHJva2Utd2lkdGgiOjIsInN0cm9rZS1vcGFjaXR5IjowLjE1LHN0cm9rZToicmdiKDAsIDAsIDApIix0cmFuc2xhdGU6e3g6MSx5OjF9fV19KTtlLmdyb3VwPWEuZ2V0R3JvdXAoZS5zZXJpZXNJZCk7aWYoZS5zaG93TWFya2Vycyl7ZS5tYXJrZXJHcm91cD1hLmdldEdyb3VwKGUuc2VyaWVzSWQrIi1tYXJrZXJzIil9aWYoZyl7Zm9yKGQ9MCxiPWUuc2hhZG93QXR0cmlidXRlcy5sZW5ndGg7ZDxiO2QrKyl7ZS5zaGFkb3dHcm91cHMucHVzaChhLmdldEdyb3VwKGUuc2VyaWVzSWQrIi1zaGFkb3dzIitkKSl9fX0sc2hyaW5rOmZ1bmN0aW9uKGIsayxsKXt2YXIgaD1iLmxlbmd0aCxqPU1hdGguZmxvb3IoaC9sKSxnPTEsZD0wLGE9MCxlPVsrYlswXV0sYz1bK2tbMF1dO2Zvcig7ZzxoOysrZyl7ZCs9K2JbZ118fDA7YSs9K2tbZ118fDA7aWYoZyVqPT0wKXtlLnB1c2goZC9qKTtjLnB1c2goYS9qKTtkPTA7YT0wfX1yZXR1cm57eDplLHk6Y319LGRyYXdTZXJpZXM6ZnVuY3Rpb24oKXt2YXIgYW49dGhpcyxhQT1hbi5jaGFydCxWPWFBLmF4ZXMsYXY9YUEuZ2V0Q2hhcnRTdG9yZSgpLEE9YXYuZGF0YS5pdGVtcyxhcixZPWF2LmdldENvdW50KCksdz1hbi5jaGFydC5zdXJmYWNlLGF1PXt9LFU9YW4uZ3JvdXAsTj1hbi5zaG93TWFya2VycyxhRz1hbi5tYXJrZXJHcm91cCxHPWFBLnNoYWRvdyxGPWFuLnNoYWRvd0dyb3VwcyxhYj1hbi5zaGFkb3dBdHRyaWJ1dGVzLFI9YW4uc21vb3RoLHI9Ri5sZW5ndGgsYXk9WyJNIl0sVz1bIk0iXSxkPVsiTSJdLGI9WyJNIl0sTT1hQS5tYXJrZXJJbmRleCxhbT1bXS5jb25jYXQoYW4uYXhpcyksYWwsYUI9W10sYWs9e30sYWU9W10sej17fSxMPWZhbHNlLFQ9W10sYUY9YW4ubWFya2VyU3R5bGUsYWQ9YW4uc2VyaWVzU3R5bGUsdj1hbi5jb2xvckFycmF5U3R5bGUsUz12JiZ2Lmxlbmd0aHx8MCxPPUV4dC5pc051bWJlcixhQz1hbi5zZXJpZXNJZHgsaD1hbi5nZXRBeGVzRm9yWEFuZFlGaWVsZHMoKSxtPWgueEF4aXMsYUU9aC55QXhpcyxhZyxrLGFmLGFoLEQsYyxhaSxLLEosZyxlLHUscyxhYSxRLFAsYXosbixJLEgsYUgsbyxxLEUsYSxhYyxhaixDLGF4LEIsYXcscCxhRCxhdCxhcSxYLGwsdCxhbyxhcCxaO2lmKGFuLmZpcmVFdmVudCgiYmVmb3JlZHJhdyIsYW4pPT09ZmFsc2Upe3JldHVybn1pZighWXx8YW4uc2VyaWVzSXNIaWRkZW4pe2FuLmhpZGUoKTthbi5pdGVtcz1bXTtpZihhbi5saW5lKXthbi5saW5lLmhpZGUodHJ1ZSk7aWYoYW4ubGluZS5zaGFkb3dzKXthZz1hbi5saW5lLnNoYWRvd3M7Zm9yKFA9MCxyPWFnLmxlbmd0aDtQPHI7UCsrKXtrPWFnW1BdO2suaGlkZSh0cnVlKX19aWYoYW4uZmlsbFBhdGgpe2FuLmZpbGxQYXRoLmhpZGUodHJ1ZSl9fWFuLmxpbmU9bnVsbDthbi5maWxsUGF0aD1udWxsO3JldHVybn1hdD1FeHQuYXBwbHkoYUZ8fHt9LGFuLm1hcmtlckNvbmZpZyx7ZmlsbDphbi5zZXJpZXNTdHlsZS5maWxsfHx2W2FDJXYubGVuZ3RoXX0pO1g9YXQudHlwZTtkZWxldGUgYXQudHlwZTthcT1hZDtpZighYXFbInN0cm9rZS13aWR0aCJdKXthcVsic3Ryb2tlLXdpZHRoIl09MC41fXQ9Im9wYWNpdHkiIGluIGFxP2FxLm9wYWNpdHk6MTtaPSJvcGFjaXR5IiBpbiBhcT9hcS5vcGFjaXR5OjAuMzthbz0ibGluZU9wYWNpdHkiIGluIGFxP2FxLmxpbmVPcGFjaXR5OnQ7YXA9ImZpbGxPcGFjaXR5IiBpbiBhcT9hcS5maWxsT3BhY2l0eTpaO2lmKE0mJmFHJiZhRy5nZXRDb3VudCgpKXtmb3IoUT0wO1E8TTtRKyspe0g9YUcuZ2V0QXQoUSk7YUcucmVtb3ZlKEgpO2FHLmFkZChIKTthSD1hRy5nZXRBdChhRy5nZXRDb3VudCgpLTIpO0guc2V0QXR0cmlidXRlcyh7eDowLHk6MCx0cmFuc2xhdGU6e3g6YUguYXR0ci50cmFuc2xhdGlvbi54LHk6YUguYXR0ci50cmFuc2xhdGlvbi55fX0sdHJ1ZSl9fWFuLnVuSGlnaGxpZ2h0SXRlbSgpO2FuLmNsZWFuSGlnaGxpZ2h0cygpO2FuLnNldEJCb3goKTthdT1hbi5iYm94O2FuLmNsaXBSZWN0PVthdS54LGF1LnksYXUud2lkdGgsYXUuaGVpZ2h0XTtpZihuPVYuZ2V0KG0pKXtJPW4uYXBwbHlEYXRhKCk7Qz1JLmZyb207YXg9SS50b31pZihuPVYuZ2V0KGFFKSl7ST1uLmFwcGx5RGF0YSgpO0I9SS5mcm9tO2F3PUkudG99aWYoYW4ueEZpZWxkJiYhRXh0LmlzTnVtYmVyKEMpKXtuPWFuLmdldE1pbk1heFhWYWx1ZXMoKTtDPW5bMF07YXg9blsxXX1pZihhbi55RmllbGQmJiFFeHQuaXNOdW1iZXIoQikpe249YW4uZ2V0TWluTWF4WVZhbHVlcygpO0I9blswXTthdz1uWzFdfWlmKGlzTmFOKEMpKXtDPTA7YWM9YXUud2lkdGgvKChZLTEpfHwxKX1lbHNle2FjPWF1LndpZHRoLygoYXgtQyl8fChZLTEpfHwxKX1pZihpc05hTihCKSl7Qj0wO2FqPWF1LmhlaWdodC8oKFktMSl8fDEpfWVsc2V7YWo9YXUuaGVpZ2h0LygoYXctQil8fChZLTEpfHwxKX1mb3IoUT0wLGF6PUEubGVuZ3RoO1E8YXo7USsrKXthcj1BW1FdO3E9YXIuZ2V0KGFuLnhGaWVsZCk7aWYodHlwZW9mIHE9PSJzdHJpbmcifHx0eXBlb2YgcT09Im9iamVjdCImJiFFeHQuaXNEYXRlKHEpfHxtJiZWLmdldChtKSYmVi5nZXQobSkudHlwZT09IkNhdGVnb3J5Iil7aWYocSBpbiBhayl7cT1ha1txXX1lbHNle3E9YWtbcV09UX19RT1hci5nZXQoYW4ueUZpZWxkKTtpZih0eXBlb2YgRT09InVuZGVmaW5lZCJ8fCh0eXBlb2YgRT09InN0cmluZyImJiFFKSl7Y29udGludWV9aWYodHlwZW9mIEU9PSJzdHJpbmcifHx0eXBlb2YgRT09Im9iamVjdCImJiFFeHQuaXNEYXRlKEUpfHxhRSYmVi5nZXQoYUUpJiZWLmdldChhRSkudHlwZT09IkNhdGVnb3J5Iil7RT1RfVQucHVzaChRKTthQi5wdXNoKHEpO2FlLnB1c2goRSl9YXo9YUIubGVuZ3RoO2lmKGF6PmF1LndpZHRoKXthPWFuLnNocmluayhhQixhZSxhdS53aWR0aCk7YUI9YS54O2FlPWEueX1hbi5pdGVtcz1bXTtsPTA7YXo9YUIubGVuZ3RoO2ZvcihRPTA7UTxhejtRKyspe3E9YUJbUV07RT1hZVtRXTtpZihFPT09ZmFsc2Upe2lmKFcubGVuZ3RoPT0xKXtXPVtdfUw9dHJ1ZTthbi5pdGVtcy5wdXNoKGZhbHNlKTtjb250aW51ZX1lbHNle0s9KGF1LngrKHEtQykqYWMpLnRvRml4ZWQoMik7Sj0oKGF1LnkrYXUuaGVpZ2h0KS0oRS1CKSphaikudG9GaXhlZCgyKTtpZihMKXtMPWZhbHNlO1cucHVzaCgiTSIpfVc9Vy5jb25jYXQoW0ssSl0pfWlmKCh0eXBlb2Ygcz09InVuZGVmaW5lZCIpJiYodHlwZW9mIEohPSJ1bmRlZmluZWQiKSl7cz1KO3U9S31pZighYW4ubGluZXx8YUEucmVzaXppbmcpe2F5PWF5LmNvbmNhdChbSyxhdS55K2F1LmhlaWdodC8yXSl9aWYoYUEuYW5pbWF0ZSYmYUEucmVzaXppbmcmJmFuLmxpbmUpe2FuLmxpbmUuc2V0QXR0cmlidXRlcyh7cGF0aDpheSxvcGFjaXR5OmFvfSx0cnVlKTtpZihhbi5maWxsUGF0aCl7YW4uZmlsbFBhdGguc2V0QXR0cmlidXRlcyh7cGF0aDpheSxvcGFjaXR5OmFwfSx0cnVlKX1pZihhbi5saW5lLnNoYWRvd3Mpe2FnPWFuLmxpbmUuc2hhZG93cztmb3IoUD0wLHI9YWcubGVuZ3RoO1A8cjtQKyspe2s9YWdbUF07ay5zZXRBdHRyaWJ1dGVzKHtwYXRoOmF5fSx0cnVlKX19fWlmKE4pe0g9YUcuZ2V0QXQobCsrKTtpZighSCl7SD1FeHQuY2hhcnQuU2hhcGVbWF0odyxFeHQuYXBwbHkoe2dyb3VwOltVLGFHXSx4OjAseTowLHRyYW5zbGF0ZTp7eDorKGd8fEspLHk6ZXx8KGF1LnkrYXUuaGVpZ2h0LzIpfSx2YWx1ZTonIicrcSsiLCAiK0UrJyInLHpJbmRleDo0MDAwfSxhdCkpO0guX3RvPXt0cmFuc2xhdGU6e3g6K0sseTorSn19fWVsc2V7SC5zZXRBdHRyaWJ1dGVzKHt2YWx1ZTonIicrcSsiLCAiK0UrJyInLHg6MCx5OjAsaGlkZGVuOmZhbHNlfSx0cnVlKTtILl90bz17dHJhbnNsYXRlOnt4OitLLHk6K0p9fX19YW4uaXRlbXMucHVzaCh7c2VyaWVzOmFuLHZhbHVlOltxLEVdLHBvaW50OltLLEpdLHNwcml0ZTpILHN0b3JlSXRlbTphdi5nZXRBdChUW1FdKX0pO2c9SztlPUp9aWYoVy5sZW5ndGg8PTEpe3JldHVybn1pZihhbi5zbW9vdGgpe2I9RXh0LmRyYXcuRHJhdy5zbW9vdGgoVyxPKFIpP1I6YW4uZGVmYXVsdFNtb290aG5lc3MpfWQ9Uj9iOlc7aWYoYUEubWFya2VySW5kZXgmJmFuLnByZXZpb3VzUGF0aCl7YWg9YW4ucHJldmlvdXNQYXRoO2lmKCFSKXtFeHQuQXJyYXkuZXJhc2UoYWgsMSwyKX19ZWxzZXthaD1XfWlmKCFhbi5saW5lKXthbi5saW5lPXcuYWRkKEV4dC5hcHBseSh7dHlwZToicGF0aCIsZ3JvdXA6VSxwYXRoOmF5LHN0cm9rZTphcS5zdHJva2V8fGFxLmZpbGx9LGFxfHx7fSkpO2FuLmxpbmUuc2V0QXR0cmlidXRlcyh7b3BhY2l0eTphb30sdHJ1ZSk7aWYoRyl7YW4ubGluZS5zZXRBdHRyaWJ1dGVzKEV4dC5hcHBseSh7fSxhbi5zaGFkb3dPcHRpb25zKSx0cnVlKX1hbi5saW5lLnNldEF0dHJpYnV0ZXMoe2ZpbGw6Im5vbmUiLHpJbmRleDozMDAwfSk7aWYoIWFxLnN0cm9rZSYmUyl7YW4ubGluZS5zZXRBdHRyaWJ1dGVzKHtzdHJva2U6dlthQyVTXX0sdHJ1ZSl9aWYoRyl7YWc9YW4ubGluZS5zaGFkb3dzPVtdO2ZvcihhZj0wO2FmPHI7YWYrKyl7YWw9YWJbYWZdO2FsPUV4dC5hcHBseSh7fSxhbCx7cGF0aDpheX0pO2s9dy5hZGQoRXh0LmFwcGx5KHt9LHt0eXBlOiJwYXRoIixncm91cDpGW2FmXX0sYWwpKTthZy5wdXNoKGspfX19aWYoYW4uZmlsbCl7Yz1kLmNvbmNhdChbWyJMIixLLGF1LnkrYXUuaGVpZ2h0XSxbIkwiLHUsYXUueSthdS5oZWlnaHRdLFsiTCIsdSxzXV0pO2lmKCFhbi5maWxsUGF0aCl7YW4uZmlsbFBhdGg9dy5hZGQoe2dyb3VwOlUsdHlwZToicGF0aCIsZmlsbDphcS5maWxsfHx2W2FDJVNdLHBhdGg6YXl9KX19YWE9TiYmYUcuZ2V0Q291bnQoKTtpZihhQS5hbmltYXRlKXtEPWFuLmZpbGw7cD1hbi5saW5lO2FpPWFuLnJlbmRlcmVyKHAsZmFsc2Use3BhdGg6ZH0sUSxhdik7RXh0LmFwcGx5KGFpLGFxfHx7fSx7c3Ryb2tlOmFxLnN0cm9rZXx8YXEuZmlsbH0pO2RlbGV0ZSBhaS5maWxsO3Auc2hvdyh0cnVlKTtpZihhQS5tYXJrZXJJbmRleCYmYW4ucHJldmlvdXNQYXRoKXthbi5hbmltYXRpb249YUQ9YW4ub25BbmltYXRlKHAse3RvOmFpLGZyb206e3BhdGg6YWh9fSl9ZWxzZXthbi5hbmltYXRpb249YUQ9YW4ub25BbmltYXRlKHAse3RvOmFpfSl9aWYoRyl7YWc9cC5zaGFkb3dzO2ZvcihQPTA7UDxyO1ArKyl7YWdbUF0uc2hvdyh0cnVlKTtpZihhQS5tYXJrZXJJbmRleCYmYW4ucHJldmlvdXNQYXRoKXthbi5vbkFuaW1hdGUoYWdbUF0se3RvOntwYXRoOmR9LGZyb206e3BhdGg6YWh9fSl9ZWxzZXthbi5vbkFuaW1hdGUoYWdbUF0se3RvOntwYXRoOmR9fSl9fX1pZihEKXthbi5maWxsUGF0aC5zaG93KHRydWUpO2FuLm9uQW5pbWF0ZShhbi5maWxsUGF0aCx7dG86RXh0LmFwcGx5KHt9LHtwYXRoOmMsZmlsbDphcS5maWxsfHx2W2FDJVNdLCJzdHJva2Utd2lkdGgiOjAsb3BhY2l0eTphcH0sYXF8fHt9KX0pfWlmKE4pe2w9MDtmb3IoUT0wO1E8YXo7USsrKXtpZihhbi5pdGVtc1tRXSl7bz1hRy5nZXRBdChsKyspO2lmKG8pe2FpPWFuLnJlbmRlcmVyKG8sYXYuZ2V0QXQoUSksby5fdG8sUSxhdik7YW4ub25BbmltYXRlKG8se3RvOkV4dC5hcHBseShhaSxhdHx8e30pfSk7by5zaG93KHRydWUpfX19Zm9yKDtsPGFhO2wrKyl7bz1hRy5nZXRBdChsKTtvLmhpZGUodHJ1ZSl9fX1lbHNle2FpPWFuLnJlbmRlcmVyKGFuLmxpbmUsZmFsc2Use3BhdGg6ZCxoaWRkZW46ZmFsc2V9LFEsYXYpO0V4dC5hcHBseShhaSxhcXx8e30se3N0cm9rZTphcS5zdHJva2V8fGFxLmZpbGx9KTtkZWxldGUgYWkuZmlsbDthbi5saW5lLnNldEF0dHJpYnV0ZXMoYWksdHJ1ZSk7YW4ubGluZS5zZXRBdHRyaWJ1dGVzKHtvcGFjaXR5OmFvfSx0cnVlKTtpZihHKXthZz1hbi5saW5lLnNoYWRvd3M7Zm9yKFA9MDtQPHI7UCsrKXthZ1tQXS5zZXRBdHRyaWJ1dGVzKHtwYXRoOmQsaGlkZGVuOmZhbHNlfSx0cnVlKX19aWYoYW4uZmlsbCl7YW4uZmlsbFBhdGguc2V0QXR0cmlidXRlcyh7cGF0aDpjLGhpZGRlbjpmYWxzZSxvcGFjaXR5OmFwfSx0cnVlKX1pZihOKXtsPTA7Zm9yKFE9MDtRPGF6O1ErKyl7aWYoYW4uaXRlbXNbUV0pe289YUcuZ2V0QXQobCsrKTtpZihvKXthaT1hbi5yZW5kZXJlcihvLGF2LmdldEF0KFEpLG8uX3RvLFEsYXYpO28uc2V0QXR0cmlidXRlcyhFeHQuYXBwbHkoYXR8fHt9LGFpfHx7fSksdHJ1ZSk7aWYoIW8uYXR0ci5oaWRkZW4pe28uc2hvdyh0cnVlKX19fX1mb3IoO2w8YWE7bCsrKXtvPWFHLmdldEF0KGwpO28uaGlkZSh0cnVlKX19fWlmKGFBLm1hcmtlckluZGV4KXtpZihhbi5zbW9vdGgpe0V4dC5BcnJheS5lcmFzZShXLDEsMil9ZWxzZXtFeHQuQXJyYXkuc3BsaWNlKFcsMSwwLFdbMV0sV1syXSl9YW4ucHJldmlvdXNQYXRoPVd9YW4ucmVuZGVyTGFiZWxzKCk7YW4ucmVuZGVyQ2FsbG91dHMoKTthbi5maXJlRXZlbnQoImRyYXciLGFuKX0sb25DcmVhdGVMYWJlbDpmdW5jdGlvbihkLGssYyxlKXt2YXIgZz10aGlzLGg9Zy5sYWJlbHNHcm91cCxhPWcubGFiZWwsaj1nLmJib3gsYj1FeHQuYXBwbHkoYSxnLnNlcmllc0xhYmVsU3R5bGUpO3JldHVybiBnLmNoYXJ0LnN1cmZhY2UuYWRkKEV4dC5hcHBseSh7dHlwZToidGV4dCIsInRleHQtYW5jaG9yIjoibWlkZGxlIixncm91cDpoLHg6ay5wb2ludFswXSx5OmoueStqLmhlaWdodC8yfSxifHx7fSkpfSxvblBsYWNlTGFiZWw6ZnVuY3Rpb24oZyxrLHMscCxvLGQpe3ZhciB1PXRoaXMsbD11LmNoYXJ0LHI9bC5yZXNpemluZyx0PXUubGFiZWwscT10LnJlbmRlcmVyLGI9dC5maWVsZCxhPXUuYmJveCxqPXMucG9pbnRbMF0saD1zLnBvaW50WzFdLGM9cy5zcHJpdGUuYXR0ci5yYWRpdXMsZSxuLG07Zy5zZXRBdHRyaWJ1dGVzKHt0ZXh0OnEoay5nZXQoYikpLGhpZGRlbjp0cnVlfSx0cnVlKTtpZihvPT0icm90YXRlIil7Zy5zZXRBdHRyaWJ1dGVzKHsidGV4dC1hbmNob3IiOiJzdGFydCIscm90YXRpb246e3g6aix5OmgsZGVncmVlczotNDV9fSx0cnVlKTtlPWcuZ2V0QkJveCgpO249ZS53aWR0aDttPWUuaGVpZ2h0O2o9ajxhLng/YS54Omo7aj0oaituPmEueCthLndpZHRoKT8oai0oaituLWEueC1hLndpZHRoKSk6ajtoPShoLW08YS55KT9hLnkrbTpofWVsc2V7aWYobz09InVuZGVyInx8bz09Im92ZXIiKXtlPXMuc3ByaXRlLmdldEJCb3goKTtlLndpZHRoPWUud2lkdGh8fChjKjIpO2UuaGVpZ2h0PWUuaGVpZ2h0fHwoYyoyKTtoPWgrKG89PSJvdmVyIj8tZS5oZWlnaHQ6ZS5oZWlnaHQpO2U9Zy5nZXRCQm94KCk7bj1lLndpZHRoLzI7bT1lLmhlaWdodC8yO2o9ai1uPGEueD9hLngrbjpqO2o9KGorbj5hLngrYS53aWR0aCk/KGotKGorbi1hLngtYS53aWR0aCkpOmo7aD1oLW08YS55P2EueSttOmg7aD0oaCttPmEueSthLmhlaWdodCk/KGgtKGgrbS1hLnktYS5oZWlnaHQpKTpofX1pZih1LmNoYXJ0LmFuaW1hdGUmJiF1LmNoYXJ0LnJlc2l6aW5nKXtnLnNob3codHJ1ZSk7dS5vbkFuaW1hdGUoZyx7dG86e3g6aix5Omh9fSl9ZWxzZXtnLnNldEF0dHJpYnV0ZXMoe3g6aix5Omh9LHRydWUpO2lmKHImJnUuYW5pbWF0aW9uKXt1LmFuaW1hdGlvbi5vbigiYWZ0ZXJhbmltYXRlIixmdW5jdGlvbigpe2cuc2hvdyh0cnVlKX0pfWVsc2V7Zy5zaG93KHRydWUpfX19LGhpZ2hsaWdodEl0ZW06ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGEubGluZSYmIWEuaGlnaGxpZ2h0ZWQpe2lmKCEoIl9fc3Ryb2tlV2lkdGgiIGluIGEubGluZSkpe2EubGluZS5fX3N0cm9rZVdpZHRoPXBhcnNlRmxvYXQoYS5saW5lLmF0dHJbInN0cm9rZS13aWR0aCJdKXx8MH1pZihhLmxpbmUuX19hbmltKXthLmxpbmUuX19hbmltLnBhdXNlZD10cnVlfWEubGluZS5fX2FuaW09RXh0LmNyZWF0ZSgiRXh0LmZ4LkFuaW0iLHt0YXJnZXQ6YS5saW5lLHRvOnsic3Ryb2tlLXdpZHRoIjphLmxpbmUuX19zdHJva2VXaWR0aCszfX0pO2EuaGlnaGxpZ2h0ZWQ9dHJ1ZX19LHVuSGlnaGxpZ2h0SXRlbTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYS5saW5lJiZhLmhpZ2hsaWdodGVkKXthLmxpbmUuX19hbmltPUV4dC5jcmVhdGUoIkV4dC5meC5BbmltIix7dGFyZ2V0OmEubGluZSx0bzp7InN0cm9rZS13aWR0aCI6YS5saW5lLl9fc3Ryb2tlV2lkdGh9fSk7YS5oaWdobGlnaHRlZD1mYWxzZX19LG9uUGxhY2VDYWxsb3V0OmZ1bmN0aW9uKG0scixKLEcsRixkLGspe2lmKCFGKXtyZXR1cm59dmFyIE09dGhpcyxzPU0uY2hhcnQsRD1zLnN1cmZhY2UsSD1zLnJlc2l6aW5nLEw9TS5jYWxsb3V0cyx0PU0uaXRlbXMsdj1HPT0wP2ZhbHNlOnRbRy0xXS5wb2ludCx6PShHPT10Lmxlbmd0aC0xKT9mYWxzZTp0W0crMV0ucG9pbnQsYz1bK0oucG9pbnRbMF0sK0oucG9pbnRbMV1dLEEsZyxOLEssbyxxLEk9TC5vZmZzZXRGcm9tVml6fHwzMCxDPUwub2Zmc2V0VG9TaWRlfHwxMCxCPUwub2Zmc2V0Qm94fHwzLGgsZSxqLHcsdSxFPU0uY2xpcFJlY3QsYj17d2lkdGg6TC5zdHlsZXMud2lkdGh8fDEwLGhlaWdodDpMLnN0eWxlcy5oZWlnaHR8fDEwfSxuLGw7aWYoIXYpe3Y9Y31pZigheil7ej1jfUs9KHpbMV0tdlsxXSkvKHpbMF0tdlswXSk7bz0oY1sxXS12WzFdKS8oY1swXS12WzBdKTtxPSh6WzFdLWNbMV0pLyh6WzBdLWNbMF0pO2c9TWF0aC5zcXJ0KDErSypLKTtBPVsxL2csSy9nXTtOPVstQVsxXSxBWzBdXTtpZihvPjAmJnE8MCYmTlsxXTwwfHxvPDAmJnE+MCYmTlsxXT4wKXtOWzBdKj0tMTtOWzFdKj0tMX1lbHNle2lmKE1hdGguYWJzKG8pPE1hdGguYWJzKHEpJiZOWzBdPDB8fE1hdGguYWJzKG8pPk1hdGguYWJzKHEpJiZOWzBdPjApe05bMF0qPS0xO05bMV0qPS0xfX1uPWNbMF0rTlswXSpJO2w9Y1sxXStOWzFdKkk7aD1uKyhOWzBdPjA/MDotKGIud2lkdGgrMipCKSk7ZT1sLWIuaGVpZ2h0LzItQjtqPWIud2lkdGgrMipCO3c9Yi5oZWlnaHQrMipCO2lmKGg8RVswXXx8KGgraik+KEVbMF0rRVsyXSkpe05bMF0qPS0xfWlmKGU8RVsxXXx8KGUrdyk+KEVbMV0rRVszXSkpe05bMV0qPS0xfW49Y1swXStOWzBdKkk7bD1jWzFdK05bMV0qSTtoPW4rKE5bMF0+MD8wOi0oYi53aWR0aCsyKkIpKTtlPWwtYi5oZWlnaHQvMi1CO2o9Yi53aWR0aCsyKkI7dz1iLmhlaWdodCsyKkI7aWYocy5hbmltYXRlKXtNLm9uQW5pbWF0ZShtLmxpbmVzLHt0bzp7cGF0aDpbIk0iLGNbMF0sY1sxXSwiTCIsbixsLCJaIl19fSk7aWYobS5wYW5lbCl7bS5wYW5lbC5zZXRQb3NpdGlvbihoLGUsdHJ1ZSl9fWVsc2V7bS5saW5lcy5zZXRBdHRyaWJ1dGVzKHtwYXRoOlsiTSIsY1swXSxjWzFdLCJMIixuLGwsIloiXX0sdHJ1ZSk7aWYobS5wYW5lbCl7bS5wYW5lbC5zZXRQb3NpdGlvbihoLGUpfX1mb3IodSBpbiBtKXttW3VdLnNob3codHJ1ZSl9fSxpc0l0ZW1JblBvaW50OmZ1bmN0aW9uKGosZyxBLHEpe3ZhciBDPXRoaXMsbj1DLml0ZW1zLHM9Qy5zZWxlY3Rpb25Ub2xlcmFuY2Usaz1udWxsLHosYyxwLHYsaCx3LGIsdCxhLGwsQixlLGQsbyx1LHIsRD1NYXRoLnNxcnQsbT1NYXRoLmFicztjPW5bcV07ej1xJiZuW3EtMV07aWYocT49aCl7ej1uW2gtMV19cD16JiZ6LnBvaW50O3Y9YyYmYy5wb2ludDt3PXo/cFswXTp2WzBdLXM7Yj16P3BbMV06dlsxXTt0PWM/dlswXTpwWzBdK3M7YT1jP3ZbMV06cFsxXTtlPUQoKGotdykqKGotdykrKGctYikqKGctYikpO2Q9RCgoai10KSooai10KSsoZy1hKSooZy1hKSk7bz1NYXRoLm1pbihlLGQpO2lmKG88PXMpe3JldHVybiBvPT1lP3o6Y31yZXR1cm4gZmFsc2V9LHRvZ2dsZUFsbDpmdW5jdGlvbihhKXt2YXIgZT10aGlzLGIsZCxnLGM7aWYoIWEpe0V4dC5jaGFydC5zZXJpZXMuQ2FydGVzaWFuLnByb3RvdHlwZS5oaWRlQWxsLmNhbGwoZSl9ZWxzZXtFeHQuY2hhcnQuc2VyaWVzLkNhcnRlc2lhbi5wcm90b3R5cGUuc2hvd0FsbC5jYWxsKGUpfWlmKGUubGluZSl7ZS5saW5lLnNldEF0dHJpYnV0ZXMoe2hpZGRlbjohYX0sdHJ1ZSk7aWYoZS5saW5lLnNoYWRvd3Mpe2ZvcihiPTAsYz1lLmxpbmUuc2hhZG93cyxkPWMubGVuZ3RoO2I8ZDtiKyspe2c9Y1tiXTtnLnNldEF0dHJpYnV0ZXMoe2hpZGRlbjohYX0sdHJ1ZSl9fX1pZihlLmZpbGxQYXRoKXtlLmZpbGxQYXRoLnNldEF0dHJpYnV0ZXMoe2hpZGRlbjohYX0sdHJ1ZSl9fSxoaWRlQWxsOmZ1bmN0aW9uKCl7dGhpcy50b2dnbGVBbGwoZmFsc2UpfSxzaG93QWxsOmZ1bmN0aW9uKCl7dGhpcy50b2dnbGVBbGwodHJ1ZSl9fSk7RXh0LmRlZmluZSgiRXh0LmNoYXJ0LnNlcmllcy5QaWUiLHthbHRlcm5hdGVDbGFzc05hbWU6WyJFeHQuY2hhcnQuUGllU2VyaWVzIiwiRXh0LmNoYXJ0LlBpZUNoYXJ0Il0sZXh0ZW5kOiJFeHQuY2hhcnQuc2VyaWVzLlNlcmllcyIsdHlwZToicGllIixhbGlhczoic2VyaWVzLnBpZSIsYWNjdXJhY3k6MTAwMDAwLHJhZDpNYXRoLlBJKjIvMTAwMDAwLGhpZ2hsaWdodER1cmF0aW9uOjE1MCxhbmdsZUZpZWxkOmZhbHNlLGxlbmd0aEZpZWxkOmZhbHNlLGRvbnV0OmZhbHNlLHNob3dJbkxlZ2VuZDpmYWxzZSxzdHlsZTp7fSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihiKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt2YXIgaD10aGlzLGc9aC5jaGFydCxhPWcuc3VyZmFjZSxqPWcuc3RvcmUsaz1nLnNoYWRvdyxkLGMsZTtiLmhpZ2hsaWdodENmZz1FeHQubWVyZ2Uoe3NlZ21lbnQ6e21hcmdpbjoyMH19LGIuaGlnaGxpZ2h0Q2ZnKTtFeHQuYXBwbHkoaCxiLHtzaGFkb3dBdHRyaWJ1dGVzOlt7InN0cm9rZS13aWR0aCI6Niwic3Ryb2tlLW9wYWNpdHkiOjEsc3Ryb2tlOiJyZ2IoMjAwLCAyMDAsIDIwMCkiLHRyYW5zbGF0ZTp7eDoxLjIseToyfX0seyJzdHJva2Utd2lkdGgiOjQsInN0cm9rZS1vcGFjaXR5IjoxLHN0cm9rZToicmdiKDE1MCwgMTUwLCAxNTApIix0cmFuc2xhdGU6e3g6MC45LHk6MS41fX0seyJzdHJva2Utd2lkdGgiOjIsInN0cm9rZS1vcGFjaXR5IjoxLHN0cm9rZToicmdiKDEwMCwgMTAwLCAxMDApIix0cmFuc2xhdGU6e3g6MC42LHk6MX19XX0pO2guZ3JvdXA9YS5nZXRHcm91cChoLnNlcmllc0lkKTtpZihrKXtmb3IoZD0wLGM9aC5zaGFkb3dBdHRyaWJ1dGVzLmxlbmd0aDtkPGM7ZCsrKXtoLnNoYWRvd0dyb3Vwcy5wdXNoKGEuZ2V0R3JvdXAoaC5zZXJpZXNJZCsiLXNoYWRvd3MiK2QpKX19YS5jdXN0b21BdHRyaWJ1dGVzLnNlZ21lbnQ9ZnVuY3Rpb24obCl7dmFyIGk9aC5nZXRTZWdtZW50KGwpO2lmKCFpLnBhdGh8fGkucGF0aC5sZW5ndGg9PT0wKXtpLnBhdGg9WyJNIiwwLDBdfXJldHVybiBpfTtoLl9fZXhjbHVkZXM9aC5fX2V4Y2x1ZGVzfHxbXX0saW5pdGlhbGl6ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMsYT1kLmNoYXJ0LmdldENoYXJ0U3RvcmUoKSxlPWEuZGF0YS5pdGVtcyxiLGMsZztkLnlGaWVsZD1bXTtpZihkLmxhYmVsLmZpZWxkKXtmb3IoYj0wLGM9ZS5sZW5ndGg7YjxjO2IrKyl7Zz1lW2JdO2QueUZpZWxkLnB1c2goZy5nZXQoZC5sYWJlbC5maWVsZCkpfX19LGdldFNlZ21lbnQ6ZnVuY3Rpb24oZCl7dmFyIEo9dGhpcyxJPUoucmFkLGk9TWF0aC5jb3MsYT1NYXRoLnNpbixwPUouY2VudGVyWCxuPUouY2VudGVyWSxFPTAsRD0wLEM9MCxBPTAsbD0wLGs9MCxqPTAsZz0wLHc9MCxjPTAsdj0wLGI9MCxHPTAuMDEsej1kLnN0YXJ0QW5nbGUsdT1kLmVuZEFuZ2xlLG89KHordSkvMipJLHI9ZC5tYXJnaW58fDAsSz1NYXRoLm1pbih6LHUpKkksSD1NYXRoLm1heCh6LHUpKkksdD1pKEspLGg9YShLKSxzPWkoSCksZT1hKEgpLG09aShvKSxGPWEobyksQj0wLHE9MC43MDcxMDY3ODExODY1NDc2O2lmKEgtSzxHKXtyZXR1cm57cGF0aDoiIn19aWYociE9PTApe3ArPXIqbTtuKz1yKkZ9RD1wK2QuZW5kUmhvKnQ7az1uK2QuZW5kUmhvKmg7QT1wK2QuZW5kUmhvKnM7Zz1uK2QuZW5kUmhvKmU7dj1wK2QuZW5kUmhvKm07Yj1uK2QuZW5kUmhvKkY7aWYoZC5zdGFydFJobyE9PTApe0U9cCtkLnN0YXJ0UmhvKnQ7bD1uK2Quc3RhcnRSaG8qaDtDPXArZC5zdGFydFJobypzO2o9bitkLnN0YXJ0UmhvKmU7dz1wK2Quc3RhcnRSaG8qbTtjPW4rZC5zdGFydFJobypGO3JldHVybntwYXRoOltbIk0iLEQsa10sWyJBIixkLmVuZFJobyxkLmVuZFJobywwLDAsMSx2LGJdLFsiTCIsdixiXSxbIkEiLGQuZW5kUmhvLGQuZW5kUmhvLDAsQiwxLEEsZ10sWyJMIixBLGddLFsiTCIsQyxqXSxbIkEiLGQuc3RhcnRSaG8sZC5zdGFydFJobywwLEIsMCx3LGNdLFsiTCIsdyxjXSxbIkEiLGQuc3RhcnRSaG8sZC5zdGFydFJobywwLDAsMCxFLGxdLFsiTCIsRSxsXSxbIloiXV19fWVsc2V7cmV0dXJue3BhdGg6W1siTSIscCxuXSxbIkwiLEQsa10sWyJBIixkLmVuZFJobyxkLmVuZFJobywwLDAsMSx2LGJdLFsiTCIsdixiXSxbIkEiLGQuZW5kUmhvLGQuZW5kUmhvLDAsQiwxLEEsZ10sWyJMIixBLGddLFsiTCIscCxuXSxbIloiXV19fX0sY2FsY01pZGRsZTpmdW5jdGlvbihuKXt2YXIgaT10aGlzLGo9aS5yYWQsbT1uLnNsaWNlLGw9aS5jZW50ZXJYLGs9aS5jZW50ZXJZLGg9bS5zdGFydEFuZ2xlLGQ9bS5lbmRBbmdsZSxnPStpLmRvbnV0LGM9LShoK2QpKmovMixhPShuLmVuZFJobytuLnN0YXJ0UmhvKS8yLGU9bCthKk1hdGguY29zKGMpLGI9ay1hKk1hdGguc2luKGMpO24ubWlkZGxlPXt4OmUseTpifX0sZHJhd1NlcmllczpmdW5jdGlvbigpe3ZhciBzPXRoaXMsYT1zLmNoYXJ0LmdldENoYXJ0U3RvcmUoKSxXPWEuZGF0YS5pdGVtcyxJLHg9cy5ncm91cCxTPXMuY2hhcnQuYW5pbWF0ZSxrPXMuYW5nbGVGaWVsZHx8cy5maWVsZHx8cy54RmllbGQsQT1bXS5jb25jYXQocy5sZW5ndGhGaWVsZCksUj0wLFg9cy5jaGFydCxKPVguc3VyZmFjZSxHPVguY2hhcnRCQm94LGc9WC5zaGFkb3csUT1zLnNoYWRvd0dyb3VwcyxQPXMuc2hhZG93QXR0cmlidXRlcyxhYT1RLmxlbmd0aCxLPUEubGVuZ3RoLEI9MCxiPStzLmRvbnV0LFo9W10seT1bXSx1PTAsTT0wLHQ9MCxoPXMuc2VyaWVzU3R5bGUsZT1zLmNvbG9yQXJyYXlTdHlsZSx3PWUmJmUubGVuZ3RofHwwLG8sWSxDLEgsRSxkLGMscSxsPTAscixuLHosTCxELGFiLEYsVSxULFYsTixPLG0sdjtFeHQuYXBwbHkoaCxzLnN0eWxlfHx7fSk7cy5zZXRCQm94KCk7dj1zLmJib3g7aWYocy5jb2xvclNldCl7ZT1zLmNvbG9yU2V0O3c9ZS5sZW5ndGh9aWYoIWF8fCFhLmdldENvdW50KCl8fHMuc2VyaWVzSXNIaWRkZW4pe3MuaGlkZSgpO3MuaXRlbXM9W107cmV0dXJufXMudW5IaWdobGlnaHRJdGVtKCk7cy5jbGVhbkhpZ2hsaWdodHMoKTtkPXMuY2VudGVyWD1HLngrKEcud2lkdGgvMik7Yz1zLmNlbnRlclk9Ry55KyhHLmhlaWdodC8yKTtzLnJhZGl1cz1NYXRoLm1pbihkLUcueCxjLUcueSk7cy5zbGljZXM9bj1bXTtzLml0ZW1zPXk9W107Zm9yKFU9MCxGPVcubGVuZ3RoO1U8RjtVKyspe0k9V1tVXTtpZih0aGlzLl9fZXhjbHVkZXMmJnRoaXMuX19leGNsdWRlc1tVXSl7Y29udGludWV9dSs9K0kuZ2V0KGspO2lmKEFbMF0pe2ZvcihUPTAsUj0wO1Q8SztUKyspe1IrPStJLmdldChBW1RdKX1aW1VdPVI7TT1NYXRoLm1heChNLFIpfX11PXV8fDE7Zm9yKFU9MCxGPVcubGVuZ3RoO1U8RjtVKyspe0k9V1tVXTtpZih0aGlzLl9fZXhjbHVkZXMmJnRoaXMuX19leGNsdWRlc1tVXSl7TD0wfWVsc2V7TD1JLmdldChrKTtpZihsPT0wKXtsPTF9fWlmKGw9PTEpe2w9MjtzLmZpcnN0QW5nbGU9dD1zLmFjY3VyYWN5KkwvdS8yO2ZvcihUPTA7VDxVO1QrKyl7bltUXS5zdGFydEFuZ2xlPW5bVF0uZW5kQW5nbGU9cy5maXJzdEFuZ2xlfX1WPXQtcy5hY2N1cmFjeSpML3U7cj17c2VyaWVzOnMsdmFsdWU6TCxzdGFydEFuZ2xlOnQsZW5kQW5nbGU6VixzdG9yZUl0ZW06SX07aWYoQVswXSl7YWI9K1pbVV07ci5yaG89TWF0aC5mbG9vcihzLnJhZGl1cy9NKmFiKX1lbHNle3IucmhvPXMucmFkaXVzfW5bVV09cjsoZnVuY3Rpb24oKXt0PVZ9KSgpfWlmKGcpe2ZvcihVPTAsRj1uLmxlbmd0aDtVPEY7VSsrKXtyPW5bVV07ci5zaGFkb3dBdHRycz1bXTtmb3IoVD0wLEI9MCxDPVtdO1Q8SztUKyspe3o9eC5nZXRBdChVKksrVCk7cT1BW1RdP2EuZ2V0QXQoVSkuZ2V0KEFbVF0pL1pbVV0qci5yaG86ci5yaG87bz17c2VnbWVudDp7c3RhcnRBbmdsZTpyLnN0YXJ0QW5nbGUsZW5kQW5nbGU6ci5lbmRBbmdsZSxtYXJnaW46MCxyaG86ci5yaG8sc3RhcnRSaG86QisocSpiLzEwMCksZW5kUmhvOkIrcX0saGlkZGVuOiFyLnZhbHVlJiYoci5zdGFydEFuZ2xlJXMuYWNjdXJhY3kpPT0oci5lbmRBbmdsZSVzLmFjY3VyYWN5KX07Zm9yKEU9MCxDPVtdO0U8YWE7RSsrKXtZPVBbRV07SD1RW0VdLmdldEF0KFUpO2lmKCFIKXtIPVguc3VyZmFjZS5hZGQoRXh0LmFwcGx5KHt9LHt0eXBlOiJwYXRoIixncm91cDpRW0VdLHN0cm9rZUxpbmVqb2luOiJyb3VuZCJ9LG8sWSkpfWlmKFMpe1k9cy5yZW5kZXJlcihILGEuZ2V0QXQoVSksRXh0LmFwcGx5KHt9LG8sWSksVSxhKTtzLm9uQW5pbWF0ZShILHt0bzpZfSl9ZWxzZXtZPXMucmVuZGVyZXIoSCxhLmdldEF0KFUpLFksVSxhKTtILnNldEF0dHJpYnV0ZXMoWSx0cnVlKX1DLnB1c2goSCl9ci5zaGFkb3dBdHRyc1tUXT1DfX19Zm9yKFU9MCxGPW4ubGVuZ3RoO1U8RjtVKyspe3I9bltVXTtmb3IoVD0wLEI9MDtUPEs7VCsrKXt6PXguZ2V0QXQoVSpLK1QpO3E9QVtUXT9hLmdldEF0KFUpLmdldChBW1RdKS9aW1VdKnIucmhvOnIucmhvO289RXh0LmFwcGx5KHtzZWdtZW50OntzdGFydEFuZ2xlOnIuc3RhcnRBbmdsZSxlbmRBbmdsZTpyLmVuZEFuZ2xlLG1hcmdpbjowLHJobzpyLnJobyxzdGFydFJobzpCKyhxKmIvMTAwKSxlbmRSaG86QitxfSxoaWRkZW46KCFyLnZhbHVlJiYoci5zdGFydEFuZ2xlJXMuYWNjdXJhY3kpPT0oci5lbmRBbmdsZSVzLmFjY3VyYWN5KSl9LEV4dC5hcHBseShoLGUmJntmaWxsOmVbKEs+MT9UOlUpJXddfXx8e30pKTtEPUV4dC5hcHBseSh7fSxvLnNlZ21lbnQse3NsaWNlOnIsc2VyaWVzOnMsc3RvcmVJdGVtOnIuc3RvcmVJdGVtLGluZGV4OlV9KTtzLmNhbGNNaWRkbGUoRCk7aWYoZyl7RC5zaGFkb3dzPXIuc2hhZG93QXR0cnNbVF19eVtVXT1EO2lmKCF6KXttPUV4dC5hcHBseSh7dHlwZToicGF0aCIsZ3JvdXA6eCxtaWRkbGU6RC5taWRkbGV9LEV4dC5hcHBseShoLGUmJntmaWxsOmVbKEs+MT9UOlUpJXddfXx8e30pKTt6PUouYWRkKEV4dC5hcHBseShtLG8pKX1yLnNwcml0ZT1yLnNwcml0ZXx8W107RC5zcHJpdGU9ejtyLnNwcml0ZS5wdXNoKHopO3IucG9pbnQ9W0QubWlkZGxlLngsRC5taWRkbGUueV07aWYoUyl7bz1zLnJlbmRlcmVyKHosYS5nZXRBdChVKSxvLFUsYSk7ei5fdG89bzt6Ll9hbmltYXRpbmc9dHJ1ZTtzLm9uQW5pbWF0ZSh6LHt0bzpvLGxpc3RlbmVyczp7YWZ0ZXJhbmltYXRlOntmbjpmdW5jdGlvbigpe3RoaXMuX2FuaW1hdGluZz1mYWxzZX0sc2NvcGU6en19fSl9ZWxzZXtvPXMucmVuZGVyZXIoeixhLmdldEF0KFUpLEV4dC5hcHBseShvLHtoaWRkZW46ZmFsc2V9KSxVLGEpO3ouc2V0QXR0cmlidXRlcyhvLHRydWUpfUIrPXF9fUY9eC5nZXRDb3VudCgpO2ZvcihVPTA7VTxGO1UrKyl7aWYoIW5bKFUvSyk+PjBdJiZ4LmdldEF0KFUpKXt4LmdldEF0KFUpLmhpZGUodHJ1ZSl9fWlmKGcpe2FhPVEubGVuZ3RoO2ZvcihFPTA7RTxGO0UrKyl7aWYoIW5bKEUvSyk+PjBdKXtmb3IoVD0wO1Q8YWE7VCsrKXtpZihRW1RdLmdldEF0KEUpKXtRW1RdLmdldEF0KEUpLmhpZGUodHJ1ZSl9fX19fXMucmVuZGVyTGFiZWxzKCk7cy5yZW5kZXJDYWxsb3V0cygpfSxvbkNyZWF0ZUxhYmVsOmZ1bmN0aW9uKGcsbCxlLGgpe3ZhciBqPXRoaXMsaz1qLmxhYmVsc0dyb3VwLGE9ai5sYWJlbCxkPWouY2VudGVyWCxjPWouY2VudGVyWSxtPWwubWlkZGxlLGI9RXh0LmFwcGx5KGouc2VyaWVzTGFiZWxTdHlsZXx8e30sYXx8e30pO3JldHVybiBqLmNoYXJ0LnN1cmZhY2UuYWRkKEV4dC5hcHBseSh7dHlwZToidGV4dCIsInRleHQtYW5jaG9yIjoibWlkZGxlIixncm91cDprLHg6bS54LHk6bS55fSxiKSl9LG9uUGxhY2VMYWJlbDpmdW5jdGlvbihrLHAseix0LHMsZSxnKXt2YXIgQj10aGlzLHE9Qi5jaGFydCx3PXEucmVzaXppbmcsQT1CLmxhYmVsLHU9QS5yZW5kZXJlcixjPVtdLmNvbmNhdChBLmZpZWxkKSxtPUIuY2VudGVyWCxsPUIuY2VudGVyWSxDPXoubWlkZGxlLGI9e3g6Qy54LHk6Qy55fSxvPUMueC1tLG49Qy55LWwscj17fSxkPTEsaj1NYXRoLmF0YW4yKG4sb3x8MSksdj1qKjE4MC9NYXRoLlBJLGg7Yi5oaWRkZW49ZmFsc2U7aWYodGhpcy5fX2V4Y2x1ZGVzJiZ0aGlzLl9fZXhjbHVkZXNbdF0pe2IuaGlkZGVuPXRydWV9ZnVuY3Rpb24gYShpKXtpZihpPDApe2krPTM2MH1yZXR1cm4gaSUzNjB9ay5zZXRBdHRyaWJ1dGVzKHt0ZXh0OnUocC5nZXQoY1tnXSkpfSx0cnVlKTtzd2l0Y2gocyl7Y2FzZSJvdXRzaWRlIjpkPU1hdGguc3FydChvKm8rbipuKSoyO2IueD1kKk1hdGguY29zKGopK207Yi55PWQqTWF0aC5zaW4oaikrbDticmVhaztjYXNlInJvdGF0ZSI6dj1hKHYpO3Y9KHY+OTAmJnY8MjcwKT92KzE4MDp2O2g9ay5hdHRyLnJvdGF0aW9uLmRlZ3JlZXM7aWYoaCE9bnVsbCYmTWF0aC5hYnMoaC12KT4xODAqMC41KXtpZih2Pmgpe3YtPTM2MH1lbHNle3YrPTM2MH12PXYlMzYwfWVsc2V7dj1hKHYpfWIucm90YXRlPXtkZWdyZWVzOnYseDpiLngseTpiLnl9O2JyZWFrO2RlZmF1bHQ6YnJlYWt9Yi50cmFuc2xhdGU9e3g6MCx5OjB9O2lmKGUmJiF3JiYocyE9InJvdGF0ZSJ8fGghPW51bGwpKXtCLm9uQW5pbWF0ZShrLHt0bzpifSl9ZWxzZXtrLnNldEF0dHJpYnV0ZXMoYix0cnVlKX1rLl9mcm9tPXJ9LG9uUGxhY2VDYWxsb3V0OmZ1bmN0aW9uKGwsbyx6LHYsdSxkLGUpe3ZhciBBPXRoaXMscT1BLmNoYXJ0LGo9QS5jZW50ZXJYLGg9QS5jZW50ZXJZLEI9ei5taWRkbGUsYj17eDpCLngseTpCLnl9LG09Qi54LWosaz1CLnktaCxjPTEsbixnPU1hdGguYXRhbjIoayxtfHwxKSxhPWwubGFiZWwuZ2V0QkJveCgpLHc9MjAsdD0xMCxzPTEwLHI7Yz16LmVuZFJobyt3O249KHouZW5kUmhvK3ouc3RhcnRSaG8pLzIrKHouZW5kUmhvLXouc3RhcnRSaG8pLzM7Yi54PWMqTWF0aC5jb3MoZykrajtiLnk9YypNYXRoLnNpbihnKStoO209bipNYXRoLmNvcyhnKTtrPW4qTWF0aC5zaW4oZyk7aWYocS5hbmltYXRlKXtBLm9uQW5pbWF0ZShsLmxpbmVzLHt0bzp7cGF0aDpbIk0iLG0raixrK2gsIkwiLGIueCxiLnksIloiLCJNIixiLngsYi55LCJsIixtPjA/dDotdCwwLCJ6Il19fSk7QS5vbkFuaW1hdGUobC5ib3gse3RvOnt4OmIueCsobT4wP3Q6LSh0K2Eud2lkdGgrMipzKSkseTpiLnkrKGs+MD8oLWEuaGVpZ2h0LXMvMik6KC1hLmhlaWdodC1zLzIpKSx3aWR0aDphLndpZHRoKzIqcyxoZWlnaHQ6YS5oZWlnaHQrMipzfX0pO0Eub25BbmltYXRlKGwubGFiZWwse3RvOnt4OmIueCsobT4wPyh0K3MpOi0odCthLndpZHRoK3MpKSx5OmIueSsoaz4wPy1hLmhlaWdodC80Oi1hLmhlaWdodC80KX19KX1lbHNle2wubGluZXMuc2V0QXR0cmlidXRlcyh7cGF0aDpbIk0iLG0raixrK2gsIkwiLGIueCxiLnksIloiLCJNIixiLngsYi55LCJsIixtPjA/dDotdCwwLCJ6Il19LHRydWUpO2wuYm94LnNldEF0dHJpYnV0ZXMoe3g6Yi54KyhtPjA/dDotKHQrYS53aWR0aCsyKnMpKSx5OmIueSsoaz4wPygtYS5oZWlnaHQtcy8yKTooLWEuaGVpZ2h0LXMvMikpLHdpZHRoOmEud2lkdGgrMipzLGhlaWdodDphLmhlaWdodCsyKnN9LHRydWUpO2wubGFiZWwuc2V0QXR0cmlidXRlcyh7eDpiLngrKG0+MD8odCtzKTotKHQrYS53aWR0aCtzKSkseTpiLnkrKGs+MD8tYS5oZWlnaHQvNDotYS5oZWlnaHQvNCl9LHRydWUpfWZvcihyIGluIGwpe2xbcl0uc2hvdyh0cnVlKX19LG9uQW5pbWF0ZTpmdW5jdGlvbihiLGEpe2Iuc2hvdygpO3JldHVybiB0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0saXNJdGVtSW5Qb2ludDpmdW5jdGlvbihsLGosbixlKXt2YXIgaD10aGlzLGQ9aC5jZW50ZXJYLGM9aC5jZW50ZXJZLHA9TWF0aC5hYnMsbz1wKGwtZCksbT1wKGotYyksZz1uLnN0YXJ0QW5nbGUsYT1uLmVuZEFuZ2xlLGs9TWF0aC5zcXJ0KG8qbyttKm0pLGI9TWF0aC5hdGFuMihqLWMsbC1kKS9oLnJhZDtpZihiPmguZmlyc3RBbmdsZSl7Yi09aC5hY2N1cmFjeX1yZXR1cm4oYjw9ZyYmYj5hJiZrPj1uLnN0YXJ0UmhvJiZrPD1uLmVuZFJobyl9LGhpZGVBbGw6ZnVuY3Rpb24oYyl7dmFyIGcsYixqLGgsZSxhLGQ7Yz0oaXNOYU4odGhpcy5faW5kZXgpP2M6dGhpcy5faW5kZXgpfHwwO3RoaXMuX19leGNsdWRlcz10aGlzLl9fZXhjbHVkZXN8fFtdO3RoaXMuX19leGNsdWRlc1tjXT10cnVlO2Q9dGhpcy5zbGljZXNbY10uc3ByaXRlO2ZvcihlPTAsYT1kLmxlbmd0aDtlPGE7ZSsrKXtkW2VdLnNldEF0dHJpYnV0ZXMoe2hpZGRlbjp0cnVlfSx0cnVlKX1pZih0aGlzLnNsaWNlc1tjXS5zaGFkb3dBdHRycyl7Zm9yKGc9MCxoPXRoaXMuc2xpY2VzW2NdLnNoYWRvd0F0dHJzLGI9aC5sZW5ndGg7ZzxiO2crKyl7aj1oW2ddO2ZvcihlPTAsYT1qLmxlbmd0aDtlPGE7ZSsrKXtqW2VdLnNldEF0dHJpYnV0ZXMoe2hpZGRlbjp0cnVlfSx0cnVlKX19fXRoaXMuZHJhd1NlcmllcygpfSxzaG93QWxsOmZ1bmN0aW9uKGEpe2E9KGlzTmFOKHRoaXMuX2luZGV4KT9hOnRoaXMuX2luZGV4KXx8MDt0aGlzLl9fZXhjbHVkZXNbYV09ZmFsc2U7dGhpcy5kcmF3U2VyaWVzKCl9LGhpZ2hsaWdodEl0ZW06ZnVuY3Rpb24ocyl7dmFyIHU9dGhpcyx0PXUucmFkLHcsZCxvLHEsYSxlLGssYixtLGMsZyxwLGgsdixuLGwsajtzPXN8fHRoaXMuaXRlbXNbdGhpcy5faW5kZXhdO3RoaXMudW5IaWdobGlnaHRJdGVtKCk7aWYoIXN8fHMuc3ByaXRlJiZzLnNwcml0ZS5fYW5pbWF0aW5nKXtyZXR1cm59dS5jYWxsUGFyZW50KFtzXSk7aWYoIXUuaGlnaGxpZ2h0KXtyZXR1cm59aWYoInNlZ21lbnQiIGluIHUuaGlnaGxpZ2h0Q2ZnKXt3PXUuaGlnaGxpZ2h0Q2ZnLnNlZ21lbnQ7ZD11LmNoYXJ0LmFuaW1hdGU7aWYodS5sYWJlbHNHcm91cCl7Zz11LmxhYmVsc0dyb3VwO3A9dS5sYWJlbC5kaXNwbGF5O2g9Zy5nZXRBdChzLmluZGV4KTt2PShzLnN0YXJ0QW5nbGUrcy5lbmRBbmdsZSkvMip0O249dy5tYXJnaW58fDA7bD1uKk1hdGguY29zKHYpO2o9bipNYXRoLnNpbih2KTtpZihNYXRoLmFicyhsKTwxZS0xMCl7bD0wfWlmKE1hdGguYWJzKGopPDFlLTEwKXtqPTB9aWYoZCl7aC5zdG9wQW5pbWF0aW9uKCk7aC5hbmltYXRlKHt0bzp7dHJhbnNsYXRlOnt4OmwseTpqfX0sZHVyYXRpb246dS5oaWdobGlnaHREdXJhdGlvbn0pfWVsc2V7aC5zZXRBdHRyaWJ1dGVzKHt0cmFuc2xhdGU6e3g6bCx5Omp9fSx0cnVlKX19aWYodS5jaGFydC5zaGFkb3cmJnMuc2hhZG93cyl7cT0wO2E9cy5zaGFkb3dzO2s9YS5sZW5ndGg7Zm9yKDtxPGs7cSsrKXtlPWFbcV07Yj17fTttPXMuc3ByaXRlLl9mcm9tLnNlZ21lbnQ7Zm9yKGMgaW4gbSl7aWYoIShjIGluIHcpKXtiW2NdPW1bY119fW89e3NlZ21lbnQ6RXh0LmFwcGx5SWYoYix1LmhpZ2hsaWdodENmZy5zZWdtZW50KX07aWYoZCl7ZS5zdG9wQW5pbWF0aW9uKCk7ZS5hbmltYXRlKHt0bzpvLGR1cmF0aW9uOnUuaGlnaGxpZ2h0RHVyYXRpb259KX1lbHNle2Uuc2V0QXR0cmlidXRlcyhvLHRydWUpfX19fX0sdW5IaWdobGlnaHRJdGVtOmZ1bmN0aW9uKCl7dmFyIHc9dGhpcyxsLGUsZCxrLHQscyxyLHEseCxtLGMsYSx2LG4sYixnLHUsaCxvO2lmKCF3LmhpZ2hsaWdodCl7cmV0dXJufWlmKCgic2VnbWVudCIgaW4gdy5oaWdobGlnaHRDZmcpJiZ3Lml0ZW1zKXtsPXcuaXRlbXM7ZT13LmNoYXJ0LmFuaW1hdGU7ZD0hIXcuY2hhcnQuc2hhZG93O2s9dy5sYWJlbHNHcm91cDt0PWwubGVuZ3RoO3M9MDtyPTA7cT13LmxhYmVsLmRpc3BsYXk7Zm9yKDtzPHQ7cysrKXt1PWxbc107aWYoIXUpe2NvbnRpbnVlfW49dS5zcHJpdGU7aWYobiYmbi5faGlnaGxpZ2h0ZWQpe2lmKGspe2g9ay5nZXRBdCh1LmluZGV4KTtvPUV4dC5hcHBseSh7dHJhbnNsYXRlOnt4OjAseTowfX0scT09InJvdGF0ZSI/e3JvdGF0ZTp7eDpoLmF0dHIueCx5OmguYXR0ci55LGRlZ3JlZXM6aC5hdHRyLnJvdGF0aW9uLmRlZ3JlZXN9fTp7fSk7aWYoZSl7aC5zdG9wQW5pbWF0aW9uKCk7aC5hbmltYXRlKHt0bzpvLGR1cmF0aW9uOncuaGlnaGxpZ2h0RHVyYXRpb259KX1lbHNle2guc2V0QXR0cmlidXRlcyhvLHRydWUpfX1pZihkKXtiPXUuc2hhZG93czt4PWIubGVuZ3RoO2Zvcig7cjx4O3IrKyl7Yz17fTthPXUuc3ByaXRlLl90by5zZWdtZW50O3Y9dS5zcHJpdGUuX2Zyb20uc2VnbWVudDtFeHQuYXBwbHkoYyx2KTtmb3IobSBpbiBhKXtpZighKG0gaW4gdikpe2NbbV09YVttXX19Zz1iW3JdO2lmKGUpe2cuc3RvcEFuaW1hdGlvbigpO2cuYW5pbWF0ZSh7dG86e3NlZ21lbnQ6Y30sZHVyYXRpb246dy5oaWdobGlnaHREdXJhdGlvbn0pfWVsc2V7Zy5zZXRBdHRyaWJ1dGVzKHtzZWdtZW50OmN9LHRydWUpfX19fX19dy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGdldExlZ2VuZENvbG9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7cmV0dXJuKGIuY29sb3JTZXQmJmIuY29sb3JTZXRbYSViLmNvbG9yU2V0Lmxlbmd0aF0pfHxiLmNvbG9yQXJyYXlTdHlsZVthJWIuY29sb3JBcnJheVN0eWxlLmxlbmd0aF19fSk7RXh0LmRlZmluZSgiRXh0LmNoYXJ0LnNlcmllcy5SYWRhciIse2V4dGVuZDoiRXh0LmNoYXJ0LnNlcmllcy5TZXJpZXMiLHJlcXVpcmVzOlsiRXh0LmNoYXJ0LlNoYXBlIiwiRXh0LmZ4LkFuaW0iXSx0eXBlOiJyYWRhciIsYWxpYXM6InNlcmllcy5yYWRhciIscmFkOk1hdGguUEkvMTgwLHNob3dJbkxlZ2VuZDpmYWxzZSxzdHlsZTp7fSxjb25zdHJ1Y3RvcjpmdW5jdGlvbihjKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt2YXIgZT10aGlzLGE9ZS5jaGFydC5zdXJmYWNlLGQsYjtlLmdyb3VwPWEuZ2V0R3JvdXAoZS5zZXJpZXNJZCk7aWYoZS5zaG93TWFya2Vycyl7ZS5tYXJrZXJHcm91cD1hLmdldEdyb3VwKGUuc2VyaWVzSWQrIi1tYXJrZXJzIil9fSxkcmF3U2VyaWVzOmZ1bmN0aW9uKCl7dmFyIHc9dGhpcyxjPXcuY2hhcnQuZ2V0Q2hhcnRTdG9yZSgpLFM9Yy5kYXRhLml0ZW1zLFQsSSx6PXcuZ3JvdXAsQixVPXcuY2hhcnQsTD1VLnNlcmllcy5pdGVtcyxNLHYsbSxRPVUuYW5pbWF0ZSxvPXcuZmllbGR8fHcueUZpZWxkLEs9VS5zdXJmYWNlLEY9VS5jaGFydEJCb3gsRT13LnNlcmllc0lkeCxqPXcuY29sb3JBcnJheVN0eWxlLGcsZSxBLE4scj0wLGE9W10sRD1NYXRoLm1heCxrPU1hdGguY29zLHQ9TWF0aC5zaW4scT1NYXRoLlBJKjIsUD1jLmdldENvdW50KCksaCxPLEosSCxHLFIsdSxuPXcuc2VyaWVzU3R5bGUsYj13LnNlcmllc0xhYmVsU3R5bGUscD1VLnJlc2l6aW5nfHwhdy5yYWRhcixDPVUuYXhlcyYmVS5heGVzLmdldCgwKSxWPSEoQyYmQy5tYXhpbXVtKTt3LnNldEJCb3goKTtyPVY/MDooQy5tYXhpbXVtfHwwKTtFeHQuYXBwbHkobix3LnN0eWxlfHx7fSk7aWYoIWN8fCFjLmdldENvdW50KCl8fHcuc2VyaWVzSXNIaWRkZW4pe3cuaGlkZSgpO3cuaXRlbXM9W107aWYody5yYWRhcil7dy5yYWRhci5oaWRlKHRydWUpfXcucmFkYXI9bnVsbDtyZXR1cm59aWYoIW4uc3Ryb2tlKXtuLnN0cm9rZT1qW0Ulai5sZW5ndGhdfXcudW5IaWdobGlnaHRJdGVtKCk7dy5jbGVhbkhpZ2hsaWdodHMoKTtnPXcuY2VudGVyWD1GLngrKEYud2lkdGgvMik7ZT13LmNlbnRlclk9Ri55KyhGLmhlaWdodC8yKTt3LnJhZGl1cz1OPU1hdGgubWluKEYud2lkdGgsRi5oZWlnaHQpLzI7dy5pdGVtcz1BPVtdO2lmKFYpe2ZvcihNPTAsdj1MLmxlbmd0aDtNPHY7TSsrKXttPUxbTV07YS5wdXNoKG0ueUZpZWxkKX1mb3IoVD0wO1Q8UDtUKyspe0k9U1tUXTtmb3IoUj0wLHU9YS5sZW5ndGg7Ujx1O1IrKyl7cj1EKCtJLmdldChhW1JdKSxyKX19fXI9cnx8MTtoPVtdO089W107Zm9yKFI9MDtSPFA7UisrKXtJPVNbUl07Rz1OKkkuZ2V0KG8pL3I7Sj1HKmsoUi9QKnEpO0g9Ryp0KFIvUCpxKTtpZihSPT0wKXtPLnB1c2goIk0iLEorZyxIK2UpO2gucHVzaCgiTSIsMC4wMSpKK2csMC4wMSpIK2UpfWVsc2V7Ty5wdXNoKCJMIixKK2csSCtlKTtoLnB1c2goIkwiLDAuMDEqSitnLDAuMDEqSCtlKX1BLnB1c2goe3Nwcml0ZTpmYWxzZSxwb2ludDpbZytKLGUrSF0sc3RvcmVJdGVtOkksc2VyaWVzOnd9KX1PLnB1c2goIloiKTtpZighdy5yYWRhcil7dy5yYWRhcj1LLmFkZChFeHQuYXBwbHkoe3R5cGU6InBhdGgiLGdyb3VwOnoscGF0aDpofSxufHx7fSkpfWlmKFUucmVzaXppbmcpe3cucmFkYXIuc2V0QXR0cmlidXRlcyh7cGF0aDpofSx0cnVlKX1pZihVLmFuaW1hdGUpe3cub25BbmltYXRlKHcucmFkYXIse3RvOkV4dC5hcHBseSh7cGF0aDpPfSxufHx7fSl9KX1lbHNle3cucmFkYXIuc2V0QXR0cmlidXRlcyhFeHQuYXBwbHkoe3BhdGg6T30sbnx8e30pLHRydWUpfWlmKHcuc2hvd01hcmtlcnMpe3cuZHJhd01hcmtlcnMoKX13LnJlbmRlckxhYmVscygpO3cucmVuZGVyQ2FsbG91dHMoKX0sZHJhd01hcmtlcnM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLGs9bi5jaGFydCxhPWsuc3VyZmFjZSxiPUV4dC5hcHBseSh7fSxuLm1hcmtlclN0eWxlfHx7fSksaj1FeHQuYXBwbHkoYixuLm1hcmtlckNvbmZpZyx7ZmlsbDpuLmNvbG9yQXJyYXlTdHlsZVtuLnNlcmllc0lkeCVuLmNvbG9yQXJyYXlTdHlsZS5sZW5ndGhdfSksbT1uLml0ZW1zLG89ai50eXBlLHE9bi5tYXJrZXJHcm91cCxlPW4uY2VudGVyWCxkPW4uY2VudGVyWSxwLGgsYyxnO2RlbGV0ZSBqLnR5cGU7Zm9yKGg9MCxjPW0ubGVuZ3RoO2g8YztoKyspe3A9bVtoXTtnPXEuZ2V0QXQoaCk7aWYoIWcpe2c9RXh0LmNoYXJ0LlNoYXBlW29dKGEsRXh0LmFwcGx5KHtncm91cDpxLHg6MCx5OjAsdHJhbnNsYXRlOnt4OmUseTpkfX0saikpfWVsc2V7Zy5zaG93KCl9cC5zcHJpdGU9ZztpZihrLnJlc2l6aW5nKXtnLnNldEF0dHJpYnV0ZXMoe3g6MCx5OjAsdHJhbnNsYXRlOnt4OmUseTpkfX0sdHJ1ZSl9Zy5fdG89e3RyYW5zbGF0ZTp7eDpwLnBvaW50WzBdLHk6cC5wb2ludFsxXX19O2lmKGsuYW5pbWF0ZSl7bi5vbkFuaW1hdGUoZyx7dG86Zy5fdG99KX1lbHNle2cuc2V0QXR0cmlidXRlcyhFeHQuYXBwbHkoZy5fdG8sanx8e30pLHRydWUpfX19LGlzSXRlbUluUG9pbnQ6ZnVuY3Rpb24oYyxnLGUpe3ZhciBiLGQ9MTAsYT1NYXRoLmFicztiPWUucG9pbnQ7cmV0dXJuKGEoYlswXS1jKTw9ZCYmYShiWzFdLWcpPD1kKX0sb25DcmVhdGVMYWJlbDpmdW5jdGlvbihnLG0sZSxoKXt2YXIgaj10aGlzLGw9ai5sYWJlbHNHcm91cCxhPWoubGFiZWwsZD1qLmNlbnRlclgsYz1qLmNlbnRlclksaz1tLnBvaW50LGI9RXh0LmFwcGx5KGouc2VyaWVzTGFiZWxTdHlsZXx8e30sYSk7cmV0dXJuIGouY2hhcnQuc3VyZmFjZS5hZGQoRXh0LmFwcGx5KHt0eXBlOiJ0ZXh0IiwidGV4dC1hbmNob3IiOiJtaWRkbGUiLGdyb3VwOmwseDpkLHk6Y30sYXx8e30pKX0sb25QbGFjZUxhYmVsOmZ1bmN0aW9uKHEsaCxzLGcsayxiKXt2YXIgbT10aGlzLGw9bS5jaGFydCxqPWwucmVzaXppbmcsYz1tLmxhYmVsLHI9Yy5yZW5kZXJlcixwPWMuZmllbGQsZT1tLmNlbnRlclgsZD1tLmNlbnRlclksYT17eDpzLnBvaW50WzBdLHk6cy5wb2ludFsxXX0sbz1hLngtZSxuPWEueS1kO3Euc2V0QXR0cmlidXRlcyh7dGV4dDpyKGguZ2V0KHApKSxoaWRkZW46dHJ1ZX0sdHJ1ZSk7aWYoail7cS5zZXRBdHRyaWJ1dGVzKHt4OmUseTpkfSx0cnVlKX1pZihiKXtxLnNob3codHJ1ZSk7bS5vbkFuaW1hdGUocSx7dG86YX0pfWVsc2V7cS5zZXRBdHRyaWJ1dGVzKGEsdHJ1ZSk7cS5zaG93KHRydWUpfX0sdG9nZ2xlQWxsOmZ1bmN0aW9uKGEpe3ZhciBlPXRoaXMsYixkLGcsYztpZighYSl7RXh0LmNoYXJ0LnNlcmllcy5SYWRhci5zdXBlcmNsYXNzLmhpZGVBbGwuY2FsbChlKX1lbHNle0V4dC5jaGFydC5zZXJpZXMuUmFkYXIuc3VwZXJjbGFzcy5zaG93QWxsLmNhbGwoZSl9aWYoZS5yYWRhcil7ZS5yYWRhci5zZXRBdHRyaWJ1dGVzKHtoaWRkZW46IWF9LHRydWUpO2lmKGUucmFkYXIuc2hhZG93cyl7Zm9yKGI9MCxjPWUucmFkYXIuc2hhZG93cyxkPWMubGVuZ3RoO2I8ZDtiKyspe2c9Y1tiXTtnLnNldEF0dHJpYnV0ZXMoe2hpZGRlbjohYX0sdHJ1ZSl9fX19LGhpZGVBbGw6ZnVuY3Rpb24oKXt0aGlzLnRvZ2dsZUFsbChmYWxzZSk7dGhpcy5oaWRlTWFya2VycygwKX0sc2hvd0FsbDpmdW5jdGlvbigpe3RoaXMudG9nZ2xlQWxsKHRydWUpfSxoaWRlTWFya2VyczpmdW5jdGlvbihhKXt2YXIgZD10aGlzLGM9ZC5tYXJrZXJHcm91cCYmZC5tYXJrZXJHcm91cC5nZXRDb3VudCgpfHwwLGI9YXx8MDtmb3IoO2I8YztiKyspe2QubWFya2VyR3JvdXAuZ2V0QXQoYikuaGlkZSh0cnVlKX19fSk7RXh0LmRlZmluZSgiRXh0LmNoYXJ0LnNlcmllcy5TY2F0dGVyIix7ZXh0ZW5kOiJFeHQuY2hhcnQuc2VyaWVzLkNhcnRlc2lhbiIscmVxdWlyZXM6WyJFeHQuY2hhcnQuYXhpcy5BeGlzIiwiRXh0LmNoYXJ0LlNoYXBlIiwiRXh0LmZ4LkFuaW0iXSx0eXBlOiJzY2F0dGVyIixhbGlhczoic2VyaWVzLnNjYXR0ZXIiLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGMpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3ZhciBlPXRoaXMsZz1lLmNoYXJ0LnNoYWRvdyxhPWUuY2hhcnQuc3VyZmFjZSxkLGI7RXh0LmFwcGx5KGUsYyx7c3R5bGU6e30sbWFya2VyQ29uZmlnOnt9LHNoYWRvd0F0dHJpYnV0ZXM6W3sic3Ryb2tlLXdpZHRoIjo2LCJzdHJva2Utb3BhY2l0eSI6MC4wNSxzdHJva2U6InJnYigwLCAwLCAwKSJ9LHsic3Ryb2tlLXdpZHRoIjo0LCJzdHJva2Utb3BhY2l0eSI6MC4xLHN0cm9rZToicmdiKDAsIDAsIDApIn0seyJzdHJva2Utd2lkdGgiOjIsInN0cm9rZS1vcGFjaXR5IjowLjE1LHN0cm9rZToicmdiKDAsIDAsIDApIn1dfSk7ZS5ncm91cD1hLmdldEdyb3VwKGUuc2VyaWVzSWQpO2lmKGcpe2ZvcihkPTAsYj1lLnNoYWRvd0F0dHJpYnV0ZXMubGVuZ3RoO2Q8YjtkKyspe2Uuc2hhZG93R3JvdXBzLnB1c2goYS5nZXRHcm91cChlLnNlcmllc0lkKyItc2hhZG93cyIrZCkpfX19LGdldEJvdW5kczpmdW5jdGlvbigpe3ZhciBzPXRoaXMsaj1zLmNoYXJ0LGQ9ai5nZXRDaGFydFN0b3JlKCksbz1qLmF4ZXMsbD1zLmdldEF4ZXNGb3JYQW5kWUZpZWxkcygpLGs9bC54QXhpcyxlPWwueUF4aXMsYSx0LGMsZyxyLHAscSxuLG0sYixoO3Muc2V0QkJveCgpO2E9cy5iYm94O2lmKGI9by5nZXQoaykpe2g9Yi5hcHBseURhdGEoKTtyPWguZnJvbTtxPWgudG99aWYoYj1vLmdldChlKSl7aD1iLmFwcGx5RGF0YSgpO3A9aC5mcm9tO249aC50b31pZihzLnhGaWVsZCYmIUV4dC5pc051bWJlcihyKSl7Yj1zLmdldE1pbk1heFhWYWx1ZXMoKTtyPWJbMF07cT1iWzFdfWlmKHMueUZpZWxkJiYhRXh0LmlzTnVtYmVyKHApKXtiPXMuZ2V0TWluTWF4WVZhbHVlcygpO3A9YlswXTtuPWJbMV19aWYoaXNOYU4ocikpe3I9MDtxPWQuZ2V0Q291bnQoKS0xO3Q9YS53aWR0aC8oZC5nZXRDb3VudCgpLTEpfWVsc2V7dD1hLndpZHRoLyhxLXIpfWlmKGlzTmFOKHApKXtwPTA7bj1kLmdldENvdW50KCktMTtjPWEuaGVpZ2h0LyhkLmdldENvdW50KCktMSl9ZWxzZXtjPWEuaGVpZ2h0LyhuLXApfXJldHVybntiYm94OmEsbWluWDpyLG1pblk6cCx4U2NhbGU6dCx5U2NhbGU6Y319LGdldFBhdGhzOmZ1bmN0aW9uKCl7dmFyIHo9dGhpcyxuPXouY2hhcnQsYj1uLnNoYWRvdyxlPW4uZ2V0Q2hhcnRTdG9yZSgpLEI9ZS5kYXRhLml0ZW1zLHMsbCxkLGo9ei5ncm91cCxnPXouYm91bmRzPXouZ2V0Qm91bmRzKCksYT16LmJib3gsQz1nLnhTY2FsZSxjPWcueVNjYWxlLHY9Zy5taW5YLHU9Zy5taW5ZLEE9YS54LHc9YS55LGg9YS5oZWlnaHQsbz16Lml0ZW1zPVtdLHE9W10sbSxrLHIsdCxwO2ZvcihzPTAsbD1CLmxlbmd0aDtzPGw7cysrKXtkPUJbc107cj1kLmdldCh6LnhGaWVsZCk7dD1kLmdldCh6LnlGaWVsZCk7aWYodHlwZW9mIHQ9PSJ1bmRlZmluZWQifHwodHlwZW9mIHQ9PSJzdHJpbmciJiYhdCl8fHI9PW51bGx8fHQ9PW51bGwpe2NvbnRpbnVlfWlmKHR5cGVvZiByPT0ic3RyaW5nInx8dHlwZW9mIHI9PSJvYmplY3QiJiYhRXh0LmlzRGF0ZShyKSl7cj1zfWlmKHR5cGVvZiB0PT0ic3RyaW5nInx8dHlwZW9mIHQ9PSJvYmplY3QiJiYhRXh0LmlzRGF0ZSh0KSl7dD1zfW09QSsoci12KSpDO2s9dytoLSh0LXUpKmM7cS5wdXNoKHt4Om0seTprfSk7ei5pdGVtcy5wdXNoKHtzZXJpZXM6eix2YWx1ZTpbcix0XSxwb2ludDpbbSxrXSxzdG9yZUl0ZW06ZH0pO2lmKG4uYW5pbWF0ZSYmbi5yZXNpemluZyl7cD1qLmdldEF0KHMpO2lmKHApe3oucmVzZXRQb2ludChwKTtpZihiKXt6LnJlc2V0U2hhZG93KHApfX19fXJldHVybiBxfSxyZXNldFBvaW50OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYmJveDthLnNldEF0dHJpYnV0ZXMoe3RyYW5zbGF0ZTp7eDooYi54K2Iud2lkdGgpLzIseTooYi55K2IuaGVpZ2h0KS8yfX0sdHJ1ZSl9LHJlc2V0U2hhZG93OmZ1bmN0aW9uKGMpe3ZhciBnPXRoaXMsZT1jLnNoYWRvd3Msaj1nLnNoYWRvd0F0dHJpYnV0ZXMsZD1nLnNoYWRvd0dyb3Vwcy5sZW5ndGgsaD1nLmJib3gsYixhO2ZvcihiPTA7YjxkO2IrKyl7YT1FeHQuYXBwbHkoe30saltiXSk7aWYoYS50cmFuc2xhdGUpe2EudHJhbnNsYXRlLngrPShoLngraC53aWR0aCkvMjthLnRyYW5zbGF0ZS55Kz0oaC55K2guaGVpZ2h0KS8yfWVsc2V7YS50cmFuc2xhdGU9e3g6KGgueCtoLndpZHRoKS8yLHk6KGgueStoLmhlaWdodCkvMn19ZVtiXS5zZXRBdHRyaWJ1dGVzKGEsdHJ1ZSl9fSxjcmVhdGVQb2ludDpmdW5jdGlvbihhLGMpe3ZhciBkPXRoaXMsYj1kLmNoYXJ0LGU9ZC5ncm91cCxnPWQuYmJveDtyZXR1cm4gRXh0LmNoYXJ0LlNoYXBlW2NdKGIuc3VyZmFjZSxFeHQuYXBwbHkoe30se3g6MCx5OjAsZ3JvdXA6ZSx0cmFuc2xhdGU6e3g6KGcueCtnLndpZHRoKS8yLHk6KGcueStnLmhlaWdodCkvMn19LGEpKX0sY3JlYXRlU2hhZG93OmZ1bmN0aW9uKG4sZyxrKXt2YXIgaj10aGlzLGg9ai5jaGFydCxsPWouc2hhZG93R3JvdXBzLGQ9ai5zaGFkb3dBdHRyaWJ1dGVzLGE9bC5sZW5ndGgsbz1qLmJib3gsYyxtLGIsZTtuLnNoYWRvd3M9Yj1bXTtmb3IoYz0wO2M8YTtjKyspe2U9RXh0LmFwcGx5KHt9LGRbY10pO2lmKGUudHJhbnNsYXRlKXtlLnRyYW5zbGF0ZS54Kz0oby54K28ud2lkdGgpLzI7ZS50cmFuc2xhdGUueSs9KG8ueStvLmhlaWdodCkvMn1lbHNle0V4dC5hcHBseShlLHt0cmFuc2xhdGU6e3g6KG8ueCtvLndpZHRoKS8yLHk6KG8ueStvLmhlaWdodCkvMn19KX1FeHQuYXBwbHkoZSxnKTttPUV4dC5jaGFydC5TaGFwZVtrXShoLnN1cmZhY2UsRXh0LmFwcGx5KHt9LHt4OjAseTowLGdyb3VwOmxbY119LGUpKTtiLnB1c2gobSl9fSxkcmF3U2VyaWVzOmZ1bmN0aW9uKCl7dmFyIHU9dGhpcyxsPXUuY2hhcnQsaD1sLmdldENoYXJ0U3RvcmUoKSxqPXUuZ3JvdXAsYz1sLnNoYWRvdyxhPXUuc2hhZG93R3JvdXBzLHE9dS5zaGFkb3dBdHRyaWJ1dGVzLHI9YS5sZW5ndGgsbSxuLG8sayxwLHQsZSxnLGIsZCxzO3Q9RXh0LmFwcGx5KHUubWFya2VyU3R5bGUsdS5tYXJrZXJDb25maWcpO2c9dC50eXBlO2RlbGV0ZSB0LnR5cGU7aWYoIWh8fCFoLmdldENvdW50KCkpe3UuaGlkZSgpO3UuaXRlbXM9W107cmV0dXJufXUudW5IaWdobGlnaHRJdGVtKCk7dS5jbGVhbkhpZ2hsaWdodHMoKTtuPXUuZ2V0UGF0aHMoKTtrPW4ubGVuZ3RoO2ZvcihwPTA7cDxrO3ArKyl7bz1uW3BdO209ai5nZXRBdChwKTtFeHQuYXBwbHkobyx0KTtpZighbSl7bT11LmNyZWF0ZVBvaW50KG8sZyk7aWYoYyl7dS5jcmVhdGVTaGFkb3cobSx0LGcpfX1iPW0uc2hhZG93cztpZihsLmFuaW1hdGUpe2Q9dS5yZW5kZXJlcihtLGguZ2V0QXQocCkse3RyYW5zbGF0ZTpvfSxwLGgpO20uX3RvPWQ7dS5vbkFuaW1hdGUobSx7dG86ZH0pO2ZvcihlPTA7ZTxyO2UrKyl7cz1FeHQuYXBwbHkoe30scVtlXSk7ZD11LnJlbmRlcmVyKGJbZV0saC5nZXRBdChwKSxFeHQuYXBwbHkoe30se2hpZGRlbjpmYWxzZSx0cmFuc2xhdGU6e3g6by54KyhzLnRyYW5zbGF0ZT9zLnRyYW5zbGF0ZS54OjApLHk6by55KyhzLnRyYW5zbGF0ZT9zLnRyYW5zbGF0ZS55OjApfX0scykscCxoKTt1Lm9uQW5pbWF0ZShiW2VdLHt0bzpkfSl9fWVsc2V7ZD11LnJlbmRlcmVyKG0saC5nZXRBdChwKSx7dHJhbnNsYXRlOm99LHAsaCk7bS5fdG89ZDttLnNldEF0dHJpYnV0ZXMoZCx0cnVlKTtmb3IoZT0wO2U8cjtlKyspe3M9RXh0LmFwcGx5KHt9LHFbZV0pO2Q9dS5yZW5kZXJlcihiW2VdLGguZ2V0QXQocCksRXh0LmFwcGx5KHt9LHtoaWRkZW46ZmFsc2UsdHJhbnNsYXRlOnt4Om8ueCsocy50cmFuc2xhdGU/cy50cmFuc2xhdGUueDowKSx5Om8ueSsocy50cmFuc2xhdGU/cy50cmFuc2xhdGUueTowKX19LHMpLHAsaCk7YltlXS5zZXRBdHRyaWJ1dGVzKGQsdHJ1ZSl9fXUuaXRlbXNbcF0uc3ByaXRlPW19az1qLmdldENvdW50KCk7Zm9yKHA9bi5sZW5ndGg7cDxrO3ArKyl7ai5nZXRBdChwKS5oaWRlKHRydWUpfXUucmVuZGVyTGFiZWxzKCk7dS5yZW5kZXJDYWxsb3V0cygpfSxvbkNyZWF0ZUxhYmVsOmZ1bmN0aW9uKGQsayxjLGUpe3ZhciBnPXRoaXMsaD1nLmxhYmVsc0dyb3VwLGE9Zy5sYWJlbCxiPUV4dC5hcHBseSh7fSxhLGcuc2VyaWVzTGFiZWxTdHlsZSksaj1nLmJib3g7cmV0dXJuIGcuY2hhcnQuc3VyZmFjZS5hZGQoRXh0LmFwcGx5KHt0eXBlOiJ0ZXh0Iixncm91cDpoLHg6ay5wb2ludFswXSx5OmoueStqLmhlaWdodC8yfSxiKSl9LG9uUGxhY2VMYWJlbDpmdW5jdGlvbihnLGssdCxxLHAsZCl7dmFyIHY9dGhpcyxsPXYuY2hhcnQscz1sLnJlc2l6aW5nLHU9di5sYWJlbCxyPXUucmVuZGVyZXIsYj11LmZpZWxkLGE9di5iYm94LGo9dC5wb2ludFswXSxoPXQucG9pbnRbMV0sYz10LnNwcml0ZS5hdHRyLnJhZGl1cyxlLG4sbSxvO2cuc2V0QXR0cmlidXRlcyh7dGV4dDpyKGsuZ2V0KGIpKSxoaWRkZW46dHJ1ZX0sdHJ1ZSk7aWYocD09InJvdGF0ZSIpe2cuc2V0QXR0cmlidXRlcyh7InRleHQtYW5jaG9yIjoic3RhcnQiLHJvdGF0aW9uOnt4OmoseTpoLGRlZ3JlZXM6LTQ1fX0sdHJ1ZSk7ZT1nLmdldEJCb3goKTtuPWUud2lkdGg7bT1lLmhlaWdodDtqPWo8YS54P2EueDpqO2o9KGorbj5hLngrYS53aWR0aCk/KGotKGorbi1hLngtYS53aWR0aCkpOmo7aD0oaC1tPGEueSk/YS55K206aH1lbHNle2lmKHA9PSJ1bmRlciJ8fHA9PSJvdmVyIil7ZT10LnNwcml0ZS5nZXRCQm94KCk7ZS53aWR0aD1lLndpZHRofHwoYyoyKTtlLmhlaWdodD1lLmhlaWdodHx8KGMqMik7aD1oKyhwPT0ib3ZlciI/LWUuaGVpZ2h0OmUuaGVpZ2h0KTtlPWcuZ2V0QkJveCgpO249ZS53aWR0aC8yO209ZS5oZWlnaHQvMjtqPWotbjxhLng/YS54K246ajtqPShqK24+YS54K2Eud2lkdGgpPyhqLShqK24tYS54LWEud2lkdGgpKTpqO2g9aC1tPGEueT9hLnkrbTpoO2g9KGgrbT5hLnkrYS5oZWlnaHQpPyhoLShoK20tYS55LWEuaGVpZ2h0KSk6aH19aWYoIWwuYW5pbWF0ZSl7Zy5zZXRBdHRyaWJ1dGVzKHt4OmoseTpofSx0cnVlKTtnLnNob3codHJ1ZSl9ZWxzZXtpZihzKXtvPXQuc3ByaXRlLmdldEFjdGl2ZUFuaW1hdGlvbigpO2lmKG8pe28ub24oImFmdGVyYW5pbWF0ZSIsZnVuY3Rpb24oKXtnLnNldEF0dHJpYnV0ZXMoe3g6aix5Omh9LHRydWUpO2cuc2hvdyh0cnVlKX0pfWVsc2V7Zy5zaG93KHRydWUpfX1lbHNle3Yub25BbmltYXRlKGcse3RvOnt4OmoseTpofX0pfX19LG9uUGxhY2VDYWxsb3V0OmZ1bmN0aW9uKGssbSxCLHosdyxjLGgpe3ZhciBFPXRoaXMsbj1FLmNoYXJ0LHU9bi5zdXJmYWNlLEE9bi5yZXNpemluZyxEPUUuY2FsbG91dHMsbz1FLml0ZW1zLGI9Qi5wb2ludCxGLGE9ay5sYWJlbC5nZXRCQm94KCksQz0zMCx0PTEwLHM9MyxlLGQsZyxyLHEsdj1FLmJib3gsbCxqO0Y9W01hdGguY29zKE1hdGguUEkvNCksLU1hdGguc2luKE1hdGguUEkvNCldO2w9YlswXStGWzBdKkM7aj1iWzFdK0ZbMV0qQztlPWwrKEZbMF0+MD8wOi0oYS53aWR0aCsyKnMpKTtkPWotYS5oZWlnaHQvMi1zO2c9YS53aWR0aCsyKnM7cj1hLmhlaWdodCsyKnM7aWYoZTx2WzBdfHwoZStnKT4odlswXSt2WzJdKSl7RlswXSo9LTF9aWYoZDx2WzFdfHwoZCtyKT4odlsxXSt2WzNdKSl7RlsxXSo9LTF9bD1iWzBdK0ZbMF0qQztqPWJbMV0rRlsxXSpDO2U9bCsoRlswXT4wPzA6LShhLndpZHRoKzIqcykpO2Q9ai1hLmhlaWdodC8yLXM7Zz1hLndpZHRoKzIqcztyPWEuaGVpZ2h0KzIqcztpZihuLmFuaW1hdGUpe0Uub25BbmltYXRlKGsubGluZXMse3RvOntwYXRoOlsiTSIsYlswXSxiWzFdLCJMIixsLGosIloiXX19LHRydWUpO0Uub25BbmltYXRlKGsuYm94LHt0bzp7eDplLHk6ZCx3aWR0aDpnLGhlaWdodDpyfX0sdHJ1ZSk7RS5vbkFuaW1hdGUoay5sYWJlbCx7dG86e3g6bCsoRlswXT4wP3M6LShhLndpZHRoK3MpKSx5Omp9fSx0cnVlKX1lbHNle2subGluZXMuc2V0QXR0cmlidXRlcyh7cGF0aDpbIk0iLGJbMF0sYlsxXSwiTCIsbCxqLCJaIl19LHRydWUpO2suYm94LnNldEF0dHJpYnV0ZXMoe3g6ZSx5OmQsd2lkdGg6ZyxoZWlnaHQ6cn0sdHJ1ZSk7ay5sYWJlbC5zZXRBdHRyaWJ1dGVzKHt4OmwrKEZbMF0+MD9zOi0oYS53aWR0aCtzKSkseTpqfSx0cnVlKX1mb3IocSBpbiBrKXtrW3FdLnNob3codHJ1ZSl9fSxvbkFuaW1hdGU6ZnVuY3Rpb24oYixhKXtiLnNob3coKTtyZXR1cm4gdGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGlzSXRlbUluUG9pbnQ6ZnVuY3Rpb24oYyxoLGUpe3ZhciBiLGQ9MTAsYT1NYXRoLmFicztmdW5jdGlvbiBnKGkpe3ZhciBrPWEoaVswXS1jKSxqPWEoaVsxXS1oKTtyZXR1cm4gTWF0aC5zcXJ0KGsqaytqKmopfWI9ZS5wb2ludDtyZXR1cm4oYlswXS1kPD1jJiZiWzBdK2Q+PWMmJmJbMV0tZDw9aCYmYlsxXStkPj1oKX19KTtFeHQuZGVmaW5lKCJFeHQudGlwLlF1aWNrVGlwIix7ZXh0ZW5kOiJFeHQudGlwLlRvb2xUaXAiLGFsaWFzOiJ3aWRnZXQucXVpY2t0aXAiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LlF1aWNrVGlwIixpbnRlcmNlcHRUaXRsZXM6ZmFsc2UsdGl0bGU6IiYjMTYwOyIsdGFnQ29uZmlnOntuYW1lc3BhY2U6ImRhdGEtIixhdHRyaWJ1dGU6InF0aXAiLHdpZHRoOiJxd2lkdGgiLHRhcmdldDoidGFyZ2V0Iix0aXRsZToicXRpdGxlIixoaWRlOiJoaWRlIixjbHM6InFjbGFzcyIsYWxpZ246InFhbGlnbiIsYW5jaG9yOiJhbmNob3IifSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnRhcmdldD1hLnRhcmdldHx8RXh0LmdldERvYygpO2EudGFyZ2V0cz1hLnRhcmdldHN8fHt9O2EuY2FsbFBhcmVudCgpfSxyZWdpc3RlcjpmdW5jdGlvbihjKXt2YXIgaD1FeHQuaXNBcnJheShjKT9jOmFyZ3VtZW50cyxkPTAsYT1oLmxlbmd0aCxnLGIsZTtmb3IoO2Q8YTtkKyspe2M9aFtkXTtnPWMudGFyZ2V0O2lmKGcpe2lmKEV4dC5pc0FycmF5KGcpKXtmb3IoYj0wLGU9Zy5sZW5ndGg7YjxlO2IrKyl7dGhpcy50YXJnZXRzW0V4dC5pZChnW2JdKV09Y319ZWxzZXt0aGlzLnRhcmdldHNbRXh0LmlkKGcpXT1jfX19fSx1bnJlZ2lzdGVyOmZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLnRhcmdldHNbRXh0LmlkKGEpXX0sY2FuY2VsU2hvdzpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGM9Yi5hY3RpdmVUYXJnZXQ7YT1FeHQuZ2V0KGEpLmRvbTtpZihiLmlzVmlzaWJsZSgpKXtpZihjJiZjLmVsPT1hKXtiLmhpZGUoKX19ZWxzZXtpZihjJiZjLmVsPT1hKXtiLmNsZWFyVGltZXIoInNob3ciKX19fSxnZXRUaXBDZmc6ZnVuY3Rpb24oZCl7dmFyIGM9ZC5nZXRUYXJnZXQoKSxiPWMudGl0bGUsYTtpZih0aGlzLmludGVyY2VwdFRpdGxlcyYmYiYmRXh0LmlzU3RyaW5nKGIpKXtjLnF0aXA9YjtjLnJlbW92ZUF0dHJpYnV0ZSgidGl0bGUiKTtkLnByZXZlbnREZWZhdWx0KCk7cmV0dXJue3RleHQ6Yn19ZWxzZXthPXRoaXMudGFnQ29uZmlnO2M9ZC5nZXRUYXJnZXQoIlsiK2EubmFtZXNwYWNlK2EuYXR0cmlidXRlKyJdIik7aWYoYyl7cmV0dXJue3RhcmdldDpjLHRleHQ6Yy5nZXRBdHRyaWJ1dGUoYS5uYW1lc3BhY2UrYS5hdHRyaWJ1dGUpfX19fSxvblRhcmdldE92ZXI6ZnVuY3Rpb24oaSl7dmFyIGs9dGhpcyxqPWkuZ2V0VGFyZ2V0KGsuZGVsZWdhdGUpLGEsZCxiLGgsbCxjLG4sZyxwLG0sbztpZihrLmRpc2FibGVkKXtyZXR1cm59ay50YXJnZXRYWT1pLmdldFhZKCk7aWYoIWp8fGoubm9kZVR5cGUhPT0xfHxqPT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fGo9PWRvY3VtZW50LmJvZHkpe3JldHVybn1pZihrLmFjdGl2ZVRhcmdldCYmKChqPT1rLmFjdGl2ZVRhcmdldC5lbCl8fEV4dC5mbHkoay5hY3RpdmVUYXJnZXQuZWwpLmNvbnRhaW5zKGopKSl7ay5jbGVhclRpbWVyKCJoaWRlIik7ay5zaG93KCk7cmV0dXJufWlmKGope2c9ay50YXJnZXRzO2ZvcihvIGluIGcpe2lmKGcuaGFzT3duUHJvcGVydHkobykpe209Z1tvXTtwPUV4dC5mbHkobS50YXJnZXQpO2lmKHAmJihwLmRvbT09PWp8fHAuY29udGFpbnMoaikpKXtiPXAuZG9tO2JyZWFrfX19aWYoYil7ay5hY3RpdmVUYXJnZXQ9ay50YXJnZXRzW2IuaWRdO2suYWN0aXZlVGFyZ2V0LmVsPWo7ay5hbmNob3I9ay5hY3RpdmVUYXJnZXQuYW5jaG9yO2lmKGsuYW5jaG9yKXtrLmFuY2hvclRhcmdldD1qfWE9RXh0LmlzRGVmaW5lZChrLmFjdGl2ZVRhcmdldC5zaG93RGVsYXkpO2lmKGEpe2Q9ay5zaG93RGVsYXk7ay5zaG93RGVsYXk9ay5hY3RpdmVUYXJnZXQuc2hvd0RlbGF5fWsuZGVsYXlTaG93KCk7aWYoYSl7ay5zaG93RGVsYXk9ZH1yZXR1cm59fWI9RXh0LmZseShqLCJfcXVpY2t0aXAtdGFyZ2V0Iik7aD1rLnRhZ0NvbmZpZztsPWgubmFtZXNwYWNlO2M9ay5nZXRUaXBDZmcoaSk7aWYoYyl7aWYoYy50YXJnZXQpe2o9Yy50YXJnZXQ7Yj1FeHQuZmx5KGosIl9xdWlja3RpcC10YXJnZXQiKX1uPWIuZ2V0QXR0cmlidXRlKGwraC5oaWRlKTtrLmFjdGl2ZVRhcmdldD17ZWw6aix0ZXh0OmMudGV4dCx3aWR0aDorYi5nZXRBdHRyaWJ1dGUobCtoLndpZHRoKXx8bnVsbCxhdXRvSGlkZTpuIT0idXNlciImJm4hPT0iZmFsc2UiLHRpdGxlOmIuZ2V0QXR0cmlidXRlKGwraC50aXRsZSksY2xzOmIuZ2V0QXR0cmlidXRlKGwraC5jbHMpLGFsaWduOmIuZ2V0QXR0cmlidXRlKGwraC5hbGlnbil9O2suYW5jaG9yPWIuZ2V0QXR0cmlidXRlKGwraC5hbmNob3IpO2lmKGsuYW5jaG9yKXtrLmFuY2hvclRhcmdldD1qfWE9RXh0LmlzRGVmaW5lZChrLmFjdGl2ZVRhcmdldC5zaG93RGVsYXkpO2lmKGEpe2Q9ay5zaG93RGVsYXk7ay5zaG93RGVsYXk9ay5hY3RpdmVUYXJnZXQuc2hvd0RlbGF5fWsuZGVsYXlTaG93KCk7aWYoYSl7ay5zaG93RGVsYXk9ZH19fSxvblRhcmdldE91dDpmdW5jdGlvbihnKXt2YXIgYz10aGlzLGQ9Yy5hY3RpdmVUYXJnZXQsYSxiO2lmKGQmJmcud2l0aGluKGMuYWN0aXZlVGFyZ2V0LmVsKSYmIWMuZ2V0VGlwQ2ZnKGcpKXtyZXR1cm59Yy5jbGVhclRpbWVyKCJzaG93Iik7ZGVsZXRlIGMuYWN0aXZlVGFyZ2V0O2lmKGMuYXV0b0hpZGUhPT1mYWxzZSl7YT1kJiZFeHQuaXNEZWZpbmVkKGQuaGlkZURlbGF5KTtpZihhKXtiPWMuaGlkZURlbGF5O2MuaGlkZURlbGF5PWQuaGlkZURlbGF5fWMuZGVsYXlIaWRlKCk7aWYoYSl7Yy5oaWRlRGVsYXk9Yn19fSxzaG93QXQ6ZnVuY3Rpb24oZCl7dmFyIGI9dGhpcyxjPWIuYWN0aXZlVGFyZ2V0LGE7aWYoYyl7aWYoIWIucmVuZGVyZWQpe2IucmVuZGVyKEV4dC5nZXRCb2R5KCkpO2IuYWN0aXZlVGFyZ2V0PWN9Yi5zdXNwZW5kTGF5b3V0cygpO2lmKGMudGl0bGUpe2Iuc2V0VGl0bGUoYy50aXRsZSk7Yi5oZWFkZXIuc2hvdygpfWVsc2V7Yi5oZWFkZXIuaGlkZSgpfWIudXBkYXRlKGMudGV4dCk7Yi5hdXRvSGlkZT1jLmF1dG9IaWRlO2IuZGlzbWlzc0RlbGF5PWMuZGlzbWlzc0RlbGF5fHxiLmRpc21pc3NEZWxheTthPWIubGFzdENscztpZihhKXtiLnJlbW92ZUNscyhhKTtkZWxldGUgYi5sYXN0Q2xzfWE9Yy5jbHM7aWYoYSl7Yi5hZGRDbHMoYSk7Yi5sYXN0Q2xzPWF9Yi5zZXRXaWR0aChjLndpZHRoKTtpZihiLmFuY2hvcil7Yi5jb25zdHJhaW5Qb3NpdGlvbj1mYWxzZX1lbHNle2lmKGMuYWxpZ24pe2Q9Yi5lbC5nZXRBbGlnblRvWFkoYy5lbCxjLmFsaWduKTtiLmNvbnN0cmFpblBvc2l0aW9uPWZhbHNlfWVsc2V7Yi5jb25zdHJhaW5Qb3NpdGlvbj10cnVlfX1iLnJlc3VtZUxheW91dHModHJ1ZSl9Yi5jYWxsUGFyZW50KFtkXSl9LGhpZGU6ZnVuY3Rpb24oKXtkZWxldGUgdGhpcy5hY3RpdmVUYXJnZXQ7dGhpcy5jYWxsUGFyZW50KCl9fSk7RXh0LmRlZmluZSgiRXh0LnRpcC5RdWlja1RpcE1hbmFnZXIiLChmdW5jdGlvbigpe3ZhciBiLGE9ZmFsc2U7cmV0dXJue3JlcXVpcmVzOlsiRXh0LnRpcC5RdWlja1RpcCJdLHNpbmdsZXRvbjp0cnVlLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LlF1aWNrVGlwcyIsaW5pdDpmdW5jdGlvbihnLGQpe2lmKCFiKXtpZighRXh0LmlzUmVhZHkpe0V4dC5vblJlYWR5KGZ1bmN0aW9uKCl7RXh0LnRpcC5RdWlja1RpcE1hbmFnZXIuaW5pdChnLGQpfSk7cmV0dXJufXZhciBjPUV4dC5hcHBseSh7ZGlzYWJsZWQ6YSxpZDoiZXh0LXF1aWNrdGlwcy10aXAifSxkKSxlPWMuY2xhc3NOYW1lLGg9Yy54dHlwZTtpZihlKXtkZWxldGUgYy5jbGFzc05hbWV9ZWxzZXtpZihoKXtlPSJ3aWRnZXQuIitoO2RlbGV0ZSBjLnh0eXBlfX1pZihnIT09ZmFsc2Upe2MucmVuZGVyVG89ZG9jdW1lbnQuYm9keX1iPUV4dC5jcmVhdGUoZXx8IkV4dC50aXAuUXVpY2tUaXAiLGMpfX0sZGVzdHJveTpmdW5jdGlvbigpe2lmKGIpe3ZhciBjO2IuZGVzdHJveSgpO2I9Y319LGRkRGlzYWJsZTpmdW5jdGlvbigpe2lmKGImJiFhKXtiLmRpc2FibGUoKX19LGRkRW5hYmxlOmZ1bmN0aW9uKCl7aWYoYiYmIWEpe2IuZW5hYmxlKCl9fSxlbmFibGU6ZnVuY3Rpb24oKXtpZihiKXtiLmVuYWJsZSgpfWE9ZmFsc2V9LGRpc2FibGU6ZnVuY3Rpb24oKXtpZihiKXtiLmRpc2FibGUoKX1hPXRydWV9LGlzRW5hYmxlZDpmdW5jdGlvbigpe3JldHVybiBiIT09dW5kZWZpbmVkJiYhYi5kaXNhYmxlZH0sZ2V0UXVpY2tUaXA6ZnVuY3Rpb24oKXtyZXR1cm4gYn0scmVnaXN0ZXI6ZnVuY3Rpb24oKXtiLnJlZ2lzdGVyLmFwcGx5KGIsYXJndW1lbnRzKX0sdW5yZWdpc3RlcjpmdW5jdGlvbigpe2IudW5yZWdpc3Rlci5hcHBseShiLGFyZ3VtZW50cyl9LHRpcHM6ZnVuY3Rpb24oKXtiLnJlZ2lzdGVyLmFwcGx5KGIsYXJndW1lbnRzKX19fSgpKSk7RXh0LmRlZmluZSgiRXh0LmFwcC5BcHBsaWNhdGlvbiIse2V4dGVuZDoiRXh0LmFwcC5Db250cm9sbGVyIixyZXF1aXJlczpbIkV4dC5Nb2RlbE1hbmFnZXIiLCJFeHQuZGF0YS5Nb2RlbCIsIkV4dC5kYXRhLlN0b3JlTWFuYWdlciIsIkV4dC50aXAuUXVpY2tUaXBNYW5hZ2VyIiwiRXh0LkNvbXBvbmVudE1hbmFnZXIiLCJFeHQuYXBwLkV2ZW50QnVzIl0sc2NvcGU6dW5kZWZpbmVkLGVuYWJsZVF1aWNrVGlwczp0cnVlLGFwcEZvbGRlcjoiYXBwIixhdXRvQ3JlYXRlVmlld3BvcnQ6ZmFsc2UsY29uc3RydWN0b3I6ZnVuY3Rpb24oYil7Yj1ifHx7fTtFeHQuYXBwbHkodGhpcyxiKTt2YXIgaz1iLnJlcXVpcmVzfHxbXSxhLGUsYyxkLGgsaixnO0V4dC5Mb2FkZXIuc2V0UGF0aCh0aGlzLm5hbWUsdGhpcy5hcHBGb2xkZXIpO2lmKHRoaXMucGF0aHMpe2g9dGhpcy5wYXRocztmb3IoZyBpbiBoKXtpZihoLmhhc093blByb3BlcnR5KGcpKXtqPWhbZ107RXh0LkxvYWRlci5zZXRQYXRoKGcsail9fX10aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLmV2ZW50YnVzPW5ldyBFeHQuYXBwLkV2ZW50QnVzO2E9RXh0LkFycmF5LmZyb20odGhpcy5jb250cm9sbGVycyk7ZT1hJiZhLmxlbmd0aDt0aGlzLmNvbnRyb2xsZXJzPW5ldyBFeHQudXRpbC5NaXhlZENvbGxlY3Rpb24oKTtpZih0aGlzLmF1dG9DcmVhdGVWaWV3cG9ydCl7ay5wdXNoKHRoaXMuZ2V0TW9kdWxlQ2xhc3NOYW1lKCJWaWV3cG9ydCIsInZpZXciKSl9Zm9yKGM9MDtjPGU7YysrKXtrLnB1c2godGhpcy5nZXRNb2R1bGVDbGFzc05hbWUoYVtjXSwiY29udHJvbGxlciIpKX1FeHQucmVxdWlyZShrKTtFeHQub25SZWFkeShmdW5jdGlvbigpe2ZvcihjPTA7YzxlO2MrKyl7ZD10aGlzLmdldENvbnRyb2xsZXIoYVtjXSk7ZC5pbml0KHRoaXMpfXRoaXMub25CZWZvcmVMYXVuY2guY2FsbCh0aGlzKX0sdGhpcyl9LGNvbnRyb2w6ZnVuY3Rpb24oYixjLGEpe3RoaXMuZXZlbnRidXMuY29udHJvbChiLGMsYSl9LGxhdW5jaDpFeHQuZW1wdHlGbixvbkJlZm9yZUxhdW5jaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsZSxnLGQsYTtpZihiLmVuYWJsZVF1aWNrVGlwcyl7RXh0LnRpcC5RdWlja1RpcE1hbmFnZXIuaW5pdCgpfWlmKGIuYXV0b0NyZWF0ZVZpZXdwb3J0KXtiLmdldFZpZXcoIlZpZXdwb3J0IikuY3JlYXRlKCl9Yi5sYXVuY2guY2FsbCh0aGlzLnNjb3BlfHx0aGlzKTtiLmxhdW5jaGVkPXRydWU7Yi5maXJlRXZlbnQoImxhdW5jaCIsdGhpcyk7ZT1iLmNvbnRyb2xsZXJzLml0ZW1zO2Q9ZS5sZW5ndGg7Zm9yKGc9MDtnPGQ7ZysrKXthPWVbZ107YS5vbkxhdW5jaCh0aGlzKX19LGdldE1vZHVsZUNsYXNzTmFtZTpmdW5jdGlvbihhLGIpe2lmKGEuaW5kZXhPZigiLiIpIT09LTEmJihFeHQuQ2xhc3NNYW5hZ2VyLmlzQ3JlYXRlZChhKXx8RXh0LkxvYWRlci5pc0FDbGFzc05hbWVXaXRoQUtub3duUHJlZml4KGEpKSl7cmV0dXJuIGF9ZWxzZXtyZXR1cm4gdGhpcy5uYW1lKyIuIitiKyIuIithfX0sZ2V0Q29udHJvbGxlcjpmdW5jdGlvbihiKXt2YXIgYT10aGlzLmNvbnRyb2xsZXJzLmdldChiKTtpZighYSl7YT1FeHQuY3JlYXRlKHRoaXMuZ2V0TW9kdWxlQ2xhc3NOYW1lKGIsImNvbnRyb2xsZXIiKSx7YXBwbGljYXRpb246dGhpcyxpZDpifSk7dGhpcy5jb250cm9sbGVycy5hZGQoYSl9cmV0dXJuIGF9LGdldFN0b3JlOmZ1bmN0aW9uKGIpe3ZhciBhPUV4dC5TdG9yZU1hbmFnZXIuZ2V0KGIpO2lmKCFhKXthPUV4dC5jcmVhdGUodGhpcy5nZXRNb2R1bGVDbGFzc05hbWUoYiwic3RvcmUiKSx7c3RvcmVJZDpifSl9cmV0dXJuIGF9LGdldE1vZGVsOmZ1bmN0aW9uKGEpe2E9dGhpcy5nZXRNb2R1bGVDbGFzc05hbWUoYSwibW9kZWwiKTtyZXR1cm4gRXh0Lk1vZGVsTWFuYWdlci5nZXRNb2RlbChhKX0sZ2V0VmlldzpmdW5jdGlvbihhKXthPXRoaXMuZ2V0TW9kdWxlQ2xhc3NOYW1lKGEsInZpZXciKTtyZXR1cm4gRXh0LkNsYXNzTWFuYWdlci5nZXQoYSl9fSk7RXh0LmRlZmluZSgiRXh0LmZvcm0uZmllbGQuSHRtbEVkaXRvciIse2V4dGVuZDoiRXh0LkNvbXBvbmVudCIsbWl4aW5zOntsYWJlbGFibGU6IkV4dC5mb3JtLkxhYmVsYWJsZSIsZmllbGQ6IkV4dC5mb3JtLmZpZWxkLkZpZWxkIn0sYWxpYXM6IndpZGdldC5odG1sZWRpdG9yIixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5mb3JtLkh0bWxFZGl0b3IiLHJlcXVpcmVzOlsiRXh0LnRpcC5RdWlja1RpcE1hbmFnZXIiLCJFeHQucGlja2VyLkNvbG9yIiwiRXh0LnRvb2xiYXIuSXRlbSIsIkV4dC50b29sYmFyLlRvb2xiYXIiLCJFeHQudXRpbC5Gb3JtYXQiLCJFeHQubGF5b3V0LmNvbXBvbmVudC5maWVsZC5IdG1sRWRpdG9yIl0sY2hpbGRFbHM6WyJpZnJhbWVFbCIsInRleHRhcmVhRWwiXSxmaWVsZFN1YlRwbDpbInslRXh0LkRvbUhlbHBlci5nZW5lcmF0ZU1hcmt1cCh2YWx1ZXMuJGNvbXAudG9vbGJhci5nZXRSZW5kZXJUcmVlKCksIG91dCklfSIsIntiZWZvcmVUZXh0QXJlYVRwbH0iLCc8dGV4dGFyZWEgaWQ9IntjbXBJZH0tdGV4dGFyZWFFbCIgbmFtZT0ie25hbWV9IiB0YWJJbmRleD0iLTEiIHtpbnB1dEF0dHJUcGx9JywnIGNsYXNzPSJ7dGV4dGFyZWFDbHN9IiBzdHlsZT0ie3NpemV9IiBhdXRvY29tcGxldGU9Im9mZiI+Jywie1tFeHQudXRpbC5Gb3JtYXQuaHRtbEVuY29kZSh2YWx1ZXMudmFsdWUpXX0iLCI8L3RleHRhcmVhPiIsInthZnRlclRleHRBcmVhVHBsfSIsIntiZWZvcmVJRnJhbWVUcGx9IiwnPGlmcmFtZSBpZD0ie2NtcElkfS1pZnJhbWVFbCIgbmFtZT0ie2lmcmFtZU5hbWV9IiBmcmFtZUJvcmRlcj0iMCIge2lmcmFtZUF0dHJUcGx9JywnIHN0eWxlPSJvdmVyZmxvdzphdXRvO3tzaXplfSIgc3JjPSJ7aWZyYW1lU3JjfSI+PC9pZnJhbWU+Jywie2FmdGVySUZyYW1lVHBsfSIse2Rpc2FibGVGb3JtYXRzOnRydWV9XSxzdWJUcGxJbnNlcnRpb25zOlsiYmVmb3JlVGV4dEFyZWFUcGwiLCJhZnRlclRleHRBcmVhVHBsIiwiYmVmb3JlSUZyYW1lVHBsIiwiYWZ0ZXJJRnJhbWVUcGwiLCJpZnJhbWVBdHRyVHBsIiwiaW5wdXRBdHRyVHBsIl0sZW5hYmxlRm9ybWF0OnRydWUsZW5hYmxlRm9udFNpemU6dHJ1ZSxlbmFibGVDb2xvcnM6dHJ1ZSxlbmFibGVBbGlnbm1lbnRzOnRydWUsZW5hYmxlTGlzdHM6dHJ1ZSxlbmFibGVTb3VyY2VFZGl0OnRydWUsZW5hYmxlTGlua3M6dHJ1ZSxlbmFibGVGb250OnRydWUsY3JlYXRlTGlua1RleHQ6IlBsZWFzZSBlbnRlciB0aGUgVVJMIGZvciB0aGUgbGluazoiLGRlZmF1bHRMaW5rVmFsdWU6Imh0dHA6Ly8iLGZvbnRGYW1pbGllczpbIkFyaWFsIiwiQ291cmllciBOZXciLCJUYWhvbWEiLCJUaW1lcyBOZXcgUm9tYW4iLCJWZXJkYW5hIl0sZGVmYXVsdEZvbnQ6InRhaG9tYSIsZGVmYXVsdFZhbHVlOihFeHQuaXNPcGVyYXx8RXh0LmlzSUU2KT8iJiMxNjA7IjoiJiM4MjAzOyIsZmllbGRCb2R5Q2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJodG1sLWVkaXRvci13cmFwIixjb21wb25lbnRMYXlvdXQ6Imh0bWxlZGl0b3IiLGluaXRpYWxpemVkOmZhbHNlLGFjdGl2YXRlZDpmYWxzZSxzb3VyY2VFZGl0TW9kZTpmYWxzZSxpZnJhbWVQYWQ6MyxoaWRlTW9kZToib2Zmc2V0cyIsbWFza09uRGlzYWJsZTp0cnVlLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuYWRkRXZlbnRzKCJpbml0aWFsaXplIiwiYWN0aXZhdGUiLCJiZWZvcmVzeW5jIiwiYmVmb3JlcHVzaCIsInN5bmMiLCJwdXNoIiwiZWRpdG1vZGVjaGFuZ2UiKTthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTthLmNyZWF0ZVRvb2xiYXIoYSk7YS5pbml0TGFiZWxhYmxlKCk7YS5pbml0RmllbGQoKX0sZ2V0UmVmSXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm5bdGhpcy50b29sYmFyXX0sY3JlYXRlVG9vbGJhcjpmdW5jdGlvbihnKXt2YXIgaj10aGlzLGg9W10sYyxsPUV4dC50aXAuUXVpY2tUaXBNYW5hZ2VyJiZFeHQudGlwLlF1aWNrVGlwTWFuYWdlci5pc0VuYWJsZWQoKSxlPUV4dC5iYXNlQ1NTUHJlZml4LGQsayxiO2Z1bmN0aW9uIGEobixpLG0pe3JldHVybntpdGVtSWQ6bixjbHM6ZSsiYnRuLWljb24iLGljb25DbHM6ZSsiZWRpdC0iK24sZW5hYmxlVG9nZ2xlOmkhPT1mYWxzZSxzY29wZTpnLGhhbmRsZXI6bXx8Zy5yZWxheUJ0bkNtZCxjbGlja0V2ZW50OiJtb3VzZWRvd24iLHRvb2x0aXA6bD9nLmJ1dHRvblRpcHNbbl18fGI6YixvdmVyZmxvd1RleHQ6Zy5idXR0b25UaXBzW25dLnRpdGxlfHxiLHRhYkluZGV4Oi0xfX1pZihqLmVuYWJsZUZvbnQmJiFFeHQuaXNTYWZhcmkyKXtkPUV4dC53aWRnZXQoImNvbXBvbmVudCIse3JlbmRlclRwbDpbJzxzZWxlY3QgaWQ9IntpZH0tc2VsZWN0RWwiIGNsYXNzPSJ7Y2xzfSI+JywnPHRwbCBmb3I9ImZvbnRzIj4nLCc8b3B0aW9uIHZhbHVlPSJ7W3ZhbHVlcy50b0xvd2VyQ2FzZSgpXX0iIHN0eWxlPSJmb250LWZhbWlseTp7Ln0iPHRwbCBpZj0idmFsdWVzLnRvTG93ZXJDYXNlKCk9PXBhcmVudC5kZWZhdWx0Rm9udCI+IHNlbGVjdGVkPC90cGw+PnsufTwvb3B0aW9uPicsIjwvdHBsPiIsIjwvc2VsZWN0PiJdLHJlbmRlckRhdGE6e2NsczplKyJmb250LXNlbGVjdCIsZm9udHM6ai5mb250RmFtaWxpZXMsZGVmYXVsdEZvbnQ6ai5kZWZhdWx0Rm9udH0sY2hpbGRFbHM6WyJzZWxlY3RFbCJdLGFmdGVyUmVuZGVyOmZ1bmN0aW9uKCl7ai5mb250U2VsZWN0PXRoaXMuc2VsZWN0RWw7RXh0LkNvbXBvbmVudC5wcm90b3R5cGUuYWZ0ZXJSZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxvbkRpc2FibGU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLnNlbGVjdEVsO2lmKGkpe2kuZG9tLmRpc2FibGVkPXRydWV9RXh0LkNvbXBvbmVudC5wcm90b3R5cGUub25EaXNhYmxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sb25FbmFibGU6ZnVuY3Rpb24oKXt2YXIgaT10aGlzLnNlbGVjdEVsO2lmKGkpe2kuZG9tLmRpc2FibGVkPWZhbHNlfUV4dC5Db21wb25lbnQucHJvdG90eXBlLm9uRW5hYmxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sbGlzdGVuZXJzOntjaGFuZ2U6ZnVuY3Rpb24oKXtqLnJlbGF5Q21kKCJmb250bmFtZSIsai5mb250U2VsZWN0LmRvbS52YWx1ZSk7ai5kZWZlckZvY3VzKCl9LGVsZW1lbnQ6InNlbGVjdEVsIn19KTtoLnB1c2goZCwiLSIpfWlmKGouZW5hYmxlRm9ybWF0KXtoLnB1c2goYSgiYm9sZCIpLGEoIml0YWxpYyIpLGEoInVuZGVybGluZSIpKX1pZihqLmVuYWJsZUZvbnRTaXplKXtoLnB1c2goIi0iLGEoImluY3JlYXNlZm9udHNpemUiLGZhbHNlLGouYWRqdXN0Rm9udCksYSgiZGVjcmVhc2Vmb250c2l6ZSIsZmFsc2Usai5hZGp1c3RGb250KSl9aWYoai5lbmFibGVDb2xvcnMpe2gucHVzaCgiLSIse2l0ZW1JZDoiZm9yZWNvbG9yIixjbHM6ZSsiYnRuLWljb24iLGljb25DbHM6ZSsiZWRpdC1mb3JlY29sb3IiLG92ZXJmbG93VGV4dDpnLmJ1dHRvblRpcHMuZm9yZWNvbG9yLnRpdGxlLHRvb2x0aXA6bD9nLmJ1dHRvblRpcHMuZm9yZWNvbG9yfHxiOmIsdGFiSW5kZXg6LTEsbWVudTpFeHQud2lkZ2V0KCJtZW51Iix7cGxhaW46dHJ1ZSxpdGVtczpbe3h0eXBlOiJjb2xvcnBpY2tlciIsYWxsb3dSZXNlbGVjdDp0cnVlLGZvY3VzOkV4dC5lbXB0eUZuLHZhbHVlOiIwMDAwMDAiLHBsYWluOnRydWUsY2xpY2tFdmVudDoibW91c2Vkb3duIixoYW5kbGVyOmZ1bmN0aW9uKG0saSl7ai5leGVjQ21kKCJmb3JlY29sb3IiLEV4dC5pc1dlYktpdHx8RXh0LmlzSUU/IiMiK2k6aSk7ai5kZWZlckZvY3VzKCk7dGhpcy51cCgibWVudSIpLmhpZGUoKX19XX0pfSx7aXRlbUlkOiJiYWNrY29sb3IiLGNsczplKyJidG4taWNvbiIsaWNvbkNsczplKyJlZGl0LWJhY2tjb2xvciIsb3ZlcmZsb3dUZXh0OmcuYnV0dG9uVGlwcy5iYWNrY29sb3IudGl0bGUsdG9vbHRpcDpsP2cuYnV0dG9uVGlwcy5iYWNrY29sb3J8fGI6Yix0YWJJbmRleDotMSxtZW51OkV4dC53aWRnZXQoIm1lbnUiLHtwbGFpbjp0cnVlLGl0ZW1zOlt7eHR5cGU6ImNvbG9ycGlja2VyIixmb2N1czpFeHQuZW1wdHlGbix2YWx1ZToiRkZGRkZGIixwbGFpbjp0cnVlLGFsbG93UmVzZWxlY3Q6dHJ1ZSxjbGlja0V2ZW50OiJtb3VzZWRvd24iLGhhbmRsZXI6ZnVuY3Rpb24obSxpKXtpZihFeHQuaXNHZWNrbyl7ai5leGVjQ21kKCJ1c2VDU1MiLGZhbHNlKTtqLmV4ZWNDbWQoImhpbGl0ZWNvbG9yIixpKTtqLmV4ZWNDbWQoInVzZUNTUyIsdHJ1ZSk7ai5kZWZlckZvY3VzKCl9ZWxzZXtqLmV4ZWNDbWQoRXh0LmlzT3BlcmE/ImhpbGl0ZWNvbG9yIjoiYmFja2NvbG9yIixFeHQuaXNXZWJLaXR8fEV4dC5pc0lFPyIjIitpOmkpO2ouZGVmZXJGb2N1cygpfXRoaXMudXAoIm1lbnUiKS5oaWRlKCl9fV19KX0pfWlmKGouZW5hYmxlQWxpZ25tZW50cyl7aC5wdXNoKCItIixhKCJqdXN0aWZ5bGVmdCIpLGEoImp1c3RpZnljZW50ZXIiKSxhKCJqdXN0aWZ5cmlnaHQiKSl9aWYoIUV4dC5pc1NhZmFyaTIpe2lmKGouZW5hYmxlTGlua3Mpe2gucHVzaCgiLSIsYSgiY3JlYXRlbGluayIsZmFsc2Usai5jcmVhdGVMaW5rKSl9aWYoai5lbmFibGVMaXN0cyl7aC5wdXNoKCItIixhKCJpbnNlcnRvcmRlcmVkbGlzdCIpLGEoImluc2VydHVub3JkZXJlZGxpc3QiKSl9aWYoai5lbmFibGVTb3VyY2VFZGl0KXtoLnB1c2goIi0iLGEoInNvdXJjZWVkaXQiLHRydWUsZnVuY3Rpb24oaSl7ai50b2dnbGVTb3VyY2VFZGl0KCFqLnNvdXJjZUVkaXRNb2RlKX0pKX19Zm9yKGM9MDtjPGgubGVuZ3RoO2MrKyl7aWYoaFtjXS5pdGVtSWQhPT0ic291cmNlZWRpdCIpe2hbY10uZGlzYWJsZWQ9dHJ1ZX19az1FeHQud2lkZ2V0KCJ0b29sYmFyIix7aWQ6ai5pZCsiLXRvb2xiYXIiLG93bmVyQ3Q6aixjbHM6RXh0LmJhc2VDU1NQcmVmaXgrImh0bWwtZWRpdG9yLXRiIixlbmFibGVPdmVyZmxvdzp0cnVlLGl0ZW1zOmgsb3duZXJMYXlvdXQ6ai5nZXRDb21wb25lbnRMYXlvdXQoKSxsaXN0ZW5lcnM6e2NsaWNrOmZ1bmN0aW9uKGkpe2kucHJldmVudERlZmF1bHQoKX0sZWxlbWVudDoiZWwifX0pO2oudG9vbGJhcj1rfSxnZXRNYXNrVGFyZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keUVsfSxzZXRSZWFkT25seTpmdW5jdGlvbihlKXt2YXIgZD10aGlzLGM9ZC50ZXh0YXJlYUVsLGI9ZC5pZnJhbWVFbCxhO2QucmVhZE9ubHk9ZTtpZihjKXtjLmRvbS5yZWFkT25seT1lfWlmKGQuaW5pdGlhbGl6ZWQpe2E9ZC5nZXRFZGl0b3JCb2R5KCk7aWYoRXh0LmlzSUUpe2Iuc2V0RGlzcGxheWVkKGZhbHNlKTthLmNvbnRlbnRFZGl0YWJsZT0hZTtiLnNldERpc3BsYXllZCh0cnVlKX1lbHNle2Quc2V0RGVzaWduTW9kZSghZSl9aWYoYSl7YS5zdHlsZS5jdXJzb3I9ZT8iZGVmYXVsdCI6InRleHQifWQuZGlzYWJsZUl0ZW1zKGUpfX0sZ2V0RG9jTWFya3VwOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuaWZyYW1lRWwuZ2V0SGVpZ2h0KCktYi5pZnJhbWVQYWQqMjtyZXR1cm4gRXh0LlN0cmluZy5mb3JtYXQoJzxodG1sPjxoZWFkPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Ym9keXtib3JkZXI6MDttYXJnaW46MDtwYWRkaW5nOnswfXB4O2hlaWdodDp7MX1weDtib3gtc2l6aW5nOiBib3JkZXItYm94OyAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7IC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtjdXJzb3I6dGV4dH08L3N0eWxlPjwvaGVhZD48Ym9keT48L2JvZHk+PC9odG1sPicsYi5pZnJhbWVQYWQsYSl9LGdldEVkaXRvckJvZHk6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldERvYygpO3JldHVybiBhLmJvZHl8fGEuZG9jdW1lbnRFbGVtZW50fSxnZXREb2M6ZnVuY3Rpb24oKXtyZXR1cm4oIUV4dC5pc0lFJiZ0aGlzLmlmcmFtZUVsLmRvbS5jb250ZW50RG9jdW1lbnQpfHx0aGlzLmdldFdpbigpLmRvY3VtZW50fSxnZXRXaW46ZnVuY3Rpb24oKXtyZXR1cm4gRXh0LmlzSUU/dGhpcy5pZnJhbWVFbC5kb20uY29udGVudFdpbmRvdzp3aW5kb3cuZnJhbWVzW3RoaXMuaWZyYW1lRWwuZG9tLm5hbWVdfSxmaW5pc2hSZW5kZXJDaGlsZHJlbjpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudCgpO3RoaXMudG9vbGJhci5maW5pc2hSZW5kZXIoKX0sb25SZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2EuaW5wdXRFbD1hLmlmcmFtZUVsO2EubW9uaXRvclRhc2s9RXh0LlRhc2tNYW5hZ2VyLnN0YXJ0KHtydW46YS5jaGVja0Rlc2lnbk1vZGUsc2NvcGU6YSxpbnRlcnZhbDoxMDB9KX0saW5pdFJlbmRlclRwbDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoIWEuaGFzT3duUHJvcGVydHkoInJlbmRlclRwbCIpKXthLnJlbmRlclRwbD1hLmdldFRwbCgibGFiZWxhYmxlUmVuZGVyVHBsIil9cmV0dXJuIGEuY2FsbFBhcmVudCgpfSxpbml0UmVuZGVyRGF0YTpmdW5jdGlvbigpe3JldHVybiBFeHQuYXBwbHlJZih0aGlzLmNhbGxQYXJlbnQoKSx0aGlzLmdldExhYmVsYWJsZVJlbmRlckRhdGEoKSl9LGdldFN1YlRwbERhdGE6ZnVuY3Rpb24oKXtyZXR1cm57JGNvbXA6dGhpcyxjbXBJZDp0aGlzLmlkLGlkOnRoaXMuZ2V0SW5wdXRJZCgpLHRleHRhcmVhQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJoaWRkZW4iLHZhbHVlOnRoaXMudmFsdWUsaWZyYW1lTmFtZTpFeHQuaWQoKSxpZnJhbWVTcmM6RXh0LlNTTF9TRUNVUkVfVVJMLHNpemU6ImhlaWdodDoxMDBweDt3aWR0aDoxMDAlIn19LGdldFN1YlRwbE1hcmt1cDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFRwbCgiZmllbGRTdWJUcGwiKS5hcHBseSh0aGlzLmdldFN1YlRwbERhdGEoKSl9LGluaXRGcmFtZURvYzpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYyxhO0V4dC5UYXNrTWFuYWdlci5zdG9wKGIubW9uaXRvclRhc2spO2M9Yi5nZXREb2MoKTtiLndpbj1iLmdldFdpbigpO2Mub3BlbigpO2Mud3JpdGUoYi5nZXREb2NNYXJrdXAoKSk7Yy5jbG9zZSgpO2E9e3J1bjpmdW5jdGlvbigpe3ZhciBkPWIuZ2V0RG9jKCk7aWYoZC5ib2R5fHxkLnJlYWR5U3RhdGU9PT0iY29tcGxldGUiKXtFeHQuVGFza01hbmFnZXIuc3RvcChhKTtiLnNldERlc2lnbk1vZGUodHJ1ZSk7RXh0LmRlZmVyKGIuaW5pdEVkaXRvciwxMCxiKX19LGludGVydmFsOjEwLGR1cmF0aW9uOjEwMDAwLHNjb3BlOmJ9O0V4dC5UYXNrTWFuYWdlci5zdGFydChhKX0sY2hlY2tEZXNpZ25Nb2RlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZ2V0RG9jKCk7aWYoYiYmKCFiLmVkaXRvckluaXRpYWxpemVkfHxhLmdldERlc2lnbk1vZGUoKSE9PSJvbiIpKXthLmluaXRGcmFtZURvYygpfX0sc2V0RGVzaWduTW9kZTpmdW5jdGlvbihjKXt2YXIgYT10aGlzLGI9YS5nZXREb2MoKTtpZihiKXtpZihhLnJlYWRPbmx5KXtjPWZhbHNlfWIuZGVzaWduTW9kZT0oL29ufHRydWUvaSkudGVzdChTdHJpbmcoYykudG9Mb3dlckNhc2UoKSk/Im9uIjoib2ZmIn19LGdldERlc2lnbk1vZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmdldERvYygpO3JldHVybiAhYT8iIjpTdHJpbmcoYS5kZXNpZ25Nb2RlKS50b0xvd2VyQ2FzZSgpfSxkaXNhYmxlSXRlbXM6ZnVuY3Rpb24oZCl7dmFyIGI9dGhpcy5nZXRUb29sYmFyKCkuaXRlbXMuaXRlbXMsYyxhPWIubGVuZ3RoLGU7Zm9yKGM9MDtjPGE7YysrKXtlPWJbY107aWYoZS5nZXRJdGVtSWQoKSE9PSJzb3VyY2VlZGl0Iil7ZS5zZXREaXNhYmxlZChkKX19fSx0b2dnbGVTb3VyY2VFZGl0OmZ1bmN0aW9uKGIpe3ZhciBnPXRoaXMsZD1nLmlmcmFtZUVsLGE9Zy50ZXh0YXJlYUVsLGU9RXh0LmJhc2VDU1NQcmVmaXgrImhpZGRlbiIsYz1nLmdldFRvb2xiYXIoKS5nZXRDb21wb25lbnQoInNvdXJjZWVkaXQiKTtpZighRXh0LmlzQm9vbGVhbihiKSl7Yj0hZy5zb3VyY2VFZGl0TW9kZX1nLnNvdXJjZUVkaXRNb2RlPWI7aWYoYy5wcmVzc2VkIT09Yil7Yy50b2dnbGUoYil9aWYoYil7Zy5kaXNhYmxlSXRlbXModHJ1ZSk7Zy5zeW5jVmFsdWUoKTtkLmFkZENscyhlKTthLnJlbW92ZUNscyhlKTthLmRvbS5yZW1vdmVBdHRyaWJ1dGUoInRhYkluZGV4Iik7YS5mb2N1cygpO2cuaW5wdXRFbD1hfWVsc2V7aWYoZy5pbml0aWFsaXplZCl7Zy5kaXNhYmxlSXRlbXMoZy5yZWFkT25seSl9Zy5wdXNoVmFsdWUoKTtkLnJlbW92ZUNscyhlKTthLmFkZENscyhlKTthLmRvbS5zZXRBdHRyaWJ1dGUoInRhYkluZGV4IiwtMSk7Zy5kZWZlckZvY3VzKCk7Zy5pbnB1dEVsPWR9Zy5maXJlRXZlbnQoImVkaXRtb2RlY2hhbmdlIixnLGIpO2cudXBkYXRlTGF5b3V0KCl9LGNyZWF0ZUxpbms6ZnVuY3Rpb24oKXt2YXIgYT1wcm9tcHQodGhpcy5jcmVhdGVMaW5rVGV4dCx0aGlzLmRlZmF1bHRMaW5rVmFsdWUpO2lmKGEmJmEhPT0iaHR0cDovLyIpe3RoaXMucmVsYXlDbWQoImNyZWF0ZWxpbmsiLGEpfX0sY2xlYXJJbnZhbGlkOkV4dC5lbXB0eUZuLHNldFZhbHVlOmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT1iLnRleHRhcmVhRWw7Yi5taXhpbnMuZmllbGQuc2V0VmFsdWUuY2FsbChiLGMpO2lmKGM9PT1udWxsfHxjPT09dW5kZWZpbmVkKXtjPSIifWlmKGEpe2EuZG9tLnZhbHVlPWN9Yi5wdXNoVmFsdWUoKTtyZXR1cm4gdGhpc30sY2xlYW5IdG1sOmZ1bmN0aW9uKGEpe2E9U3RyaW5nKGEpO2lmKEV4dC5pc1dlYktpdCl7YT1hLnJlcGxhY2UoL1xzY2xhc3M9Iig/OkFwcGxlLXN0eWxlLXNwYW58a2h0bWwtYmxvY2stcGxhY2Vob2xkZXIpIi9naSwiIil9aWYoYS5jaGFyQ29kZUF0KDApPT09cGFyc2VJbnQodGhpcy5kZWZhdWx0VmFsdWUucmVwbGFjZSgvXEQvZywiIiksMTApKXthPWEuc3Vic3RyaW5nKDEpfXJldHVybiBhfSxzeW5jVmFsdWU6ZnVuY3Rpb24oKXt2YXIgZz10aGlzLGIsaCxlLGEsZCxjO2lmKGcuaW5pdGlhbGl6ZWQpe2I9Zy5nZXRFZGl0b3JCb2R5KCk7ZT1iLmlubmVySFRNTDtpZihFeHQuaXNXZWJLaXQpe2E9Yi5nZXRBdHRyaWJ1dGUoInN0eWxlIik7ZD1hLm1hdGNoKC90ZXh0LWFsaWduOiguKj8pOy9pKTtpZihkJiZkWzFdKXtlPSc8ZGl2IHN0eWxlPSInK2RbMF0rJyI+JytlKyI8L2Rpdj4ifX1lPWcuY2xlYW5IdG1sKGUpO2lmKGcuZmlyZUV2ZW50KCJiZWZvcmVzeW5jIixnLGUpIT09ZmFsc2Upe2lmKGcudGV4dGFyZWFFbC5kb20udmFsdWUhPWUpe2cudGV4dGFyZWFFbC5kb20udmFsdWU9ZTtoPXRydWV9Zy5maXJlRXZlbnQoInN5bmMiLGcsZSk7aWYoaCl7Zy5jaGVja0NoYW5nZSgpfX19fSxnZXRWYWx1ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYjtpZighYS5zb3VyY2VFZGl0TW9kZSl7YS5zeW5jVmFsdWUoKX1iPWEucmVuZGVyZWQ/YS50ZXh0YXJlYUVsLmRvbS52YWx1ZTphLnZhbHVlO2EudmFsdWU9YjtyZXR1cm4gYn0scHVzaFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhO2lmKGIuaW5pdGlhbGl6ZWQpe2E9Yi50ZXh0YXJlYUVsLmRvbS52YWx1ZXx8IiI7aWYoIWIuYWN0aXZhdGVkJiZhLmxlbmd0aDwxKXthPWIuZGVmYXVsdFZhbHVlfWlmKGIuZmlyZUV2ZW50KCJiZWZvcmVwdXNoIixiLGEpIT09ZmFsc2Upe2IuZ2V0RWRpdG9yQm9keSgpLmlubmVySFRNTD1hO2lmKEV4dC5pc0dlY2tvKXtiLnNldERlc2lnbk1vZGUoZmFsc2UpO2Iuc2V0RGVzaWduTW9kZSh0cnVlKX1iLmZpcmVFdmVudCgicHVzaCIsYixhKX19fSxkZWZlckZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5mb2N1cyhmYWxzZSx0cnVlKX0sZ2V0Rm9jdXNFbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLndpbjtyZXR1cm4gYiYmIWEuc291cmNlRWRpdE1vZGU/YjphLnRleHRhcmVhRWx9LGluaXRFZGl0b3I6ZnVuY3Rpb24oKXt0cnl7dmFyIGc9dGhpcyxkPWcuZ2V0RWRpdG9yQm9keSgpLGI9Zy50ZXh0YXJlYUVsLmdldFN0eWxlcygiZm9udC1zaXplIiwiZm9udC1mYW1pbHkiLCJiYWNrZ3JvdW5kLWltYWdlIiwiYmFja2dyb3VuZC1yZXBlYXQiLCJiYWNrZ3JvdW5kLWNvbG9yIiwiY29sb3IiKSxpLGM7YlsiYmFja2dyb3VuZC1hdHRhY2htZW50Il09ImZpeGVkIjtkLmJnUHJvcGVydGllcz0iZml4ZWQiO0V4dC5Eb21IZWxwZXIuYXBwbHlTdHlsZXMoZCxiKTtpPWcuZ2V0RG9jKCk7aWYoaSl7dHJ5e0V4dC5FdmVudE1hbmFnZXIucmVtb3ZlQWxsKGkpfWNhdGNoKGgpe319Yz1FeHQuRnVuY3Rpb24uYmluZChnLm9uRWRpdG9yRXZlbnQsZyk7RXh0LkV2ZW50TWFuYWdlci5vbihpLHttb3VzZWRvd246YyxkYmxjbGljazpjLGNsaWNrOmMsa2V5dXA6YyxidWZmZXI6MTAwfSk7Yz1nLm9uUmVsYXllZEV2ZW50O0V4dC5FdmVudE1hbmFnZXIub24oaSx7bW91c2Vkb3duOmMsbW91c2Vtb3ZlOmMsbW91c2V1cDpjLGNsaWNrOmMsZGJsY2xpY2s6YyxzY29wZTpnfSk7aWYoRXh0LmlzR2Vja28pe0V4dC5FdmVudE1hbmFnZXIub24oaSwia2V5cHJlc3MiLGcuYXBwbHlDb21tYW5kLGcpfWlmKGcuZml4S2V5cyl7RXh0LkV2ZW50TWFuYWdlci5vbihpLCJrZXlkb3duIixnLmZpeEtleXMsZyl9RXh0LkV2ZW50TWFuYWdlci5vbih3aW5kb3csInVubG9hZCIsZy5iZWZvcmVEZXN0cm95LGcpO2kuZWRpdG9ySW5pdGlhbGl6ZWQ9dHJ1ZTtnLmluaXRpYWxpemVkPXRydWU7Zy5wdXNoVmFsdWUoKTtnLnNldFJlYWRPbmx5KGcucmVhZE9ubHkpO2cuZmlyZUV2ZW50KCJpbml0aWFsaXplIixnKX1jYXRjaChhKXt9fSxiZWZvcmVEZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxkPWEubW9uaXRvclRhc2ssYyxnO2lmKGQpe0V4dC5UYXNrTWFuYWdlci5zdG9wKGQpfWlmKGEucmVuZGVyZWQpe3RyeXtjPWEuZ2V0RG9jKCk7aWYoYyl7RXh0LkV2ZW50TWFuYWdlci5yZW1vdmVBbGwoYyk7Zm9yKGcgaW4gYyl7aWYoYy5oYXNPd25Qcm9wZXJ0eSYmYy5oYXNPd25Qcm9wZXJ0eShnKSl7ZGVsZXRlIGNbZ119fX19Y2F0Y2goYil7fUV4dC5kZXN0cm95TWVtYmVycyhhLCJ0b29sYmFyIiwiaWZyYW1lRWwiLCJ0ZXh0YXJlYUVsIil9YS5jYWxsUGFyZW50KCl9LG9uUmVsYXllZEV2ZW50OmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMuaWZyYW1lRWwsZD1iLmdldFhZKCksYT1jLmdldFhZKCk7Yy54eT1bZFswXSthWzBdLGRbMV0rYVsxXV07Yy5pbmplY3RFdmVudChiKTtjLnh5PWF9LG9uRmlyc3RGb2N1czpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYixhO2MuYWN0aXZhdGVkPXRydWU7Yy5kaXNhYmxlSXRlbXMoYy5yZWFkT25seSk7aWYoRXh0LmlzR2Vja28pe2Mud2luLmZvY3VzKCk7Yj1jLndpbi5nZXRTZWxlY3Rpb24oKTtpZighYi5mb2N1c05vZGV8fGIuZm9jdXNOb2RlLm5vZGVUeXBlIT09Myl7YT1iLmdldFJhbmdlQXQoMCk7YS5zZWxlY3ROb2RlQ29udGVudHMoYy5nZXRFZGl0b3JCb2R5KCkpO2EuY29sbGFwc2UodHJ1ZSk7Yy5kZWZlckZvY3VzKCl9dHJ5e2MuZXhlY0NtZCgidXNlQ1NTIix0cnVlKTtjLmV4ZWNDbWQoInN0eWxlV2l0aENTUyIsZmFsc2UpfWNhdGNoKGQpe319Yy5maXJlRXZlbnQoImFjdGl2YXRlIixjKX0sYWRqdXN0Rm9udDpmdW5jdGlvbihkKXt2YXIgZT1kLmdldEl0ZW1JZCgpPT09ImluY3JlYXNlZm9udHNpemUiPzE6LTEsYz10aGlzLmdldERvYygpLnF1ZXJ5Q29tbWFuZFZhbHVlKCJGb250U2l6ZSIpfHwiMiIsYT1FeHQuaXNTdHJpbmcoYykmJmMuaW5kZXhPZigicHgiKSE9PS0xLGI7Yz1wYXJzZUludChjLDEwKTtpZihhKXtpZihjPD0xMCl7Yz0xK2V9ZWxzZXtpZihjPD0xMyl7Yz0yK2V9ZWxzZXtpZihjPD0xNil7Yz0zK2V9ZWxzZXtpZihjPD0xOCl7Yz00K2V9ZWxzZXtpZihjPD0yNCl7Yz01K2V9ZWxzZXtjPTYrZX19fX19Yz1FeHQuTnVtYmVyLmNvbnN0cmFpbihjLDEsNil9ZWxzZXtiPUV4dC5pc1NhZmFyaTtpZihiKXtlKj0yfWM9TWF0aC5tYXgoMSxjK2UpKyhiPyJweCI6MCl9dGhpcy5leGVjQ21kKCJGb250U2l6ZSIsYyl9LG9uRWRpdG9yRXZlbnQ6ZnVuY3Rpb24oYSl7dGhpcy51cGRhdGVUb29sYmFyKCl9LHVwZGF0ZVRvb2xiYXI6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGQsZyxhLGM7aWYoZS5yZWFkT25seSl7cmV0dXJufWlmKCFlLmFjdGl2YXRlZCl7ZS5vbkZpcnN0Rm9jdXMoKTtyZXR1cm59ZD1lLmdldFRvb2xiYXIoKS5pdGVtcy5tYXA7Zz1lLmdldERvYygpO2lmKGUuZW5hYmxlRm9udCYmIUV4dC5pc1NhZmFyaTIpe2E9KGcucXVlcnlDb21tYW5kVmFsdWUoIkZvbnROYW1lIil8fGUuZGVmYXVsdEZvbnQpLnRvTG93ZXJDYXNlKCk7Yz1lLmZvbnRTZWxlY3QuZG9tO2lmKGEhPT1jLnZhbHVlKXtjLnZhbHVlPWF9fWZ1bmN0aW9uIGIoKXtmb3IodmFyIGs9MCxoPWFyZ3VtZW50cy5sZW5ndGgsajtrPGg7aysrKXtqPWFyZ3VtZW50c1trXTtkW2pdLnRvZ2dsZShnLnF1ZXJ5Q29tbWFuZFN0YXRlKGopKX19aWYoZS5lbmFibGVGb3JtYXQpe2IoImJvbGQiLCJpdGFsaWMiLCJ1bmRlcmxpbmUiKX1pZihlLmVuYWJsZUFsaWdubWVudHMpe2IoImp1c3RpZnlsZWZ0IiwianVzdGlmeWNlbnRlciIsImp1c3RpZnlyaWdodCIpfWlmKCFFeHQuaXNTYWZhcmkyJiZlLmVuYWJsZUxpc3RzKXtiKCJpbnNlcnRvcmRlcmVkbGlzdCIsImluc2VydHVub3JkZXJlZGxpc3QiKX1FeHQubWVudS5NYW5hZ2VyLmhpZGVBbGwoKTtlLnN5bmNWYWx1ZSgpfSxyZWxheUJ0bkNtZDpmdW5jdGlvbihhKXt0aGlzLnJlbGF5Q21kKGEuZ2V0SXRlbUlkKCkpfSxyZWxheUNtZDpmdW5jdGlvbihiLGEpe0V4dC5kZWZlcihmdW5jdGlvbigpe3ZhciBjPXRoaXM7Yy5mb2N1cygpO2MuZXhlY0NtZChiLGEpO2MudXBkYXRlVG9vbGJhcigpfSwxMCx0aGlzKX0sZXhlY0NtZDpmdW5jdGlvbihkLGMpe3ZhciBiPXRoaXMsZT1iLmdldERvYygpLGE7ZS5leGVjQ29tbWFuZChkLGZhbHNlLGM9PT1hP251bGw6Yyk7Yi5zeW5jVmFsdWUoKX0sYXBwbHlDb21tYW5kOmZ1bmN0aW9uKGQpe2lmKGQuY3RybEtleSl7dmFyIGE9dGhpcyxnPWQuZ2V0Q2hhckNvZGUoKSxiO2lmKGc+MCl7Zz1TdHJpbmcuZnJvbUNoYXJDb2RlKGcpO3N3aXRjaChnKXtjYXNlImIiOmI9ImJvbGQiO2JyZWFrO2Nhc2UiaSI6Yj0iaXRhbGljIjticmVhaztjYXNlInUiOmI9InVuZGVybGluZSI7YnJlYWt9aWYoYil7YS53aW4uZm9jdXMoKTthLmV4ZWNDbWQoYik7YS5kZWZlckZvY3VzKCk7ZC5wcmV2ZW50RGVmYXVsdCgpfX19fSxpbnNlcnRBdEN1cnNvcjpmdW5jdGlvbihjKXt2YXIgYj10aGlzLGE7aWYoYi5hY3RpdmF0ZWQpe2Iud2luLmZvY3VzKCk7aWYoRXh0LmlzSUUpe2E9Yi5nZXREb2MoKS5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtpZihhKXthLnBhc3RlSFRNTChjKTtiLnN5bmNWYWx1ZSgpO2IuZGVmZXJGb2N1cygpfX1lbHNle2IuZXhlY0NtZCgiSW5zZXJ0SFRNTCIsYyk7Yi5kZWZlckZvY3VzKCl9fX0sZml4S2V5czooZnVuY3Rpb24oKXtpZihFeHQuaXNJRSl7cmV0dXJuIGZ1bmN0aW9uKGgpe3ZhciBjPXRoaXMsYj1oLmdldEtleSgpLGc9Yy5nZXREb2MoKSxpPWMucmVhZE9ubHksYSxkO2lmKGI9PT1oLlRBQil7aC5zdG9wRXZlbnQoKTtpZighaSl7YT1nLnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO2lmKGEpe2EuY29sbGFwc2UodHJ1ZSk7YS5wYXN0ZUhUTUwoIiYjMTYwOyYjMTYwOyYjMTYwOyYjMTYwOyIpO2MuZGVmZXJGb2N1cygpfX19ZWxzZXtpZihiPT09aC5FTlRFUil7aWYoIWkpe2E9Zy5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTtpZihhKXtkPWEucGFyZW50RWxlbWVudCgpO2lmKCFkfHxkLnRhZ05hbWUudG9Mb3dlckNhc2UoKSE9PSJsaSIpe2guc3RvcEV2ZW50KCk7YS5wYXN0ZUhUTUwoIjxiciAvPiIpO2EuY29sbGFwc2UoZmFsc2UpO2Euc2VsZWN0KCl9fX19fX19aWYoRXh0LmlzT3BlcmEpe3JldHVybiBmdW5jdGlvbihiKXt2YXIgYT10aGlzO2lmKGIuZ2V0S2V5KCk9PT1iLlRBQil7Yi5zdG9wRXZlbnQoKTtpZighYS5yZWFkT25seSl7YS53aW4uZm9jdXMoKTthLmV4ZWNDbWQoIkluc2VydEhUTUwiLCImIzE2MDsmIzE2MDsmIzE2MDsmIzE2MDsiKTthLmRlZmVyRm9jdXMoKX19fX1pZihFeHQuaXNXZWJLaXQpe3JldHVybiBmdW5jdGlvbihjKXt2YXIgYj10aGlzLGE9Yy5nZXRLZXkoKSxkPWIucmVhZE9ubHk7aWYoYT09PWMuVEFCKXtjLnN0b3BFdmVudCgpO2lmKCFkKXtiLmV4ZWNDbWQoIkluc2VydFRleHQiLCJcdCIpO2IuZGVmZXJGb2N1cygpfX1lbHNle2lmKGE9PT1jLkVOVEVSKXtjLnN0b3BFdmVudCgpO2lmKCFkKXtiLmV4ZWNDbWQoIkluc2VydEh0bWwiLCI8YnIgLz48YnIgLz4iKTtiLmRlZmVyRm9jdXMoKX19fX19cmV0dXJuIG51bGx9KCkpLGdldFRvb2xiYXI6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50b29sYmFyfSxidXR0b25UaXBzOntib2xkOnt0aXRsZToiQm9sZCAoQ3RybCtCKSIsdGV4dDoiTWFrZSB0aGUgc2VsZWN0ZWQgdGV4dCBib2xkLiIsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJodG1sLWVkaXRvci10aXAifSxpdGFsaWM6e3RpdGxlOiJJdGFsaWMgKEN0cmwrSSkiLHRleHQ6Ik1ha2UgdGhlIHNlbGVjdGVkIHRleHQgaXRhbGljLiIsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJodG1sLWVkaXRvci10aXAifSx1bmRlcmxpbmU6e3RpdGxlOiJVbmRlcmxpbmUgKEN0cmwrVSkiLHRleHQ6IlVuZGVybGluZSB0aGUgc2VsZWN0ZWQgdGV4dC4iLGNsczpFeHQuYmFzZUNTU1ByZWZpeCsiaHRtbC1lZGl0b3ItdGlwIn0saW5jcmVhc2Vmb250c2l6ZTp7dGl0bGU6Ikdyb3cgVGV4dCIsdGV4dDoiSW5jcmVhc2UgdGhlIGZvbnQgc2l6ZS4iLGNsczpFeHQuYmFzZUNTU1ByZWZpeCsiaHRtbC1lZGl0b3ItdGlwIn0sZGVjcmVhc2Vmb250c2l6ZTp7dGl0bGU6IlNocmluayBUZXh0Iix0ZXh0OiJEZWNyZWFzZSB0aGUgZm9udCBzaXplLiIsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJodG1sLWVkaXRvci10aXAifSxiYWNrY29sb3I6e3RpdGxlOiJUZXh0IEhpZ2hsaWdodCBDb2xvciIsdGV4dDoiQ2hhbmdlIHRoZSBiYWNrZ3JvdW5kIGNvbG9yIG9mIHRoZSBzZWxlY3RlZCB0ZXh0LiIsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJodG1sLWVkaXRvci10aXAifSxmb3JlY29sb3I6e3RpdGxlOiJGb250IENvbG9yIix0ZXh0OiJDaGFuZ2UgdGhlIGNvbG9yIG9mIHRoZSBzZWxlY3RlZCB0ZXh0LiIsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJodG1sLWVkaXRvci10aXAifSxqdXN0aWZ5bGVmdDp7dGl0bGU6IkFsaWduIFRleHQgTGVmdCIsdGV4dDoiQWxpZ24gdGV4dCB0byB0aGUgbGVmdC4iLGNsczpFeHQuYmFzZUNTU1ByZWZpeCsiaHRtbC1lZGl0b3ItdGlwIn0sanVzdGlmeWNlbnRlcjp7dGl0bGU6IkNlbnRlciBUZXh0Iix0ZXh0OiJDZW50ZXIgdGV4dCBpbiB0aGUgZWRpdG9yLiIsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJodG1sLWVkaXRvci10aXAifSxqdXN0aWZ5cmlnaHQ6e3RpdGxlOiJBbGlnbiBUZXh0IFJpZ2h0Iix0ZXh0OiJBbGlnbiB0ZXh0IHRvIHRoZSByaWdodC4iLGNsczpFeHQuYmFzZUNTU1ByZWZpeCsiaHRtbC1lZGl0b3ItdGlwIn0saW5zZXJ0dW5vcmRlcmVkbGlzdDp7dGl0bGU6IkJ1bGxldCBMaXN0Iix0ZXh0OiJTdGFydCBhIGJ1bGxldGVkIGxpc3QuIixjbHM6RXh0LmJhc2VDU1NQcmVmaXgrImh0bWwtZWRpdG9yLXRpcCJ9LGluc2VydG9yZGVyZWRsaXN0Ont0aXRsZToiTnVtYmVyZWQgTGlzdCIsdGV4dDoiU3RhcnQgYSBudW1iZXJlZCBsaXN0LiIsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJodG1sLWVkaXRvci10aXAifSxjcmVhdGVsaW5rOnt0aXRsZToiSHlwZXJsaW5rIix0ZXh0OiJNYWtlIHRoZSBzZWxlY3RlZCB0ZXh0IGEgaHlwZXJsaW5rLiIsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJodG1sLWVkaXRvci10aXAifSxzb3VyY2VlZGl0Ont0aXRsZToiU291cmNlIEVkaXQiLHRleHQ6IlN3aXRjaCB0byBzb3VyY2UgZWRpdGluZyBtb2RlLiIsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJodG1sLWVkaXRvci10aXAifX19KTtFeHQuZGVmaW5lKCJFeHQucGFuZWwuVG9vbCIse2V4dGVuZDoiRXh0LkNvbXBvbmVudCIscmVxdWlyZXM6WyJFeHQudGlwLlF1aWNrVGlwTWFuYWdlciJdLGFsaWFzOiJ3aWRnZXQudG9vbCIsYmFzZUNsczpFeHQuYmFzZUNTU1ByZWZpeCsidG9vbCIsZGlzYWJsZWRDbHM6RXh0LmJhc2VDU1NQcmVmaXgrInRvb2wtZGlzYWJsZWQiLHRvb2xQcmVzc2VkQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJ0b29sLXByZXNzZWQiLHRvb2xPdmVyQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJ0b29sLW92ZXIiLGFyaWFSb2xlOiJidXR0b24iLGNoaWxkRWxzOlsidG9vbEVsIl0scmVuZGVyVHBsOlsnPGltZyBpZD0ie2lkfS10b29sRWwiIHNyYz0ie2JsYW5rfSIgY2xhc3M9IntiYXNlQ2xzfS17dHlwZX0iIHJvbGU9InByZXNlbnRhdGlvbiIvPiddLHRvb2x0aXBUeXBlOiJxdGlwIixzdG9wRXZlbnQ6dHJ1ZSxoZWlnaHQ6MTUsd2lkdGg6MTUsaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5hZGRFdmVudHMoImNsaWNrIik7YS50eXBlPWEudHlwZXx8YS5pZDtFeHQuYXBwbHlJZihhLnJlbmRlckRhdGEse2Jhc2VDbHM6YS5iYXNlQ2xzLGJsYW5rOkV4dC5CTEFOS19JTUFHRV9VUkwsdHlwZTphLnR5cGV9KTthLnRvb2x0aXA9YS50b29sdGlwfHxhLnF0aXA7YS5jYWxsUGFyZW50KCk7YS5vbih7ZWxlbWVudDoidG9vbEVsIixjbGljazphLm9uQ2xpY2ssbW91c2Vkb3duOmEub25Nb3VzZURvd24sbW91c2VvdmVyOmEub25Nb3VzZU92ZXIsbW91c2VvdXQ6YS5vbk1vdXNlT3V0LHNjb3BlOmF9KX0sYWZ0ZXJSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE7Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYi50b29sdGlwKXtpZihFeHQuaXNPYmplY3QoYi50b29sdGlwKSl7RXh0LnRpcC5RdWlja1RpcE1hbmFnZXIucmVnaXN0ZXIoRXh0LmFwcGx5KHt0YXJnZXQ6Yi5pZH0sYi50b29sdGlwKSl9ZWxzZXthPWIudG9vbHRpcFR5cGU9PSJxdGlwIj8iZGF0YS1xdGlwIjoidGl0bGUiO2IudG9vbEVsLmRvbS5zZXRBdHRyaWJ1dGUoYSxiLnRvb2x0aXApfX19LGdldEZvY3VzRWw6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbH0sc2V0VHlwZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IudHlwZT1hO2lmKGIucmVuZGVyZWQpe2IudG9vbEVsLmRvbS5jbGFzc05hbWU9Yi5iYXNlQ2xzKyItIithfXJldHVybiBifSxiaW5kVG86ZnVuY3Rpb24oYSl7dGhpcy5vd25lcj1hfSxvbkNsaWNrOmZ1bmN0aW9uKGQsYyl7dmFyIGI9dGhpcyxhO2lmKGIuZGlzYWJsZWQpe3JldHVybiBmYWxzZX1hPWIub3duZXJ8fGIub3duZXJDdDtiLmVsLnJlbW92ZUNscyhiLnRvb2xQcmVzc2VkQ2xzKTtiLmVsLnJlbW92ZUNscyhiLnRvb2xPdmVyQ2xzKTtpZihiLnN0b3BFdmVudCE9PWZhbHNlKXtkLnN0b3BFdmVudCgpfUV4dC5jYWxsYmFjayhiLmhhbmRsZXIsYi5zY29wZXx8YixbZCxjLGEsYl0pO2IuZmlyZUV2ZW50KCJjbGljayIsYixkKTtyZXR1cm4gdHJ1ZX0sb25EZXN0cm95OmZ1bmN0aW9uKCl7aWYoRXh0LmlzT2JqZWN0KHRoaXMudG9vbHRpcCkpe0V4dC50aXAuUXVpY2tUaXBNYW5hZ2VyLnVucmVnaXN0ZXIodGhpcy5pZCl9dGhpcy5jYWxsUGFyZW50KCl9LG9uTW91c2VEb3duOmZ1bmN0aW9uKCl7aWYodGhpcy5kaXNhYmxlZCl7cmV0dXJuIGZhbHNlfXRoaXMuZWwuYWRkQ2xzKHRoaXMudG9vbFByZXNzZWRDbHMpfSxvbk1vdXNlT3ZlcjpmdW5jdGlvbigpe2lmKHRoaXMuZGlzYWJsZWQpe3JldHVybiBmYWxzZX10aGlzLmVsLmFkZENscyh0aGlzLnRvb2xPdmVyQ2xzKX0sb25Nb3VzZU91dDpmdW5jdGlvbigpe3RoaXMuZWwucmVtb3ZlQ2xzKHRoaXMudG9vbE92ZXJDbHMpfX0pO0V4dC5kZWZpbmUoIkV4dC50b29sYmFyLlBhZ2luZyIse2V4dGVuZDoiRXh0LnRvb2xiYXIuVG9vbGJhciIsYWxpYXM6IndpZGdldC5wYWdpbmd0b29sYmFyIixhbHRlcm5hdGVDbGFzc05hbWU6IkV4dC5QYWdpbmdUb29sYmFyIixyZXF1aXJlczpbIkV4dC50b29sYmFyLlRleHRJdGVtIiwiRXh0LmZvcm0uZmllbGQuTnVtYmVyIl0sbWl4aW5zOntiaW5kYWJsZToiRXh0LnV0aWwuQmluZGFibGUifSxkaXNwbGF5SW5mbzpmYWxzZSxwcmVwZW5kQnV0dG9uczpmYWxzZSxkaXNwbGF5TXNnOiJEaXNwbGF5aW5nIHswfSAtIHsxfSBvZiB7Mn0iLGVtcHR5TXNnOiJObyBkYXRhIHRvIGRpc3BsYXkiLGJlZm9yZVBhZ2VUZXh0OiJQYWdlIixhZnRlclBhZ2VUZXh0OiJvZiB7MH0iLGZpcnN0VGV4dDoiRmlyc3QgUGFnZSIscHJldlRleHQ6IlByZXZpb3VzIFBhZ2UiLG5leHRUZXh0OiJOZXh0IFBhZ2UiLGxhc3RUZXh0OiJMYXN0IFBhZ2UiLHJlZnJlc2hUZXh0OiJSZWZyZXNoIixpbnB1dEl0ZW1XaWR0aDozMCxnZXRQYWdpbmdJdGVtczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuW3tpdGVtSWQ6ImZpcnN0Iix0b29sdGlwOmEuZmlyc3RUZXh0LG92ZXJmbG93VGV4dDphLmZpcnN0VGV4dCxpY29uQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJ0YmFyLXBhZ2UtZmlyc3QiLGRpc2FibGVkOnRydWUsaGFuZGxlcjphLm1vdmVGaXJzdCxzY29wZTphfSx7aXRlbUlkOiJwcmV2Iix0b29sdGlwOmEucHJldlRleHQsb3ZlcmZsb3dUZXh0OmEucHJldlRleHQsaWNvbkNsczpFeHQuYmFzZUNTU1ByZWZpeCsidGJhci1wYWdlLXByZXYiLGRpc2FibGVkOnRydWUsaGFuZGxlcjphLm1vdmVQcmV2aW91cyxzY29wZTphfSwiLSIsYS5iZWZvcmVQYWdlVGV4dCx7eHR5cGU6Im51bWJlcmZpZWxkIixpdGVtSWQ6ImlucHV0SXRlbSIsbmFtZToiaW5wdXRJdGVtIixjbHM6RXh0LmJhc2VDU1NQcmVmaXgrInRiYXItcGFnZS1udW1iZXIiLGFsbG93RGVjaW1hbHM6ZmFsc2UsbWluVmFsdWU6MSxoaWRlVHJpZ2dlcjp0cnVlLGVuYWJsZUtleUV2ZW50czp0cnVlLGtleU5hdkVuYWJsZWQ6ZmFsc2Usc2VsZWN0T25Gb2N1czp0cnVlLHN1Ym1pdFZhbHVlOmZhbHNlLGlzRm9ybUZpZWxkOmZhbHNlLHdpZHRoOmEuaW5wdXRJdGVtV2lkdGgsbWFyZ2luczoiLTEgMiAzIDIiLGxpc3RlbmVyczp7c2NvcGU6YSxrZXlkb3duOmEub25QYWdpbmdLZXlEb3duLGJsdXI6YS5vblBhZ2luZ0JsdXJ9fSx7eHR5cGU6InRidGV4dCIsaXRlbUlkOiJhZnRlclRleHRJdGVtIix0ZXh0OkV4dC5TdHJpbmcuZm9ybWF0KGEuYWZ0ZXJQYWdlVGV4dCwxKX0sIi0iLHtpdGVtSWQ6Im5leHQiLHRvb2x0aXA6YS5uZXh0VGV4dCxvdmVyZmxvd1RleHQ6YS5uZXh0VGV4dCxpY29uQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJ0YmFyLXBhZ2UtbmV4dCIsZGlzYWJsZWQ6dHJ1ZSxoYW5kbGVyOmEubW92ZU5leHQsc2NvcGU6YX0se2l0ZW1JZDoibGFzdCIsdG9vbHRpcDphLmxhc3RUZXh0LG92ZXJmbG93VGV4dDphLmxhc3RUZXh0LGljb25DbHM6RXh0LmJhc2VDU1NQcmVmaXgrInRiYXItcGFnZS1sYXN0IixkaXNhYmxlZDp0cnVlLGhhbmRsZXI6YS5tb3ZlTGFzdCxzY29wZTphfSwiLSIse2l0ZW1JZDoicmVmcmVzaCIsdG9vbHRpcDphLnJlZnJlc2hUZXh0LG92ZXJmbG93VGV4dDphLnJlZnJlc2hUZXh0LGljb25DbHM6RXh0LmJhc2VDU1NQcmVmaXgrInRiYXItbG9hZGluZyIsaGFuZGxlcjphLmRvUmVmcmVzaCxzY29wZTphfV19LGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5nZXRQYWdpbmdJdGVtcygpLGE9Yi5pdGVtc3x8Yi5idXR0b25zfHxbXTtpZihiLnByZXBlbmRCdXR0b25zKXtiLml0ZW1zPWEuY29uY2F0KGMpfWVsc2V7Yi5pdGVtcz1jLmNvbmNhdChhKX1kZWxldGUgYi5idXR0b25zO2lmKGIuZGlzcGxheUluZm8pe2IuaXRlbXMucHVzaCgiLT4iKTtiLml0ZW1zLnB1c2goe3h0eXBlOiJ0YnRleHQiLGl0ZW1JZDoiZGlzcGxheUl0ZW0ifSl9Yi5jYWxsUGFyZW50KCk7Yi5hZGRFdmVudHMoImNoYW5nZSIsImJlZm9yZWNoYW5nZSIpO2Iub24oImJlZm9yZXJlbmRlciIsYi5vbkxvYWQsYix7c2luZ2xlOnRydWV9KTtiLmJpbmRTdG9yZShiLnN0b3JlfHwiZXh0LWVtcHR5LXN0b3JlIix0cnVlKX0sdXBkYXRlSW5mbzpmdW5jdGlvbigpe3ZhciBlPXRoaXMsYz1lLmNoaWxkKCIjZGlzcGxheUl0ZW0iKSxhPWUuc3RvcmUsYj1lLmdldFBhZ2VEYXRhKCksZCxnO2lmKGMpe2Q9YS5nZXRDb3VudCgpO2lmKGQ9PT0wKXtnPWUuZW1wdHlNc2d9ZWxzZXtnPUV4dC5TdHJpbmcuZm9ybWF0KGUuZGlzcGxheU1zZyxiLmZyb21SZWNvcmQsYi50b1JlY29yZCxiLnRvdGFsKX1jLnNldFRleHQoZyl9fSxvbkxvYWQ6ZnVuY3Rpb24oKXt2YXIgZz10aGlzLGQsYixjLGEsZSxoO2U9Zy5zdG9yZS5nZXRDb3VudCgpO2g9ZT09PTA7aWYoIWgpe2Q9Zy5nZXRQYWdlRGF0YSgpO2I9ZC5jdXJyZW50UGFnZTtjPWQucGFnZUNvdW50O2E9RXh0LlN0cmluZy5mb3JtYXQoZy5hZnRlclBhZ2VUZXh0LGlzTmFOKGMpPzE6Yyl9ZWxzZXtiPTA7Yz0wO2E9RXh0LlN0cmluZy5mb3JtYXQoZy5hZnRlclBhZ2VUZXh0LDApfUV4dC5zdXNwZW5kTGF5b3V0cygpO2cuY2hpbGQoIiNhZnRlclRleHRJdGVtIikuc2V0VGV4dChhKTtnLmNoaWxkKCIjaW5wdXRJdGVtIikuc2V0RGlzYWJsZWQoaCkuc2V0VmFsdWUoYik7Zy5jaGlsZCgiI2ZpcnN0Iikuc2V0RGlzYWJsZWQoYj09PTF8fGgpO2cuY2hpbGQoIiNwcmV2Iikuc2V0RGlzYWJsZWQoYj09PTF8fGgpO2cuY2hpbGQoIiNuZXh0Iikuc2V0RGlzYWJsZWQoYj09PWN8fGgpO2cuY2hpbGQoIiNsYXN0Iikuc2V0RGlzYWJsZWQoYj09PWN8fGgpO2cuY2hpbGQoIiNyZWZyZXNoIikuZW5hYmxlKCk7Zy51cGRhdGVJbmZvKCk7RXh0LnJlc3VtZUxheW91dHModHJ1ZSk7aWYoZy5yZW5kZXJlZCl7Zy5maXJlRXZlbnQoImNoYW5nZSIsZyxkKX19LGdldFBhZ2VEYXRhOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5zdG9yZSxhPWIuZ2V0VG90YWxDb3VudCgpO3JldHVybnt0b3RhbDphLGN1cnJlbnRQYWdlOmIuY3VycmVudFBhZ2UscGFnZUNvdW50Ok1hdGguY2VpbChhL2IucGFnZVNpemUpLGZyb21SZWNvcmQ6KChiLmN1cnJlbnRQYWdlLTEpKmIucGFnZVNpemUpKzEsdG9SZWNvcmQ6TWF0aC5taW4oYi5jdXJyZW50UGFnZSpiLnBhZ2VTaXplLGEpfX0sb25Mb2FkRXJyb3I6ZnVuY3Rpb24oKXtpZighdGhpcy5yZW5kZXJlZCl7cmV0dXJufXRoaXMuY2hpbGQoIiNyZWZyZXNoIikuZW5hYmxlKCl9LHJlYWRQYWdlRnJvbUlucHV0OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuY2hpbGQoIiNpbnB1dEl0ZW0iKS5nZXRWYWx1ZSgpLGM9cGFyc2VJbnQoYSwxMCk7aWYoIWF8fGlzTmFOKGMpKXt0aGlzLmNoaWxkKCIjaW5wdXRJdGVtIikuc2V0VmFsdWUoYi5jdXJyZW50UGFnZSk7cmV0dXJuIGZhbHNlfXJldHVybiBjfSxvblBhZ2luZ0ZvY3VzOmZ1bmN0aW9uKCl7dGhpcy5jaGlsZCgiI2lucHV0SXRlbSIpLnNlbGVjdCgpfSxvblBhZ2luZ0JsdXI6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5nZXRQYWdlRGF0YSgpLmN1cnJlbnRQYWdlO3RoaXMuY2hpbGQoIiNpbnB1dEl0ZW0iKS5zZXRWYWx1ZShhKX0sb25QYWdpbmdLZXlEb3duOmZ1bmN0aW9uKGksaCl7dmFyIGQ9dGhpcyxiPWguZ2V0S2V5KCksYz1kLmdldFBhZ2VEYXRhKCksYT1oLnNoaWZ0S2V5PzEwOjEsZztpZihiPT1oLlJFVFVSTil7aC5zdG9wRXZlbnQoKTtnPWQucmVhZFBhZ2VGcm9tSW5wdXQoYyk7aWYoZyE9PWZhbHNlKXtnPU1hdGgubWluKE1hdGgubWF4KDEsZyksYy5wYWdlQ291bnQpO2lmKGQuZmlyZUV2ZW50KCJiZWZvcmVjaGFuZ2UiLGQsZykhPT1mYWxzZSl7ZC5zdG9yZS5sb2FkUGFnZShnKX19fWVsc2V7aWYoYj09aC5IT01FfHxiPT1oLkVORCl7aC5zdG9wRXZlbnQoKTtnPWI9PWguSE9NRT8xOmMucGFnZUNvdW50O2kuc2V0VmFsdWUoZyl9ZWxzZXtpZihiPT1oLlVQfHxiPT1oLlBBR0VfVVB8fGI9PWguRE9XTnx8Yj09aC5QQUdFX0RPV04pe2guc3RvcEV2ZW50KCk7Zz1kLnJlYWRQYWdlRnJvbUlucHV0KGMpO2lmKGcpe2lmKGI9PWguRE9XTnx8Yj09aC5QQUdFX0RPV04pe2EqPS0xfWcrPWE7aWYoZz49MSYmZzw9Yy5wYWdlQ291bnQpe2kuc2V0VmFsdWUoZyl9fX19fX0sYmVmb3JlTG9hZDpmdW5jdGlvbigpe2lmKHRoaXMucmVuZGVyZWQmJnRoaXMucmVmcmVzaCl7dGhpcy5yZWZyZXNoLmRpc2FibGUoKX19LG1vdmVGaXJzdDpmdW5jdGlvbigpe2lmKHRoaXMuZmlyZUV2ZW50KCJiZWZvcmVjaGFuZ2UiLHRoaXMsMSkhPT1mYWxzZSl7dGhpcy5zdG9yZS5sb2FkUGFnZSgxKX19LG1vdmVQcmV2aW91czpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLnN0b3JlLmN1cnJlbnRQYWdlLTE7aWYoYT4wKXtpZihiLmZpcmVFdmVudCgiYmVmb3JlY2hhbmdlIixiLGEpIT09ZmFsc2Upe2Iuc3RvcmUucHJldmlvdXNQYWdlKCl9fX0sbW92ZU5leHQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9Yy5nZXRQYWdlRGF0YSgpLnBhZ2VDb3VudCxhPWMuc3RvcmUuY3VycmVudFBhZ2UrMTtpZihhPD1iKXtpZihjLmZpcmVFdmVudCgiYmVmb3JlY2hhbmdlIixjLGEpIT09ZmFsc2Upe2Muc3RvcmUubmV4dFBhZ2UoKX19fSxtb3ZlTGFzdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmdldFBhZ2VEYXRhKCkucGFnZUNvdW50O2lmKGIuZmlyZUV2ZW50KCJiZWZvcmVjaGFuZ2UiLGIsYSkhPT1mYWxzZSl7Yi5zdG9yZS5sb2FkUGFnZShhKX19LGRvUmVmcmVzaDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLnN0b3JlLmN1cnJlbnRQYWdlO2lmKGEuZmlyZUV2ZW50KCJiZWZvcmVjaGFuZ2UiLGEsYikhPT1mYWxzZSl7YS5zdG9yZS5sb2FkUGFnZShiKX19LGdldFN0b3JlTGlzdGVuZXJzOmZ1bmN0aW9uKCl7cmV0dXJue2JlZm9yZWxvYWQ6dGhpcy5iZWZvcmVMb2FkLGxvYWQ6dGhpcy5vbkxvYWQsZXhjZXB0aW9uOnRoaXMub25Mb2FkRXJyb3J9fSx1bmJpbmQ6ZnVuY3Rpb24oYSl7dGhpcy5iaW5kU3RvcmUobnVsbCl9LGJpbmQ6ZnVuY3Rpb24oYSl7dGhpcy5iaW5kU3RvcmUoYSl9LG9uRGVzdHJveTpmdW5jdGlvbigpe3RoaXMudW5iaW5kKCk7dGhpcy5jYWxsUGFyZW50KCl9fSk7RXh0LmRlZmluZSgiRXh0LnRyZWUuQ29sdW1uIix7ZXh0ZW5kOiJFeHQuZ3JpZC5jb2x1bW4uQ29sdW1uIixhbGlhczoid2lkZ2V0LnRyZWVjb2x1bW4iLHRkQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLWNlbGwtdHJlZWNvbHVtbiIsaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXMucmVuZGVyZXJ8fHRoaXMuZGVmYXVsdFJlbmRlcmVyLGI9dGhpcy5zY29wZXx8d2luZG93O3RoaXMucmVuZGVyZXI9ZnVuY3Rpb24obSxvLGUsZCxsLGgsayl7dmFyIHM9W10scT1FeHQuU3RyaW5nLmZvcm1hdCx1PWUuZ2V0RGVwdGgoKSxyPUV4dC5iYXNlQ1NTUHJlZml4KyJ0cmVlLSIsZz1yKyJlbGJvdy0iLG49cisiZXhwYW5kZXIiLGo9JzxpbWcgc3JjPSJ7MX0iIGNsYXNzPSJ7MH0iIC8+Jyx2PSc8aW5wdXQgdHlwZT0iYnV0dG9uIiByb2xlPSJjaGVja2JveCIgY2xhc3M9InswfSIgezF9IC8+JyxpPWEuYXBwbHkoYixhcmd1bWVudHMpLHA9ZS5nZXQoImhyZWYiKSx0PWUuZ2V0KCJocmVmVGFyZ2V0IiksYz1lLmdldCgiY2xzIik7d2hpbGUoZSl7aWYoIWUuaXNSb290KCl8fChlLmlzUm9vdCgpJiZrLnJvb3RWaXNpYmxlKSl7aWYoZS5nZXREZXB0aCgpPT09dSl7cy51bnNoaWZ0KHEoaixyKyJpY29uICIrcisiaWNvbiIrKGUuZ2V0KCJpY29uIik/Ii1pbmxpbmUgIjooZS5pc0xlYWYoKT8iLWxlYWYgIjoiLXBhcmVudCAiKSkrKGUuZ2V0KCJpY29uQ2xzIil8fCIiKSxlLmdldCgiaWNvbiIpfHxFeHQuQkxBTktfSU1BR0VfVVJMKSk7aWYoZS5nZXQoImNoZWNrZWQiKSE9PW51bGwpe3MudW5zaGlmdChxKHYsKHIrImNoZWNrYm94IikrKGUuZ2V0KCJjaGVja2VkIik/IiAiK3IrImNoZWNrYm94LWNoZWNrZWQiOiIiKSxlLmdldCgiY2hlY2tlZCIpPydhcmlhLWNoZWNrZWQ9InRydWUiJzoiIikpO2lmKGUuZ2V0KCJjaGVja2VkIikpe28udGRDbHMrPSgiICIrcisiY2hlY2tlZCIpfX1pZihlLmlzTGFzdCgpKXtpZihlLmlzRXhwYW5kYWJsZSgpKXtzLnVuc2hpZnQocShqLChnKyJlbmQtcGx1cyAiK24pLEV4dC5CTEFOS19JTUFHRV9VUkwpKX1lbHNle3MudW5zaGlmdChxKGosKGcrImVuZCIpLEV4dC5CTEFOS19JTUFHRV9VUkwpKX19ZWxzZXtpZihlLmlzRXhwYW5kYWJsZSgpKXtzLnVuc2hpZnQocShqLChnKyJwbHVzICIrbiksRXh0LkJMQU5LX0lNQUdFX1VSTCkpfWVsc2V7cy51bnNoaWZ0KHEoaiwocisiZWxib3ciKSxFeHQuQkxBTktfSU1BR0VfVVJMKSl9fX1lbHNle2lmKGUuaXNMYXN0KCl8fGUuZ2V0RGVwdGgoKT09PTApe3MudW5zaGlmdChxKGosKGcrImVtcHR5IiksRXh0LkJMQU5LX0lNQUdFX1VSTCkpfWVsc2V7aWYoZS5nZXREZXB0aCgpIT09MCl7cy51bnNoaWZ0KHEoaiwoZysibGluZSIpLEV4dC5CTEFOS19JTUFHRV9VUkwpKX19fX1lPWUucGFyZW50Tm9kZX1pZihwKXtzLnB1c2goJzxhIGhyZWY9IicscCwnIiB0YXJnZXQ9IicsdCwnIj4nLGksIjwvYT4iKX1lbHNle3MucHVzaChpKX1pZihjKXtvLnRkQ2xzKz0iICIrY31yZXR1cm4gcy5qb2luKCIiKX07dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGRlZmF1bHRSZW5kZXJlcjpmdW5jdGlvbihhKXtyZXR1cm4gYX19KTtFeHQuZGVmaW5lKCJFeHQudmlldy5EcmFnWm9uZSIse2V4dGVuZDoiRXh0LmRkLkRyYWdab25lIixjb250YWluZXJTY3JvbGw6ZmFsc2UsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcztFeHQuYXBwbHkoYixhKTtpZighYi5kZEdyb3VwKXtiLmRkR3JvdXA9InZpZXctZGQtem9uZS0iK2Iudmlldy5pZH1iLmNhbGxQYXJlbnQoW2Iudmlldy5lbC5kb20ucGFyZW50Tm9kZV0pO2IuZGRlbD1FeHQuZ2V0KGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpKTtiLmRkZWwuYWRkQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLWRkLXdyYXAiKX0saW5pdDpmdW5jdGlvbihjLGEsYil7dGhpcy5pbml0VGFyZ2V0KGMsYSxiKTt0aGlzLnZpZXcubW9uKHRoaXMudmlldyx7aXRlbW1vdXNlZG93bjp0aGlzLm9uSXRlbU1vdXNlRG93bixzY29wZTp0aGlzfSl9LG9uSXRlbU1vdXNlRG93bjpmdW5jdGlvbihiLGEsZCxjLGcpe2lmKCF0aGlzLmlzUHJldmVudERyYWcoZyxhLGQsYykpe3RoaXMuaGFuZGxlTW91c2VEb3duKGcpO2lmKGIuZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3Rpb25Nb2RlPT0iTVVMVEkiJiYhZy5jdHJsS2V5JiZiLmdldFNlbGVjdGlvbk1vZGVsKCkuaXNTZWxlY3RlZChhKSl7cmV0dXJuIGZhbHNlfX19LGlzUHJldmVudERyYWc6ZnVuY3Rpb24oYSl7cmV0dXJuIGZhbHNlfSxnZXREcmFnRGF0YTpmdW5jdGlvbihjKXt2YXIgYT10aGlzLnZpZXcsYj1jLmdldFRhcmdldChhLmdldEl0ZW1TZWxlY3RvcigpKTtpZihiKXtyZXR1cm57Y29weTphLmNvcHl8fChhLmFsbG93Q29weSYmYy5jdHJsS2V5KSxldmVudDpuZXcgRXh0LkV2ZW50T2JqZWN0SW1wbChjKSx2aWV3OmEsZGRlbDp0aGlzLmRkZWwsaXRlbTpiLHJlY29yZHM6YS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGlvbigpLGZyb21Qb3NpdGlvbjpFeHQuZmx5KGIpLmdldFhZKCl9fX0sb25Jbml0RHJhZzpmdW5jdGlvbihiLGope3ZhciBnPXRoaXMsaD1nLmRyYWdEYXRhLGQ9aC52aWV3LGE9ZC5nZXRTZWxlY3Rpb25Nb2RlbCgpLGM9ZC5nZXRSZWNvcmQoaC5pdGVtKSxpPWguZXZlbnQ7aWYoIWEuaXNTZWxlY3RlZChjKXx8aS5oYXNNb2RpZmllcigpKXthLnNlbGVjdFdpdGhFdmVudChjLGksdHJ1ZSl9aC5yZWNvcmRzPWEuZ2V0U2VsZWN0aW9uKCk7Zy5kZGVsLnVwZGF0ZShnLmdldERyYWdUZXh0KCkpO2cucHJveHkudXBkYXRlKGcuZGRlbC5kb20pO2cub25TdGFydERyYWcoYixqKTtyZXR1cm4gdHJ1ZX0sZ2V0RHJhZ1RleHQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmRyYWdEYXRhLnJlY29yZHMubGVuZ3RoO3JldHVybiBFeHQuU3RyaW5nLmZvcm1hdCh0aGlzLmRyYWdUZXh0LGEsYT09MT8iIjoicyIpfSxnZXRSZXBhaXJYWTpmdW5jdGlvbihiLGEpe3JldHVybiBhP2EuZnJvbVBvc2l0aW9uOmZhbHNlfX0pO0V4dC5kZWZpbmUoIkV4dC50cmVlLlZpZXdEcmFnWm9uZSIse2V4dGVuZDoiRXh0LnZpZXcuRHJhZ1pvbmUiLGlzUHJldmVudERyYWc6ZnVuY3Rpb24oYixhKXtyZXR1cm4oYS5nZXQoImFsbG93RHJhZyIpPT09ZmFsc2UpfHwhIWIuZ2V0VGFyZ2V0KHRoaXMudmlldy5leHBhbmRlclNlbGVjdG9yKX0sYWZ0ZXJSZXBhaXI6ZnVuY3Rpb24oKXt2YXIgaD10aGlzLGE9aC52aWV3LGk9YS5zZWxlY3RlZEl0ZW1DbHMsYj1oLmRyYWdEYXRhLnJlY29yZHMsZyxlPWIubGVuZ3RoLGM9RXh0LmZseSxkO2lmKEV4dC5lbmFibGVGeCYmaC5yZXBhaXJIaWdobGlnaHQpe2ZvcihnPTA7ZzxlO2crKyl7ZD1hLmdldE5vZGUoYltnXSk7YyhkLmZpcnN0Q2hpbGQpLmhpZ2hsaWdodChoLnJlcGFpckhpZ2hsaWdodENvbG9yLHtsaXN0ZW5lcnM6e2JlZm9yZWFuaW1hdGU6ZnVuY3Rpb24oKXtpZihhLmlzU2VsZWN0ZWQoZCkpe2MoZCkucmVtb3ZlQ2xzKGkpfX0sYWZ0ZXJhbmltYXRlOmZ1bmN0aW9uKCl7aWYoYS5pc1NlbGVjdGVkKGQpKXtjKGQpLmFkZENscyhpKX19fX0pfX1oLmRyYWdnaW5nPWZhbHNlfX0pO0V4dC5kZWZpbmUoIkV4dC52aWV3LkRyb3Bab25lIix7ZXh0ZW5kOiJFeHQuZGQuRHJvcFpvbmUiLGluZGljYXRvckh0bWw6JzxkaXYgY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrJ2dyaWQtZHJvcC1pbmRpY2F0b3ItbGVmdCI+PC9kaXY+PGRpdiBjbGFzcz0iJytFeHQuYmFzZUNTU1ByZWZpeCsnZ3JpZC1kcm9wLWluZGljYXRvci1yaWdodCI+PC9kaXY+JyxpbmRpY2F0b3JDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtZHJvcC1pbmRpY2F0b3IiLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7RXh0LmFwcGx5KGIsYSk7aWYoIWIuZGRHcm91cCl7Yi5kZEdyb3VwPSJ2aWV3LWRkLXpvbmUtIitiLnZpZXcuaWR9Yi5jYWxsUGFyZW50KFtiLnZpZXcuZWxdKX0sZmlyZVZpZXdFdmVudDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYTtiLmxvY2soKTthPWIudmlldy5maXJlRXZlbnQuYXBwbHkoYi52aWV3LGFyZ3VtZW50cyk7Yi51bmxvY2soKTtyZXR1cm4gYX0sZ2V0VGFyZ2V0RnJvbUV2ZW50OmZ1bmN0aW9uKGspe3ZhciBqPWsuZ2V0VGFyZ2V0KHRoaXMudmlldy5nZXRJdGVtU2VsZWN0b3IoKSksZCxjLGIsZyxhLGg7aWYoIWope2Q9ay5nZXRQYWdlWSgpO2ZvcihnPTAsYz10aGlzLnZpZXcuZ2V0Tm9kZXMoKSxhPWMubGVuZ3RoO2c8YTtnKyspe2I9Y1tnXTtoPUV4dC5mbHkoYikuZ2V0Qm94KCk7aWYoZDw9aC5ib3R0b20pe3JldHVybiBifX19cmV0dXJuIGp9LGdldEluZGljYXRvcjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoIWEuaW5kaWNhdG9yKXthLmluZGljYXRvcj1uZXcgRXh0LkNvbXBvbmVudCh7aHRtbDphLmluZGljYXRvckh0bWwsY2xzOmEuaW5kaWNhdG9yQ2xzLG93bmVyQ3Q6YS52aWV3LGZsb2F0aW5nOnRydWUsc2hhZG93OmZhbHNlfSl9cmV0dXJuIGEuaW5kaWNhdG9yfSxnZXRQb3NpdGlvbjpmdW5jdGlvbihjLGEpe3ZhciBnPWMuZ2V0WFkoKVsxXSxiPUV4dC5mbHkoYSkuZ2V0UmVnaW9uKCksZDtpZigoYi5ib3R0b20tZyk+PShiLmJvdHRvbS1iLnRvcCkvMil7ZD0iYmVmb3JlIn1lbHNle2Q9ImFmdGVyIn1yZXR1cm4gZH0sY29udGFpbnNSZWNvcmRBdE9mZnNldDpmdW5jdGlvbihkLGIsZyl7aWYoIWIpe3JldHVybiBmYWxzZX12YXIgYT10aGlzLnZpZXcsYz1hLmluZGV4T2YoYiksZT1hLmdldE5vZGUoYytnKSxoPWU/YS5nZXRSZWNvcmQoZSk6bnVsbDtyZXR1cm4gaCYmRXh0LkFycmF5LmNvbnRhaW5zKGQsaCl9LHBvc2l0aW9uSW5kaWNhdG9yOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZz10aGlzLGk9Zy52aWV3LGg9Zy5nZXRQb3NpdGlvbihkLGIpLGs9aS5nZXRSZWNvcmQoYiksYT1jLnJlY29yZHMsajtpZighRXh0LkFycmF5LmNvbnRhaW5zKGEsaykmJihoPT0iYmVmb3JlIiYmIWcuY29udGFpbnNSZWNvcmRBdE9mZnNldChhLGssLTEpfHxoPT0iYWZ0ZXIiJiYhZy5jb250YWluc1JlY29yZEF0T2Zmc2V0KGEsaywxKSkpe2cudmFsaWQ9dHJ1ZTtpZihnLm92ZXJSZWNvcmQhPWt8fGcuY3VycmVudFBvc2l0aW9uIT1oKXtqPUV4dC5mbHkoYikuZ2V0WSgpLWkuZWwuZ2V0WSgpLTE7aWYoaD09ImFmdGVyIil7ais9RXh0LmZseShiKS5nZXRIZWlnaHQoKX1nLmdldEluZGljYXRvcigpLnNldFdpZHRoKEV4dC5mbHkoaS5lbCkuZ2V0V2lkdGgoKSkuc2hvd0F0KDAsaik7Zy5vdmVyUmVjb3JkPWs7Zy5jdXJyZW50UG9zaXRpb249aH19ZWxzZXtnLmludmFsaWRhdGVEcm9wKCl9fSxpbnZhbGlkYXRlRHJvcDpmdW5jdGlvbigpe2lmKHRoaXMudmFsaWQpe3RoaXMudmFsaWQ9ZmFsc2U7dGhpcy5nZXRJbmRpY2F0b3IoKS5oaWRlKCl9fSxvbk5vZGVPdmVyOmZ1bmN0aW9uKGMsYSxnLGQpe3ZhciBiPXRoaXM7aWYoIUV4dC5BcnJheS5jb250YWlucyhkLnJlY29yZHMsYi52aWV3LmdldFJlY29yZChjKSkpe2IucG9zaXRpb25JbmRpY2F0b3IoYyxkLGcpfXJldHVybiBiLnZhbGlkP2IuZHJvcEFsbG93ZWQ6Yi5kcm9wTm90QWxsb3dlZH0sbm90aWZ5T3V0OmZ1bmN0aW9uKGMsYSxnLGQpe3ZhciBiPXRoaXM7Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyk7ZGVsZXRlIGIub3ZlclJlY29yZDtkZWxldGUgYi5jdXJyZW50UG9zaXRpb247aWYoYi5pbmRpY2F0b3Ipe2IuaW5kaWNhdG9yLmhpZGUoKX19LG9uQ29udGFpbmVyT3ZlcjpmdW5jdGlvbihhLGgsZyl7dmFyIGQ9dGhpcyxiPWQudmlldyxjPWIuc3RvcmUuZ2V0Q291bnQoKTtpZihjKXtkLnBvc2l0aW9uSW5kaWNhdG9yKGIuZ2V0Tm9kZShjLTEpLGcsaCl9ZWxzZXtkZWxldGUgZC5vdmVyUmVjb3JkO2RlbGV0ZSBkLmN1cnJlbnRQb3NpdGlvbjtkLmdldEluZGljYXRvcigpLnNldFdpZHRoKEV4dC5mbHkoYi5lbCkuZ2V0V2lkdGgoKSkuc2hvd0F0KDAsMCk7ZC52YWxpZD10cnVlfXJldHVybiBkLmRyb3BBbGxvd2VkfSxvbkNvbnRhaW5lckRyb3A6ZnVuY3Rpb24oYSxjLGIpe3JldHVybiB0aGlzLm9uTm9kZURyb3AoYSxudWxsLGMsYil9LG9uTm9kZURyb3A6ZnVuY3Rpb24oZyxhLGksaCl7dmFyIGQ9dGhpcyxjPWZhbHNlLGI9e3dhaXQ6ZmFsc2UscHJvY2Vzc0Ryb3A6ZnVuY3Rpb24oKXtkLmludmFsaWRhdGVEcm9wKCk7ZC5oYW5kbGVOb2RlRHJvcChoLGQub3ZlclJlY29yZCxkLmN1cnJlbnRQb3NpdGlvbik7Yz10cnVlO2QuZmlyZVZpZXdFdmVudCgiZHJvcCIsZyxoLGQub3ZlclJlY29yZCxkLmN1cnJlbnRQb3NpdGlvbil9LGNhbmNlbERyb3A6ZnVuY3Rpb24oKXtkLmludmFsaWRhdGVEcm9wKCk7Yz10cnVlfX0saj1mYWxzZTtpZihkLnZhbGlkKXtqPWQuZmlyZVZpZXdFdmVudCgiYmVmb3JlZHJvcCIsZyxoLGQub3ZlclJlY29yZCxkLmN1cnJlbnRQb3NpdGlvbixiKTtpZihiLndhaXQpe3JldHVybn1pZihqIT09ZmFsc2Upe2lmKCFjKXtiLnByb2Nlc3NEcm9wKCl9fX1yZXR1cm4gan0sZGVzdHJveTpmdW5jdGlvbigpe0V4dC5kZXN0cm95KHRoaXMuaW5kaWNhdG9yKTtkZWxldGUgdGhpcy5pbmRpY2F0b3I7dGhpcy5jYWxsUGFyZW50KCl9fSk7RXh0LmRlZmluZSgiRXh0LmdyaWQuVmlld0Ryb3Bab25lIix7ZXh0ZW5kOiJFeHQudmlldy5Ecm9wWm9uZSIsaW5kaWNhdG9ySHRtbDonPGRpdiBjbGFzcz0iJytFeHQuYmFzZUNTU1ByZWZpeCsnZ3JpZC1kcm9wLWluZGljYXRvci1sZWZ0Ij48L2Rpdj48ZGl2IGNsYXNzPSInK0V4dC5iYXNlQ1NTUHJlZml4KydncmlkLWRyb3AtaW5kaWNhdG9yLXJpZ2h0Ij48L2Rpdj4nLGluZGljYXRvckNsczpFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1kcm9wLWluZGljYXRvciIsaGFuZGxlTm9kZURyb3A6ZnVuY3Rpb24oYixkLGUpe3ZhciBqPXRoaXMudmlldyxrPWouZ2V0U3RvcmUoKSxoLGEsYyxnO2lmKGIuY29weSl7YT1iLnJlY29yZHM7Yi5yZWNvcmRzPVtdO2ZvcihjPTAsZz1hLmxlbmd0aDtjPGc7YysrKXtiLnJlY29yZHMucHVzaChhW2NdLmNvcHkoYVtjXS5nZXRJZCgpKSl9fWVsc2V7Yi52aWV3LnN0b3JlLnJlbW92ZShiLnJlY29yZHMsYi52aWV3PT09ail9aD1rLmluZGV4T2YoZCk7aWYoZSE9PSJiZWZvcmUiKXtoKyt9ay5pbnNlcnQoaCxiLnJlY29yZHMpO2ouZ2V0U2VsZWN0aW9uTW9kZWwoKS5zZWxlY3QoYi5yZWNvcmRzKX19KTtFeHQuZGVmaW5lKCJFeHQudHJlZS5WaWV3RHJvcFpvbmUiLHtleHRlbmQ6IkV4dC52aWV3LkRyb3Bab25lIixhbGxvd1BhcmVudEluc2VydHM6ZmFsc2UsYWxsb3dDb250YWluZXJEcm9wczpmYWxzZSxhcHBlbmRPbmx5OmZhbHNlLGV4cGFuZERlbGF5OjUwMCxpbmRpY2F0b3JDbHM6RXh0LmJhc2VDU1NQcmVmaXgrInRyZWUtZGRpbmRpY2F0b3IiLGV4cGFuZE5vZGU6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy52aWV3O2lmKCFiLmlzTGVhZigpJiYhYi5pc0V4cGFuZGVkKCkpe2EuZXhwYW5kKGIpO3RoaXMuZXhwYW5kUHJvY0lkPWZhbHNlfX0scXVldWVFeHBhbmQ6ZnVuY3Rpb24oYSl7dGhpcy5leHBhbmRQcm9jSWQ9RXh0LkZ1bmN0aW9uLmRlZmVyKHRoaXMuZXhwYW5kTm9kZSx0aGlzLmV4cGFuZERlbGF5LHRoaXMsW2FdKX0sY2FuY2VsRXhwYW5kOmZ1bmN0aW9uKCl7aWYodGhpcy5leHBhbmRQcm9jSWQpe2NsZWFyVGltZW91dCh0aGlzLmV4cGFuZFByb2NJZCk7dGhpcy5leHBhbmRQcm9jSWQ9ZmFsc2V9fSxnZXRQb3NpdGlvbjpmdW5jdGlvbihnLGIpe3ZhciBqPXRoaXMudmlldyxjPWouZ2V0UmVjb3JkKGIpLGg9Zy5nZXRQYWdlWSgpLGs9Yy5pc0xlYWYoKSxhPWZhbHNlLGk9RXh0LmZseShiKS5nZXRSZWdpb24oKSxkO2lmKGMuaXNSb290KCkpe3JldHVybiJhcHBlbmQifWlmKHRoaXMuYXBwZW5kT25seSl7cmV0dXJuIGs/ZmFsc2U6ImFwcGVuZCJ9aWYoIXRoaXMuYWxsb3dQYXJlbnRJbnNlcnQpe2E9Yy5oYXNDaGlsZE5vZGVzKCkmJmMuaXNFeHBhbmRlZCgpfWQ9KGkuYm90dG9tLWkudG9wKS8oaz8yOjMpO2lmKGg+PWkudG9wJiZoPChpLnRvcCtkKSl7cmV0dXJuImJlZm9yZSJ9ZWxzZXtpZighYSYmKGt8fChoPj0oaS5ib3R0b20tZCkmJmg8PWkuYm90dG9tKSkpe3JldHVybiJhZnRlciJ9ZWxzZXtyZXR1cm4iYXBwZW5kIn19fSxpc1ZhbGlkRHJvcFBvaW50OmZ1bmN0aW9uKGIsaixuLGssZyl7aWYoIWJ8fCFnLml0ZW0pe3JldHVybiBmYWxzZX12YXIgbz10aGlzLnZpZXcsbD1vLmdldFJlY29yZChiKSxkPWcucmVjb3JkcyxhPWQubGVuZ3RoLG09ZC5sZW5ndGgsYyxoO2lmKCEobCYmaiYmYSkpe3JldHVybiBmYWxzZX1mb3IoYz0wO2M8bTtjKyspe2g9ZFtjXTtpZihoLmlzTm9kZSYmaC5jb250YWlucyhsKSl7cmV0dXJuIGZhbHNlfX1pZihqPT09ImFwcGVuZCImJmwuZ2V0KCJhbGxvd0Ryb3AiKT09PWZhbHNlKXtyZXR1cm4gZmFsc2V9ZWxzZXtpZihqIT0iYXBwZW5kIiYmbC5wYXJlbnROb2RlLmdldCgiYWxsb3dEcm9wIik9PT1mYWxzZSl7cmV0dXJuIGZhbHNlfX1pZihFeHQuQXJyYXkuY29udGFpbnMoZCxsKSl7cmV0dXJuIGZhbHNlfXJldHVybiB0cnVlfSxvbk5vZGVPdmVyOmZ1bmN0aW9uKGEsaSxnLGMpe3ZhciBkPXRoaXMuZ2V0UG9zaXRpb24oZyxhKSxiPXRoaXMuZHJvcE5vdEFsbG93ZWQsaj10aGlzLnZpZXcsaD1qLmdldFJlY29yZChhKSxrPXRoaXMuZ2V0SW5kaWNhdG9yKCksbT0wLGw9MDt0aGlzLmNhbmNlbEV4cGFuZCgpO2lmKGQ9PSJhcHBlbmQiJiYhdGhpcy5leHBhbmRQcm9jSWQmJiFFeHQuQXJyYXkuY29udGFpbnMoYy5yZWNvcmRzLGgpJiYhaC5pc0xlYWYoKSYmIWguaXNFeHBhbmRlZCgpKXt0aGlzLnF1ZXVlRXhwYW5kKGgpfWlmKHRoaXMuaXNWYWxpZERyb3BQb2ludChhLGQsaSxnLGMpKXt0aGlzLnZhbGlkPXRydWU7dGhpcy5jdXJyZW50UG9zaXRpb249ZDt0aGlzLm92ZXJSZWNvcmQ9aDtrLnNldFdpZHRoKEV4dC5mbHkoYSkuZ2V0V2lkdGgoKSk7bD1FeHQuZmx5KGEpLmdldFkoKS1FeHQuZmx5KGouZWwpLmdldFkoKS0xO2lmKGQ9PSJiZWZvcmUiKXtiPWguaXNGaXJzdCgpP0V4dC5iYXNlQ1NTUHJlZml4KyJ0cmVlLWRyb3Atb2stYWJvdmUiOkV4dC5iYXNlQ1NTUHJlZml4KyJ0cmVlLWRyb3Atb2stYmV0d2VlbiI7ay5zaG93QXQoMCxsKTtpLnByb3h5LnNob3coKX1lbHNle2lmKGQ9PSJhZnRlciIpe2I9aC5pc0xhc3QoKT9FeHQuYmFzZUNTU1ByZWZpeCsidHJlZS1kcm9wLW9rLWJlbG93IjpFeHQuYmFzZUNTU1ByZWZpeCsidHJlZS1kcm9wLW9rLWJldHdlZW4iO2wrPUV4dC5mbHkoYSkuZ2V0SGVpZ2h0KCk7ay5zaG93QXQoMCxsKTtpLnByb3h5LnNob3coKX1lbHNle2I9RXh0LmJhc2VDU1NQcmVmaXgrInRyZWUtZHJvcC1vay1hcHBlbmQiO2suaGlkZSgpfX19ZWxzZXt0aGlzLnZhbGlkPWZhbHNlfXRoaXMuY3VycmVudENscz1iO3JldHVybiBifSxvbkNvbnRhaW5lck92ZXI6ZnVuY3Rpb24oYSxjLGIpe3JldHVybiBjLmdldFRhcmdldCgiLiIrdGhpcy5pbmRpY2F0b3JDbHMpP3RoaXMuY3VycmVudENsczp0aGlzLmRyb3BOb3RBbGxvd2VkfSxub3RpZnlPdXQ6ZnVuY3Rpb24oKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTt0aGlzLmNhbmNlbEV4cGFuZCgpfSxoYW5kbGVOb2RlRHJvcDpmdW5jdGlvbihkLGwsZSl7dmFyIG49dGhpcyxvPW4udmlldyxnPWwucGFyZW50Tm9kZSxwPW8uZ2V0U3RvcmUoKSxyPVtdLGEsYyxrLGIsaixtLHEsaDtpZihkLmNvcHkpe2E9ZC5yZWNvcmRzO2QucmVjb3Jkcz1bXTtmb3IoYz0wLGs9YS5sZW5ndGg7YzxrO2MrKyl7ZC5yZWNvcmRzLnB1c2goRXh0LmFwcGx5KHt9LGFbY10uZGF0YSkpfX1uLmNhbmNlbEV4cGFuZCgpO2lmKGU9PSJiZWZvcmUiKXtiPWcuaW5zZXJ0QmVmb3JlO2o9W251bGwsbF07bD1nfWVsc2V7aWYoZT09ImFmdGVyIil7aWYobC5uZXh0U2libGluZyl7Yj1nLmluc2VydEJlZm9yZTtqPVtudWxsLGwubmV4dFNpYmxpbmddfWVsc2V7Yj1nLmFwcGVuZENoaWxkO2o9W251bGxdfWw9Z31lbHNle2lmKCFsLmlzRXhwYW5kZWQoKSl7bT10cnVlfWI9bC5hcHBlbmRDaGlsZDtqPVtudWxsXX19cT1mdW5jdGlvbigpe3ZhciB1LHQscyxpLHY7Zm9yKGM9MCxrPWQucmVjb3Jkcy5sZW5ndGg7YzxrO2MrKyl7alswXT1kLnJlY29yZHNbY107dT1iLmFwcGx5KGwsaik7aWYoRXh0LmVuYWJsZUZ4JiZuLmRyb3BIaWdobGlnaHQpe3IucHVzaChvLmdldE5vZGUodSkpfX1pZihFeHQuZW5hYmxlRngmJm4uZHJvcEhpZ2hsaWdodCl7cz1yLmxlbmd0aDtpPW4uZHJvcEhpZ2hsaWdodENvbG9yO2Zvcih0PTA7dDxzO3QrKyl7dj1yW3RdO2lmKHYpe0V4dC5mbHkodi5maXJzdENoaWxkP3YuZmlyc3RDaGlsZDp2KS5oaWdobGlnaHQoaSl9fX19O2lmKG0pe2wuZXhwYW5kKGZhbHNlLHEpfWVsc2V7cSgpfX19KTtFeHQuZGVmaW5lKCJFeHQudmlldy5UYWJsZUNodW5rZXIiLHtzaW5nbGV0b246dHJ1ZSxyZXF1aXJlczpbIkV4dC5YVGVtcGxhdGUiXSxtZXRhVGFibGVUcGw6WyJ7JWlmICh0aGlzLm9wZW5UYWJsZVdyYXApb3V0LnB1c2godGhpcy5vcGVuVGFibGVXcmFwKCkpJX0iLCc8dGFibGUgY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtdGFibGUgIitFeHQuYmFzZUNTU1ByZWZpeCsnZ3JpZC10YWJsZS1yZXNpemVyIiBib3JkZXI9IjAiIGNlbGxzcGFjaW5nPSIwIiBjZWxscGFkZGluZz0iMCIge1t0aGlzLmVtYmVkRnVsbFdpZHRoKHZhbHVlcyldfT4nLCI8dGJvZHk+IiwnPHRyIGNsYXNzPSInK0V4dC5iYXNlQ1NTUHJlZml4KydncmlkLWhlYWRlci1yb3ciPicsJzx0cGwgZm9yPSJjb2x1bW5zIj4nLCc8dGggY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrJ2dyaWQtY29sLXJlc2l6ZXIte2lkfSIgc3R5bGU9IndpZHRoOiB7d2lkdGh9cHg7IGhlaWdodDogMHB4OyI+PC90aD4nLCI8L3RwbD4iLCI8L3RyPiIsIntbdGhpcy5vcGVuUm93cygpXX0iLCJ7cm93fSIsJzx0cGwgZm9yPSJmZWF0dXJlcyI+Jywie1t0aGlzLmVtYmVkRmVhdHVyZSh2YWx1ZXMsIHBhcmVudCwgeGluZGV4LCB4Y291bnQpXX0iLCI8L3RwbD4iLCJ7W3RoaXMuY2xvc2VSb3dzKCldfSIsIjwvdGJvZHk+IiwiPC90YWJsZT4iLCJ7JWlmICh0aGlzLmNsb3NlVGFibGVXcmFwKW91dC5wdXNoKHRoaXMuY2xvc2VUYWJsZVdyYXAoKSklfSJdLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7RXh0LlhUZW1wbGF0ZS5wcm90b3R5cGUucmVjdXJzZT1mdW5jdGlvbihiLGEpe3JldHVybiB0aGlzLmFwcGx5KGE/YlthXTpiKX19LGVtYmVkRmVhdHVyZTpmdW5jdGlvbihiLGQsYSxlKXt2YXIgYz0iIjtpZighYi5kaXNhYmxlZCl7Yz1iLmdldEZlYXR1cmVUcGwoYixkLGEsZSl9cmV0dXJuIGN9LGVtYmVkRnVsbFdpZHRoOmZ1bmN0aW9uKGIpe3ZhciBhPSdzdHlsZT0id2lkdGg6e2Z1bGxXaWR0aH1weDsnO2lmKCFiLnJvd0NvdW50KXthKz0iaGVpZ2h0OjFweDsifXJldHVybiBhKyciJ30sb3BlblJvd3M6ZnVuY3Rpb24oKXtyZXR1cm4nPHRwbCBmb3I9InJvd3MiPid9LGNsb3NlUm93czpmdW5jdGlvbigpe3JldHVybiI8L3RwbD4ifSxtZXRhUm93VHBsOlsnPHRyIGNsYXNzPSInK0V4dC5iYXNlQ1NTUHJlZml4KydncmlkLXJvdyB7W3RoaXMuZW1iZWRSb3dDbHMoKV19IiB7W3RoaXMuZW1iZWRSb3dBdHRyKCldfT4nLCc8dHBsIGZvcj0iY29sdW1ucyI+JywnPHRkIGNsYXNzPSJ7Y2xzfSAnK0V4dC5iYXNlQ1NTUHJlZml4KyJncmlkLWNlbGwgIitFeHQuYmFzZUNTU1ByZWZpeCsnZ3JpZC1jZWxsLXtjb2x1bW5JZH0ge3tpZH0tbW9kaWZpZWR9IHt7aWR9LXRkQ2xzfSB7W3RoaXMuZmlyc3RPckxhc3RDbHMoeGluZGV4LCB4Y291bnQpXX0iIHt7aWR9LXRkQXR0cn0+JywnPGRpdiB7dW5zZWxlY3RhYmxlQXR0cn0gY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrJ2dyaWQtY2VsbC1pbm5lciB7dW5zZWxlY3RhYmxlQ2xzfSIgc3R5bGU9InRleHQtYWxpZ246IHthbGlnbn07IHt7aWR9LXN0eWxlfTsiPnt7aWR9fTwvZGl2PicsIjwvdGQ+IiwiPC90cGw+IiwiPC90cj4iXSxmaXJzdE9yTGFzdENsczpmdW5jdGlvbihhLGIpe2lmKGE9PT0xKXtyZXR1cm4gRXh0LnZpZXcuVGFibGUucHJvdG90eXBlLmZpcnN0Q2xzfWVsc2V7aWYoYT09PWIpe3JldHVybiBFeHQudmlldy5UYWJsZS5wcm90b3R5cGUubGFzdENsc319fSxlbWJlZFJvd0NsczpmdW5jdGlvbigpe3JldHVybiJ7cm93Q2xzfSJ9LGVtYmVkUm93QXR0cjpmdW5jdGlvbigpe3JldHVybiJ7cm93QXR0cn0ifSxvcGVuVGFibGVXcmFwOnVuZGVmaW5lZCxjbG9zZVRhYmxlV3JhcDp1bmRlZmluZWQsZ2V0VGFibGVUcGw6ZnVuY3Rpb24oayxiKXt2YXIgaixoPXtvcGVuUm93czp0aGlzLm9wZW5Sb3dzLGNsb3NlUm93czp0aGlzLmNsb3NlUm93cyxlbWJlZEZlYXR1cmU6dGhpcy5lbWJlZEZlYXR1cmUsZW1iZWRGdWxsV2lkdGg6dGhpcy5lbWJlZEZ1bGxXaWR0aCxvcGVuVGFibGVXcmFwOnRoaXMub3BlblRhYmxlV3JhcCxjbG9zZVRhYmxlV3JhcDp0aGlzLmNsb3NlVGFibGVXcmFwfSxnPXt9LGM9ay5mZWF0dXJlc3x8W10sbT1jLmxlbmd0aCxlPTAsbD17ZW1iZWRSb3dDbHM6dGhpcy5lbWJlZFJvd0NscyxlbWJlZFJvd0F0dHI6dGhpcy5lbWJlZFJvd0F0dHIsZmlyc3RPckxhc3RDbHM6dGhpcy5maXJzdE9yTGFzdENscyx1bnNlbGVjdGFibGVBdHRyOmsuZW5hYmxlVGV4dFNlbGVjdGlvbj8iIjondW5zZWxlY3RhYmxlPSJvbiInLHVuc2VsZWN0YWJsZUNsczprLmVuYWJsZVRleHRTZWxlY3Rpb24/IiI6RXh0LmJhc2VDU1NQcmVmaXgrInVuc2VsZWN0YWJsZSJ9LGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5tZXRhUm93VHBsLDApLGE7Zm9yKDtlPG07ZSsrKXtpZighY1tlXS5kaXNhYmxlZCl7Y1tlXS5tdXRhdGVNZXRhUm93VHBsKGQpO0V4dC5hcHBseShsLGNbZV0uZ2V0TWV0YVJvd1RwbEZyYWdtZW50cygpKTtFeHQuYXBwbHkoZyxjW2VdLmdldEZyYWdtZW50VHBsKCkpO0V4dC5hcHBseShoLGNbZV0uZ2V0VGFibGVGcmFnbWVudHMoKSl9fWQ9bmV3IEV4dC5YVGVtcGxhdGUoZC5qb2luKCIiKSxsKTtrLnJvdz1kLmFwcGx5VGVtcGxhdGUoayk7YT1uZXcgRXh0LlhUZW1wbGF0ZSh0aGlzLm1ldGFUYWJsZVRwbC5qb2luKCIiKSxoKTtqPWEuYXBwbHlUZW1wbGF0ZShrKTtpZighYil7aj1uZXcgRXh0LlhUZW1wbGF0ZShqLGcpfXJldHVybiBqfX0pO0V4dC5kZWZpbmUoIkV4dC52aWV3LlZpZXciLHtleHRlbmQ6IkV4dC52aWV3LkFic3RyYWN0VmlldyIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuRGF0YVZpZXciLGFsaWFzOiJ3aWRnZXQuZGF0YXZpZXciLGluaGVyaXRhYmxlU3RhdGljczp7RXZlbnRNYXA6e21vdXNlZG93bjoiTW91c2VEb3duIixtb3VzZXVwOiJNb3VzZVVwIixjbGljazoiQ2xpY2siLGRibGNsaWNrOiJEYmxDbGljayIsY29udGV4dG1lbnU6IkNvbnRleHRNZW51Iixtb3VzZW92ZXI6Ik1vdXNlT3ZlciIsbW91c2VvdXQ6Ik1vdXNlT3V0Iixtb3VzZWVudGVyOiJNb3VzZUVudGVyIixtb3VzZWxlYXZlOiJNb3VzZUxlYXZlIixrZXlkb3duOiJLZXlEb3duIixmb2N1czoiRm9jdXMifX0sYWRkQ21wRXZlbnRzOmZ1bmN0aW9uKCl7dGhpcy5hZGRFdmVudHMoImJlZm9yZWl0ZW1tb3VzZWRvd24iLCJiZWZvcmVpdGVtbW91c2V1cCIsImJlZm9yZWl0ZW1tb3VzZWVudGVyIiwiYmVmb3JlaXRlbW1vdXNlbGVhdmUiLCJiZWZvcmVpdGVtY2xpY2siLCJiZWZvcmVpdGVtZGJsY2xpY2siLCJiZWZvcmVpdGVtY29udGV4dG1lbnUiLCJiZWZvcmVpdGVta2V5ZG93biIsIml0ZW1tb3VzZWRvd24iLCJpdGVtbW91c2V1cCIsIml0ZW1tb3VzZWVudGVyIiwiaXRlbW1vdXNlbGVhdmUiLCJpdGVtY2xpY2siLCJpdGVtZGJsY2xpY2siLCJpdGVtY29udGV4dG1lbnUiLCJpdGVta2V5ZG93biIsImJlZm9yZWNvbnRhaW5lcm1vdXNlZG93biIsImJlZm9yZWNvbnRhaW5lcm1vdXNldXAiLCJiZWZvcmVjb250YWluZXJtb3VzZW92ZXIiLCJiZWZvcmVjb250YWluZXJtb3VzZW91dCIsImJlZm9yZWNvbnRhaW5lcmNsaWNrIiwiYmVmb3JlY29udGFpbmVyZGJsY2xpY2siLCJiZWZvcmVjb250YWluZXJjb250ZXh0bWVudSIsImJlZm9yZWNvbnRhaW5lcmtleWRvd24iLCJjb250YWluZXJtb3VzZXVwIiwiY29udGFpbmVybW91c2VvdmVyIiwiY29udGFpbmVybW91c2VvdXQiLCJjb250YWluZXJjbGljayIsImNvbnRhaW5lcmRibGNsaWNrIiwiY29udGFpbmVyY29udGV4dG1lbnUiLCJjb250YWluZXJrZXlkb3duIiwic2VsZWN0aW9uY2hhbmdlIiwiYmVmb3Jlc2VsZWN0IiwiaGlnaGxpZ2h0aXRlbSIsInVuaGlnaGxpZ2h0aXRlbSIpfSxnZXRGb2N1c0VsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0VGFyZ2V0RWwoKX0sYWZ0ZXJSZW5kZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudCgpO2EubW9uKGEuZ2V0VGFyZ2V0RWwoKSx7c2NvcGU6YSxmcmVlemVFdmVudDp0cnVlLGNsaWNrOmEuaGFuZGxlRXZlbnQsbW91c2Vkb3duOmEuaGFuZGxlRXZlbnQsbW91c2V1cDphLmhhbmRsZUV2ZW50LGRibGNsaWNrOmEuaGFuZGxlRXZlbnQsY29udGV4dG1lbnU6YS5oYW5kbGVFdmVudCxtb3VzZW92ZXI6YS5oYW5kbGVFdmVudCxtb3VzZW91dDphLmhhbmRsZUV2ZW50LGtleWRvd246YS5oYW5kbGVFdmVudH0pfSxoYW5kbGVFdmVudDpmdW5jdGlvbihiKXt2YXIgYT1iLnR5cGU9PSJrZXlkb3duIiYmYi5nZXRLZXkoKTtpZih0aGlzLnByb2Nlc3NVSUV2ZW50KGIpIT09ZmFsc2Upe3RoaXMucHJvY2Vzc1NwZWNpYWxFdmVudChiKX1pZihhPT09Yi5TUEFDRSl7Yi5zdG9wRXZlbnQoKX19LHByb2Nlc3NJdGVtRXZlbnQ6RXh0LmVtcHR5Rm4scHJvY2Vzc0NvbnRhaW5lckV2ZW50OkV4dC5lbXB0eUZuLHByb2Nlc3NTcGVjaWFsRXZlbnQ6RXh0LmVtcHR5Rm4sc3RpbGxPdmVySXRlbTpmdW5jdGlvbihiLGEpe3ZhciBjO2lmKGEmJnR5cGVvZihhLm9mZnNldFBhcmVudCk9PT0ib2JqZWN0Iil7Yz0oYi50eXBlPT0ibW91c2VvdXQiKT9iLmdldFJlbGF0ZWRUYXJnZXQoKTpiLmdldFRhcmdldCgpO3JldHVybiBFeHQuZmx5KGEpLmNvbnRhaW5zKGMpfXJldHVybiBmYWxzZX0scHJvY2Vzc1VJRXZlbnQ6ZnVuY3Rpb24oaCl7dmFyIGk9dGhpcyxrPWguZ2V0VGFyZ2V0KGkuZ2V0SXRlbVNlbGVjdG9yKCksaS5nZXRUYXJnZXRFbCgpKSxhPXRoaXMuc3RhdGljcygpLkV2ZW50TWFwLGcsYyxqPWgudHlwZSxkPWkubW91c2VPdmVySXRlbSxiO2lmKCFrKXtpZihqPT0ibW91c2VvdmVyIiYmaS5zdGlsbE92ZXJJdGVtKGgsZCkpe2s9ZH1pZihqPT0ia2V5ZG93biIpe2M9aS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldExhc3RTZWxlY3RlZCgpO2lmKGMpe2s9aS5nZXROb2RlKGMpfX19aWYoayl7Zz1pLmluZGV4T2Yoayk7aWYoIWMpe2M9aS5nZXRSZWNvcmQoayl9aWYoIWN8fGkucHJvY2Vzc0l0ZW1FdmVudChjLGssZyxoKT09PWZhbHNlKXtyZXR1cm4gZmFsc2V9Yj1pLmlzTmV3SXRlbUV2ZW50KGssaCk7aWYoYj09PWZhbHNlKXtyZXR1cm4gZmFsc2V9aWYoKGlbIm9uQmVmb3JlSXRlbSIrYVtiXV0oYyxrLGcsaCk9PT1mYWxzZSl8fChpLmZpcmVFdmVudCgiYmVmb3JlaXRlbSIrYixpLGMsayxnLGgpPT09ZmFsc2UpfHwoaVsib25JdGVtIithW2JdXShjLGssZyxoKT09PWZhbHNlKSl7cmV0dXJuIGZhbHNlfWkuZmlyZUV2ZW50KCJpdGVtIitiLGksYyxrLGcsaCl9ZWxzZXtpZigoaS5wcm9jZXNzQ29udGFpbmVyRXZlbnQoaCk9PT1mYWxzZSl8fChpWyJvbkJlZm9yZUNvbnRhaW5lciIrYVtqXV0oaCk9PT1mYWxzZSl8fChpLmZpcmVFdmVudCgiYmVmb3JlY29udGFpbmVyIitqLGksaCk9PT1mYWxzZSl8fChpWyJvbkNvbnRhaW5lciIrYVtqXV0oaCk9PT1mYWxzZSkpe3JldHVybiBmYWxzZX1pLmZpcmVFdmVudCgiY29udGFpbmVyIitqLGksaCl9cmV0dXJuIHRydWV9LGlzTmV3SXRlbUV2ZW50OmZ1bmN0aW9uKGQsZyl7dmFyIGM9dGhpcyxhPWMubW91c2VPdmVySXRlbSxiPWcudHlwZTtzd2l0Y2goYil7Y2FzZSJtb3VzZW92ZXIiOmlmKGQ9PT1hKXtyZXR1cm4gZmFsc2V9Yy5tb3VzZU92ZXJJdGVtPWQ7cmV0dXJuIm1vdXNlZW50ZXIiO2Nhc2UibW91c2VvdXQiOmlmKGMuc3RpbGxPdmVySXRlbShnLGEpKXtyZXR1cm4gZmFsc2V9Yy5tb3VzZU92ZXJJdGVtPW51bGw7cmV0dXJuIm1vdXNlbGVhdmUifXJldHVybiBifSxvbkl0ZW1Nb3VzZUVudGVyOmZ1bmN0aW9uKGEsYyxiLGQpe2lmKHRoaXMudHJhY2tPdmVyKXt0aGlzLmhpZ2hsaWdodEl0ZW0oYyl9fSxvbkl0ZW1Nb3VzZUxlYXZlOmZ1bmN0aW9uKGEsYyxiLGQpe2lmKHRoaXMudHJhY2tPdmVyKXt0aGlzLmNsZWFySGlnaGxpZ2h0KCl9fSxvbkl0ZW1Nb3VzZURvd246RXh0LmVtcHR5Rm4sb25JdGVtTW91c2VVcDpFeHQuZW1wdHlGbixvbkl0ZW1Gb2N1czpFeHQuZW1wdHlGbixvbkl0ZW1DbGljazpFeHQuZW1wdHlGbixvbkl0ZW1EYmxDbGljazpFeHQuZW1wdHlGbixvbkl0ZW1Db250ZXh0TWVudTpFeHQuZW1wdHlGbixvbkl0ZW1LZXlEb3duOkV4dC5lbXB0eUZuLG9uQmVmb3JlSXRlbU1vdXNlRG93bjpFeHQuZW1wdHlGbixvbkJlZm9yZUl0ZW1Nb3VzZVVwOkV4dC5lbXB0eUZuLG9uQmVmb3JlSXRlbUZvY3VzOkV4dC5lbXB0eUZuLG9uQmVmb3JlSXRlbU1vdXNlRW50ZXI6RXh0LmVtcHR5Rm4sb25CZWZvcmVJdGVtTW91c2VMZWF2ZTpFeHQuZW1wdHlGbixvbkJlZm9yZUl0ZW1DbGljazpFeHQuZW1wdHlGbixvbkJlZm9yZUl0ZW1EYmxDbGljazpFeHQuZW1wdHlGbixvbkJlZm9yZUl0ZW1Db250ZXh0TWVudTpFeHQuZW1wdHlGbixvbkJlZm9yZUl0ZW1LZXlEb3duOkV4dC5lbXB0eUZuLG9uQ29udGFpbmVyTW91c2VEb3duOkV4dC5lbXB0eUZuLG9uQ29udGFpbmVyTW91c2VVcDpFeHQuZW1wdHlGbixvbkNvbnRhaW5lck1vdXNlT3ZlcjpFeHQuZW1wdHlGbixvbkNvbnRhaW5lck1vdXNlT3V0OkV4dC5lbXB0eUZuLG9uQ29udGFpbmVyQ2xpY2s6RXh0LmVtcHR5Rm4sb25Db250YWluZXJEYmxDbGljazpFeHQuZW1wdHlGbixvbkNvbnRhaW5lckNvbnRleHRNZW51OkV4dC5lbXB0eUZuLG9uQ29udGFpbmVyS2V5RG93bjpFeHQuZW1wdHlGbixvbkJlZm9yZUNvbnRhaW5lck1vdXNlRG93bjpFeHQuZW1wdHlGbixvbkJlZm9yZUNvbnRhaW5lck1vdXNlVXA6RXh0LmVtcHR5Rm4sb25CZWZvcmVDb250YWluZXJNb3VzZU92ZXI6RXh0LmVtcHR5Rm4sb25CZWZvcmVDb250YWluZXJNb3VzZU91dDpFeHQuZW1wdHlGbixvbkJlZm9yZUNvbnRhaW5lckNsaWNrOkV4dC5lbXB0eUZuLG9uQmVmb3JlQ29udGFpbmVyRGJsQ2xpY2s6RXh0LmVtcHR5Rm4sb25CZWZvcmVDb250YWluZXJDb250ZXh0TWVudTpFeHQuZW1wdHlGbixvbkJlZm9yZUNvbnRhaW5lcktleURvd246RXh0LmVtcHR5Rm4saGlnaGxpZ2h0SXRlbTpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2EuY2xlYXJIaWdobGlnaHQoKTthLmhpZ2hsaWdodGVkSXRlbT1iO0V4dC5mbHkoYikuYWRkQ2xzKGEub3Zlckl0ZW1DbHMpO2EuZmlyZUV2ZW50KCJoaWdobGlnaHRpdGVtIixhLGIpfSxjbGVhckhpZ2hsaWdodDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmhpZ2hsaWdodGVkSXRlbTtpZihhKXtFeHQuZmx5KGEpLnJlbW92ZUNscyhiLm92ZXJJdGVtQ2xzKTtiLmZpcmVFdmVudCgidW5oaWdobGlnaHRpdGVtIixiLGEpO2RlbGV0ZSBiLmhpZ2hsaWdodGVkSXRlbX19LG9uVXBkYXRlOmZ1bmN0aW9uKGIsYSl7dmFyIGc9dGhpcyxlLGMsZDtpZihnLnJlbmRlcmVkKXtlPWcuZ2V0Tm9kZShhKTtjPWcuY2FsbFBhcmVudChhcmd1bWVudHMpO2Q9Zy5oaWdobGlnaHRlZEl0ZW07aWYoZCYmZD09PWUpe2RlbGV0ZSBnLmhpZ2hsaWdodGVkSXRlbTtpZihjKXtnLmhpZ2hsaWdodEl0ZW0oYyl9fX19LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLmNsZWFySGlnaGxpZ2h0KCk7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9fSk7RXh0LmRlZmluZSgiRXh0LnZpZXcuQm91bmRMaXN0Iix7ZXh0ZW5kOiJFeHQudmlldy5WaWV3IixhbGlhczoid2lkZ2V0LmJvdW5kbGlzdCIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuQm91bmRMaXN0IixyZXF1aXJlczpbIkV4dC5sYXlvdXQuY29tcG9uZW50LkJvdW5kTGlzdCIsIkV4dC50b29sYmFyLlBhZ2luZyJdLHBhZ2VTaXplOjAsYmFzZUNsczpFeHQuYmFzZUNTU1ByZWZpeCsiYm91bmRsaXN0IixpdGVtQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJib3VuZGxpc3QtaXRlbSIsbGlzdEl0ZW1DbHM6IiIsc2hhZG93OmZhbHNlLHRyYWNrT3Zlcjp0cnVlLHJlZnJlc2hlZDowLGRlZmVySW5pdGlhbFJlZnJlc2g6ZmFsc2UsY29tcG9uZW50TGF5b3V0OiJib3VuZGxpc3QiLGNoaWxkRWxzOlsibGlzdEVsIl0scmVuZGVyVHBsOlsnPGRpdiBpZD0ie2lkfS1saXN0RWwiIGNsYXNzPSJ7YmFzZUNsc30tbGlzdC1jdCIgc3R5bGU9Im92ZXJmbG93OmF1dG8iPjwvZGl2PicsInslIiwidmFyIG1lPXZhbHVlcy4kY29tcCwgcGFnaW5nVG9vbGJhcj1tZS5wYWdpbmdUb29sYmFyOyIsImlmIChwYWdpbmdUb29sYmFyKSB7IiwicGFnaW5nVG9vbGJhci5vd25lckxheW91dCA9IG1lLmNvbXBvbmVudExheW91dDsiLCJFeHQuRG9tSGVscGVyLmdlbmVyYXRlTWFya3VwKHBhZ2luZ1Rvb2xiYXIuZ2V0UmVuZGVyVHJlZSgpLCBvdXQpOyIsIn0iLCIlfSIse2Rpc2FibGVGb3JtYXRzOnRydWV9XSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuYmFzZUNscyxjPWIuaXRlbUNscztiLnNlbGVjdGVkSXRlbUNscz1hKyItc2VsZWN0ZWQiO2Iub3Zlckl0ZW1DbHM9YSsiLWl0ZW0tb3ZlciI7Yi5pdGVtU2VsZWN0b3I9Ii4iK2M7aWYoYi5mbG9hdGluZyl7Yi5hZGRDbHMoYSsiLWZsb2F0aW5nIil9aWYoIWIudHBsKXtiLnRwbD1uZXcgRXh0LlhUZW1wbGF0ZSgnPHVsPjx0cGwgZm9yPSIuIj4nLCc8bGkgcm9sZT0ib3B0aW9uIiBjbGFzcz0iJytjKyciPicrYi5nZXRJbm5lclRwbChiLmRpc3BsYXlGaWVsZCkrIjwvbGk+IiwiPC90cGw+PC91bD4iKX1lbHNle2lmKEV4dC5pc1N0cmluZyhiLnRwbCkpe2IudHBsPW5ldyBFeHQuWFRlbXBsYXRlKGIudHBsKX19aWYoYi5wYWdlU2l6ZSl7Yi5wYWdpbmdUb29sYmFyPWIuY3JlYXRlUGFnaW5nVG9vbGJhcigpfWIuY2FsbFBhcmVudCgpfSx1cDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLnBpY2tlckZpZWxkO2lmKGIpe2Zvcig7YTthPWEub3duZXJDdCl7aWYoRXh0LkNvbXBvbmVudFF1ZXJ5LmlzKGEsYikpe3JldHVybiBhfX19cmV0dXJuIGF9LGNyZWF0ZVBhZ2luZ1Rvb2xiYXI6ZnVuY3Rpb24oKXtyZXR1cm4gRXh0LndpZGdldCgicGFnaW5ndG9vbGJhciIse2lkOnRoaXMuaWQrIi1wYWdpbmctdG9vbGJhciIscGFnZVNpemU6dGhpcy5wYWdlU2l6ZSxzdG9yZTp0aGlzLnN0b3JlLGJvcmRlcjpmYWxzZX0pfSxmaW5pc2hSZW5kZXJDaGlsZHJlbjpmdW5jdGlvbigpe3ZhciBhPXRoaXMucGFnaW5nVG9vbGJhcjt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihhKXthLmZpbmlzaFJlbmRlcigpfX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLnBhZ2luZ1Rvb2xiYXI7Yi5jYWxsUGFyZW50KCk7aWYoYi5yZW5kZXJlZCYmYSYmIWIucHJlc2VydmVTY3JvbGxPblJlZnJlc2gpe2IuZWwuYXBwZW5kQ2hpbGQoYS5lbCl9fSxiaW5kU3RvcmU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLnBhZ2luZ1Rvb2xiYXI7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYyl7Yy5iaW5kU3RvcmUodGhpcy5zdG9yZSxiKX19LGdldFRhcmdldEVsOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGlzdEVsfHx0aGlzLmVsfSxnZXRJbm5lclRwbDpmdW5jdGlvbihhKXtyZXR1cm4ieyIrYSsifSJ9LG9uRGVzdHJveTpmdW5jdGlvbigpe0V4dC5kZXN0cm95TWVtYmVycyh0aGlzLCJwYWdpbmdUb29sYmFyIiwibGlzdEVsIik7dGhpcy5jYWxsUGFyZW50KCl9fSk7RXh0LmRlZmluZSgiRXh0LnBpY2tlci5UaW1lIix7ZXh0ZW5kOiJFeHQudmlldy5Cb3VuZExpc3QiLGFsaWFzOiJ3aWRnZXQudGltZXBpY2tlciIscmVxdWlyZXM6WyJFeHQuZGF0YS5TdG9yZSIsIkV4dC5EYXRlIl0saW5jcmVtZW50OjE1LGZvcm1hdDoiZzppIEEiLGRpc3BsYXlGaWVsZDoiZGlzcCIsaW5pdERhdGU6WzIwMDgsMCwxXSxjb21wb25lbnRDbHM6RXh0LmJhc2VDU1NQcmVmaXgrInRpbWVwaWNrZXIiLGxvYWRNYXNrOmZhbHNlLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGE9RXh0LkRhdGUsYj1hLmNsZWFyVGltZSxkPWMuaW5pdERhdGU7Yy5hYnNNaW49YihuZXcgRGF0ZShkWzBdLGRbMV0sZFsyXSkpO2MuYWJzTWF4PWEuYWRkKGIobmV3IERhdGUoZFswXSxkWzFdLGRbMl0pKSwibWkiLCgyNCo2MCktMSk7Yy5zdG9yZT1jLmNyZWF0ZVN0b3JlKCk7Yy51cGRhdGVMaXN0KCk7Yy5jYWxsUGFyZW50KCl9LHNldE1pblZhbHVlOmZ1bmN0aW9uKGEpe3RoaXMubWluVmFsdWU9YTt0aGlzLnVwZGF0ZUxpc3QoKX0sc2V0TWF4VmFsdWU6ZnVuY3Rpb24oYSl7dGhpcy5tYXhWYWx1ZT1hO3RoaXMudXBkYXRlTGlzdCgpfSxub3JtYWxpemVEYXRlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuaW5pdERhdGU7YS5zZXRGdWxsWWVhcihiWzBdLGJbMV0sYlsyXSk7cmV0dXJuIGF9LHVwZGF0ZUxpc3Q6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9Yy5ub3JtYWxpemVEYXRlKGMubWluVmFsdWV8fGMuYWJzTWluKSxhPWMubm9ybWFsaXplRGF0ZShjLm1heFZhbHVlfHxjLmFic01heCk7Yy5zdG9yZS5maWx0ZXJCeShmdW5jdGlvbihkKXt2YXIgZT1kLmdldCgiZGF0ZSIpO3JldHVybiBlPj1iJiZlPD1hfSl9LGNyZWF0ZVN0b3JlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxjPUV4dC5EYXRlLGU9W10sYj1kLmFic01pbixhPWQuYWJzTWF4O3doaWxlKGI8PWEpe2UucHVzaCh7ZGlzcDpjLmRhdGVGb3JtYXQoYixkLmZvcm1hdCksZGF0ZTpifSk7Yj1jLmFkZChiLCJtaSIsZC5pbmNyZW1lbnQpfXJldHVybiBuZXcgRXh0LmRhdGEuU3RvcmUoe2ZpZWxkczpbImRpc3AiLCJkYXRlIl0sZGF0YTplfSl9fSk7RXh0LmRlZmluZSgiRXh0LnZpZXcuQm91bmRMaXN0S2V5TmF2Iix7ZXh0ZW5kOiJFeHQudXRpbC5LZXlOYXYiLHJlcXVpcmVzOiJFeHQudmlldy5Cb3VuZExpc3QiLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKGIsYSl7dmFyIGM9dGhpcztjLmJvdW5kTGlzdD1hLmJvdW5kTGlzdDtjLmNhbGxQYXJlbnQoW2IsRXh0LmFwcGx5KHt9LGEsYy5kZWZhdWx0SGFuZGxlcnMpXSl9LGRlZmF1bHRIYW5kbGVyczp7dXA6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGI9ZS5ib3VuZExpc3QsZD1iLmFsbCxnPWIuaGlnaGxpZ2h0ZWRJdGVtLGM9Zz9iLmluZGV4T2YoZyk6LTEsYT1jPjA/Yy0xOmQuZ2V0Q291bnQoKS0xO2UuaGlnaGxpZ2h0QXQoYSl9LGRvd246ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGI9ZS5ib3VuZExpc3QsZD1iLmFsbCxnPWIuaGlnaGxpZ2h0ZWRJdGVtLGM9Zz9iLmluZGV4T2YoZyk6LTEsYT1jPGQuZ2V0Q291bnQoKS0xP2MrMTowO2UuaGlnaGxpZ2h0QXQoYSl9LHBhZ2V1cDpmdW5jdGlvbigpe30scGFnZWRvd246ZnVuY3Rpb24oKXt9LGhvbWU6ZnVuY3Rpb24oKXt0aGlzLmhpZ2hsaWdodEF0KDApfSxlbmQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuaGlnaGxpZ2h0QXQoYS5ib3VuZExpc3QuYWxsLmdldENvdW50KCktMSl9LGVudGVyOmZ1bmN0aW9uKGEpe3RoaXMuc2VsZWN0SGlnaGxpZ2h0ZWQoYSl9fSxoaWdobGlnaHRBdDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLmJvdW5kTGlzdCxjPWEuYWxsLml0ZW0oYik7aWYoYyl7Yz1jLmRvbTthLmhpZ2hsaWdodEl0ZW0oYyk7YS5nZXRUYXJnZXRFbCgpLnNjcm9sbENoaWxkSW50b1ZpZXcoYyxmYWxzZSl9fSxzZWxlY3RIaWdobGlnaHRlZDpmdW5jdGlvbihnKXt2YXIgZD10aGlzLGI9ZC5ib3VuZExpc3QsYz1iLmhpZ2hsaWdodGVkSXRlbSxhPWIuZ2V0U2VsZWN0aW9uTW9kZWwoKTtpZihjKXthLnNlbGVjdFdpdGhFdmVudChiLmdldFJlY29yZChjKSxnKX19fSk7RXh0LmRlZmluZSgiRXh0LmZvcm0uZmllbGQuQ29tYm9Cb3giLHtleHRlbmQ6IkV4dC5mb3JtLmZpZWxkLlBpY2tlciIscmVxdWlyZXM6WyJFeHQudXRpbC5EZWxheWVkVGFzayIsIkV4dC5FdmVudE9iamVjdCIsIkV4dC52aWV3LkJvdW5kTGlzdCIsIkV4dC52aWV3LkJvdW5kTGlzdEtleU5hdiIsIkV4dC5kYXRhLlN0b3JlTWFuYWdlciIsIkV4dC5sYXlvdXQuY29tcG9uZW50LmZpZWxkLkNvbWJvQm94Il0sYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuZm9ybS5Db21ib0JveCIsYWxpYXM6WyJ3aWRnZXQuY29tYm9ib3giLCJ3aWRnZXQuY29tYm8iXSxtaXhpbnM6e2JpbmRhYmxlOiJFeHQudXRpbC5CaW5kYWJsZSJ9LGNvbXBvbmVudExheW91dDoiY29tYm9ib3giLHRyaWdnZXJDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImZvcm0tYXJyb3ctdHJpZ2dlciIsaGlkZGVuTmFtZToiIixoaWRkZW5EYXRhQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJoaWRlLWRpc3BsYXkgIitFeHQuYmFzZUNTU1ByZWZpeCsiZm9ybS1kYXRhLWhpZGRlbiIsZmllbGRTdWJUcGw6Wyc8ZGl2IGNsYXNzPSJ7aGlkZGVuRGF0YUNsc30iIHJvbGU9InByZXNlbnRhdGlvbiI+PC9kaXY+JywnPGlucHV0IGlkPSJ7aWR9IiB0eXBlPSJ7dHlwZX0iIHtpbnB1dEF0dHJUcGx9IGNsYXNzPSJ7ZmllbGRDbHN9IHt0eXBlQ2xzfSIgYXV0b2NvbXBsZXRlPSJvZmYiJywnPHRwbCBpZj0idmFsdWUiPiB2YWx1ZT0ie1tFeHQudXRpbC5Gb3JtYXQuaHRtbEVuY29kZSh2YWx1ZXMudmFsdWUpXX0iPC90cGw+JywnPHRwbCBpZj0ibmFtZSI+IG5hbWU9IntuYW1lfSI8L3RwbD4nLCc8dHBsIGlmPSJwbGFjZWhvbGRlciI+IHBsYWNlaG9sZGVyPSJ7cGxhY2Vob2xkZXJ9IjwvdHBsPicsJzx0cGwgaWY9InNpemUiPiBzaXplPSJ7c2l6ZX0iPC90cGw+JywnPHRwbCBpZj0ibWF4TGVuZ3RoICE9PSB1bmRlZmluZWQiPiBtYXhsZW5ndGg9InttYXhMZW5ndGh9IjwvdHBsPicsJzx0cGwgaWY9InJlYWRPbmx5Ij4gcmVhZG9ubHk9InJlYWRvbmx5IjwvdHBsPicsJzx0cGwgaWY9ImRpc2FibGVkIj4gZGlzYWJsZWQ9ImRpc2FibGVkIjwvdHBsPicsJzx0cGwgaWY9InRhYklkeCI+IHRhYkluZGV4PSJ7dGFiSWR4fSI8L3RwbD4nLCc8dHBsIGlmPSJmaWVsZFN0eWxlIj4gc3R5bGU9IntmaWVsZFN0eWxlfSI8L3RwbD4nLCIvPiIse2NvbXBpbGVkOnRydWUsZGlzYWJsZUZvcm1hdHM6dHJ1ZX1dLGdldFN1YlRwbERhdGE6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO0V4dC5hcHBseUlmKGEuc3ViVHBsRGF0YSx7aGlkZGVuRGF0YUNsczphLmhpZGRlbkRhdGFDbHN9KTtyZXR1cm4gYS5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGFmdGVyUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTthLnNldEhpZGRlblZhbHVlKGEudmFsdWUpfSxtdWx0aVNlbGVjdDpmYWxzZSxkZWxpbWl0ZXI6IiwgIixkaXNwbGF5RmllbGQ6InRleHQiLHRyaWdnZXJBY3Rpb246ImFsbCIsYWxsUXVlcnk6IiIscXVlcnlQYXJhbToicXVlcnkiLHF1ZXJ5TW9kZToicmVtb3RlIixxdWVyeUNhY2hpbmc6dHJ1ZSxwYWdlU2l6ZTowLGF1dG9TZWxlY3Q6dHJ1ZSx0eXBlQWhlYWQ6ZmFsc2UsdHlwZUFoZWFkRGVsYXk6MjUwLHNlbGVjdE9uVGFiOnRydWUsZm9yY2VTZWxlY3Rpb246ZmFsc2UsZ3Jvd1RvTG9uZ2VzdFZhbHVlOnRydWUsZGVmYXVsdExpc3RDb25maWc6e2xvYWRpbmdIZWlnaHQ6NzAsbWluV2lkdGg6NzAsbWF4SGVpZ2h0OjMwMCxzaGFkb3c6InNpZGVzIn0saWdub3JlU2VsZWN0aW9uOjAscmVtb3ZpbmdSZWNvcmRzOm51bGwscmVzaXplQ29tYm9Ub0dyb3c6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO3JldHVybiBhLmdyb3cmJmEuZ3Jvd1RvTG9uZ2VzdFZhbHVlfSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxjPUV4dC5pc0RlZmluZWQsYj1lLnN0b3JlLGQ9ZS50cmFuc2Zvcm0sYSxnO0V4dC5hcHBseUlmKGUucmVuZGVyU2VsZWN0b3JzLHtoaWRkZW5EYXRhRWw6Ii4iK2UuaGlkZGVuRGF0YUNscy5zcGxpdCgiICIpLmpvaW4oIi4iKX0pO3RoaXMuYWRkRXZlbnRzKCJiZWZvcmVxdWVyeSIsInNlbGVjdCIsImJlZm9yZXNlbGVjdCIsImJlZm9yZWRlc2VsZWN0Iik7aWYoZCl7YT1FeHQuZ2V0RG9tKGQpO2lmKGEpe2lmKCFlLnN0b3JlKXtiPUV4dC5BcnJheS5tYXAoRXh0LkFycmF5LmZyb20oYS5vcHRpb25zKSxmdW5jdGlvbihoKXtyZXR1cm5baC52YWx1ZSxoLnRleHRdfSl9aWYoIWUubmFtZSl7ZS5uYW1lPWEubmFtZX1pZighKCJ2YWx1ZSIgaW4gZSkpe2UudmFsdWU9YS52YWx1ZX19fWUuYmluZFN0b3JlKGJ8fCJleHQtZW1wdHktc3RvcmUiLHRydWUpO2I9ZS5zdG9yZTtpZihiLmF1dG9DcmVhdGVkKXtlLnF1ZXJ5TW9kZT0ibG9jYWwiO2UudmFsdWVGaWVsZD1lLmRpc3BsYXlGaWVsZD0iZmllbGQxIjtpZighYi5leHBhbmRlZCl7ZS5kaXNwbGF5RmllbGQ9ImZpZWxkMiJ9fWlmKCFjKGUudmFsdWVGaWVsZCkpe2UudmFsdWVGaWVsZD1lLmRpc3BsYXlGaWVsZH1nPWUucXVlcnlNb2RlPT09ImxvY2FsIjtpZighYyhlLnF1ZXJ5RGVsYXkpKXtlLnF1ZXJ5RGVsYXk9Zz8xMDo1MDB9aWYoIWMoZS5taW5DaGFycykpe2UubWluQ2hhcnM9Zz8wOjR9aWYoIWUuZGlzcGxheVRwbCl7ZS5kaXNwbGF5VHBsPW5ldyBFeHQuWFRlbXBsYXRlKCc8dHBsIGZvcj0iLiI+e1t0eXBlb2YgdmFsdWVzID09PSAic3RyaW5nIiA/IHZhbHVlcyA6IHZhbHVlc1siJytlLmRpc3BsYXlGaWVsZCsnIl1dfTx0cGwgaWY9InhpbmRleCA8IHhjb3VudCI+JytlLmRlbGltaXRlcisiPC90cGw+PC90cGw+Iil9ZWxzZXtpZihFeHQuaXNTdHJpbmcoZS5kaXNwbGF5VHBsKSl7ZS5kaXNwbGF5VHBsPW5ldyBFeHQuWFRlbXBsYXRlKGUuZGlzcGxheVRwbCl9fWUuY2FsbFBhcmVudCgpO2UuZG9RdWVyeVRhc2s9bmV3IEV4dC51dGlsLkRlbGF5ZWRUYXNrKGUuZG9SYXdRdWVyeSxlKTtpZihlLnN0b3JlLmdldENvdW50KCk+MCl7ZS5zZXRWYWx1ZShlLnZhbHVlKX1pZihhKXtlLnJlbmRlcihhLnBhcmVudE5vZGUsYSk7RXh0LnJlbW92ZU5vZGUoYSk7ZGVsZXRlIGUucmVuZGVyVG99fSxnZXRTdG9yZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLnN0b3JlfSxiZWZvcmVCbHVyOmZ1bmN0aW9uKCl7dGhpcy5kb1F1ZXJ5VGFzay5jYW5jZWwoKTt0aGlzLmFzc2VydFZhbHVlKCl9LGFzc2VydFZhbHVlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEuZ2V0UmF3VmFsdWUoKSxjO2lmKGEuZm9yY2VTZWxlY3Rpb24pe2lmKGEubXVsdGlTZWxlY3Qpe2lmKGIhPT1hLmdldERpc3BsYXlWYWx1ZSgpKXthLnNldFZhbHVlKGEubGFzdFNlbGVjdGlvbil9fWVsc2V7Yz1hLmZpbmRSZWNvcmRCeURpc3BsYXkoYik7aWYoYyl7YS5zZWxlY3QoYyl9ZWxzZXthLnNldFZhbHVlKGEubGFzdFNlbGVjdGlvbil9fX1hLmNvbGxhcHNlKCl9LG9uVHlwZUFoZWFkOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxkPWUuZGlzcGxheUZpZWxkLGI9ZS5zdG9yZS5maW5kUmVjb3JkKGQsZS5nZXRSYXdWYWx1ZSgpKSxjPWUuZ2V0UGlja2VyKCksZyxhLGg7aWYoYil7Zz1iLmdldChkKTthPWcubGVuZ3RoO2g9ZS5nZXRSYXdWYWx1ZSgpLmxlbmd0aDtjLmhpZ2hsaWdodEl0ZW0oYy5nZXROb2RlKGIpKTtpZihoIT09MCYmaCE9PWEpe2Uuc2V0UmF3VmFsdWUoZyk7ZS5zZWxlY3RUZXh0KGgsZy5sZW5ndGgpfX19LHJlc2V0VG9EZWZhdWx0OmZ1bmN0aW9uKCl7fSxvblVuYmluZFN0b3JlOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMucGlja2VyO2lmKCFhJiZiKXtiLmJpbmRTdG9yZShudWxsKX19LG9uQmluZFN0b3JlOmZ1bmN0aW9uKGEsYyl7dmFyIGI9dGhpcy5waWNrZXI7aWYoIWMpe3RoaXMucmVzZXRUb0RlZmF1bHQoKX1pZihiKXtiLmJpbmRTdG9yZShhKX19LGdldFN0b3JlTGlzdGVuZXJzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztyZXR1cm57YmVmb3JlbG9hZDphLm9uQmVmb3JlTG9hZCxjbGVhcjphLm9uQ2xlYXIsZGF0YWNoYW5nZWQ6YS5vbkRhdGFDaGFuZ2VkLGxvYWQ6YS5vbkxvYWQsZXhjZXB0aW9uOmEub25FeGNlcHRpb24scmVtb3ZlOmEub25SZW1vdmV9fSxvbkJlZm9yZUxvYWQ6ZnVuY3Rpb24oKXsrK3RoaXMuaWdub3JlU2VsZWN0aW9ufSxvbkRhdGFDaGFuZ2VkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLnJlc2l6ZUNvbWJvVG9Hcm93KCkpe2EudXBkYXRlTGF5b3V0KCl9fSxvbkNsZWFyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLnJlc2l6ZUNvbWJvVG9Hcm93KCkpe2EucmVtb3ZpbmdSZWNvcmRzPXRydWU7YS5vbkRhdGFDaGFuZ2VkKCl9fSxvblJlbW92ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5yZXNpemVDb21ib1RvR3JvdygpKXthLnJlbW92aW5nUmVjb3Jkcz10cnVlfX0sb25FeGNlcHRpb246ZnVuY3Rpb24oKXtpZih0aGlzLmlnbm9yZVNlbGVjdGlvbj4wKXstLXRoaXMuaWdub3JlU2VsZWN0aW9ufXRoaXMuY29sbGFwc2UoKX0sb25Mb2FkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEudmFsdWU7aWYoYS5pZ25vcmVTZWxlY3Rpb24+MCl7LS1hLmlnbm9yZVNlbGVjdGlvbn1pZihhLnJhd1F1ZXJ5KXthLnJhd1F1ZXJ5PWZhbHNlO2Euc3luY1NlbGVjdGlvbigpO2lmKGEucGlja2VyJiYhYS5waWNrZXIuZ2V0U2VsZWN0aW9uTW9kZWwoKS5oYXNTZWxlY3Rpb24oKSl7YS5kb0F1dG9TZWxlY3QoKX19ZWxzZXtpZihhLnZhbHVlfHxhLnZhbHVlPT09MCl7YS5zZXRWYWx1ZShhLnZhbHVlKX1lbHNle2lmKGEuc3RvcmUuZ2V0Q291bnQoKSl7YS5kb0F1dG9TZWxlY3QoKX1lbHNle2Euc2V0VmFsdWUoYS52YWx1ZSl9fX19LGRvUmF3UXVlcnk6ZnVuY3Rpb24oKXt0aGlzLmRvUXVlcnkodGhpcy5nZXRSYXdWYWx1ZSgpLGZhbHNlLHRydWUpfSxkb1F1ZXJ5OmZ1bmN0aW9uKGksZCxnKXtpPWl8fCIiO3ZhciBlPXRoaXMsYj17cXVlcnk6aSxmb3JjZUFsbDpkLGNvbWJvOmUsY2FuY2VsOmZhbHNlfSxhPWUuc3RvcmUsaD1lLnF1ZXJ5TW9kZT09PSJsb2NhbCIsYztpZihlLmZpcmVFdmVudCgiYmVmb3JlcXVlcnkiLGIpPT09ZmFsc2V8fGIuY2FuY2VsKXtyZXR1cm4gZmFsc2V9aT1iLnF1ZXJ5O2Q9Yi5mb3JjZUFsbDtpZihkfHwoaS5sZW5ndGg+PWUubWluQ2hhcnMpKXtlLmV4cGFuZCgpO2lmKCFlLnF1ZXJ5Q2FjaGluZ3x8ZS5sYXN0UXVlcnkhPT1pKXtlLmxhc3RRdWVyeT1pO2lmKGgpe2Euc3VzcGVuZEV2ZW50cygpO2M9ZS5jbGVhckZpbHRlcigpO2lmKGl8fCFkKXtlLmFjdGl2ZUZpbHRlcj1uZXcgRXh0LnV0aWwuRmlsdGVyKHtyb290OiJkYXRhIixwcm9wZXJ0eTplLmRpc3BsYXlGaWVsZCx2YWx1ZTppfSk7YS5maWx0ZXIoZS5hY3RpdmVGaWx0ZXIpO2M9dHJ1ZX1lbHNle2RlbGV0ZSBlLmFjdGl2ZUZpbHRlcn1hLnJlc3VtZUV2ZW50cygpO2lmKGUucmVuZGVyZWQmJmMpe2UuZ2V0UGlja2VyKCkucmVmcmVzaCgpfX1lbHNle2UucmF3UXVlcnk9ZztpZihlLnBhZ2VTaXplKXtlLmxvYWRQYWdlKDEpfWVsc2V7YS5sb2FkKHtwYXJhbXM6ZS5nZXRQYXJhbXMoaSl9KX19fWlmKGUuZ2V0UmF3VmFsdWUoKSE9PWUuZ2V0RGlzcGxheVZhbHVlKCkpe2UuaWdub3JlU2VsZWN0aW9uKys7ZS5waWNrZXIuZ2V0U2VsZWN0aW9uTW9kZWwoKS5kZXNlbGVjdEFsbCgpO2UuaWdub3JlU2VsZWN0aW9uLS19aWYoaCl7ZS5kb0F1dG9TZWxlY3QoKX1pZihlLnR5cGVBaGVhZCl7ZS5kb1R5cGVBaGVhZCgpfX1yZXR1cm4gdHJ1ZX0sY2xlYXJGaWx0ZXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLnN0b3JlLGQ9YS5maWx0ZXJzLGM9dGhpcy5hY3RpdmVGaWx0ZXIsYjtpZihjKXtpZihkLmdldENvdW50KCk+MSl7ZC5yZW1vdmUoYyk7Yj1kLmdldFJhbmdlKCl9YS5jbGVhckZpbHRlcih0cnVlKTtpZihiKXthLmZpbHRlcihiKX19cmV0dXJuICEhY30sbG9hZFBhZ2U6ZnVuY3Rpb24oYSl7dGhpcy5zdG9yZS5sb2FkUGFnZShhLHtwYXJhbXM6dGhpcy5nZXRQYXJhbXModGhpcy5sYXN0UXVlcnkpfSl9LG9uUGFnZUNoYW5nZTpmdW5jdGlvbihiLGEpe3RoaXMubG9hZFBhZ2UoYSk7cmV0dXJuIGZhbHNlfSxnZXRQYXJhbXM6ZnVuY3Rpb24oYyl7dmFyIGI9e30sYT10aGlzLnF1ZXJ5UGFyYW07aWYoYSl7YlthXT1jfXJldHVybiBifSxkb0F1dG9TZWxlY3Q6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5waWNrZXIsYyxkO2lmKGEmJmIuYXV0b1NlbGVjdCYmYi5zdG9yZS5nZXRDb3VudCgpPjApe2M9YS5nZXRTZWxlY3Rpb25Nb2RlbCgpLmxhc3RTZWxlY3RlZDtkPWEuZ2V0Tm9kZShjfHwwKTtpZihkKXthLmhpZ2hsaWdodEl0ZW0oZCk7YS5saXN0RWwuc2Nyb2xsQ2hpbGRJbnRvVmlldyhkLGZhbHNlKX19fSxkb1R5cGVBaGVhZDpmdW5jdGlvbigpe2lmKCF0aGlzLnR5cGVBaGVhZFRhc2spe3RoaXMudHlwZUFoZWFkVGFzaz1uZXcgRXh0LnV0aWwuRGVsYXllZFRhc2sodGhpcy5vblR5cGVBaGVhZCx0aGlzKX1pZih0aGlzLmxhc3RLZXkhPUV4dC5FdmVudE9iamVjdC5CQUNLU1BBQ0UmJnRoaXMubGFzdEtleSE9RXh0LkV2ZW50T2JqZWN0LkRFTEVURSl7dGhpcy50eXBlQWhlYWRUYXNrLmRlbGF5KHRoaXMudHlwZUFoZWFkRGVsYXkpfX0sb25UcmlnZ2VyQ2xpY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKCFhLnJlYWRPbmx5JiYhYS5kaXNhYmxlZCl7aWYoYS5pc0V4cGFuZGVkKXthLmNvbGxhcHNlKCl9ZWxzZXthLm9uRm9jdXMoe30pO2lmKGEudHJpZ2dlckFjdGlvbj09PSJhbGwiKXthLmRvUXVlcnkoYS5hbGxRdWVyeSx0cnVlKX1lbHNle2EuZG9RdWVyeShhLmdldFJhd1ZhbHVlKCksZmFsc2UsdHJ1ZSl9fWEuaW5wdXRFbC5mb2N1cygpfX0sb25LZXlVcDpmdW5jdGlvbihkLGIpe3ZhciBjPXRoaXMsYT1kLmdldEtleSgpO2lmKCFjLnJlYWRPbmx5JiYhYy5kaXNhYmxlZCYmYy5lZGl0YWJsZSl7Yy5sYXN0S2V5PWE7aWYoIWQuaXNTcGVjaWFsS2V5KCl8fGE9PWQuQkFDS1NQQUNFfHxhPT1kLkRFTEVURSl7Yy5kb1F1ZXJ5VGFzay5kZWxheShjLnF1ZXJ5RGVsYXkpfX1pZihjLmVuYWJsZUtleUV2ZW50cyl7Yy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9fSxpbml0RXZlbnRzOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoKTtpZighYS5lbmFibGVLZXlFdmVudHMpe2EubW9uKGEuaW5wdXRFbCwia2V5dXAiLGEub25LZXlVcCxhKX19LG9uRGVzdHJveTpmdW5jdGlvbigpe3RoaXMuYmluZFN0b3JlKG51bGwpO3RoaXMuY2FsbFBhcmVudCgpfSxvbkFkZGVkOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihhLnBpY2tlcil7YS5waWNrZXIub3duZXJDdD1hLnVwKCJbZmxvYXRpbmddIik7YS5waWNrZXIucmVnaXN0ZXJXaXRoT3duZXJDdCgpfX0sY3JlYXRlUGlja2VyOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiLGQ9RXh0LmJhc2VDU1NQcmVmaXgrIm1lbnUiLGE9RXh0LmFwcGx5KHt4dHlwZToiYm91bmRsaXN0IixwaWNrZXJGaWVsZDpjLHNlbE1vZGVsOnttb2RlOmMubXVsdGlTZWxlY3Q/IlNJTVBMRSI6IlNJTkdMRSJ9LGZsb2F0aW5nOnRydWUsaGlkZGVuOnRydWUsb3duZXJDdDpjLnVwKCJbZmxvYXRpbmddIiksY2xzOmMuZWwmJmMuZWwudXAoIi4iK2QpP2Q6IiIsc3RvcmU6Yy5zdG9yZSxkaXNwbGF5RmllbGQ6Yy5kaXNwbGF5RmllbGQsZm9jdXNPblRvRnJvbnQ6ZmFsc2UscGFnZVNpemU6Yy5wYWdlU2l6ZSx0cGw6Yy50cGx9LGMubGlzdENvbmZpZyxjLmRlZmF1bHRMaXN0Q29uZmlnKTtiPWMucGlja2VyPUV4dC53aWRnZXQoYSk7aWYoYy5wYWdlU2l6ZSl7Yi5wYWdpbmdUb29sYmFyLm9uKCJiZWZvcmVjaGFuZ2UiLGMub25QYWdlQ2hhbmdlLGMpfWMubW9uKGIse2l0ZW1jbGljazpjLm9uSXRlbUNsaWNrLHJlZnJlc2g6Yy5vbkxpc3RSZWZyZXNoLHNjb3BlOmN9KTtjLm1vbihiLmdldFNlbGVjdGlvbk1vZGVsKCkse2JlZm9yZXNlbGVjdDpjLm9uQmVmb3JlU2VsZWN0LGJlZm9yZWRlc2VsZWN0OmMub25CZWZvcmVEZXNlbGVjdCxzZWxlY3Rpb25jaGFuZ2U6Yy5vbkxpc3RTZWxlY3Rpb25DaGFuZ2Usc2NvcGU6Y30pO3JldHVybiBifSxhbGlnblBpY2tlcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmdldFBpY2tlcigpLGU9Yi5nZXRQb3NpdGlvbigpWzFdLUV4dC5nZXRCb2R5KCkuZ2V0U2Nyb2xsKCkudG9wLGQ9RXh0LkVsZW1lbnQuZ2V0Vmlld0hlaWdodCgpLWUtYi5nZXRIZWlnaHQoKSxjPU1hdGgubWF4KGUsZCk7aWYoYS5oZWlnaHQpe2RlbGV0ZSBhLmhlaWdodDthLnVwZGF0ZUxheW91dCgpfWlmKGEuZ2V0SGVpZ2h0KCk+Yy01KXthLnNldEhlaWdodChjLTUpfWIuY2FsbFBhcmVudCgpfSxvbkxpc3RSZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5hbGlnblBpY2tlcigpO3RoaXMuc3luY1NlbGVjdGlvbigpfSxvbkl0ZW1DbGljazpmdW5jdGlvbihjLGEpe3ZhciBlPXRoaXMsZD1lLnBpY2tlci5nZXRTZWxlY3Rpb25Nb2RlbCgpLmdldFNlbGVjdGlvbigpLGI9ZS52YWx1ZUZpZWxkO2lmKCFlLm11bHRpU2VsZWN0JiZkLmxlbmd0aCl7aWYoYS5nZXQoYik9PT1kWzBdLmdldChiKSl7ZS5kaXNwbGF5VHBsRGF0YT1bYS5kYXRhXTtlLnNldFJhd1ZhbHVlKGUuZ2V0RGlzcGxheVZhbHVlKCkpO2UuY29sbGFwc2UoKX19fSxvbkJlZm9yZVNlbGVjdDpmdW5jdGlvbihiLGEpe3JldHVybiB0aGlzLmZpcmVFdmVudCgiYmVmb3Jlc2VsZWN0Iix0aGlzLGEsYS5pbmRleCl9LG9uQmVmb3JlRGVzZWxlY3Q6ZnVuY3Rpb24oYixhKXtyZXR1cm4gdGhpcy5maXJlRXZlbnQoImJlZm9yZWRlc2VsZWN0Iix0aGlzLGEsYS5pbmRleCl9LG9uTGlzdFNlbGVjdGlvbkNoYW5nZTpmdW5jdGlvbihiLGQpe3ZhciBhPXRoaXMsZT1hLm11bHRpU2VsZWN0LGM9ZC5sZW5ndGg+MDtpZighYS5pZ25vcmVTZWxlY3Rpb24mJmEuaXNFeHBhbmRlZCl7aWYoIWUpe0V4dC5kZWZlcihhLmNvbGxhcHNlLDEsYSl9aWYoZXx8Yyl7YS5zZXRWYWx1ZShkLGZhbHNlKX1pZihjKXthLmZpcmVFdmVudCgic2VsZWN0IixhLGQpfWEuaW5wdXRFbC5mb2N1cygpfX0sb25FeHBhbmQ6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGE9ZC5saXN0S2V5TmF2LGM9ZC5zZWxlY3RPblRhYixiPWQuZ2V0UGlja2VyKCk7aWYoYSl7YS5lbmFibGUoKX1lbHNle2E9ZC5saXN0S2V5TmF2PW5ldyBFeHQudmlldy5Cb3VuZExpc3RLZXlOYXYodGhpcy5pbnB1dEVsLHtib3VuZExpc3Q6Yixmb3JjZUtleURvd246dHJ1ZSx0YWI6ZnVuY3Rpb24oZyl7aWYoYyl7dGhpcy5zZWxlY3RIaWdobGlnaHRlZChnKTtkLnRyaWdnZXJCbHVyKCl9cmV0dXJuIHRydWV9fSl9aWYoYyl7ZC5pZ25vcmVNb25pdG9yVGFiPXRydWV9RXh0LmRlZmVyKGEuZW5hYmxlLDEsYSk7ZC5pbnB1dEVsLmZvY3VzKCl9LG9uQ29sbGFwc2U6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5saXN0S2V5TmF2O2lmKGEpe2EuZGlzYWJsZSgpO2IuaWdub3JlTW9uaXRvclRhYj1mYWxzZX19LHNlbGVjdDpmdW5jdGlvbihhKXt0aGlzLnNldFZhbHVlKGEsdHJ1ZSl9LGZpbmRSZWNvcmQ6ZnVuY3Rpb24oZCxjKXt2YXIgYj10aGlzLnN0b3JlLGE9Yi5maW5kRXhhY3QoZCxjKTtyZXR1cm4gYSE9PS0xP2IuZ2V0QXQoYSk6ZmFsc2V9LGZpbmRSZWNvcmRCeVZhbHVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZpbmRSZWNvcmQodGhpcy52YWx1ZUZpZWxkLGEpfSxmaW5kUmVjb3JkQnlEaXNwbGF5OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmZpbmRSZWNvcmQodGhpcy5kaXNwbGF5RmllbGQsYSl9LHNldFZhbHVlOmZ1bmN0aW9uKG0sZSl7dmFyIGs9dGhpcyxjPWsudmFsdWVOb3RGb3VuZFRleHQsbj1rLmlucHV0RWwsZyxqLGgsYSxsPVtdLGI9W10sZD1bXTtpZihrLnN0b3JlLmxvYWRpbmcpe2sudmFsdWU9bTtrLnNldEhpZGRlblZhbHVlKGsudmFsdWUpO3JldHVybiBrfW09RXh0LkFycmF5LmZyb20obSk7Zm9yKGc9MCxqPW0ubGVuZ3RoO2c8ajtnKyspe2g9bVtnXTtpZighaHx8IWguaXNNb2RlbCl7aD1rLmZpbmRSZWNvcmRCeVZhbHVlKGgpfWlmKGgpe2wucHVzaChoKTtiLnB1c2goaC5kYXRhKTtkLnB1c2goaC5nZXQoay52YWx1ZUZpZWxkKSl9ZWxzZXtpZighay5mb3JjZVNlbGVjdGlvbil7ZC5wdXNoKG1bZ10pO2E9e307YVtrLmRpc3BsYXlGaWVsZF09bVtnXTtiLnB1c2goYSl9ZWxzZXtpZihFeHQuaXNEZWZpbmVkKGMpKXtiLnB1c2goYyl9fX19ay5zZXRIaWRkZW5WYWx1ZShkKTtrLnZhbHVlPWsubXVsdGlTZWxlY3Q/ZDpkWzBdO2lmKCFFeHQuaXNEZWZpbmVkKGsudmFsdWUpKXtrLnZhbHVlPW51bGx9ay5kaXNwbGF5VHBsRGF0YT1iO2subGFzdFNlbGVjdGlvbj1rLnZhbHVlTW9kZWxzPWw7aWYobiYmay5lbXB0eVRleHQmJiFFeHQuaXNFbXB0eShtKSl7bi5yZW1vdmVDbHMoay5lbXB0eUNscyl9ay5zZXRSYXdWYWx1ZShrLmdldERpc3BsYXlWYWx1ZSgpKTtrLmNoZWNrQ2hhbmdlKCk7aWYoZSE9PWZhbHNlKXtrLnN5bmNTZWxlY3Rpb24oKX1rLmFwcGx5RW1wdHlUZXh0KCk7cmV0dXJuIGt9LHNldEhpZGRlblZhbHVlOmZ1bmN0aW9uKGope3ZhciBlPXRoaXMsYT1lLmhpZGRlbk5hbWUsZCxiLGssaCxnLGM7aWYoIWUuaGlkZGVuRGF0YUVsfHwhYSl7cmV0dXJufWo9RXh0LkFycmF5LmZyb20oaik7Yj1lLmhpZGRlbkRhdGFFbC5kb207az1iLmNoaWxkTm9kZXM7aD1rWzBdO2c9ai5sZW5ndGg7Yz1rLmxlbmd0aDtpZighaCYmZz4wKXtlLmhpZGRlbkRhdGFFbC51cGRhdGUoRXh0LkRvbUhlbHBlci5tYXJrdXAoe3RhZzoiaW5wdXQiLHR5cGU6ImhpZGRlbiIsbmFtZTphfSkpO2M9MTtoPWIuZmlyc3RDaGlsZH13aGlsZShjPmcpe2IucmVtb3ZlQ2hpbGQoa1swXSk7LS1jfXdoaWxlKGM8Zyl7Yi5hcHBlbmRDaGlsZChoLmNsb25lTm9kZSh0cnVlKSk7KytjfWZvcihkPTA7ZDxnO2QrKyl7a1tkXS52YWx1ZT1qW2RdfX0sZ2V0RGlzcGxheVZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheVRwbC5hcHBseSh0aGlzLmRpc3BsYXlUcGxEYXRhKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5waWNrZXIsZD1iLmdldFJhd1ZhbHVlKCksYz1iLnZhbHVlO2lmKGIuZ2V0RGlzcGxheVZhbHVlKCkhPT1kKXtjPWQ7Yi52YWx1ZT1iLmRpc3BsYXlUcGxEYXRhPWIudmFsdWVNb2RlbHM9bnVsbDtpZihhKXtiLmlnbm9yZVNlbGVjdGlvbisrO2EuZ2V0U2VsZWN0aW9uTW9kZWwoKS5kZXNlbGVjdEFsbCgpO2IuaWdub3JlU2VsZWN0aW9uLS19fXJldHVybiBjfSxnZXRTdWJtaXRWYWx1ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFZhbHVlKCl9LGlzRXF1YWw6ZnVuY3Rpb24oZSxkKXt2YXIgYj1FeHQuQXJyYXkuZnJvbSxjLGE7ZT1iKGUpO2Q9YihkKTthPWUubGVuZ3RoO2lmKGEhPT1kLmxlbmd0aCl7cmV0dXJuIGZhbHNlfWZvcihjPTA7YzxhO2MrKyl7aWYoZFtjXSE9PWVbY10pe3JldHVybiBmYWxzZX19cmV0dXJuIHRydWV9LGNsZWFyVmFsdWU6ZnVuY3Rpb24oKXt0aGlzLnNldFZhbHVlKFtdKX0sc3luY1NlbGVjdGlvbjpmdW5jdGlvbigpe3ZhciBoPXRoaXMsZD1oLnBpY2tlcixnLGMsYj1oLnZhbHVlTW9kZWxzfHxbXSxlPWIubGVuZ3RoLGEsaTtpZihkKXtnPVtdO2ZvcihhPTA7YTxlO2ErKyl7aT1iW2FdO2lmKGkmJmkuaXNNb2RlbCYmaC5zdG9yZS5pbmRleE9mKGkpPj0wKXtnLnB1c2goaSl9fWguaWdub3JlU2VsZWN0aW9uKys7Yz1kLmdldFNlbGVjdGlvbk1vZGVsKCk7Yy5kZXNlbGVjdEFsbCgpO2lmKGcubGVuZ3RoKXtjLnNlbGVjdChnKX1oLmlnbm9yZVNlbGVjdGlvbi0tfX0sb25FZGl0b3JUYWI6ZnVuY3Rpb24oYil7dmFyIGE9dGhpcy5saXN0S2V5TmF2O2lmKHRoaXMuc2VsZWN0T25UYWImJmEpe2Euc2VsZWN0SGlnaGxpZ2h0ZWQoYil9fX0pO0V4dC5kZWZpbmUoIkV4dC5mb3JtLmZpZWxkLlRpbWUiLHtleHRlbmQ6IkV4dC5mb3JtLmZpZWxkLkNvbWJvQm94IixhbGlhczoid2lkZ2V0LnRpbWVmaWVsZCIscmVxdWlyZXM6WyJFeHQuZm9ybS5maWVsZC5EYXRlIiwiRXh0LnBpY2tlci5UaW1lIiwiRXh0LnZpZXcuQm91bmRMaXN0S2V5TmF2IiwiRXh0LkRhdGUiXSxhbHRlcm5hdGVDbGFzc05hbWU6WyJFeHQuZm9ybS5UaW1lRmllbGQiLCJFeHQuZm9ybS5UaW1lIl0sdHJpZ2dlckNsczpFeHQuYmFzZUNTU1ByZWZpeCsiZm9ybS10aW1lLXRyaWdnZXIiLG1pblRleHQ6IlRoZSB0aW1lIGluIHRoaXMgZmllbGQgbXVzdCBiZSBlcXVhbCB0byBvciBhZnRlciB7MH0iLG1heFRleHQ6IlRoZSB0aW1lIGluIHRoaXMgZmllbGQgbXVzdCBiZSBlcXVhbCB0byBvciBiZWZvcmUgezB9IixpbnZhbGlkVGV4dDoiezB9IGlzIG5vdCBhIHZhbGlkIHRpbWUiLGZvcm1hdDoiZzppIEEiLHN1Ym1pdEZvcm1hdDoiZzppIEEiLGFsdEZvcm1hdHM6Imc6aWF8ZzppQXxnOmkgYXxnOmkgQXxoOml8ZzppfEg6aXxnYXxoYXxnQXxoIGF8ZyBhfGcgQXxnaXxoaXxnaWF8aGlhfGd8SHxnaSBhfGhpIGF8Z2lBfGhpQXxnaSBBfGhpIEEiLGluY3JlbWVudDoxNSxwaWNrZXJNYXhIZWlnaHQ6MzAwLHNlbGVjdE9uVGFiOnRydWUsc25hcFRvSW5jcmVtZW50OmZhbHNlLGluaXREYXRlOiIxLzEvMjAwOCIsaW5pdERhdGVGb3JtYXQ6Imovbi9ZIixpZ25vcmVTZWxlY3Rpb246MCxxdWVyeU1vZGU6ImxvY2FsIixkaXNwbGF5RmllbGQ6ImRpc3AiLHZhbHVlRmllbGQ6ImRhdGUiLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9Yy5taW5WYWx1ZSxhPWMubWF4VmFsdWU7aWYoYil7Yy5zZXRNaW5WYWx1ZShiKX1pZihhKXtjLnNldE1heFZhbHVlKGEpfWMuZGlzcGxheVRwbD1uZXcgRXh0LlhUZW1wbGF0ZSgnPHRwbCBmb3I9Ii4iPntbdHlwZW9mIHZhbHVlcyA9PT0gInN0cmluZyIgPyB2YWx1ZXMgOiB0aGlzLmZvcm1hdERhdGUodmFsdWVzWyInK2MuZGlzcGxheUZpZWxkKyciXSldfTx0cGwgaWY9InhpbmRleCA8IHhjb3VudCI+JytjLmRlbGltaXRlcisiPC90cGw+PC90cGw+Iix7Zm9ybWF0RGF0ZTpFeHQuRnVuY3Rpb24uYmluZChjLmZvcm1hdERhdGUsYyl9KTt0aGlzLmNhbGxQYXJlbnQoKX0sc2V0TWluVmFsdWU6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWIucGlja2VyO2Iuc2V0TGltaXQoYyx0cnVlKTtpZihhKXthLnNldE1pblZhbHVlKGIubWluVmFsdWUpfX0sc2V0TWF4VmFsdWU6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpcyxhPWIucGlja2VyO2Iuc2V0TGltaXQoYyxmYWxzZSk7aWYoYSl7YS5zZXRNYXhWYWx1ZShiLm1heFZhbHVlKX19LHNldExpbWl0OmZ1bmN0aW9uKGIsZyl7dmFyIGE9dGhpcyxlLGM7aWYoRXh0LmlzU3RyaW5nKGIpKXtlPWEucGFyc2VEYXRlKGIpfWVsc2V7aWYoRXh0LmlzRGF0ZShiKSl7ZT1ifX1pZihlKXtjPUV4dC5EYXRlLmNsZWFyVGltZShuZXcgRGF0ZShhLmluaXREYXRlKSk7Yy5zZXRIb3VycyhlLmdldEhvdXJzKCksZS5nZXRNaW51dGVzKCksZS5nZXRTZWNvbmRzKCksZS5nZXRNaWxsaXNlY29uZHMoKSl9ZWxzZXtjPW51bGx9YVtnPyJtaW5WYWx1ZSI6Im1heFZhbHVlIl09Y30scmF3VG9WYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wYXJzZURhdGUoYSl8fGF8fG51bGx9LHZhbHVlVG9SYXc6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZm9ybWF0RGF0ZSh0aGlzLnBhcnNlRGF0ZShhKSl9LGdldEVycm9yczpmdW5jdGlvbihkKXt2YXIgYj10aGlzLGc9RXh0LlN0cmluZy5mb3JtYXQsaD1iLmNhbGxQYXJlbnQoYXJndW1lbnRzKSxjPWIubWluVmFsdWUsZT1iLm1heFZhbHVlLGE7ZD1iLmZvcm1hdERhdGUoZHx8Yi5wcm9jZXNzUmF3VmFsdWUoYi5nZXRSYXdWYWx1ZSgpKSk7aWYoZD09PW51bGx8fGQubGVuZ3RoPDEpe3JldHVybiBofWE9Yi5wYXJzZURhdGUoZCk7aWYoIWEpe2gucHVzaChnKGIuaW52YWxpZFRleHQsZCxFeHQuRGF0ZS51bmVzY2FwZUZvcm1hdChiLmZvcm1hdCkpKTtyZXR1cm4gaH1pZihjJiZhPGMpe2gucHVzaChnKGIubWluVGV4dCxiLmZvcm1hdERhdGUoYykpKX1pZihlJiZhPmUpe2gucHVzaChnKGIubWF4VGV4dCxiLmZvcm1hdERhdGUoZSkpKX1yZXR1cm4gaH0sZm9ybWF0RGF0ZTpmdW5jdGlvbigpe3JldHVybiBFeHQuZm9ybS5maWVsZC5EYXRlLnByb3RvdHlwZS5mb3JtYXREYXRlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0scGFyc2VEYXRlOmZ1bmN0aW9uKGUpe3ZhciBkPXRoaXMsaD1lLGI9ZC5hbHRGb3JtYXRzLGc9ZC5hbHRGb3JtYXRzQXJyYXksYz0wLGE7aWYoZSYmIUV4dC5pc0RhdGUoZSkpe2g9ZC5zYWZlUGFyc2UoZSxkLmZvcm1hdCk7aWYoIWgmJmIpe2c9Z3x8Yi5zcGxpdCgifCIpO2E9Zy5sZW5ndGg7Zm9yKDtjPGEmJiFoOysrYyl7aD1kLnNhZmVQYXJzZShlLGdbY10pfX19aWYoaCYmZC5zbmFwVG9JbmNyZW1lbnQpe2g9bmV3IERhdGUoRXh0Lk51bWJlci5zbmFwKGguZ2V0VGltZSgpLGQuaW5jcmVtZW50KjYwKjEwMDApKX1yZXR1cm4gaH0sc2FmZVBhcnNlOmZ1bmN0aW9uKGUsZyl7dmFyIGQ9dGhpcyxiPUV4dC5EYXRlLGMsYT1udWxsO2lmKGIuZm9ybWF0Q29udGFpbnNEYXRlSW5mbyhnKSl7YT1iLnBhcnNlKGUsZyl9ZWxzZXtjPWIucGFyc2UoZC5pbml0RGF0ZSsiICIrZSxkLmluaXREYXRlRm9ybWF0KyIgIitnKTtpZihjKXthPWN9fXJldHVybiBhfSxnZXRTdWJtaXRWYWx1ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYz1hLnN1Ym1pdEZvcm1hdHx8YS5mb3JtYXQsYj1hLmdldFZhbHVlKCk7cmV0dXJuIGI/RXh0LkRhdGUuZm9ybWF0KGIsYyk6bnVsbH0sY3JlYXRlUGlja2VyOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhO2IubGlzdENvbmZpZz1FeHQuYXBwbHkoe3h0eXBlOiJ0aW1lcGlja2VyIixzZWxNb2RlbDp7bW9kZToiU0lOR0xFIn0sY2xzOnVuZGVmaW5lZCxtaW5WYWx1ZTpiLm1pblZhbHVlLG1heFZhbHVlOmIubWF4VmFsdWUsaW5jcmVtZW50OmIuaW5jcmVtZW50LGZvcm1hdDpiLmZvcm1hdCxtYXhIZWlnaHQ6Yi5waWNrZXJNYXhIZWlnaHR9LGIubGlzdENvbmZpZyk7YT1iLmNhbGxQYXJlbnQoKTtiLnN0b3JlPWEuc3RvcmU7cmV0dXJuIGF9LG9uSXRlbUNsaWNrOmZ1bmN0aW9uKGIsYSl7dmFyIGQ9dGhpcyxjPWIuZ2V0U2VsZWN0aW9uTW9kZWwoKS5nZXRTZWxlY3Rpb24oKTtpZihjLmxlbmd0aD4wKXtjPWNbMF07aWYoYyYmRXh0LkRhdGUuaXNFcXVhbChhLmdldCgiZGF0ZSIpLGMuZ2V0KCJkYXRlIikpKXtkLmNvbGxhcHNlKCl9fX0sb25MaXN0U2VsZWN0aW9uQ2hhbmdlOmZ1bmN0aW9uKGMsZSl7dmFyIGI9dGhpcyxhPWVbMF0sZD1hP2EuZ2V0KCJkYXRlIik6bnVsbDtpZighYi5pZ25vcmVTZWxlY3Rpb24pe2Iuc2tpcFN5bmM9dHJ1ZTtiLnNldFZhbHVlKGQpO2Iuc2tpcFN5bmM9ZmFsc2U7Yi5maXJlRXZlbnQoInNlbGVjdCIsYixkKTtiLnBpY2tlci5jbGVhckhpZ2hsaWdodCgpO2IuY29sbGFwc2UoKTtiLmlucHV0RWwuZm9jdXMoKX19LHN5bmNTZWxlY3Rpb246ZnVuY3Rpb24oKXt2YXIgaj10aGlzLGg9ai5waWNrZXIsYyxnLGssYixpLGUsYTtpZihoJiYhai5za2lwU3luYyl7aC5jbGVhckhpZ2hsaWdodCgpO2s9ai5nZXRWYWx1ZSgpO2c9aC5nZXRTZWxlY3Rpb25Nb2RlbCgpO2ouaWdub3JlU2VsZWN0aW9uKys7aWYoaz09PW51bGwpe2cuZGVzZWxlY3RBbGwoKX1lbHNle2lmKEV4dC5pc0RhdGUoaykpe2I9aC5zdG9yZS5kYXRhLml0ZW1zO2U9Yi5sZW5ndGg7Zm9yKGk9MDtpPGU7aSsrKXthPWJbaV07aWYoRXh0LkRhdGUuaXNFcXVhbChhLmdldCgiZGF0ZSIpLGspKXtjPWE7YnJlYWt9fWcuc2VsZWN0KGMpfX1qLmlnbm9yZVNlbGVjdGlvbi0tfX0scG9zdEJsdXI6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2Euc2V0UmF3VmFsdWUoYS5mb3JtYXREYXRlKGEuZ2V0VmFsdWUoKSkpfSxzZXRWYWx1ZTpmdW5jdGlvbihhKXt0aGlzLmdldFBpY2tlcigpO3RoaXMuY2FsbFBhcmVudChbdGhpcy5wYXJzZURhdGUoYSldKX0sZ2V0VmFsdWU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtyZXR1cm4gdGhpcy5wYXJzZURhdGUoYSl9fSk7RXh0LmRlZmluZSgiRXh0LnZpZXcuVGFibGUiLHtleHRlbmQ6IkV4dC52aWV3LlZpZXciLGFsaWFzOiJ3aWRnZXQudGFibGV2aWV3Iix1c2VzOlsiRXh0LnZpZXcuVGFibGVDaHVua2VyIiwiRXh0LnV0aWwuRGVsYXllZFRhc2siLCJFeHQudXRpbC5NaXhlZENvbGxlY3Rpb24iXSxiYXNlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLXZpZXciLGl0ZW1TZWxlY3RvcjoidHIuIitFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1yb3ciLGNlbGxTZWxlY3RvcjoidGQuIitFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1jZWxsIixyb3dTZWxlY3RvcjoidHIuIitFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1yb3ciLGZpcnN0Q2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLWNlbGwtZmlyc3QiLGxhc3RDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtY2VsbC1sYXN0IixoZWFkZXJSb3dTZWxlY3RvcjoidHIuIitFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1oZWFkZXItcm93IixzZWxlY3RlZEl0ZW1DbHM6RXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtcm93LXNlbGVjdGVkIixzZWxlY3RlZENlbGxDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtY2VsbC1zZWxlY3RlZCIsZm9jdXNlZEl0ZW1DbHM6RXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtcm93LWZvY3VzZWQiLG92ZXJJdGVtQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLXJvdy1vdmVyIixhbHRSb3dDbHM6RXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtcm93LWFsdCIscm93Q2xzUmU6bmV3IFJlZ0V4cCgiKD86XnxcXHMqKSIrRXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtcm93LShmaXJzdHxsYXN0fGFsdCkoPzpcXHMrfCQpIiwiZyIpLGNlbGxSZTpuZXcgUmVnRXhwKEV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLWNlbGwtKFteXFxzXSspICIsIiIpLHRyYWNrT3Zlcjp0cnVlLGdldFJvd0NsYXNzOm51bGwsc3RyaXBlUm93czp0cnVlLG1hcmtEaXJ0eTp0cnVlLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5zY3JvbGw7Yi5hdXRvU2Nyb2xsPXVuZGVmaW5lZDtpZihhPT09dHJ1ZXx8YT09PSJib3RoIil7Yi5zdHlsZT1FeHQuYXBwbHkoYi5zdHlsZXx8e30se292ZXJmbG93OiJhdXRvIn0pfWVsc2V7aWYoYT09PSJob3Jpem9udGFsIil7Yi5zdHlsZT1FeHQuYXBwbHkoYi5zdHlsZXx8e30seyJvdmVyZmxvdy14IjoiYXV0byIsIm92ZXJmbG93LXkiOiJoaWRkZW4ifSl9ZWxzZXtpZihhPT09InZlcnRpY2FsIil7Yi5zdHlsZT1FeHQuYXBwbHkoYi5zdHlsZXx8e30seyJvdmVyZmxvdy14IjoiaGlkZGVuIiwib3ZlcmZsb3cteSI6ImF1dG8ifSl9ZWxzZXtiLnN0eWxlPUV4dC5hcHBseShiLnN0eWxlfHx7fSx7b3ZlcmZsb3c6ImhpZGRlbiJ9KX19fWIuc2VsTW9kZWwudmlldz1iO2IuaGVhZGVyQ3Qudmlldz1iO2IuaGVhZGVyQ3QubWFya0RpcnR5PWIubWFya0RpcnR5O2IuaW5pdEZlYXR1cmVzKGIuZ3JpZCk7ZGVsZXRlIGIuZ3JpZDtiLnRwbD0iPGRpdj48L2Rpdj4iO2IuY2FsbFBhcmVudCgpfSxtb3ZlQ29sdW1uOmZ1bmN0aW9uKGEscCxkKXt2YXIgbj10aGlzLGw9KGQ+MSk/ZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpOnVuZGVmaW5lZCxjPXAscT1uLmdldEdyaWRDb2x1bW5zKCkubGVuZ3RoLG89cS0xLGI9KG4uZmlyc3RDbHN8fG4ubGFzdENscykmJihwPT0wfHxwPT1xfHxhPT0wfHxhPT1vKSxnLGUscixrLG0saDtpZihuLnJlbmRlcmVkKXtoPW4uZWwucXVlcnkobi5oZWFkZXJSb3dTZWxlY3Rvcik7cj1uLmVsLnF1ZXJ5KG4ucm93U2VsZWN0b3IpO2lmKHA+YSYmbCl7Yy09ZH1mb3IoZz0wLGs9aC5sZW5ndGg7ZzxrOysrZyl7bT1oW2ddO2lmKGwpe2ZvcihlPTA7ZTxkO2UrKyl7bC5hcHBlbmRDaGlsZChtLmNlbGxzW2FdKX1tLmluc2VydEJlZm9yZShsLG0uY2VsbHNbY118fG51bGwpfWVsc2V7bS5pbnNlcnRCZWZvcmUobS5jZWxsc1thXSxtLmNlbGxzW2NdfHxudWxsKX19Zm9yKGc9MCxrPXIubGVuZ3RoO2c8aztnKyspe209cltnXTtpZihiKXtpZihhPT09MCl7RXh0LmZseShtLmNlbGxzWzBdKS5yZW1vdmVDbHMobi5maXJzdENscyk7RXh0LmZseShtLmNlbGxzWzFdKS5hZGRDbHMobi5maXJzdENscyl9ZWxzZXtpZihhPT09byl7RXh0LmZseShtLmNlbGxzW29dKS5yZW1vdmVDbHMobi5sYXN0Q2xzKTtFeHQuZmx5KG0uY2VsbHNbby0xXSkuYWRkQ2xzKG4ubGFzdENscyl9fWlmKHA9PT0wKXtFeHQuZmx5KG0uY2VsbHNbMF0pLnJlbW92ZUNscyhuLmZpcnN0Q2xzKTtFeHQuZmx5KG0uY2VsbHNbYV0pLmFkZENscyhuLmZpcnN0Q2xzKX1lbHNle2lmKHA9PT1xKXtFeHQuZmx5KG0uY2VsbHNbb10pLnJlbW92ZUNscyhuLmxhc3RDbHMpO0V4dC5mbHkobS5jZWxsc1thXSkuYWRkQ2xzKG4ubGFzdENscyl9fX1pZihsKXtmb3IoZT0wO2U8ZDtlKyspe2wuYXBwZW5kQ2hpbGQobS5jZWxsc1thXSl9bS5pbnNlcnRCZWZvcmUobCxtLmNlbGxzW2NdfHxudWxsKX1lbHNle20uaW5zZXJ0QmVmb3JlKG0uY2VsbHNbYV0sbS5jZWxsc1tjXXx8bnVsbCl9fW4uc2V0TmV3VGVtcGxhdGUoKX19LHNjcm9sbFRvVG9wOkV4dC5lbXB0eUZuLGFkZEVsTGlzdGVuZXI6ZnVuY3Rpb24oYSxjLGIpe3RoaXMubW9uKHRoaXMsYSxjLGIse2VsZW1lbnQ6ImVsIn0pfSxnZXRHcmlkQ29sdW1uczpmdW5jdGlvbigpe3JldHVybiB0aGlzLmhlYWRlckN0LmdldEdyaWRDb2x1bW5zKCl9LGdldEhlYWRlckF0SW5kZXg6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaGVhZGVyQ3QuZ2V0SGVhZGVyQXRJbmRleChhKX0sZ2V0Q2VsbDpmdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMuZ2V0Tm9kZShhKTtyZXR1cm4gRXh0LmZseShjKS5kb3duKGIuZ2V0Q2VsbFNlbGVjdG9yKCkpfSxnZXRGZWF0dXJlOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuZmVhdHVyZXNNQztpZihhKXtyZXR1cm4gYS5nZXQoYil9fSxpbml0RmVhdHVyZXM6ZnVuY3Rpb24oZCl7dmFyIGc9dGhpcyxjLGUsYixhO2cuZmVhdHVyZXNNQz1uZXcgRXh0LnV0aWwuTWl4ZWRDb2xsZWN0aW9uKCk7ZT1nLmZlYXR1cmVzPWcucHJlcGFyZUZlYXR1cmVzKCk7YT1lP2UubGVuZ3RoOjA7Zm9yKGM9MDtjPGE7YysrKXtiPWVbY107Yi52aWV3PWc7Yi5ncmlkPWQ7Zy5mZWF0dXJlc01DLmFkZChiKTtiLmluaXQoKX19LHByZXBhcmVGZWF0dXJlczpmdW5jdGlvbigpe3ZhciBnPXRoaXMsZT1nLmZlYXR1cmVzLGQsYixjPTAsYTtpZihlKXtiPVtdO2E9ZS5sZW5ndGg7Zm9yKDtjPGE7YysrKXtkPWVbY107aWYoIWQuaXNGZWF0dXJlKXtkPUV4dC5jcmVhdGUoImZlYXR1cmUuIitkLmZ0eXBlLGQpfWJbY109ZH19cmV0dXJuIGJ9LGF0dGFjaEV2ZW50c0ZvckZlYXR1cmVzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5mZWF0dXJlcyxjPWIubGVuZ3RoLGE9MDtmb3IoO2E8YzthKyspe2lmKGJbYV0uaXNGZWF0dXJlKXtiW2FdLmF0dGFjaEV2ZW50cygpfX19LGFmdGVyUmVuZGVyOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoKTtpZighYS5lbmFibGVUZXh0U2VsZWN0aW9uKXthLmVsLnVuc2VsZWN0YWJsZSgpfWEuYXR0YWNoRXZlbnRzRm9yRmVhdHVyZXMoKX0sb25WaWV3U2Nyb2xsOmZ1bmN0aW9uKGIsYSl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dGhpcy5maXJlRXZlbnQoImJvZHlzY3JvbGwiLGIsYSl9LHByZXBhcmVEYXRhOmZ1bmN0aW9uKGIsaCxkKXt2YXIgZz10aGlzLGs9Zy5oZWFkZXJDdC5wcmVwYXJlRGF0YShiLGgsZCxnLGcub3duZXJDdCksYT1nLmZlYXR1cmVzLGU9YS5sZW5ndGgsYz0wLGo7Zm9yKDtjPGU7YysrKXtqPWFbY107aWYoai5pc0ZlYXR1cmUpe0V4dC5hcHBseShrLGouZ2V0QWRkaXRpb25hbERhdGEoYixoLGQsayxnKSl9fXJldHVybiBrfSxjb2xsZWN0RGF0YTpmdW5jdGlvbihkLHApe3ZhciByPXRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpLGM9dGhpcy5oZWFkZXJDdCxuPWMuZ2V0RnVsbFdpZHRoKCksYj10aGlzLmZlYXR1cmVzLGw9Yi5sZW5ndGgsYT17cm93czpyLGZ1bGxXaWR0aDpufSxoPTAscyxnPTAsbSxrLGUscTttPXIubGVuZ3RoO2lmKHRoaXMuZ2V0Um93Q2xhc3Mpe2Zvcig7ZzxtO2crKyl7az17fTtlPXJbZ107cT1lLnJvd0Nsc3x8IiI7ZS5yb3dDbHM9dGhpcy5nZXRSb3dDbGFzcyhkW2ddLGcsayx0aGlzLnN0b3JlKSsiICIrcX19Zm9yKDtoPGw7aCsrKXtzPWJbaF07aWYocy5pc0ZlYXR1cmUmJnMuY29sbGVjdERhdGEmJiFzLmRpc2FibGVkKXthPXMuY29sbGVjdERhdGEoZCxyLHAsbixhKTticmVha319cmV0dXJuIGF9LGZvcmNlUmVmbG93OkV4dC5pc0dlY2tvMTA/ZnVuY3Rpb24oKXt2YXIgYj10aGlzLmVsLmRvd24oInRhYmxlIiksYTtpZihiKXthPWIuZ2V0V2lkdGgoKX19OkV4dC5lbXB0eUZuLG9uSGVhZGVyUmVzaXplOmZ1bmN0aW9uKGUsYSxkKXt2YXIgYz10aGlzLGI9Yy5lbDtpZihiKXtiLnNlbGVjdCgidGguIitFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1jb2wtcmVzaXplci0iK2UuaWQpLnNldFdpZHRoKGEpO2Iuc2VsZWN0KCJ0YWJsZS4iK0V4dC5iYXNlQ1NTUHJlZml4KyJncmlkLXRhYmxlLXJlc2l6ZXIiKS5zZXRXaWR0aChjLmhlYWRlckN0LmdldEZ1bGxXaWR0aCgpKTtpZighYy5pZ25vcmVUZW1wbGF0ZSl7Yy5zZXROZXdUZW1wbGF0ZSgpfWlmKCFkKXtjLmVsLmZvY3VzKCl9Yy5mb3JjZVJlZmxvdygpfX0sb25IZWFkZXJTaG93OmZ1bmN0aW9uKGMsZCxiKXt2YXIgYT10aGlzO2EuaWdub3JlVGVtcGxhdGU9dHJ1ZTtpZihkLm9sZFdpZHRoKXthLm9uSGVhZGVyUmVzaXplKGQsZC5vbGRXaWR0aCxiKTtkZWxldGUgZC5vbGRXaWR0aH1lbHNle2lmKGQud2lkdGgmJiFkLmZsZXgpe2Eub25IZWFkZXJSZXNpemUoZCxkLndpZHRoLGIpfWVsc2V7aWYoZC5lbCl7YS5vbkhlYWRlclJlc2l6ZShkLGQuZWwuZ2V0V2lkdGgoKSxiKX19fWRlbGV0ZSBhLmlnbm9yZVRlbXBsYXRlO2Euc2V0TmV3VGVtcGxhdGUoKX0sb25IZWFkZXJIaWRlOmZ1bmN0aW9uKGIsYyxhKXt0aGlzLm9uSGVhZGVyUmVzaXplKGMsMCxhKX0scmVmcmVzaFNpemU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE7aWYoIWIuaGFzTG9hZGluZ0hlaWdodCl7YT1iLnVwKCJ0YWJsZXBhbmVsIik7RXh0LnN1c3BlbmRMYXlvdXRzKCk7Yi5jYWxsUGFyZW50KCk7aWYoYSYmRXh0LmdldFNjcm9sbGJhclNpemUoKS53aWR0aCl7YS51cGRhdGVMYXlvdXQoKX1FeHQucmVzdW1lTGF5b3V0cyh0cnVlKX19LHNldE5ld1RlbXBsYXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIuaGVhZGVyQ3QuZ2V0Q29sdW1uc0ZvclRwbCh0cnVlKTtiLnRwbD1iLmdldFRhYmxlQ2h1bmtlcigpLmdldFRhYmxlVHBsKHtyb3dDb3VudDpiLnN0b3JlLmdldENvdW50KCksY29sdW1uczphLGZlYXR1cmVzOmIuZmVhdHVyZXMsZW5hYmxlVGV4dFNlbGVjdGlvbjpiLmVuYWJsZVRleHRTZWxlY3Rpb259KX0sZ2V0VGFibGVDaHVua2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2h1bmtlcnx8RXh0LnZpZXcuVGFibGVDaHVua2VyfSxhZGRSb3dDbHM6ZnVuY3Rpb24oYixhKXt2YXIgYz10aGlzLmdldE5vZGUoYik7aWYoYyl7RXh0LmZseShjKS5hZGRDbHMoYSl9fSxyZW1vdmVSb3dDbHM6ZnVuY3Rpb24oYixhKXt2YXIgYz10aGlzLmdldE5vZGUoYik7aWYoYyl7RXh0LmZseShjKS5yZW1vdmVDbHMoYSl9fSxvblJvd1NlbGVjdDpmdW5jdGlvbihhKXt0aGlzLmFkZFJvd0NscyhhLHRoaXMuc2VsZWN0ZWRJdGVtQ2xzKX0sb25Sb3dEZXNlbGVjdDpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2EucmVtb3ZlUm93Q2xzKGIsYS5zZWxlY3RlZEl0ZW1DbHMpO2EucmVtb3ZlUm93Q2xzKGIsYS5mb2N1c2VkSXRlbUNscyl9LG9uQ2VsbFNlbGVjdDpmdW5jdGlvbihiKXt2YXIgYT10aGlzLmdldENlbGxCeVBvc2l0aW9uKGIpO2lmKGEpe2EuYWRkQ2xzKHRoaXMuc2VsZWN0ZWRDZWxsQ2xzKX19LG9uQ2VsbERlc2VsZWN0OmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXMuZ2V0Q2VsbEJ5UG9zaXRpb24oYik7aWYoYSl7YS5yZW1vdmVDbHModGhpcy5zZWxlY3RlZENlbGxDbHMpfX0sb25DZWxsRm9jdXM6ZnVuY3Rpb24oYSl7dGhpcy5mb2N1c0NlbGwoYSl9LGdldENlbGxCeVBvc2l0aW9uOmZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiPXRoaXMuZ2V0Tm9kZShhLnJvdyksYz10aGlzLmhlYWRlckN0LmdldEhlYWRlckF0SW5kZXgoYS5jb2x1bW4pO2lmKGMmJmIpe3JldHVybiBFeHQuZmx5KGIpLmRvd24oYy5nZXRDZWxsU2VsZWN0b3IoKSl9fXJldHVybiBmYWxzZX0sb25Sb3dGb2N1czpmdW5jdGlvbihkLGIsYSl7dmFyIGM9dGhpcztpZihiKXtjLmFkZFJvd0NscyhkLGMuZm9jdXNlZEl0ZW1DbHMpO2lmKCFhKXtjLmZvY3VzUm93KGQpfX1lbHNle2MucmVtb3ZlUm93Q2xzKGQsYy5mb2N1c2VkSXRlbUNscyl9fSxmb2N1c1JvdzpmdW5jdGlvbihiKXt2YXIgZz10aGlzLGs9Zy5nZXROb2RlKGIpLGM9Zy5lbCxpPTAsYT1nLm93bmVyQ3QsaixoLGUsZDtpZihrJiZjKXtoPWMuZ2V0WSgpO2U9aCtjLmRvbS5jbGllbnRIZWlnaHQ7aj1FeHQuZmx5KGspLmdldFJlZ2lvbigpO2lmKGoudG9wPGgpe2k9ai50b3AtaH1lbHNle2lmKGouYm90dG9tPmUpe2k9ai5ib3R0b20tZX19ZD1nLmdldFJlY29yZChrKTtiPWcuc3RvcmUuaW5kZXhPZihkKTtpZihpKXthLnNjcm9sbEJ5RGVsdGFZKGkpfWcuZmlyZUV2ZW50KCJyb3dmb2N1cyIsZCxrLGIpfX0sZm9jdXNDZWxsOmZ1bmN0aW9uKGgpe3ZhciBqPXRoaXMsaz1qLmdldENlbGxCeVBvc2l0aW9uKGgpLGI9ai5lbCxkPTAsZT0wLGM9Yi5nZXRSZWdpb24oKSxhPWoub3duZXJDdCxpLGc7Yy5ib3R0b209Yy50b3ArYi5kb20uY2xpZW50SGVpZ2h0O2MucmlnaHQ9Yy5sZWZ0K2IuZG9tLmNsaWVudFdpZHRoO2lmKGspe2k9ay5nZXRSZWdpb24oKTtpZihpLnRvcDxjLnRvcCl7ZD1pLnRvcC1jLnRvcH1lbHNle2lmKGkuYm90dG9tPmMuYm90dG9tKXtkPWkuYm90dG9tLWMuYm90dG9tfX1pZihpLmxlZnQ8Yy5sZWZ0KXtlPWkubGVmdC1jLmxlZnR9ZWxzZXtpZihpLnJpZ2h0PmMucmlnaHQpe2U9aS5yaWdodC1jLnJpZ2h0fX1pZihkKXthLnNjcm9sbEJ5RGVsdGFZKGQpfWlmKGUpe2Euc2Nyb2xsQnlEZWx0YVgoZSl9Yi5mb2N1cygpO2ouZmlyZUV2ZW50KCJjZWxsZm9jdXMiLGcsayxoKX19LHNjcm9sbEJ5RGVsdGE6ZnVuY3Rpb24oYyxiKXtiPWJ8fCJzY3JvbGxUb3AiO3ZhciBhPXRoaXMuZWwuZG9tO2FbYl09KGFbYl0rPWMpfSxvblVwZGF0ZTpmdW5jdGlvbihwLGcsZCxvKXt2YXIgbj10aGlzLGoscSxsLGEsYixoLGUsYyxrLG0scjtpZihuLnJlbmRlcmVkKXtqPW4uc3RvcmUuaW5kZXhPZihnKTtjPW4uaGVhZGVyQ3QuZ2V0R3JpZENvbHVtbnMoKTtrPW4ub3Zlckl0ZW1DbHM7aWYoYy5sZW5ndGgmJmo+LTEpe3E9bi5idWZmZXJSZW5kZXIoW2ddLGopWzBdO2w9bi5hbGwuaXRlbShqKTttPWwuaGFzQ2xzKGspO2wuZG9tLmNsYXNzTmFtZT1xLmNsYXNzTmFtZTtpZihtKXtsLmFkZENscyhrKX1hPWwucXVlcnkodGhpcy5jZWxsU2VsZWN0b3IpO2I9RXh0LmZseShxKS5xdWVyeSh0aGlzLmNlbGxTZWxlY3Rvcik7aD1iLmxlbmd0aDtyPWFbMF0ucGFyZW50Tm9kZTtmb3IoZT0wO2U8aDtlKyspe2lmKG4uc2hvdWxkVXBkYXRlQ2VsbChjW2VdLG8pKXtyLmluc2VydEJlZm9yZShiW2VdLGFbZV0pO3IucmVtb3ZlQ2hpbGQoYVtlXSl9fW4uc2VsTW9kZWwucmVmcmVzaCgpO24uZG9TdHJpcGVSb3dzKGosaik7bi5maXJlRXZlbnQoIml0ZW11cGRhdGUiLGcsaixxKX19fSxzaG91bGRVcGRhdGVDZWxsOmZ1bmN0aW9uKGIsYSl7aWYoYi5oYXNDdXN0b21SZW5kZXJlcil7cmV0dXJuIHRydWV9cmV0dXJuICFhfHxFeHQuQXJyYXkuY29udGFpbnMoYSxiLmRhdGFJbmRleCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnNldE5ld1RlbXBsYXRlKCk7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dGhpcy5kb1N0cmlwZVJvd3MoMCl9LHByb2Nlc3NJdGVtRXZlbnQ6ZnVuY3Rpb24oYixtLGosZCl7dmFyIGg9dGhpcyxrPWQuZ2V0VGFyZ2V0KGguY2VsbFNlbGVjdG9yLG0pLGk9az9rLmNlbGxJbmRleDotMSxhPWguc3RhdGljcygpLkV2ZW50TWFwLGM9aC5nZXRTZWxlY3Rpb25Nb2RlbCgpLGc9ZC50eXBlLGw7aWYoZz09ImtleWRvd24iJiYhayYmYy5nZXRDdXJyZW50UG9zaXRpb24pe2s9aC5nZXRDZWxsQnlQb3NpdGlvbihjLmdldEN1cnJlbnRQb3NpdGlvbigpKTtpZihrKXtrPWsuZG9tO2k9ay5jZWxsSW5kZXh9fWw9aC5maXJlRXZlbnQoInVpZXZlbnQiLGcsaCxrLGosaSxkLGIsbSk7aWYobD09PWZhbHNlfHxoLmNhbGxQYXJlbnQoYXJndW1lbnRzKT09PWZhbHNlKXtyZXR1cm4gZmFsc2V9aWYoZz09Im1vdXNlb3ZlciJ8fGc9PSJtb3VzZW91dCIpe3JldHVybiB0cnVlfWlmKCFrKXtyZXR1cm4gdHJ1ZX1yZXR1cm4gISgoaFsib25CZWZvcmVDZWxsIithW2ddXShrLGksYixtLGosZCk9PT1mYWxzZSl8fChoLmZpcmVFdmVudCgiYmVmb3JlY2VsbCIrZyxoLGssaSxiLG0saixkKT09PWZhbHNlKXx8KGhbIm9uQ2VsbCIrYVtnXV0oayxpLGIsbSxqLGQpPT09ZmFsc2UpfHwoaC5maXJlRXZlbnQoImNlbGwiK2csaCxrLGksYixtLGosZCk9PT1mYWxzZSkpfSxwcm9jZXNzU3BlY2lhbEV2ZW50OmZ1bmN0aW9uKGspe3ZhciBuPXRoaXMsYj1uLnN0YXRpY3MoKS5FdmVudE1hcCxkPW4uZmVhdHVyZXMsbT1kLmxlbmd0aCxvPWsudHlwZSxnLHAsaCxqLGMsbCxhPW4ub3duZXJDdDtuLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihvPT0ibW91c2VvdmVyInx8bz09Im1vdXNlb3V0Iil7cmV0dXJufWZvcihnPTA7ZzxtO2crKyl7cD1kW2ddO2lmKHAuaGFzRmVhdHVyZUV2ZW50KXtqPWsuZ2V0VGFyZ2V0KHAuZXZlbnRTZWxlY3RvcixuLmdldFRhcmdldEVsKCkpO2lmKGope2g9cC5ldmVudFByZWZpeDtjPXAuZ2V0RmlyZUV2ZW50QXJncygiYmVmb3JlIitoK28sbixqLGspO2w9cC5nZXRGaXJlRXZlbnRBcmdzKGgrbyxuLGosayk7aWYoKG4uZmlyZUV2ZW50LmFwcGx5KG4sYyk9PT1mYWxzZSl8fChhLmZpcmVFdmVudC5hcHBseShhLGMpPT09ZmFsc2UpfHwobi5maXJlRXZlbnQuYXBwbHkobixsKT09PWZhbHNlKXx8KGEuZmlyZUV2ZW50LmFwcGx5KGEsbCk9PT1mYWxzZSkpe3JldHVybiBmYWxzZX19fX1yZXR1cm4gdHJ1ZX0sb25DZWxsTW91c2VEb3duOkV4dC5lbXB0eUZuLG9uQ2VsbE1vdXNlVXA6RXh0LmVtcHR5Rm4sb25DZWxsQ2xpY2s6RXh0LmVtcHR5Rm4sb25DZWxsRGJsQ2xpY2s6RXh0LmVtcHR5Rm4sb25DZWxsQ29udGV4dE1lbnU6RXh0LmVtcHR5Rm4sb25DZWxsS2V5RG93bjpFeHQuZW1wdHlGbixvbkJlZm9yZUNlbGxNb3VzZURvd246RXh0LmVtcHR5Rm4sb25CZWZvcmVDZWxsTW91c2VVcDpFeHQuZW1wdHlGbixvbkJlZm9yZUNlbGxDbGljazpFeHQuZW1wdHlGbixvbkJlZm9yZUNlbGxEYmxDbGljazpFeHQuZW1wdHlGbixvbkJlZm9yZUNlbGxDb250ZXh0TWVudTpFeHQuZW1wdHlGbixvbkJlZm9yZUNlbGxLZXlEb3duOkV4dC5lbXB0eUZuLGV4cGFuZFRvRml0OmZ1bmN0aW9uKGIpe2lmKGIpe3ZhciBhPXRoaXMuZ2V0TWF4Q29udGVudFdpZHRoKGIpO2RlbGV0ZSBiLmZsZXg7Yi5zZXRXaWR0aChhKX19LGdldE1heENvbnRlbnRXaWR0aDpmdW5jdGlvbihoKXt2YXIgYT1oLmdldENlbGxJbm5lclNlbGVjdG9yKCksYz10aGlzLmVsLnF1ZXJ5KGEpLGQ9MCxnPWMubGVuZ3RoLGU9aC5lbC5kb20uc2Nyb2xsV2lkdGgsYjtmb3IoO2Q8ZztkKyspe2I9Y1tkXS5zY3JvbGxXaWR0aDtpZihiPmUpe2U9Yn19cmV0dXJuIGV9LGdldFBvc2l0aW9uQnlFdmVudDpmdW5jdGlvbihnKXt2YXIgZD10aGlzLGI9Zy5nZXRUYXJnZXQoZC5jZWxsU2VsZWN0b3IpLGM9Zy5nZXRUYXJnZXQoZC5pdGVtU2VsZWN0b3IpLGE9ZC5nZXRSZWNvcmQoYyksaD1kLmdldEhlYWRlckJ5Q2VsbChiKTtyZXR1cm4gZC5nZXRQb3NpdGlvbihhLGgpfSxnZXRIZWFkZXJCeUNlbGw6ZnVuY3Rpb24oYil7aWYoYil7dmFyIGE9Yi5jbGFzc05hbWUubWF0Y2godGhpcy5jZWxsUmUpO2lmKGEmJmFbMV0pe3JldHVybiBFeHQuZ2V0Q21wKGFbMV0pfX1yZXR1cm4gZmFsc2V9LHdhbGtDZWxsczpmdW5jdGlvbihsLG0saCxuLGEsbyl7aWYoIWwpe3JldHVybn12YXIgaj10aGlzLHA9bC5yb3csZD1sLmNvbHVtbixrPWouc3RvcmUuZ2V0Q291bnQoKSxnPWouZ2V0Rmlyc3RWaXNpYmxlQ29sdW1uSW5kZXgoKSxiPWouZ2V0TGFzdFZpc2libGVDb2x1bW5JbmRleCgpLGk9e3JvdzpwLGNvbHVtbjpkfSxjPWouaGVhZGVyQ3QuZ2V0SGVhZGVyQXRJbmRleChkKTtpZighY3x8Yy5oaWRkZW4pe3JldHVybiBmYWxzZX1oPWh8fHt9O209bS50b0xvd2VyQ2FzZSgpO3N3aXRjaChtKXtjYXNlInJpZ2h0IjppZihkPT09Yil7aWYobnx8cD09PWstMSl7cmV0dXJuIGZhbHNlfWlmKCFoLmN0cmxLZXkpe2kucm93PXArMTtpLmNvbHVtbj1nfX1lbHNle2lmKCFoLmN0cmxLZXkpe2kuY29sdW1uPWQrai5nZXRSaWdodEdhcChjKX1lbHNle2kuY29sdW1uPWJ9fWJyZWFrO2Nhc2UibGVmdCI6aWYoZD09PWcpe2lmKG58fHA9PT0wKXtyZXR1cm4gZmFsc2V9aWYoIWguY3RybEtleSl7aS5yb3c9cC0xO2kuY29sdW1uPWJ9fWVsc2V7aWYoIWguY3RybEtleSl7aS5jb2x1bW49ZCtqLmdldExlZnRHYXAoYyl9ZWxzZXtpLmNvbHVtbj1nfX1icmVhaztjYXNlInVwIjppZihwPT09MCl7cmV0dXJuIGZhbHNlfWVsc2V7aWYoIWguY3RybEtleSl7aS5yb3c9cC0xfWVsc2V7aS5yb3c9MH19YnJlYWs7Y2FzZSJkb3duIjppZihwPT09ay0xKXtyZXR1cm4gZmFsc2V9ZWxzZXtpZighaC5jdHJsS2V5KXtpLnJvdz1wKzF9ZWxzZXtpLnJvdz1rLTF9fWJyZWFrfWlmKGEmJmEuY2FsbChvfHx3aW5kb3csaSkhPT10cnVlKXtyZXR1cm4gZmFsc2V9ZWxzZXtyZXR1cm4gaX19LGdldEZpcnN0VmlzaWJsZUNvbHVtbkluZGV4OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5nZXRIZWFkZXJDdCgpLmdldFZpc2libGVHcmlkQ29sdW1ucygpWzBdO3JldHVybiBhP2EuZ2V0SW5kZXgoKTotMX0sZ2V0TGFzdFZpc2libGVDb2x1bW5JbmRleDpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZ2V0SGVhZGVyQ3QoKS5nZXRWaXNpYmxlR3JpZENvbHVtbnMoKSxhPWJbYi5sZW5ndGgtMV07cmV0dXJuIGEuZ2V0SW5kZXgoKX0sZ2V0SGVhZGVyQ3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oZWFkZXJDdH0sZ2V0UG9zaXRpb246ZnVuY3Rpb24oYSxlKXt2YXIgZD10aGlzLGI9ZC5zdG9yZSxjPWQuaGVhZGVyQ3QuZ2V0R3JpZENvbHVtbnMoKTtyZXR1cm57cm93OmIuaW5kZXhPZihhKSxjb2x1bW46RXh0LkFycmF5LmluZGV4T2YoYyxlKX19LGdldFJpZ2h0R2FwOmZ1bmN0aW9uKGEpe3ZhciBnPXRoaXMuZ2V0SGVhZGVyQ3QoKSxlPWcuZ2V0R3JpZENvbHVtbnMoKSxiPUV4dC5BcnJheS5pbmRleE9mKGUsYSksYz1iKzEsZDtmb3IoO2M8PWUubGVuZ3RoO2MrKyl7aWYoIWVbY10uaGlkZGVuKXtkPWM7YnJlYWt9fXJldHVybiBkLWJ9LGJlZm9yZURlc3Ryb3k6ZnVuY3Rpb24oKXtpZih0aGlzLnJlbmRlcmVkKXt0aGlzLmVsLnJlbW92ZUFsbExpc3RlbmVycygpfXRoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpfSxnZXRMZWZ0R2FwOmZ1bmN0aW9uKGEpe3ZhciBnPXRoaXMuZ2V0SGVhZGVyQ3QoKSxlPWcuZ2V0R3JpZENvbHVtbnMoKSxjPUV4dC5BcnJheS5pbmRleE9mKGUsYSksZD1jLTEsYjtmb3IoO2Q+PTA7ZC0tKXtpZighZVtkXS5oaWRkZW4pe2I9ZDticmVha319cmV0dXJuIGItY30sb25BZGQ6ZnVuY3Rpb24oYyxhLGIpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3RoaXMuZG9TdHJpcGVSb3dzKGIpfSxvblJlbW92ZTpmdW5jdGlvbihjLGEsYil7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dGhpcy5kb1N0cmlwZVJvd3MoYil9LGRvU3RyaXBlUm93czpmdW5jdGlvbihiLGEpe3ZhciBkPXRoaXMsZSxoLGMsZztpZihkLnJlbmRlcmVkJiZkLnN0cmlwZVJvd3Mpe2U9ZC5nZXROb2RlcyhiLGEpO2ZvcihjPTAsaD1lLmxlbmd0aDtjPGg7YysrKXtnPWVbY107Zy5jbGFzc05hbWU9Zy5jbGFzc05hbWUucmVwbGFjZShkLnJvd0Nsc1JlLCIgIik7YisrO2lmKGIlMj09PTApe2cuY2xhc3NOYW1lKz0oIiAiK2QuYWx0Um93Q2xzKX19fX19KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5Mb2NrYWJsZSIse3JlcXVpcmVzOlsiRXh0LmdyaWQuTG9ja2luZ1ZpZXciLCJFeHQudmlldy5UYWJsZSJdLHN5bmNSb3dIZWlnaHQ6dHJ1ZSxoZWFkZXJDb3VudGVyOjAsc2Nyb2xsRGVsdGE6NDAsdW5sb2NrVGV4dDoiVW5sb2NrIixsb2NrVGV4dDoiTG9jayIsZGV0ZXJtaW5lWFR5cGVUb0NyZWF0ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMsZyxkLGIsZSxhO2lmKGMuc3ViR3JpZFhUeXBlKXtnPWMuc3ViR3JpZFhUeXBlfWVsc2V7ZD10aGlzLmdldFhUeXBlcygpLnNwbGl0KCIvIik7Yj1kLmxlbmd0aDtlPWRbYi0xXTthPWRbYi0yXTtpZihhIT09InRhYmxlcGFuZWwiKXtnPWF9ZWxzZXtnPWV9fXJldHVybiBnfSxpbmplY3RMb2NrYWJsZTpmdW5jdGlvbigpe3RoaXMubG9ja2FibGU9dHJ1ZTt0aGlzLmhhc1ZpZXc9dHJ1ZTt2YXIgcT10aGlzLGw9RXh0LmdldFNjcm9sbGJhclNpemUoKS53aWR0aD09PTAscj1xLnN0b3JlPUV4dC5TdG9yZU1hbmFnZXIubG9va3VwKHEuc3RvcmUpLGE9cS5kZXRlcm1pbmVYVHlwZVRvQ3JlYXRlKCksbT1xLmdldFNlbGVjdGlvbk1vZGVsKCksaz1xLnByZXBhcmVGZWF0dXJlcygpLGc9cS5wcmVwYXJlRmVhdHVyZXMoKSxkLG8saD0wLG4sYyxiLGoscyxlLHA7Zm9yKGg9MCxuPShrP2subGVuZ3RoOjApO2g8bjtoKyspe2tbaF0ubG9ja2luZ1BhcnRuZXI9Z1toXTtnW2hdLmxvY2tpbmdQYXJ0bmVyPWtbaF19ZD1FeHQuYXBwbHkoe3h0eXBlOmEsc3RvcmU6cixzY3JvbGxlck93bmVyOmZhbHNlLGVuYWJsZUFuaW1hdGlvbnM6ZmFsc2Usc2Nyb2xsOmw/InZlcnRpY2FsIjpmYWxzZSxzZWxNb2RlbDptLGJvcmRlcjpmYWxzZSxjbHM6RXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtaW5uZXItbG9ja2VkIixpc0xheW91dFJvb3Q6ZnVuY3Rpb24oKXtyZXR1cm4gZmFsc2V9LGZlYXR1cmVzOmt9LHEubG9ja2VkR3JpZENvbmZpZyk7bz1FeHQuYXBwbHkoe3h0eXBlOmEsc3RvcmU6cixzY3JvbGxlck93bmVyOmZhbHNlLGVuYWJsZUFuaW1hdGlvbnM6ZmFsc2Usc2VsTW9kZWw6bSxib3JkZXI6ZmFsc2UsaXNMYXlvdXRSb290OmZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlfSxmZWF0dXJlczpnfSxxLm5vcm1hbEdyaWRDb25maWcpO3EuYWRkQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLWxvY2tlZCIpO0V4dC5jb3B5VG8obyxxLHEuYm90aENmZ0NvcHkpO0V4dC5jb3B5VG8oZCxxLHEuYm90aENmZ0NvcHkpO0V4dC5jb3B5VG8obyxxLHEubm9ybWFsQ2ZnQ29weSk7RXh0LmNvcHlUbyhkLHEscS5sb2NrZWRDZmdDb3B5KTtmb3IoaD0wO2g8cS5ub3JtYWxDZmdDb3B5Lmxlbmd0aDtoKyspe2RlbGV0ZSBxW3Eubm9ybWFsQ2ZnQ29weVtoXV19Zm9yKGg9MDtoPHEubG9ja2VkQ2ZnQ29weS5sZW5ndGg7aCsrKXtkZWxldGUgcVtxLmxvY2tlZENmZ0NvcHlbaF1dfXEuYWRkRXZlbnRzKCJsb2NrY29sdW1uIiwidW5sb2NrY29sdW1uIik7cS5hZGRTdGF0ZUV2ZW50cyhbImxvY2tjb2x1bW4iLCJ1bmxvY2tjb2x1bW4iXSk7cS5sb2NrZWRIZWlnaHRzPVtdO3Eubm9ybWFsSGVpZ2h0cz1bXTtjPXEucHJvY2Vzc0NvbHVtbnMocS5jb2x1bW5zKTtkLndpZHRoPWMubG9ja2VkV2lkdGgrRXh0Lm51bShtLmhlYWRlcldpZHRoLDApO2QuY29sdW1ucz1jLmxvY2tlZDtvLmNvbHVtbnM9Yy5ub3JtYWw7by5mbGV4PTE7ZC52aWV3Q29uZmlnPXEubG9ja2VkVmlld0NvbmZpZ3x8e307ZC52aWV3Q29uZmlnLmxvYWRpbmdVc2VNc2c9ZmFsc2U7by52aWV3Q29uZmlnPXEubm9ybWFsVmlld0NvbmZpZ3x8e307RXh0LmFwcGx5SWYoZC52aWV3Q29uZmlnLHEudmlld0NvbmZpZyk7RXh0LmFwcGx5SWYoby52aWV3Q29uZmlnLHEudmlld0NvbmZpZyk7cS5ub3JtYWxHcmlkPUV4dC5Db21wb25lbnRNYW5hZ2VyLmNyZWF0ZShvKTtxLmxvY2tlZEdyaWQ9RXh0LkNvbXBvbmVudE1hbmFnZXIuY3JlYXRlKGQpO3Eudmlldz1uZXcgRXh0LmdyaWQuTG9ja2luZ1ZpZXcoe2xvY2tlZDpxLmxvY2tlZEdyaWQsbm9ybWFsOnEubm9ybWFsR3JpZCxwYW5lbDpxfSk7cz1xLmxvY2tlZEdyaWQuZ2V0VmlldygpO2U9cS5ub3JtYWxHcmlkLmdldFZpZXcoKTtpZihsKXtwPXtzY3JvbGw6e2ZuOnEub25Mb2NrZWRWaWV3U2Nyb2xsLGVsZW1lbnQ6ImVsIixzY29wZTpxfX19ZWxzZXtwPXttb3VzZXdoZWVsOntmbjpxLm9uTG9ja2VkVmlld01vdXNlV2hlZWwsZWxlbWVudDoiZWwiLHNjb3BlOnF9fX1pZihxLnN5bmNSb3dIZWlnaHQpe3AucmVmcmVzaD1xLm9uTG9ja2VkVmlld1JlZnJlc2g7cC5pdGVtdXBkYXRlPXEub25Mb2NrZWRWaWV3SXRlbVVwZGF0ZTtwLnNjb3BlPXF9cy5vbihwKTtwPXtzY3JvbGw6e2ZuOnEub25Ob3JtYWxWaWV3U2Nyb2xsLGVsZW1lbnQ6ImVsIixzY29wZTpxfSxyZWZyZXNoOnEuc3luY1Jvd0hlaWdodD9xLm9uTm9ybWFsVmlld1JlZnJlc2g6cS51cGRhdGVTcGFjZXIsc2NvcGU6cX07ZS5vbihwKTtiPXEubG9ja2VkR3JpZC5oZWFkZXJDdDtqPXEubm9ybWFsR3JpZC5oZWFkZXJDdDtiLmxvY2tlZEN0PXRydWU7Yi5sb2NrYWJsZUluamVjdGVkPXRydWU7ai5sb2NrYWJsZUluamVjdGVkPXRydWU7Yi5vbih7Y29sdW1uc2hvdzpxLm9uTG9ja2VkSGVhZGVyU2hvdyxjb2x1bW5oaWRlOnEub25Mb2NrZWRIZWFkZXJIaWRlLGNvbHVtbm1vdmU6cS5vbkxvY2tlZEhlYWRlck1vdmUsc29ydGNoYW5nZTpxLm9uTG9ja2VkSGVhZGVyU29ydENoYW5nZSxjb2x1bW5yZXNpemU6cS5vbkxvY2tlZEhlYWRlclJlc2l6ZSxzY29wZTpxfSk7ai5vbih7Y29sdW1ubW92ZTpxLm9uTm9ybWFsSGVhZGVyTW92ZSxzb3J0Y2hhbmdlOnEub25Ob3JtYWxIZWFkZXJTb3J0Q2hhbmdlLHNjb3BlOnF9KTtxLm1vZGlmeUhlYWRlckN0KCk7cS5pdGVtcz1bcS5sb2NrZWRHcmlkLHEubm9ybWFsR3JpZF07cS5yZWxheUhlYWRlckN0RXZlbnRzKGIpO3EucmVsYXlIZWFkZXJDdEV2ZW50cyhqKTtxLmxheW91dD17dHlwZToiaGJveCIsYWxpZ246InN0cmV0Y2gifX0scHJvY2Vzc0NvbHVtbnM6ZnVuY3Rpb24oZyl7dmFyIGU9MCxhPWcubGVuZ3RoLGI9MCxkPVtdLGM9W10saDtmb3IoO2U8YTsrK2Upe2g9Z1tlXTtpZighaC5pc0NvbXBvbmVudCl7aD1FeHQuYXBwbHkoe30sZ1tlXSl9aC5wcm9jZXNzZWQ9dHJ1ZTtpZihoLmxvY2tlZCl7aWYoIWguaGlkZGVuKXtiKz1oLndpZHRofHxFeHQuZ3JpZC5oZWFkZXIuQ29udGFpbmVyLnByb3RvdHlwZS5kZWZhdWx0V2lkdGh9ZC5wdXNoKGgpfWVsc2V7Yy5wdXNoKGgpfWlmKCFoLmhlYWRlcklkKXtoLmhlYWRlcklkPShoLmluaXRpYWxDb25maWd8fGgpLmlkfHwoIkwiKygrK3RoaXMuaGVhZGVyQ291bnRlcikpfX1yZXR1cm57bG9ja2VkV2lkdGg6Yixsb2NrZWQ6e2l0ZW1zOmQsaXRlbUlkOiJsb2NrZWRIZWFkZXJDdCIsc3RyZXRjaE1heFBhcnRuZXI6Il5ePj4jbm9ybWFsSGVhZGVyQ3QifSxub3JtYWw6e2l0ZW1zOmMsaXRlbUlkOiJub3JtYWxIZWFkZXJDdCIsc3RyZXRjaE1heFBhcnRuZXI6Il5ePj4jbG9ja2VkSGVhZGVyQ3QifX19LG9uTG9ja2VkVmlld01vdXNlV2hlZWw6ZnVuY3Rpb24oaSl7dmFyIGQ9dGhpcyxoPS1kLnNjcm9sbERlbHRhLGE9aCppLmdldFdoZWVsRGVsdGFzKCkueSxiPWQubG9ja2VkR3JpZC5nZXRWaWV3KCkuZWwuZG9tLGMsZztpZihiKXtjPWIuc2Nyb2xsVG9wIT09Yi5zY3JvbGxIZWlnaHQtYi5jbGllbnRIZWlnaHQ7Zz1iLnNjcm9sbFRvcCE9PTB9aWYoKGE8MCYmZyl8fChhPjAmJmMpKXtpLnN0b3BFdmVudCgpO2Quc2Nyb2xsaW5nPXRydWU7Yi5zY3JvbGxUb3ArPWE7ZC5ub3JtYWxHcmlkLmdldFZpZXcoKS5lbC5kb20uc2Nyb2xsVG9wPWIuc2Nyb2xsVG9wO2Quc2Nyb2xsaW5nPWZhbHNlO2Qub25Ob3JtYWxWaWV3U2Nyb2xsKCl9fSxvbkxvY2tlZFZpZXdTY3JvbGw6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLGQ9ZS5sb2NrZWRHcmlkLmdldFZpZXcoKSxjPWUubm9ybWFsR3JpZC5nZXRWaWV3KCksYSxiO2lmKCFlLnNjcm9sbGluZyl7ZS5zY3JvbGxpbmc9dHJ1ZTtjLmVsLmRvbS5zY3JvbGxUb3A9ZC5lbC5kb20uc2Nyb2xsVG9wO2lmKGUuc3RvcmUuYnVmZmVyZWQpe2I9ZC5lbC5jaGlsZCgidGFibGUiLHRydWUpO2E9Yy5lbC5jaGlsZCgidGFibGUiLHRydWUpO2Iuc3R5bGUucG9zaXRpb249ImFic29sdXRlIn1lLnNjcm9sbGluZz1mYWxzZX19LG9uTm9ybWFsVmlld1Njcm9sbDpmdW5jdGlvbigpe3ZhciBlPXRoaXMsZD1lLmxvY2tlZEdyaWQuZ2V0VmlldygpLGM9ZS5ub3JtYWxHcmlkLmdldFZpZXcoKSxhLGI7aWYoIWUuc2Nyb2xsaW5nKXtlLnNjcm9sbGluZz10cnVlO2QuZWwuZG9tLnNjcm9sbFRvcD1jLmVsLmRvbS5zY3JvbGxUb3A7aWYoZS5zdG9yZS5idWZmZXJlZCl7Yj1kLmVsLmNoaWxkKCJ0YWJsZSIsdHJ1ZSk7YT1jLmVsLmNoaWxkKCJ0YWJsZSIsdHJ1ZSk7Yi5zdHlsZS5wb3NpdGlvbj0iYWJzb2x1dGUiO2Iuc3R5bGUudG9wPWEuc3R5bGUudG9wfWUuc2Nyb2xsaW5nPWZhbHNlfX0sb25Mb2NrZWRIZWFkZXJNb3ZlOmZ1bmN0aW9uKCl7aWYodGhpcy5zeW5jUm93SGVpZ2h0KXt0aGlzLm9uTm9ybWFsVmlld1JlZnJlc2goKX19LG9uTm9ybWFsSGVhZGVyTW92ZTpmdW5jdGlvbigpe2lmKHRoaXMuc3luY1Jvd0hlaWdodCl7dGhpcy5vbkxvY2tlZFZpZXdSZWZyZXNoKCl9fSx1cGRhdGVTcGFjZXI6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGI9ZC5sb2NrZWRHcmlkLmdldFZpZXcoKS5lbCxjPWQubm9ybWFsR3JpZC5nZXRWaWV3KCkuZWwuZG9tLGE9Yi5kb20uaWQrIi1zcGFjZXIiLGU9KGMub2Zmc2V0SGVpZ2h0LWMuY2xpZW50SGVpZ2h0KSsicHgiO2Quc3BhY2VyRWw9RXh0LmdldERvbShhKTtpZihkLnNwYWNlckVsKXtkLnNwYWNlckVsLnN0eWxlLmhlaWdodD1lfWVsc2V7RXh0LmNvcmUuRG9tSGVscGVyLmFwcGVuZChiLHtpZDphLHN0eWxlOiJoZWlnaHQ6ICIrZX0pfX0sb25Mb2NrZWRWaWV3UmVmcmVzaDpmdW5jdGlvbigpe2lmKHRoaXMubm9ybWFsR3JpZC5oZWFkZXJDdC5nZXRHcmlkQ29sdW1ucygpLmxlbmd0aCl7dmFyIGU9dGhpcyxhPWUubG9ja2VkR3JpZC5nZXRWaWV3KCksYz1hLmVsLGc9Yy5xdWVyeShhLmdldEl0ZW1TZWxlY3RvcigpKSxkPWcubGVuZ3RoLGI9MDtlLmxvY2tlZEhlaWdodHM9W107Zm9yKDtiPGQ7YisrKXtlLmxvY2tlZEhlaWdodHNbYl09Z1tiXS5jbGllbnRIZWlnaHR9ZS5zeW5jUm93SGVpZ2h0cygpfX0sb25Ob3JtYWxWaWV3UmVmcmVzaDpmdW5jdGlvbigpe2lmKHRoaXMubG9ja2VkR3JpZC5oZWFkZXJDdC5nZXRHcmlkQ29sdW1ucygpLmxlbmd0aCl7dmFyIGU9dGhpcyxhPWUubm9ybWFsR3JpZC5nZXRWaWV3KCksYz1hLmVsLGc9Yy5xdWVyeShhLmdldEl0ZW1TZWxlY3RvcigpKSxkPWcubGVuZ3RoLGI9MDtlLm5vcm1hbEhlaWdodHM9W107Zm9yKDtiPGQ7YisrKXtlLm5vcm1hbEhlaWdodHNbYl09Z1tiXS5jbGllbnRIZWlnaHR9ZS5zeW5jUm93SGVpZ2h0cygpO2UudXBkYXRlU3BhY2VyKCl9fSxvbkxvY2tlZFZpZXdJdGVtVXBkYXRlOmZ1bmN0aW9uKGEsYixjKXtpZih0aGlzLm5vcm1hbEdyaWQuaGVhZGVyQ3QuZ2V0R3JpZENvbHVtbnMoKS5sZW5ndGgpe3RoaXMubG9ja2VkSGVpZ2h0c1tiXT1jLmNsaWVudEhlaWdodDt0aGlzLnN5bmNSb3dIZWlnaHRzKCl9fSxvbk5vcm1hbFZpZXdJdGVtVXBkYXRlOmZ1bmN0aW9uKGEsYixjKXtpZih0aGlzLmxvY2tlZEdyaWQuaGVhZGVyQ3QuZ2V0R3JpZENvbHVtbnMoKS5sZW5ndGgpe3RoaXMubm9ybWFsSGVpZ2h0c1tiXT1jLmNsaWVudEhlaWdodDt0aGlzLnN5bmNSb3dIZWlnaHRzKCl9fSxzeW5jUm93SGVpZ2h0czpmdW5jdGlvbigpe3ZhciBrPXRoaXMsYj1rLmxvY2tlZEhlaWdodHMsbD1rLm5vcm1hbEhlaWdodHMsYT1bXSxqPWIubGVuZ3RoLGc9MCxtLGQsZSxoLGM7aWYoYi5sZW5ndGgmJmwubGVuZ3RoKXttPWsubG9ja2VkR3JpZC5nZXRWaWV3KCk7ZD1rLm5vcm1hbEdyaWQuZ2V0VmlldygpO2U9bS5lbC5xdWVyeShtLmdldEl0ZW1TZWxlY3RvcigpKTtoPWQuZWwucXVlcnkoZC5nZXRJdGVtU2VsZWN0b3IoKSk7Zm9yKDtnPGo7ZysrKXtpZighaXNOYU4oYltnXSkmJiFpc05hTihsW2ddKSl7aWYoYltnXT5sW2ddKXtFeHQuZmx5KGhbZ10pLnNldEhlaWdodChiW2ddKX1lbHNle2lmKGJbZ108bFtnXSl7RXh0LmZseShlW2ddKS5zZXRIZWlnaHQobFtnXSl9fX19Yz1kLmVsLmRvbS5zY3JvbGxUb3A7ZC5lbC5kb20uc2Nyb2xsVG9wPWM7bS5lbC5kb20uc2Nyb2xsVG9wPWM7ay5sb2NrZWRIZWlnaHRzPVtdO2subm9ybWFsSGVpZ2h0cz1bXX19LG1vZGlmeUhlYWRlckN0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmxvY2tlZEdyaWQuaGVhZGVyQ3QuZ2V0TWVudUl0ZW1zPWEuZ2V0TWVudUl0ZW1zKHRydWUpO2Eubm9ybWFsR3JpZC5oZWFkZXJDdC5nZXRNZW51SXRlbXM9YS5nZXRNZW51SXRlbXMoZmFsc2UpfSxvblVubG9ja01lbnVDbGljazpmdW5jdGlvbigpe3RoaXMudW5sb2NrKCl9LG9uTG9ja01lbnVDbGljazpmdW5jdGlvbigpe3RoaXMubG9jaygpfSxnZXRNZW51SXRlbXM6ZnVuY3Rpb24oYil7dmFyIGc9dGhpcyxoPWcudW5sb2NrVGV4dCxpPWcubG9ja1RleHQsYz1FeHQuYmFzZUNTU1ByZWZpeCsiaG1lbnUtdW5sb2NrIixlPUV4dC5iYXNlQ1NTUHJlZml4KyJobWVudS1sb2NrIixhPUV4dC5GdW5jdGlvbi5iaW5kKGcub25VbmxvY2tNZW51Q2xpY2ssZyksZD1FeHQuRnVuY3Rpb24uYmluZChnLm9uTG9ja01lbnVDbGljayxnKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgaj1FeHQuZ3JpZC5oZWFkZXIuQ29udGFpbmVyLnByb3RvdHlwZS5nZXRNZW51SXRlbXMuY2FsbCh0aGlzKTtqLnB1c2goIi0iLHtjbHM6Yyx0ZXh0OmgsaGFuZGxlcjphLGRpc2FibGVkOiFifSk7ai5wdXNoKHtjbHM6ZSx0ZXh0OmksaGFuZGxlcjpkLGRpc2FibGVkOmJ9KTtyZXR1cm4gan19LGxvY2s6ZnVuY3Rpb24oYSxkKXt2YXIgYz10aGlzLGU9Yy5ub3JtYWxHcmlkLGg9Yy5sb2NrZWRHcmlkLGc9ZS5oZWFkZXJDdCxiPWguaGVhZGVyQ3Q7YT1hfHxnLmdldE1lbnUoKS5hY3RpdmVIZWFkZXI7aWYoYS5mbGV4KXthLndpZHRoPWEuZ2V0V2lkdGgoKTtkZWxldGUgYS5mbGV4fUV4dC5zdXNwZW5kTGF5b3V0cygpO2cucmVtb3ZlKGEsZmFsc2UpO2EubG9ja2VkPXRydWU7aWYoRXh0LmlzRGVmaW5lZChkKSl7Yi5pbnNlcnQoZCxhKX1lbHNle2IuYWRkKGEpfWMuc3luY0xvY2tlZFNlY3Rpb24oKTtFeHQucmVzdW1lTGF5b3V0cyh0cnVlKTtjLnVwZGF0ZVNwYWNlcigpO2MuZmlyZUV2ZW50KCJsb2NrY29sdW1uIixjLGEpfSxzeW5jTG9ja2VkU2VjdGlvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5zeW5jTG9ja2VkV2lkdGgoKTthLmxvY2tlZEdyaWQuZ2V0VmlldygpLnJlZnJlc2goKTthLm5vcm1hbEdyaWQuZ2V0VmlldygpLnJlZnJlc2goKX0sc3luY0xvY2tlZFdpZHRoOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxhPWMubG9ja2VkR3JpZCxiPWEuaGVhZGVyQ3QuZ2V0RnVsbFdpZHRoKHRydWUpO0V4dC5zdXNwZW5kTGF5b3V0cygpO2lmKGI+MCl7YS5zZXRXaWR0aChiKTthLnNob3coKX1lbHNle2EuaGlkZSgpfUV4dC5yZXN1bWVMYXlvdXRzKHRydWUpO3JldHVybiBiPjB9LG9uTG9ja2VkSGVhZGVyUmVzaXplOmZ1bmN0aW9uKCl7dGhpcy5zeW5jTG9ja2VkV2lkdGgoKX0sb25Mb2NrZWRIZWFkZXJIaWRlOmZ1bmN0aW9uKCl7dGhpcy5zeW5jTG9ja2VkV2lkdGgoKX0sb25Mb2NrZWRIZWFkZXJTaG93OmZ1bmN0aW9uKCl7dGhpcy5zeW5jTG9ja2VkV2lkdGgoKX0sb25Mb2NrZWRIZWFkZXJTb3J0Q2hhbmdlOmZ1bmN0aW9uKGIsYyxhKXtpZihhKXt0aGlzLm5vcm1hbEdyaWQuaGVhZGVyQ3QuY2xlYXJPdGhlclNvcnRTdGF0ZXMobnVsbCx0cnVlKX19LG9uTm9ybWFsSGVhZGVyU29ydENoYW5nZTpmdW5jdGlvbihiLGMsYSl7aWYoYSl7dGhpcy5sb2NrZWRHcmlkLmhlYWRlckN0LmNsZWFyT3RoZXJTb3J0U3RhdGVzKG51bGwsdHJ1ZSl9fSx1bmxvY2s6ZnVuY3Rpb24oYSxlKXt2YXIgZD10aGlzLGc9ZC5ub3JtYWxHcmlkLGk9ZC5sb2NrZWRHcmlkLGg9Zy5oZWFkZXJDdCxjPWkuaGVhZGVyQ3QsYj1mYWxzZTtpZighRXh0LmlzRGVmaW5lZChlKSl7ZT0wfWE9YXx8Yy5nZXRNZW51KCkuYWN0aXZlSGVhZGVyO0V4dC5zdXNwZW5kTGF5b3V0cygpO2MucmVtb3ZlKGEsZmFsc2UpO2lmKGQuc3luY0xvY2tlZFdpZHRoKCkpe2I9dHJ1ZX1hLmxvY2tlZD1mYWxzZTtoLmluc2VydChlLGEpO2Qubm9ybWFsR3JpZC5nZXRWaWV3KCkucmVmcmVzaCgpO2lmKGIpe2QubG9ja2VkR3JpZC5nZXRWaWV3KCkucmVmcmVzaCgpfUV4dC5yZXN1bWVMYXlvdXRzKHRydWUpO2QuZmlyZUV2ZW50KCJ1bmxvY2tjb2x1bW4iLGQsYSl9LGFwcGx5Q29sdW1uc1N0YXRlOmZ1bmN0aW9uKGgpe3ZhciBwPXRoaXMsZT1wLmxvY2tlZEdyaWQsZz1lLmhlYWRlckN0LG49cC5ub3JtYWxHcmlkLmhlYWRlckN0LHE9RXh0LkFycmF5LnRvTWFwKGcuaXRlbXMsImhlYWRlcklkIiksaj1FeHQuQXJyYXkudG9NYXAobi5pdGVtcywiaGVhZGVySWQiKSxtPVtdLG89W10sbD0xLGI9aC5sZW5ndGgsayxhLGQsYztmb3Ioaz0wO2s8YjtrKyspe2M9aFtrXTtkPXFbYy5pZF07YT1kfHxqW2MuaWRdO2lmKGEpe2lmKGEuYXBwbHlDb2x1bW5TdGF0ZSl7YS5hcHBseUNvbHVtblN0YXRlKGMpfWlmKGEubG9ja2VkPT09dW5kZWZpbmVkKXthLmxvY2tlZD0hIWR9aWYoYS5sb2NrZWQpe20ucHVzaChhKTtpZighYS5oaWRkZW4mJnR5cGVvZiBhLndpZHRoPT0ibnVtYmVyIil7bCs9YS53aWR0aH19ZWxzZXtvLnB1c2goYSl9fX1pZihtLmxlbmd0aCtvLmxlbmd0aD09Zy5pdGVtcy5nZXRDb3VudCgpK24uaXRlbXMuZ2V0Q291bnQoKSl7Zy5yZW1vdmVBbGwoZmFsc2UpO24ucmVtb3ZlQWxsKGZhbHNlKTtnLmFkZChtKTtuLmFkZChvKTtlLnNldFdpZHRoKGwpfX0sZ2V0Q29sdW1uc1N0YXRlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhPWIubG9ja2VkR3JpZC5oZWFkZXJDdC5nZXRDb2x1bW5zU3RhdGUoKSxjPWIubm9ybWFsR3JpZC5oZWFkZXJDdC5nZXRDb2x1bW5zU3RhdGUoKTtyZXR1cm4gYS5jb25jYXQoYyl9LHJlY29uZmlndXJlTG9ja2FibGU6ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLGU9Yy5sb2NrZWRHcmlkLGQ9Yy5ub3JtYWxHcmlkO2lmKGIpe0V4dC5zdXNwZW5kTGF5b3V0cygpO2UuaGVhZGVyQ3QucmVtb3ZlQWxsKCk7ZC5oZWFkZXJDdC5yZW1vdmVBbGwoKTtiPWMucHJvY2Vzc0NvbHVtbnMoYik7ZS5zZXRXaWR0aChiLmxvY2tlZFdpZHRoKTtlLmhlYWRlckN0LmFkZChiLmxvY2tlZC5pdGVtcyk7ZC5oZWFkZXJDdC5hZGQoYi5ub3JtYWwuaXRlbXMpO0V4dC5yZXN1bWVMYXlvdXRzKHRydWUpfWlmKGEpe2E9RXh0LmRhdGEuU3RvcmVNYW5hZ2VyLmxvb2t1cChhKTtjLnN0b3JlPWE7ZS5iaW5kU3RvcmUoYSk7ZC5iaW5kU3RvcmUoYSl9ZWxzZXtlLmdldFZpZXcoKS5yZWZyZXNoKCk7ZC5nZXRWaWV3KCkucmVmcmVzaCgpfX19LGZ1bmN0aW9uKCl7dGhpcy5ib3Jyb3coRXh0LnZpZXcuVGFibGUsWyJwcmVwYXJlRmVhdHVyZXMiXSl9KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5WaWV3Iix7ZXh0ZW5kOiJFeHQudmlldy5UYWJsZSIsYWxpYXM6IndpZGdldC5ncmlkdmlldyIsc3RyaXBlUm93czp0cnVlLGF1dG9TY3JvbGw6dHJ1ZX0pO0V4dC5kZWZpbmUoIkV4dC5ncmlkLlBhbmVsIix7ZXh0ZW5kOiJFeHQucGFuZWwuVGFibGUiLHJlcXVpcmVzOlsiRXh0LmdyaWQuVmlldyJdLGFsaWFzOlsid2lkZ2V0LmdyaWRwYW5lbCIsIndpZGdldC5ncmlkIl0sYWx0ZXJuYXRlQ2xhc3NOYW1lOlsiRXh0Lmxpc3QuTGlzdFZpZXciLCJFeHQuTGlzdFZpZXciLCJFeHQuZ3JpZC5HcmlkUGFuZWwiXSx2aWV3VHlwZToiZ3JpZHZpZXciLGxvY2thYmxlOmZhbHNlLGJvdGhDZmdDb3B5OlsiaW52YWxpZGF0ZVNjcm9sbGVyT25SZWZyZXNoIiwiaGlkZUhlYWRlcnMiLCJlbmFibGVDb2x1bW5IaWRlIiwiZW5hYmxlQ29sdW1uTW92ZSIsImVuYWJsZUNvbHVtblJlc2l6ZSIsInNvcnRhYmxlQ29sdW1ucyJdLG5vcm1hbENmZ0NvcHk6WyJ2ZXJ0aWNhbFNjcm9sbGVyIiwidmVydGljYWxTY3JvbGxEb2NrIiwidmVydGljYWxTY3JvbGxlclR5cGUiLCJzY3JvbGwiXSxsb2NrZWRDZmdDb3B5OltdLHJvd0xpbmVzOnRydWV9KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5wcm9wZXJ0eS5HcmlkIix7ZXh0ZW5kOiJFeHQuZ3JpZC5QYW5lbCIsYWxpYXM6IndpZGdldC5wcm9wZXJ0eWdyaWQiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmdyaWQuUHJvcGVydHlHcmlkIix1c2VzOlsiRXh0LmdyaWQucGx1Z2luLkNlbGxFZGl0aW5nIiwiRXh0LmdyaWQucHJvcGVydHkuU3RvcmUiLCJFeHQuZ3JpZC5wcm9wZXJ0eS5IZWFkZXJDb250YWluZXIiLCJFeHQuWFRlbXBsYXRlIiwiRXh0LmdyaWQuQ2VsbEVkaXRvciIsIkV4dC5mb3JtLmZpZWxkLkRhdGUiLCJFeHQuZm9ybS5maWVsZC5UZXh0IiwiRXh0LmZvcm0uZmllbGQuTnVtYmVyIiwiRXh0LmZvcm0uZmllbGQuQ29tYm9Cb3giXSx2YWx1ZUZpZWxkOiJ2YWx1ZSIsbmFtZUZpZWxkOiJuYW1lIixlbmFibGVDb2x1bW5Nb3ZlOmZhbHNlLGNvbHVtbkxpbmVzOnRydWUsc3RyaXBlUm93czpmYWxzZSx0cmFja01vdXNlT3ZlcjpmYWxzZSxjbGlja3NUb0VkaXQ6MSxlbmFibGVIZE1lbnU6ZmFsc2UsaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5hZGRDbHMoRXh0LmJhc2VDU1NQcmVmaXgrInByb3BlcnR5LWdyaWQiKTthLnBsdWdpbnM9YS5wbHVnaW5zfHxbXTthLnBsdWdpbnMucHVzaChuZXcgRXh0LmdyaWQucGx1Z2luLkNlbGxFZGl0aW5nKHtjbGlja3NUb0VkaXQ6YS5jbGlja3NUb0VkaXQsc3RhcnRFZGl0OmZ1bmN0aW9uKGIsYyl7cmV0dXJuIHRoaXMuc2VsZi5wcm90b3R5cGUuc3RhcnRFZGl0LmNhbGwodGhpcyxiLGEuaGVhZGVyQ3QuY2hpbGQoIiMiK2EudmFsdWVGaWVsZCkpfX0pKTthLnNlbE1vZGVsPXtzZWxUeXBlOiJjZWxsbW9kZWwiLG9uQ2VsbFNlbGVjdDpmdW5jdGlvbihiKXtpZihiLmNvbHVtbiE9MSl7Yi5jb2x1bW49MX1yZXR1cm4gdGhpcy5zZWxmLnByb3RvdHlwZS5vbkNlbGxTZWxlY3QuY2FsbCh0aGlzLGIpfX07YS5jdXN0b21SZW5kZXJlcnM9YS5jdXN0b21SZW5kZXJlcnN8fHt9O2EuY3VzdG9tRWRpdG9ycz1hLmN1c3RvbUVkaXRvcnN8fHt9O2lmKCFhLnN0b3JlKXthLnByb3BTdG9yZT1hLnN0b3JlPW5ldyBFeHQuZ3JpZC5wcm9wZXJ0eS5TdG9yZShhLGEuc291cmNlKX1pZihhLnNvcnRhYmxlQ29sdW1ucyl7YS5zdG9yZS5zb3J0KCJuYW1lIiwiQVNDIil9YS5jb2x1bW5zPW5ldyBFeHQuZ3JpZC5wcm9wZXJ0eS5IZWFkZXJDb250YWluZXIoYSxhLnN0b3JlKTthLmFkZEV2ZW50cygiYmVmb3JlcHJvcGVydHljaGFuZ2UiLCJwcm9wZXJ0eWNoYW5nZSIpO2EuY2FsbFBhcmVudCgpO2EuZ2V0VmlldygpLndhbGtDZWxscz10aGlzLndhbGtDZWxsczthLmVkaXRvcnM9e2RhdGU6bmV3IEV4dC5ncmlkLkNlbGxFZGl0b3Ioe2ZpZWxkOm5ldyBFeHQuZm9ybS5maWVsZC5EYXRlKHtzZWxlY3RPbkZvY3VzOnRydWV9KX0pLHN0cmluZzpuZXcgRXh0LmdyaWQuQ2VsbEVkaXRvcih7ZmllbGQ6bmV3IEV4dC5mb3JtLmZpZWxkLlRleHQoe3NlbGVjdE9uRm9jdXM6dHJ1ZX0pfSksbnVtYmVyOm5ldyBFeHQuZ3JpZC5DZWxsRWRpdG9yKHtmaWVsZDpuZXcgRXh0LmZvcm0uZmllbGQuTnVtYmVyKHtzZWxlY3RPbkZvY3VzOnRydWV9KX0pLCJib29sZWFuIjpuZXcgRXh0LmdyaWQuQ2VsbEVkaXRvcih7ZmllbGQ6bmV3IEV4dC5mb3JtLmZpZWxkLkNvbWJvQm94KHtlZGl0YWJsZTpmYWxzZSxzdG9yZTpbW3RydWUsYS5oZWFkZXJDdC50cnVlVGV4dF0sW2ZhbHNlLGEuaGVhZGVyQ3QuZmFsc2VUZXh0XV19KX0pfTthLnN0b3JlLm9uKCJ1cGRhdGUiLGEub25VcGRhdGUsYSl9LG9uVXBkYXRlOmZ1bmN0aW9uKGQsYSxjKXt2YXIgZz10aGlzLGIsZTtpZihnLnJlbmRlcmVkJiZjPT1FeHQuZGF0YS5Nb2RlbC5FRElUKXtiPWEuZ2V0KGcudmFsdWVGaWVsZCk7ZT1hLm1vZGlmaWVkLnZhbHVlO2lmKGcuZmlyZUV2ZW50KCJiZWZvcmVwcm9wZXJ0eWNoYW5nZSIsZy5zb3VyY2UsYS5nZXRJZCgpLGIsZSkhPT1mYWxzZSl7aWYoZy5zb3VyY2Upe2cuc291cmNlW2EuZ2V0SWQoKV09Yn1hLmNvbW1pdCgpO2cuZmlyZUV2ZW50KCJwcm9wZXJ0eWNoYW5nZSIsZy5zb3VyY2UsYS5nZXRJZCgpLGIsZSl9ZWxzZXthLnJlamVjdCgpfX19LHdhbGtDZWxsczpmdW5jdGlvbihoLGcsZCxjLGEsYil7aWYoZz09ImxlZnQiKXtnPSJ1cCJ9ZWxzZXtpZihnPT0icmlnaHQiKXtnPSJkb3duIn19aD1FeHQudmlldy5UYWJsZS5wcm90b3R5cGUud2Fsa0NlbGxzLmNhbGwodGhpcyxoLGcsZCxjLGEsYik7aWYoIWguY29sdW1uKXtoLmNvbHVtbj0xfXJldHVybiBofSxnZXRDZWxsRWRpdG9yOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcyxlPWEuZ2V0KGQubmFtZUZpZWxkKSxnPWEuZ2V0KGQudmFsdWVGaWVsZCksYj1kLmN1c3RvbUVkaXRvcnNbZV07aWYoYil7aWYoIShiIGluc3RhbmNlb2YgRXh0LmdyaWQuQ2VsbEVkaXRvcikpe2lmKCEoYiBpbnN0YW5jZW9mIEV4dC5mb3JtLmZpZWxkLkJhc2UpKXtiPUV4dC5Db21wb25lbnRNYW5hZ2VyLmNyZWF0ZShiLCJ0ZXh0ZmllbGQiKX1iPWQuY3VzdG9tRWRpdG9yc1tlXT1uZXcgRXh0LmdyaWQuQ2VsbEVkaXRvcih7ZmllbGQ6Yn0pfX1lbHNle2lmKEV4dC5pc0RhdGUoZykpe2I9ZC5lZGl0b3JzLmRhdGV9ZWxzZXtpZihFeHQuaXNOdW1iZXIoZykpe2I9ZC5lZGl0b3JzLm51bWJlcn1lbHNle2lmKEV4dC5pc0Jvb2xlYW4oZykpe2I9ZC5lZGl0b3JzWyJib29sZWFuIl19ZWxzZXtiPWQuZWRpdG9ycy5zdHJpbmd9fX19Yi5lZGl0b3JJZD1lO3JldHVybiBifSxiZWZvcmVEZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoKTthLmRlc3Ryb3lFZGl0b3JzKGEuZWRpdG9ycyk7YS5kZXN0cm95RWRpdG9ycyhhLmN1c3RvbUVkaXRvcnMpO2RlbGV0ZSBhLnNvdXJjZX0sZGVzdHJveUVkaXRvcnM6ZnVuY3Rpb24oYil7Zm9yKHZhciBhIGluIGIpe2lmKGIuaGFzT3duUHJvcGVydHkoYSkpe0V4dC5kZXN0cm95KGJbYV0pfX19LHNldFNvdXJjZTpmdW5jdGlvbihhKXt0aGlzLnNvdXJjZT1hO3RoaXMucHJvcFN0b3JlLnNldFNvdXJjZShhKX0sZ2V0U291cmNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJvcFN0b3JlLmdldFNvdXJjZSgpfSxzZXRQcm9wZXJ0eTpmdW5jdGlvbihjLGIsYSl7dGhpcy5wcm9wU3RvcmUuc2V0VmFsdWUoYyxiLGEpfSxyZW1vdmVQcm9wZXJ0eTpmdW5jdGlvbihhKXt0aGlzLnByb3BTdG9yZS5yZW1vdmUoYSl9fSk7RXh0LmRlZmluZSgiRXh0LnRyZWUuVmlldyIse2V4dGVuZDoiRXh0LnZpZXcuVGFibGUiLGFsaWFzOiJ3aWRnZXQudHJlZXZpZXciLHJlcXVpcmVzOlsiRXh0LmRhdGEuTm9kZVN0b3JlIl0sbG9hZGluZ0NsczpFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC10cmVlLWxvYWRpbmciLGV4cGFuZGVkQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJncmlkLXRyZWUtbm9kZS1leHBhbmRlZCIsbGVhZkNsczpFeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC10cmVlLW5vZGUtbGVhZiIsZXhwYW5kZXJTZWxlY3RvcjoiLiIrRXh0LmJhc2VDU1NQcmVmaXgrInRyZWUtZXhwYW5kZXIiLGNoZWNrYm94U2VsZWN0b3I6Ii4iK0V4dC5iYXNlQ1NTUHJlZml4KyJ0cmVlLWNoZWNrYm94IixleHBhbmRlckljb25PdmVyQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJ0cmVlLWV4cGFuZGVyLW92ZXIiLG5vZGVBbmltV3JhcENsczpFeHQuYmFzZUNTU1ByZWZpeCsidHJlZS1hbmltYXRvci13cmFwIixibG9ja1JlZnJlc2g6dHJ1ZSxyb290VmlzaWJsZTp0cnVlLGRlZmVySW5pdGlhbFJlZnJlc2g6ZmFsc2UsZXhwYW5kRHVyYXRpb246MjUwLGNvbGxhcHNlRHVyYXRpb246MjUwLHRvZ2dsZU9uRGJsQ2xpY2s6dHJ1ZSxzdHJpcGVSb3dzOmZhbHNlLHVpRmllbGRzOlsiZXhwYW5kZWQiLCJsb2FkZWQiLCJjaGVja2VkIiwiZXhwYW5kYWJsZSIsImxlYWYiLCJpY29uIiwiaWNvbkNscyIsImxvYWRpbmciXSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWEucGFuZWwuZ2V0U3RvcmUoKTtpZihhLmluaXRpYWxDb25maWcuYW5pbWF0ZT09PXVuZGVmaW5lZCl7YS5hbmltYXRlPUV4dC5lbmFibGVGeH1hLnN0b3JlPW5ldyBFeHQuZGF0YS5Ob2RlU3RvcmUoe3RyZWVTdG9yZTpiLHJlY3Vyc2l2ZTp0cnVlLHJvb3RWaXNpYmxlOmEucm9vdFZpc2libGUsbGlzdGVuZXJzOntiZWZvcmVleHBhbmQ6YS5vbkJlZm9yZUV4cGFuZCxleHBhbmQ6YS5vbkV4cGFuZCxiZWZvcmVjb2xsYXBzZTphLm9uQmVmb3JlQ29sbGFwc2UsY29sbGFwc2U6YS5vbkNvbGxhcHNlLHdyaXRlOmEub25TdG9yZVdyaXRlLGRhdGFjaGFuZ2VkOmEub25TdG9yZURhdGFDaGFuZ2VkLHNjb3BlOmF9fSk7aWYoYS5ub2RlKXthLnNldFJvb3ROb2RlKGEubm9kZSl9YS5hbmltUXVldWU9e307YS5hbmltV3JhcHM9e307YS5hZGRFdmVudHMoImFmdGVyaXRlbWV4cGFuZCIsImFmdGVyaXRlbWNvbGxhcHNlIik7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyk7YS5vbih7ZWxlbWVudDoiZWwiLHNjb3BlOmEsZGVsZWdhdGU6YS5leHBhbmRlclNlbGVjdG9yLG1vdXNlb3ZlcjphLm9uRXhwYW5kZXJNb3VzZU92ZXIsbW91c2VvdXQ6YS5vbkV4cGFuZGVyTW91c2VPdXR9KTthLm9uKHtlbGVtZW50OiJlbCIsc2NvcGU6YSxkZWxlZ2F0ZTphLmNoZWNrYm94U2VsZWN0b3IsY2xpY2s6YS5vbkNoZWNrYm94Q2hhbmdlfSl9LGFmdGVyQ29tcG9uZW50TGF5b3V0OmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dmFyIGE9dGhpcy5zdHJldGNoZXI7aWYoYSl7YS5zZXRXaWR0aCgodGhpcy5nZXRXaWR0aCgpLUV4dC5nZXRTY3JvbGxiYXJTaXplKCkud2lkdGgpKX19LHByb2Nlc3NVSUV2ZW50OmZ1bmN0aW9uKGEpe2lmKGEuZ2V0VGFyZ2V0KCIuIit0aGlzLm5vZGVBbmltV3JhcENscyx0aGlzLmVsKSl7cmV0dXJuIGZhbHNlfXJldHVybiB0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sb25DbGVhcjpmdW5jdGlvbigpe3RoaXMuc3RvcmUucmVtb3ZlQWxsKCl9LHNldFJvb3ROb2RlOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7YS5zdG9yZS5zZXROb2RlKGIpO2Eubm9kZT1ifSxvbkNoZWNrYm94Q2hhbmdlOmZ1bmN0aW9uKGQsYSl7dmFyIGM9dGhpcyxiPWQuZ2V0VGFyZ2V0KGMuZ2V0SXRlbVNlbGVjdG9yKCksYy5nZXRUYXJnZXRFbCgpKTtpZihiKXtjLm9uQ2hlY2tDaGFuZ2UoYy5nZXRSZWNvcmQoYikpfX0sb25DaGVja0NoYW5nZTpmdW5jdGlvbihhKXt2YXIgYj1hLmdldCgiY2hlY2tlZCIpO2lmKEV4dC5pc0Jvb2xlYW4oYikpe2I9IWI7YS5zZXQoImNoZWNrZWQiLGIpO3RoaXMuZmlyZUV2ZW50KCJjaGVja2NoYW5nZSIsYSxiKX19LGdldENoZWNrZWQ6ZnVuY3Rpb24oKXt2YXIgYT1bXTt0aGlzLm5vZGUuY2FzY2FkZUJ5KGZ1bmN0aW9uKGIpe2lmKGIuZ2V0KCJjaGVja2VkIikpe2EucHVzaChiKX19KTtyZXR1cm4gYX0saXNJdGVtQ2hlY2tlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5nZXQoImNoZWNrZWQiKX0sY3JlYXRlQW5pbVdyYXA6ZnVuY3Rpb24oaixrKXt2YXIgZz0iIixlPXRoaXMucGFuZWwuaGVhZGVyQ3QsYj1lLmdldEdyaWRDb2x1bW5zKCksaD0wLGw9Yi5sZW5ndGgsbSxkPXRoaXMuZ2V0Tm9kZShqKSxhLGM7Zm9yKDtoPGw7aCsrKXttPWJbaF07Zys9Jzx0aCBzdHlsZT0id2lkdGg6ICcrKG0uaGlkZGVuPzA6bS5nZXREZXNpcmVkV2lkdGgoKSkrJ3B4OyBoZWlnaHQ6IDBweDsiPjwvdGg+J31jPUV4dC5nZXQoZCk7YT1jLmluc2VydFNpYmxpbmcoe3RhZzoidHIiLGh0bWw6Wyc8dGQgY29sc3Bhbj0iJytlLmdldENvbHVtbkNvdW50KCkrJyI+JywnPGRpdiBjbGFzcz0iJyt0aGlzLm5vZGVBbmltV3JhcENscysnIj4nLCc8dGFibGUgY2xhc3M9IicrRXh0LmJhc2VDU1NQcmVmaXgrJ2dyaWQtdGFibGUiIHN0eWxlPSJ3aWR0aDogJytlLmdldEZ1bGxXaWR0aCgpKydweDsiPjx0Ym9keT4nLGcsIjwvdGJvZHk+PC90YWJsZT4iLCI8L2Rpdj4iLCI8L3RkPiJdLmpvaW4oIiIpfSwiYWZ0ZXIiKTtyZXR1cm57cmVjb3JkOmosbm9kZTpkLGVsOmEsZXhwYW5kaW5nOmZhbHNlLGNvbGxhcHNpbmc6ZmFsc2UsYW5pbWF0aW5nOmZhbHNlLGFuaW1hdGVFbDphLmRvd24oImRpdiIpLHRhcmdldEVsOmEuZG93bigidGJvZHkiKX19LGdldEFuaW1XcmFwOmZ1bmN0aW9uKGQsYSl7aWYoIXRoaXMuYW5pbWF0ZSl7cmV0dXJuIG51bGx9dmFyIGI9dGhpcy5hbmltV3JhcHMsYz1iW2QuaW50ZXJuYWxJZF07aWYoYSE9PWZhbHNlKXt3aGlsZSghYyYmZCl7ZD1kLnBhcmVudE5vZGU7aWYoZCl7Yz1iW2QuaW50ZXJuYWxJZF19fX1yZXR1cm4gY30sZG9BZGQ6ZnVuY3Rpb24oYixkLGkpe3ZhciBqPXRoaXMsZz1kWzBdLGw9Zy5wYXJlbnROb2RlLGs9ai5hbGwuZWxlbWVudHMsbj0wLGU9ai5nZXRBbmltV3JhcChsKSxtLGMsaDtpZighZXx8IWUuZXhwYW5kaW5nKXtyZXR1cm4gai5jYWxsUGFyZW50KGFyZ3VtZW50cyl9bD1lLnJlY29yZDttPWUudGFyZ2V0RWw7Yz1tLmRvbS5jaGlsZE5vZGVzO2g9Yy5sZW5ndGgtMTtuPWktai5pbmRleE9mKGwpLTE7aWYoIWh8fG4+PWgpe20uYXBwZW5kQ2hpbGQoYil9ZWxzZXtFeHQuZmx5KGNbbisxXSkuaW5zZXJ0U2libGluZyhiLCJiZWZvcmUiLHRydWUpfUV4dC5BcnJheS5pbnNlcnQoayxpLGIpO2lmKGUuaXNBbmltYXRpbmcpe2oub25FeHBhbmQobCl9fSxiZWdpbkJ1bGtVcGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmJ1bGtVcGRhdGU9dHJ1ZTt0aGlzLm93bmVyQ3QuY2hhbmdpbmdTY3JvbGxiYXJzPXRydWV9LGVuZEJ1bGtVcGRhdGU6ZnVuY3Rpb24oKXt0aGlzLmJ1bGtVcGRhdGU9ZmFsc2U7dGhpcy5vd25lckN0LmNoYW5naW5nU2Nyb2xsYmFycz10cnVlfSxvblJlbW92ZTpmdW5jdGlvbihlLGEsYil7dmFyIGQ9dGhpcyxjPWQuYnVsa1VwZGF0ZTtpZihkLnJlbmRlcmVkKXtkLmRvUmVtb3ZlKGEsYik7aWYoIWMpe2QudXBkYXRlSW5kZXhlcyhiKX1pZihkLnN0b3JlLmdldENvdW50KCk9PT0wKXtkLnJlZnJlc2goKX1pZighYyl7ZC5maXJlRXZlbnQoIml0ZW1yZW1vdmUiLGEsYil9fX0sZG9SZW1vdmU6ZnVuY3Rpb24oYSxjKXt2YXIgZz10aGlzLGQ9Zy5hbGwsYj1nLmdldEFuaW1XcmFwKGEpLGU9ZC5pdGVtKGMpLmRvbTtpZighYnx8IWIuY29sbGFwc2luZyl7cmV0dXJuIGcuY2FsbFBhcmVudChhcmd1bWVudHMpfWIudGFyZ2V0RWwuYXBwZW5kQ2hpbGQoZSk7ZC5yZW1vdmVFbGVtZW50KGMpfSxvbkJlZm9yZUV4cGFuZDpmdW5jdGlvbihkLGIsYyl7dmFyIGU9dGhpcyxhO2lmKCFlLnJlbmRlcmVkfHwhZS5hbmltYXRlKXtyZXR1cm59aWYoZS5nZXROb2RlKGQpKXthPWUuZ2V0QW5pbVdyYXAoZCxmYWxzZSk7aWYoIWEpe2E9ZS5hbmltV3JhcHNbZC5pbnRlcm5hbElkXT1lLmNyZWF0ZUFuaW1XcmFwKGQpO2EuYW5pbWF0ZUVsLnNldEhlaWdodCgwKX1lbHNle2lmKGEuY29sbGFwc2luZyl7YS50YXJnZXRFbC5zZWxlY3QoZS5pdGVtU2VsZWN0b3IpLnJlbW92ZSgpfX1hLmV4cGFuZGluZz10cnVlO2EuY29sbGFwc2luZz1mYWxzZX19LG9uRXhwYW5kOmZ1bmN0aW9uKGkpe3ZhciBoPXRoaXMsZT1oLmFuaW1RdWV1ZSxhPWkuZ2V0SWQoKSxjPWguZ2V0Tm9kZShpKSxnPWM/aC5pbmRleE9mKGMpOi0xLGQsYixqO2lmKGguc2luZ2xlRXhwYW5kKXtoLmVuc3VyZVNpbmdsZUV4cGFuZChpKX1pZihnPT09LTEpe3JldHVybn1kPWguZ2V0QW5pbVdyYXAoaSxmYWxzZSk7aWYoIWQpe2guaXNFeHBhbmRpbmdPckNvbGxhcHNpbmc9ZmFsc2U7aC5maXJlRXZlbnQoImFmdGVyaXRlbWV4cGFuZCIsaSxnLGMpO3JldHVybn1iPWQuYW5pbWF0ZUVsO2o9ZC50YXJnZXRFbDtiLnN0b3BBbmltYXRpb24oKTtlW2FdPXRydWU7Yi5zbGlkZUluKCJ0Iix7ZHVyYXRpb246aC5leHBhbmREdXJhdGlvbixsaXN0ZW5lcnM6e3Njb3BlOmgsbGFzdGZyYW1lOmZ1bmN0aW9uKCl7ZC5lbC5pbnNlcnRTaWJsaW5nKGoucXVlcnkoaC5pdGVtU2VsZWN0b3IpLCJiZWZvcmUiKTtkLmVsLnJlbW92ZSgpO2RlbGV0ZSBoLmFuaW1XcmFwc1tkLnJlY29yZC5pbnRlcm5hbElkXTtkZWxldGUgZVthXX19LGNhbGxiYWNrOmZ1bmN0aW9uKCl7aC5pc0V4cGFuZGluZ09yQ29sbGFwc2luZz1mYWxzZTtoLmZpcmVFdmVudCgiYWZ0ZXJpdGVtZXhwYW5kIixpLGcsYyl9fSk7ZC5pc0FuaW1hdGluZz10cnVlfSxvbkJlZm9yZUNvbGxhcHNlOmZ1bmN0aW9uKGQsYixjKXt2YXIgZT10aGlzLGE7aWYoIWUucmVuZGVyZWR8fCFlLmFuaW1hdGUpe3JldHVybn1pZihlLmdldE5vZGUoZCkpe2E9ZS5nZXRBbmltV3JhcChkKTtpZighYSl7YT1lLmFuaW1XcmFwc1tkLmludGVybmFsSWRdPWUuY3JlYXRlQW5pbVdyYXAoZCxjKX1lbHNle2lmKGEuZXhwYW5kaW5nKXthLnRhcmdldEVsLnNlbGVjdCh0aGlzLml0ZW1TZWxlY3RvcikucmVtb3ZlKCl9fWEuZXhwYW5kaW5nPWZhbHNlO2EuY29sbGFwc2luZz10cnVlfX0sb25Db2xsYXBzZTpmdW5jdGlvbihpKXt2YXIgaD10aGlzLGU9aC5hbmltUXVldWUsYT1pLmdldElkKCksYz1oLmdldE5vZGUoaSksZz1jP2guaW5kZXhPZihjKTotMSxkPWguZ2V0QW5pbVdyYXAoaSksYixqO2lmKGc9PT0tMSl7cmV0dXJufWlmKCFkKXtoLmlzRXhwYW5kaW5nT3JDb2xsYXBzaW5nPWZhbHNlO2guZmlyZUV2ZW50KCJhZnRlcml0ZW1jb2xsYXBzZSIsaSxnLGMpO3JldHVybn1iPWQuYW5pbWF0ZUVsO2o9ZC50YXJnZXRFbDtlW2FdPXRydWU7Yi5zdG9wQW5pbWF0aW9uKCk7Yi5zbGlkZU91dCgidCIse2R1cmF0aW9uOmguY29sbGFwc2VEdXJhdGlvbixsaXN0ZW5lcnM6e3Njb3BlOmgsbGFzdGZyYW1lOmZ1bmN0aW9uKCl7ZC5lbC5yZW1vdmUoKTtkZWxldGUgaC5hbmltV3JhcHNbZC5yZWNvcmQuaW50ZXJuYWxJZF07ZGVsZXRlIGVbYV19fSxjYWxsYmFjazpmdW5jdGlvbigpe2guaXNFeHBhbmRpbmdPckNvbGxhcHNpbmc9ZmFsc2U7aC5maXJlRXZlbnQoImFmdGVyaXRlbWNvbGxhcHNlIixpLGcsYyl9fSk7ZC5pc0FuaW1hdGluZz10cnVlfSxpc0FuaW1hdGluZzpmdW5jdGlvbihhKXtyZXR1cm4gISF0aGlzLmFuaW1RdWV1ZVthLmdldElkKCldfSxjb2xsZWN0RGF0YTpmdW5jdGlvbihjKXt2YXIgZz10aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKSxlPWcucm93cyxhPWUubGVuZ3RoLGQ9MCxoLGI7Zm9yKDtkPGE7ZCsrKXtoPWVbZF07Yj1jW2RdO2lmKGIuZ2V0KCJxdGlwIikpe2gucm93QXR0cj0nZGF0YS1xdGlwPSInK2IuZ2V0KCJxdGlwIikrJyInO2lmKGIuZ2V0KCJxdGl0bGUiKSl7aC5yb3dBdHRyKz0nIGRhdGEtcXRpdGxlPSInK2IuZ2V0KCJxdGl0bGUiKSsnIid9fWlmKGIuaXNFeHBhbmRlZCgpKXtoLnJvd0Nscz0oaC5yb3dDbHN8fCIiKSsiICIrdGhpcy5leHBhbmRlZENsc31pZihiLmlzTGVhZigpKXtoLnJvd0Nscz0oaC5yb3dDbHN8fCIiKSsiICIrdGhpcy5sZWFmQ2xzfWlmKGIuaXNMb2FkaW5nKCkpe2gucm93Q2xzPShoLnJvd0Nsc3x8IiIpKyIgIit0aGlzLmxvYWRpbmdDbHN9fXJldHVybiBnfSxleHBhbmQ6ZnVuY3Rpb24oYixhLGQsYyl7cmV0dXJuIGIuZXhwYW5kKGEsZCxjKX0sY29sbGFwc2U6ZnVuY3Rpb24oYixhLGQsYyl7cmV0dXJuIGIuY29sbGFwc2UoYSxkLGMpfSx0b2dnbGU6ZnVuY3Rpb24oYyxiLGcsZCl7dmFyIGU9dGhpcyxhPSEhdGhpcy5hbmltYXRlO2lmKCFhfHwhdGhpcy5pc0V4cGFuZGluZ09yQ29sbGFwc2luZyl7aWYoIWMuaXNMZWFmKCkpe3RoaXMuaXNFeHBhbmRpbmdPckNvbGxhcHNpbmc9YX1pZihjLmlzRXhwYW5kZWQoKSl7ZS5jb2xsYXBzZShjLGIsZyxkKX1lbHNle2UuZXhwYW5kKGMsYixnLGQpfX19LG9uSXRlbURibENsaWNrOmZ1bmN0aW9uKGEsZCxjKXt2YXIgYj10aGlzLmVkaXRpbmdQbHVnaW47dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYodGhpcy50b2dnbGVPbkRibENsaWNrJiYhKGImJmIuY2xpY2tzVG9FZGl0PT09Mikpe3RoaXMudG9nZ2xlKGEpfX0sb25CZWZvcmVJdGVtTW91c2VEb3duOmZ1bmN0aW9uKGEsYyxiLGQpe2lmKGQuZ2V0VGFyZ2V0KHRoaXMuZXhwYW5kZXJTZWxlY3RvcixjKSl7cmV0dXJuIGZhbHNlfXJldHVybiB0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sb25JdGVtQ2xpY2s6ZnVuY3Rpb24oYSxjLGIsZCl7aWYoZC5nZXRUYXJnZXQodGhpcy5leHBhbmRlclNlbGVjdG9yLGMpKXt0aGlzLnRvZ2dsZShhLGQuY3RybEtleSk7cmV0dXJuIGZhbHNlfXJldHVybiB0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sb25FeHBhbmRlck1vdXNlT3ZlcjpmdW5jdGlvbihiLGEpe2IuZ2V0VGFyZ2V0KHRoaXMuY2VsbFNlbGVjdG9yLDEwLHRydWUpLmFkZENscyh0aGlzLmV4cGFuZGVySWNvbk92ZXJDbHMpfSxvbkV4cGFuZGVyTW91c2VPdXQ6ZnVuY3Rpb24oYixhKXtiLmdldFRhcmdldCh0aGlzLmNlbGxTZWxlY3RvciwxMCx0cnVlKS5yZW1vdmVDbHModGhpcy5leHBhbmRlckljb25PdmVyQ2xzKX0sZ2V0VHJlZVN0b3JlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFuZWwuc3RvcmV9LGVuc3VyZVNpbmdsZUV4cGFuZDpmdW5jdGlvbihiKXt2YXIgYT1iLnBhcmVudE5vZGU7aWYoYSl7YS5lYWNoQ2hpbGQoZnVuY3Rpb24oYyl7aWYoYyE9PWImJmMuaXNFeHBhbmRlZCgpKXtjLmNvbGxhcHNlKCl9fSl9fSxzaG91bGRVcGRhdGVDZWxsOmZ1bmN0aW9uKGIsYSl7cmV0dXJuIEV4dC5BcnJheS5jb250YWlucyh0aGlzLnVpRmllbGRzLGIuZGF0YUluZGV4KXx8dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LG9uU3RvcmVXcml0ZTpmdW5jdGlvbihiLGEpe3ZhciBjPXRoaXMucGFuZWwuc3RvcmU7Yy5maXJlRXZlbnQoIndyaXRlIixjLGEpfSxvblN0b3JlRGF0YUNoYW5nZWQ6ZnVuY3Rpb24oYixhKXt2YXIgYz10aGlzLnBhbmVsLnN0b3JlO2MuZmlyZUV2ZW50KCJkYXRhY2hhbmdlZCIsYyl9fSk7RXh0LmRlZmluZSgiRXh0LnRyZWUuUGFuZWwiLHtleHRlbmQ6IkV4dC5wYW5lbC5UYWJsZSIsYWxpYXM6IndpZGdldC50cmVlcGFuZWwiLGFsdGVybmF0ZUNsYXNzTmFtZTpbIkV4dC50cmVlLlRyZWVQYW5lbCIsIkV4dC5UcmVlUGFuZWwiXSxyZXF1aXJlczpbIkV4dC50cmVlLlZpZXciLCJFeHQuc2VsZWN0aW9uLlRyZWVNb2RlbCIsIkV4dC50cmVlLkNvbHVtbiIsIkV4dC5kYXRhLlRyZWVTdG9yZSJdLHZpZXdUeXBlOiJ0cmVldmlldyIsc2VsVHlwZToidHJlZW1vZGVsIix0cmVlQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJ0cmVlLXBhbmVsIixkZWZlclJvd1JlbmRlcjpmYWxzZSxyb3dMaW5lczpmYWxzZSxsaW5lczp0cnVlLHVzZUFycm93czpmYWxzZSxzaW5nbGVFeHBhbmQ6ZmFsc2UsZGRDb25maWc6e2VuYWJsZURyYWc6dHJ1ZSxlbmFibGVEcm9wOnRydWV9LHJvb3RWaXNpYmxlOnRydWUsZGlzcGxheUZpZWxkOiJ0ZXh0Iixyb290Om51bGwsbm9ybWFsQ2ZnQ29weTpbImRpc3BsYXlGaWVsZCIsInJvb3QiLCJzaW5nbGVFeHBhbmQiLCJ1c2VBcnJvd3MiLCJsaW5lcyIsInJvb3RWaXNpYmxlIiwic2Nyb2xsIl0sbG9ja2VkQ2ZnQ29weTpbImRpc3BsYXlGaWVsZCIsInJvb3QiLCJzaW5nbGVFeHBhbmQiLCJ1c2VBcnJvd3MiLCJsaW5lcyIsInJvb3RWaXNpYmxlIl0saXNUcmVlOnRydWUsY29uc3RydWN0b3I6ZnVuY3Rpb24oYSl7YT1hfHx7fTtpZihhLmFuaW1hdGU9PT11bmRlZmluZWQpe2EuYW5pbWF0ZT1FeHQuaXNEZWZpbmVkKHRoaXMuYW5pbWF0ZSk/dGhpcy5hbmltYXRlOkV4dC5lbmFibGVGeH10aGlzLmVuYWJsZUFuaW1hdGlvbnM9YS5hbmltYXRlO2RlbGV0ZSBhLmFuaW1hdGU7dGhpcy5jYWxsUGFyZW50KFthXSl9LGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGI9W2MudHJlZUNsc10sYTtpZihjLnVzZUFycm93cyl7Yi5wdXNoKEV4dC5iYXNlQ1NTUHJlZml4KyJ0cmVlLWFycm93cyIpO2MubGluZXM9ZmFsc2V9aWYoYy5saW5lcyl7Yi5wdXNoKEV4dC5iYXNlQ1NTUHJlZml4KyJ0cmVlLWxpbmVzIil9ZWxzZXtpZighYy51c2VBcnJvd3Mpe2IucHVzaChFeHQuYmFzZUNTU1ByZWZpeCsidHJlZS1uby1saW5lcyIpfX1pZihFeHQuaXNTdHJpbmcoYy5zdG9yZSkpe2Muc3RvcmU9RXh0LlN0b3JlTWdyLmxvb2t1cChjLnN0b3JlKX1lbHNle2lmKCFjLnN0b3JlfHxFeHQuaXNPYmplY3QoYy5zdG9yZSkmJiFjLnN0b3JlLmlzU3RvcmUpe2Muc3RvcmU9bmV3IEV4dC5kYXRhLlRyZWVTdG9yZShFeHQuYXBwbHkoe30sYy5zdG9yZXx8e30se3Jvb3Q6Yy5yb290LGZpZWxkczpjLmZpZWxkcyxtb2RlbDpjLm1vZGVsLGZvbGRlclNvcnQ6Yy5mb2xkZXJTb3J0fSkpfWVsc2V7aWYoYy5yb290KXtjLnN0b3JlPUV4dC5kYXRhLlN0b3JlTWFuYWdlci5sb29rdXAoYy5zdG9yZSk7Yy5zdG9yZS5zZXRSb290Tm9kZShjLnJvb3QpO2lmKGMuZm9sZGVyU29ydCE9PXVuZGVmaW5lZCl7Yy5zdG9yZS5mb2xkZXJTb3J0PWMuZm9sZGVyU29ydDtjLnN0b3JlLnNvcnQoKX19fX1jLnZpZXdDb25maWc9RXh0LmFwcGx5KHt9LGMudmlld0NvbmZpZyk7Yy52aWV3Q29uZmlnPUV4dC5hcHBseUlmKGMudmlld0NvbmZpZyx7cm9vdFZpc2libGU6Yy5yb290VmlzaWJsZSxhbmltYXRlOmMuZW5hYmxlQW5pbWF0aW9ucyxzaW5nbGVFeHBhbmQ6Yy5zaW5nbGVFeHBhbmQsbm9kZTpjLnN0b3JlLmdldFJvb3ROb2RlKCksaGlkZUhlYWRlcnM6Yy5oaWRlSGVhZGVyc30pO2MubW9uKGMuc3RvcmUse3Njb3BlOmMscm9vdGNoYW5nZTpjLm9uUm9vdENoYW5nZSxjbGVhcjpjLm9uQ2xlYXJ9KTtjLnJlbGF5RXZlbnRzKGMuc3RvcmUsWyJiZWZvcmVsb2FkIiwibG9hZCJdKTtjLnN0b3JlLm9uKHthcHBlbmQ6Yy5jcmVhdGVSZWxheWVyKCJpdGVtYXBwZW5kIikscmVtb3ZlOmMuY3JlYXRlUmVsYXllcigiaXRlbXJlbW92ZSIpLG1vdmU6Yy5jcmVhdGVSZWxheWVyKCJpdGVtbW92ZSIsWzAsNF0pLGluc2VydDpjLmNyZWF0ZVJlbGF5ZXIoIml0ZW1pbnNlcnQiKSxiZWZvcmVhcHBlbmQ6Yy5jcmVhdGVSZWxheWVyKCJiZWZvcmVpdGVtYXBwZW5kIiksYmVmb3JlcmVtb3ZlOmMuY3JlYXRlUmVsYXllcigiYmVmb3JlaXRlbXJlbW92ZSIpLGJlZm9yZW1vdmU6Yy5jcmVhdGVSZWxheWVyKCJiZWZvcmVpdGVtbW92ZSIpLGJlZm9yZWluc2VydDpjLmNyZWF0ZVJlbGF5ZXIoImJlZm9yZWl0ZW1pbnNlcnQiKSxleHBhbmQ6Yy5jcmVhdGVSZWxheWVyKCJpdGVtZXhwYW5kIixbMCwxXSksY29sbGFwc2U6Yy5jcmVhdGVSZWxheWVyKCJpdGVtY29sbGFwc2UiLFswLDFdKSxiZWZvcmVleHBhbmQ6Yy5jcmVhdGVSZWxheWVyKCJiZWZvcmVpdGVtZXhwYW5kIixbMCwxXSksYmVmb3JlY29sbGFwc2U6Yy5jcmVhdGVSZWxheWVyKCJiZWZvcmVpdGVtY29sbGFwc2UiLFswLDFdKX0pO2lmKCFjLmNvbHVtbnMpe2lmKGMuaW5pdGlhbENvbmZpZy5oaWRlSGVhZGVycz09PXVuZGVmaW5lZCl7Yy5oaWRlSGVhZGVycz10cnVlfWMuYWRkQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJhdXRvd2lkdGgtdGFibGUiKTtjLmNvbHVtbnM9W3t4dHlwZToidHJlZWNvbHVtbiIsdGV4dDoiTmFtZSIsd2lkdGg6RXh0LmlzSUU2P251bGw6MTAwMDAsZGF0YUluZGV4OmMuZGlzcGxheUZpZWxkfV19aWYoYy5jbHMpe2IucHVzaChjLmNscyl9Yy5jbHM9Yi5qb2luKCIgIik7Yy5jYWxsUGFyZW50KCk7YT1jLmdldFZpZXcoKTtjLnJlbGF5RXZlbnRzKGEsWyJjaGVja2NoYW5nZSIsImFmdGVyaXRlbWV4cGFuZCIsImFmdGVyaXRlbWNvbGxhcHNlIl0pO2lmKCFhLnJvb3RWaXNpYmxlJiYhYy5nZXRSb290Tm9kZSgpKXtjLnNldFJvb3ROb2RlKHtleHBhbmRlZDp0cnVlfSl9fSxvbkNsZWFyOmZ1bmN0aW9uKCl7dGhpcy52aWV3Lm9uQ2xlYXIoKX0sc2V0Um9vdE5vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zdG9yZS5zZXRSb290Tm9kZS5hcHBseSh0aGlzLnN0b3JlLGFyZ3VtZW50cyl9LGdldFJvb3ROb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RvcmUuZ2V0Um9vdE5vZGUoKX0sb25Sb290Q2hhbmdlOmZ1bmN0aW9uKGEpe3RoaXMudmlldy5zZXRSb290Tm9kZShhKX0sZ2V0Q2hlY2tlZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFZpZXcoKS5nZXRDaGVja2VkKCl9LGlzSXRlbUNoZWNrZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0KCJjaGVja2VkIil9LGV4cGFuZEFsbDpmdW5jdGlvbihlLGQpe3ZhciBiPXRoaXMuZ2V0Um9vdE5vZGUoKSxjPXRoaXMuZW5hYmxlQW5pbWF0aW9ucyxhPXRoaXMuZ2V0VmlldygpO2lmKGIpe2lmKCFjKXthLmJlZ2luQnVsa1VwZGF0ZSgpfWIuZXhwYW5kKHRydWUsZSxkKTtpZighYyl7YS5lbmRCdWxrVXBkYXRlKCl9fX0sY29sbGFwc2VBbGw6ZnVuY3Rpb24oZSxkKXt2YXIgYj10aGlzLmdldFJvb3ROb2RlKCksYz10aGlzLmVuYWJsZUFuaW1hdGlvbnMsYT10aGlzLmdldFZpZXcoKTtpZihiKXtpZighYyl7YS5iZWdpbkJ1bGtVcGRhdGUoKX1pZihhLnJvb3RWaXNpYmxlKXtiLmNvbGxhcHNlKHRydWUsZSxkKX1lbHNle2IuY29sbGFwc2VDaGlsZHJlbih0cnVlLGUsZCl9aWYoIWMpe2EuZW5kQnVsa1VwZGF0ZSgpfX19LGV4cGFuZFBhdGg6ZnVuY3Rpb24obCxnLGEsaCxrKXt2YXIgZD10aGlzLGM9ZC5nZXRSb290Tm9kZSgpLGI9MSxlPWQuZ2V0VmlldygpLGosaTtnPWd8fGQuZ2V0Um9vdE5vZGUoKS5pZFByb3BlcnR5O2E9YXx8Ii8iO2lmKEV4dC5pc0VtcHR5KGwpKXtFeHQuY2FsbGJhY2soaCxrfHxkLFtmYWxzZSxudWxsXSk7cmV0dXJufWo9bC5zcGxpdChhKTtpZihjLmdldChnKSE9alsxXSl7RXh0LmNhbGxiYWNrKGgsa3x8ZCxbZmFsc2UsY10pO3JldHVybn1pPWZ1bmN0aW9uKCl7aWYoKytiPT09ai5sZW5ndGgpe0V4dC5jYWxsYmFjayhoLGt8fGQsW3RydWUsY10pO3JldHVybn12YXIgbT1jLmZpbmRDaGlsZChnLGpbYl0pO2lmKCFtKXtFeHQuY2FsbGJhY2soaCxrfHxkLFtmYWxzZSxjXSk7cmV0dXJufWM9bTtjLmV4cGFuZChmYWxzZSxpKX07Yy5leHBhbmQoZmFsc2UsaSl9LHNlbGVjdFBhdGg6ZnVuY3Rpb24oaCxnLGUsaSxhKXt2YXIgZD10aGlzLGMsYjtnPWd8fGQuZ2V0Um9vdE5vZGUoKS5pZFByb3BlcnR5O2U9ZXx8Ii8iO2M9aC5zcGxpdChlKTtiPWMucG9wKCk7ZC5leHBhbmRQYXRoKGMuam9pbihlKSxnLGUsZnVuY3Rpb24obCxrKXt2YXIgaj1mYWxzZTtpZihsJiZrKXtrPWsuZmluZENoaWxkKGcsYik7aWYoayl7ZC5nZXRTZWxlY3Rpb25Nb2RlbCgpLnNlbGVjdChrKTtFeHQuY2FsbGJhY2soaSxhfHxkLFt0cnVlLGtdKTtqPXRydWV9fWVsc2V7aWYoaz09PWQuZ2V0Um9vdE5vZGUoKSl7aj10cnVlfX1FeHQuY2FsbGJhY2soaSxhfHxkLFtqLGtdKX0sZCl9fSk7RXh0LmRlZmluZSgiRXh0LndpbmRvdy5XaW5kb3ciLHtleHRlbmQ6IkV4dC5wYW5lbC5QYW5lbCIsYWx0ZXJuYXRlQ2xhc3NOYW1lOiJFeHQuV2luZG93IixyZXF1aXJlczpbIkV4dC51dGlsLkNvbXBvbmVudERyYWdnZXIiLCJFeHQudXRpbC5SZWdpb24iLCJFeHQuRXZlbnRNYW5hZ2VyIl0sYWxpYXM6IndpZGdldC53aW5kb3ciLGJhc2VDbHM6RXh0LmJhc2VDU1NQcmVmaXgrIndpbmRvdyIscmVzaXphYmxlOnRydWUsZHJhZ2dhYmxlOnRydWUsY29uc3RyYWluOmZhbHNlLGNvbnN0cmFpbkhlYWRlcjpmYWxzZSxwbGFpbjpmYWxzZSxtaW5pbWl6YWJsZTpmYWxzZSxtYXhpbWl6YWJsZTpmYWxzZSxtaW5IZWlnaHQ6NTAsbWluV2lkdGg6NTAsZXhwYW5kT25TaG93OnRydWUsY29sbGFwc2libGU6ZmFsc2UsY2xvc2FibGU6dHJ1ZSxoaWRkZW46dHJ1ZSxhdXRvUmVuZGVyOnRydWUsaGlkZU1vZGU6Im9mZnNldHMiLGZsb2F0aW5nOnRydWUsYXJpYVJvbGU6ImFsZXJ0ZGlhbG9nIixpdGVtQ2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJ3aW5kb3ctaXRlbSIsb3ZlcmxhcEhlYWRlcjp0cnVlLGlnbm9yZUhlYWRlckJvcmRlck1hbmFnZW1lbnQ6dHJ1ZSxhbHdheXNGcmFtZWQ6dHJ1ZSxpc1dpbmRvdzp0cnVlLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudCgpO2EuYWRkRXZlbnRzKCJyZXNpemUiLCJtYXhpbWl6ZSIsIm1pbmltaXplIiwicmVzdG9yZSIpO2lmKGEucGxhaW4pe2EuYWRkQ2xzV2l0aFVJKCJwbGFpbiIpfWlmKGEubW9kYWwpe2EuYXJpYVJvbGU9ImRpYWxvZyJ9aWYoYS5mbG9hdGluZyl7YS5vbih7ZWxlbWVudDoiZWwiLG1vdXNlZG93bjphLm9uTW91c2VEb3duLHNjb3BlOmF9KX1hLmFkZFN0YXRlRXZlbnRzKFsibWF4aW1pemUiLCJyZXN0b3JlIiwicmVzaXplIiwiZHJhZ2VuZCJdKX0sZ2V0RWxDb25maWc6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE7YT1iLmNhbGxQYXJlbnQoKTthLnRhYkluZGV4PS0xO3JldHVybiBhfSxnZXRTdGF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz1iLmNhbGxQYXJlbnQoKXx8e30sYT0hIWIubWF4aW1pemVkO2MubWF4aW1pemVkPWE7RXh0LmFwcGx5KGMse3NpemU6YT9iLnJlc3RvcmVTaXplOmIuZ2V0U2l6ZSgpLHBvczphP2IucmVzdG9yZVBvczpiLmdldFBvc2l0aW9uKCl9KTtyZXR1cm4gY30sYXBwbHlTdGF0ZTpmdW5jdGlvbihiKXt2YXIgYT10aGlzO2lmKGIpe2EubWF4aW1pemVkPWIubWF4aW1pemVkO2lmKGEubWF4aW1pemVkKXthLmhhc1NhdmVkUmVzdG9yZT10cnVlO2EucmVzdG9yZVNpemU9Yi5zaXplO2EucmVzdG9yZVBvcz1iLnBvc31lbHNle0V4dC5hcHBseShhLHt3aWR0aDpiLnNpemUud2lkdGgsaGVpZ2h0OmIuc2l6ZS5oZWlnaHQseDpiLnBvc1swXSx5OmIucG9zWzFdfSl9fX0sb25Nb3VzZURvd246ZnVuY3Rpb24oYil7dmFyIGE7aWYodGhpcy5mbG9hdGluZyl7aWYoRXh0LmZseShiLmdldFRhcmdldCgpKS5mb2N1c2FibGUoKSl7YT10cnVlfXRoaXMudG9Gcm9udChhKX19LG9uUmVuZGVyOmZ1bmN0aW9uKGIsYSl7dmFyIGM9dGhpcztjLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtjLmZvY3VzRWw9Yy5lbDtpZihjLm1heGltaXphYmxlKXtjLmhlYWRlci5vbih7c2NvcGU6YyxkYmxjbGljazpjLnRvZ2dsZU1heGltaXplfSl9fSxhZnRlclJlbmRlcjpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYjthLmNhbGxQYXJlbnQoKTtpZihhLm1heGltaXplZCl7YS5tYXhpbWl6ZWQ9ZmFsc2U7YS5tYXhpbWl6ZSgpfWlmKGEuY2xvc2FibGUpe2I9YS5nZXRLZXlNYXAoKTtiLm9uKDI3LGEub25Fc2MsYSk7Yi5kaXNhYmxlKCl9fSxpbml0RHJhZ2dhYmxlOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxhO2lmKCFiLmhlYWRlcil7Yi51cGRhdGVIZWFkZXIodHJ1ZSl9aWYoYi5oZWFkZXIpe2E9RXh0LmFwcGx5SWYoe2VsOmIuZWwsZGVsZWdhdGU6IiMiK0V4dC5lc2NhcGVJZChiLmhlYWRlci5pZCl9LGIuZHJhZ2dhYmxlKTtpZihiLmNvbnN0cmFpbnx8Yi5jb25zdHJhaW5IZWFkZXIpe2EuY29uc3RyYWluPWIuY29uc3RyYWluO2EuY29uc3RyYWluRGVsZWdhdGU9Yi5jb25zdHJhaW5IZWFkZXI7YS5jb25zdHJhaW5Ubz1iLmNvbnN0cmFpblRvfHxiLmNvbnRhaW5lcn1iLmRkPW5ldyBFeHQudXRpbC5Db21wb25lbnREcmFnZ2VyKHRoaXMsYSk7Yi5yZWxheUV2ZW50cyhiLmRkLFsiZHJhZ3N0YXJ0IiwiZHJhZyIsImRyYWdlbmQiXSl9fSxvbkVzYzpmdW5jdGlvbihhLGIpe2lmKCFFeHQuRm9jdXNNYW5hZ2VyfHwhRXh0LkZvY3VzTWFuYWdlci5lbmFibGVkfHxFeHQuRm9jdXNNYW5hZ2VyLmZvY3VzZWRDbXA9PT10aGlzKXtiLnN0b3BFdmVudCgpO3RoaXMuY2xvc2UoKX19LGJlZm9yZURlc3Ryb3k6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEucmVuZGVyZWQpe2RlbGV0ZSB0aGlzLmFuaW1hdGVUYXJnZXQ7YS5oaWRlKCk7RXh0LmRlc3Ryb3koYS5rZXlNYXApfWEuY2FsbFBhcmVudCgpfSxhZGRUb29sczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KCk7aWYoYS5taW5pbWl6YWJsZSl7YS5hZGRUb29sKHt0eXBlOiJtaW5pbWl6ZSIsaGFuZGxlcjpFeHQuRnVuY3Rpb24uYmluZChhLm1pbmltaXplLGEsW10pfSl9aWYoYS5tYXhpbWl6YWJsZSl7YS5hZGRUb29sKHt0eXBlOiJtYXhpbWl6ZSIsaGFuZGxlcjpFeHQuRnVuY3Rpb24uYmluZChhLm1heGltaXplLGEsW10pfSk7YS5hZGRUb29sKHt0eXBlOiJyZXN0b3JlIixoYW5kbGVyOkV4dC5GdW5jdGlvbi5iaW5kKGEucmVzdG9yZSxhLFtdKSxoaWRkZW46dHJ1ZX0pfX0sZ2V0Rm9jdXNFbDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldERlZmF1bHRGb2N1cygpfSxnZXREZWZhdWx0Rm9jdXM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGIsZD1jLmRlZmF1bHRCdXR0b258fGMuZGVmYXVsdEZvY3VzLGE7aWYoZCE9PXVuZGVmaW5lZCl7aWYoRXh0LmlzTnVtYmVyKGQpKXtiPWMucXVlcnkoImJ1dHRvbiIpW2RdfWVsc2V7aWYoRXh0LmlzU3RyaW5nKGQpKXthPWQ7aWYoYS5zdWJzdHIoMCwxKSE9PSIjIil7YT0iIyIrYX1iPWMuZG93bihhKX1lbHNle2lmKGQuZm9jdXMpe2I9ZH19fX1yZXR1cm4gYnx8Yy5lbH0sb25Gb2N1czpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYTtpZigoRXh0LkZvY3VzTWFuYWdlciYmRXh0LkZvY3VzTWFuYWdlci5lbmFibGVkKXx8KChhPWIuZ2V0RGVmYXVsdEZvY3VzKCkpPT09Yikpe2IuY2FsbFBhcmVudChhcmd1bWVudHMpfWVsc2V7YS5mb2N1cygpfX0sYWZ0ZXJTaG93OmZ1bmN0aW9uKGMpe3ZhciBiPXRoaXMsYT1jfHxiLmFuaW1hdGVUYXJnZXQ7aWYodGhpcy5leHBhbmRPblNob3cpe3RoaXMuZXhwYW5kKGZhbHNlKX1iLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihiLm1heGltaXplZCl7Yi5maXRDb250YWluZXIoKX1iLnN5bmNNb25pdG9yV2luZG93UmVzaXplKCk7aWYoIWEpe2IuZG9Db25zdHJhaW4oKX1pZihiLmtleU1hcCl7Yi5rZXlNYXAuZW5hYmxlKCl9fSxkb0Nsb3NlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLmhpZGRlbil7YS5maXJlRXZlbnQoImNsb3NlIixhKTtpZihhLmNsb3NlQWN0aW9uPT0iZGVzdHJveSIpe3RoaXMuZGVzdHJveSgpfX1lbHNle2EuaGlkZShhLmFuaW1hdGVUYXJnZXQsYS5kb0Nsb3NlLGEpfX0sYWZ0ZXJIaWRlOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLnN5bmNNb25pdG9yV2luZG93UmVzaXplKCk7aWYoYS5rZXlNYXApe2Eua2V5TWFwLmRpc2FibGUoKX1hLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sb25XaW5kb3dSZXNpemU6ZnVuY3Rpb24oKXtpZih0aGlzLm1heGltaXplZCl7dGhpcy5maXRDb250YWluZXIoKX10aGlzLmRvQ29uc3RyYWluKCl9LG1pbmltaXplOmZ1bmN0aW9uKCl7dGhpcy5maXJlRXZlbnQoIm1pbmltaXplIix0aGlzKTtyZXR1cm4gdGhpc30sYWZ0ZXJDb2xsYXBzZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7aWYoYS5tYXhpbWl6YWJsZSl7YS50b29scy5tYXhpbWl6ZS5oaWRlKCk7YS50b29scy5yZXN0b3JlLmhpZGUoKX1pZihhLnJlc2l6ZXIpe2EucmVzaXplci5kaXNhYmxlKCl9YS5jYWxsUGFyZW50KGFyZ3VtZW50cyl9LGFmdGVyRXhwYW5kOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLm1heGltaXplZCl7YS50b29scy5yZXN0b3JlLnNob3coKX1lbHNle2lmKGEubWF4aW1pemFibGUpe2EudG9vbHMubWF4aW1pemUuc2hvdygpfX1pZihhLnJlc2l6ZXIpe2EucmVzaXplci5lbmFibGUoKX1hLmNhbGxQYXJlbnQoYXJndW1lbnRzKX0sbWF4aW1pemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKCFhLm1heGltaXplZCl7YS5leHBhbmQoZmFsc2UpO2lmKCFhLmhhc1NhdmVkUmVzdG9yZSl7YS5yZXN0b3JlU2l6ZT1hLmdldFNpemUoKTthLnJlc3RvcmVQb3M9YS5nZXRQb3NpdGlvbih0cnVlKX1pZihhLm1heGltaXphYmxlKXthLnRvb2xzLm1heGltaXplLmhpZGUoKTthLnRvb2xzLnJlc3RvcmUuc2hvdygpfWEubWF4aW1pemVkPXRydWU7YS5lbC5kaXNhYmxlU2hhZG93KCk7aWYoYS5kZCl7YS5kZC5kaXNhYmxlKCl9aWYoYS5yZXNpemVyKXthLnJlc2l6ZXIuZGlzYWJsZSgpfWlmKGEuY29sbGFwc2VUb29sKXthLmNvbGxhcHNlVG9vbC5oaWRlKCl9YS5lbC5hZGRDbHMoRXh0LmJhc2VDU1NQcmVmaXgrIndpbmRvdy1tYXhpbWl6ZWQiKTthLmNvbnRhaW5lci5hZGRDbHMoRXh0LmJhc2VDU1NQcmVmaXgrIndpbmRvdy1tYXhpbWl6ZWQtY3QiKTthLnN5bmNNb25pdG9yV2luZG93UmVzaXplKCk7YS5zZXRQb3NpdGlvbigwLDApO2EuZml0Q29udGFpbmVyKCk7YS5maXJlRXZlbnQoIm1heGltaXplIixhKX1yZXR1cm4gYX0scmVzdG9yZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLnRvb2xzO2lmKGEubWF4aW1pemVkKXtkZWxldGUgYS5oYXNTYXZlZFJlc3RvcmU7YS5yZW1vdmVDbHMoRXh0LmJhc2VDU1NQcmVmaXgrIndpbmRvdy1tYXhpbWl6ZWQiKTtpZihiLnJlc3RvcmUpe2IucmVzdG9yZS5oaWRlKCl9aWYoYi5tYXhpbWl6ZSl7Yi5tYXhpbWl6ZS5zaG93KCl9aWYoYS5jb2xsYXBzZVRvb2wpe2EuY29sbGFwc2VUb29sLnNob3coKX1hLnNldFBvc2l0aW9uKGEucmVzdG9yZVBvcyk7YS5zZXRTaXplKGEucmVzdG9yZVNpemUpO2RlbGV0ZSBhLnJlc3RvcmVQb3M7ZGVsZXRlIGEucmVzdG9yZVNpemU7YS5tYXhpbWl6ZWQ9ZmFsc2U7YS5lbC5lbmFibGVTaGFkb3codHJ1ZSk7aWYoYS5kZCl7YS5kZC5lbmFibGUoKX1pZihhLnJlc2l6ZXIpe2EucmVzaXplci5lbmFibGUoKX1hLmNvbnRhaW5lci5yZW1vdmVDbHMoRXh0LmJhc2VDU1NQcmVmaXgrIndpbmRvdy1tYXhpbWl6ZWQtY3QiKTthLnN5bmNNb25pdG9yV2luZG93UmVzaXplKCk7YS5kb0NvbnN0cmFpbigpO2EuZmlyZUV2ZW50KCJyZXN0b3JlIixhKX1yZXR1cm4gYX0sc3luY01vbml0b3JXaW5kb3dSZXNpemU6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9Yi5fbW9uaXRvcmluZ1Jlc2l6ZSxkPWIubW9uaXRvclJlc2l6ZXx8Yi5jb25zdHJhaW58fGIuY29uc3RyYWluSGVhZGVyfHxiLm1heGltaXplZCxhPWIuaGlkZGVufHxiLmRlc3Ryb3lpbmd8fGIuaXNEZXN0cm95ZWQ7aWYoZCYmIWEpe2lmKCFjKXtFeHQuRXZlbnRNYW5hZ2VyLm9uV2luZG93UmVzaXplKGIub25XaW5kb3dSZXNpemUsYik7Yi5fbW9uaXRvcmluZ1Jlc2l6ZT10cnVlfX1lbHNle2lmKGMpe0V4dC5FdmVudE1hbmFnZXIucmVtb3ZlUmVzaXplTGlzdGVuZXIoYi5vbldpbmRvd1Jlc2l6ZSxiKTtiLl9tb25pdG9yaW5nUmVzaXplPWZhbHNlfX19LHRvZ2dsZU1heGltaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbdGhpcy5tYXhpbWl6ZWQ/InJlc3RvcmUiOiJtYXhpbWl6ZSJdKCl9fSk7RXh0LmRlZmluZSgiRXh0LndpbmRvdy5NZXNzYWdlQm94Iix7ZXh0ZW5kOiJFeHQud2luZG93LldpbmRvdyIscmVxdWlyZXM6WyJFeHQudG9vbGJhci5Ub29sYmFyIiwiRXh0LmZvcm0uZmllbGQuVGV4dCIsIkV4dC5mb3JtLmZpZWxkLlRleHRBcmVhIiwiRXh0LmZvcm0uZmllbGQuRGlzcGxheSIsIkV4dC5idXR0b24uQnV0dG9uIiwiRXh0LmxheW91dC5jb250YWluZXIuQW5jaG9yIiwiRXh0LmxheW91dC5jb250YWluZXIuSEJveCIsIkV4dC5Qcm9ncmVzc0JhciJdLGFsaWFzOiJ3aWRnZXQubWVzc2FnZWJveCIsT0s6MSxZRVM6MixOTzo0LENBTkNFTDo4LE9LQ0FOQ0VMOjksWUVTTk86NixZRVNOT0NBTkNFTDoxNCxJTkZPOkV4dC5iYXNlQ1NTUHJlZml4KyJtZXNzYWdlLWJveC1pbmZvIixXQVJOSU5HOkV4dC5iYXNlQ1NTUHJlZml4KyJtZXNzYWdlLWJveC13YXJuaW5nIixRVUVTVElPTjpFeHQuYmFzZUNTU1ByZWZpeCsibWVzc2FnZS1ib3gtcXVlc3Rpb24iLEVSUk9SOkV4dC5iYXNlQ1NTUHJlZml4KyJtZXNzYWdlLWJveC1lcnJvciIsaGlkZU1vZGU6Im9mZnNldHMiLGNsb3NlQWN0aW9uOiJoaWRlIixyZXNpemFibGU6ZmFsc2UsdGl0bGU6IiYjMTYwOyIsd2lkdGg6NjAwLGhlaWdodDo1MDAsbWluV2lkdGg6MjUwLG1heFdpZHRoOjYwMCxtaW5IZWlnaHQ6MTEwLG1heEhlaWdodDo1MDAsY29uc3RyYWluOnRydWUsY2xzOkV4dC5iYXNlQ1NTUHJlZml4KyJtZXNzYWdlLWJveCIsbGF5b3V0Ont0eXBlOiJ2Ym94IixhbGlnbjoic3RyZXRjaCJ9LGRlZmF1bHRUZXh0SGVpZ2h0Ojc1LG1pblByb2dyZXNzV2lkdGg6MjUwLG1pblByb21wdFdpZHRoOjI1MCxidXR0b25UZXh0OntvazoiT0siLHllczoiWWVzIixubzoiTm8iLGNhbmNlbDoiQ2FuY2VsIn0sYnV0dG9uSWRzOlsib2siLCJ5ZXMiLCJubyIsImNhbmNlbCJdLHRpdGxlVGV4dDp7Y29uZmlybToiQ29uZmlybSIscHJvbXB0OiJQcm9tcHQiLHdhaXQ6IkxvYWRpbmcuLi4iLGFsZXJ0OiJBdHRlbnRpb24ifSxpY29uSGVpZ2h0OjM1LG1ha2VCdXR0b246ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5idXR0b25JZHNbYV07cmV0dXJuIG5ldyBFeHQuYnV0dG9uLkJ1dHRvbih7aGFuZGxlcjp0aGlzLmJ0bkNhbGxiYWNrLGl0ZW1JZDpiLHNjb3BlOnRoaXMsdGV4dDp0aGlzLmJ1dHRvblRleHRbYl0sbWluV2lkdGg6NzV9KX0sYnRuQ2FsbGJhY2s6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjLGQ7aWYoYi5jZmcucHJvbXB0fHxiLmNmZy5tdWx0aWxpbmUpe2lmKGIuY2ZnLm11bHRpbGluZSl7ZD1iLnRleHRBcmVhfWVsc2V7ZD1iLnRleHRGaWVsZH1jPWQuZ2V0VmFsdWUoKTtkLnJlc2V0KCl9YS5ibHVyKCk7Yi5oaWRlKCk7Yi51c2VyQ2FsbGJhY2soYS5pdGVtSWQsYyxiLmNmZyl9LGhpZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZGQuZW5kRHJhZygpO2EucHJvZ3Jlc3NCYXIucmVzZXQoKTthLnJlbW92ZUNscyhhLmNmZy5jbHMpO2EuY2FsbFBhcmVudChhcmd1bWVudHMpfSxpbml0Q29tcG9uZW50OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyxhPWUuaWQsYyxiLGQ7ZS50aXRsZT0iJiMxNjA7IjtlLnRvcENvbnRhaW5lcj1uZXcgRXh0LmNvbnRhaW5lci5Db250YWluZXIoe2xheW91dDoiaGJveCIsc3R5bGU6e3BhZGRpbmc6IjEwcHgiLG92ZXJmbG93OiJoaWRkZW4ifSxpdGVtczpbZS5pY29uQ29tcG9uZW50PW5ldyBFeHQuQ29tcG9uZW50KHtjbHM6ZS5iYXNlQ2xzKyItaWNvbiIsd2lkdGg6NTAsaGVpZ2h0OmUuaWNvbkhlaWdodH0pLGUucHJvbXB0Q29udGFpbmVyPW5ldyBFeHQuY29udGFpbmVyLkNvbnRhaW5lcih7ZmxleDoxLGxheW91dDp7dHlwZToiYW5jaG9yIn0saXRlbXM6W2UubXNnPW5ldyBFeHQuZm9ybS5maWVsZC5EaXNwbGF5KHtpZDphKyItZGlzcGxheWZpZWxkIixjbHM6ZS5iYXNlQ2xzKyItdGV4dCJ9KSxlLnRleHRGaWVsZD1uZXcgRXh0LmZvcm0uZmllbGQuVGV4dCh7aWQ6YSsiLXRlc3RmaWVsZCIsYW5jaG9yOiIxMDAlIixlbmFibGVLZXlFdmVudHM6dHJ1ZSxsaXN0ZW5lcnM6e2tleWRvd246ZS5vblByb21wdEtleSxzY29wZTplfX0pLGUudGV4dEFyZWE9bmV3IEV4dC5mb3JtLmZpZWxkLlRleHRBcmVhKHtpZDphKyItdGV4dGFyZWEiLGFuY2hvcjoiMTAwJSIsaGVpZ2h0Ojc1fSldfSldfSk7ZS5wcm9ncmVzc0Jhcj1uZXcgRXh0LlByb2dyZXNzQmFyKHtpZDphKyItcHJvZ3Jlc3NiYXIiLG1hcmdpbnM6IjAgMTAgMCAxMCJ9KTtlLml0ZW1zPVtlLnRvcENvbnRhaW5lcixlLnByb2dyZXNzQmFyXTtlLm1zZ0J1dHRvbnM9W107Zm9yKGM9MDtjPDQ7YysrKXtiPWUubWFrZUJ1dHRvbihjKTtlLm1zZ0J1dHRvbnNbYi5pdGVtSWRdPWI7ZS5tc2dCdXR0b25zLnB1c2goYil9ZS5ib3R0b21UYj1uZXcgRXh0LnRvb2xiYXIuVG9vbGJhcih7aWQ6YSsiLXRvb2xiYXIiLHVpOiJmb290ZXIiLGRvY2s6ImJvdHRvbSIsbGF5b3V0OntwYWNrOiJjZW50ZXIifSxpdGVtczpbZS5tc2dCdXR0b25zWzBdLGUubXNnQnV0dG9uc1sxXSxlLm1zZ0J1dHRvbnNbMl0sZS5tc2dCdXR0b25zWzNdXX0pO2UuZG9ja2VkSXRlbXM9W2UuYm90dG9tVGJdO2Q9ZS5ib3R0b21UYi5nZXRMYXlvdXQoKTtkLmZpbmlzaGVkTGF5b3V0PUV4dC5GdW5jdGlvbi5jcmVhdGVJbnRlcmNlcHRvcihkLmZpbmlzaGVkTGF5b3V0LGZ1bmN0aW9uKGcpe2UudGJXaWR0aD1nLmdldFByb3AoImNvbnRlbnRXaWR0aCIpfSk7ZS5vbigiY2xvc2UiLGUub25DbG9zZSxlKTtlLmNhbGxQYXJlbnQoKX0sb25DbG9zZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuaGVhZGVyLmNoaWxkKCJbdHlwZT1jbG9zZV0iKTthLml0ZW1JZD0iY2FuY2VsIjt0aGlzLmJ0bkNhbGxiYWNrKGEpO2RlbGV0ZSBhLml0ZW1JZH0sb25Qcm9tcHRLZXk6ZnVuY3Rpb24oYSxjKXt2YXIgYj10aGlzLGQ7aWYoYy5rZXlDb2RlPT09RXh0LkV2ZW50T2JqZWN0LlJFVFVSTnx8Yy5rZXlDb2RlPT09MTApe2lmKGIubXNnQnV0dG9ucy5vay5pc1Zpc2libGUoKSl7ZD10cnVlO2IubXNnQnV0dG9ucy5vay5oYW5kbGVyLmNhbGwoYixiLm1zZ0J1dHRvbnMub2spfWVsc2V7aWYoYi5tc2dCdXR0b25zLnllcy5pc1Zpc2libGUoKSl7Yi5tc2dCdXR0b25zLnllcy5oYW5kbGVyLmNhbGwoYixiLm1zZ0J1dHRvbnMueWVzKTtkPXRydWV9fWlmKGQpe2IudGV4dEZpZWxkLmJsdXIoKX19fSxyZWNvbmZpZ3VyZTpmdW5jdGlvbihhKXt2YXIgZD10aGlzLGM9MCxoPXRydWUsZz1kLm1heFdpZHRoLGU9ZC5idXR0b25UZXh0LGI7ZC51cGRhdGVCdXR0b25UZXh0KCk7YT1hfHx7fTtkLmNmZz1hO2lmKGEud2lkdGgpe2c9YS53aWR0aH1kZWxldGUgZC5kZWZhdWx0Rm9jdXM7ZC5hbmltYXRlVGFyZ2V0PWEuYW5pbWF0ZVRhcmdldHx8dW5kZWZpbmVkO2QubW9kYWw9YS5tb2RhbCE9PWZhbHNlO2lmKGEudGl0bGUpe2Quc2V0VGl0bGUoYS50aXRsZXx8IiYjMTYwOyIpfWlmKEV4dC5pc09iamVjdChhLmJ1dHRvbnMpKXtkLmJ1dHRvblRleHQ9YS5idXR0b25zO2M9MH1lbHNle2QuYnV0dG9uVGV4dD1hLmJ1dHRvblRleHR8fGQuYnV0dG9uVGV4dDtjPUV4dC5pc051bWJlcihhLmJ1dHRvbnMpP2EuYnV0dG9uczowfWM9Y3xkLnVwZGF0ZUJ1dHRvblRleHQoKTtkLmJ1dHRvblRleHQ9ZTtFeHQuc3VzcGVuZExheW91dHMoKTtkLmhpZGRlbj1mYWxzZTtpZighZC5yZW5kZXJlZCl7ZC53aWR0aD1nO2QucmVuZGVyKEV4dC5nZXRCb2R5KCkpfWVsc2V7ZC5zZXRTaXplKGcsZC5tYXhIZWlnaHQpfWQuY2xvc2FibGU9YS5jbG9zYWJsZSYmIWEud2FpdDtkLmhlYWRlci5jaGlsZCgiW3R5cGU9Y2xvc2VdIikuc2V0VmlzaWJsZShhLmNsb3NhYmxlIT09ZmFsc2UpO2lmKCFhLnRpdGxlJiYhZC5jbG9zYWJsZSl7ZC5oZWFkZXIuaGlkZSgpfWVsc2V7ZC5oZWFkZXIuc2hvdygpfWQubGl2ZURyYWc9IWEucHJveHlEcmFnO2QudXNlckNhbGxiYWNrPUV4dC5GdW5jdGlvbi5iaW5kKGEuY2FsbGJhY2t8fGEuZm58fEV4dC5lbXB0eUZuLGEuc2NvcGV8fEV4dC5nbG9iYWwpO2Quc2V0SWNvbihhLmljb24pO2lmKGEubXNnKXtkLm1zZy5zZXRWYWx1ZShhLm1zZyk7ZC5tc2cuc2hvdygpfWVsc2V7ZC5tc2cuaGlkZSgpfUV4dC5yZXN1bWVMYXlvdXRzKHRydWUpO0V4dC5zdXNwZW5kTGF5b3V0cygpO2lmKGEucHJvbXB0fHxhLm11bHRpbGluZSl7ZC5tdWx0aWxpbmU9YS5tdWx0aWxpbmU7aWYoYS5tdWx0aWxpbmUpe2QudGV4dEFyZWEuc2V0VmFsdWUoYS52YWx1ZSk7ZC50ZXh0QXJlYS5zZXRIZWlnaHQoYS5kZWZhdWx0VGV4dEhlaWdodHx8ZC5kZWZhdWx0VGV4dEhlaWdodCk7ZC50ZXh0QXJlYS5zaG93KCk7ZC50ZXh0RmllbGQuaGlkZSgpO2QuZGVmYXVsdEZvY3VzPWQudGV4dEFyZWF9ZWxzZXtkLnRleHRGaWVsZC5zZXRWYWx1ZShhLnZhbHVlKTtkLnRleHRBcmVhLmhpZGUoKTtkLnRleHRGaWVsZC5zaG93KCk7ZC5kZWZhdWx0Rm9jdXM9ZC50ZXh0RmllbGR9fWVsc2V7ZC50ZXh0QXJlYS5oaWRlKCk7ZC50ZXh0RmllbGQuaGlkZSgpfWlmKGEucHJvZ3Jlc3N8fGEud2FpdCl7ZC5wcm9ncmVzc0Jhci5zaG93KCk7ZC51cGRhdGVQcm9ncmVzcygwLGEucHJvZ3Jlc3NUZXh0KTtpZihhLndhaXQ9PT10cnVlKXtkLnByb2dyZXNzQmFyLndhaXQoYS53YWl0Q29uZmlnKX19ZWxzZXtkLnByb2dyZXNzQmFyLmhpZGUoKX1mb3IoYj0wO2I8NDtiKyspe2lmKGMmTWF0aC5wb3coMixiKSl7aWYoIWQuZGVmYXVsdEZvY3VzKXtkLmRlZmF1bHRGb2N1cz1kLm1zZ0J1dHRvbnNbYl19ZC5tc2dCdXR0b25zW2JdLnNob3coKTtoPWZhbHNlfWVsc2V7ZC5tc2dCdXR0b25zW2JdLmhpZGUoKX19aWYoaCl7ZC5ib3R0b21UYi5oaWRlKCl9ZWxzZXtkLmJvdHRvbVRiLnNob3coKX1FeHQucmVzdW1lTGF5b3V0cyh0cnVlKX0sdXBkYXRlQnV0dG9uVGV4dDpmdW5jdGlvbigpe3ZhciBkPXRoaXMsYz1kLmJ1dHRvblRleHQsYj0wLGUsYTtmb3IoZSBpbiBjKXtpZihjLmhhc093blByb3BlcnR5KGUpKXthPWQubXNnQnV0dG9uc1tlXTtpZihhKXtpZihkLmNmZyYmZC5jZmcuYnV0dG9uVGV4dCl7Yj1ifE1hdGgucG93KDIsRXh0LkFycmF5LmluZGV4T2YoZC5idXR0b25JZHMsZSkpfWlmKGEudGV4dCE9Y1tlXSl7YS5zZXRUZXh0KGNbZV0pfX19fXJldHVybiBifSxzaG93OmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7Yi5yZWNvbmZpZ3VyZShhKTtiLmFkZENscyhhLmNscyk7Yi5kb0F1dG9TaXplKCk7Yi5oaWRkZW49dHJ1ZTtiLmNhbGxQYXJlbnQoKTtyZXR1cm4gYn0sb25TaG93OmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7dGhpcy5jZW50ZXIoKX0sZG9BdXRvU2l6ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMsZT1kLmhlYWRlci5yZW5kZXJlZCYmZC5oZWFkZXIuaXNWaXNpYmxlKCksYz1kLmJvdHRvbVRiLnJlbmRlcmVkJiZkLmJvdHRvbVRiLmlzVmlzaWJsZSgpLGIsYTtpZighRXh0LmlzRGVmaW5lZChkLmZyYW1lV2lkdGgpKXtkLmZyYW1lV2lkdGg9ZC5lbC5nZXRXaWR0aCgpLWQuYm9keS5nZXRXaWR0aCgpfWQubWluV2lkdGg9ZC5jZmcubWluV2lkdGh8fEV4dC5nZXRDbGFzcyh0aGlzKS5wcm90b3R5cGUubWluV2lkdGg7Yj1NYXRoLm1heChlP2QuaGVhZGVyLmdldE1pbldpZHRoKCk6MCxkLmNmZy53aWR0aHx8ZC5tc2cuZ2V0V2lkdGgoKStkLmljb25Db21wb25lbnQuZ2V0V2lkdGgoKSsyNSwoYz9kLnRiV2lkdGg6MCkpO2E9KGU/ZC5oZWFkZXIuZ2V0SGVpZ2h0KCk6MCkrZC50b3BDb250YWluZXIuZ2V0SGVpZ2h0KCkrZC5wcm9ncmVzc0Jhci5nZXRIZWlnaHQoKSsoYz9kLmJvdHRvbVRiLmdldEhlaWdodCgpK2QuYm90dG9tVGIuZWwuZ2V0TWFyZ2luKCJ0YiIpOjApO2Quc2V0U2l6ZShiK2QuZnJhbWVXaWR0aCxhK2QuZnJhbWVXaWR0aCk7cmV0dXJuIGR9LHVwZGF0ZVRleHQ6ZnVuY3Rpb24oYSl7dGhpcy5tc2cuc2V0VmFsdWUoYSk7cmV0dXJuIHRoaXMuZG9BdXRvU2l6ZSh0cnVlKX0sc2V0SWNvbjpmdW5jdGlvbihhKXt2YXIgYj10aGlzO2IuaWNvbkNvbXBvbmVudC5yZW1vdmVDbHMoYi5tZXNzYWdlSWNvbkNscyk7aWYoYSl7Yi5pY29uQ29tcG9uZW50LnNob3coKTtiLmljb25Db21wb25lbnQuYWRkQ2xzKEV4dC5iYXNlQ1NTUHJlZml4KyJkbGctaWNvbiIpO2IuaWNvbkNvbXBvbmVudC5hZGRDbHMoYi5tZXNzYWdlSWNvbkNscz1hKX1lbHNle2IuaWNvbkNvbXBvbmVudC5yZW1vdmVDbHMoRXh0LmJhc2VDU1NQcmVmaXgrImRsZy1pY29uIik7Yi5pY29uQ29tcG9uZW50LmhpZGUoKX1yZXR1cm4gYn0sdXBkYXRlUHJvZ3Jlc3M6ZnVuY3Rpb24oYixhLGMpe3RoaXMucHJvZ3Jlc3NCYXIudXBkYXRlUHJvZ3Jlc3MoYixhKTtpZihjKXt0aGlzLnVwZGF0ZVRleHQoYyl9cmV0dXJuIHRoaXN9LG9uRXNjOmZ1bmN0aW9uKCl7aWYodGhpcy5jbG9zYWJsZSE9PWZhbHNlKXt0aGlzLmNhbGxQYXJlbnQoYXJndW1lbnRzKX19LGNvbmZpcm06ZnVuY3Rpb24oYSxkLGMsYil7aWYoRXh0LmlzU3RyaW5nKGEpKXthPXt0aXRsZTphLGljb246dGhpcy5RVUVTVElPTixtc2c6ZCxidXR0b25zOnRoaXMuWUVTTk8sY2FsbGJhY2s6YyxzY29wZTpifX1yZXR1cm4gdGhpcy5zaG93KGEpfSxwcm9tcHQ6ZnVuY3Rpb24oYixnLGQsYyxhLGUpe2lmKEV4dC5pc1N0cmluZyhiKSl7Yj17cHJvbXB0OnRydWUsdGl0bGU6YixtaW5XaWR0aDp0aGlzLm1pblByb21wdFdpZHRoLG1zZzpnLGJ1dHRvbnM6dGhpcy5PS0NBTkNFTCxjYWxsYmFjazpkLHNjb3BlOmMsbXVsdGlsaW5lOmEsdmFsdWU6ZX19cmV0dXJuIHRoaXMuc2hvdyhiKX0sd2FpdDpmdW5jdGlvbihhLGMsYil7aWYoRXh0LmlzU3RyaW5nKGEpKXthPXt0aXRsZTpjLG1zZzphLGNsb3NhYmxlOmZhbHNlLHdhaXQ6dHJ1ZSxtb2RhbDp0cnVlLG1pbldpZHRoOnRoaXMubWluUHJvZ3Jlc3NXaWR0aCx3YWl0Q29uZmlnOmJ9fXJldHVybiB0aGlzLnNob3coYSl9LGFsZXJ0OmZ1bmN0aW9uKGEsZCxjLGIpe2lmKEV4dC5pc1N0cmluZyhhKSl7YT17dGl0bGU6YSxtc2c6ZCxidXR0b25zOnRoaXMuT0ssZm46YyxzY29wZTpiLG1pbldpZHRoOnRoaXMubWluV2lkdGh9fXJldHVybiB0aGlzLnNob3coYSl9LHByb2dyZXNzOmZ1bmN0aW9uKGEsYyxiKXtpZihFeHQuaXNTdHJpbmcoYSkpe2E9e3RpdGxlOmEsbXNnOmMscHJvZ3Jlc3M6dHJ1ZSxwcm9ncmVzc1RleHQ6Yn19cmV0dXJuIHRoaXMuc2hvdyhhKX19LGZ1bmN0aW9uKCl7RXh0Lk1lc3NhZ2VCb3g9RXh0Lk1zZz1uZXcgdGhpcygpfSk7RXh0LmRlZmluZSgiRXh0LmZvcm0uQmFzaWMiLHtleHRlbmQ6IkV4dC51dGlsLk9ic2VydmFibGUiLGFsdGVybmF0ZUNsYXNzTmFtZToiRXh0LmZvcm0uQmFzaWNGb3JtIixyZXF1aXJlczpbIkV4dC51dGlsLk1peGVkQ29sbGVjdGlvbiIsIkV4dC5mb3JtLmFjdGlvbi5Mb2FkIiwiRXh0LmZvcm0uYWN0aW9uLlN1Ym1pdCIsIkV4dC53aW5kb3cuTWVzc2FnZUJveCIsIkV4dC5kYXRhLkVycm9ycyIsIkV4dC51dGlsLkRlbGF5ZWRUYXNrIl0sY29uc3RydWN0b3I6ZnVuY3Rpb24oYSxiKXt2YXIgZT10aGlzLGc9ZS5vbkl0ZW1BZGRPclJlbW92ZSxkLGM7ZS5vd25lcj1hO2UubW9uKGEse2FkZDpnLHJlbW92ZTpnLHNjb3BlOmV9KTtFeHQuYXBwbHkoZSxiKTtpZihFeHQuaXNTdHJpbmcoZS5wYXJhbU9yZGVyKSl7ZS5wYXJhbU9yZGVyPWUucGFyYW1PcmRlci5zcGxpdCgvW1xzLHxdLyl9aWYoZS5hcGkpe2Q9ZS5hcGk9RXh0LmFwcGx5KHt9LGUuYXBpKTtmb3IoYyBpbiBkKXtpZihkLmhhc093blByb3BlcnR5KGMpKXtkW2NdPUV4dC5kaXJlY3QuTWFuYWdlci5wYXJzZU1ldGhvZChkW2NdKX19fWUuY2hlY2tWYWxpZGl0eVRhc2s9bmV3IEV4dC51dGlsLkRlbGF5ZWRUYXNrKGUuY2hlY2tWYWxpZGl0eSxlKTtlLmFkZEV2ZW50cygiYmVmb3JlYWN0aW9uIiwiYWN0aW9uZmFpbGVkIiwiYWN0aW9uY29tcGxldGUiLCJ2YWxpZGl0eWNoYW5nZSIsImRpcnR5Y2hhbmdlIik7ZS5jYWxsUGFyZW50KCl9LGluaXRpYWxpemU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuaW5pdGlhbGl6ZWQ9dHJ1ZTthLm9uVmFsaWRpdHlDaGFuZ2UoIWEuaGFzSW52YWxpZEZpZWxkKCkpfSx0aW1lb3V0OjMwLHBhcmFtc0FzSGFzaDpmYWxzZSx3YWl0VGl0bGU6IlBsZWFzZSBXYWl0Li4uIix0cmFja1Jlc2V0T25Mb2FkOmZhbHNlLHdhc0RpcnR5OmZhbHNlLGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmNsZWFyTGlzdGVuZXJzKCk7dGhpcy5jaGVja1ZhbGlkaXR5VGFzay5jYW5jZWwoKX0sb25JdGVtQWRkT3JSZW1vdmU6ZnVuY3Rpb24oYyxnKXt2YXIgZD10aGlzLGU9ISFnLm93bmVyQ3QsYj1nLmlzQ29udGFpbmVyO2Z1bmN0aW9uIGEoaCl7ZFtlPyJtb24iOiJtdW4iXShoLHt2YWxpZGl0eWNoYW5nZTpkLmNoZWNrVmFsaWRpdHksZGlydHljaGFuZ2U6ZC5jaGVja0RpcnR5LHNjb3BlOmQsYnVmZmVyOjEwMH0pO2RlbGV0ZSBkLl9maWVsZHN9aWYoZy5pc0Zvcm1GaWVsZCl7YShnKX1lbHNle2lmKGIpe2lmKGcuaXNEZXN0cm95ZWQpe2RlbGV0ZSBkLl9maWVsZHN9ZWxzZXtFeHQuQXJyYXkuZm9yRWFjaChnLnF1ZXJ5KCJbaXNGb3JtRmllbGRdIiksYSl9fX1kZWxldGUgdGhpcy5fYm91bmRJdGVtcztpZihkLmluaXRpYWxpemVkKXtkLmNoZWNrVmFsaWRpdHlUYXNrLmRlbGF5KDEwKX19LGdldEZpZWxkczpmdW5jdGlvbigpe3ZhciBhPXRoaXMuX2ZpZWxkcztpZighYSl7YT10aGlzLl9maWVsZHM9bmV3IEV4dC51dGlsLk1peGVkQ29sbGVjdGlvbigpO2EuYWRkQWxsKHRoaXMub3duZXIucXVlcnkoIltpc0Zvcm1GaWVsZF0iKSl9cmV0dXJuIGF9LGdldEJvdW5kSXRlbXM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLl9ib3VuZEl0ZW1zO2lmKCFhfHxhLmdldENvdW50KCk9PT0wKXthPXRoaXMuX2JvdW5kSXRlbXM9bmV3IEV4dC51dGlsLk1peGVkQ29sbGVjdGlvbigpO2EuYWRkQWxsKHRoaXMub3duZXIucXVlcnkoIltmb3JtQmluZF0iKSl9cmV0dXJuIGF9LGhhc0ludmFsaWRGaWVsZDpmdW5jdGlvbigpe3JldHVybiAhIXRoaXMuZ2V0RmllbGRzKCkuZmluZEJ5KGZ1bmN0aW9uKGMpe3ZhciBhPWMucHJldmVudE1hcmssYjtjLnByZXZlbnRNYXJrPXRydWU7Yj1jLmlzVmFsaWQoKTtjLnByZXZlbnRNYXJrPWE7cmV0dXJuICFifSl9LGlzVmFsaWQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI7RXh0LnN1c3BlbmRMYXlvdXRzKCk7Yj1hLmdldEZpZWxkcygpLmZpbHRlckJ5KGZ1bmN0aW9uKGMpe3JldHVybiAhYy52YWxpZGF0ZSgpfSk7RXh0LnJlc3VtZUxheW91dHModHJ1ZSk7cmV0dXJuIGIubGVuZ3RoPDF9LGNoZWNrVmFsaWRpdHk6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9IWIuaGFzSW52YWxpZEZpZWxkKCk7aWYoYSE9PWIud2FzVmFsaWQpe2Iub25WYWxpZGl0eUNoYW5nZShhKTtiLmZpcmVFdmVudCgidmFsaWRpdHljaGFuZ2UiLGIsYSk7Yi53YXNWYWxpZD1hfX0sb25WYWxpZGl0eUNoYW5nZTpmdW5jdGlvbihnKXt2YXIgZD10aGlzLmdldEJvdW5kSXRlbXMoKSxiLGMsYSxlO2lmKGQpe2I9ZC5pdGVtczthPWIubGVuZ3RoO2ZvcihjPTA7YzxhO2MrKyl7ZT1iW2NdO2lmKGUuZGlzYWJsZWQ9PT1nKXtlLnNldERpc2FibGVkKCFnKX19fX0saXNEaXJ0eTpmdW5jdGlvbigpe3JldHVybiAhIXRoaXMuZ2V0RmllbGRzKCkuZmluZEJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLmlzRGlydHkoKX0pfSxjaGVja0RpcnR5OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5pc0RpcnR5KCk7aWYoYSE9PXRoaXMud2FzRGlydHkpe3RoaXMuZmlyZUV2ZW50KCJkaXJ0eWNoYW5nZSIsdGhpcyxhKTt0aGlzLndhc0RpcnR5PWF9fSxoYXNVcGxvYWQ6ZnVuY3Rpb24oKXtyZXR1cm4gISF0aGlzLmdldEZpZWxkcygpLmZpbmRCeShmdW5jdGlvbihhKXtyZXR1cm4gYS5pc0ZpbGVVcGxvYWQoKX0pfSxkb0FjdGlvbjpmdW5jdGlvbihiLGEpe2lmKEV4dC5pc1N0cmluZyhiKSl7Yj1FeHQuQ2xhc3NNYW5hZ2VyLmluc3RhbnRpYXRlQnlBbGlhcygiZm9ybWFjdGlvbi4iK2IsRXh0LmFwcGx5KHt9LGEse2Zvcm06dGhpc30pKX1pZih0aGlzLmZpcmVFdmVudCgiYmVmb3JlYWN0aW9uIix0aGlzLGIpIT09ZmFsc2Upe3RoaXMuYmVmb3JlQWN0aW9uKGIpO0V4dC5kZWZlcihiLnJ1biwxMDAsYil9cmV0dXJuIHRoaXN9LHN1Ym1pdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5kb0FjdGlvbih0aGlzLnN0YW5kYXJkU3VibWl0PyJzdGFuZGFyZHN1Ym1pdCI6dGhpcy5hcGk/ImRpcmVjdHN1Ym1pdCI6InN1Ym1pdCIsYSl9LGxvYWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZG9BY3Rpb24odGhpcy5hcGk/ImRpcmVjdGxvYWQiOiJsb2FkIixhKX0sdXBkYXRlUmVjb3JkOmZ1bmN0aW9uKGMpe2M9Y3x8dGhpcy5fcmVjb3JkO3ZhciBiPWMuZmllbGRzLml0ZW1zLGQ9dGhpcy5nZXRGaWVsZFZhbHVlcygpLGg9e30sZz0wLGE9Yi5sZW5ndGgsZTtmb3IoO2c8YTsrK2cpe2U9YltnXS5uYW1lO2lmKGQuaGFzT3duUHJvcGVydHkoZSkpe2hbZV09ZFtlXX19Yy5iZWdpbkVkaXQoKTtjLnNldChoKTtjLmVuZEVkaXQoKTtyZXR1cm4gdGhpc30sbG9hZFJlY29yZDpmdW5jdGlvbihhKXt0aGlzLl9yZWNvcmQ9YTtyZXR1cm4gdGhpcy5zZXRWYWx1ZXMoYS5kYXRhKX0sZ2V0UmVjb3JkOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlY29yZH0sYmVmb3JlQWN0aW9uOmZ1bmN0aW9uKGUpe3ZhciBiPWUud2FpdE1zZyxkPUV4dC5iYXNlQ1NTUHJlZml4KyJtYXNrLWxvYWRpbmciLGE9dGhpcy5nZXRGaWVsZHMoKS5pdGVtcyxjLGk9YS5sZW5ndGgsZyxoO2ZvcihjPTA7YzxpO2MrKyl7Zz1hW2NdO2lmKGcuaXNGb3JtRmllbGQmJmcuc3luY1ZhbHVlKXtnLnN5bmNWYWx1ZSgpfX1pZihiKXtoPXRoaXMud2FpdE1zZ1RhcmdldDtpZihoPT09dHJ1ZSl7dGhpcy5vd25lci5lbC5tYXNrKGIsZCl9ZWxzZXtpZihoKXtoPXRoaXMud2FpdE1zZ1RhcmdldD1FeHQuZ2V0KGgpO2gubWFzayhiLGQpfWVsc2V7RXh0Lk1lc3NhZ2VCb3gud2FpdChiLGUud2FpdFRpdGxlfHx0aGlzLndhaXRUaXRsZSl9fX19LGFmdGVyQWN0aW9uOmZ1bmN0aW9uKGIsZCl7aWYoYi53YWl0TXNnKXt2YXIgYT1FeHQuTWVzc2FnZUJveCxjPXRoaXMud2FpdE1zZ1RhcmdldDtpZihjPT09dHJ1ZSl7dGhpcy5vd25lci5lbC51bm1hc2soKX1lbHNle2lmKGMpe2MudW5tYXNrKCl9ZWxzZXthLnVwZGF0ZVByb2dyZXNzKDEpO2EuaGlkZSgpfX19aWYoZCl7aWYoYi5yZXNldCl7dGhpcy5yZXNldCgpfUV4dC5jYWxsYmFjayhiLnN1Y2Nlc3MsYi5zY29wZXx8YixbdGhpcyxiXSk7dGhpcy5maXJlRXZlbnQoImFjdGlvbmNvbXBsZXRlIix0aGlzLGIpfWVsc2V7RXh0LmNhbGxiYWNrKGIuZmFpbHVyZSxiLnNjb3BlfHxiLFt0aGlzLGJdKTt0aGlzLmZpcmVFdmVudCgiYWN0aW9uZmFpbGVkIix0aGlzLGIpfX0sZmluZEZpZWxkOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmdldEZpZWxkcygpLmZpbmRCeShmdW5jdGlvbihiKXtyZXR1cm4gYi5pZD09PWF8fGIuZ2V0TmFtZSgpPT09YX0pfSxtYXJrSW52YWxpZDpmdW5jdGlvbihqKXt2YXIgZD10aGlzLGgsYSxiLGcsYztmdW5jdGlvbiBpKGUsbCl7dmFyIGs9ZC5maW5kRmllbGQoZSk7aWYoayl7ay5tYXJrSW52YWxpZChsKX19aWYoRXh0LmlzQXJyYXkoaikpe2E9ai5sZW5ndGg7Zm9yKGg9MDtoPGE7aCsrKXtiPWpbaF07aShiLmlkLGIubXNnKX19ZWxzZXtpZihqIGluc3RhbmNlb2YgRXh0LmRhdGEuRXJyb3JzKXthPWouaXRlbXMubGVuZ3RoO2ZvcihoPTA7aDxhO2grKyl7Yj1qLml0ZW1zW2hdO2koYi5maWVsZCxiLm1lc3NhZ2UpfX1lbHNle2ZvcihjIGluIGope2lmKGouaGFzT3duUHJvcGVydHkoYykpe2c9altjXTtpKGMsZyxqKX19fX1yZXR1cm4gdGhpc30sc2V0VmFsdWVzOmZ1bmN0aW9uKGIpe3ZhciBkPXRoaXMsYSxjLGgsZztmdW5jdGlvbiBlKGksayl7dmFyIGo9ZC5maW5kRmllbGQoaSk7aWYoail7ai5zZXRWYWx1ZShrKTtpZihkLnRyYWNrUmVzZXRPbkxvYWQpe2oucmVzZXRPcmlnaW5hbFZhbHVlKCl9fX1pZihFeHQuaXNBcnJheShiKSl7Yz1iLmxlbmd0aDtmb3IoYT0wO2E8YzthKyspe2g9YlthXTtlKGguaWQsaC52YWx1ZSl9fWVsc2V7RXh0Lml0ZXJhdGUoYixlKX1yZXR1cm4gdGhpc30sZ2V0VmFsdWVzOmZ1bmN0aW9uKGksaixuLGwpe3ZhciBtPXt9LGc9dGhpcy5nZXRGaWVsZHMoKS5pdGVtcyxoLG89Zy5sZW5ndGgsZT1FeHQuaXNBcnJheSxrLGQsYyxiLGE7Zm9yKGg9MDtoPG87aCsrKXtrPWdbaF07aWYoIWp8fGsuaXNEaXJ0eSgpKXtkPWtbbD8iZ2V0TW9kZWxEYXRhIjoiZ2V0U3VibWl0RGF0YSJdKG4pO2lmKEV4dC5pc09iamVjdChkKSl7Zm9yKGEgaW4gZCl7aWYoZC5oYXNPd25Qcm9wZXJ0eShhKSl7Yz1kW2FdO2lmKG4mJmM9PT0iIil7Yz1rLmVtcHR5VGV4dHx8IiJ9aWYobS5oYXNPd25Qcm9wZXJ0eShhKSl7Yj1tW2FdO2lmKCFlKGIpKXtiPW1bYV09W2JdfWlmKGUoYykpe21bYV09bVthXT1iLmNvbmNhdChjKX1lbHNle2IucHVzaChjKX19ZWxzZXttW2FdPWN9fX19fX1pZihpKXttPUV4dC5PYmplY3QudG9RdWVyeVN0cmluZyhtKX1yZXR1cm4gbX0sZ2V0RmllbGRWYWx1ZXM6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0VmFsdWVzKGZhbHNlLGEsZmFsc2UsdHJ1ZSl9LGNsZWFySW52YWxpZDpmdW5jdGlvbigpe0V4dC5zdXNwZW5kTGF5b3V0cygpO3ZhciBiPXRoaXMsYT1iLmdldEZpZWxkcygpLml0ZW1zLGMsZD1hLmxlbmd0aDtmb3IoYz0wO2M8ZDtjKyspe2FbY10uY2xlYXJJbnZhbGlkKCl9RXh0LnJlc3VtZUxheW91dHModHJ1ZSk7cmV0dXJuIGJ9LHJlc2V0OmZ1bmN0aW9uKCl7RXh0LnN1c3BlbmRMYXlvdXRzKCk7dmFyIGI9dGhpcyxhPWIuZ2V0RmllbGRzKCkuaXRlbXMsYyxkPWEubGVuZ3RoO2ZvcihjPTA7YzxkO2MrKyl7YVtjXS5yZXNldCgpfUV4dC5yZXN1bWVMYXlvdXRzKHRydWUpO3JldHVybiBifSxhcHBseVRvRmllbGRzOmZ1bmN0aW9uKGMpe3ZhciBhPXRoaXMuZ2V0RmllbGRzKCkuaXRlbXMsYixkPWEubGVuZ3RoO2ZvcihiPTA7YjxkO2IrKyl7RXh0LmFwcGx5KGFbYl0sYyl9cmV0dXJuIHRoaXN9LGFwcGx5SWZUb0ZpZWxkczpmdW5jdGlvbihjKXt2YXIgYT10aGlzLmdldEZpZWxkcygpLml0ZW1zLGIsZD1hLmxlbmd0aDtmb3IoYj0wO2I8ZDtiKyspe0V4dC5hcHBseUlmKGFbYl0sYyl9cmV0dXJuIHRoaXN9fSk7RXh0LmRlZmluZSgiRXh0LmZvcm0uUGFuZWwiLHtleHRlbmQ6IkV4dC5wYW5lbC5QYW5lbCIsbWl4aW5zOntmaWVsZEFuY2VzdG9yOiJFeHQuZm9ybS5GaWVsZEFuY2VzdG9yIn0sYWxpYXM6IndpZGdldC5mb3JtIixhbHRlcm5hdGVDbGFzc05hbWU6WyJFeHQuRm9ybVBhbmVsIiwiRXh0LmZvcm0uRm9ybVBhbmVsIl0scmVxdWlyZXM6WyJFeHQuZm9ybS5CYXNpYyIsIkV4dC51dGlsLlRhc2tSdW5uZXIiXSxsYXlvdXQ6ImFuY2hvciIsYXJpYVJvbGU6ImZvcm0iLGluaXRDb21wb25lbnQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuZnJhbWUpe2EuYm9yZGVyPWZhbHNlfWEuaW5pdEZpZWxkQW5jZXN0b3IoKTthLmNhbGxQYXJlbnQoKTthLnJlbGF5RXZlbnRzKGEuZm9ybSxbImJlZm9yZWFjdGlvbiIsImFjdGlvbmZhaWxlZCIsImFjdGlvbmNvbXBsZXRlIiwidmFsaWRpdHljaGFuZ2UiLCJkaXJ0eWNoYW5nZSJdKTtpZihhLnBvbGxGb3JDaGFuZ2VzKXthLnN0YXJ0UG9sbGluZyhhLnBvbGxJbnRlcnZhbHx8NTAwKX19LGluaXRJdGVtczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5mb3JtPWEuY3JlYXRlRm9ybSgpO2EuY2FsbFBhcmVudCgpfSxhZnRlckZpcnN0TGF5b3V0OmZ1bmN0aW9uKCl7dGhpcy5jYWxsUGFyZW50KCk7dGhpcy5mb3JtLmluaXRpYWxpemUoKX0sY3JlYXRlRm9ybTpmdW5jdGlvbigpe3JldHVybiBuZXcgRXh0LmZvcm0uQmFzaWModGhpcyxFeHQuYXBwbHlJZih7bGlzdGVuZXJzOnt9fSx0aGlzLmluaXRpYWxDb25maWcpKX0sZ2V0Rm9ybTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmZvcm19LGxvYWRSZWNvcmQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZ2V0Rm9ybSgpLmxvYWRSZWNvcmQoYSl9LGdldFJlY29yZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmdldEZvcm0oKS5nZXRSZWNvcmQoKX0sZ2V0VmFsdWVzOmZ1bmN0aW9uKGQsYixjLGEpe3JldHVybiB0aGlzLmdldEZvcm0oKS5nZXRWYWx1ZXMoZCxiLGMsYSl9LGJlZm9yZURlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLnN0b3BQb2xsaW5nKCk7dGhpcy5mb3JtLmRlc3Ryb3koKTt0aGlzLmNhbGxQYXJlbnQoKX0sbG9hZDpmdW5jdGlvbihhKXt0aGlzLmZvcm0ubG9hZChhKX0sc3VibWl0OmZ1bmN0aW9uKGEpe3RoaXMuZm9ybS5zdWJtaXQoYSl9LHN0YXJ0UG9sbGluZzpmdW5jdGlvbihiKXt0aGlzLnN0b3BQb2xsaW5nKCk7dmFyIGE9bmV3IEV4dC51dGlsLlRhc2tSdW5uZXIoYik7YS5zdGFydCh7aW50ZXJ2YWw6MCxydW46dGhpcy5jaGVja0NoYW5nZSxzY29wZTp0aGlzfSk7dGhpcy5wb2xsVGFzaz1hfSxzdG9wUG9sbGluZzpmdW5jdGlvbigpe3ZhciBhPXRoaXMucG9sbFRhc2s7aWYoYSl7YS5zdG9wQWxsKCk7ZGVsZXRlIHRoaXMucG9sbFRhc2t9fSxjaGVja0NoYW5nZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZm9ybS5nZXRGaWVsZHMoKS5pdGVtcyxiLGQ9YS5sZW5ndGgsYztmb3IoYj0wO2I8ZDtiKyspe2FbYl0uY2hlY2tDaGFuZ2UoKX19fSk7RXh0LmRlZmluZSgiRXh0LmdyaWQuUm93RWRpdG9yIix7ZXh0ZW5kOiJFeHQuZm9ybS5QYW5lbCIscmVxdWlyZXM6WyJFeHQudGlwLlRvb2xUaXAiLCJFeHQudXRpbC5IYXNoTWFwIiwiRXh0LnV0aWwuS2V5TmF2Il0sc2F2ZUJ0blRleHQ6IlVwZGF0ZSIsY2FuY2VsQnRuVGV4dDoiQ2FuY2VsIixlcnJvcnNUZXh0OiJFcnJvcnMiLGRpcnR5VGV4dDoiWW91IG5lZWQgdG8gY29tbWl0IG9yIGNhbmNlbCB5b3VyIGNoYW5nZXMiLGxhc3RTY3JvbGxMZWZ0OjAsbGFzdFNjcm9sbFRvcDowLGJvcmRlcjpmYWxzZSxoaWRlTW9kZToib2Zmc2V0cyIsaW5pdENvbXBvbmVudDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYTtiLmNscz1FeHQuYmFzZUNTU1ByZWZpeCsiZ3JpZC1yb3ctZWRpdG9yIjtiLmxheW91dD17dHlwZToiaGJveCIsYWxpZ246Im1pZGRsZSJ9O2IuY29sdW1ucz1uZXcgRXh0LnV0aWwuSGFzaE1hcCgpO2IuY29sdW1ucy5nZXRLZXk9ZnVuY3Rpb24oZCl7dmFyIGM7aWYoZC5nZXRFZGl0b3Ipe2M9ZC5nZXRFZGl0b3IoKTtpZihjKXtyZXR1cm4gYy5pZH19cmV0dXJuIGQuaWR9O2IubW9uKGIuY29sdW1ucyx7YWRkOmIub25GaWVsZEFkZCxyZW1vdmU6Yi5vbkZpZWxkUmVtb3ZlLHJlcGxhY2U6Yi5vbkZpZWxkUmVwbGFjZSxzY29wZTpifSk7Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyk7aWYoYi5maWVsZHMpe2Iuc2V0RmllbGQoYi5maWVsZHMpO2RlbGV0ZSBiLmZpZWxkc31hPWIuZ2V0Rm9ybSgpO2EudHJhY2tSZXNldE9uTG9hZD10cnVlfSxvbkZpZWxkQ2hhbmdlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPWMuZ2V0Rm9ybSgpLGE9Yi5pc1ZhbGlkKCk7aWYoYy5lcnJvclN1bW1hcnkmJmMuaXNWaXNpYmxlKCkpe2NbYT8iaGlkZVRvb2xUaXAiOiJzaG93VG9vbFRpcCJdKCl9aWYoYy5mbG9hdGluZ0J1dHRvbnMpe2MuZmxvYXRpbmdCdXR0b25zLmNoaWxkKCIjdXBkYXRlIikuc2V0RGlzYWJsZWQoIWEpfWMuaXNWYWxpZD1hfSxhZnRlclJlbmRlcjpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYT1iLmVkaXRpbmdQbHVnaW47Yi5jYWxsUGFyZW50KGFyZ3VtZW50cyk7Yi5tb24oYi5yZW5kZXJUbywic2Nyb2xsIixiLm9uQ3RTY3JvbGwsYix7YnVmZmVyOjEwMH0pO2IubW9uKGIuZWwse2NsaWNrOkV4dC5lbXB0eUZuLHN0b3BQcm9wYWdhdGlvbjp0cnVlfSk7Yi5lbC5zd2FsbG93RXZlbnQoWyJrZXlwcmVzcyIsImtleWRvd24iXSk7Yi5rZXlOYXY9bmV3IEV4dC51dGlsLktleU5hdihiLmVsLHtlbnRlcjphLmNvbXBsZXRlRWRpdCxlc2M6YS5vbkVzY0tleSxzY29wZTphfSk7Yi5tb24oYS52aWV3LHtiZWZvcmVyZWZyZXNoOmIub25CZWZvcmVWaWV3UmVmcmVzaCxyZWZyZXNoOmIub25WaWV3UmVmcmVzaCxzY29wZTpifSl9LG9uQmVmb3JlVmlld1JlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxhPWIuZWwuZG9tO2lmKGMuZWwuZG9tLnBhcmVudE5vZGU9PT1hKXthLnJlbW92ZUNoaWxkKGMuZWwuZG9tKX19LG9uVmlld1JlZnJlc2g6ZnVuY3Rpb24oYyl7dmFyIGU9dGhpcyxiPWMuZWwuZG9tLGQ9ZS5jb250ZXh0LGE7Yi5hcHBlbmRDaGlsZChlLmVsLmRvbSk7aWYoZCYmKGE9ZC5zdG9yZS5pbmRleE9mKGQucmVjb3JkKSk+PTApe2Qucm93PWMuZ2V0Tm9kZShhKTtlLnJlcG9zaXRpb24oKTtpZihlLnRvb2x0aXAmJmUudG9vbHRpcC5pc1Zpc2libGUoKSl7ZS50b29sdGlwLnNldFRhcmdldChkLnJvdyl9fWVsc2V7ZS5lZGl0aW5nUGx1Z2luLmNhbmNlbEVkaXQoKX19LG9uQ3RTY3JvbGw6ZnVuY3Rpb24oZCxjKXt2YXIgYT10aGlzLGI9Yy5zY3JvbGxUb3AsZz1jLnNjcm9sbExlZnQ7aWYoYiE9PWEubGFzdFNjcm9sbFRvcCl7YS5sYXN0U2Nyb2xsVG9wPWI7aWYoKGEudG9vbHRpcCYmYS50b29sdGlwLmlzVmlzaWJsZSgpKXx8YS5oaWRkZW5UaXApe2EucmVwb3NpdGlvblRpcCgpfX1pZihnIT09YS5sYXN0U2Nyb2xsTGVmdCl7YS5sYXN0U2Nyb2xsTGVmdD1nO2EucmVwb3NpdGlvbigpfX0sb25Db2x1bW5BZGQ6ZnVuY3Rpb24oYSl7aWYoIWEuaXNHcm91cEhlYWRlcil7dGhpcy5zZXRGaWVsZChhKX19LG9uQ29sdW1uUmVtb3ZlOmZ1bmN0aW9uKGEpe3RoaXMuY29sdW1ucy5yZW1vdmUoYSl9LG9uQ29sdW1uUmVzaXplOmZ1bmN0aW9uKGIsYSl7aWYoIWIuaXNHcm91cEhlYWRlcil7Yi5nZXRFZGl0b3IoKS5zZXRXaWR0aChhLTIpO2lmKHRoaXMuaXNWaXNpYmxlKCkpe3RoaXMucmVwb3NpdGlvbigpfX19LG9uQ29sdW1uSGlkZTpmdW5jdGlvbihhKXtpZighYS5pc0dyb3VwSGVhZGVyKXthLmdldEVkaXRvcigpLmhpZGUoKTtpZih0aGlzLmlzVmlzaWJsZSgpKXt0aGlzLnJlcG9zaXRpb24oKX19fSxvbkNvbHVtblNob3c6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRFZGl0b3IoKTtiLnNldFdpZHRoKGEuZ2V0V2lkdGgoKS0yKS5zaG93KCk7aWYodGhpcy5pc1Zpc2libGUoKSl7dGhpcy5yZXBvc2l0aW9uKCl9fSxvbkNvbHVtbk1vdmU6ZnVuY3Rpb24oYixhLGMpe2lmKCFiLmlzR3JvdXBIZWFkZXIpe3ZhciBkPWIuZ2V0RWRpdG9yKCk7aWYodGhpcy5pdGVtcy5pbmRleE9mKGQpIT1jKXt0aGlzLm1vdmUoYSxjKX19fSxvbkZpZWxkQWRkOmZ1bmN0aW9uKGUsYSxiKXt2YXIgYz10aGlzLGcsZDtpZighYi5pc0dyb3VwSGVhZGVyKXtnPWMuZWRpdGluZ1BsdWdpbi5ncmlkLmhlYWRlckN0LmdldEhlYWRlckluZGV4KGIpO2Q9Yi5nZXRFZGl0b3Ioe3h0eXBlOiJkaXNwbGF5ZmllbGQifSk7Yy5pbnNlcnQoZyxkKX19LG9uRmllbGRSZW1vdmU6ZnVuY3Rpb24oZyxhLGIpe3ZhciBjPXRoaXMsZSxkO2lmKCFiLmlzR3JvdXBIZWFkZXIpe2U9Yi5nZXRFZGl0b3IoKTtkPWUuZWw7Yy5yZW1vdmUoZSxmYWxzZSk7aWYoZCl7ZC5yZW1vdmUoKX19fSxvbkZpZWxkUmVwbGFjZTpmdW5jdGlvbihkLGEsYyxiKXt0aGlzLm9uRmllbGRSZW1vdmUoZCxhLGIpfSxjbGVhckZpZWxkczpmdW5jdGlvbigpe3ZhciBiPXRoaXMuY29sdW1ucyxhO2ZvcihhIGluIGIpe2lmKGIuaGFzT3duUHJvcGVydHkoYSkpe2IucmVtb3ZlQXRLZXkoYSl9fX0sZ2V0RmxvYXRpbmdCdXR0b25zOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxlPUV4dC5iYXNlQ1NTUHJlZml4LGM9ZSsiZ3JpZC1yb3ctZWRpdG9yLWJ1dHRvbnMiLGI9ZC5lZGl0aW5nUGx1Z2luLGE7aWYoIWQuZmxvYXRpbmdCdXR0b25zKXthPWQuZmxvYXRpbmdCdXR0b25zPW5ldyBFeHQuQ29udGFpbmVyKHtyZW5kZXJUcGw6Wyc8ZGl2IGNsYXNzPSJ7YmFzZUNsc30tbWwiPjwvZGl2PicsJzxkaXYgY2xhc3M9IntiYXNlQ2xzfS1tciI+PC9kaXY+JywnPGRpdiBjbGFzcz0ie2Jhc2VDbHN9LWJsIj48L2Rpdj4nLCc8ZGl2IGNsYXNzPSJ7YmFzZUNsc30tYnIiPjwvZGl2PicsJzxkaXYgY2xhc3M9IntiYXNlQ2xzfS1iYyI+PC9kaXY+JywieyV0aGlzLnJlbmRlckNvbnRhaW5lcihvdXQsdmFsdWVzKSV9Il0sd2lkdGg6MjAwLHJlbmRlclRvOmQuZWwsYmFzZUNsczpjLGxheW91dDp7dHlwZToiaGJveCIsYWxpZ246Im1pZGRsZSJ9LGRlZmF1bHRzOntmbGV4OjEsbWFyZ2luczoiMCAxIDAgMSJ9LGl0ZW1zOlt7aXRlbUlkOiJ1cGRhdGUiLHh0eXBlOiJidXR0b24iLGhhbmRsZXI6Yi5jb21wbGV0ZUVkaXQsc2NvcGU6Yix0ZXh0OmQuc2F2ZUJ0blRleHQsZGlzYWJsZWQ6IWQuaXNWYWxpZCxtaW5XaWR0aDpFeHQucGFuZWwuUGFuZWwucHJvdG90eXBlLm1pbkJ1dHRvbldpZHRofSx7eHR5cGU6ImJ1dHRvbiIsaGFuZGxlcjpiLmNhbmNlbEVkaXQsc2NvcGU6Yix0ZXh0OmQuY2FuY2VsQnRuVGV4dCxtaW5XaWR0aDpFeHQucGFuZWwuUGFuZWwucHJvdG90eXBlLm1pbkJ1dHRvbldpZHRofV19KTtkLm1vbihhLmVsLHttb3VzZWRvd246RXh0LmVtcHR5Rm4sY2xpY2s6RXh0LmVtcHR5Rm4sc3RvcEV2ZW50OnRydWV9KX1yZXR1cm4gZC5mbG9hdGluZ0J1dHRvbnN9LHJlcG9zaXRpb246ZnVuY3Rpb24ocil7dmFyIHM9dGhpcyxjPXMuY29udGV4dCxlPWMmJkV4dC5nZXQoYy5yb3cpLHA9cy5nZXRGbG9hdGluZ0J1dHRvbnMoKSxxPXAuZWwsYT1zLmVkaXRpbmdQbHVnaW4uZ3JpZCxnPWEudmlldy5lbCxvPWEuaGVhZGVyQ3QuZ2V0RnVsbFdpZHRoKCksdD1hLmdldFdpZHRoKCksbD1NYXRoLm1pbihvLHQpLG49YS52aWV3LmVsLmRvbS5zY3JvbGxMZWZ0LGk9cC5nZXRXaWR0aCgpLGQ9KGwtaSkvMituLGosaCxtLGs9ZnVuY3Rpb24oKXtxLnNjcm9sbEludG9WaWV3KGcsZmFsc2UpO2lmKHImJnIuY2FsbGJhY2spe3IuY2FsbGJhY2suY2FsbChyLnNjb3BlfHxzKX19LGI7aWYoZSYmRXh0LmlzRWxlbWVudChlLmRvbSkpe2Uuc2Nyb2xsSW50b1ZpZXcoZyxmYWxzZSk7aj1lLmdldFhZKClbMV0tNTtoPWUuZ2V0SGVpZ2h0KCk7bT1oKyhzLmVkaXRpbmdQbHVnaW4uZ3JpZC5yb3dMaW5lcz85OjEwKTtpZihzLmdldEhlaWdodCgpIT1tKXtzLnNldEhlaWdodChtKTtzLmVsLnNldExlZnQoMCl9aWYocil7Yj17dG86e3k6an0sZHVyYXRpb246ci5kdXJhdGlvbnx8MTI1LGxpc3RlbmVyczp7YWZ0ZXJhbmltYXRlOmZ1bmN0aW9uKCl7aygpO2o9ZS5nZXRYWSgpWzFdLTV9fX07cy5lbC5hbmltYXRlKGIpfWVsc2V7cy5lbC5zZXRZKGopO2soKX19aWYocy5nZXRXaWR0aCgpIT1vKXtzLnNldFdpZHRoKG8pfXEuc2V0TGVmdChkKX0sZ2V0RWRpdG9yOmZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7aWYoRXh0LmlzTnVtYmVyKGEpKXtyZXR1cm4gYi5xdWVyeSgiPltpc0Zvcm1GaWVsZF0iKVthXX1lbHNle2lmKGEuaXNIZWFkZXImJiFhLmlzR3JvdXBIZWFkZXIpe3JldHVybiBhLmdldEVkaXRvcigpfX19LHJlbW92ZUZpZWxkOmZ1bmN0aW9uKGIpe3ZhciBhPXRoaXM7Yj1hLmdldEVkaXRvcihiKTthLm11bihiLCJ2YWxpZGl0eWNoYW5nZSIsYS5vblZhbGlkaXR5Q2hhbmdlLGEpO2EuY29sdW1ucy5yZW1vdmVBdEtleShiLmlkKTtFeHQuZGVzdHJveShiKX0sc2V0RmllbGQ6ZnVuY3Rpb24oYil7dmFyIGQ9dGhpcyxhLGMsZTtpZihFeHQuaXNBcnJheShiKSl7Yz1iLmxlbmd0aDtmb3IoYT0wO2E8YzthKyspe2Quc2V0RmllbGQoYlthXSl9cmV0dXJufWU9Yi5nZXRFZGl0b3IobnVsbCx7eHR5cGU6ImRpc3BsYXlmaWVsZCIsZ2V0TW9kZWxEYXRhOmZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9fSk7ZS5tYXJnaW5zPSIwIDAgMCAyIjtkLm1vbihlLCJjaGFuZ2UiLGQub25GaWVsZENoYW5nZSxkKTtpZihkLmlzVmlzaWJsZSgpJiZkLmNvbnRleHQpe2lmKGUuaXMoImRpc3BsYXlmaWVsZCIpKXtkLnJlbmRlckNvbHVtbkRhdGEoZSxkLmNvbnRleHQucmVjb3JkLGIpfWVsc2V7ZS5zdXNwZW5kRXZlbnRzKCk7ZS5zZXRWYWx1ZShkLmNvbnRleHQucmVjb3JkLmdldChiLmRhdGFJbmRleCkpO2UucmVzdW1lRXZlbnRzKCl9fWQuY29sdW1ucy5hZGQoZS5pZCxiKTtpZihiLmhpZGRlbil7ZC5vbkNvbHVtbkhpZGUoYil9ZWxzZXtpZihiLnJlbmRlcmVkKXtkLm9uQ29sdW1uU2hvdyhiKX19fSxsb2FkUmVjb3JkOmZ1bmN0aW9uKGIpe3ZhciBqPXRoaXMsaD1qLmdldEZvcm0oKSxhPWguZ2V0RmllbGRzKCksYz1hLml0ZW1zLGc9Yy5sZW5ndGgsZSxkO2ZvcihlPTA7ZTxnO2UrKyl7Y1tlXS5zdXNwZW5kRXZlbnRzKCl9aC5sb2FkUmVjb3JkKGIpO2ZvcihlPTA7ZTxnO2UrKyl7Y1tlXS5yZXN1bWVFdmVudHMoKX1pZihqLmVycm9yU3VtbWFyeSl7aWYoaC5pc1ZhbGlkKCkpe2ouaGlkZVRvb2xUaXAoKX1lbHNle2ouc2hvd1Rvb2xUaXAoKX19ZD1qLnF1ZXJ5KCI+ZGlzcGxheWZpZWxkIik7Zz1kLmxlbmd0aDtmb3IoZT0wO2U8ZztlKyspe2oucmVuZGVyQ29sdW1uRGF0YShkW2VdLGIpfX0scmVuZGVyQ29sdW1uRGF0YTpmdW5jdGlvbihtLGksYyl7dmFyIGs9dGhpcyxhPWsuZWRpdGluZ1BsdWdpbi5ncmlkLGU9YS5oZWFkZXJDdCxsPWEudmlldyxvPWwuc3RvcmUsZz1jfHxrLmNvbHVtbnMuZ2V0KG0uaWQpLG49aS5nZXQoZy5kYXRhSW5kZXgpLGo9Zy5lZGl0UmVuZGVyZXJ8fGcucmVuZGVyZXIsYixkLGg7aWYoail7Yj17dGRDbHM6IiIsc3R5bGU6IiJ9O2Q9by5pbmRleE9mKGkpO2g9ZS5nZXRIZWFkZXJJbmRleChnKTtuPWouY2FsbChnLnNjb3BlfHxlLm93bmVyQ3QsbixiLGksZCxoLG8sbCl9bS5zZXRSYXdWYWx1ZShuKTttLnJlc2V0T3JpZ2luYWxWYWx1ZSgpfSxiZWZvcmVFZGl0OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZihhLmlzVmlzaWJsZSgpJiZhLmVycm9yU3VtbWFyeSYmIWEuYXV0b0NhbmNlbCYmYS5pc0RpcnR5KCkpe2Euc2hvd1Rvb2xUaXAoKTtyZXR1cm4gZmFsc2V9fSxzdGFydEVkaXQ6ZnVuY3Rpb24oYSxnKXt2YXIgZT10aGlzLGQ9ZS5lZGl0aW5nUGx1Z2luLmdyaWQsYj1kLnN0b3JlLGM9ZS5jb250ZXh0PUV4dC5hcHBseShlLmVkaXRpbmdQbHVnaW4uY29udGV4dCx7dmlldzpkLmdldFZpZXcoKSxzdG9yZTpifSk7Yy5ncmlkLmdldFNlbGVjdGlvbk1vZGVsKCkuc2VsZWN0KGEpO2UubG9hZFJlY29yZChhKTtpZighZS5pc1Zpc2libGUoKSl7ZS5zaG93KCk7ZS5mb2N1c0NvbnRleHRDZWxsKCl9ZWxzZXtlLnJlcG9zaXRpb24oe2NhbGxiYWNrOnRoaXMuZm9jdXNDb250ZXh0Q2VsbH0pfX0sZm9jdXNDb250ZXh0Q2VsbDpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZ2V0RWRpdG9yKHRoaXMuY29udGV4dC5jb2xJZHgpO2lmKGEmJmEuZm9jdXMpe2EuZm9jdXMoKX19LGNhbmNlbEVkaXQ6ZnVuY3Rpb24oKXt2YXIgZz10aGlzLGU9Zy5nZXRGb3JtKCksYT1lLmdldEZpZWxkcygpLGI9YS5pdGVtcyxkPWIubGVuZ3RoLGM7Zy5oaWRlKCk7ZS5jbGVhckludmFsaWQoKTtmb3IoYz0wO2M8ZDtjKyspe2JbY10uc3VzcGVuZEV2ZW50cygpfWUucmVzZXQoKTtmb3IoYz0wO2M8ZDtjKyspe2JbY10ucmVzdW1lRXZlbnRzKCl9fSxjb21wbGV0ZUVkaXQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5nZXRGb3JtKCk7aWYoIWEuaXNWYWxpZCgpKXtyZXR1cm59YS51cGRhdGVSZWNvcmQoYi5jb250ZXh0LnJlY29yZCk7Yi5oaWRlKCk7cmV0dXJuIHRydWV9LG9uU2hvdzpmdW5jdGlvbigpe3RoaXMuY2FsbFBhcmVudChhcmd1bWVudHMpO3RoaXMucmVwb3NpdGlvbigpfSxvbkhpZGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuY2FsbFBhcmVudChhcmd1bWVudHMpO2lmKGEudG9vbHRpcCl7YS5oaWRlVG9vbFRpcCgpfWlmKGEuY29udGV4dCl7YS5jb250ZXh0LnZpZXcuZm9jdXMoKTthLmNvbnRleHQ9bnVsbH19LGlzRGlydHk6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGE9Yi5nZXRGb3JtKCk7cmV0dXJuIGEuaXNEaXJ0eSgpfSxnZXRUb29sVGlwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudG9vbHRpcHx8KHRoaXMudG9vbHRpcD1uZXcgRXh0LnRpcC5Ub29sVGlwKHtjbHM6RXh0LmJhc2VDU1NQcmVmaXgrImdyaWQtcm93LWVkaXRvci1lcnJvcnMiLHRpdGxlOnRoaXMuZXJyb3JzVGV4dCxhdXRvSGlkZTpmYWxzZSxjbG9zYWJsZTp0cnVlLGNsb3NlQWN0aW9uOiJkaXNhYmxlIixhbmNob3I6ImxlZnQifSkpfSxoaWRlVG9vbFRpcDpmdW5jdGlvbigpe3ZhciBhPXRoaXMsYj1hLmdldFRvb2xUaXAoKTtpZihiLnJlbmRlcmVkKXtiLmRpc2FibGUoKX1hLmhpZGRlblRpcD1mYWxzZX0sc2hvd1Rvb2xUaXA6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGQ9Yy5nZXRUb29sVGlwKCksYT1jLmNvbnRleHQsZT1FeHQuZ2V0KGEucm93KSxiPWEuZ3JpZC52aWV3LmVsO2Quc2V0VGFyZ2V0KGUpO2Quc2hvd0F0KFstMTAwMDAsLTEwMDAwXSk7ZC51cGRhdGUoYy5nZXRFcnJvcnMoKSk7ZC5tb3VzZU9mZnNldD1bYi5nZXRXaWR0aCgpLWUuZ2V0V2lkdGgoKStjLmxhc3RTY3JvbGxMZWZ0KzE1LDBdO2MucmVwb3NpdGlvblRpcCgpO2QuZG9MYXlvdXQoKTtkLmVuYWJsZSgpfSxyZXBvc2l0aW9uVGlwOmZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxqPWkuZ2V0VG9vbFRpcCgpLGM9aS5jb250ZXh0LGw9RXh0LmdldChjLnJvdyksaz1jLmdyaWQudmlldy5lbCxlPWsuZ2V0SGVpZ2h0KCksZz1pLmxhc3RTY3JvbGxUb3AsaD1nK2UsYj1sLmdldEhlaWdodCgpLGE9bC5kb20ub2Zmc2V0VG9wLGQ9YStiO2lmKGQ+ZyYmYTxoKXtqLnNob3coKTtpLmhpZGRlblRpcD1mYWxzZX1lbHNle2ouaGlkZSgpO2kuaGlkZGVuVGlwPXRydWV9fSxnZXRFcnJvcnM6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGU9IWQuYXV0b0NhbmNlbCYmZC5pc0RpcnR5KCk/ZC5kaXJ0eVRleHQrIjxiciAvPiI6IiIsaD1bXSxhPWQucXVlcnkoIj5baXNGb3JtRmllbGRdIiksYz1hLmxlbmd0aCxiO2Z1bmN0aW9uIGcoaSl7cmV0dXJuIjxsaT4iK2krIjwvbGk+In1mb3IoYj0wO2I8YztiKyspe2g9aC5jb25jYXQoRXh0LkFycmF5Lm1hcChhW2JdLmdldEVycm9ycygpLGcpKX1yZXR1cm4gZSsiPHVsPiIraC5qb2luKCIiKSsiPC91bD4ifSxiZWZvcmVEZXN0cm95OmZ1bmN0aW9uKCl7RXh0LmRlc3Ryb3kodGhpcy5mbG9hdGluZ0J1dHRvbnMsdGhpcy50b29sdGlwKTt0aGlzLmNhbGxQYXJlbnQoKX19KTtFeHQuZGVmaW5lKCJFeHQuZ3JpZC5wbHVnaW4uUm93RWRpdGluZyIse2V4dGVuZDoiRXh0LmdyaWQucGx1Z2luLkVkaXRpbmciLGFsaWFzOiJwbHVnaW4ucm93ZWRpdGluZyIscmVxdWlyZXM6WyJFeHQuZ3JpZC5Sb3dFZGl0b3IiXSxlZGl0U3R5bGU6InJvdyIsYXV0b0NhbmNlbDp0cnVlLGVycm9yU3VtbWFyeTp0cnVlLGNvbnN0cnVjdG9yOmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZighYS5jbGlja3NUb01vdmVFZGl0b3Ipe2EuY2xpY2tzVG9Nb3ZlRWRpdG9yPWEuY2xpY2tzVG9FZGl0fWEuYXV0b0NhbmNlbD0hIWEuYXV0b0NhbmNlbH0saW5pdDpmdW5jdGlvbihhKXt0aGlzLmNhbGxQYXJlbnQoW2FdKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7RXh0LmRlc3Ryb3koYS5lZGl0b3IpO2EuY2FsbFBhcmVudChhcmd1bWVudHMpfSxzdGFydEVkaXQ6ZnVuY3Rpb24oYSxkKXt2YXIgYz10aGlzLGI9Yy5nZXRFZGl0b3IoKTtpZigoYy5jYWxsUGFyZW50KGFyZ3VtZW50cykhPT1mYWxzZSkmJihiLmJlZm9yZUVkaXQoKSE9PWZhbHNlKSl7Yi5zdGFydEVkaXQoYy5jb250ZXh0LnJlY29yZCxjLmNvbnRleHQuY29sdW1uKTtyZXR1cm4gdHJ1ZX1yZXR1cm4gZmFsc2V9LGNhbmNlbEVkaXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuZWRpdGluZyl7YS5nZXRFZGl0b3IoKS5jYW5jZWxFZGl0KCk7YS5jYWxsUGFyZW50KGFyZ3VtZW50cyl9fSxjb21wbGV0ZUVkaXQ6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuZWRpdGluZyYmYS52YWxpZGF0ZUVkaXQoKSl7YS5lZGl0aW5nPWZhbHNlO2EuZmlyZUV2ZW50KCJlZGl0IixhLGEuY29udGV4dCl9fSx2YWxpZGF0ZUVkaXQ6ZnVuY3Rpb24oKXt2YXIgaz10aGlzLGg9ay5lZGl0b3IsYj1rLmNvbnRleHQsZz1iLnJlY29yZCxtPXt9LGQ9e30saj1oLml0ZW1zLml0ZW1zLGksYz1qLmxlbmd0aCxhLGw7Zm9yKGk9MDtpPGM7aSsrKXtsPWpbaV07YT1sLm5hbWU7bVthXT1sLmdldFZhbHVlKCk7ZFthXT1nLmdldChhKX1FeHQuYXBwbHkoYix7bmV3VmFsdWVzOm0sb3JpZ2luYWxWYWx1ZXM6ZH0pO3JldHVybiBrLmNhbGxQYXJlbnQoYXJndW1lbnRzKSYmay5nZXRFZGl0b3IoKS5jb21wbGV0ZUVkaXQoKX0sZ2V0RWRpdG9yOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztpZighYS5lZGl0b3Ipe2EuZWRpdG9yPWEuaW5pdEVkaXRvcigpfXJldHVybiBhLmVkaXRvcn0saW5pdEVkaXRvcjpmdW5jdGlvbigpe3ZhciBoPXRoaXMsYz1oLmdyaWQsaT1oLnZpZXcsZD1jLmhlYWRlckN0LGU9WyJzYXZlQnRuVGV4dCIsImNhbmNlbEJ0blRleHQiLCJlcnJvcnNUZXh0IiwiZGlydHlUZXh0Il0saixhPWUubGVuZ3RoLGc9e2F1dG9DYW5jZWw6aC5hdXRvQ2FuY2VsLGVycm9yU3VtbWFyeTpoLmVycm9yU3VtbWFyeSxmaWVsZHM6ZC5nZXRHcmlkQ29sdW1ucygpLGhpZGRlbjp0cnVlLGVkaXRpbmdQbHVnaW46aCxyZW5kZXJUbzppLmVsfSxrO2ZvcihqPTA7ajxhO2orKyl7az1lW2pdO2lmKEV4dC5pc0RlZmluZWQoaFtrXSkpe2dba109aFtrXX19cmV0dXJuIEV4dC5jcmVhdGUoIkV4dC5ncmlkLlJvd0VkaXRvciIsZyl9LGluaXRFZGl0VHJpZ2dlcnM6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLGI9YS5jbGlja3NUb01vdmVFZGl0b3I9PT0xPyJjbGljayI6ImRibGNsaWNrIjthLmNhbGxQYXJlbnQoYXJndW1lbnRzKTtpZihhLmNsaWNrc1RvTW92ZUVkaXRvciE9PWEuY2xpY2tzVG9FZGl0KXthLm1vbihhLnZpZXcsImNlbGwiK2IsYS5tb3ZlRWRpdG9yQnlDbGljayxhKX19LGFkZEhlYWRlckV2ZW50czpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5jYWxsUGFyZW50KCk7YS5tb24oYS5ncmlkLmhlYWRlckN0LHtzY29wZTphLGNvbHVtbnJlc2l6ZTphLm9uQ29sdW1uUmVzaXplLGNvbHVtbmhpZGU6YS5vbkNvbHVtbkhpZGUsY29sdW1uc2hvdzphLm9uQ29sdW1uU2hvdyxjb2x1bW5tb3ZlOmEub25Db2x1bW5Nb3ZlfSl9LHN0YXJ0RWRpdEJ5Q2xpY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKCFhLmVkaXRpbmd8fGEuY2xpY2tzVG9Nb3ZlRWRpdG9yPT09YS5jbGlja3NUb0VkaXQpe2EuY2FsbFBhcmVudChhcmd1bWVudHMpfX0sbW92ZUVkaXRvckJ5Q2xpY2s6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2lmKGEuZWRpdGluZyl7YS5zdXBlcmNsYXNzLm9uQ2VsbENsaWNrLmFwcGx5KGEsYXJndW1lbnRzKX19LG9uQ29sdW1uQWRkOmZ1bmN0aW9uKGEsYyl7aWYoYy5pc0hlYWRlcil7dmFyIGQ9dGhpcyxiO2QuaW5pdEZpZWxkQWNjZXNzb3JzKGMpO2I9ZC5lZGl0b3I7aWYoYiYmYi5vbkNvbHVtbkFkZCl7Yi5vbkNvbHVtbkFkZChjKX19fSxvbkNvbHVtblJlbW92ZTpmdW5jdGlvbihhLGMpe2lmKGMuaXNIZWFkZXIpe3ZhciBkPXRoaXMsYj1kLmdldEVkaXRvcigpO2lmKGImJmIub25Db2x1bW5SZW1vdmUpe2Iub25Db2x1bW5SZW1vdmUoYyl9ZC5yZW1vdmVGaWVsZEFjY2Vzc29ycyhjKX19LG9uQ29sdW1uUmVzaXplOmZ1bmN0aW9uKGEsZCxjKXtpZihkLmlzSGVhZGVyKXt2YXIgZT10aGlzLGI9ZS5nZXRFZGl0b3IoKTtpZihiJiZiLm9uQ29sdW1uUmVzaXplKXtiLm9uQ29sdW1uUmVzaXplKGQsYyl9fX0sb25Db2x1bW5IaWRlOmZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcyxiPWQuZ2V0RWRpdG9yKCk7aWYoYiYmYi5vbkNvbHVtbkhpZGUpe2Iub25Db2x1bW5IaWRlKGMpfX0sb25Db2x1bW5TaG93OmZ1bmN0aW9uKGEsYyl7dmFyIGQ9dGhpcyxiPWQuZ2V0RWRpdG9yKCk7aWYoYiYmYi5vbkNvbHVtblNob3cpe2Iub25Db2x1bW5TaG93KGMpfX0sb25Db2x1bW5Nb3ZlOmZ1bmN0aW9uKGEsZCxjLGcpe3ZhciBlPXRoaXMsYj1lLmdldEVkaXRvcigpO2lmKGImJmIub25Db2x1bW5Nb3ZlKXtiLm9uQ29sdW1uTW92ZShkLGMsZyl9fSxzZXRDb2x1bW5GaWVsZDpmdW5jdGlvbihiLGQpe3ZhciBjPXRoaXMsYT1jLmdldEVkaXRvcigpO2EucmVtb3ZlRmllbGQoYik7Yy5jYWxsUGFyZW50KGFyZ3VtZW50cyk7Yy5nZXRFZGl0b3IoKS5zZXRGaWVsZChiKX19KTtFeHQuX2VuZFRpbWU9bmV3IERhdGUoKS5nZXRUaW1lKCk7aWYoRXh0Ll9iZWZvcmVyZWFkeWhhbmRsZXIpe0V4dC5fYmVmb3JlcmVhZHloYW5kbGVyKCl9Ow==</ActualData>
          </HTTPData>
        </HTTPDataSet>
        <IsExternalData>false</IsExternalData>
      </HTTPBody>
    </HTTPResponse>
  </HTTPTask>
</HTTPSnapshot>